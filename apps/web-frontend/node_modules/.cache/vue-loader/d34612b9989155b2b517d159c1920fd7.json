{"remainingRequest":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/components/ImageFolder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/components/ImageFolder.vue","mtime":1752213196000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js","mtime":1707125450000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSW1hZ2VGb2xkZXInLAogIHByb3BzOiB7CiAgICBpbWFnZURhdGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIGltYWdlTmFtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgZm9sZGVyU2VsZWN0OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgZm9sZGVySW5kZXg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwCiAgICB9LAogICAgRGVsZXRlQnRuU2VsZWN0OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgUG9zaXRpb25Ub3A6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIFBvc2l0aW9uTGVmdDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNTaG93OiB0cnVlLAoKICAgICAgZm9sZGVyT3BlbjogZmFsc2UsCgogICAgICBwcmVzc1RpbWVyOiBudWxsLAogICAgICBsb25nUHJlc3NUaHJlc2hvbGQ6IDEwMDAsCiAgICAgIGlzTG9uZ1ByZXNzOiBmYWxzZSwgLy8g5qCH6K6w5piv5ZCm5Li66ZW/5oyJCiAgICAgIFByZXNzU3RhcnQ6IGZhbHNlLAogICAgICBjYW5DbGljazogdHJ1ZSwKCiAgICAgIEltYWdlRmlsZXM6WwoKICAgICAgXSwKCiAgICAgIEN1cnJlbnRGb2xkZXJUeXBlOiAnJywKCiAgICAgIFNlbGVjdEZpbGVzTmFtZTogJycsCiAgICAgIFNlbGVjdEZpbGVzSW5kZXg6IDAsCgogICAgICBGaWxlc1ByZXNzVGltZXI6IG51bGwsCiAgICAgIGlzRmlsZXNMb25nUHJlc3M6IGZhbHNlLAoKICAgICAgTGFzdEltYWdlRmlsZXNMaXN0OiAnJywKCiAgICAgIERlbGV0ZUJ0bkV4cGFuZDogZmFsc2UsCiAgICAgIGRlZmF1bHRTaG93OiBmYWxzZSwKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy4kYnVzLiRvbignY3VycmVudEZvbGRlclR5cGUnLCB0aGlzLkdldEltYWdlRmlsZXMpOwogICAgdGhpcy4kYnVzLiRvbignSW1hZ2VGaWxlc05hbWUnLCB0aGlzLkltYWdlRmlsZXNOYW1lKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN0YXJ0UHJlc3MoKSB7CiAgICAgIHRoaXMuaXNMb25nUHJlc3MgPSBmYWxzZTsgLy8g6YeN572u6ZW/5oyJ5qCH6K6wCiAgICAgIGlmKCF0aGlzLmZvbGRlck9wZW4pIHsKICAgICAgICB0aGlzLlByZXNzU3RhcnQgPSB0cnVlOwogICAgICB9CiAgICAgIHRoaXMucHJlc3NUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuUHJlc3NTdGFydCA9IGZhbHNlOwogICAgICAgIHRoaXMuaXNMb25nUHJlc3MgPSB0cnVlOyAvLyDmoIforrDkuLrplb/mjIkKICAgICAgICB0aGlzLmhhbmRsZUxvbmdQcmVzcygpOwogICAgICB9LCB0aGlzLmxvbmdQcmVzc1RocmVzaG9sZCk7CiAgICB9LAogICAgCiAgICBlbmRQcmVzcygpIHsKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucHJlc3NUaW1lcik7IC8vIOa4hemZpOWumuaXtuWZqAogICAgICB0aGlzLlByZXNzU3RhcnQgPSBmYWxzZTsKICAgICAgaWYgKCF0aGlzLmlzTG9uZ1ByZXNzKSB7CiAgICAgICAgdGhpcy5oYW5kbGVDbGljaygpOyAvLyDlpoLmnpzkuI3mmK/plb/mjInvvIzliJnop6blj5Hngrnlh7vkuovku7YKICAgICAgfQogICAgICB0aGlzLnByZXNzVGltZXIgPSBudWxsOyAvLyDph43nva7lrprml7blmagKICAgIH0sCgogICAgaGFuZGxlQ2xpY2soKSB7CiAgICAgIGlmICghdGhpcy5jYW5DbGljaykgcmV0dXJuOyAvLyDlpoLmnpzkuI3lj6/ngrnlh7vvvIznm7TmjqXov5Tlm54KICAgICAgdGhpcy5jYW5DbGljayA9IGZhbHNlOyAvLyDorr7nva7kuLrkuI3lj6/ngrnlh7sKICAgICAgLy8gY29uc29sZS5sb2coIkJ1dHRvbiBjbGlja2VkIik7CgogICAgICAvLyDkv67mlLnvvJrljZXngrnmiZPlvIDmlofku7blpLkKICAgICAgaWYoIXRoaXMuZm9sZGVyT3BlbikgewogICAgICAgIHRoaXMuZm9sZGVyT3BlbiA9IHRydWU7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdJbWFnZUZvbGRlck9wZW4nLCAndHJ1ZScpOwogICAgICB9CgogICAgICAvLyDmgaLlpI3ngrnlh7vmnYPpmZAKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5jYW5DbGljayA9IHRydWU7CiAgICAgIH0sIDEwMCk7CiAgICB9LAoKICAgIGhhbmRsZUxvbmdQcmVzcygpIHsKICAgICAgLy8g5L+u5pS577ya6ZW/5oyJ6YCJ5oup5paH5Lu25aS5CiAgICAgIGlmKCF0aGlzLmZvbGRlck9wZW4pIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ1NlbGVjdEZvbGRlckluZGV4JywgdGhpcy5mb2xkZXJJbmRleCk7CiAgICAgIH0KICAgIH0sCgogICAgc3RhcnRGaWxlc1ByZXNzKGluZGV4LCBGaWxlc05hbWUpIHsKICAgICAgdGhpcy5pc0ZpbGVzTG9uZ1ByZXNzID0gZmFsc2U7CiAgICAgIHRoaXMuU2VsZWN0RmlsZXNJbmRleCA9IGluZGV4OwogICAgICB0aGlzLkltYWdlRmlsZXNbaW5kZXhdLkZpbGVzUHJlc3NTdGFydCA9IHRydWU7CiAgICAgIHRoaXMuU2VsZWN0RmlsZXNOYW1lID0gRmlsZXNOYW1lOwogICAgICB0aGlzLkZpbGVzUHJlc3NUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuaXNGaWxlc0xvbmdQcmVzcyA9IHRydWU7CiAgICAgICAgdGhpcy5JbWFnZUZpbGVzW3RoaXMuU2VsZWN0RmlsZXNJbmRleF0uRmlsZXNQcmVzc1N0YXJ0ID0gZmFsc2U7CiAgICAgICAgdGhpcy5oYW5kbGVGaWxlc0xvbmdQcmVzcygpOwogICAgICB9LCB0aGlzLmxvbmdQcmVzc1RocmVzaG9sZCk7CiAgICB9LAogICAgCiAgICBlbmRGaWxlc1ByZXNzKCkgewogICAgICBjbGVhclRpbWVvdXQodGhpcy5GaWxlc1ByZXNzVGltZXIpOwogICAgICB0aGlzLkltYWdlRmlsZXNbdGhpcy5TZWxlY3RGaWxlc0luZGV4XS5GaWxlc1ByZXNzU3RhcnQgPSBmYWxzZTsKICAgICAgaWYgKCF0aGlzLmlzRmlsZXNMb25nUHJlc3MpIHsKICAgICAgICB0aGlzLmhhbmRsZUZpbGVzQ2xpY2soKTsKICAgICAgfQogICAgICB0aGlzLkZpbGVzUHJlc3NUaW1lciA9IG51bGw7CiAgICB9LAoKICAgIGhhbmRsZUZpbGVzQ2xpY2soKSB7CiAgICAgIGlmICghdGhpcy5jYW5DbGljaykgcmV0dXJuOwogICAgICB0aGlzLmNhbkNsaWNrID0gZmFsc2U7CgogICAgICAvLyDkv67mlLnvvJrljZXngrnmiZPlvIDmlofku7YKICAgICAgY29uc29sZS5sb2coJ0NsaWNrIHRvIE9wZW4gRmlsZTonLCB0aGlzLlNlbGVjdEZpbGVzTmFtZSk7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5JbWFnZUZpbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdGhpcy5JbWFnZUZpbGVzW2ldLmlzT3BlbiA9IGZhbHNlOwogICAgICB9CiAgICAgIHRoaXMuSW1hZ2VGaWxlc1t0aGlzLlNlbGVjdEZpbGVzSW5kZXhdLmlzT3BlbiA9IHRydWU7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnUmVhZEltYWdlRmlsZTonICsgdGhpcy5DdXJyZW50Rm9sZGVyVHlwZSArICcvJyArIHRoaXMuaW1hZ2VEYXRlICsgdGhpcy5pbWFnZU5hbWUgKyAnLycgKyB0aGlzLlNlbGVjdEZpbGVzTmFtZSk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU2VuZENvbnNvbGVMb2dNc2cnLCAnUmVhZCBJbWFnZSBGaWxlOicgKyB0aGlzLkN1cnJlbnRGb2xkZXJUeXBlICsgJy8nICsgdGhpcy5pbWFnZURhdGUgKyB0aGlzLmltYWdlTmFtZSArICcvJyArIHRoaXMuU2VsZWN0RmlsZXNOYW1lLCAnaW5mbycpOwoKICAgICAgLy8g5oGi5aSN54K55Ye75p2D6ZmQCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuY2FuQ2xpY2sgPSB0cnVlOwogICAgICB9LCAxMDApOwogICAgfSwKCiAgICBoYW5kbGVGaWxlc0xvbmdQcmVzcygpIHsKICAgICAgLy8g5L+u5pS577ya6ZW/5oyJ6YCJ5oup5paH5Lu2CiAgICAgIGNvbnNvbGUubG9nKCdMb25nUHJlc3MgdG8gU2VsZWN0IEZpbGU6JywgdGhpcy5TZWxlY3RGaWxlc05hbWUpOwogICAgICB0aGlzLkltYWdlRmlsZXNbdGhpcy5TZWxlY3RGaWxlc0luZGV4XS5pc1NlbGVjdCA9ICF0aGlzLkltYWdlRmlsZXNbdGhpcy5TZWxlY3RGaWxlc0luZGV4XS5pc1NlbGVjdDsKICAgIH0sCgogICAgdG9nZ2xlRm9sZGVyKCkgewogICAgICAvLyDov5nkuKrmlrnms5XnjrDlnKjkuI3lho3ooqsgaGFuZGxlQ2xpY2sg6LCD55So77yM5L2G5L+d55WZ57uZ5YW25LuW5Y+v6IO955qE55So6YCUCiAgICAgIGlmKCF0aGlzLmZvbGRlck9wZW4pIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ1NlbGVjdEZvbGRlckluZGV4JywgdGhpcy5mb2xkZXJJbmRleCk7CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVTaG93KHNob3cpIHsKICAgICAgdGhpcy5pc1Nob3cgPSBzaG93OwogICAgfSwKICAgIHVwZGF0ZURhdGEoaW1hZ2VEYXRlLCBpbWFnZU5hbWUpIHsKICAgICAgdGhpcy5pbWFnZURhdGUgPSBpbWFnZURhdGU7CiAgICAgIHRoaXMuaW1hZ2VOYW1lID0gaW1hZ2VOYW1lOwogICAgfSwKCiAgICBHZXRJbWFnZUZpbGVzKHR5cGUpIHsKICAgICAgdGhpcy5DdXJyZW50Rm9sZGVyVHlwZSA9IHR5cGU7CiAgICAgIGlmKHRoaXMuZm9sZGVyT3BlbikgewogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnR2V0SW1hZ2VGaWxlczonICsgdHlwZSArICcvJyArIHRoaXMuaW1hZ2VEYXRlICsgdGhpcy5pbWFnZU5hbWUpOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU2VuZENvbnNvbGVMb2dNc2cnLCAnR2V0IEltYWdlIEZpbGVzOicgKyB0eXBlICsgJy8nICsgdGhpcy5pbWFnZURhdGUgKyB0aGlzLmltYWdlTmFtZSwgJ2luZm8nKTsKICAgICAgfQogICAgfSwKCiAgICBJbWFnZUZpbGVzTmFtZShGaWxlTGlzdCkgewogICAgICBpZih0aGlzLmZvbGRlck9wZW4pIHsKICAgICAgICBpZih0aGlzLkxhc3RJbWFnZUZpbGVzTGlzdCAhPSBGaWxlTGlzdCkgewogICAgICAgICAgdGhpcy5MYXN0SW1hZ2VGaWxlc0xpc3QgPSBGaWxlTGlzdDsKICAgICAgICAgIGNvbnN0IEZpbGUgPSBGaWxlTGlzdC5zcGxpdCgnOycpOwogICAgICAgICAgY29uc29sZS5sb2coJ0ZpbGVOdW06JywgRmlsZS5sZW5ndGgtMSk7CgogICAgICAgICAgdGhpcy5JbWFnZUZpbGVzID0gW107CiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IEZpbGUubGVuZ3RoLTE7IGkrKykgewogICAgICAgICAgICBjb25zb2xlLmxvZygnRmlsZVsnLGksJ10nLEZpbGVbaV0pOwogICAgICAgICAgICB0aGlzLkltYWdlRmlsZXMucHVzaCh7aW1hZ2VOYW1lOiBGaWxlW2ldLCBpc1NlbGVjdDogZmFsc2UsIEZpbGVzUHJlc3NTdGFydDogZmFsc2UsIGlzT3BlbjogZmFsc2V9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgY2xvc2VGb2xkZXIoKSB7CiAgICAgIHRoaXMuZm9sZGVyT3BlbiA9IGZhbHNlOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0ltYWdlRm9sZGVyT3BlbicsICdmYWxzZScpOwogICAgfSwKCiAgICBEZWxldGVCdG5DbGljaygpIHsKICAgICAgaWYodGhpcy5pc0FueVNlbGVjdGVkKSB7CiAgICAgICAgaWYodGhpcy5EZWxldGVCdG5FeHBhbmQpIHsKICAgICAgICAgIHRoaXMuRGVsZXRlQnRuRXhwYW5kID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuRGVsZXRlQnRuRXhwYW5kID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuZGVmYXVsdFNob3cgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZygnTicpOwogICAgICB9CiAgICB9LAoKICAgIERlbGV0ZUltYWdlRmlsZXMoKSB7CiAgICAgIHRoaXMuRGVsZXRlQnRuRXhwYW5kID0gZmFsc2U7CiAgICAgIGNvbnN0IGRlbGV0ZWRJbWFnZUZpbGVzID0gdGhpcy5JbWFnZUZpbGVzLmZpbHRlcihGaWxlID0+IEZpbGUuaXNTZWxlY3QpOwogICAgICBjb25zdCByZXN1bHRTdHJpbmcgPSB0aGlzLmNvbnZlcnRJbWFnZURhdGFUb1N0cmluZyhkZWxldGVkSW1hZ2VGaWxlcykKICAgICAgLy8gdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdSZWFkSW1hZ2VGaWxlOicgKyB0aGlzLkN1cnJlbnRGb2xkZXJUeXBlICsgJy8nICsgdGhpcy5pbWFnZURhdGUgKyB0aGlzLmltYWdlTmFtZSArICcvJyArIHRoaXMuU2VsZWN0RmlsZXNOYW1lKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdEZWxldGVGaWxlOicrdGhpcy5DdXJyZW50Rm9sZGVyVHlwZStyZXN1bHRTdHJpbmcpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ1NlbmRDb25zb2xlTG9nTXNnJywgJ0RlbGV0ZSBGaWxlOicrdGhpcy5DdXJyZW50Rm9sZGVyVHlwZStyZXN1bHRTdHJpbmcsICdpbmZvJyk7CiAgICAgIHRoaXMuSW1hZ2VGaWxlcyA9IHRoaXMuSW1hZ2VGaWxlcy5maWx0ZXIoRmlsZSA9PiAhRmlsZS5pc1NlbGVjdCk7CiAgICB9LAoKICAgIGNvbnZlcnRJbWFnZURhdGFUb1N0cmluZyhpbWFnZURhdGFBcnJheSkgewogICAgICBsZXQgcmVzdWx0U3RyaW5nID0gJ3snOwoKICAgICAgaW1hZ2VEYXRhQXJyYXkuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICBjb25zdCBmaWxlbmFtZSA9IGl0ZW0uaW1hZ2VOYW1lOwogICAgICAgIHJlc3VsdFN0cmluZyArPSBgJHt0aGlzLmltYWdlRGF0ZSArIHRoaXMuaW1hZ2VOYW1lfS8ke2ZpbGVuYW1lfTtgOwogICAgICB9KTsKCiAgICAgIHJlc3VsdFN0cmluZyArPSAnfSc7CgogICAgICByZXR1cm4gcmVzdWx0U3RyaW5nOwogICAgfSwKCiAgICBoYW5kbGVPdXRzaWRlQ2xpY2soZXZlbnQpIHsKICAgICAgY29uc3QgZm9sZGVyRWxlbWVudCA9IHRoaXMuJHJlZnMuZm9sZGVyOyAvLyDojrflj5bnu4Tku7bnmoQgRE9NIOWFg+e0oAogICAgICBpZiAoZm9sZGVyRWxlbWVudCAmJiAhZm9sZGVyRWxlbWVudC5jb250YWlucyhldmVudC50YXJnZXQpKSB7CiAgICAgICAgLy8g5aaC5p6c54K55Ye75Y+R55Sf5Zyo57uE5Lu25aSW6YOo77yM5YWz6Zet5paH5Lu25aS5CiAgICAgICAgaWYodGhpcy5mb2xkZXJPcGVuKSB7CiAgICAgICAgICB0aGlzLmNsb3NlRm9sZGVyKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIGRpc3BsYXllZEl0ZW1zKCkgewogICAgICByZXR1cm4gdGhpcy5JbWFnZUZpbGVzOwogICAgfSwKICAgIGlzQW55U2VsZWN0ZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLkltYWdlRmlsZXMuc29tZShmaWxlID0+IGZpbGUuaXNTZWxlY3QpOwogICAgfSwKICB9LAoKICBtb3VudGVkKCkgewogICAgLy8g5Zyo57uE5Lu25oyC6L295pe25re75Yqg5LqL5Lu255uR5ZCs5ZmoCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmhhbmRsZU91dHNpZGVDbGljayk7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2spOwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZU91dHNpZGVDbGljayk7CiAgfSwKCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIC8vIOWcqOe7hOS7tumUgOavgeaXtuenu+mZpOS6i+S7tuebkeWQrOWZqAogICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2spOwogICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuaGFuZGxlT3V0c2lkZUNsaWNrKTsKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2spOwogIH0KfQo="},{"version":3,"sources":["ImageFolder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImageFolder.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <transition name=\"folder-transition\">\n    <div\n      :class=\"{ 'ImageFolder': !folderSelect, 'ImageFolder-select': folderSelect, 'ImageFolder-Deleted': folderSelect && DeleteBtnSelect, 'ImageFolder-Open': folderOpen, 'ImageFolder-Pressing': PressStart }\"\n      :style=\"{ top: folderOpen? '10px':PositionTop, left: folderOpen? '50%':PositionLeft }\" @mousedown=\"startPress\"\n      @mouseup=\"endPress\" @touchstart=\"startPress\" @touchend=\"endPress\" v-show=\"isShow\" ref=\"folder\" @click.stop>\n\n      <div v-show=\"!folderOpen\" class=\"no-select\" style=\"display: flex; justify-content: center; align-items: center;\">\n        <img src=\"@/assets/images/svg/ui/folder.svg\" height=\"80px\"\n          style=\"min-height: 80px; pointer-events: none;\"></img>\n      </div>\n\n      <span class=\"image-data\"\n        style=\"position: absolute; top: 10px; left: 8px; color: rgba(255, 255, 255, 0.7); user-select: none; pointer-events: none;\">\n        {{imageDate}}\n      </span>\n\n      <span v-show=\"!folderOpen\" class=\"image-name\"\n        style=\"position: absolute; top: 35px; left: 8px; color: rgba(255, 255, 255, 0.7); user-select: none; pointer-events: none;\">\n        {{imageName}}\n      </span>\n\n      <div v-show=\"folderOpen\" class=\"image-file-list\">\n        <div v-for=\"(file, index) in displayedItems\" :key=\"index\" @mousedown=\"startFilesPress(index, file.imageName)\"\n          @mouseup=\"endFilesPress\" @touchstart=\"startFilesPress(index, file.imageName)\" @touchend=\"endFilesPress\"\n          :class=\"{ 'image-file-item': !file.isSelect, 'image-file-item-select': file.isSelect, 'ImageFolder-Pressing': file.FilesPressStart, 'image-file-item-open': file.isOpen }\">\n          <span class=\"image-file-name\">{{ file.imageName }}</span>\n        </div>\n      </div>\n\n      <span v-show=\"folderOpen && (defaultShow || DeleteBtnExpand)\" class=\"custom-button no-select\" :class=\"{ 'DeleteTips-show': DeleteBtnExpand, 'DeleteTips-hide': !DeleteBtnExpand }\"> Confirm deletion? </span>\n\n      <button v-show=\"folderOpen && (defaultShow || DeleteBtnExpand)\" class=\"custom-button btn-SureDelete no-select\" :class=\"{ 'btn-SureDelete-show': DeleteBtnExpand, 'btn-SureDelete-hide': !DeleteBtnExpand }\" @click=\"DeleteImageFiles\"> \n        <v-icon color=\"rgba(255, 0, 0)\"> mdi-check-circle-outline </v-icon>\n      </button>\n\n      <button v-show=\"folderOpen\" class=\"custom-button btn-Delete no-select\" @click=\"DeleteBtnClick\">\n        <span v-if=\"DeleteBtnExpand === false\">\n          <div style=\"display: flex; justify-content: center; align-items: center;\">\n            <img src=\"@/assets/images/svg/ui/delete.svg\" height=\"20px\" style=\"min-height: 20px; pointer-events: none;\"></img>\n          </div>\n        </span>\n        <span v-if=\"DeleteBtnExpand === true\">\n          <v-icon color=\"rgba(75, 155, 250)\"> mdi-close-circle-outline </v-icon>\n        </span>\n      </button>\n\n\n    </div>\n  </transition>\n</template>\n\n<script>\nexport default {\n  name: 'ImageFolder',\n  props: {\n    imageDate: {\n      type: String,\n      default: ''\n    },\n    imageName: {\n      type: String,\n      default: ''\n    },\n    folderSelect: {\n      type: Boolean,\n      default: false\n    },\n    folderIndex: {\n      type: Number,\n      default: 0\n    },\n    DeleteBtnSelect: {\n      type: Boolean,\n      default: false\n    },\n    PositionTop: {\n      type: String,\n      default: ''\n    },\n    PositionLeft: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      isShow: true,\n\n      folderOpen: false,\n\n      pressTimer: null,\n      longPressThreshold: 1000,\n      isLongPress: false, // 标记是否为长按\n      PressStart: false,\n      canClick: true,\n\n      ImageFiles:[\n\n      ],\n\n      CurrentFolderType: '',\n\n      SelectFilesName: '',\n      SelectFilesIndex: 0,\n\n      FilesPressTimer: null,\n      isFilesLongPress: false,\n\n      LastImageFilesList: '',\n\n      DeleteBtnExpand: false,\n      defaultShow: false,\n    };\n  },\n  created() {\n    this.$bus.$on('currentFolderType', this.GetImageFiles);\n    this.$bus.$on('ImageFilesName', this.ImageFilesName);\n  },\n  methods: {\n    startPress() {\n      this.isLongPress = false; // 重置长按标记\n      if(!this.folderOpen) {\n        this.PressStart = true;\n      }\n      this.pressTimer = setTimeout(() => {\n        this.PressStart = false;\n        this.isLongPress = true; // 标记为长按\n        this.handleLongPress();\n      }, this.longPressThreshold);\n    },\n    \n    endPress() {\n      clearTimeout(this.pressTimer); // 清除定时器\n      this.PressStart = false;\n      if (!this.isLongPress) {\n        this.handleClick(); // 如果不是长按，则触发点击事件\n      }\n      this.pressTimer = null; // 重置定时器\n    },\n\n    handleClick() {\n      if (!this.canClick) return; // 如果不可点击，直接返回\n      this.canClick = false; // 设置为不可点击\n      // console.log(\"Button clicked\");\n\n      // 修改：单点打开文件夹\n      if(!this.folderOpen) {\n        this.folderOpen = true;\n        this.$bus.$emit('ImageFolderOpen', 'true');\n      }\n\n      // 恢复点击权限\n      setTimeout(() => {\n        this.canClick = true;\n      }, 100);\n    },\n\n    handleLongPress() {\n      // 修改：长按选择文件夹\n      if(!this.folderOpen) {\n        this.$bus.$emit('SelectFolderIndex', this.folderIndex);\n      }\n    },\n\n    startFilesPress(index, FilesName) {\n      this.isFilesLongPress = false;\n      this.SelectFilesIndex = index;\n      this.ImageFiles[index].FilesPressStart = true;\n      this.SelectFilesName = FilesName;\n      this.FilesPressTimer = setTimeout(() => {\n        this.isFilesLongPress = true;\n        this.ImageFiles[this.SelectFilesIndex].FilesPressStart = false;\n        this.handleFilesLongPress();\n      }, this.longPressThreshold);\n    },\n    \n    endFilesPress() {\n      clearTimeout(this.FilesPressTimer);\n      this.ImageFiles[this.SelectFilesIndex].FilesPressStart = false;\n      if (!this.isFilesLongPress) {\n        this.handleFilesClick();\n      }\n      this.FilesPressTimer = null;\n    },\n\n    handleFilesClick() {\n      if (!this.canClick) return;\n      this.canClick = false;\n\n      // 修改：单点打开文件\n      console.log('Click to Open File:', this.SelectFilesName);\n      for (let i = 0; i < this.ImageFiles.length; i++) {\n        this.ImageFiles[i].isOpen = false;\n      }\n      this.ImageFiles[this.SelectFilesIndex].isOpen = true;\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'ReadImageFile:' + this.CurrentFolderType + '/' + this.imageDate + this.imageName + '/' + this.SelectFilesName);\n      this.$bus.$emit('SendConsoleLogMsg', 'Read Image File:' + this.CurrentFolderType + '/' + this.imageDate + this.imageName + '/' + this.SelectFilesName, 'info');\n\n      // 恢复点击权限\n      setTimeout(() => {\n        this.canClick = true;\n      }, 100);\n    },\n\n    handleFilesLongPress() {\n      // 修改：长按选择文件\n      console.log('LongPress to Select File:', this.SelectFilesName);\n      this.ImageFiles[this.SelectFilesIndex].isSelect = !this.ImageFiles[this.SelectFilesIndex].isSelect;\n    },\n\n    toggleFolder() {\n      // 这个方法现在不再被 handleClick 调用，但保留给其他可能的用途\n      if(!this.folderOpen) {\n        this.$bus.$emit('SelectFolderIndex', this.folderIndex);\n      }\n    },\n    updateShow(show) {\n      this.isShow = show;\n    },\n    updateData(imageDate, imageName) {\n      this.imageDate = imageDate;\n      this.imageName = imageName;\n    },\n\n    GetImageFiles(type) {\n      this.CurrentFolderType = type;\n      if(this.folderOpen) {\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GetImageFiles:' + type + '/' + this.imageDate + this.imageName);\n        this.$bus.$emit('SendConsoleLogMsg', 'Get Image Files:' + type + '/' + this.imageDate + this.imageName, 'info');\n      }\n    },\n\n    ImageFilesName(FileList) {\n      if(this.folderOpen) {\n        if(this.LastImageFilesList != FileList) {\n          this.LastImageFilesList = FileList;\n          const File = FileList.split(';');\n          console.log('FileNum:', File.length-1);\n\n          this.ImageFiles = [];\n          for (let i = 0; i < File.length-1; i++) {\n            console.log('File[',i,']',File[i]);\n            this.ImageFiles.push({imageName: File[i], isSelect: false, FilesPressStart: false, isOpen: false});\n          }\n        }\n      }\n    },\n\n    closeFolder() {\n      this.folderOpen = false;\n      this.$bus.$emit('ImageFolderOpen', 'false');\n    },\n\n    DeleteBtnClick() {\n      if(this.isAnySelected) {\n        if(this.DeleteBtnExpand) {\n          this.DeleteBtnExpand = false;\n        } else {\n          this.DeleteBtnExpand = true;\n          this.defaultShow = true;\n        }\n      } else {\n        console.log('N');\n      }\n    },\n\n    DeleteImageFiles() {\n      this.DeleteBtnExpand = false;\n      const deletedImageFiles = this.ImageFiles.filter(File => File.isSelect);\n      const resultString = this.convertImageDataToString(deletedImageFiles)\n      // this.$bus.$emit('AppSendMessage', 'Vue_Command', 'ReadImageFile:' + this.CurrentFolderType + '/' + this.imageDate + this.imageName + '/' + this.SelectFilesName);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'DeleteFile:'+this.CurrentFolderType+resultString);\n      this.$bus.$emit('SendConsoleLogMsg', 'Delete File:'+this.CurrentFolderType+resultString, 'info');\n      this.ImageFiles = this.ImageFiles.filter(File => !File.isSelect);\n    },\n\n    convertImageDataToString(imageDataArray) {\n      let resultString = '{';\n\n      imageDataArray.forEach(item => {\n        const filename = item.imageName;\n        resultString += `${this.imageDate + this.imageName}/${filename};`;\n      });\n\n      resultString += '}';\n\n      return resultString;\n    },\n\n    handleOutsideClick(event) {\n      const folderElement = this.$refs.folder; // 获取组件的 DOM 元素\n      if (folderElement && !folderElement.contains(event.target)) {\n        // 如果点击发生在组件外部，关闭文件夹\n        if(this.folderOpen) {\n          this.closeFolder();\n        }\n      }\n    }\n  },\n\n  computed: {\n    displayedItems() {\n      return this.ImageFiles;\n    },\n    isAnySelected() {\n      return this.ImageFiles.some(file => file.isSelect);\n    },\n  },\n\n  mounted() {\n    // 在组件挂载时添加事件监听器\n    document.addEventListener('mousedown', this.handleOutsideClick);\n    document.addEventListener('touchstart', this.handleOutsideClick);\n    document.addEventListener('click', this.handleOutsideClick);\n  },\n\n  beforeDestroy() {\n    // 在组件销毁时移除事件监听器\n    document.removeEventListener('mousedown', this.handleOutsideClick);\n    document.removeEventListener('touchstart', this.handleOutsideClick);\n    document.removeEventListener('click', this.handleOutsideClick);\n  }\n}\n</script>\n\n<style scoped>\n.ImageFolder {\n  pointer-events: auto;\n  position: fixed;\n  background-color: rgba(0, 0, 0, 0.3);\n  backdrop-filter: blur(5px);\n  border-radius: 5px;\n  box-sizing: border-box;\n  \n  width: 100px;\n  height: 80px;\n  transition: top 0.4s ease, left 0.4s ease, width 0.4s ease, height 0.4s ease, transform 0.4s ease;\n\n  user-select: none; \n}\n\n.ImageFolder-select {\n  pointer-events: auto;\n  position: fixed;\n  background-color: rgba(75, 155, 250, 0.5);\n  backdrop-filter: blur(5px);\n  border-radius: 5px;\n  box-sizing: border-box;\n  \n  width: 100px;\n  height: 80px;\n  transition: top 0.4s ease, left 0.4s ease, width 0.4s ease, height 0.4s ease, transform 0.4s ease;\n}\n\n.ImageFolder-Deleted {\n  pointer-events: auto;\n  position: fixed;\n  background-color: rgba(255, 0, 0, 0.5);\n  backdrop-filter: blur(5px);\n  border-radius: 5px;\n  box-sizing: border-box;\n  \n  width: 100px;\n  height: 80px;\n  transition: top 0.4s ease, left 0.4s ease, width 0.4s ease, height 0.4s ease, transform 0.4s ease;\n}\n\n.ImageFolder-Open {\n  pointer-events: auto;\n  position: absolute;\n  left: 50%;\n  width: 60%;\n  height: 80%;\n  top: 10px;\n  transform: translateX(-50%);\n  transition: top 0.4s ease, left 0.4s ease, width 0.4s ease, height 0.4s ease, transform 0.4s ease;\n\n  background-color: rgba(0, 0, 0, 0.5);\n  backdrop-filter: blur(5px);\n  box-sizing: border-box;\n  overflow: hidden;\n  border-radius: 10px;\n  border: 1px solid rgba(255, 255, 255, 0.8);\n\n  z-index: 9999;\n}\n\n.ImageFolder-Pressing {\n  transform: scale(1.2); /* 放大1.2倍 */\n  transition: transform 1s ease; /* 平滑动画效果 */\n}\n\n.image-data {\n  font-size: 13px;\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n.image-name {\n  font-size: 10px;\n  line-height: 1.3;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n/* .image-file-list {\n  position:absolute;\n  top: 30px; \n  left: 8px; \n  right: 8px; \n  bottom: 8px; \n\n  background-color: rgba(0, 0, 0, 0);\n  box-sizing: border-box;\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  border-radius: 5px;\n\n  pointer-events: auto;\n  overflow: hidden;\n  overflow-y: auto;\n  padding: 10px;  \n  margin: 0;   \n}\n\n.image-file-item {\n  display: flex;\n  align-items: center;\n  justify-content: start;\n  padding: 5px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.3);\n}\n\n.image-file-thumbnail {\n  width: 50px;\n  height: 50px;\n  object-fit: cover;\n  margin-right: 10px;\n}\n\n.image-file-name {\n  color: rgba(255, 255, 255, 0.8);\n  font-size: 14px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n} */\n\n.image-file-list {\n  position: absolute;\n  top: 40px; \n  left: 8px; \n  right: 8px; \n  bottom: 8px; \n\n  background-color: rgba(0, 0, 0, 0);\n  box-sizing: border-box;\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  border-radius: 5px;\n\n  pointer-events: auto;\n  overflow-y: auto;\n  padding: 10px;\n  margin: 0;\n\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));\n  grid-gap: 10px;\n  justify-items: center;\n\n  height: calc(100% - 50px);\n}\n\n.image-file-item {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 5px;\n  border-radius: 5px;\n  background-color: rgba(255, 255, 255, 0.3);\n  text-align: center;\n\n  width: 70px;\n  height: 50px;\n\n  overflow: hidden;\n  position: relative;\n}\n\n.image-file-item-select {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 5px;\n  border-radius: 5px;\n  background-color: rgba(75, 155, 250, 0.4);\n  text-align: center;\n\n  width: 70px;\n  height: 50px;\n\n  overflow: hidden;\n  position: relative;\n}\n\n.image-file-item-open {\n  border: 1px solid rgba(51, 218, 121, 1);\n}\n\n.image-file-name {\n  color: rgba(255, 255, 255, 0.5);\n  font-size: 10px;\n  white-space: normal;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-wrap: break-word;\n\n  position: absolute;\n  top: 2px;\n  left: 2px; \n  right: 2px;\n\n  width: calc(100% - 4px);\n  line-height: 1;\n  text-align: center;\n  padding: 0;\n\n  user-select: none; \n  pointer-events: none;\n}\n\n.btn-Delete {\n  position:absolute;\n  top: 5px;\n  right: 5px;\n\n  width: 30px;\n  height: 30px;\n\n  user-select: none;\n  background-color: rgba(0, 0, 0, 0.3);\n  backdrop-filter: blur(5px);\n  border-radius: 50%;\n  box-sizing: border-box;\n  border: none;\n}\n\n.btn-Delete:active,\n.btn-SureDelete:active {\n  transform: scale(0.95); /* 点击时缩小按钮 */\n  background-color: rgba(255, 255, 255, 0.7);\n}\n\n.btn-SureDelete-show {\n  position:absolute;\n  top: 5px;\n  right: 5px;\n\n  width: 30px;\n  height: 30px;\n\n  user-select: none;\n  background-color: rgba(0, 0, 0, 0.3);\n  backdrop-filter: blur(5px);\n  border-radius: 50%;\n  box-sizing: border-box;\n  border: none;\n\n  animation: showAnimation 0.3s forwards;\n}\n\n@keyframes showAnimation {\n  from {\n    right: 5px;\n  }\n  to {\n    right: 130px;\n  }\n}\n\n.btn-SureDelete-hide {\n  position:absolute;\n  top: 5px;\n  right: 5px;\n\n  width: 30px;\n  height: 30px;\n\n  user-select: none;\n  background-color: rgba(0, 0, 0, 0.3);\n  backdrop-filter: blur(5px);\n  border-radius: 50%;\n  box-sizing: border-box;\n  border: none;\n\n  animation: hideAnimation 0.3s forwards;\n}\n\n@keyframes hideAnimation {\n  from {\n    right: 130px;\n    opacity: 1;\n  }\n  to {\n    right: 5px;\n    opacity: 0;\n  }\n}\n\n.DeleteTips-show {\n  position:absolute;\n  top: 5px;\n  right: 5px;\n\n  width: 30px;\n  height: 30px;\n\n  user-select: none;\n  background-color: rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(5px);\n  border-radius: calc(30px / 2);\n  box-sizing: border-box;\n  border: none;\n\n  opacity: 0;\n  overflow: hidden;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n\n  animation: expandAnimation 0.3s forwards;\n}\n\n@keyframes expandAnimation {\n  from {\n    width: 30px;\n    opacity: 0;\n  }\n  to {\n    width: 155px;\n    opacity: 1;\n  }\n}\n\n.DeleteTips-hide {\n  position:absolute;\n  top: 5px;\n  right: 5px;\n\n  width: 30px;\n  height: 30px;\n\n  user-select: none;\n  background-color: rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(5px);\n  border-radius: calc(30px / 2);\n  box-sizing: border-box;\n  border: none;\n\n  opacity: 1;\n  overflow: hidden;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n\n  animation: collapseAnimation 0.3s forwards;\n}\n\n@keyframes collapseAnimation {\n  from {\n    width: 155px;\n    opacity: 1;\n  }\n  to {\n    width: 30px;\n    opacity: 0;\n  }\n}\n</style>\n"]}]}
