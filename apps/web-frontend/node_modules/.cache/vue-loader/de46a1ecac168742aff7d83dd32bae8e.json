{"remainingRequest":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/components/HistogramPanel.vue?vue&type=style&index=0&id=3fc67f75&scoped=true&lang=css&","dependencies":[{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/components/HistogramPanel.vue","mtime":1739424155000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/css-loader/dist/cjs.js","mtime":1707125446000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1707125450000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/postcss-loader/src/index.js","mtime":1707125450000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js","mtime":1707125450000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5jaGFydC1wYW5lbCB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTI4LCAxMjgsIDEyOCwgMC41KTsKICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoNXB4KTsKICBib3JkZXItcmFkaXVzOiAxMHB4OyAKICB0cmFuc2l0aW9uOiB3aWR0aCAwLjJzIGVhc2U7Cn0KCkBrZXlmcmFtZXMgc2hvd1BhbmVsQW5pbWF0aW9uIHsKICBmcm9tIHsKICAgIGJvdHRvbTogLTE1MHB4OwogIH0KICB0byB7CiAgICBib3R0b206IDEwcHg7CiAgfQp9CgpAa2V5ZnJhbWVzIGhpZGVQYW5lbEFuaW1hdGlvbiB7CiAgZnJvbSB7CiAgICBib3R0b206IDEwcHg7CiAgfQogIHRvIHsKICAgIGJvdHRvbTogLTE1MHB4OwogIH0KfQoKLnBhbmVsLWVudGVyLWFjdGl2ZSB7CiAgYW5pbWF0aW9uOiBzaG93UGFuZWxBbmltYXRpb24gMC4xNXMgZm9yd2FyZHM7Cn0KCi5wYW5lbC1sZWF2ZS1hY3RpdmUgewogIGFuaW1hdGlvbjogaGlkZVBhbmVsQW5pbWF0aW9uIDAuMTVzIGZvcndhcmRzOwp9CgouaGlzdG9ncmFtLWNoYXJ0IHsKICBwb3NpdGlvbjphYnNvbHV0ZTsKICB0b3A6IDVweDsKICBsZWZ0OiA1cHg7Cn0KCi5kaWFsLWtub2IgewogIHBvc2l0aW9uOmFic29sdXRlOwogIHRvcDogNXB4OwogIGxlZnQ6IDVweDsKfQoKLmJ1dHRvbnMtY29udGFpbmVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAtMzVweDsKICBsZWZ0OiAyNSU7CiAgcmlnaHQ6IDI1JTsKfQoKLmJ0bi1BdXRvIHsKICB3aWR0aDogMzBweDsKICBoZWlnaHQ6IDMwcHg7CgogIHVzZXItc2VsZWN0OiBub25lOwogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNjQsIDY0LCA2NCwgMC41KTsKICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoNXB4KTsKICBib3JkZXI6IG5vbmU7CiAgYm9yZGVyLXJhZGl1czogNTAlOyAKICBib3gtc2l6aW5nOiBib3JkZXItYm94Owp9CgouYnRuLVJlc2V0IHsKICB3aWR0aDogMzBweDsKICBoZWlnaHQ6IDMwcHg7CgogIHVzZXItc2VsZWN0OiBub25lOwogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNjQsIDY0LCA2NCwgMC41KTsKICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoNXB4KTsKICBib3JkZXI6IG5vbmU7CiAgYm9yZGVyLXJhZGl1czogNTAlOyAKICBib3gtc2l6aW5nOiBib3JkZXItYm94Owp9CgouYnRuLVdoaXRlQmFsYW5jZSB7CiAgd2lkdGg6IDMwcHg7CiAgaGVpZ2h0OiAzMHB4OwoKICB1c2VyLXNlbGVjdDogbm9uZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDY0LCA2NCwgNjQsIDAuNSk7CiAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDVweCk7CiAgYm9yZGVyOiBub25lOwogIGJvcmRlci1yYWRpdXM6IDUwJTsgCiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKfQoKLmJ0bi1BdXRvOmFjdGl2ZSwKLmJ0bi1SZXNldDphY3RpdmUsCi5idG4tV2hpdGVCYWxhbmNlOmFjdGl2ZSB7CiAgdHJhbnNmb3JtOiBzY2FsZSgwLjk1KTsgLyog54K55Ye75pe257yp5bCP5oyJ6ZKuICovCiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpOwp9Cgo="},{"version":3,"sources":["HistogramPanel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"HistogramPanel.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <transition name=\"panel\">\n    <div class=\"chart-panel\" :style=\"{ bottom: bottom + 'px', left: ComponentPadding + 'px', right: ComponentPadding + 'px', height: height + 'px' }\">\n    <HistogramChart ref=\"histogramchart\" class=\"histogram-chart\"/>\n    <DialKnob class=\"dial-knob\"/>\n    <div class=\"buttons-container\">\n      <button  @touchend=\"calcWhiteBalanceGains\" class=\"get-click btn-Reset\">\n        <div style=\"display: flex; justify-content: center; align-items: center;\">\n          <img src=\"@/assets/images/svg/ui/WhiteBalance.svg\" height=\"20px\" style=\"min-height: 20px; pointer-events: none;\"></img>\n        </div>\n      </button>\n\n      <button  @touchend=\"AutoHistogram\" class=\"get-click btn-Auto\"><v-icon>mdi-alpha-a-circle-outline</v-icon></button>\n\n      <button  @touchend=\"ResetHistogram\" class=\"get-click btn-Reset\">\n        <div style=\"display: flex; justify-content: center; align-items: center;\">\n          <img src=\"@/assets/images/svg/ui/reset.svg\" height=\"25px\" style=\"min-height: 25px; pointer-events: none;\"></img>\n        </div>\n      </button>\n\n    </div>\n\n  </div>\n</transition>\n</template>\n\n<script>\nimport HistogramChart from './Chart-Histogram.vue'\nimport DialKnob from './Dial-Knob.vue'\n\nexport default {\n  name: 'HistogramPanel',\n  data() {\n    return {\n      bottom: 10,\n      ComponentPadding: 0,\n      height: 90,\n\n      histogram_min: 0,\n      histogram_max: 255,\n    };\n  },\n  components: {\n    HistogramChart,\n    DialKnob,\n  },\n  created() {\n    this.$bus.$on('AutoHistogramNum', this.setAutoHistogramNum);\n  },\n  mounted() {\n    this.updatePosition(); // 初始化位置\n    window.addEventListener('resize', this.updatePosition);\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.updatePosition);\n  },\n  methods: {\n    updatePosition() {\n      const screenWidth = window.innerWidth;\n      const halfWidth = screenWidth / 2 - 250;\n      this.ComponentPadding = Math.max(halfWidth, 170);\n\n      // 计算宽度\n      const newWidth = screenWidth - (this.ComponentPadding * 2);\n      // console.log('Update new width:', newWidth);\n      this.$bus.$emit('updateHistogramWidth', newWidth);\n    },\n    AutoHistogram() {\n      this.$bus.$emit('HandleHistogramNum', this.histogram_min, this.histogram_max);\n    },\n    ResetHistogram() {\n      this.$bus.$emit('HandleHistogramNum', 0 , 255);\n    },\n    setAutoHistogramNum(min, max) {\n      this.histogram_min = min;\n      this.histogram_max = max;\n    },\n    calcWhiteBalanceGains() {\n      this.$bus.$emit('calcWhiteBalanceGains');\n    },\n  }\n}\n</script>\n\n<style scoped>\n.chart-panel {\n  position: absolute;\n  background-color: rgba(128, 128, 128, 0.5);\n  backdrop-filter: blur(5px);\n  border-radius: 10px; \n  transition: width 0.2s ease;\n}\n\n@keyframes showPanelAnimation {\n  from {\n    bottom: -150px;\n  }\n  to {\n    bottom: 10px;\n  }\n}\n\n@keyframes hidePanelAnimation {\n  from {\n    bottom: 10px;\n  }\n  to {\n    bottom: -150px;\n  }\n}\n\n.panel-enter-active {\n  animation: showPanelAnimation 0.15s forwards;\n}\n\n.panel-leave-active {\n  animation: hidePanelAnimation 0.15s forwards;\n}\n\n.histogram-chart {\n  position:absolute;\n  top: 5px;\n  left: 5px;\n}\n\n.dial-knob {\n  position:absolute;\n  top: 5px;\n  left: 5px;\n}\n\n.buttons-container {\n  display: flex;\n  justify-content: space-between;\n  position: absolute;\n  top: -35px;\n  left: 25%;\n  right: 25%;\n}\n\n.btn-Auto {\n  width: 30px;\n  height: 30px;\n\n  user-select: none;\n  background-color: rgba(64, 64, 64, 0.5);\n  backdrop-filter: blur(5px);\n  border: none;\n  border-radius: 50%; \n  box-sizing: border-box;\n}\n\n.btn-Reset {\n  width: 30px;\n  height: 30px;\n\n  user-select: none;\n  background-color: rgba(64, 64, 64, 0.5);\n  backdrop-filter: blur(5px);\n  border: none;\n  border-radius: 50%; \n  box-sizing: border-box;\n}\n\n.btn-WhiteBalance {\n  width: 30px;\n  height: 30px;\n\n  user-select: none;\n  background-color: rgba(64, 64, 64, 0.5);\n  backdrop-filter: blur(5px);\n  border: none;\n  border-radius: 50%; \n  box-sizing: border-box;\n}\n\n.btn-Auto:active,\n.btn-Reset:active,\n.btn-WhiteBalance:active {\n  transform: scale(0.95); /* 点击时缩小按钮 */\n  background-color: rgba(255, 255, 255, 0.7);\n}\n\n</style>\n\n"]}]}