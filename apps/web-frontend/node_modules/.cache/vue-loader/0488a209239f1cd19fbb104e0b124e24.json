{"remainingRequest":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/components/HistogramPanel.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/components/HistogramPanel.vue","mtime":1750842437000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js","mtime":1707125450000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIaXN0b2dyYW1DaGFydCBmcm9tICcuL0NoYXJ0LUhpc3RvZ3JhbS52dWUnCmltcG9ydCBEaWFsS25vYiBmcm9tICcuL0RpYWwtS25vYi52dWUnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0hpc3RvZ3JhbVBhbmVsJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYm90dG9tOiAxMCwKICAgICAgQ29tcG9uZW50UGFkZGluZzogMCwKICAgICAgaGVpZ2h0OiA5MCwKCiAgICAgIGhpc3RvZ3JhbV9taW46IDAsCiAgICAgIGhpc3RvZ3JhbV9tYXg6IDY1NTM1LAogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEhpc3RvZ3JhbUNoYXJ0LAogICAgRGlhbEtub2IsCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy4kYnVzLiRvbignQXV0b0hpc3RvZ3JhbU51bScsIHRoaXMuc2V0QXV0b0hpc3RvZ3JhbU51bSk7CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy51cGRhdGVQb3NpdGlvbigpOyAvLyDliJ3lp4vljJbkvY3nva4KICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnVwZGF0ZVBvc2l0aW9uKTsKICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy51cGRhdGVQb3NpdGlvbik7CiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVQb3NpdGlvbigpIHsKICAgICAgY29uc3Qgc2NyZWVuV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsKICAgICAgY29uc3QgaGFsZldpZHRoID0gc2NyZWVuV2lkdGggLyAyIC0gMjUwOwogICAgICB0aGlzLkNvbXBvbmVudFBhZGRpbmcgPSBNYXRoLm1heChoYWxmV2lkdGgsIDE3MCk7CgogICAgICAvLyDorqHnrpflrr3luqYKICAgICAgY29uc3QgbmV3V2lkdGggPSBzY3JlZW5XaWR0aCAtICh0aGlzLkNvbXBvbmVudFBhZGRpbmcgKiAyKTsKICAgICAgLy8gY29uc29sZS5sb2coJ1VwZGF0ZSBuZXcgd2lkdGg6JywgbmV3V2lkdGgpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ3VwZGF0ZUhpc3RvZ3JhbVdpZHRoJywgbmV3V2lkdGgpOwogICAgfSwKICAgIEF1dG9IaXN0b2dyYW0oKSB7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnSGFuZGxlSGlzdG9ncmFtTnVtJywgLTEsIC0xKTsKICAgIH0sCiAgICBSZXNldEhpc3RvZ3JhbSgpIHsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdIYW5kbGVIaXN0b2dyYW1OdW0nLCAwICwgNjU1MzUpOwogICAgfSwKICAgIHNldEF1dG9IaXN0b2dyYW1OdW0obWluLCBtYXgpIHsKICAgICAgdGhpcy5oaXN0b2dyYW1fbWluID0gbWluOwogICAgICB0aGlzLmhpc3RvZ3JhbV9tYXggPSBtYXg7CiAgICB9LAogICAgY2FsY1doaXRlQmFsYW5jZUdhaW5zKCkgewogICAgICB0aGlzLiRidXMuJGVtaXQoJ2NhbGNXaGl0ZUJhbGFuY2VHYWlucycpOwogICAgfSwKICB9Cn0K"},{"version":3,"sources":["HistogramPanel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HistogramPanel.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <transition name=\"panel\">\n    <div class=\"chart-panel\" :style=\"{ bottom: bottom + 'px', left: ComponentPadding + 'px', right: ComponentPadding + 'px', height: height + 'px' }\">\n    <HistogramChart ref=\"histogramchart\" class=\"histogram-chart\"/>\n    <DialKnob class=\"dial-knob\"/>\n    <div class=\"buttons-container\">\n      <button @click=\"calcWhiteBalanceGains\"  @touchend=\"calcWhiteBalanceGains\" class=\"get-click btn-Reset\">\n        <div style=\"display: flex; justify-content: center; align-items: center;\">\n          <img src=\"@/assets/images/svg/ui/WhiteBalance.svg\" height=\"20px\" style=\"min-height: 20px; pointer-events: none;\"></img>\n        </div>\n      </button>\n\n      <button @click=\"AutoHistogram\"  @touchend=\"AutoHistogram\" class=\"get-click btn-Auto\"><v-icon>mdi-alpha-a-circle-outline</v-icon></button>\n\n      <button @click=\"ResetHistogram\"  @touchend=\"ResetHistogram\" class=\"get-click btn-Reset\">\n        <div style=\"display: flex; justify-content: center; align-items: center;\">\n          <img src=\"@/assets/images/svg/ui/reset.svg\" height=\"25px\" style=\"min-height: 25px; pointer-events: none;\"></img>\n        </div>\n      </button>\n\n    </div>\n\n  </div>\n</transition>\n</template>\n\n<script>\nimport HistogramChart from './Chart-Histogram.vue'\nimport DialKnob from './Dial-Knob.vue'\n\nexport default {\n  name: 'HistogramPanel',\n  data() {\n    return {\n      bottom: 10,\n      ComponentPadding: 0,\n      height: 90,\n\n      histogram_min: 0,\n      histogram_max: 65535,\n    };\n  },\n  components: {\n    HistogramChart,\n    DialKnob,\n  },\n  created() {\n    this.$bus.$on('AutoHistogramNum', this.setAutoHistogramNum);\n  },\n  mounted() {\n    this.updatePosition(); // 初始化位置\n    window.addEventListener('resize', this.updatePosition);\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.updatePosition);\n  },\n  methods: {\n    updatePosition() {\n      const screenWidth = window.innerWidth;\n      const halfWidth = screenWidth / 2 - 250;\n      this.ComponentPadding = Math.max(halfWidth, 170);\n\n      // 计算宽度\n      const newWidth = screenWidth - (this.ComponentPadding * 2);\n      // console.log('Update new width:', newWidth);\n      this.$bus.$emit('updateHistogramWidth', newWidth);\n    },\n    AutoHistogram() {\n      this.$bus.$emit('HandleHistogramNum', -1, -1);\n    },\n    ResetHistogram() {\n      this.$bus.$emit('HandleHistogramNum', 0 , 65535);\n    },\n    setAutoHistogramNum(min, max) {\n      this.histogram_min = min;\n      this.histogram_max = max;\n    },\n    calcWhiteBalanceGains() {\n      this.$bus.$emit('calcWhiteBalanceGains');\n    },\n  }\n}\n</script>\n\n<style scoped>\n.chart-panel {\n  position: absolute;\n  background-color: rgba(128, 128, 128, 0.5);\n  backdrop-filter: blur(5px);\n  border-radius: 10px; \n  transition: width 0.2s ease;\n}\n\n@keyframes showPanelAnimation {\n  from {\n    bottom: -150px;\n  }\n  to {\n    bottom: 10px;\n  }\n}\n\n@keyframes hidePanelAnimation {\n  from {\n    bottom: 10px;\n  }\n  to {\n    bottom: -150px;\n  }\n}\n\n.panel-enter-active {\n  animation: showPanelAnimation 0.15s forwards;\n}\n\n.panel-leave-active {\n  animation: hidePanelAnimation 0.15s forwards;\n}\n\n.histogram-chart {\n  position:absolute;\n  top: 5px;\n  left: 5px;\n}\n\n.dial-knob {\n  position:absolute;\n  top: 5px;\n  left: 5px;\n}\n\n.buttons-container {\n  display: flex;\n  justify-content: space-between;\n  position: absolute;\n  top: -35px;\n  left: 25%;\n  right: 25%;\n}\n\n.btn-Auto {\n  width: 30px;\n  height: 30px;\n\n  user-select: none;\n  background-color: rgba(64, 64, 64, 0.5);\n  backdrop-filter: blur(5px);\n  border: none;\n  border-radius: 50%; \n  box-sizing: border-box;\n}\n\n.btn-Reset {\n  width: 30px;\n  height: 30px;\n\n  user-select: none;\n  background-color: rgba(64, 64, 64, 0.5);\n  backdrop-filter: blur(5px);\n  border: none;\n  border-radius: 50%; \n  box-sizing: border-box;\n}\n\n.btn-WhiteBalance {\n  width: 30px;\n  height: 30px;\n\n  user-select: none;\n  background-color: rgba(64, 64, 64, 0.5);\n  backdrop-filter: blur(5px);\n  border: none;\n  border-radius: 50%; \n  box-sizing: border-box;\n}\n\n.btn-Auto:active,\n.btn-Reset:active,\n.btn-WhiteBalance:active {\n  transform: scale(0.95); /* 点击时缩小按钮 */\n  background-color: rgba(255, 255, 255, 0.7);\n}\n\n</style>\n\n"]}]}