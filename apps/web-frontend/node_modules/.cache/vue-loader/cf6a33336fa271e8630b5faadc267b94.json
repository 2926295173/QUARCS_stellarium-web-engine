{"remainingRequest":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/components/gui.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/components/gui.vue","mtime":1759997260185},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js","mtime":1707125450000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUb29sYmFyIGZyb20gJ0AvY29tcG9uZW50cy90b29sYmFyLnZ1ZScKaW1wb3J0IEJvdHRvbUJhciBmcm9tICdAL2NvbXBvbmVudHMvYm90dG9tLWJhci52dWUnCmltcG9ydCBTZWxlY3RlZE9iamVjdEluZm8gZnJvbSAnQC9jb21wb25lbnRzL3NlbGVjdGVkLW9iamVjdC1pbmZvLnZ1ZScKaW1wb3J0IFByb2dyZXNzQmFycyBmcm9tICdAL2NvbXBvbmVudHMvcHJvZ3Jlc3MtYmFycycKCmltcG9ydCBEYXRhQ3JlZGl0c0RpYWxvZyBmcm9tICdAL2NvbXBvbmVudHMvZGF0YS1jcmVkaXRzLWRpYWxvZy52dWUnCmltcG9ydCBWaWV3U2V0dGluZ3NEaWFsb2cgZnJvbSAnQC9jb21wb25lbnRzL3ZpZXctc2V0dGluZ3MtZGlhbG9nLnZ1ZScKaW1wb3J0IFBsYW5ldHNWaXNpYmlsaXR5IGZyb20gJ0AvY29tcG9uZW50cy9wbGFuZXRzLXZpc2liaWxpdHkudnVlJwppbXBvcnQgTG9jYXRpb25EaWFsb2cgZnJvbSAnQC9jb21wb25lbnRzL2xvY2F0aW9uLWRpYWxvZy52dWUnCmltcG9ydCBPYnNlcnZpbmdQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvb2JzZXJ2aW5nLXBhbmVsLnZ1ZScKCmltcG9ydCBNb3VudENvbnRyb2xQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvTW91bnRDb250cm9sUGFuZWwudnVlJwoKaW1wb3J0IE1lc3NhZ2VCb3ggZnJvbSAiQC9jb21wb25lbnRzL01lc3NhZ2VCb3gudnVlIjsKCmltcG9ydCBFeHBUaW1lQnRuQmFyIGZyb20gIkAvY29tcG9uZW50cy9FeHBUaW1lQnRuQmFyLnZ1ZSI7CmltcG9ydCBDRldTZWxlY3RCdG5CYXIgZnJvbSAiQC9jb21wb25lbnRzL0NGV1NlbGVjdEJ0bkJhci52dWUiOwoKaW1wb3J0IENpcmN1bGFyUHJvZ3Jlc3NCdXR0b24gZnJvbSAnQC9jb21wb25lbnRzL0NpcmN1bGFyQnV0dG9uLnZ1ZSc7CgppbXBvcnQgQ2hhcnRDb21wb25lbnQgZnJvbSAnQC9jb21wb25lbnRzL0NoYXJ0Q29tcG9uZW50LnZ1ZSc7CgppbXBvcnQgSGlzdG9ncmFtUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL0hpc3RvZ3JhbVBhbmVsLnZ1ZSc7CgppbXBvcnQgRm9jdXNlclBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9Gb2N1c2VyUGFuZWwudnVlJzsKCmltcG9ydCBTY2hlZHVsZVBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9TY2hlZHVsZVBhbmVsLnZ1ZSc7CmltcG9ydCBTY2hlZHVsZUxpc3QgZnJvbSAnQC9jb21wb25lbnRzL1NjaGVkdWxlTGlzdC52dWUnOwoKaW1wb3J0IFNjaGVkdWxlS2V5Qm9hcmQgZnJvbSAnQC9jb21wb25lbnRzL1NjaGVkdWxlS2V5Qm9hcmQudnVlJzsKCmltcG9ydCBDYXB0dXJlUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL0NhcHR1cmVQYW5lbC52dWUnOwoKaW1wb3J0IEltYWdlTWFuYWdlclBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9JbWFnZU1hbmFnZXJQYW5lbC52dWUnOwoKaW1wb3J0IERldmljZUFsbG9jYXRpb25QYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvRGV2aWNlQWxsb2NhdGlvblBhbmVsLnZ1ZSc7CgppbXBvcnQgSU5ESURlYnVnRGlhbG9nIGZyb20gJ0AvY29tcG9uZW50cy9pbmRpRGVidWdEaWFsb2cudnVlJzsKCmltcG9ydCBSUElIb3RzcG90RGlhbG9nIGZyb20gJ0AvY29tcG9uZW50cy9SUEktSG90c3BvdC52dWUnOwoKaW1wb3J0IERhdGVUaW1lUGlja2VyIGZyb20gJ0AvY29tcG9uZW50cy9kYXRlLXRpbWUtcGlja2VyLnZ1ZScKaW1wb3J0IE1vbWVudCBmcm9tICdtb21lbnQnCgppbXBvcnQgVXBkYXRlUHJvZ3Jlc3NEaWFsb2cgZnJvbSAnQC9jb21wb25lbnRzL1VwZGF0ZVByb2dyZXNzRGlhbG9nLnZ1ZSc7CgppbXBvcnQgQXV0b21hdGljUG9sYXJBbGlnbm1lbnRDYWxpYnJhdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvQXV0b21hdGljUG9sYXJBbGlnbm1lbnRDYWxpYnJhdGlvbi52dWUnCgovLyBpbXBvcnQgTG9jYXRpb25Gb2NhbElucHV0cyBmcm9tICdAL2NvbXBvbmVudHMvTG9jYXRpb25Gb2NhbElucHV0cy52dWUnOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIG1lc3NhZ2VMaXN0OiBbXSwgIC8vIOeUqOS6juWtmOWCqOa2iOaBr+ahhueahOaVsOaNrgogICAgICBtZXNzYWdlTnVtOiAwLCAgICAvLyDmtojmga/mlbDph48KICAgICAgc2hvd0Zsb2F0aW5nQm94OiBmYWxzZSwgIC8vIOaYr+WQpuaYvuekuua1ruWKqOahhgogICAgICBpc1NldHRpbmdXaW5kb3dTaG93OiBmYWxzZSwgIC8vIOaYr+WQpuaYvuekuuiuvue9rueql+WPowogICAgICBpc0JvdHRvbUJhclNob3c6IHRydWUsICAvLyDmmK/lkKbmmL7npLrlupXpg6jmoI8KICAgICAgQ3VycmVudE1haW5QYWdlOiAnU3RlbCcsICAvLyDlvZPliY3kuLvpobXpnaIKICAgICAgLy8g5p6B6L205a+55YeG6aG16Z2i5YmN5aSE5LqO55qE6aG16Z2iCiAgICAgIGxhc3RNYWluUGFnZTogJ05vbmUnLCAgLy8g5LiK5LiA5Liq5Li76aG16Z2iCiAgICAgIGlzRXhwVGltZUJhclNob3c6IGZhbHNlLCAgLy8g5piv5ZCm5pi+56S65pud5YWJ5pe26Ze05qCPCiAgICAgIGlzQ0ZXU2VsZWN0QmFyU2hvdzogZmFsc2UsICAvLyDmmK/lkKbmmL7npLpDRlfpgInmi6nmoI8KICAgICAgc2hvd0NoYXJ0c1BhbmVsOiBmYWxzZSwgIC8vIOaYr+WQpuaYvuekuuWbvuihqOmdouadvwogICAgICBzaG93SGlzdG9ncmFtUGFuZWw6IGZhbHNlLCAgLy8g5piv5ZCm5pi+56S655u05pa55Zu+6Z2i5p2/CiAgICAgIHNob3dGb2N1c2VyUGFuZWw6IGZhbHNlLCAgLy8g5piv5ZCm5pi+56S66IGa54Sm6Z2i5p2/CiAgICAgIHNob3dUb29sYmFyOiB0cnVlLCAgLy8g5piv5ZCm5pi+56S65bel5YW35qCPCiAgICAgIHNob3dNb3VudFN3aXRjaDogdHJ1ZSwgIC8vIOaYr+WQpuaYvuekuuWuieijheW8gOWFswogICAgICBpc01haW5Td2l0Y2hTaG93OiB0cnVlLCAgLy8g5piv5ZCm5pi+56S65Li75byA5YWzCiAgICAgIGlzUmVkQm94TW9kZTogZmFsc2UsICAvLyDmmK/lkKbkuLrnuqLmoYbmqKHlvI8KICAgICAgU2hvd1NjaGVkdWxlUGFuZWw6IGZhbHNlLCAgLy8g5piv5ZCm5pi+56S65pel56iL6Z2i5p2/CiAgICAgIFNob3dJbWFnZU1hbmFnZXJQYW5lbDogZmFsc2UsICAvLyDmmK/lkKbmmL7npLrlm77lg4/nrqHnkIblmajpnaLmnb8KICAgICAgU2hvd0RldmljZUFsbG9jYXRpb25QYW5lbDogZmFsc2UsICAvLyDmmK/lkKbmmL7npLrorr7lpIfliIbphY3pnaLmnb8KICAgICAgU2hvd0lORElEZWJ1Z0RpYWxvZzogZmFsc2UsICAvLyDmmK/lkKbmmL7npLpJTkRJ6LCD6K+V5a+56K+d5qGGCiAgICAgIFNob3dSUElIb3RzcG90RGlhbG9nOiBmYWxzZSwgIC8vIOaYr+WQpuaYvuekulJQSeeDreeCueWvueivneahhgogICAgICBTaG93RGF0ZVRpbWVQaWNrZXI6IGZhbHNlLCAgLy8g5piv5ZCm5pi+56S65pel5pyf5pe26Ze06YCJ5oup5ZmoCiAgICAgIGxvYWRpbmdPcmlnaW5hbEltYWdlOiBmYWxzZSwgIC8vIOaYr+WQpuato+WcqOWKoOi9veWOn+Wni+WbvuWDjwogICAgICBpc1Nob3dIaWRlVWk6IHRydWUsICAvLyDmmK/lkKbmmL7npLrpmpDol4/nlKjmiLfnlYzpnaIKICAgICAgc2hvd0xvY2F0aW9uSW5wdXRzOiBmYWxzZSwgLy8g5piv5ZCm5pi+56S657uP57qs5bqm6L6T5YWl5qGGCiAgICAgIGlzQ2FsaWJyYXRpb25WaXNpYmxlOiBmYWxzZSwgIC8vIOaYr+WQpuaYvuekuuiHquWKqOWvueaegei9tOmhtemdogoKICAgICAgY3VycmVudEltYWdlV2lkdGg6IDAsCiAgICAgIGN1cnJlbnRJbWFnZUhlaWdodDogMCwKCiAgICAgIHNob3dSZWRCb3g6IGZhbHNlLCAvLyDmjqfliLblsI/nuqLmoYbmmL7npLrkuI7pmpDol48KICAgICAgaXNJbml0UmVkQm94OiB0cnVlLAogICAgICBtb3VzZVg6IDAsIC8vIOm8oOagh+eahFjlnZDmoIcKICAgICAgbW91c2VZOiAwLCAvLyDpvKDmoIfnmoRZ5Z2Q5qCHCiAgICAgIG1vdXNlWF86IDAsCiAgICAgIG1vdXNlWV86IDAsCiAgICAgIEJveFNpZGVMZW5ndGg6IDMwMCwKICAgICAgUmVkQm94V2lkdGg6IDMwMCwKICAgICAgUmVkQm94SGVpZ2h0OiAzMDAsCiAgICAgIFJlZEJveFdpZHRoXzogMzAwLAogICAgICBSZWRCb3hIZWlnaHRfOiAzMDAsCgogICAgICBpc1N0ZWxsYXJpdW1Nb2RlOiB0cnVlLAogICAgICBpc0NhcHR1cmVNb2RlOiBmYWxzZSwKICAgICAgaXNHdWlkZXJNb2RlOiBmYWxzZSwKICAgICAgaXNTaG93SW1hZ2U6IHRydWUsCgogICAgICBJbWFnZVByb3BvcnRpb246IDEsCiAgICAgIFJlZEJveE9mZnNldF9YOiAwLAogICAgICBSZWRCb3hPZmZzZXRfWTogMCwKCiAgICAgIFNjYWxlOiAxLAoKCiAgICAgIEZvY2FsTGVuZ3RoOiAwLCAgICAgICAgIC8vIFFIWTQ2MkM6IDEzMCAgNS41NjggMy4xMzIKICAgICAgLy8gQ2FtZXJhU2l6ZVdpZHRoOiA1LjU2OCwgICAvLyBRSFkxNjNNOiA1MTAgIDE3LjcgIDEzLjQKICAgICAgLy8gQ2FtZXJhU2l6ZUhlaWdodDogMy4xMzIsIAoKICAgICAgUGxhdGVTb2x2ZUluUHJvZ3Jlc3M6IGZhbHNlLAoKICAgICAgaXNQb2xhckF4aXNNb2RlOiBmYWxzZSwKCiAgICAgIHNob3dTaW5nbGVTb2x2ZUJ0bjogdHJ1ZSwKCiAgICAgIERpZmZlcmVuY2VUZXh0OiAnJywKICAgICAgVGFyZ2V0VGV4dDogJycsCiAgICAgIEN1cnJlbnRUZXh0OiAnJywKCiAgICAgIENvbmZpcm1EaWFsb2c6IGZhbHNlLAogICAgICBDb25maXJtRGlhbG9nVGl0bGU6ICdUaXRsZScsCiAgICAgIENvbmZpcm1EaWFsb2dUZXh0OiAnVGV4dCcsCgogICAgICBDb25maXJtVG9EbzogJycsCgogICAgICBEU0xSc1NldHVwRGlhbG9nOiBmYWxzZSwKICAgICAgRFNMUkNhbWVyYU5hbWU6ICcnLAogICAgICBEU0xSQ2FtZXJhV2lkdGg6IDAsCiAgICAgIERTTFJDYW1lcmFIZWlnaHQ6IDAsCiAgICAgIERTTFJDYW1lcmFQaXhlbFBpdGNoOiAwLAogICAgICBzaG93RFNMUnNUaXBzOiBmYWxzZSwKCiAgICAgIENhcHR1cmVJbWFnZVByb2dyZXNzQ2FyZDogZmFsc2UsCiAgICAgIENhcHR1cmVJbWFnZVByb2dyZXNzTnVtOiAwLAogICAgICBDYXB0dXJlSW1hZ2VQcm9ncmVzc051bV86IDAsCgogICAgICBzaG93UEhEMkJveEFuZENyb3NzOiBmYWxzZSwKICAgICAgUEhEMkJveF9YOiAwLAogICAgICBQSEQyQm94X1k6IDAsCiAgICAgIFBIRDJCb3hfV2lkdGg6IDAsCiAgICAgIFBIRDJCb3hfSGVpZ2h0OiAwLAoKICAgICAgUEhEMkNyb3NzX1g6IDAsCiAgICAgIFBIRDJDcm9zc19ZOiAwLAogICAgICBQSEQyQ3Jvc3NfV2lkdGg6IDAsCiAgICAgIFBIRDJDcm9zc19IZWlnaHQ6IDAsCgogICAgICBQSEQyTXVsdGlTdGFyczogW10sCgogICAgICBDdXJyZW50R3VpZGVyU3RhdHVzOiAnbnVsbCcsCgogICAgICBQSEQyQm94VmlldzogdHJ1ZSwKICAgICAgUEhEMkNyb3NzVmlldzogdHJ1ZSwKCiAgICAgIGxvYWRpbmdJbWFnZVNvbHZlOiBmYWxzZSwKCiAgICAgIGN1cnJlbnRQb2xhckF4aXNTdGVwOiAxLAoKICAgICAgUG9sYXJBeGlzU3RlcFRpcHM6IFsKICAgICAgICAiUm90YXRlIHRoZSBlcXVhdG9yaWFsIGRlYyBheGlzIGJ5IGEgY2VydGFpbiBhbmdsZSBhbmQgdGhlbiB0YWtlIHBob3RvcyBmb3IgYW5hbHlzaXMuIiwKICAgICAgICAiVGhlIERlYyBheGlzIHJlbWFpbnMgc3RhdGlvbmFyeSwgcm90YXRlIHRoZSBSYSBheGlzIGJ5IGEgY2VydGFpbiBhbmdsZSwgYW5kIHRoZW4gdGFrZSBwaG90b3MgZm9yIGFuYWx5c2lzLiIsCiAgICAgICAgIkNvbnRpbnVlIHJvdGF0aW5nIHRoZSBSYSBheGlzIGFuZCB0aGVuIHRha2UgcGhvdG9zIGZvciBhbmFseXNpcy4iLAogICAgICAgICJUdXJuIG9uIHRoZSBsb29wIHNob290aW5nIGFuYWx5c2lzLCBrZWVwIHRoZSBSYSBhbmQgRGVjIGF4ZXMgc3RpbGwsIGFkanVzdCB0aGUgZXF1YXRvcmlhbCBtZXRlciB0byBtYWtlIHRoZSB0d28gY2lyY2xlcyBpbiB0aGUgc3RhciBjaGFydCBhcyBjbG9zZSB0byBlYWNoIG90aGVyIGFzIHBvc3NpYmxlLiIKICAgICAgXSwKCiAgICAgIEJpbm5pbmdOdW06IDEsCiAgICAgIFBvc2l0aW9uSW5mbzogJycsCgogICAgICBzaG93UGFyc2luZ1Byb2dyZXNzOiBmYWxzZSwgIC8vIOaOp+WItuino+aekOi/m+W6puaWh+acrOahhueahOaYvuekugogICAgICBwYXJzaW5nUHJvZ3Jlc3NMaXN0OiBbXSwgICAgIC8vIOWtmOWCqOino+aekOi/m+W6pueahOWIl+ihqAogICAgICBpc1Nob3dTY2FsZUNoYW5nZTogZmFsc2UsCgogICAgICBwcmV2aW91c1N0YXRlOiB7ICAgICAgICAvLyDkv53lrZjpmpDol4/ml7bnmoR1aeeKtuaAgQogICAgICAgIGlzU2hvd0ltYWdlOiBmYWxzZSwKICAgICAgICBzaG93TW91bnRTd2l0Y2g6IGZhbHNlLAogICAgICAgIGlzUmVkQm94TW9kZTogZmFsc2UsCiAgICAgICAgc2hvd1Rvb2xiYXI6IGZhbHNlLAogICAgICAgIGlzQ2FwdHVyZU1vZGU6IGZhbHNlLAogICAgICAgIHNob3dGbG9hdGluZ0JveDogZmFsc2UsCiAgICAgICAgc2hvd0hpc3RvZ3JhbVBhbmVsOiBmYWxzZSwKICAgICAgICBpc0V4cFRpbWVCYXJTaG93OiBmYWxzZSwKICAgICAgICBpc0NGV1NlbGVjdEJhclNob3c6IGZhbHNlLAogICAgICAgIGlzTWFpblN3aXRjaFNob3c6IGZhbHNlLAogICAgICAgIHNob3dGb2N1c2VyUGFuZWw6IGZhbHNlLAogICAgICAgIHNob3dDaGFydHNQYW5lbDogZmFsc2UsCiAgICAgICAgaXNTaG93U2NhbGVDaGFuZ2U6IGZhbHNlCiAgICAgIH0sCgogICAgICBzZWxlY3RTdGFyWDogMCwgLy8g6YCJ5oup5pif54K555qEWOWdkOaghwogICAgICBzZWxlY3RTdGFyWTogMCwgLy8g6YCJ5oup5pif54K555qEWeWdkOaghwoKICAgICAgc2hvd1VwZGF0ZURpYWxvZzogZmFsc2UsIC8vIOaYr+WQpuaYvuekuuabtOaWsOi/m+W6puWvueivneahhgoKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiRidXMuJG9uKCdhZGQtZHJpdmVyJywgdGhpcy5oYW5kbGVBZGREcml2ZXIpOwogICAgdGhpcy4kYnVzLiRvbignYWRkLWRldmljZScsIHRoaXMuaGFuZGxlQWRkRGV2aWNlKTsKICAgIHRoaXMuJGJ1cy4kb24oJ3Nob3dNc2dCb3gnLCB0aGlzLnNob3dNZXNzYWdlQm94KTsKICAgIHRoaXMuJGJ1cy4kb24oJ01haW5DYW1lcmFTaXplJywgdGhpcy5yZXNpemVSZWRCb3gpOwogICAgdGhpcy4kYnVzLiRvbignTWFpbkNhbWVyYUJpbm5pbmcnLCB0aGlzLlNldEJpbm5pbmdOdW0pOwogICAgdGhpcy4kYnVzLiRvbignUmVkQm94U2l6ZUNoYW5nZScsIHRoaXMuc2V0T3JpZ2luYWxSZWRCb3hMZW5ndGgpOwogICAgdGhpcy4kYnVzLiRvbigndGltZS1zZWxlY3RlZCcsIHRoaXMuaGFuZGxlRXhwVGltZVNlbGVjdGVkKTsKICAgIC8vIHRoaXMuJGJ1cy4kb24oJ2Nmdy1zZWxlY3RlZCcsIHRoaXMuaGFuZGxlQ0ZXU2VsZWN0ZWQpOwogICAgdGhpcy4kYnVzLiRvbigndG9nZ2xlU2NoZWR1bGVQYW5lbCcsIHRoaXMudG9nZ2xlU2NoZWR1bGVQYW5lbCk7CiAgICB0aGlzLiRidXMuJG9uKCdNb3VudFBhbmVsQ2xvc2UnLCB0aGlzLnRvZ2dsZUZsb2F0aW5nQm94KTsKICAgIHRoaXMuJGJ1cy4kb24oJ3RvZ2dsZUhpc3RvZ3JhbVBhbmVsJywgdGhpcy50b2dnbGVIaXN0b2dyYW1QYW5lbCk7CiAgICB0aGlzLiRidXMuJG9uKCd0b2dnbGVGb2N1c2VyUGFuZWwnLCB0aGlzLnRvZ2dsZUZvY3VzZXJQYW5lbCk7CiAgICB0aGlzLiRidXMuJG9uKCdJbWFnZU1hbmFnZXJQYW5lbENsb3NlJywgdGhpcy50b2dnbGVJbWFnZU1hbmFnZXJQYW5lbCk7CiAgICB0aGlzLiRidXMuJG9uKCdJbWFnZU1hbmFnZXJQYW5lbE9wZW4nLCB0aGlzLnRvZ2dsZUltYWdlTWFuYWdlclBhbmVsKTsKICAgIHRoaXMuJGJ1cy4kb24oJ3RvZ2dsZURldmljZUFsbG9jYXRpb25QYW5lbCcsIHRoaXMudG9nZ2xlRGV2aWNlQWxsb2NhdGlvblBhbmVsKTsKICAgIHRoaXMuJGJ1cy4kb24oJ3RvZ2dsZUlORElEZWJ1Z0RpYWxvZycsIHRoaXMudG9nZ2xlSU5ESURlYnVnRGlhbG9nKTsKICAgIHRoaXMuJGJ1cy4kb24oJ3RvZ2dsZVJQSUhvdHNwb3REaWFsb2cnLCB0aGlzLnRvZ2dsZVJQSUhvdHNwb3REaWFsb2cpOwogICAgdGhpcy4kYnVzLiRvbigndG9nZ2xlRGF0ZVRpbWVQaWNrZXInLCB0aGlzLnRvZ2dsZURhdGVUaW1lUGlja2VyKTsKICAgIC8vIHRoaXMuJGJ1cy4kb24oJ1JlZEJveENsaWNrJywgdGhpcy5oYW5kbGVUb3VjaE9yTW91c2VEb3duKTsKICAgIC8vIHRoaXMuJGJ1cy4kb24oJ1JlZEJveF9YWScsIHRoaXMuUmVkQm94X1hZKTsKICAgIC8vIHRoaXMuJGJ1cy4kb24oJ1JlZEJveE9mZnNldCcsIHRoaXMuc2V0UmVkQm94T2Zmc2V0KTsKICAgIC8vIHRoaXMuJGJ1cy4kb24oJ1JlZEJveFNjYWxlJywgdGhpcy5TZXRSZWRCb3hTY2FsZSk7CiAgICAvLyB0aGlzLiRidXMuJG9uKCdTY2FsZUltYWdlU2l6ZScsIHRoaXMuc2V0U2NhbGVJbWFnZVNpemUpOwogICAgdGhpcy4kYnVzLiRvbignQ2FsaWJyYXRlUG9sYXJBeGlzTW9kZScsIHRoaXMuQ2FsaWJyYXRlUG9sYXJBeGlzTW9kZSk7CiAgICB0aGlzLiRidXMuJG9uKCdzaG93U29sdmVJbWFnZScsIHRoaXMuc2hvd1NvbHZlSW1hZ2UpOwogICAgdGhpcy4kYnVzLiRvbignSGlkZVNpbmdsZVNvbHZlQnRuJywgdGhpcy5IaWRlU2luZ2xlU29sdmVCdG4pOwogICAgdGhpcy4kYnVzLiRvbignU2hvd0F6QWx0VGV4dCcsIHRoaXMuU2hvd0F6QWx0VGV4dCk7CiAgICB0aGlzLiRidXMuJG9uKCdTaG93Q3VycmVudEF6QWx0VGV4dCcsIHRoaXMuU2hvd0N1cnJlbnRBekFsdFRleHQpOwogICAgdGhpcy4kYnVzLiRvbignU2hvd0NvbmZpcm1EaWFsb2cnLCB0aGlzLlNob3dDb25maXJtRGlhbG9nKTsKICAgIC8vIHRoaXMuJGJ1cy4kb24oJ0NhbWVyYUluRXhwb3N1cmluZycsIHRoaXMuU3dpdGNoTWFpblBhZ2UpOwogICAgdGhpcy4kYnVzLiRvbignU2hvd0NhcHR1cmVJbWFnZVByb2dyZXNzJywgdGhpcy5TaG93Q2FwdHVyZUltYWdlUHJvZ3Jlc3MpOwogICAgdGhpcy4kYnVzLiRvbignUEhEMkJveFBvc2l0aW9uJywgdGhpcy5QSEQyQm94UG9zaXRpb24pOwogICAgdGhpcy4kYnVzLiRvbignQ2xlYXJQSEQyTXVsdGlTdGFycycsIHRoaXMuQ2xlYXJQSEQyTXVsdGlTdGFycyk7CiAgICB0aGlzLiRidXMuJG9uKCdQSEQyTXVsdGlTdGFyc1Bvc2l0aW9uJywgdGhpcy5QSEQyTXVsdGlTdGFyc1Bvc2l0aW9uKTsKICAgIHRoaXMuJGJ1cy4kb24oJ1BIRDJDcm9zc1Bvc2l0aW9uJywgdGhpcy5QSEQyQ3Jvc3NQb3NpdGlvbik7CiAgICB0aGlzLiRidXMuJG9uKCdHdWlkZXJTdGF0dXMnLCB0aGlzLkd1aWRlclN0YXR1cyk7CiAgICB0aGlzLiRidXMuJG9uKCdQSEQyU3RhckJveFZpZXcnLCB0aGlzLnRvZ2dsZVBIRDJTdGFyQm94KTsKICAgIHRoaXMuJGJ1cy4kb24oJ1BIRDJTdGFyQ3Jvc3NWaWV3JywgdGhpcy50b2dnbGVQSEQyU3RhckNyb3NzKTsKICAgIHRoaXMuJGJ1cy4kb24oIkltYWdlU29sdmVGaW5pc2hlZCIsIHRoaXMuSW1hZ2VTb2x2ZUZpbmlzaGVkKTsKICAgIHRoaXMuJGJ1cy4kb24oJ0ZvY2FsIExlbmd0aCAobW0pJywgdGhpcy5Gb2NhbExlbmd0aFNldCk7CiAgICB0aGlzLiRidXMuJG9uKCdTZXRGb2NhbExlbmd0aE51bScsIHRoaXMuRm9jYWxMZW5ndGhTZXQpOwogICAgdGhpcy4kYnVzLiRvbignRm9jYWxMZW5ndGgnLCB0aGlzLkZvY2FsTGVuZ3RoU2V0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ1NldEJpbm5pbmdOdW0nLCB0aGlzLlNldEJpbm5pbmdOdW0pOwogICAgdGhpcy4kYnVzLiRvbignU2hvd0RTTFJzU2V0dXAnLCB0aGlzLlNob3dEU0xSc1NldHVwKTsKICAgIHRoaXMuJGJ1cy4kb24oJ1Nob3dQb3NpdGlvbkluZm8nLCB0aGlzLlNob3dQb3NpdGlvbkluZm8pOwogICAgdGhpcy4kYnVzLiRvbignUGFyc2VJbmZvRW1pdHRlZCcsIHRoaXMuYWRkUGFyc2luZ1Byb2dyZXNzKTsKICAgIHRoaXMuJGJ1cy4kb24oJ3NldFBhcnNpbmdQcm9ncmVzcycsIHRoaXMuc2V0UGFyc2luZ1Byb2dyZXNzKTsKICAgIHRoaXMuJGJ1cy4kb24oJ0xvb3BTb2x2ZUltYWdlRmluaXNoZWQnLCB0aGlzLkxvb3BTb2x2ZUltYWdlRmluaXNoZWQpOwogICAgdGhpcy4kYnVzLiRvbignc2V0UmVkQm94UG9zaXRpb24nLCB0aGlzLnNldFJlZEJveFBvc2l0aW9uKTsKICAgIHRoaXMuJGJ1cy4kb24oJ3NldFJlZEJveExlbmd0aCcsIHRoaXMuc2V0UmVkQm94TGVuZ3RoKTsKICAgIC8vIHRoaXMuJGJ1cy4kb24oJ3NldE9yaWdpbmFsUmVkQm94U2lkZUxlbmd0aCcsIHRoaXMuc2V0T3JpZ2luYWxSZWRCb3hMZW5ndGgpOwogICAgdGhpcy4kYnVzLiRvbignZ2V0UmVkQm94U3RhdGUnLCB0aGlzLmdldFJlZEJveFN0YXRlKTsKICAgIHRoaXMuJGJ1cy4kb24oJ3NlbGVjdFN0YXInLCB0aGlzLnNlbGVjdFN0YXIpOwogICAgdGhpcy4kYnVzLiRvbignc2V0U2NhbGUnLCB0aGlzLnNldFNjYWxlKTsKICAgIHRoaXMuJGJ1cy4kb24oJ3JlUnVuVXBkYXRlJywgdGhpcy5yZVJ1blVwZGF0ZSk7ICAgLy8g55So5LqO5Zyo5pu05paw5aSx6LSl5ZCO6YeN5paw6L+Q6KGM5pu05pawCiAgICB0aGlzLiRidXMuJG9uKCdjbG9zZVVwZGF0ZURpYWxvZycsIHRoaXMuY2xvc2VVcGRhdGVEaWFsb2cpOwogIH0sCiAgbW91bnRlZCgpIHsKICAgIC8vIHRoaXMucmVzaXplUmVkQm94KDE5MjAsIDEwODApOwogICAgLy8gdGhpcy4kYnVzLiRlbWl0KCdzeW5jUk9JX2xlbmd0aCcpOwogIH0sCiAgbWV0aG9kczogewogICAgdG9nZ2xlRmxvYXRpbmdCb3goKSB7CiAgICAgIHRoaXMuc2hvd0Zsb2F0aW5nQm94ID0gIXRoaXMuc2hvd0Zsb2F0aW5nQm94OyAvLyDliIfmjaLmmL7npLrnirbmgIEKICAgIH0sCiAgICB0b2dnbGVDaGFydHNQYW5lbCgpIHsKICAgICAgdGhpcy5zaG93Q2hhcnRzUGFuZWwgPSAhdGhpcy5zaG93Q2hhcnRzUGFuZWw7CiAgICAgIGlmICh0aGlzLnNob3dGb2N1c2VyUGFuZWwpIHsKICAgICAgICB0aGlzLnNob3dGb2N1c2VyUGFuZWwgPSAhdGhpcy5zaG93Rm9jdXNlclBhbmVsOwogICAgICB9CiAgICAgIGVsc2UgaWYgKHRoaXMuc2hvd0hpc3RvZ3JhbVBhbmVsKSB7CiAgICAgICAgdGhpcy5zaG93SGlzdG9ncmFtUGFuZWwgPSAhdGhpcy5zaG93SGlzdG9ncmFtUGFuZWw7CiAgICAgIH0KICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTd2l0Y2hJbWFnZVRvU2hvdycsIHRydWUpOwogICAgfSwKICAgIHRvZ2dsZUhpc3RvZ3JhbVBhbmVsKCkgewogICAgICB0aGlzLnNob3dSZWRCb3ggPSBmYWxzZTsKICAgICAgdGhpcy5zaG93SGlzdG9ncmFtUGFuZWwgPSAhdGhpcy5zaG93SGlzdG9ncmFtUGFuZWw7CiAgICAgIGlmICh0aGlzLnNob3dGb2N1c2VyUGFuZWwpIHsKICAgICAgICB0aGlzLnNob3dGb2N1c2VyUGFuZWwgPSAhdGhpcy5zaG93Rm9jdXNlclBhbmVsOwogICAgICB9CiAgICAgIGVsc2UgaWYgKHRoaXMuc2hvd0NoYXJ0c1BhbmVsKSB7CiAgICAgICAgdGhpcy5zaG93Q2hhcnRzUGFuZWwgPSAhdGhpcy5zaG93Q2hhcnRzUGFuZWw7CiAgICAgIH0KICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTd2l0Y2hJbWFnZVRvU2hvdycsIHRydWUpOwogICAgfSwKICAgIHRvZ2dsZUZvY3VzZXJQYW5lbCgpIHsKICAgICAgdGhpcy5zaG93Rm9jdXNlclBhbmVsID0gIXRoaXMuc2hvd0ZvY3VzZXJQYW5lbDsKICAgICAgaWYgKHRoaXMuc2hvd0hpc3RvZ3JhbVBhbmVsKSB7CiAgICAgICAgdGhpcy5zaG93SGlzdG9ncmFtUGFuZWwgPSAhdGhpcy5zaG93SGlzdG9ncmFtUGFuZWw7CgogICAgICB9CiAgICAgIGVsc2UgaWYgKHRoaXMuc2hvd0NoYXJ0c1BhbmVsKSB7CiAgICAgICAgdGhpcy5zaG93Q2hhcnRzUGFuZWwgPSAhdGhpcy5zaG93Q2hhcnRzUGFuZWw7CiAgICAgIH0KICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTd2l0Y2hJbWFnZVRvU2hvdycsICF0aGlzLnNob3dGb2N1c2VyUGFuZWwpOwogICAgICBpZiAodGhpcy5zaG93Rm9jdXNlclBhbmVsKSB7CiAgICAgICAgLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZVRvdWNoT3JNb3VzZURvd24pOwogICAgICAgIHRoaXMuc2hvd1JlZEJveCA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zaG93UmVkQm94ID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICB0b2dnbGVTY2hlZHVsZVBhbmVsKCkgewogICAgICB0aGlzLlNob3dTY2hlZHVsZVBhbmVsID0gIXRoaXMuU2hvd1NjaGVkdWxlUGFuZWw7CiAgICB9LAoKICAgIHRvZ2dsZUltYWdlTWFuYWdlclBhbmVsKCkgewogICAgICB0aGlzLlNob3dJbWFnZU1hbmFnZXJQYW5lbCA9ICF0aGlzLlNob3dJbWFnZU1hbmFnZXJQYW5lbDsKICAgICAgaWYgKHRoaXMuU2hvd0ltYWdlTWFuYWdlclBhbmVsKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdjYWxjdWxhdGVUb3RhbFBhZ2UnKTsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ1Nob3dBbGxJbWFnZUZvbGRlcicpOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnVVNCQ2hlY2snKTsKICAgICAgfQogICAgfSwKCiAgICB0b2dnbGVEZXZpY2VBbGxvY2F0aW9uUGFuZWwoKSB7CiAgICAgIHRoaXMuU2hvd0RldmljZUFsbG9jYXRpb25QYW5lbCA9ICF0aGlzLlNob3dEZXZpY2VBbGxvY2F0aW9uUGFuZWw7CiAgICB9LAoKICAgIHRvZ2dsZUlORElEZWJ1Z0RpYWxvZygpIHsKICAgICAgdGhpcy5TaG93SU5ESURlYnVnRGlhbG9nID0gIXRoaXMuU2hvd0lORElEZWJ1Z0RpYWxvZzsKICAgIH0sCgogICAgdG9nZ2xlUlBJSG90c3BvdERpYWxvZygpIHsKICAgICAgdGhpcy5TaG93UlBJSG90c3BvdERpYWxvZyA9ICF0aGlzLlNob3dSUElIb3RzcG90RGlhbG9nOwogICAgfSwKCiAgICB0b2dnbGVEYXRlVGltZVBpY2tlcigpIHsKICAgICAgdGhpcy5TaG93RGF0ZVRpbWVQaWNrZXIgPSAhdGhpcy5TaG93RGF0ZVRpbWVQaWNrZXI7CiAgICB9LAoKICAgIHNob3dDYXB0dXJlVUkoKSB7CiAgICAgIC8vIOaBouWkjeS5i+WJjeS/neWtmOeahCBVSSDnirbmgIEKICAgICAgdGhpcy5pc1Nob3dJbWFnZSA9IHRoaXMucHJldmlvdXNTdGF0ZS5pc1Nob3dJbWFnZTsKICAgICAgdGhpcy5zaG93TW91bnRTd2l0Y2ggPSB0aGlzLnByZXZpb3VzU3RhdGUuc2hvd01vdW50U3dpdGNoOwogICAgICB0aGlzLmlzUmVkQm94TW9kZSA9IHRoaXMucHJldmlvdXNTdGF0ZS5pc1JlZEJveE1vZGU7CiAgICAgIHRoaXMuc2hvd1Rvb2xiYXIgPSB0aGlzLnByZXZpb3VzU3RhdGUuc2hvd1Rvb2xiYXI7CiAgICAgIHRoaXMuaXNDYXB0dXJlTW9kZSA9IHRoaXMucHJldmlvdXNTdGF0ZS5pc0NhcHR1cmVNb2RlOwogICAgICB0aGlzLmlzU2hvd1NjYWxlQ2hhbmdlID0gdGhpcy5wcmV2aW91c1N0YXRlLmlzU2hvd1NjYWxlQ2hhbmdlOwogICAgICB0aGlzLnNob3dGbG9hdGluZ0JveCA9IHRoaXMucHJldmlvdXNTdGF0ZS5zaG93RmxvYXRpbmdCb3g7CiAgICAgIHRoaXMuc2hvd0hpc3RvZ3JhbVBhbmVsID0gdGhpcy5wcmV2aW91c1N0YXRlLnNob3dIaXN0b2dyYW1QYW5lbDsKICAgICAgdGhpcy5pc0V4cFRpbWVCYXJTaG93ID0gdGhpcy5wcmV2aW91c1N0YXRlLmlzRXhwVGltZUJhclNob3c7CiAgICAgIHRoaXMuaXNDRldTZWxlY3RCYXJTaG93ID0gdGhpcy5wcmV2aW91c1N0YXRlLmlzQ0ZXU2VsZWN0QmFyU2hvdzsKICAgICAgdGhpcy5pc01haW5Td2l0Y2hTaG93ID0gdGhpcy5wcmV2aW91c1N0YXRlLmlzTWFpblN3aXRjaFNob3c7CiAgICAgIHRoaXMuc2hvd0ZvY3VzZXJQYW5lbCA9IHRoaXMucHJldmlvdXNTdGF0ZS5zaG93Rm9jdXNlclBhbmVsOwogICAgICB0aGlzLnNob3dDaGFydHNQYW5lbCA9IHRoaXMucHJldmlvdXNTdGF0ZS5zaG93Q2hhcnRzUGFuZWw7CiAgICAgIHRoaXMuaXNTaG93SGlkZVVpID0gdGhpcy5wcmV2aW91c1N0YXRlLmlzU2hvd0hpZGVVaTsKICAgICAgLy8gdGhpcy5pc1BvbGFyQXhpc01vZGUgPSB0aGlzLnByZXZpb3VzU3RhdGUuaXNQb2xhckF4aXNNb2RlOwoKICAgICAgLy8g5Y+R6YCB5p6B6L205qih5byP54q25oCB5pu05pawCiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnUG9sYXJBeGlzTW9kZScsIHRoaXMuaXNQb2xhckF4aXNNb2RlKTsKICAgIH0sCiAgICBoaWRlQ2FwdHVyZVVJKGlzU2hvd2VxdWF0b3JpYWxfam5vdyA9IGZhbHNlKSB7CiAgICAgIC8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVUb3VjaE9yTW91c2VEb3duKTsKICAgICAgdGhpcy5wcmV2aW91c1N0YXRlID0gewogICAgICAgIGlzU2hvd0ltYWdlOiB0aGlzLmlzU2hvd0ltYWdlLCAgICAgICAgICAgICAgICAvLyDpmpDol4/kuI7njrDlrp7mjInpkq7nmoTliIfmjaIKICAgICAgICBzaG93TW91bnRTd2l0Y2g6IHRoaXMuc2hvd01vdW50U3dpdGNoLCAgICAgICAgLy8g5pi+56S65LiO6ZqQ6JeP6LWk6YGT5Luq5YiH5o2i5oyJ6ZKuCiAgICAgICAgaXNSZWRCb3hNb2RlOiB0aGlzLmlzUmVkQm94TW9kZSwgICAgICAgICAgICAgLy8g5pi+56S65LiO6ZqQ6JeP5bCP57qi5qGGCiAgICAgICAgc2hvd1Rvb2xiYXI6IHRoaXMuc2hvd1Rvb2xiYXIsICAgICAgICAgICAgICAgLy8g5pi+56S65LiO6ZqQ6JeP5bel5YW35qCPCiAgICAgICAgaXNDYXB0dXJlTW9kZTogdGhpcy5pc0NhcHR1cmVNb2RlLCAgICAgICAgICAgLy8g5pi+56S65LiO6ZqQ6JeP5ouN54Wn5qih5byPCiAgICAgICAgaXNTaG93U2NhbGVDaGFuZ2U6IHRoaXMuaXNTaG93U2NhbGVDaGFuZ2UsICAgLy8g5pi+56S65LiO6ZqQ6JeP57yp5pS+5oyJ6ZKuCiAgICAgICAgc2hvd0Zsb2F0aW5nQm94OiB0aGlzLnNob3dGbG9hdGluZ0JveCwgICAgICAgLy8g5pi+56S65LiO6ZqQ6JeP5rWu5Yqo5qGGCiAgICAgICAgc2hvd0hpc3RvZ3JhbVBhbmVsOiB0aGlzLnNob3dIaXN0b2dyYW1QYW5lbCwgLy8g5pi+56S65LiO6ZqQ6JeP55u05pa55Zu+6Z2i5p2/CiAgICAgICAgaXNFeHBUaW1lQmFyU2hvdzogdGhpcy5pc0V4cFRpbWVCYXJTaG93LCAgICAgLy8g5pi+56S65LiO6ZqQ6JeP5pud5YWJ5pe26Ze05p2hCiAgICAgICAgaXNDRldTZWxlY3RCYXJTaG93OiB0aGlzLmlzQ0ZXU2VsZWN0QmFyU2hvdywgLy8g5pi+56S65LiO6ZqQ6JeP5ruk6ZWc6L2u6YCJ5oup5ZmoCiAgICAgICAgaXNNYWluU3dpdGNoU2hvdzogdGhpcy5pc01haW5Td2l0Y2hTaG93LCAgICAgLy8g5pi+56S65LiO6ZqQ6JeP5Li76aG15YiH5o2i5oyJ6ZKuCiAgICAgICAgc2hvd0ZvY3VzZXJQYW5lbDogdGhpcy5zaG93Rm9jdXNlclBhbmVsLCAgIC8vIOaYvuekuuS4jumakOiXj+iBmueEpuWZqOmdouadvwogICAgICAgIHNob3dDaGFydHNQYW5lbDogdGhpcy5zaG93Q2hhcnRzUGFuZWwsICAgICAgLy8g5pi+56S65LiO6ZqQ6JeP5Zu+6KGo6Z2i5p2/CiAgICAgICAgaXNTaG93SGlkZVVpOiB0aGlzLmlzU2hvd0hpZGVVaSwgICAgICAgICAgICAvLyDmmL7npLrkuI7pmpDol4/pmpDol4/nlKjmiLfnlYzpnaIKCiAgICAgIH07CgogICAgICB0aGlzLmlzU2hvd0ltYWdlID0gZmFsc2U7CiAgICAgIHRoaXMuc2hvd01vdW50U3dpdGNoID0gZmFsc2U7CiAgICAgIHRoaXMuaXNSZWRCb3hNb2RlID0gZmFsc2U7CiAgICAgIHRoaXMuc2hvd1Rvb2xiYXIgPSBmYWxzZTsKICAgICAgdGhpcy5pc0NhcHR1cmVNb2RlID0gZmFsc2U7CiAgICAgIHRoaXMuc2hvd0Zsb2F0aW5nQm94ID0gZmFsc2U7CiAgICAgIHRoaXMuc2hvd0hpc3RvZ3JhbVBhbmVsID0gZmFsc2U7CiAgICAgIHRoaXMuaXNFeHBUaW1lQmFyU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLmlzQ0ZXU2VsZWN0QmFyU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLmlzTWFpblN3aXRjaFNob3cgPSBmYWxzZTsKICAgICAgdGhpcy5zaG93Rm9jdXNlclBhbmVsID0gZmFsc2U7CiAgICAgIHRoaXMuc2hvd0hpc3RvZ3JhbVBhbmVsID0gZmFsc2U7CiAgICAgIHRoaXMuc2hvd0NoYXJ0c1BhbmVsID0gZmFsc2U7CiAgICAgIGlmIChpc1Nob3dlcXVhdG9yaWFsX2pub3cpIHsKICAgICAgICB0aGlzLiRzdGVsLmNvcmUubGluZXMuZXF1YXRvcmlhbF9qbm93LnZpc2libGUgPSB0cnVlOwogICAgICAgIC8vIHRoaXMuc2hvd01vdW50U3dpdGNoID0gdHJ1ZTsKICAgICAgfQoKICAgIH0sCgogICAgLy8gUmVkQm94X1hZKGV2ZW50KSB7CiAgICAvLyAgIGlmICh0aGlzLmlzUmVkQm94TW9kZSkgewogICAgLy8gICAgIC8vIHRoaXMubW91c2VYID0gWDsKICAgIC8vICAgICAvLyB0aGlzLm1vdXNlWSA9IFk7CiAgICAvLyAgICAgdGhpcy5oYW5kbGVUb3VjaE9yTW91c2VEb3duKGV2ZW50KTsKICAgIC8vICAgfQogICAgLy8gfSwKCiAgICAvLyBzZXRSZWRCb3hPZmZzZXQoWCwgWSkgewogICAgLy8gICB0aGlzLlJlZEJveE9mZnNldF9YID0gWDsKICAgIC8vICAgdGhpcy5SZWRCb3hPZmZzZXRfWSA9IFk7CiAgICAvLyAgIC8vIGNvbnNvbGUubG9nKCdSZWRCb3hPZmZzZXQ6JywgdGhpcy5SZWRCb3hPZmZzZXRfWSk7CiAgICAvLyAgIHRoaXMubW91c2VYID0gdGhpcy5tb3VzZVhfIC0gdGhpcy5SZWRCb3hPZmZzZXRfWDsKICAgIC8vICAgdGhpcy5tb3VzZVkgPSB0aGlzLm1vdXNlWV8gLSB0aGlzLlJlZEJveE9mZnNldF9ZOwogICAgLy8gfSwKCiAgICAvLyBTZXRSZWRCb3hTY2FsZSh2YWx1ZSkgewogICAgLy8gICB0aGlzLlJlZEJveFdpZHRoID0gdGhpcy5SZWRCb3hXaWR0aF8gKiB2YWx1ZTsKICAgIC8vICAgdGhpcy5SZWRCb3hIZWlnaHQgPSB0aGlzLlJlZEJveEhlaWdodF8gKiB2YWx1ZTsKICAgIC8vIH0sCgogICAgU2V0QmlubmluZ051bShudW0pIHsKICAgICAgdGhpcy5CaW5uaW5nTnVtID0gbnVtOwogICAgICBjb25zb2xlLmxvZygnY3VycmVudEltYWdlQmluOicsIG51bSk7CiAgICB9LAoKICAgIEZvY2FsTGVuZ3RoU2V0KG51bSkgewogICAgICBpZiAobnVtID09PSAnJykgewogICAgICAgIHRoaXMuRm9jYWxMZW5ndGggPSAwOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuRm9jYWxMZW5ndGggPSBudW07CiAgICAgIH0KICAgICAgY29uc29sZS5sb2coJ2N1cnJlbnRGb2NhbExlbmd0aDonLCBudW0pOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ3NhdmVUb0NvbmZpZ0ZpbGU6Rm9jYWxMZW5ndGg6JyArIG51bSk7CiAgICB9LAoKICAgIFBIRDJCb3hQb3NpdGlvbihCb3hTdGFydFgsIEJveFN0YXJ0WSwgQm94V2lkdGgsIEJveEhlaWdodCkgewogICAgICB0aGlzLlBIRDJCb3hfWCA9IEJveFN0YXJ0WDsKICAgICAgdGhpcy5QSEQyQm94X1kgPSBCb3hTdGFydFk7CiAgICAgIHRoaXMuUEhEMkJveF9XaWR0aCA9IEJveFdpZHRoOwogICAgICB0aGlzLlBIRDJCb3hfSGVpZ2h0ID0gQm94SGVpZ2h0OwogICAgfSwKCiAgICBQSEQyQ3Jvc3NQb3NpdGlvbihDcm9zc1N0YXJ0WCwgQ3Jvc3NTdGFydFkpIHsKICAgICAgdGhpcy5QSEQyQ3Jvc3NfWCA9IENyb3NzU3RhcnRYOwogICAgICB0aGlzLlBIRDJDcm9zc19ZID0gQ3Jvc3NTdGFydFk7CiAgICAgIHRoaXMuUEhEMkNyb3NzX1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7CiAgICAgIHRoaXMuUEhEMkNyb3NzX0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsKICAgIH0sCgogICAgUEhEMk11bHRpU3RhcnNQb3NpdGlvbihTdGFyU3RhcnRYLCBTdGFyU3RhcnRZKSB7CiAgICAgIHRoaXMuUEhEMk11bHRpU3RhcnMucHVzaCh7IFg6IFN0YXJTdGFydFgsIFk6IFN0YXJTdGFydFkgfSk7CiAgICB9LAoKICAgIENsZWFyUEhEMk11bHRpU3RhcnMoKSB7CiAgICAgIHRoaXMuUEhEMk11bHRpU3RhcnMgPSBbXTsKICAgIH0sCgogICAgR3VpZGVyU3RhdHVzKHN0YXR1cykgewogICAgICBpZiAoc3RhdHVzID09PSAnSW5HdWlkaW5nJykgewogICAgICAgIHRoaXMuQ3VycmVudEd1aWRlclN0YXR1cyA9ICdJbkd1aWRpbmcnOwogICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ0luQ2FsaWJyYXRpb24nKSB7CiAgICAgICAgdGhpcy5DdXJyZW50R3VpZGVyU3RhdHVzID0gJ0luQ2FsaWJyYXRpb24nOwogICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ1N0YXJMb3N0QWxlcnQnKSB7CiAgICAgICAgdGhpcy5DdXJyZW50R3VpZGVyU3RhdHVzID0gJ1N0YXJMb3N0QWxlcnQnOwogICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ0Nvbm5lY3RlZCcpIHsKICAgICAgICB0aGlzLkN1cnJlbnRHdWlkZXJTdGF0dXMgPSAnQ29ubmVjdGVkJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLkN1cnJlbnRHdWlkZXJTdGF0dXMgPSAnbnVsbCc7CiAgICAgIH0KICAgIH0sCgogICAgLy8gc2V0U2NhbGVJbWFnZVNpemUod2lkdGgsIGhlaWdodCkgewogICAgLy8gICB0aGlzLlNjYWxlSW1hZ2VXaWR0aCA9IHdpZHRoOwogICAgLy8gICB0aGlzLlNjYWxlSW1hZ2VIZWlnaHQgPSBoZWlnaHQ7CiAgICAvLyAgIC8vIGNvbnNvbGUubG9nKCdTY2FsZUltYWdlU2l6ZTogJyArIHRoaXMuU2NhbGVJbWFnZVdpZHRoICsgJywgJyArIHRoaXMuU2NhbGVJbWFnZUhlaWdodCk7CiAgICAvLyB9LAoKICAgIHNldFJlZEJveFBvc2l0aW9uKHgsIHkpIHsKICAgICAgLy8g6K6h566XIFJlZEJveCDnmoTkuK3lv4PkvY3nva4KICAgICAgY29uc3QgaGFsZkJveFdpZHRoID0gTWF0aC5mbG9vcih0aGlzLlJlZEJveFdpZHRoIC8gMik7CiAgICAgIGNvbnN0IGhhbGZCb3hIZWlnaHQgPSBNYXRoLmZsb29yKHRoaXMuUmVkQm94SGVpZ2h0IC8gMik7CgogICAgICAvLyAvLyDnoa7kv50gUmVkQm94IOS4reW/g+WdkOaghyAoeCwgeSkg5LiN5Lya5L2/IFJlZEJveCDotoXlh7rnlLvluIPovrnnlYwKICAgICAgLy8gY29uc3Qgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsKICAgICAgLy8gY29uc3Qgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0OwoKICAgICAgLy8gLy8g6LCD5pW0IHgg5ZKMIHkg5L2/5b6XIFJlZEJveCDkv53mjIHlnKjnlLvluIPlhoUKICAgICAgLy8gaWYgKHggLSBoYWxmQm94V2lkdGggPCAwKSB7CiAgICAgIC8vICAgeCA9IGhhbGZCb3hXaWR0aDsKICAgICAgLy8gICB4aXNzaWRlID0gMTsKICAgICAgLy8gfSBlbHNlIGlmICh4ICsgaGFsZkJveFdpZHRoID4gd2luZG93V2lkdGgpIHsKICAgICAgLy8gICB4ID0gd2luZG93V2lkdGggLSBoYWxmQm94V2lkdGg7CiAgICAgIC8vICAgeGlzc2lkZSA9IDI7CiAgICAgIC8vIH0KCiAgICAgIC8vIGlmICh5IC0gaGFsZkJveEhlaWdodCA8IDApIHsKICAgICAgLy8gICB5ID0gaGFsZkJveEhlaWdodDsKICAgICAgLy8gICB5aXNzaWRlID0gMTsKICAgICAgLy8gfSBlbHNlIGlmICh5ICsgaGFsZkJveEhlaWdodCA+IHdpbmRvd0hlaWdodCkgewogICAgICAvLyAgIHkgPSB3aW5kb3dIZWlnaHQgLSBoYWxmQm94SGVpZ2h0OwogICAgICAvLyAgIHlpc3NpZGUgPSAyOwogICAgICAvLyB9CgogICAgICAvLyB0aGlzLiRidXMuJGVtaXQoJ1NlbmRDb25zb2xlTG9nTXNnJywgJ+WbvuWDj+WBj+enuzogeD0nICsgdGhpcy5SZWRCb3hPZmZzZXRfWCArICcseT0nICsgdGhpcy5SZWRCb3hPZmZzZXRfWSwgJ2luZm8nKTsKCiAgICAgIC8vIOiuoeeul+S4reW/g+eCueWdkOaghwogICAgICB4ID0geCAtIGhhbGZCb3hXaWR0aDsKICAgICAgeSA9IHkgLSBoYWxmQm94SGVpZ2h0OwoKICAgICAgLy8g56Gu5L+dIFJlZEJveCDnmoTkuK3lv4PlnZDmoIcgKHgsIHkpIOaYr+WBtuaVsAogICAgICAvLyBpZiAoKHggLSBoYWxmQm94V2lkdGgpICUgMiAhPSAwKSB7CiAgICAgIC8vICAgICB4ID0geCArIDE7CiAgICAgIC8vIH0KICAgICAgLy8gaWYgKCh5IC0gaGFsZkJveEhlaWdodCkgJSAyICE9IDApIHsKICAgICAgLy8gICAgIHkgPSB5ICsgMTsKICAgICAgLy8gfQoKICAgICAgLy8g5pu05pawIFJlZEJveCDnmoTkvY3nva4KICAgICAgdGhpcy5tb3VzZVggPSBNYXRoLmZsb29yKHgpOwogICAgICB0aGlzLm1vdXNlWF8gPSBNYXRoLmZsb29yKHgpOwogICAgICB0aGlzLm1vdXNlWSA9IE1hdGguZmxvb3IoeSk7CiAgICAgIHRoaXMubW91c2VZXyA9IE1hdGguZmxvb3IoeSk7CgogICAgICBjb25zb2xlLmxvZygnVXBkYXRlZCBSZWRCb3ggcG9zaXRpb246ICcsIHRoaXMubW91c2VYLCAnLCcsIHRoaXMubW91c2VZKTsKCgogICAgICAvLyDlj5HpgIHmm7TmlrDkvY3nva7nmoTmtojmga8KICAgICAgLy8gaWYgKFJPSV94ICE9PSAwICYmIFJPSV95ICE9PSAwKSB7CiAgICAgIC8vICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdzZXRST0lQb3NpdGlvbjonICsgUk9JX3ggKyAiOiIgKyBST0lfeSk7CiAgICAgIC8vIH0KICAgICAgLy8gdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdSZWRCb3g6JyArIHRoaXMubW91c2VYICsgIjoiICsgdGhpcy5tb3VzZVkgKyAiOiIgKyB3aW5kb3cuaW5uZXJXaWR0aCArICI6IiArIHdpbmRvdy5pbm5lckhlaWdodCk7CiAgICB9LAoKICAgIHNldFJlZEJveExlbmd0aCh3aWR0aCwgaGVpZ2h0KSB7CgogICAgICB0aGlzLlJlZEJveFdpZHRoID0gd2lkdGg7CiAgICAgIHRoaXMuUmVkQm94V2lkdGhfID0gd2lkdGg7CiAgICAgIHRoaXMuUmVkQm94SGVpZ2h0ID0gaGVpZ2h0OwogICAgICB0aGlzLlJlZEJveEhlaWdodF8gPSBoZWlnaHQ7CiAgICB9LAoKICAgIHNldE9yaWdpbmFsUmVkQm94TGVuZ3RoKGxlbmd0aCkgewogICAgICBjb25zb2xlLmxvZygn5Yid5aeL5YyW5bCP57qi5qGG5aSn5bCPOiBSZWRCb3hXaWR0aDogJywgdGhpcy5SZWRCb3hXaWR0aCwgJywgUmVkQm94SGVpZ2h0OiAnLCB0aGlzLlJlZEJveEhlaWdodCwgJywgQm94U2lkZUxlbmd0aDogJywgdGhpcy5Cb3hTaWRlTGVuZ3RoLCAnLCBTY2FsZTogJywgdGhpcy5TY2FsZSk7CiAgICAgIGNvbnN0IHNjYWxlID0gbGVuZ3RoIC8gdGhpcy5Cb3hTaWRlTGVuZ3RoOwogICAgICAvLyDkvb/nlKjln7rlh4blsLrlr7jov5vooYznvKnmlL7vvIzpgb/lhY3ph43lpI3ntK/orqHnvKnmlL4KICAgICAgdGhpcy5SZWRCb3hXaWR0aCA9IHRoaXMuUmVkQm94V2lkdGhfICogc2NhbGU7CiAgICAgIHRoaXMuUmVkQm94SGVpZ2h0ID0gdGhpcy5SZWRCb3hIZWlnaHRfICogc2NhbGU7CiAgICAgIHRoaXMuQm94U2lkZUxlbmd0aCA9IGxlbmd0aDsKICAgICAgLy8g5pu05paw5Z+65YeG5Li65b2T5YmN5bC65a+4CiAgICAgIHRoaXMuUmVkQm94V2lkdGhfID0gdGhpcy5SZWRCb3hXaWR0aDsKICAgICAgdGhpcy5SZWRCb3hIZWlnaHRfID0gdGhpcy5SZWRCb3hIZWlnaHQ7CiAgICAgIGNvbnNvbGUubG9nKCfmm7TmlrDlsI/nuqLmoYblpKflsI86IFJlZEJveFdpZHRoOiAnLCB0aGlzLlJlZEJveFdpZHRoLCAnLCBSZWRCb3hIZWlnaHQ6ICcsIHRoaXMuUmVkQm94SGVpZ2h0LCAnLCBCb3hTaWRlTGVuZ3RoOiAnLCB0aGlzLkJveFNpZGVMZW5ndGgsICcsIFNjYWxlOiAnLCB0aGlzLlNjYWxlKTsKICAgIH0sCgogICAgLy8gaGFuZGxlVG91Y2hPck1vdXNlRG93bihldmVudCkgewogICAgLy8gICAvLyDojrflj5bop6bmkbjmiJbpvKDmoIfkvY3nva4KICAgIC8vICAgY29uc3QgY2xpZW50WCA9IGV2ZW50LnR5cGUuc3RhcnRzV2l0aCgndG91Y2gnKSA/IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2ZW50LmNsaWVudFg7CiAgICAvLyAgIGNvbnN0IGNsaWVudFkgPSBldmVudC50eXBlLnN0YXJ0c1dpdGgoJ3RvdWNoJykgPyBldmVudC50b3VjaGVzWzBdLmNsaWVudFkgOiBldmVudC5jbGllbnRZOwoKICAgIC8vICAgLy8g5pu05paw5L2N572uCiAgICAvLyAgIHRoaXMubW91c2VYID0gTWF0aC5mbG9vcihjbGllbnRYKTsKICAgIC8vICAgdGhpcy5tb3VzZVhfID0gTWF0aC5mbG9vcihjbGllbnRYKTsKICAgIC8vICAgdGhpcy5tb3VzZVkgPSBNYXRoLmZsb29yKGNsaWVudFkpOwogICAgLy8gICB0aGlzLm1vdXNlWV8gPSBNYXRoLmZsb29yKGNsaWVudFkpOwoKICAgIC8vICAgY29uc29sZS5sb2coJ2hhbmRsZVRvdWNoT3JNb3VzZURvd246ICcsIHRoaXMubW91c2VYLCAnLCcsIHRoaXMubW91c2VZKTsKCiAgICAvLyAgIGNvbnN0IHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7CiAgICAvLyAgIGNvbnN0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsKCgogICAgLy8gICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ1JlZEJveDonKyBNYXRoLmZsb29yKCh0aGlzLm1vdXNlWCArIHRoaXMuUmVkQm94T2Zmc2V0X1gpIC8gdGhpcy5TY2FsZUltYWdlV2lkdGggKiB3aW5kb3dXaWR0aCkgKyAiOiIgKyBNYXRoLmZsb29yKCh0aGlzLm1vdXNlWSArIHRoaXMuUmVkQm94T2Zmc2V0X1kpIC8gdGhpcy5TY2FsZUltYWdlSGVpZ2h0ICogd2luZG93SGVpZ2h0KSArICI6IiArIHdpbmRvd1dpZHRoICsgIjoiICsgd2luZG93SGVpZ2h0KTsKICAgIC8vIH0sCgogICAgcmVzaXplUmVkQm94KENhbWVyYVdpZHRoLCBDYW1lcmFIZWlnaHQpIHsKICAgICAgdGhpcy5jdXJyZW50SW1hZ2VXaWR0aCA9IENhbWVyYVdpZHRoOwogICAgICB0aGlzLmN1cnJlbnRJbWFnZUhlaWdodCA9IENhbWVyYUhlaWdodDsKCiAgICAgIC8vIGNvbnN0IHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7CiAgICAgIC8vIGNvbnN0IHdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsKCiAgICAgIC8vIHRoaXMuUmVkQm94V2lkdGggPSB0aGlzLkJveFNpZGVMZW5ndGggKiB3aW5kb3dXaWR0aCAvIENhbWVyYVdpZHRoIC8gdGhpcy5TY2FsZTsKICAgICAgLy8gdGhpcy5SZWRCb3hIZWlnaHQgPSB0aGlzLkJveFNpZGVMZW5ndGggKiB3aW5kb3dIZWlnaHQgLyBDYW1lcmFIZWlnaHQgLyB0aGlzLlNjYWxlOwogICAgICAvLyB0aGlzLiRidXMuJGVtaXQoJ1NlbmRDb25zb2xlTG9nTXNnJywgJ+iuvue9ruWwj+e6ouahhuWkp+WwjzogJyArIHRoaXMuUmVkQm94V2lkdGggKyAnLCAnICsgdGhpcy5SZWRCb3hIZWlnaHQsICdpbmZvJyk7CiAgICAgIC8vIHRoaXMuJGJ1cy4kZW1pdCgnUmVkQm94U2lkZUxlbmd0aCcsIHRoaXMuQm94U2lkZUxlbmd0aCk7CiAgICAgIHRoaXMuSW1hZ2VQcm9wb3J0aW9uID0gQ2FtZXJhV2lkdGggLyBDYW1lcmFIZWlnaHQ7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnSW1hZ2VQcm9wb3J0aW9uJywgdGhpcy5JbWFnZVByb3BvcnRpb24pOwogICAgICAvLyAvLyB0aGlzLlJlZEJveEhlaWdodCA9IHRoaXMuUmVkQm94SGVpZ2h0ICogdGhpcy5JbWFnZVByb3BvcnRpb247CgogICAgICAvLyB0aGlzLlJlZEJveFdpZHRoXyA9IHRoaXMuUmVkQm94V2lkdGg7CiAgICAgIC8vIHRoaXMuUmVkQm94SGVpZ2h0XyA9IHRoaXMuUmVkQm94SGVpZ2h0OwoKICAgICAgLy8gY29uc29sZS5sb2coJ1JlZEJveFNpemU6JywgdGhpcy5SZWRCb3hXaWR0aCwgJywgJywgdGhpcy5SZWRCb3hIZWlnaHQpOwoKICAgICAgLy8gaWYgKHRoaXMuaXNJbml0UmVkQm94ID09PSB0cnVlKSB7CiAgICAgIC8vICAgLy8g5bCG5bCP57qi5qGG572u5LqO55WM6Z2i5Lit5aSuCiAgICAgIC8vICAgdGhpcy5tb3VzZVggPSAod2luZG93V2lkdGggLSB0aGlzLlJlZEJveFdpZHRoKSAvIDI7IC8vIDEwMOaYr+Wwj+e6ouahhueahOWuveW6pgogICAgICAvLyAgIHRoaXMubW91c2VYXyA9ICh3aW5kb3dXaWR0aCAtIHRoaXMuUmVkQm94V2lkdGgpIC8gMjsgLy8gMTAw5piv5bCP57qi5qGG55qE5a695bqmCiAgICAgIC8vICAgdGhpcy5tb3VzZVkgPSAod2luZG93SGVpZ2h0IC0gdGhpcy5SZWRCb3hIZWlnaHQpIC8gMjsgLy8gMTAw5piv5bCP57qi5qGG55qE6auY5bqmCiAgICAgIC8vICAgdGhpcy5tb3VzZVlfID0gKHdpbmRvd0hlaWdodCAtIHRoaXMuUmVkQm94SGVpZ2h0KSAvIDI7IC8vIDEwMOaYr+Wwj+e6ouahhueahOmrmOW6pgogICAgICAvLyAgIHRoaXMuaXNJbml0UmVkQm94ID0gZmFsc2U7CiAgICAgIC8vIH0KCiAgICAgIC8vIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnUmVkQm94OicgKyB0aGlzLm1vdXNlWCArICI6IiArIHRoaXMubW91c2VZICsgIjoiICsgd2luZG93V2lkdGggKyAiOiIgKyB3aW5kb3dIZWlnaHQpOyAgLy9UT0RPOiBCb3hTaXplCiAgICB9LAoKICAgIC8vIFJlZEJveFNpemVDaGFuZ2UobGVuZ3RoKSB7CiAgICAvLyAgIHRoaXMuQm94U2lkZUxlbmd0aCA9IGxlbmd0aDsKICAgIC8vICAgLy8gY29uc29sZS5sb2coJ1JlZEJveFNpemVDaGFuZ2U6ICcsIHRoaXMuQm94U2lkZUxlbmd0aCk7CiAgICAvLyAgIC8vIHRoaXMuJGJ1cy4kZW1pdCgnU2VuZENvbnNvbGVMb2dNc2cnLCAnUmVkIEJveCBTaXplIENoYW5nZTonICsgdGhpcy5Cb3hTaWRlTGVuZ3RoLCAnaW5mbycpOwogICAgLy8gICAvLyB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ1JlZEJveCBTaWRlIExlbmd0aCAocHgpOicgKyB0aGlzLkJveFNpZGVMZW5ndGgpOwogICAgLy8gICAvLyB0aGlzLiRidXMuJGVtaXQoJ1JlZEJveFNpZGVMZW5ndGgnLCB0aGlzLkJveFNpZGVMZW5ndGgpOwogICAgLy8gfSwKCiAgICAvLyBoYW5kbGVBZGREcml2ZXIoZHJpdmVyKSB7CiAgICAvLyAgIGlmIChkcml2ZXIudHlwZSA9PT0gJ01vdW50JykgewogICAgLy8gICAgIHRoaXMuJHJlZnMubW91bnREaWFsb2cuQWRkRHJpdmVycyhkcml2ZXIpOwogICAgLy8gICB9IGVsc2UgaWYgKGRyaXZlci50eXBlID09PSAnRm9jdXNlcicpIHsKICAgIC8vICAgICB0aGlzLiRyZWZzLmZvY3VzZXJEaWFsb2cuQWRkRHJpdmVycyhkcml2ZXIpOwogICAgLy8gICB9IGVsc2UgaWYgKGRyaXZlci50eXBlID09PSAnUG9sZUNhbWVyYScpIHsKICAgIC8vICAgICB0aGlzLiRyZWZzLnBvbGVjYW1lcmFEaWFsb2cuQWRkRHJpdmVycyhkcml2ZXIpOwogICAgLy8gICB9IGVsc2UgaWYgKGRyaXZlci50eXBlID09PSAnTWFpbkNhbWVyYScpIHsKICAgIC8vICAgICB0aGlzLiRyZWZzLm1haW5jYW1lcmFEaWFsb2cuQWRkRHJpdmVycyhkcml2ZXIpOwogICAgLy8gICB9IGVsc2UgaWYgKGRyaXZlci50eXBlID09PSAnR3VpZGVyJykgewogICAgLy8gICAgIHRoaXMuJHJlZnMuZ3VpZGVyRGlhbG9nLkFkZERyaXZlcnMoZHJpdmVyKTsKICAgIC8vICAgfSBlbHNlIGlmIChkcml2ZXIudHlwZSA9PT0gJ0NGVycpIHsKICAgIC8vICAgICB0aGlzLiRyZWZzLmNmd0RpYWxvZy5BZGREcml2ZXJzKGRyaXZlcik7CiAgICAvLyAgIH0KICAgIC8vIH0sCiAgICAvLyBoYW5kbGVBZGREZXZpY2UoZGV2aWNlKSB7CiAgICAvLyAgIGlmIChkZXZpY2UudHlwZSA9PT0gJ01vdW50JykgewogICAgLy8gICAgIHRoaXMuJHJlZnMubW91bnREaWFsb2cuQWRkRGV2aWNlcyhkZXZpY2UpOwogICAgLy8gICB9IGVsc2UgaWYgKGRldmljZS50eXBlID09PSAnRm9jdXNlcicpIHsKICAgIC8vICAgICB0aGlzLiRyZWZzLmZvY3VzZXJEaWFsb2cuQWRkRGV2aWNlcyhkZXZpY2UpOwogICAgLy8gICB9IGVsc2UgaWYgKGRldmljZS50eXBlID09PSAnUG9sZUNhbWVyYScpIHsKICAgIC8vICAgICB0aGlzLiRyZWZzLnBvbGVjYW1lcmFEaWFsb2cuQWRkRGV2aWNlcyhkZXZpY2UpOwogICAgLy8gICB9IGVsc2UgaWYgKGRldmljZS50eXBlID09PSAnTWFpbkNhbWVyYScpIHsKICAgIC8vICAgICB0aGlzLiRyZWZzLm1haW5jYW1lcmFEaWFsb2cuQWRkRGV2aWNlcyhkZXZpY2UpOwogICAgLy8gICB9IGVsc2UgaWYgKGRldmljZS50eXBlID09PSAnR3VpZGVyJykgewogICAgLy8gICAgIHRoaXMuJHJlZnMuZ3VpZGVyRGlhbG9nLkFkZERldmljZXMoZGV2aWNlKTsKICAgIC8vICAgfSBlbHNlIGlmIChkZXZpY2UudHlwZSA9PT0gJ0NGVycpIHsKICAgIC8vICAgICB0aGlzLiRyZWZzLmNmd0RpYWxvZy5BZGREZXZpY2VzKGRldmljZSk7CiAgICAvLyAgIH0KICAgIC8vIH0sCgogICAgLy8g5raI5oGv5qGGCiAgICBzaG93TWVzc2FnZUJveChtc2csIHR5cGUpIHsKICAgICAgY29uc29sZS5sb2coIlFIWUNDRCB8IHNob3cgTWVzc2FnZSBCb3guIik7CgogICAgICB0aGlzLm1lc3NhZ2VOdW0gKz0gMTsKCiAgICAgIGNvbnN0IG5ld01lc3NhZ2UgPSB7CiAgICAgICAgaWQ6IHRoaXMubWVzc2FnZU51bSwKICAgICAgICBtZXNzYWdlOiBtc2csCiAgICAgICAgdHlwZTogdHlwZSwgIC8vIOS9oOWPr+S7peWKqOaAgeiuvue9ruS4jeWQjOeahOa2iOaBr+exu+WeiwogICAgICAgIFBvczogdGhpcy5tZXNzYWdlTGlzdC5sZW5ndGgKICAgICAgfTsKICAgICAgdGhpcy5tZXNzYWdlTGlzdC5wdXNoKG5ld01lc3NhZ2UpOwoKICAgICAgLy8g6K6+572u5a6a5pe25Zmo77yMNeenkuWQjuiHquWKqOenu+mZpAogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLnJlbW92ZU1lc3NhZ2UodGhpcy5tZXNzYWdlTGlzdC5pbmRleE9mKG5ld01lc3NhZ2UpKTsKICAgICAgfSwgNTAwMCk7CiAgICB9LAogICAgLy8g5raI5oGv5qGGCgogICAgcmVtb3ZlTWVzc2FnZShpbmRleCkgewogICAgICB0aGlzLm1lc3NhZ2VMaXN0LnNwbGljZShpbmRleCwgMSk7CiAgICAgIHRoaXMubWVzc2FnZUxpc3QuZm9yRWFjaCgobXNnLCBpKSA9PiB7CiAgICAgICAgbXNnLlBvcyA9IGk7ICAvLyDph43mlrDorqHnrpcgUG9zCiAgICAgIH0pOwogICAgfSwKCiAgICBTd2l0Y2hNYWluUGFnZSgpIHsKICAgICAgaWYgKHRoaXMuQ3VycmVudE1haW5QYWdlID09PSAnU3RlbCcpIHsKICAgICAgICB0aGlzLkN1cnJlbnRNYWluUGFnZSA9ICdNYWluQ2FtZXJhJzsKICAgICAgICB0aGlzLmlzQm90dG9tQmFyU2hvdyA9IGZhbHNlOwogICAgICAgIHRoaXMuaXNFeHBUaW1lQmFyU2hvdyA9IHRydWU7CgogICAgICAgIHRoaXMuaXNTdGVsbGFyaXVtTW9kZSA9IGZhbHNlOwogICAgICAgIHRoaXMuaXNDYXB0dXJlTW9kZSA9IHRydWU7CiAgICAgICAgdGhpcy5pc1Nob3dTY2FsZUNoYW5nZSA9IHRydWU7CiAgICAgICAgdGhpcy5pc0d1aWRlck1vZGUgPSBmYWxzZTsKCiAgICAgICAgdGhpcy5zaG93TW91bnRTd2l0Y2ggPSB0cnVlOwoKICAgICAgICB0aGlzLnNob3dDaGFydHNQYW5lbCA9IGZhbHNlOwogICAgICAgIHRoaXMuc2hvd1JlZEJveCA9IGZhbHNlOwoKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0hpZGVUYXJnZXRTZWFyY2gnKTsKCiAgICAgICAgdGhpcy5zaG93UEhEMkJveEFuZENyb3NzID0gZmFsc2U7CiAgICAgIH0KICAgICAgZWxzZSBpZiAodGhpcy5DdXJyZW50TWFpblBhZ2UgPT09ICdNYWluQ2FtZXJhJykgewogICAgICAgIHRoaXMuQ3VycmVudE1haW5QYWdlID0gJ0d1aWRlckNhbWVyYSc7CiAgICAgICAgdGhpcy5pc0JvdHRvbUJhclNob3cgPSBmYWxzZTsKICAgICAgICB0aGlzLmlzRXhwVGltZUJhclNob3cgPSBmYWxzZTsKICAgICAgICB0aGlzLmlzQ0ZXU2VsZWN0QmFyU2hvdyA9IGZhbHNlOwoKICAgICAgICB0aGlzLmlzU3RlbGxhcml1bU1vZGUgPSBmYWxzZTsKICAgICAgICB0aGlzLmlzQ2FwdHVyZU1vZGUgPSBmYWxzZTsKICAgICAgICB0aGlzLmlzR3VpZGVyTW9kZSA9IHRydWU7CiAgICAgICAgdGhpcy5pc1Nob3dTY2FsZUNoYW5nZSA9IGZhbHNlOwogICAgICAgIHRoaXMuc2hvd01vdW50U3dpdGNoID0gdHJ1ZTsKCiAgICAgICAgdGhpcy5zaG93Q2hhcnRzUGFuZWwgPSB0cnVlOwogICAgICAgIHRoaXMuc2hvd0hpc3RvZ3JhbVBhbmVsID0gZmFsc2U7CiAgICAgICAgdGhpcy5zaG93Rm9jdXNlclBhbmVsID0gZmFsc2U7CiAgICAgICAgdGhpcy5zaG93UmVkQm94ID0gZmFsc2U7CiAgICAgICAgdGhpcy5zaG93UEhEMkJveEFuZENyb3NzID0gdHJ1ZTsKICAgICAgfQogICAgICBlbHNlIGlmICh0aGlzLkN1cnJlbnRNYWluUGFnZSA9PT0gJ0d1aWRlckNhbWVyYScpIHsKICAgICAgICB0aGlzLkN1cnJlbnRNYWluUGFnZSA9ICdTdGVsJzsKICAgICAgICB0aGlzLmlzQm90dG9tQmFyU2hvdyA9IHRydWU7CiAgICAgICAgdGhpcy5pc0V4cFRpbWVCYXJTaG93ID0gZmFsc2U7CiAgICAgICAgdGhpcy5pc0NGV1NlbGVjdEJhclNob3cgPSBmYWxzZTsKCiAgICAgICAgdGhpcy5pc1N0ZWxsYXJpdW1Nb2RlID0gdHJ1ZTsKICAgICAgICB0aGlzLmlzQ2FwdHVyZU1vZGUgPSBmYWxzZTsKICAgICAgICB0aGlzLmlzR3VpZGVyTW9kZSA9IGZhbHNlOwogICAgICAgIHRoaXMuaXNTaG93U2NhbGVDaGFuZ2UgPSBmYWxzZTsKICAgICAgICB0aGlzLnNob3dNb3VudFN3aXRjaCA9IHRydWU7CgogICAgICAgIHRoaXMuc2hvd0NoYXJ0c1BhbmVsID0gZmFsc2U7CiAgICAgICAgdGhpcy5zaG93SGlzdG9ncmFtUGFuZWwgPSBmYWxzZTsKICAgICAgICB0aGlzLnNob3dGb2N1c2VyUGFuZWwgPSBmYWxzZTsKICAgICAgICB0aGlzLnNob3dSZWRCb3ggPSBmYWxzZTsKICAgICAgICB0aGlzLnNob3dQSEQyQm94QW5kQ3Jvc3MgPSBmYWxzZTsKCiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTaG93VGFyZ2V0U2VhcmNoJyk7CiAgICAgIH0KCiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2hvd0NhbnZhcycsdGhpcy5DdXJyZW50TWFpblBhZ2UpOwogICAgfSwKCiAgICBoYW5kbGVFeHBUaW1lU2VsZWN0ZWQodGltZSkgewogICAgICBjb25zb2xlLmxvZygnUUhZQ0NEIHwgRXhwVGltZVNlbGVjdGVkOiAnLCB0aW1lKTsKICAgICAgLy8g5qC55o2u6ZyA6KaB5aSE55CG6YCJ5oup55qE5pe26Ze0CiAgICAgIGNvbnN0IG1hdGNoID0gdGltZS5tYXRjaCgvKFxkKykoW2EtekEtWl0rKS8pOwoKICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgY29uc3QgbnVtZXJpY1BhcnQgPSBwYXJzZUludChtYXRjaFsxXSwgMTApOyAvLyDlsIbljLnphY3liLDnmoTmlbDlrZfpg6jliIbovazmjaLkuLrmlbTmlbAKICAgICAgICBjb25zdCB1bml0UGFydCA9IG1hdGNoWzJdLnRvTG93ZXJDYXNlKCk7IC8vIOiOt+WPluWNleS9jemDqOWIhu+8jOW5tuWwhuWFtui9rOaNouS4uuWwj+WGmQoKICAgICAgICBsZXQgY29udmVydGVkVGltZSA9IG51bWVyaWNQYXJ0OyAvLyDpu5jorqTmg4XlhrXkuIvvvIzlsIbmlbDlrZfpg6jliIbkv53mjIHkuI3lj5gKCiAgICAgICAgaWYgKHVuaXRQYXJ0ID09PSAncycpIHsKICAgICAgICAgIGNvbnZlcnRlZFRpbWUgKj0gMTAwMDsgLy8g5aaC5p6c5Y2V5L2N5piv56eSKHMp77yM5YiZ5bCG5pWw5a2X5LmY5LulMTAwMAogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coJ051bWVyaWMgcGFydDonLCBudW1lcmljUGFydCk7CiAgICAgICAgY29uc29sZS5sb2coJ1VuaXQgcGFydDonLCB1bml0UGFydCk7CiAgICAgICAgY29uc29sZS5sb2coJ0NvbnZlcnRlZCB0aW1lOicsIGNvbnZlcnRlZFRpbWUpOwoKICAgICAgICAvLyB0aGlzLiRyZWZzLkNhcHR1cmVCdG4uU2V0RHVyYXRpb24oY29udmVydGVkVGltZSk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTZXRFeHBUaW1lJywgY29udmVydGVkVGltZSk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdzZXRFeHBvc3VyZVRpbWU6JyArIGNvbnZlcnRlZFRpbWUpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCdObyBudW1lcmljIHBhcnQgZm91bmQgaW4gdGltZTonLCB0aW1lKTsKICAgICAgfQogICAgfSwKCiAgICBJbWFnZVNvbHZlRmluaXNoZWQoc3VjY2VzcykgewogICAgICAvLyBjb25zb2xlLmxvZygiSW1hZ2UgU29sdmUgRmluaXNoZWQhISEiKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTZW5kQ29uc29sZUxvZ01zZycsICdJbWFnZSBTb2x2ZSBGaW5pc2hlZCEhIScsICdpbmZvJyk7CgogICAgICB0aGlzLmxvYWRpbmdJbWFnZVNvbHZlID0gZmFsc2U7CgogICAgICBpZiAoc3VjY2VzcykgewogICAgICAgIHRoaXMuY3VycmVudFBvbGFyQXhpc1N0ZXAgPSBNYXRoLm1pbih0aGlzLmN1cnJlbnRQb2xhckF4aXNTdGVwICsgMSwgNCk7CiAgICAgIH0KICAgIH0sCgogICAgU2luZ2xlU29sdmVJbWFnZSgpIHsKICAgICAgaWYgKHRoaXMuRm9jYWxMZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLnNob3dNZXNzYWdlQm94KCdQbGVhc2Ugc2V0IEZvY2FsIExlbmd0aCBmaXJzdC4nLCAnZXJyb3InKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmxvYWRpbmdJbWFnZVNvbHZlKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdzaG93TXNnQm94JywgJ0ltYWdlIHNvbHZlIGlzIGN1cnJlbnRseSBpbiBwcm9ncmVzcy4nLCAnd2FybmluZycpOwogICAgICAgIHRoaXMuU2hvd0NvbmZpcm1EaWFsb2coJ0NvbmZpcm0nLCAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNhbmNlbCB0aGUgc2hvb3RpbmcgYW5kIGFuYWx5c2lzPycsICdFbmRDYXB0dXJlQW5kU29sdmUnKTsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ3NldFBhcnNpbmdQcm9ncmVzcycsIGZhbHNlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmxvYWRpbmdJbWFnZVNvbHZlID0gdHJ1ZTsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ1NvbHZlSW1hZ2U6JyArIHRoaXMuRm9jYWxMZW5ndGgpOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2V0UGFyc2luZ1Byb2dyZXNzJywgdHJ1ZSk7CiAgICAgIH0KICAgIH0sCgogICAgTG9vcFNvbHZlSW1hZ2UoKSB7CiAgICAgIGlmICh0aGlzLlBsYXRlU29sdmVJblByb2dyZXNzKSB7CiAgICAgICAgdGhpcy5QbGF0ZVNvbHZlSW5Qcm9ncmVzcyA9IGZhbHNlOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnc3RvcExvb3BTb2x2ZUltYWdlJyk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTZW5kQ29uc29sZUxvZ01zZycsICdzdG9wIExvb3AgU29sdmVJbWFnZScsICdpbmZvJyk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdzZXRQYXJzaW5nUHJvZ3Jlc3MnLCBmYWxzZSk7CiAgICAgICAgdGhpcy5zZXRQYXJzaW5nUHJvZ3Jlc3MoZmFsc2UpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuUGxhdGVTb2x2ZUluUHJvZ3Jlc3MgPSB0cnVlOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnc3RhcnRMb29wU29sdmVJbWFnZTonICsgdGhpcy5Gb2NhbExlbmd0aCk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTZW5kQ29uc29sZUxvZ01zZycsICdzdGFydCBMb29wIFNvbHZlSW1hZ2UnLCAnaW5mbycpOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2V0UGFyc2luZ1Byb2dyZXNzJywgdHJ1ZSk7CiAgICAgICAgdGhpcy5zZXRQYXJzaW5nUHJvZ3Jlc3ModHJ1ZSk7CiAgICAgIH0KICAgIH0sCgogICAgQ2FsaWJyYXRlUG9sYXJBeGlzTW9kZSgpIHsKICAgICAgdGhpcy5sYXN0TWFpblBhZ2UgPSB0aGlzLkN1cnJlbnRNYWluUGFnZTsKICAgICAgdGhpcy5DdXJyZW50TWFpblBhZ2UgPSAnU3RlbCc7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2hvd1N0ZWxDYW52YXMnKTsKICAgICAgdGhpcy5oaWRlQ2FwdHVyZVVJKHRydWUpOwoKICAgICAgdGhpcy5pc1BvbGFyQXhpc01vZGUgPSB0cnVlOwogICAgICB0aGlzLmlzQm90dG9tQmFyU2hvdyA9IHRydWU7CiAgICAgIHRoaXMuaXNFeHBUaW1lQmFyU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLmlzQ0ZXU2VsZWN0QmFyU2hvdyA9IGZhbHNlOwoKICAgICAgdGhpcy5pc1N0ZWxsYXJpdW1Nb2RlID0gdHJ1ZTsKICAgICAgdGhpcy5pc0NhcHR1cmVNb2RlID0gZmFsc2U7CiAgICAgIHRoaXMuaXNHdWlkZXJNb2RlID0gZmFsc2U7CiAgICAgIHRoaXMuaXNTaG93U2NhbGVDaGFuZ2UgPSBmYWxzZTsKICAgICAgdGhpcy5zaG93TW91bnRTd2l0Y2ggPSB0cnVlOwoKICAgICAgdGhpcy5zaG93Q2hhcnRzUGFuZWwgPSBmYWxzZTsKICAgICAgdGhpcy5zaG93SGlzdG9ncmFtUGFuZWwgPSBmYWxzZTsKICAgICAgdGhpcy5zaG93Rm9jdXNlclBhbmVsID0gZmFsc2U7CiAgICAgIHRoaXMuc2hvd1JlZEJveCA9IGZhbHNlOwogICAgICB0aGlzLnNob3dQSEQyQm94QW5kQ3Jvc3MgPSBmYWxzZTsKICAgICAgdGhpcy5pc1Nob3dIaWRlVWkgPSBmYWxzZTsKCiAgICAgIC8vIHRoaXMuJGJ1cy4kZW1pdCgnU2hvd1RhcmdldFNlYXJjaCcpOwogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlVG91Y2hPck1vdXNlRG93bik7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2hvd1BvbGFyQWxpZ25tZW50Jyk7ICAgICAgICAgICAvLyDmmL7npLrmoKHlh4bnlYzpnaIKICAgICAgY29uc29sZS5sb2coJyoqKioqKioqKiBpc1Nob3dIaWRlVWkgKioqKioqKioqKjogJywgdGhpcy5pc1Nob3dIaWRlVWkpOwogICAgfSwKCiAgICBRdWl0UG9sYXJBeGlzTW9kZSgpIHsKICAgICAgdGhpcy5zaG93Q2FwdHVyZVVJKCk7CiAgICAgIHRoaXMuaXNQb2xhckF4aXNNb2RlID0gZmFsc2U7CiAgICAgIC8vIHRoaXMuaXNDYXB0dXJlTW9kZSA9IGZhbHNlOwogICAgICAvLyB0aGlzLmlzU2hvd1NjYWxlQ2hhbmdlID0gZmFsc2U7CiAgICAgIHRoaXMuc2hvd0xvY2F0aW9uSW5wdXRzID0gZmFsc2U7CiAgICAgIAogICAgICBpZiAodGhpcy5sYXN0TWFpblBhZ2UgPT09ICdOb25lJykgewogICAgICAgIHRoaXMuQ3VycmVudE1haW5QYWdlID0gJ01haW5DYW1lcmEnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuQ3VycmVudE1haW5QYWdlID0gdGhpcy5sYXN0TWFpblBhZ2U7CiAgICAgIH0KICAgICAgdGhpcy4kYnVzLiRlbWl0KCdQb2xhckF4aXNNb2RlJywgdGhpcy5pc1BvbGFyQXhpc01vZGUpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ3Nob3dDYW52YXMnLHRoaXMuQ3VycmVudE1haW5QYWdlKTsKICAgICAgdGhpcy5sYXN0TWFpblBhZ2UgPSAnTm9uZSc7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnU3RvcExvb3BDYXB0dXJlJyk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU2VuZENvbnNvbGVMb2dNc2cnLCAnU3RvcCBMb29wIENhcHR1cmUnLCAnaW5mbycpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ2hpZGVQb2xhckFsaWdubWVudCcpOyAgICAgICAgICAgLy8g6ZqQ6JeP5qCh5YeG55WM6Z2iCiAgICB9LAoKICAgIHNob3dTb2x2ZUltYWdlKGltZykgewogICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU29sdmVJbWFnZS1DYW52YXMnKTsKCiAgICAgIGlmIChjYW52YXMuZ2V0Q29udGV4dCkgewogICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICAgIGNvbnN0IGNhbnZhc1dpZHRoID0gd2luZG93LmlubmVyV2lkdGggLyA0OwogICAgICAgIGNvbnN0IGNhbnZhc0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAvIDQ7CgogICAgICAgIGxldCByZXNpemVJbWcgPSBuZXcgY3YuTWF0KCk7CgogICAgICAgIGN2LnJlc2l6ZShpbWcsIHJlc2l6ZUltZywgbmV3IGN2LlNpemUod2luZG93LmlubmVyV2lkdGggLyA0LCB3aW5kb3cuaW5uZXJIZWlnaHQgLyA0KSwgMCwgMCwgY3YuSU5URVJfTElORUFSKTsKCiAgICAgICAgLy8gLy8g5riF6Zmk55S75biDCiAgICAgICAgLy8gY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0KTsKCiAgICAgICAgLy8gLy8g6LCD5pW05Zu+5YOP5bC65a+45Lul6YCC5bqU55S75biD5bC65a+4CiAgICAgICAgLy8gY3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpOwoKICAgICAgICAvLyBTZXQgY2FudmFzIHNpemUgdG8gbWF0Y2ggdGhlIGltYWdlCiAgICAgICAgY2FudmFzLndpZHRoID0gcmVzaXplSW1nLmNvbHM7CiAgICAgICAgY2FudmFzLmhlaWdodCA9IHJlc2l6ZUltZy5yb3dzOwoKICAgICAgICAvLyBEcmF3IHRoZSBpbWFnZSBvbiBjYW52YXMKICAgICAgICBjdi5pbXNob3coY2FudmFzLCByZXNpemVJbWcpOwogICAgICAgIC8vIGltZy5kZWxldGUoKTsKICAgICAgfQogICAgfSwKCiAgICBIaWRlU2luZ2xlU29sdmVCdG4oKSB7CiAgICAgIHRoaXMuc2hvd1NpbmdsZVNvbHZlQnRuID0gZmFsc2U7CiAgICB9LAoKICAgIExvb3BTb2x2ZUltYWdlRmluaXNoZWQoKSB7CiAgICAgIHRoaXMuUGxhdGVTb2x2ZUluUHJvZ3Jlc3MgPSBmYWxzZTsKICAgICAgdGhpcy5zZXRQYXJzaW5nUHJvZ3Jlc3MoZmFsc2UpOwogICAgfSwKCiAgICBSZWNhbGlicmF0ZVBvbGFyQXhpcygpIHsKICAgICAgdGhpcy5jdXJyZW50UG9sYXJBeGlzU3RlcCA9IDE7CiAgICAgIGNvbnNvbGUubG9nKCdSZWNhbGlicmF0ZSB0aGUgcG9sYXIgYXhpcycpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ1NlbmRDb25zb2xlTG9nTXNnJywgJ1JlY2FsaWJyYXRlIHRoZSBwb2xhciBheGlzLicsICdpbmZvJyk7CiAgICAgIHRoaXMuc2hvd1NpbmdsZVNvbHZlQnRuID0gdHJ1ZTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdSZWNhbGlicmF0ZVBvbGFyQXhpcycpOwoKICAgICAgaWYgKHRoaXMuUGxhdGVTb2x2ZUluUHJvZ3Jlc3MpIHsKICAgICAgICB0aGlzLlBsYXRlU29sdmVJblByb2dyZXNzID0gZmFsc2U7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdzdG9wTG9vcFNvbHZlSW1hZ2UnKTsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ1NlbmRDb25zb2xlTG9nTXNnJywgJ3N0b3AgTG9vcCBTb2x2ZSBJbWFnZScsICdpbmZvJyk7CiAgICAgIH0KCiAgICAgIHRoaXMuRGlmZmVyZW5jZVRleHQgPSAnJzsKICAgICAgdGhpcy5UYXJnZXRUZXh0ID0gJyc7CiAgICAgIHRoaXMuQ3VycmVudFRleHQgPSAnJzsKICAgIH0sCgogICAgU2hvd0F6QWx0VGV4dChBejEsIEFsdDEsIEF6MiwgQWx0MikgewogICAgICB0aGlzLkRpZmZlcmVuY2VUZXh0ID0gYCR7dGhpcy4kdCgnQXppbXV0aCBPZmZzZXQnKX06ICR7QXoxLnRvRml4ZWQoMyl9wrAsICR7dGhpcy4kdCgnQWx0aXR1ZGUgT2Zmc2V0Jyl9OiAke0FsdDEudG9GaXhlZCgzKX3CsGA7CiAgICAgIHRoaXMuVGFyZ2V0VGV4dCA9IGAke3RoaXMuJHQoJ1RhcmdldCBBemltdXRoJyl9OiAke0F6Mi50b0ZpeGVkKDMpfcKwLCAke3RoaXMuJHQoJ1RhcmdldCBBbHRpdHVkZScpfTogJHtBbHQyLnRvRml4ZWQoMyl9wrBgOwogICAgfSwKCiAgICBTaG93Q3VycmVudEF6QWx0VGV4dChBeiwgQWx0KSB7CiAgICAgIHRoaXMuQ3VycmVudFRleHQgPSBgJHt0aGlzLiR0KCdDdXJyZW50Jyl9OiAke0F6LnRvRml4ZWQoMyl9wrAsICR7QWx0LnRvRml4ZWQoMyl9wrBgOwogICAgfSwKCiAgICBTaG93Q29uZmlybURpYWxvZyh0aXRsZSwgdGV4dCwgVG9EbykgewogICAgICB0aGlzLkNvbmZpcm1EaWFsb2cgPSB0cnVlOwogICAgICB0aGlzLkNvbmZpcm1EaWFsb2dUaXRsZSA9IHRpdGxlOwogICAgICB0aGlzLkNvbmZpcm1EaWFsb2dUZXh0ID0gdGV4dDsKICAgICAgdGhpcy5Db25maXJtVG9EbyA9IFRvRG87CiAgICB9LAoKICAgIENvbmZpcm1EaWFsb2dUb0RvKCkgewogICAgICB0aGlzLkNvbmZpcm1EaWFsb2cgPSBmYWxzZTsKICAgICAgaWYgKHRoaXMuQ29uZmlybVRvRG8gPT09ICdSZWZyZXNoJykgewogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLkNvbmZpcm1Ub0RvID09PSAnZGlzY29ubmVjdEFsbERldmljZScpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ2Rpc2Nvbm5lY3RBbGxEZXZpY2UnLCB0cnVlKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLkNvbmZpcm1Ub0RvID09PSAnU3dpdGNoT3V0UHV0UG93ZXInKSB7CiAgICAgICAgY29uc3QgcGFydHMgPSB0aGlzLkNvbmZpcm1EaWFsb2dUaXRsZS5zcGxpdCgnOicpOwogICAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQocGFydHNbMV0pOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU3dpdGNoT3V0UHV0UG93ZXInLCBpbmRleCwgZmFsc2UpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuQ29uZmlybVRvRG8gPT09ICdSZWNhbGlicmF0ZScpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ1BIRDJSZWNhbGlicmF0ZScpOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU2VuZENvbnNvbGVMb2dNc2cnLCAnUEhEMiBSZWNhbGlicmF0ZScsICdpbmZvJyk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5Db25maXJtVG9EbyA9PT0gJ0VuZENhcHR1cmVBbmRTb2x2ZScpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0VuZENhcHR1cmVBbmRTb2x2ZScpOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU2VuZENvbnNvbGVMb2dNc2cnLCAnRW5kIENhcHR1cmUgQW5kIFNvbHZlJywgJ2luZm8nKTsKICAgICAgICB0aGlzLmxvYWRpbmdJbWFnZVNvbHZlID0gZmFsc2U7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5Db25maXJtVG9EbyA9PT0gJ1Jlc3RhcnRSYXNwYmVycnlQaScpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ1Jlc3RhcnRSYXNwYmVycnlQaScpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuQ29uZmlybVRvRG8gPT09ICdTaHV0ZG93blJhc3BiZXJyeVBpJykgewogICAgICAgIC8vIHRoaXMuJGJ1cy4kZW1pdCgnU2VuZENvbnNvbGVMb2dNc2cnLCAn5YWz6Zet5qCR6I6T5rS+5bm26YCA5Ye6JywgJ2luZm8nKTsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0Nsb3NlV2ViVmlldycpOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnU2h1dGRvd25SYXNwYmVycnlQaScpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuQ29uZmlybVRvRG8gPT09ICdyZXN0YXJ0UXRTZXJ2ZXInKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdQcm9jZXNzX0NvbW1hbmRfUmV0dXJuJywgJ3Jlc3RhcnRRdFNlcnZlcicpOwogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLkNvbmZpcm1Ub0RvLnN0YXJ0c1dpdGgoJ3VwZGF0ZUN1cnJlbnRDbGllbnQnKSkgewogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnUHJvY2Vzc19Db21tYW5kX1JldHVybicsIHRoaXMuQ29uZmlybVRvRG8pOwogICAgICAgIHRoaXMuc2hvd1VwZGF0ZURpYWxvZyA9IHRydWU7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5Db25maXJtVG9EbyA9PT0gJ1N0YXJ0Q2FsaWJyYXRpb24nKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTdGFydENhbGlicmF0aW9uJyk7CiAgICAgIH0KICAgIH0sCgogICAgU2hvd0RTTFJzU2V0dXAobmFtZSkgewogICAgICB0aGlzLkRTTFJDYW1lcmFOYW1lID0gbmFtZTsKICAgICAgdGhpcy5EU0xSc1NldHVwRGlhbG9nID0gdHJ1ZTsKICAgIH0sCgogICAgQ29uZmlybURTTFJzU2V0dXAod2lkdGgsIGhlaWdodCwgcGl4ZWxQaXRjaCkgewogICAgICB0aGlzLkRTTFJzU2V0dXBEaWFsb2cgPSBmYWxzZTsKICAgICAgY29uc29sZS5sb2coJ0RTTFIgQ2FtZXJhIEluZm86Jywgd2lkdGgsICcsJywgaGVpZ2h0LCAnLCcsIHBpeGVsUGl0Y2gpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ1NlbmRDb25zb2xlTG9nTXNnJywgJ0RTTFIgQ2FtZXJhIEluZm86JyArIHdpZHRoICsgJywnICsgaGVpZ2h0ICsgJywnICsgcGl4ZWxQaXRjaCwgJ2luZm8nKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdEU0xSQ2FtZXJhSW5mbzonICsgd2lkdGggKyAnOicgKyBoZWlnaHQgKyAnOicgKyBwaXhlbFBpdGNoKTsKICAgIH0sCgogICAgZ2V0T3JpZ2luYWxJbWFnZSgpIHsKICAgICAgaWYodGhpcy5CaW5uaW5nTnVtID09PSAxKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdzaG93TXNnQm94JywgJ1RoZSBjdXJyZW50IGltYWdlIGlzIGFscmVhZHkgdGhlIG9yaWdpbmFsIG9uZS4nLCAnd2FybmluZycpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubG9hZGluZ09yaWdpbmFsSW1hZ2UgPSB0cnVlOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnZ2V0T3JpZ2luYWxJbWFnZScpOwogICAgICB9CiAgICB9LAoKICAgIC8vIGdldE9yaWdpbmFsSW1hZ2UoKSB7CiAgICAvLyAgIHRoaXMuJGJ1cy4kZW1pdCgnc2hvd01zZ0JveCcsICdSZWxvYWQgdGhlIG9yaWdpbmFsIGltYWdlLicsICdpbmZvJyk7CiAgICAvLyAgIHRoaXMubG9hZGluZ09yaWdpbmFsSW1hZ2UgPSB0cnVlOwogICAgLy8gICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ2dldE9yaWdpbmFsSW1hZ2UnKTsKICAgIC8vIH0sCgogICAgU2hvd0NhcHR1cmVJbWFnZVByb2dyZXNzKG51bSkgewogICAgICB0aGlzLkNhcHR1cmVJbWFnZVByb2dyZXNzQ2FyZCA9IHRydWU7CiAgICAgIHRoaXMuQ2FwdHVyZUltYWdlUHJvZ3Jlc3NOdW0gPSBudW07CgogICAgICBpZiAobnVtICUgNSA9PT0gMCkgewogICAgICAgIHRoaXMuQ2FwdHVyZUltYWdlUHJvZ3Jlc3NOdW1fID0gbnVtOwogICAgICB9CgogICAgICBpZiAobnVtID09PSAxMDApIHsKICAgICAgICB0aGlzLkNhcHR1cmVJbWFnZVByb2dyZXNzQ2FyZCA9IGZhbHNlOwogICAgICAgIHRoaXMuQ2FwdHVyZUltYWdlUHJvZ3Jlc3NOdW0gPSAwOwogICAgICAgIHRoaXMuQ2FwdHVyZUltYWdlUHJvZ3Jlc3NOdW1fID0gMDsKICAgICAgICB0aGlzLmxvYWRpbmdPcmlnaW5hbEltYWdlID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCgogICAgdG9nZ2xlUEhEMlN0YXJCb3goQm94dmlldykgewogICAgICBpZiAoQm94dmlldyA9PT0gJ3RydWUnKSB7CiAgICAgICAgdGhpcy5QSEQyQm94VmlldyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5QSEQyQm94VmlldyA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgdG9nZ2xlUEhEMlN0YXJDcm9zcyhDcm9zc3ZpZXcpIHsKICAgICAgaWYgKENyb3NzdmlldyA9PT0gJ3RydWUnKSB7CiAgICAgICAgdGhpcy5QSEQyQ3Jvc3NWaWV3ID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLlBIRDJDcm9zc1ZpZXcgPSBmYWxzZTsKICAgICAgfQogICAgfSwKCiAgICBzd2l0Y2hQb2xhckF4aXNUaXBzKCkgewogICAgICB0aGlzLmN1cnJlbnRQb2xhckF4aXNTdGVwID0gTWF0aC5taW4odGhpcy5jdXJyZW50UG9sYXJBeGlzU3RlcCArIDEsIDQpOwogICAgfSwKCiAgICBnZXRMb2NhbFRpbWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpCiAgICAgIGQuc2V0TUpEKHRoaXMuJHN0b3JlLnN0YXRlLnN0ZWwub2JzZXJ2ZXIudXRjKQogICAgICBjb25zdCBtID0gTW9tZW50KGQpCiAgICAgIG0ubG9jYWwoKQogICAgICByZXR1cm4gbQogICAgfSwKCiAgICBTaG93UG9zaXRpb25JbmZvKGxhdCwgbG5nKSB7CiAgICAgIHRoaXMuUG9zaXRpb25JbmZvID0gJ0xhdCAmIExvbmc6ICcgKyBsYXQgKyAnLCAnICsgbG5nOwogICAgfSwKCiAgICAvLyBjYWxjV2hpdGVCYWxhbmNlR2FpbnMoKSB7CiAgICAvLyAgIHRoaXMuJGJ1cy4kZW1pdCgnY2FsY1doaXRlQmFsYW5jZUdhaW5zJyk7CiAgICAvLyB9LAoKCiAgICAvLyBoYW5kbGVDRldTZWxlY3RlZChjZncpIHsKICAgIC8vICAgY29uc29sZS5sb2coJ1FIWUNDRCB8IENGV1NlbGVjdGVkOiAnLCBjZncpOwogICAgLy8gICAvLyDmoLnmja7pnIDopoHlpITnkIbpgInmi6nnmoTml7bpl7QKICAgIC8vIH0sCgogICAgLy8g5re75Yqg6Kej5p6Q6L+b5bqm5Yiw5YiX6KGo5bm25pi+56S6CiAgICBhZGRQYXJzaW5nUHJvZ3Jlc3MocHJvZ3Jlc3MpIHsKICAgICAgdGhpcy5wYXJzaW5nUHJvZ3Jlc3NMaXN0LnB1c2gocHJvZ3Jlc3MpOwogICAgfSwKCiAgICAvLyDliIfmjaLop6PmnpDov5vluqbmlofmnKzmoYbnmoTmmL7npLrnirbmgIEKICAgIHNldFBhcnNpbmdQcm9ncmVzcyhzaG93KSB7CiAgICAgIHRoaXMuc2hvd1BhcnNpbmdQcm9ncmVzcyA9IHNob3c7CiAgICB9LAogICAgZ2V0UmVkQm94U3RhdGUoKSB7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnUmVkQm94U2lkZUxlbmd0aDonICsgdGhpcy5Cb3hTaWRlTGVuZ3RoKTsKICAgIH0sCgogICAgc2VsZWN0U3Rhcih4LCB5KSB7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU2VuZENvbnNvbGVMb2dNc2cnLCAnU2VsZWN0IFN0YXI6ICcgKyB4ICsgJywgJyArIHksICdpbmZvJyk7CiAgICAgIHRoaXMuc2VsZWN0U3RhclggPSB4OwogICAgICB0aGlzLnNlbGVjdFN0YXJZID0geTsKICAgIH0sCgogICAgU2NhbGVDaGFuZ2UodHlwZSkgewogICAgICB0aGlzLiRidXMuJGVtaXQoJ1NjYWxlQ2hhbmdlJywgdHlwZSk7CiAgICB9LAoKICAgIHNldFNjYWxlKHNjYWxlKSB7CiAgICAgIHRoaXMuU2NhbGUgPSBzY2FsZTsKICAgIH0sCiAgICByZVJ1blVwZGF0ZSgpIHsKICAgICAgdGhpcy5zaG93VXBkYXRlRGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnUHJvY2Vzc19Db21tYW5kX1JldHVybicsJ1Z1ZUNsaWVudFZlcnNpb246Jytwcm9jZXNzLmVudi5WVUVfQVBQX1ZFUlNJT04pOwogICAgfSwKICAgIGNsb3NlVXBkYXRlRGlhbG9nKCkgewogICAgICB0aGlzLnNob3dVcGRhdGVEaWFsb2cgPSBmYWxzZTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBwbHVnaW5zR3VpQ29tcG9uZW50czogZnVuY3Rpb24gKCkgewogICAgICBsZXQgcmVzID0gW10KICAgICAgZm9yIChjb25zdCBpIGluIHRoaXMuJHN0ZWxsYXJpdW1XZWJQbHVnaW5zKCkpIHsKICAgICAgICBjb25zdCBwbHVnaW4gPSB0aGlzLiRzdGVsbGFyaXVtV2ViUGx1Z2lucygpW2ldCiAgICAgICAgaWYgKHBsdWdpbi5ndWlDb21wb25lbnRzKSB7CiAgICAgICAgICByZXMgPSByZXMuY29uY2F0KHBsdWdpbi5ndWlDb21wb25lbnRzKQogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gcmVzCiAgICB9LAogICAgZGlhbG9nczogZnVuY3Rpb24gKCkgewogICAgICBsZXQgcmVzID0gWwogICAgICAgICdkYXRhLWNyZWRpdHMtZGlhbG9nJywKICAgICAgICAndmlldy1zZXR0aW5ncy1kaWFsb2cnLAogICAgICAgICdwbGFuZXRzLXZpc2liaWxpdHknLAogICAgICAgICdsb2NhdGlvbi1kaWFsb2cnCiAgICAgIF0KICAgICAgZm9yIChjb25zdCBpIGluIHRoaXMuJHN0ZWxsYXJpdW1XZWJQbHVnaW5zKCkpIHsKICAgICAgICBjb25zdCBwbHVnaW4gPSB0aGlzLiRzdGVsbGFyaXVtV2ViUGx1Z2lucygpW2ldCiAgICAgICAgaWYgKHBsdWdpbi5kaWFsb2dzKSB7CiAgICAgICAgICByZXMgPSByZXMuY29uY2F0KHBsdWdpbi5kaWFsb2dzLm1hcChkID0+IGQubmFtZSkpCiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiByZXMKICAgIH0sCiAgICBTd2l0Y2hQSEQyQm94Q2xhc3MoKSB7CiAgICAgIHJldHVybiBbCiAgICAgICAgewogICAgICAgICAgJ2JveC1Jbkd1aWRpbmcnOiB0aGlzLkN1cnJlbnRHdWlkZXJTdGF0dXMgPT09ICdJbkd1aWRpbmcnLAogICAgICAgICAgJ2JveC1JbkNhbGlicmF0aW9uJzogdGhpcy5DdXJyZW50R3VpZGVyU3RhdHVzID09PSAnSW5DYWxpYnJhdGlvbicsCiAgICAgICAgICAnYm94LVN0YXJMb3N0QWxlcnQnOiB0aGlzLkN1cnJlbnRHdWlkZXJTdGF0dXMgPT09ICdTdGFyTG9zdEFsZXJ0JywKICAgICAgICAgICdib3gtbnVsbCc6IHRoaXMuQ3VycmVudEd1aWRlclN0YXR1cyA9PT0gJ251bGwnLAogICAgICAgICAgJ2JveC1Db25uZWN0ZWQnOiB0aGlzLkN1cnJlbnRHdWlkZXJTdGF0dXMgPT09ICdDb25uZWN0ZWQnLAogICAgICAgIH0KICAgICAgXTsKICAgIH0sCiAgICBTd2l0Y2hQSEQyQ3Jvc3NDbGFzcygpIHsKICAgICAgcmV0dXJuIFsKICAgICAgICB7CiAgICAgICAgICAnY3Jvc3MtSW5HdWlkaW5nJzogdGhpcy5DdXJyZW50R3VpZGVyU3RhdHVzID09PSAnSW5HdWlkaW5nJywKICAgICAgICAgICdjcm9zcy1JbkNhbGlicmF0aW9uJzogdGhpcy5DdXJyZW50R3VpZGVyU3RhdHVzID09PSAnSW5DYWxpYnJhdGlvbicsCiAgICAgICAgICAnY3Jvc3MtU3Rhckxvc3RBbGVydCc6IHRoaXMuQ3VycmVudEd1aWRlclN0YXR1cyA9PT0gJ1N0YXJMb3N0QWxlcnQnLAogICAgICAgICAgJ2Nyb3NzLW51bGwnOiB0aGlzLkN1cnJlbnRHdWlkZXJTdGF0dXMgPT09ICdudWxsJywKICAgICAgICAgICdjcm9zcy1Db25uZWN0ZWQnOiB0aGlzLkN1cnJlbnRHdWlkZXJTdGF0dXMgPT09ICdDb25uZWN0ZWQnLAogICAgICAgIH0KICAgICAgXTsKICAgIH0sCiAgICBjdXJyZW50UG9sYXJBeGlzU3RlcFRpcHMoKSB7CiAgICAgIHJldHVybiB0aGlzLlBvbGFyQXhpc1N0ZXBUaXBzW3RoaXMuY3VycmVudFBvbGFyQXhpc1N0ZXAgLSAxXTsKICAgIH0sCiAgICBJbWFnZUluZm8oKSB7CiAgICAgIGxldCBpbWFnZUluZm87CiAgICAgIGlmICh0aGlzLmN1cnJlbnRJbWFnZVdpZHRoID09PSAwIHx8IHRoaXMuY3VycmVudEltYWdlSGVpZ2h0ID09PSAwKSB7CiAgICAgICAgaW1hZ2VJbmZvID0gJ04vQSc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMuQmlubmluZ051bSA9PT0gMSkgewogICAgICAgICAgaW1hZ2VJbmZvID0gJ09yaWdpbmFsIGltYWdlLCBTaXplOiBbJyArIHRoaXMuY3VycmVudEltYWdlV2lkdGggKyAneCcgKyB0aGlzLmN1cnJlbnRJbWFnZUhlaWdodCArICddJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaW1hZ2VJbmZvID0gJ0Jpbm5pbmc6ICcgKyB0aGlzLkJpbm5pbmdOdW0gKyAnLCBTaXplOiBbJyArIHRoaXMuY3VycmVudEltYWdlV2lkdGggKyAneCcgKyB0aGlzLmN1cnJlbnRJbWFnZUhlaWdodCArICddJzsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbWFnZUluZm87CiAgICB9LAogICAgcGlja2VyRGF0ZTogewogICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zdCB0ID0gdGhpcy5nZXRMb2NhbFRpbWUoKQogICAgICAgIHQubWlsbGlzZWNvbmRzKDApCiAgICAgICAgcmV0dXJuIHQuZm9ybWF0KCkKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiAodikgewogICAgICAgIGNvbnN0IG0gPSBNb21lbnQodikKICAgICAgICBtLmxvY2FsKCkKICAgICAgICBtLm1pbGxpc2Vjb25kcyh0aGlzLmdldExvY2FsVGltZSgpLm1pbGxpc2Vjb25kcygpKQogICAgICAgIHRoaXMuJHN0ZWwuY29yZS5vYnNlcnZlci51dGMgPSBtLnRvRGF0ZSgpLmdldE1KRCgpCiAgICAgIH0KICAgIH0sCgogIH0sCiAgY29tcG9uZW50czogewogICAgVG9vbGJhciwKICAgIEJvdHRvbUJhciwKICAgIERhdGFDcmVkaXRzRGlhbG9nLAogICAgVmlld1NldHRpbmdzRGlhbG9nLAogICAgUGxhbmV0c1Zpc2liaWxpdHksCiAgICBTZWxlY3RlZE9iamVjdEluZm8sCiAgICBMb2NhdGlvbkRpYWxvZywKICAgIFByb2dyZXNzQmFycywKICAgIE9ic2VydmluZ1BhbmVsLAogICAgTW91bnRDb250cm9sUGFuZWwsCiAgICBNZXNzYWdlQm94LAogICAgRXhwVGltZUJ0bkJhciwKICAgIENGV1NlbGVjdEJ0bkJhciwKICAgIENpcmN1bGFyUHJvZ3Jlc3NCdXR0b24sCiAgICBDaGFydENvbXBvbmVudCwKICAgIEhpc3RvZ3JhbVBhbmVsLAogICAgRm9jdXNlclBhbmVsLAogICAgU2NoZWR1bGVQYW5lbCwKICAgIFNjaGVkdWxlTGlzdCwKICAgIFNjaGVkdWxlS2V5Qm9hcmQsCiAgICBDYXB0dXJlUGFuZWwsCiAgICBJbWFnZU1hbmFnZXJQYW5lbCwKICAgIERldmljZUFsbG9jYXRpb25QYW5lbCwKICAgIElORElEZWJ1Z0RpYWxvZywKICAgIFJQSUhvdHNwb3REaWFsb2csCiAgICBEYXRlVGltZVBpY2tlciwKICAgIFVwZGF0ZVByb2dyZXNzRGlhbG9nLAogICAgQXV0b21hdGljUG9sYXJBbGlnbm1lbnRDYWxpYnJhdGlvbiwKICAgIC8vIExvY2F0aW9uRm9jYWxJbnB1dHMsCiAgfQp9Cg=="},{"version":3,"sources":["gui.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoVA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"gui.vue","sourceRoot":"src/components","sourcesContent":["// Stellarium Web - Copyright (c) 2022 - Stellarium Labs SRL\n//\n// This program is licensed under the terms of the GNU AGPL v3, or\n// alternatively under a commercial licence.\n//\n// The terms of the AGPL v3 license can be found in the main directory of this\n// repository.\n\n<template>\n  <div class=\"click-through\"\n    style=\"position:absolute; z-index: 1; width: 100%; height: 100%; display:flex; align-items: flex-end; pointer-events: none;\">\n    <div v-show=\"showRedBox\" class=\"red-box\"\n      :style=\"{ top: mouseY + 'px', left: mouseX + 'px', width: RedBoxWidth / BinningNum + 'px', height: RedBoxHeight / BinningNum + 'px' }\">\n    </div>\n    <div v-show=\"showPHD2BoxAndCross && PHD2BoxView\" :class=\"SwitchPHD2BoxClass\"\n      :style=\"{ top: PHD2Box_Y + 'px', left: PHD2Box_X + 'px', width: PHD2Box_Width + 'px', height: PHD2Box_Height + 'px' }\">\n    </div>\n    <div v-show=\"showPHD2BoxAndCross && PHD2CrossView\" :class=\"SwitchPHD2CrossClass\"\n      :style=\"{ top: 0 + 'px', left: PHD2Cross_X + 'px', width: 1 + 'px', height: PHD2Cross_Height + 'px' }\"></div>\n    <div v-show=\"showPHD2BoxAndCross && PHD2CrossView\" :class=\"SwitchPHD2CrossClass\"\n      :style=\"{ top: PHD2Cross_Y + 'px', left: 0 + 'px', width: PHD2Cross_Width + 'px', height: 1 + 'px' }\"></div>\n\n    <div v-show=\"showPHD2BoxAndCross && PHD2CrossView\" class=\"PHD2CircleClass\" v-for=\"(Star, index) in PHD2MultiStars\"\n      :key=\"index\" :style=\"{ top: Star.Y + 'px', left: Star.X + 'px' }\"></div>\n\n    <message-box v-for=\"(msg, index) in messageList\" :key=\"msg.id\" :message=\"msg.message\" :type=\"msg.type\"\n      :Pos=\"msg.Pos\" @close=\"removeMessage(index)\"></message-box>\n\n    <div>\n      <transition name=\"ToolBar\">\n        <toolbar v-show=\"showToolbar\" v-if=\"$store.state.showMainToolBar\" class=\"get-click\"></toolbar>\n      </transition>\n    </div>\n    <observing-panel></observing-panel>\n    <template v-for=\"(item, i) in pluginsGuiComponents\">\n      <component :is=\"item\" :key=\"i\"></component>\n    </template>\n    <template v-for=\"(item, i) in dialogs\">\n      <component :is=\"item\" :key=\"i + pluginsGuiComponents.length\"></component>\n    </template>\n    <selected-object-info\n      style=\"position: absolute; top: 48px; left: 0px; width: 350px; max-width: calc(100vw - 12px); margin: 6px\"\n      class=\"get-click\"></selected-object-info>\n\n    <!-- <transition name=\"RightBtn\">\n    <button v-show=\"showMountSwitch\" @click=\"toggleImageManagerPanel\" class=\"get-click btn-ImageManagerPanelSwitch\">\n      <v-icon color=\"rgba(255, 255, 255)\"> mdi-folder-image </v-icon>\n    </button>\n  </transition> -->\n\n    <!-- <transition name=\"RightBtn\">\n      <button v-show=\"isPolarAxisMode\" @click=\"RecalibratePolarAxis\" class=\"get-click btn-Recalibrate\">\n        <div style=\"display: flex; justify-content: center; align-items: center;\">\n          <img src=\"@/assets/images/svg/ui/Reset.svg\" height=\"20px\"\n            style=\"min-height: 20px; pointer-events: none;\"></img>\n        </div>\n      </button>\n    </transition> -->\n\n    <!-- <transition name=\"RightBtn\">\n      <button v-show=\"isPolarAxisMode && showSingleSolveBtn\" @click=\"SingleSolveImage\" class=\"get-click btn-SolveImage\"\n        style=\" background-color: rgba(0, 0, 0, 0.1); \">\n        <template v-if=\"!loadingImageSolve\">\n          <div style=\"display: flex; justify-content: center; align-items: center;\">\n            <img src=\"@/assets/images/svg/ui/Solve.svg\" height=\"25px\"\n              style=\"min-height: 25px; pointer-events: none;\"></img>\n          </div>\n        </template>\n        <template v-else>\n          <div class=\"progress-spinner\">\n            <v-progress-circular indeterminate color=\"white\" size=\"20\"></v-progress-circular>\n          </div>\n        </template>\n      </button>\n    </transition> -->\n\n    <!-- <transition name=\"RightBtn\">\n      <button v-show=\"isPolarAxisMode && !showSingleSolveBtn\" @click=\"LoopSolveImage\" class=\"get-click btn-SolveImage\"\n        :style=\"{ 'background-color': PlateSolveInProgress ? 'rgba(46, 160, 67, 0.3)' : 'rgba(0, 0, 0, 0.1)' }\">\n        <div style=\"display: flex; justify-content: center; align-items: center;\">\n          <img src=\"@/assets/images/svg/ui/LoopSolve.svg\" height=\"25px\"\n            style=\"min-height: 25px; pointer-events: none;\"></img>\n        </div>\n      </button>\n    </transition> -->\n\n    <div>\n      <transition name=\"RightBtn\">\n        <button v-show=\"showMountSwitch\" @click=\"toggleFloatingBox\" class=\"get-click btn-MountPanelSwitch\">\n          <div style=\"display: flex; justify-content: center; align-items: center;\">\n            <img src=\"@/assets/images/svg/ui/mount.svg\" height=\"33px\"\n              style=\"min-height: 33px; pointer-events: none;\"></img>\n          </div>\n        </button>\n      </transition>\n      <mount-control-panel v-show=\"showFloatingBox\" style=\"position: absolute; top: 50px; right: 10px; \"\n        class=\"get-click\"></mount-control-panel>\n    </div>\n\n    <progress-bars style=\"position: absolute; bottom: 54px; right: 12px;\"></progress-bars>\n\n    <div>\n      <transition name=\"BottomBar\">\n        <bottom-bar v-show=\"isBottomBarShow\" :style=\"{ width: isPolarAxisMode ? '75%' : '100%' }\"\n          style=\"position:absolute; justify-content: center; bottom: 0; display:flex; margin-bottom: 0px\"\n          class=\"get-click\"></bottom-bar>\n      </transition>\n    </div>\n\n    <transition name=\"BottomBtn\">\n      <button v-show=\"isMainSwitchShow\" @click=\"SwitchMainPage\" class=\"get-click btn-MainPageSwitch\">\n        <span v-if=\"CurrentMainPage === 'Stel'\">\n          <div style=\"display: flex; justify-content: center; align-items: center;\">\n            <img src=\"@/assets/images/svg/ui/sheying.svg\" height=\"33px\"\n              style=\"min-height: 33px; pointer-events: none;\"></img>\n          </div>\n        </span>\n        <span v-if=\"CurrentMainPage === 'MainCamera'\">\n          <div style=\"display: flex; justify-content: center; align-items: center;\">\n            <img src=\"@/assets/images/svg/ui/Guiding Curve.svg\" height=\"33px\"\n              style=\"min-height: 33px; pointer-events: none;\"></img>\n          </div>\n        </span>\n        <span v-if=\"CurrentMainPage === 'GuiderCamera'\">\n          <div style=\"display: flex; justify-content: center; align-items: center;\">\n            <img src=\"@/assets/images/svg/ui/skymap.svg\" height=\"33px\"\n              style=\"min-height: 33px; pointer-events: none;\"></img>\n          </div>\n        </span>\n      </button>\n    </transition>\n\n    <ChartComponent v-show=\"showChartsPanel\" class=\"get-click\" />\n    <transition name=\"BottomBtn\">\n      <button v-show=\"isCaptureMode\" @click=\"toggleChartsPanel\" class=\"get-click btn-ChartsSwitch\">\n        <div style=\"display: flex; justify-content: center; align-items: center;\">\n          <img src=\"@/assets/images/svg/ui/GuidingPanel.svg\" height=\"35px\"\n            style=\"min-height: 35px; pointer-events: none;\"></img>\n        </div>\n      </button>\n    </transition>\n\n    <HistogramPanel v-show=\"showHistogramPanel\" class=\"get-click\" />\n\n    <FocuserPanel v-show=\"showFocuserPanel\" class=\"get-click\" />\n\n    <!-- 使用CSS Grid布局的按钮容器 -->\n    <div class=\"left-button-container\">\n      <button v-show=\"isPolarAxisMode\" @click=\"QuitPolarAxisMode\" class=\"get-click btn-QuitPolarAxis\">\n        <div style=\"display: flex; justify-content: center; align-items: center;\">\n          <img src=\"@/assets/images/svg/ui/Back.svg\" height=\"35px\" style=\"min-height: 35px; pointer-events: none;\">\n        </div>\n      </button>\n\n      <button v-show=\"isShowImage && isShowHideUi\" @click=\"hideCaptureUI\" class=\"get-click btn-UISwitch\">\n        <div style=\"display: flex; justify-content: center; align-items: center;\">\n          <img src=\"@/assets/images/svg/ui/UI_Hide.svg\" height=\"20px\"\n            style=\"min-height: 20px; pointer-events: none;\"></img>\n        </div>\n      </button>\n\n      <button v-show=\"!isShowImage && isShowHideUi\" @click=\"showCaptureUI\" class=\"get-click btn-ShowUISwitch\">\n        <div style=\"display: flex; justify-content: center; align-items: center;\">\n          <img src=\"@/assets/images/svg/ui/UI_Show.svg\" height=\"20px\" style=\"min-height: 20px; pointer-events: none;\">\n        </div>\n      </button>\n\n      <button :disabled=\"loadingOriginalImage\" v-show=\"isCaptureMode\" @click=\"getOriginalImage\"\n        class=\"get-click btn-OriginalImage\">\n        <template v-if=\"!loadingOriginalImage\">\n          <div style=\"display: flex; justify-content: center; align-items: center;\">\n            <img src=\"@/assets/images/svg/ui/OriginalImage.svg\" height=\"20px\"\n              style=\"min-height: 20px; pointer-events: none;\"></img>\n          </div>\n        </template>\n        <template v-else>\n          <div class=\"progress-spinner\">\n            <v-progress-circular indeterminate color=\"white\" size=\"20\"></v-progress-circular>\n          </div>\n        </template>\n      </button>\n\n      <button v-show=\"isShowScaleChange\" @click=\"ScaleChange('+')\" class=\"get-click btn-ScaleAdd\">\n        <div style=\"display: flex; justify-content: center; align-items: center;\">\n          <img src=\"@/assets/images/svg/ui/ScaleAdd.svg\" height=\"20px\"\n            style=\"min-height: 20px; pointer-events: none;\"></img>\n        </div>\n      </button>\n\n      <button v-show=\"isShowScaleChange\" @click=\"ScaleChange('-')\" class=\"get-click btn-ScaleSub\">\n        <div style=\"display: flex; justify-content: center; align-items: center;\">\n          <img src=\"@/assets/images/svg/ui/ScaleSub.svg\" height=\"20px\"\n            style=\"min-height: 20px; pointer-events: none;\"></img>\n        </div>\n      </button>\n    </div>\n\n    <transition name=\"ToolBar\">\n      <div v-show=\"isCaptureMode\" class=\"TopLeft-Info\">\n        <p>{{ ImageInfo }}</p>\n      </div>\n    </transition>\n\n    <transition name=\"ToolBar\">\n      <div v-show=\"isStellariumMode\" class=\"TopLeft-Info\">\n        <p>{{ PositionInfo }}</p>\n      </div>\n    </transition>\n\n    <!-- <button v-show=\"isCaptureMode\" @click=\"calcWhiteBalanceGains\" class=\"get-click btn-WhiteBalance\">\n    <div style=\"display: flex; justify-content: center; align-items: center;\">\n      <img src=\"@/assets/images/svg/ui/WhiteBalance.svg\" height=\"20px\" style=\"min-height: 20px\"></img>\n    </div>\n  </button> -->\n\n    <DateTimePicker v-show=\"ShowDateTimePicker\" v-model=\"pickerDate\" :location=\"$store.state.currentLocation\">\n    </DateTimePicker>\n\n    <ImageManagerPanel v-show=\"ShowImageManagerPanel\" />\n\n    <DeviceAllocationPanel v-show=\"ShowDeviceAllocationPanel\" />\n\n    <INDIDebugDialog v-show=\"ShowINDIDebugDialog\" />\n\n    <RPIHotspotDialog v-show=\"ShowRPIHotspotDialog\" />\n\n    <SchedulePanel v-show=\"ShowSchedulePanel\" class=\"get-click\" style=\"position: absolute;\" />\n    <ScheduleKeyBoard v-show=\"ShowSchedulePanel\" />\n    <ScheduleList v-show=\"ShowSchedulePanel\" class=\"get-click\" style=\"position: absolute;\" />\n\n    <v-dialog v-model=\"ConfirmDialog\" width=\"220\" persistent>\n      <v-expand-x-transition>\n        <v-card class=\"flashing-border\" style=\"backdrop-filter: blur(5px); background-color: rgba(64, 64, 64, 0.5);\">\n          <v-card-title style=\"font-size: 20px;\">\n            {{ $t(ConfirmDialogTitle) }}\n          </v-card-title>\n          <v-card-text style=\"font-size: 15px; margin-bottom: -20px; line-height: 1.5;\">\n            {{ $t(ConfirmDialogText) }}\n          </v-card-text>\n          <v-card-actions style=\"margin-top: -20px; padding-top: -20px;\">\n            <v-spacer></v-spacer>\n            <v-btn @click=\"ConfirmDialog = false\" style=\"background-color: rgba(255, 255, 255, 0.1);\">\n              <v-icon color=\"rgba(255, 0, 0)\"> mdi-close </v-icon>\n            </v-btn>\n            <v-btn @click=\"ConfirmDialogToDo()\" style=\"background-color: rgba(255, 255, 255, 0.1);\">\n              <v-icon color=\"rgba(51, 218, 121)\"> mdi-check </v-icon>\n            </v-btn>\n            <v-spacer></v-spacer>\n          </v-card-actions>\n        </v-card>\n      </v-expand-x-transition>\n    </v-dialog>\n\n    <v-dialog v-model=\"DSLRsSetupDialog\" width=\"250\" persistent>\n      <v-expand-x-transition>\n        <v-card class=\"flashing-border\" style=\"backdrop-filter: blur(5px); background-color: rgba(64, 64, 64, 0.5);\">\n          <v-card-title style=\"font-size: 15px;\">\n            {{ DSLRCameraName }}\n          </v-card-title>\n\n          <v-card-text>\n            <v-row>\n              <v-col cols=\"6\">\n                <v-text-field v-model=\"DSLRCameraWidth\" label=\"Width(px)\" type=\"number\" outlined dense></v-text-field>\n              </v-col>\n              <v-col cols=\"6\">\n                <v-text-field v-model=\"DSLRCameraHeight\" label=\"Height(px)\" type=\"number\" outlined dense></v-text-field>\n              </v-col>\n            </v-row>\n\n            <v-text-field v-model=\"DSLRCameraPixelPitch\" label=\"Pixel Pitch(µm)\" type=\"number\" outlined dense\n              style=\"margin-top: -20px;\"></v-text-field>\n          </v-card-text>\n\n          <v-card-text v-show=\"showDSLRsTips\" style=\"margin-top: -40px;\">\n            <span style=\"font-size: 10px; color: #2C9DDE; user-select: none; text-align: center; width: 100%;\">\n              {{ $t('This is a one-time setup. You can obtain these values from your camera manual or from online sources such as www.digicamdb.com.') }}\n            </span>\n          </v-card-text>\n\n          <v-card-actions :style=\"{ 'margin-top': showDSLRsTips ? '-30px' : '-50px' }\">\n            <v-btn @click=\"showDSLRsTips = !showDSLRsTips\" style=\"background-color: rgba(255, 255, 255, 0.1);\">\n              <v-icon color=\"#2C9DDE\"> mdi-help </v-icon>\n            </v-btn>\n            <v-spacer></v-spacer>\n            <v-btn @click=\"ConfirmDSLRsSetup(DSLRCameraWidth, DSLRCameraHeight, DSLRCameraPixelPitch)\"\n              style=\"background-color: rgba(255, 255, 255, 0.1);\">\n              <v-icon color=\"rgb(255, 255, 255)\"> mdi-check </v-icon>\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-expand-x-transition>\n    </v-dialog>\n\n\n    <div v-if=\"CaptureImageProgressCard && isCaptureMode\" class=\"CaptureImageProgress-card\">\n      <div class=\"text-center\">\n        <v-progress-circular :value=\"Number(CaptureImageProgressNum_)\" :rotate=\"360\" :size=\"70\" :width=\"7\"\n          style=\"top: 7px; color: rgba(255, 255, 255, 0.7);\">\n          <template v-slot:default> {{ CaptureImageProgressNum }} % </template>\n        </v-progress-circular>\n      </div>\n      <span\n        style=\"position: absolute; bottom: 5px; left: 50%; transform: translateX(-50%); font-size: 10px; color: rgba(255, 255, 255, 0.3); user-select: none; text-align: center; width: 100%;\">\n        {{ $t('Image loading in progress...') }}\n      </span>\n    </div>\n\n\n    <!-- 更新命令显示文本框的命名为解析进度显示 -->\n    <!-- <div v-if=\"showParsingProgress && isPolarAxisMode\"\n      style=\"background-color: rgba(0, 0, 0, 0.7); color: white; padding: 10px; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 300px; height: 150px; display: flex; flex-direction: column; justify-content: flex-end; overflow: hidden;\">\n      <div v-for=\"(progress, index) in parsingProgressList\" :key=\"index\" style=\"margin-top: 5px;\">\n        {{ progress }}\n      </div>\n    </div> -->\n\n    <!-- 更新进度对话框 -->\n    <UpdateProgressDialog \n      :visible=\"showUpdateDialog\"\n      @close=\"closeUpdateDialog\"\n      @retry=\"retryUpdate\"\n    />\n\n    <!-- <div v-show=\"showLocationInputs && isPolarAxisMode\" style=\"position: absolute; top: 22px; left: 60px;\">\n      <location-focal-inputs \n        @location-update=\"handleLocationUpdate\"\n      />\n    </div> -->\n    <AutomaticPolarAlignmentCalibration\n      :visible.sync=\"isCalibrationVisible\"\n      :auto-start=\"false\"\n    />\n\n    <CapturePanel v-show=\"isCaptureMode\" />\n  </div>\n\n</template>\n\n<script>\nimport Toolbar from '@/components/toolbar.vue'\nimport BottomBar from '@/components/bottom-bar.vue'\nimport SelectedObjectInfo from '@/components/selected-object-info.vue'\nimport ProgressBars from '@/components/progress-bars'\n\nimport DataCreditsDialog from '@/components/data-credits-dialog.vue'\nimport ViewSettingsDialog from '@/components/view-settings-dialog.vue'\nimport PlanetsVisibility from '@/components/planets-visibility.vue'\nimport LocationDialog from '@/components/location-dialog.vue'\nimport ObservingPanel from '@/components/observing-panel.vue'\n\nimport MountControlPanel from '@/components/MountControlPanel.vue'\n\nimport MessageBox from \"@/components/MessageBox.vue\";\n\nimport ExpTimeBtnBar from \"@/components/ExpTimeBtnBar.vue\";\nimport CFWSelectBtnBar from \"@/components/CFWSelectBtnBar.vue\";\n\nimport CircularProgressButton from '@/components/CircularButton.vue';\n\nimport ChartComponent from '@/components/ChartComponent.vue';\n\nimport HistogramPanel from '@/components/HistogramPanel.vue';\n\nimport FocuserPanel from '@/components/FocuserPanel.vue';\n\nimport SchedulePanel from '@/components/SchedulePanel.vue';\nimport ScheduleList from '@/components/ScheduleList.vue';\n\nimport ScheduleKeyBoard from '@/components/ScheduleKeyBoard.vue';\n\nimport CapturePanel from '@/components/CapturePanel.vue';\n\nimport ImageManagerPanel from '@/components/ImageManagerPanel.vue';\n\nimport DeviceAllocationPanel from '@/components/DeviceAllocationPanel.vue';\n\nimport INDIDebugDialog from '@/components/indiDebugDialog.vue';\n\nimport RPIHotspotDialog from '@/components/RPI-Hotspot.vue';\n\nimport DateTimePicker from '@/components/date-time-picker.vue'\nimport Moment from 'moment'\n\nimport UpdateProgressDialog from '@/components/UpdateProgressDialog.vue';\n\nimport AutomaticPolarAlignmentCalibration from '@/components/AutomaticPolarAlignmentCalibration.vue'\n\n// import LocationFocalInputs from '@/components/LocationFocalInputs.vue';\n\nexport default {\n  data: function () {\n    return {\n      messageList: [],  // 用于存储消息框的数据\n      messageNum: 0,    // 消息数量\n      showFloatingBox: false,  // 是否显示浮动框\n      isSettingWindowShow: false,  // 是否显示设置窗口\n      isBottomBarShow: true,  // 是否显示底部栏\n      CurrentMainPage: 'Stel',  // 当前主页面\n      // 极轴对准页面前处于的页面\n      lastMainPage: 'None',  // 上一个主页面\n      isExpTimeBarShow: false,  // 是否显示曝光时间栏\n      isCFWSelectBarShow: false,  // 是否显示CFW选择栏\n      showChartsPanel: false,  // 是否显示图表面板\n      showHistogramPanel: false,  // 是否显示直方图面板\n      showFocuserPanel: false,  // 是否显示聚焦面板\n      showToolbar: true,  // 是否显示工具栏\n      showMountSwitch: true,  // 是否显示安装开关\n      isMainSwitchShow: true,  // 是否显示主开关\n      isRedBoxMode: false,  // 是否为红框模式\n      ShowSchedulePanel: false,  // 是否显示日程面板\n      ShowImageManagerPanel: false,  // 是否显示图像管理器面板\n      ShowDeviceAllocationPanel: false,  // 是否显示设备分配面板\n      ShowINDIDebugDialog: false,  // 是否显示INDI调试对话框\n      ShowRPIHotspotDialog: false,  // 是否显示RPI热点对话框\n      ShowDateTimePicker: false,  // 是否显示日期时间选择器\n      loadingOriginalImage: false,  // 是否正在加载原始图像\n      isShowHideUi: true,  // 是否显示隐藏用户界面\n      showLocationInputs: false, // 是否显示经纬度输入框\n      isCalibrationVisible: false,  // 是否显示自动对极轴页面\n\n      currentImageWidth: 0,\n      currentImageHeight: 0,\n\n      showRedBox: false, // 控制小红框显示与隐藏\n      isInitRedBox: true,\n      mouseX: 0, // 鼠标的X坐标\n      mouseY: 0, // 鼠标的Y坐标\n      mouseX_: 0,\n      mouseY_: 0,\n      BoxSideLength: 300,\n      RedBoxWidth: 300,\n      RedBoxHeight: 300,\n      RedBoxWidth_: 300,\n      RedBoxHeight_: 300,\n\n      isStellariumMode: true,\n      isCaptureMode: false,\n      isGuiderMode: false,\n      isShowImage: true,\n\n      ImageProportion: 1,\n      RedBoxOffset_X: 0,\n      RedBoxOffset_Y: 0,\n\n      Scale: 1,\n\n\n      FocalLength: 0,         // QHY462C: 130  5.568 3.132\n      // CameraSizeWidth: 5.568,   // QHY163M: 510  17.7  13.4\n      // CameraSizeHeight: 3.132, \n\n      PlateSolveInProgress: false,\n\n      isPolarAxisMode: false,\n\n      showSingleSolveBtn: true,\n\n      DifferenceText: '',\n      TargetText: '',\n      CurrentText: '',\n\n      ConfirmDialog: false,\n      ConfirmDialogTitle: 'Title',\n      ConfirmDialogText: 'Text',\n\n      ConfirmToDo: '',\n\n      DSLRsSetupDialog: false,\n      DSLRCameraName: '',\n      DSLRCameraWidth: 0,\n      DSLRCameraHeight: 0,\n      DSLRCameraPixelPitch: 0,\n      showDSLRsTips: false,\n\n      CaptureImageProgressCard: false,\n      CaptureImageProgressNum: 0,\n      CaptureImageProgressNum_: 0,\n\n      showPHD2BoxAndCross: false,\n      PHD2Box_X: 0,\n      PHD2Box_Y: 0,\n      PHD2Box_Width: 0,\n      PHD2Box_Height: 0,\n\n      PHD2Cross_X: 0,\n      PHD2Cross_Y: 0,\n      PHD2Cross_Width: 0,\n      PHD2Cross_Height: 0,\n\n      PHD2MultiStars: [],\n\n      CurrentGuiderStatus: 'null',\n\n      PHD2BoxView: true,\n      PHD2CrossView: true,\n\n      loadingImageSolve: false,\n\n      currentPolarAxisStep: 1,\n\n      PolarAxisStepTips: [\n        \"Rotate the equatorial dec axis by a certain angle and then take photos for analysis.\",\n        \"The Dec axis remains stationary, rotate the Ra axis by a certain angle, and then take photos for analysis.\",\n        \"Continue rotating the Ra axis and then take photos for analysis.\",\n        \"Turn on the loop shooting analysis, keep the Ra and Dec axes still, adjust the equatorial meter to make the two circles in the star chart as close to each other as possible.\"\n      ],\n\n      BinningNum: 1,\n      PositionInfo: '',\n\n      showParsingProgress: false,  // 控制解析进度文本框的显示\n      parsingProgressList: [],     // 存储解析进度的列表\n      isShowScaleChange: false,\n\n      previousState: {        // 保存隐藏时的ui状态\n        isShowImage: false,\n        showMountSwitch: false,\n        isRedBoxMode: false,\n        showToolbar: false,\n        isCaptureMode: false,\n        showFloatingBox: false,\n        showHistogramPanel: false,\n        isExpTimeBarShow: false,\n        isCFWSelectBarShow: false,\n        isMainSwitchShow: false,\n        showFocuserPanel: false,\n        showChartsPanel: false,\n        isShowScaleChange: false\n      },\n\n      selectStarX: 0, // 选择星点的X坐标\n      selectStarY: 0, // 选择星点的Y坐标\n\n      showUpdateDialog: false, // 是否显示更新进度对话框\n\n    }\n  },\n  created() {\n    this.$bus.$on('add-driver', this.handleAddDriver);\n    this.$bus.$on('add-device', this.handleAddDevice);\n    this.$bus.$on('showMsgBox', this.showMessageBox);\n    this.$bus.$on('MainCameraSize', this.resizeRedBox);\n    this.$bus.$on('MainCameraBinning', this.SetBinningNum);\n    this.$bus.$on('RedBoxSizeChange', this.setOriginalRedBoxLength);\n    this.$bus.$on('time-selected', this.handleExpTimeSelected);\n    // this.$bus.$on('cfw-selected', this.handleCFWSelected);\n    this.$bus.$on('toggleSchedulePanel', this.toggleSchedulePanel);\n    this.$bus.$on('MountPanelClose', this.toggleFloatingBox);\n    this.$bus.$on('toggleHistogramPanel', this.toggleHistogramPanel);\n    this.$bus.$on('toggleFocuserPanel', this.toggleFocuserPanel);\n    this.$bus.$on('ImageManagerPanelClose', this.toggleImageManagerPanel);\n    this.$bus.$on('ImageManagerPanelOpen', this.toggleImageManagerPanel);\n    this.$bus.$on('toggleDeviceAllocationPanel', this.toggleDeviceAllocationPanel);\n    this.$bus.$on('toggleINDIDebugDialog', this.toggleINDIDebugDialog);\n    this.$bus.$on('toggleRPIHotspotDialog', this.toggleRPIHotspotDialog);\n    this.$bus.$on('toggleDateTimePicker', this.toggleDateTimePicker);\n    // this.$bus.$on('RedBoxClick', this.handleTouchOrMouseDown);\n    // this.$bus.$on('RedBox_XY', this.RedBox_XY);\n    // this.$bus.$on('RedBoxOffset', this.setRedBoxOffset);\n    // this.$bus.$on('RedBoxScale', this.SetRedBoxScale);\n    // this.$bus.$on('ScaleImageSize', this.setScaleImageSize);\n    this.$bus.$on('CalibratePolarAxisMode', this.CalibratePolarAxisMode);\n    this.$bus.$on('showSolveImage', this.showSolveImage);\n    this.$bus.$on('HideSingleSolveBtn', this.HideSingleSolveBtn);\n    this.$bus.$on('ShowAzAltText', this.ShowAzAltText);\n    this.$bus.$on('ShowCurrentAzAltText', this.ShowCurrentAzAltText);\n    this.$bus.$on('ShowConfirmDialog', this.ShowConfirmDialog);\n    // this.$bus.$on('CameraInExposuring', this.SwitchMainPage);\n    this.$bus.$on('ShowCaptureImageProgress', this.ShowCaptureImageProgress);\n    this.$bus.$on('PHD2BoxPosition', this.PHD2BoxPosition);\n    this.$bus.$on('ClearPHD2MultiStars', this.ClearPHD2MultiStars);\n    this.$bus.$on('PHD2MultiStarsPosition', this.PHD2MultiStarsPosition);\n    this.$bus.$on('PHD2CrossPosition', this.PHD2CrossPosition);\n    this.$bus.$on('GuiderStatus', this.GuiderStatus);\n    this.$bus.$on('PHD2StarBoxView', this.togglePHD2StarBox);\n    this.$bus.$on('PHD2StarCrossView', this.togglePHD2StarCross);\n    this.$bus.$on(\"ImageSolveFinished\", this.ImageSolveFinished);\n    this.$bus.$on('Focal Length (mm)', this.FocalLengthSet);\n    this.$bus.$on('SetFocalLengthNum', this.FocalLengthSet);\n    this.$bus.$on('FocalLength', this.FocalLengthSet);\n    this.$bus.$on('SetBinningNum', this.SetBinningNum);\n    this.$bus.$on('ShowDSLRsSetup', this.ShowDSLRsSetup);\n    this.$bus.$on('ShowPositionInfo', this.ShowPositionInfo);\n    this.$bus.$on('ParseInfoEmitted', this.addParsingProgress);\n    this.$bus.$on('setParsingProgress', this.setParsingProgress);\n    this.$bus.$on('LoopSolveImageFinished', this.LoopSolveImageFinished);\n    this.$bus.$on('setRedBoxPosition', this.setRedBoxPosition);\n    this.$bus.$on('setRedBoxLength', this.setRedBoxLength);\n    // this.$bus.$on('setOriginalRedBoxSideLength', this.setOriginalRedBoxLength);\n    this.$bus.$on('getRedBoxState', this.getRedBoxState);\n    this.$bus.$on('selectStar', this.selectStar);\n    this.$bus.$on('setScale', this.setScale);\n    this.$bus.$on('reRunUpdate', this.reRunUpdate);   // 用于在更新失败后重新运行更新\n    this.$bus.$on('closeUpdateDialog', this.closeUpdateDialog);\n  },\n  mounted() {\n    // this.resizeRedBox(1920, 1080);\n    // this.$bus.$emit('syncROI_length');\n  },\n  methods: {\n    toggleFloatingBox() {\n      this.showFloatingBox = !this.showFloatingBox; // 切换显示状态\n    },\n    toggleChartsPanel() {\n      this.showChartsPanel = !this.showChartsPanel;\n      if (this.showFocuserPanel) {\n        this.showFocuserPanel = !this.showFocuserPanel;\n      }\n      else if (this.showHistogramPanel) {\n        this.showHistogramPanel = !this.showHistogramPanel;\n      }\n      this.$bus.$emit('SwitchImageToShow', true);\n    },\n    toggleHistogramPanel() {\n      this.showRedBox = false;\n      this.showHistogramPanel = !this.showHistogramPanel;\n      if (this.showFocuserPanel) {\n        this.showFocuserPanel = !this.showFocuserPanel;\n      }\n      else if (this.showChartsPanel) {\n        this.showChartsPanel = !this.showChartsPanel;\n      }\n      this.$bus.$emit('SwitchImageToShow', true);\n    },\n    toggleFocuserPanel() {\n      this.showFocuserPanel = !this.showFocuserPanel;\n      if (this.showHistogramPanel) {\n        this.showHistogramPanel = !this.showHistogramPanel;\n\n      }\n      else if (this.showChartsPanel) {\n        this.showChartsPanel = !this.showChartsPanel;\n      }\n      this.$bus.$emit('SwitchImageToShow', !this.showFocuserPanel);\n      if (this.showFocuserPanel) {\n        // document.addEventListener('click', this.handleTouchOrMouseDown);\n        this.showRedBox = true;\n      } else {\n        this.showRedBox = false;\n      }\n    },\n    toggleSchedulePanel() {\n      this.ShowSchedulePanel = !this.ShowSchedulePanel;\n    },\n\n    toggleImageManagerPanel() {\n      this.ShowImageManagerPanel = !this.ShowImageManagerPanel;\n      if (this.ShowImageManagerPanel) {\n        this.$bus.$emit('calculateTotalPage');\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'ShowAllImageFolder');\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'USBCheck');\n      }\n    },\n\n    toggleDeviceAllocationPanel() {\n      this.ShowDeviceAllocationPanel = !this.ShowDeviceAllocationPanel;\n    },\n\n    toggleINDIDebugDialog() {\n      this.ShowINDIDebugDialog = !this.ShowINDIDebugDialog;\n    },\n\n    toggleRPIHotspotDialog() {\n      this.ShowRPIHotspotDialog = !this.ShowRPIHotspotDialog;\n    },\n\n    toggleDateTimePicker() {\n      this.ShowDateTimePicker = !this.ShowDateTimePicker;\n    },\n\n    showCaptureUI() {\n      // 恢复之前保存的 UI 状态\n      this.isShowImage = this.previousState.isShowImage;\n      this.showMountSwitch = this.previousState.showMountSwitch;\n      this.isRedBoxMode = this.previousState.isRedBoxMode;\n      this.showToolbar = this.previousState.showToolbar;\n      this.isCaptureMode = this.previousState.isCaptureMode;\n      this.isShowScaleChange = this.previousState.isShowScaleChange;\n      this.showFloatingBox = this.previousState.showFloatingBox;\n      this.showHistogramPanel = this.previousState.showHistogramPanel;\n      this.isExpTimeBarShow = this.previousState.isExpTimeBarShow;\n      this.isCFWSelectBarShow = this.previousState.isCFWSelectBarShow;\n      this.isMainSwitchShow = this.previousState.isMainSwitchShow;\n      this.showFocuserPanel = this.previousState.showFocuserPanel;\n      this.showChartsPanel = this.previousState.showChartsPanel;\n      this.isShowHideUi = this.previousState.isShowHideUi;\n      // this.isPolarAxisMode = this.previousState.isPolarAxisMode;\n\n      // 发送极轴模式状态更新\n      this.$bus.$emit('PolarAxisMode', this.isPolarAxisMode);\n    },\n    hideCaptureUI(isShowequatorial_jnow = false) {\n      // document.addEventListener('click', this.handleTouchOrMouseDown);\n      this.previousState = {\n        isShowImage: this.isShowImage,                // 隐藏与现实按钮的切换\n        showMountSwitch: this.showMountSwitch,        // 显示与隐藏赤道仪切换按钮\n        isRedBoxMode: this.isRedBoxMode,             // 显示与隐藏小红框\n        showToolbar: this.showToolbar,               // 显示与隐藏工具栏\n        isCaptureMode: this.isCaptureMode,           // 显示与隐藏拍照模式\n        isShowScaleChange: this.isShowScaleChange,   // 显示与隐藏缩放按钮\n        showFloatingBox: this.showFloatingBox,       // 显示与隐藏浮动框\n        showHistogramPanel: this.showHistogramPanel, // 显示与隐藏直方图面板\n        isExpTimeBarShow: this.isExpTimeBarShow,     // 显示与隐藏曝光时间条\n        isCFWSelectBarShow: this.isCFWSelectBarShow, // 显示与隐藏滤镜轮选择器\n        isMainSwitchShow: this.isMainSwitchShow,     // 显示与隐藏主页切换按钮\n        showFocuserPanel: this.showFocuserPanel,   // 显示与隐藏聚焦器面板\n        showChartsPanel: this.showChartsPanel,      // 显示与隐藏图表面板\n        isShowHideUi: this.isShowHideUi,            // 显示与隐藏隐藏用户界面\n\n      };\n\n      this.isShowImage = false;\n      this.showMountSwitch = false;\n      this.isRedBoxMode = false;\n      this.showToolbar = false;\n      this.isCaptureMode = false;\n      this.showFloatingBox = false;\n      this.showHistogramPanel = false;\n      this.isExpTimeBarShow = false;\n      this.isCFWSelectBarShow = false;\n      this.isMainSwitchShow = false;\n      this.showFocuserPanel = false;\n      this.showHistogramPanel = false;\n      this.showChartsPanel = false;\n      if (isShowequatorial_jnow) {\n        this.$stel.core.lines.equatorial_jnow.visible = true;\n        // this.showMountSwitch = true;\n      }\n\n    },\n\n    // RedBox_XY(event) {\n    //   if (this.isRedBoxMode) {\n    //     // this.mouseX = X;\n    //     // this.mouseY = Y;\n    //     this.handleTouchOrMouseDown(event);\n    //   }\n    // },\n\n    // setRedBoxOffset(X, Y) {\n    //   this.RedBoxOffset_X = X;\n    //   this.RedBoxOffset_Y = Y;\n    //   // console.log('RedBoxOffset:', this.RedBoxOffset_Y);\n    //   this.mouseX = this.mouseX_ - this.RedBoxOffset_X;\n    //   this.mouseY = this.mouseY_ - this.RedBoxOffset_Y;\n    // },\n\n    // SetRedBoxScale(value) {\n    //   this.RedBoxWidth = this.RedBoxWidth_ * value;\n    //   this.RedBoxHeight = this.RedBoxHeight_ * value;\n    // },\n\n    SetBinningNum(num) {\n      this.BinningNum = num;\n      console.log('currentImageBin:', num);\n    },\n\n    FocalLengthSet(num) {\n      if (num === '') {\n        this.FocalLength = 0;\n      } else {\n        this.FocalLength = num;\n      }\n      console.log('currentFocalLength:', num);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:FocalLength:' + num);\n    },\n\n    PHD2BoxPosition(BoxStartX, BoxStartY, BoxWidth, BoxHeight) {\n      this.PHD2Box_X = BoxStartX;\n      this.PHD2Box_Y = BoxStartY;\n      this.PHD2Box_Width = BoxWidth;\n      this.PHD2Box_Height = BoxHeight;\n    },\n\n    PHD2CrossPosition(CrossStartX, CrossStartY) {\n      this.PHD2Cross_X = CrossStartX;\n      this.PHD2Cross_Y = CrossStartY;\n      this.PHD2Cross_Width = window.innerWidth;\n      this.PHD2Cross_Height = window.innerHeight;\n    },\n\n    PHD2MultiStarsPosition(StarStartX, StarStartY) {\n      this.PHD2MultiStars.push({ X: StarStartX, Y: StarStartY });\n    },\n\n    ClearPHD2MultiStars() {\n      this.PHD2MultiStars = [];\n    },\n\n    GuiderStatus(status) {\n      if (status === 'InGuiding') {\n        this.CurrentGuiderStatus = 'InGuiding';\n      } else if (status === 'InCalibration') {\n        this.CurrentGuiderStatus = 'InCalibration';\n      } else if (status === 'StarLostAlert') {\n        this.CurrentGuiderStatus = 'StarLostAlert';\n      } else if (status === 'Connected') {\n        this.CurrentGuiderStatus = 'Connected';\n      } else {\n        this.CurrentGuiderStatus = 'null';\n      }\n    },\n\n    // setScaleImageSize(width, height) {\n    //   this.ScaleImageWidth = width;\n    //   this.ScaleImageHeight = height;\n    //   // console.log('ScaleImageSize: ' + this.ScaleImageWidth + ', ' + this.ScaleImageHeight);\n    // },\n\n    setRedBoxPosition(x, y) {\n      // 计算 RedBox 的中心位置\n      const halfBoxWidth = Math.floor(this.RedBoxWidth / 2);\n      const halfBoxHeight = Math.floor(this.RedBoxHeight / 2);\n\n      // // 确保 RedBox 中心坐标 (x, y) 不会使 RedBox 超出画布边界\n      // const windowWidth = window.innerWidth;\n      // const windowHeight = window.innerHeight;\n\n      // // 调整 x 和 y 使得 RedBox 保持在画布内\n      // if (x - halfBoxWidth < 0) {\n      //   x = halfBoxWidth;\n      //   xisside = 1;\n      // } else if (x + halfBoxWidth > windowWidth) {\n      //   x = windowWidth - halfBoxWidth;\n      //   xisside = 2;\n      // }\n\n      // if (y - halfBoxHeight < 0) {\n      //   y = halfBoxHeight;\n      //   yisside = 1;\n      // } else if (y + halfBoxHeight > windowHeight) {\n      //   y = windowHeight - halfBoxHeight;\n      //   yisside = 2;\n      // }\n\n      // this.$bus.$emit('SendConsoleLogMsg', '图像偏移: x=' + this.RedBoxOffset_X + ',y=' + this.RedBoxOffset_Y, 'info');\n\n      // 计算中心点坐标\n      x = x - halfBoxWidth;\n      y = y - halfBoxHeight;\n\n      // 确保 RedBox 的中心坐标 (x, y) 是偶数\n      // if ((x - halfBoxWidth) % 2 != 0) {\n      //     x = x + 1;\n      // }\n      // if ((y - halfBoxHeight) % 2 != 0) {\n      //     y = y + 1;\n      // }\n\n      // 更新 RedBox 的位置\n      this.mouseX = Math.floor(x);\n      this.mouseX_ = Math.floor(x);\n      this.mouseY = Math.floor(y);\n      this.mouseY_ = Math.floor(y);\n\n      console.log('Updated RedBox position: ', this.mouseX, ',', this.mouseY);\n\n\n      // 发送更新位置的消息\n      // if (ROI_x !== 0 && ROI_y !== 0) {\n      //   this.$bus.$emit('AppSendMessage', 'Vue_Command', 'setROIPosition:' + ROI_x + \":\" + ROI_y);\n      // }\n      // this.$bus.$emit('AppSendMessage', 'Vue_Command', 'RedBox:' + this.mouseX + \":\" + this.mouseY + \":\" + window.innerWidth + \":\" + window.innerHeight);\n    },\n\n    setRedBoxLength(width, height) {\n\n      this.RedBoxWidth = width;\n      this.RedBoxWidth_ = width;\n      this.RedBoxHeight = height;\n      this.RedBoxHeight_ = height;\n    },\n\n    setOriginalRedBoxLength(length) {\n      console.log('初始化小红框大小: RedBoxWidth: ', this.RedBoxWidth, ', RedBoxHeight: ', this.RedBoxHeight, ', BoxSideLength: ', this.BoxSideLength, ', Scale: ', this.Scale);\n      const scale = length / this.BoxSideLength;\n      // 使用基准尺寸进行缩放，避免重复累计缩放\n      this.RedBoxWidth = this.RedBoxWidth_ * scale;\n      this.RedBoxHeight = this.RedBoxHeight_ * scale;\n      this.BoxSideLength = length;\n      // 更新基准为当前尺寸\n      this.RedBoxWidth_ = this.RedBoxWidth;\n      this.RedBoxHeight_ = this.RedBoxHeight;\n      console.log('更新小红框大小: RedBoxWidth: ', this.RedBoxWidth, ', RedBoxHeight: ', this.RedBoxHeight, ', BoxSideLength: ', this.BoxSideLength, ', Scale: ', this.Scale);\n    },\n\n    // handleTouchOrMouseDown(event) {\n    //   // 获取触摸或鼠标位置\n    //   const clientX = event.type.startsWith('touch') ? event.touches[0].clientX : event.clientX;\n    //   const clientY = event.type.startsWith('touch') ? event.touches[0].clientY : event.clientY;\n\n    //   // 更新位置\n    //   this.mouseX = Math.floor(clientX);\n    //   this.mouseX_ = Math.floor(clientX);\n    //   this.mouseY = Math.floor(clientY);\n    //   this.mouseY_ = Math.floor(clientY);\n\n    //   console.log('handleTouchOrMouseDown: ', this.mouseX, ',', this.mouseY);\n\n    //   const windowWidth = window.innerWidth;\n    //   const windowHeight = window.innerHeight;\n\n\n    //   this.$bus.$emit('AppSendMessage', 'Vue_Command', 'RedBox:'+ Math.floor((this.mouseX + this.RedBoxOffset_X) / this.ScaleImageWidth * windowWidth) + \":\" + Math.floor((this.mouseY + this.RedBoxOffset_Y) / this.ScaleImageHeight * windowHeight) + \":\" + windowWidth + \":\" + windowHeight);\n    // },\n\n    resizeRedBox(CameraWidth, CameraHeight) {\n      this.currentImageWidth = CameraWidth;\n      this.currentImageHeight = CameraHeight;\n\n      // const windowWidth = window.innerWidth;\n      // const windowHeight = window.innerHeight;\n\n      // this.RedBoxWidth = this.BoxSideLength * windowWidth / CameraWidth / this.Scale;\n      // this.RedBoxHeight = this.BoxSideLength * windowHeight / CameraHeight / this.Scale;\n      // this.$bus.$emit('SendConsoleLogMsg', '设置小红框大小: ' + this.RedBoxWidth + ', ' + this.RedBoxHeight, 'info');\n      // this.$bus.$emit('RedBoxSideLength', this.BoxSideLength);\n      this.ImageProportion = CameraWidth / CameraHeight;\n      this.$bus.$emit('ImageProportion', this.ImageProportion);\n      // // this.RedBoxHeight = this.RedBoxHeight * this.ImageProportion;\n\n      // this.RedBoxWidth_ = this.RedBoxWidth;\n      // this.RedBoxHeight_ = this.RedBoxHeight;\n\n      // console.log('RedBoxSize:', this.RedBoxWidth, ', ', this.RedBoxHeight);\n\n      // if (this.isInitRedBox === true) {\n      //   // 将小红框置于界面中央\n      //   this.mouseX = (windowWidth - this.RedBoxWidth) / 2; // 100是小红框的宽度\n      //   this.mouseX_ = (windowWidth - this.RedBoxWidth) / 2; // 100是小红框的宽度\n      //   this.mouseY = (windowHeight - this.RedBoxHeight) / 2; // 100是小红框的高度\n      //   this.mouseY_ = (windowHeight - this.RedBoxHeight) / 2; // 100是小红框的高度\n      //   this.isInitRedBox = false;\n      // }\n\n      // this.$bus.$emit('AppSendMessage', 'Vue_Command', 'RedBox:' + this.mouseX + \":\" + this.mouseY + \":\" + windowWidth + \":\" + windowHeight);  //TODO: BoxSize\n    },\n\n    // RedBoxSizeChange(length) {\n    //   this.BoxSideLength = length;\n    //   // console.log('RedBoxSizeChange: ', this.BoxSideLength);\n    //   // this.$bus.$emit('SendConsoleLogMsg', 'Red Box Size Change:' + this.BoxSideLength, 'info');\n    //   // this.$bus.$emit('AppSendMessage', 'Vue_Command', 'RedBox Side Length (px):' + this.BoxSideLength);\n    //   // this.$bus.$emit('RedBoxSideLength', this.BoxSideLength);\n    // },\n\n    // handleAddDriver(driver) {\n    //   if (driver.type === 'Mount') {\n    //     this.$refs.mountDialog.AddDrivers(driver);\n    //   } else if (driver.type === 'Focuser') {\n    //     this.$refs.focuserDialog.AddDrivers(driver);\n    //   } else if (driver.type === 'PoleCamera') {\n    //     this.$refs.polecameraDialog.AddDrivers(driver);\n    //   } else if (driver.type === 'MainCamera') {\n    //     this.$refs.maincameraDialog.AddDrivers(driver);\n    //   } else if (driver.type === 'Guider') {\n    //     this.$refs.guiderDialog.AddDrivers(driver);\n    //   } else if (driver.type === 'CFW') {\n    //     this.$refs.cfwDialog.AddDrivers(driver);\n    //   }\n    // },\n    // handleAddDevice(device) {\n    //   if (device.type === 'Mount') {\n    //     this.$refs.mountDialog.AddDevices(device);\n    //   } else if (device.type === 'Focuser') {\n    //     this.$refs.focuserDialog.AddDevices(device);\n    //   } else if (device.type === 'PoleCamera') {\n    //     this.$refs.polecameraDialog.AddDevices(device);\n    //   } else if (device.type === 'MainCamera') {\n    //     this.$refs.maincameraDialog.AddDevices(device);\n    //   } else if (device.type === 'Guider') {\n    //     this.$refs.guiderDialog.AddDevices(device);\n    //   } else if (device.type === 'CFW') {\n    //     this.$refs.cfwDialog.AddDevices(device);\n    //   }\n    // },\n\n    // 消息框\n    showMessageBox(msg, type) {\n      console.log(\"QHYCCD | show Message Box.\");\n\n      this.messageNum += 1;\n\n      const newMessage = {\n        id: this.messageNum,\n        message: msg,\n        type: type,  // 你可以动态设置不同的消息类型\n        Pos: this.messageList.length\n      };\n      this.messageList.push(newMessage);\n\n      // 设置定时器，5秒后自动移除\n      setTimeout(() => {\n        this.removeMessage(this.messageList.indexOf(newMessage));\n      }, 5000);\n    },\n    // 消息框\n\n    removeMessage(index) {\n      this.messageList.splice(index, 1);\n      this.messageList.forEach((msg, i) => {\n        msg.Pos = i;  // 重新计算 Pos\n      });\n    },\n\n    SwitchMainPage() {\n      if (this.CurrentMainPage === 'Stel') {\n        this.CurrentMainPage = 'MainCamera';\n        this.isBottomBarShow = false;\n        this.isExpTimeBarShow = true;\n\n        this.isStellariumMode = false;\n        this.isCaptureMode = true;\n        this.isShowScaleChange = true;\n        this.isGuiderMode = false;\n\n        this.showMountSwitch = true;\n\n        this.showChartsPanel = false;\n        this.showRedBox = false;\n\n        this.$bus.$emit('HideTargetSearch');\n\n        this.showPHD2BoxAndCross = false;\n      }\n      else if (this.CurrentMainPage === 'MainCamera') {\n        this.CurrentMainPage = 'GuiderCamera';\n        this.isBottomBarShow = false;\n        this.isExpTimeBarShow = false;\n        this.isCFWSelectBarShow = false;\n\n        this.isStellariumMode = false;\n        this.isCaptureMode = false;\n        this.isGuiderMode = true;\n        this.isShowScaleChange = false;\n        this.showMountSwitch = true;\n\n        this.showChartsPanel = true;\n        this.showHistogramPanel = false;\n        this.showFocuserPanel = false;\n        this.showRedBox = false;\n        this.showPHD2BoxAndCross = true;\n      }\n      else if (this.CurrentMainPage === 'GuiderCamera') {\n        this.CurrentMainPage = 'Stel';\n        this.isBottomBarShow = true;\n        this.isExpTimeBarShow = false;\n        this.isCFWSelectBarShow = false;\n\n        this.isStellariumMode = true;\n        this.isCaptureMode = false;\n        this.isGuiderMode = false;\n        this.isShowScaleChange = false;\n        this.showMountSwitch = true;\n\n        this.showChartsPanel = false;\n        this.showHistogramPanel = false;\n        this.showFocuserPanel = false;\n        this.showRedBox = false;\n        this.showPHD2BoxAndCross = false;\n\n        this.$bus.$emit('ShowTargetSearch');\n      }\n\n      this.$bus.$emit('showCanvas',this.CurrentMainPage);\n    },\n\n    handleExpTimeSelected(time) {\n      console.log('QHYCCD | ExpTimeSelected: ', time);\n      // 根据需要处理选择的时间\n      const match = time.match(/(\\d+)([a-zA-Z]+)/);\n\n      if (match) {\n        const numericPart = parseInt(match[1], 10); // 将匹配到的数字部分转换为整数\n        const unitPart = match[2].toLowerCase(); // 获取单位部分，并将其转换为小写\n\n        let convertedTime = numericPart; // 默认情况下，将数字部分保持不变\n\n        if (unitPart === 's') {\n          convertedTime *= 1000; // 如果单位是秒(s)，则将数字乘以1000\n        }\n\n        console.log('Numeric part:', numericPart);\n        console.log('Unit part:', unitPart);\n        console.log('Converted time:', convertedTime);\n\n        // this.$refs.CaptureBtn.SetDuration(convertedTime);\n        this.$bus.$emit('SetExpTime', convertedTime);\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'setExposureTime:' + convertedTime);\n      } else {\n        console.log('No numeric part found in time:', time);\n      }\n    },\n\n    ImageSolveFinished(success) {\n      // console.log(\"Image Solve Finished!!!\");\n      this.$bus.$emit('SendConsoleLogMsg', 'Image Solve Finished!!!', 'info');\n\n      this.loadingImageSolve = false;\n\n      if (success) {\n        this.currentPolarAxisStep = Math.min(this.currentPolarAxisStep + 1, 4);\n      }\n    },\n\n    SingleSolveImage() {\n      if (this.FocalLength === 0) {\n        this.showMessageBox('Please set Focal Length first.', 'error');\n        return;\n      }\n\n      if (this.loadingImageSolve) {\n        this.$bus.$emit('showMsgBox', 'Image solve is currently in progress.', 'warning');\n        this.ShowConfirmDialog('Confirm', 'Are you sure you want to cancel the shooting and analysis?', 'EndCaptureAndSolve');\n        this.$bus.$emit('setParsingProgress', false);\n      } else {\n        this.loadingImageSolve = true;\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'SolveImage:' + this.FocalLength);\n        this.$bus.$emit('setParsingProgress', true);\n      }\n    },\n\n    LoopSolveImage() {\n      if (this.PlateSolveInProgress) {\n        this.PlateSolveInProgress = false;\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'stopLoopSolveImage');\n        this.$bus.$emit('SendConsoleLogMsg', 'stop Loop SolveImage', 'info');\n        this.$bus.$emit('setParsingProgress', false);\n        this.setParsingProgress(false);\n      } else {\n        this.PlateSolveInProgress = true;\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'startLoopSolveImage:' + this.FocalLength);\n        this.$bus.$emit('SendConsoleLogMsg', 'start Loop SolveImage', 'info');\n        this.$bus.$emit('setParsingProgress', true);\n        this.setParsingProgress(true);\n      }\n    },\n\n    CalibratePolarAxisMode() {\n      this.lastMainPage = this.CurrentMainPage;\n      this.CurrentMainPage = 'Stel';\n      this.$bus.$emit('showStelCanvas');\n      this.hideCaptureUI(true);\n\n      this.isPolarAxisMode = true;\n      this.isBottomBarShow = true;\n      this.isExpTimeBarShow = false;\n      this.isCFWSelectBarShow = false;\n\n      this.isStellariumMode = true;\n      this.isCaptureMode = false;\n      this.isGuiderMode = false;\n      this.isShowScaleChange = false;\n      this.showMountSwitch = true;\n\n      this.showChartsPanel = false;\n      this.showHistogramPanel = false;\n      this.showFocuserPanel = false;\n      this.showRedBox = false;\n      this.showPHD2BoxAndCross = false;\n      this.isShowHideUi = false;\n\n      // this.$bus.$emit('ShowTargetSearch');\n      document.removeEventListener('click', this.handleTouchOrMouseDown);\n      this.$bus.$emit('showPolarAlignment');           // 显示校准界面\n      console.log('********* isShowHideUi **********: ', this.isShowHideUi);\n    },\n\n    QuitPolarAxisMode() {\n      this.showCaptureUI();\n      this.isPolarAxisMode = false;\n      // this.isCaptureMode = false;\n      // this.isShowScaleChange = false;\n      this.showLocationInputs = false;\n      \n      if (this.lastMainPage === 'None') {\n        this.CurrentMainPage = 'MainCamera';\n      } else {\n        this.CurrentMainPage = this.lastMainPage;\n      }\n      this.$bus.$emit('PolarAxisMode', this.isPolarAxisMode);\n      this.$bus.$emit('showCanvas',this.CurrentMainPage);\n      this.lastMainPage = 'None';\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'StopLoopCapture');\n      this.$bus.$emit('SendConsoleLogMsg', 'Stop Loop Capture', 'info');\n      this.$bus.$emit('hidePolarAlignment');           // 隐藏校准界面\n    },\n\n    showSolveImage(img) {\n      const canvas = document.getElementById('SolveImage-Canvas');\n\n      if (canvas.getContext) {\n        const ctx = canvas.getContext('2d');\n        const canvasWidth = window.innerWidth / 4;\n        const canvasHeight = window.innerHeight / 4;\n\n        let resizeImg = new cv.Mat();\n\n        cv.resize(img, resizeImg, new cv.Size(window.innerWidth / 4, window.innerHeight / 4), 0, 0, cv.INTER_LINEAR);\n\n        // // 清除画布\n        // ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n\n        // // 调整图像尺寸以适应画布尺寸\n        // ctx.drawImage(img, 0, 0, canvasWidth, canvasHeight);\n\n        // Set canvas size to match the image\n        canvas.width = resizeImg.cols;\n        canvas.height = resizeImg.rows;\n\n        // Draw the image on canvas\n        cv.imshow(canvas, resizeImg);\n        // img.delete();\n      }\n    },\n\n    HideSingleSolveBtn() {\n      this.showSingleSolveBtn = false;\n    },\n\n    LoopSolveImageFinished() {\n      this.PlateSolveInProgress = false;\n      this.setParsingProgress(false);\n    },\n\n    RecalibratePolarAxis() {\n      this.currentPolarAxisStep = 1;\n      console.log('Recalibrate the polar axis');\n      this.$bus.$emit('SendConsoleLogMsg', 'Recalibrate the polar axis.', 'info');\n      this.showSingleSolveBtn = true;\n      this.$bus.$emit('RecalibratePolarAxis');\n\n      if (this.PlateSolveInProgress) {\n        this.PlateSolveInProgress = false;\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'stopLoopSolveImage');\n        this.$bus.$emit('SendConsoleLogMsg', 'stop Loop Solve Image', 'info');\n      }\n\n      this.DifferenceText = '';\n      this.TargetText = '';\n      this.CurrentText = '';\n    },\n\n    ShowAzAltText(Az1, Alt1, Az2, Alt2) {\n      this.DifferenceText = `${this.$t('Azimuth Offset')}: ${Az1.toFixed(3)}°, ${this.$t('Altitude Offset')}: ${Alt1.toFixed(3)}°`;\n      this.TargetText = `${this.$t('Target Azimuth')}: ${Az2.toFixed(3)}°, ${this.$t('Target Altitude')}: ${Alt2.toFixed(3)}°`;\n    },\n\n    ShowCurrentAzAltText(Az, Alt) {\n      this.CurrentText = `${this.$t('Current')}: ${Az.toFixed(3)}°, ${Alt.toFixed(3)}°`;\n    },\n\n    ShowConfirmDialog(title, text, ToDo) {\n      this.ConfirmDialog = true;\n      this.ConfirmDialogTitle = title;\n      this.ConfirmDialogText = text;\n      this.ConfirmToDo = ToDo;\n    },\n\n    ConfirmDialogToDo() {\n      this.ConfirmDialog = false;\n      if (this.ConfirmToDo === 'Refresh') {\n        window.location.reload();\n      } else if (this.ConfirmToDo === 'disconnectAllDevice') {\n        this.$bus.$emit('disconnectAllDevice', true);\n      } else if (this.ConfirmToDo === 'SwitchOutPutPower') {\n        const parts = this.ConfirmDialogTitle.split(':');\n        const index = parseInt(parts[1]);\n        this.$bus.$emit('SwitchOutPutPower', index, false);\n      } else if (this.ConfirmToDo === 'Recalibrate') {\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'PHD2Recalibrate');\n        this.$bus.$emit('SendConsoleLogMsg', 'PHD2 Recalibrate', 'info');\n      } else if (this.ConfirmToDo === 'EndCaptureAndSolve') {\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'EndCaptureAndSolve');\n        this.$bus.$emit('SendConsoleLogMsg', 'End Capture And Solve', 'info');\n        this.loadingImageSolve = false;\n      } else if (this.ConfirmToDo === 'RestartRaspberryPi') {\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'RestartRaspberryPi');\n      } else if (this.ConfirmToDo === 'ShutdownRaspberryPi') {\n        // this.$bus.$emit('SendConsoleLogMsg', '关闭树莓派并退出', 'info');\n        this.$bus.$emit('CloseWebView');\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'ShutdownRaspberryPi');\n      } else if (this.ConfirmToDo === 'restartQtServer') {\n        this.$bus.$emit('AppSendMessage', 'Process_Command_Return', 'restartQtServer');\n        window.location.reload();\n      } else if (this.ConfirmToDo.startsWith('updateCurrentClient')) {\n        this.$bus.$emit('AppSendMessage', 'Process_Command_Return', this.ConfirmToDo);\n        this.showUpdateDialog = true;\n      } else if (this.ConfirmToDo === 'StartCalibration') {\n        this.$bus.$emit('StartCalibration');\n      }\n    },\n\n    ShowDSLRsSetup(name) {\n      this.DSLRCameraName = name;\n      this.DSLRsSetupDialog = true;\n    },\n\n    ConfirmDSLRsSetup(width, height, pixelPitch) {\n      this.DSLRsSetupDialog = false;\n      console.log('DSLR Camera Info:', width, ',', height, ',', pixelPitch);\n      this.$bus.$emit('SendConsoleLogMsg', 'DSLR Camera Info:' + width + ',' + height + ',' + pixelPitch, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'DSLRCameraInfo:' + width + ':' + height + ':' + pixelPitch);\n    },\n\n    getOriginalImage() {\n      if(this.BinningNum === 1) {\n        this.$bus.$emit('showMsgBox', 'The current image is already the original one.', 'warning');\n      } else {\n        this.loadingOriginalImage = true;\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'getOriginalImage');\n      }\n    },\n\n    // getOriginalImage() {\n    //   this.$bus.$emit('showMsgBox', 'Reload the original image.', 'info');\n    //   this.loadingOriginalImage = true;\n    //   this.$bus.$emit('AppSendMessage', 'Vue_Command', 'getOriginalImage');\n    // },\n\n    ShowCaptureImageProgress(num) {\n      this.CaptureImageProgressCard = true;\n      this.CaptureImageProgressNum = num;\n\n      if (num % 5 === 0) {\n        this.CaptureImageProgressNum_ = num;\n      }\n\n      if (num === 100) {\n        this.CaptureImageProgressCard = false;\n        this.CaptureImageProgressNum = 0;\n        this.CaptureImageProgressNum_ = 0;\n        this.loadingOriginalImage = false;\n      }\n    },\n\n    togglePHD2StarBox(Boxview) {\n      if (Boxview === 'true') {\n        this.PHD2BoxView = true;\n      } else {\n        this.PHD2BoxView = false;\n      }\n    },\n    togglePHD2StarCross(Crossview) {\n      if (Crossview === 'true') {\n        this.PHD2CrossView = true;\n      } else {\n        this.PHD2CrossView = false;\n      }\n    },\n\n    switchPolarAxisTips() {\n      this.currentPolarAxisStep = Math.min(this.currentPolarAxisStep + 1, 4);\n    },\n\n    getLocalTime: function () {\n      var d = new Date()\n      d.setMJD(this.$store.state.stel.observer.utc)\n      const m = Moment(d)\n      m.local()\n      return m\n    },\n\n    ShowPositionInfo(lat, lng) {\n      this.PositionInfo = 'Lat & Long: ' + lat + ', ' + lng;\n    },\n\n    // calcWhiteBalanceGains() {\n    //   this.$bus.$emit('calcWhiteBalanceGains');\n    // },\n\n\n    // handleCFWSelected(cfw) {\n    //   console.log('QHYCCD | CFWSelected: ', cfw);\n    //   // 根据需要处理选择的时间\n    // },\n\n    // 添加解析进度到列表并显示\n    addParsingProgress(progress) {\n      this.parsingProgressList.push(progress);\n    },\n\n    // 切换解析进度文本框的显示状态\n    setParsingProgress(show) {\n      this.showParsingProgress = show;\n    },\n    getRedBoxState() {\n      this.$bus.$emit('RedBoxSideLength:' + this.BoxSideLength);\n    },\n\n    selectStar(x, y) {\n      this.$bus.$emit('SendConsoleLogMsg', 'Select Star: ' + x + ', ' + y, 'info');\n      this.selectStarX = x;\n      this.selectStarY = y;\n    },\n\n    ScaleChange(type) {\n      this.$bus.$emit('ScaleChange', type);\n    },\n\n    setScale(scale) {\n      this.Scale = scale;\n    },\n    reRunUpdate() {\n      this.showUpdateDialog = false;\n      this.$bus.$emit('AppSendMessage', 'Process_Command_Return','VueClientVersion:'+process.env.VUE_APP_VERSION);\n    },\n    closeUpdateDialog() {\n      this.showUpdateDialog = false;\n    }\n  },\n  computed: {\n    pluginsGuiComponents: function () {\n      let res = []\n      for (const i in this.$stellariumWebPlugins()) {\n        const plugin = this.$stellariumWebPlugins()[i]\n        if (plugin.guiComponents) {\n          res = res.concat(plugin.guiComponents)\n        }\n      }\n      return res\n    },\n    dialogs: function () {\n      let res = [\n        'data-credits-dialog',\n        'view-settings-dialog',\n        'planets-visibility',\n        'location-dialog'\n      ]\n      for (const i in this.$stellariumWebPlugins()) {\n        const plugin = this.$stellariumWebPlugins()[i]\n        if (plugin.dialogs) {\n          res = res.concat(plugin.dialogs.map(d => d.name))\n        }\n      }\n      return res\n    },\n    SwitchPHD2BoxClass() {\n      return [\n        {\n          'box-InGuiding': this.CurrentGuiderStatus === 'InGuiding',\n          'box-InCalibration': this.CurrentGuiderStatus === 'InCalibration',\n          'box-StarLostAlert': this.CurrentGuiderStatus === 'StarLostAlert',\n          'box-null': this.CurrentGuiderStatus === 'null',\n          'box-Connected': this.CurrentGuiderStatus === 'Connected',\n        }\n      ];\n    },\n    SwitchPHD2CrossClass() {\n      return [\n        {\n          'cross-InGuiding': this.CurrentGuiderStatus === 'InGuiding',\n          'cross-InCalibration': this.CurrentGuiderStatus === 'InCalibration',\n          'cross-StarLostAlert': this.CurrentGuiderStatus === 'StarLostAlert',\n          'cross-null': this.CurrentGuiderStatus === 'null',\n          'cross-Connected': this.CurrentGuiderStatus === 'Connected',\n        }\n      ];\n    },\n    currentPolarAxisStepTips() {\n      return this.PolarAxisStepTips[this.currentPolarAxisStep - 1];\n    },\n    ImageInfo() {\n      let imageInfo;\n      if (this.currentImageWidth === 0 || this.currentImageHeight === 0) {\n        imageInfo = 'N/A';\n      } else {\n        if (this.BinningNum === 1) {\n          imageInfo = 'Original image, Size: [' + this.currentImageWidth + 'x' + this.currentImageHeight + ']';\n        } else {\n          imageInfo = 'Binning: ' + this.BinningNum + ', Size: [' + this.currentImageWidth + 'x' + this.currentImageHeight + ']';\n        }\n      }\n\n      return imageInfo;\n    },\n    pickerDate: {\n      get: function () {\n        const t = this.getLocalTime()\n        t.milliseconds(0)\n        return t.format()\n      },\n      set: function (v) {\n        const m = Moment(v)\n        m.local()\n        m.milliseconds(this.getLocalTime().milliseconds())\n        this.$stel.core.observer.utc = m.toDate().getMJD()\n      }\n    },\n\n  },\n  components: {\n    Toolbar,\n    BottomBar,\n    DataCreditsDialog,\n    ViewSettingsDialog,\n    PlanetsVisibility,\n    SelectedObjectInfo,\n    LocationDialog,\n    ProgressBars,\n    ObservingPanel,\n    MountControlPanel,\n    MessageBox,\n    ExpTimeBtnBar,\n    CFWSelectBtnBar,\n    CircularProgressButton,\n    ChartComponent,\n    HistogramPanel,\n    FocuserPanel,\n    SchedulePanel,\n    ScheduleList,\n    ScheduleKeyBoard,\n    CapturePanel,\n    ImageManagerPanel,\n    DeviceAllocationPanel,\n    INDIDebugDialog,\n    RPIHotspotDialog,\n    DateTimePicker,\n    UpdateProgressDialog,\n    AutomaticPolarAlignmentCalibration,\n    // LocationFocalInputs,\n  }\n}\n</script>\n\n<style scoped>\n\n/* .v-overlay__scrim {\n  display: none !important;\n} */\n\n.btn-MountPanelSwitch {\n  position: absolute;\n  width: 35px;\n  height: 35px;\n  top: 50px;\n  right: 20px;\n\n  user-select: none;\n  backdrop-filter: blur(5px);\n  background-color: rgba(0, 0, 0, 0.1);\n  border-radius: 10px;\n  border: 1px solid rgba(255, 255, 255, 0.8);\n}\n\n.btn-ImageManagerPanelSwitch {\n  position: absolute;\n  width: 35px;\n  height: 35px;\n  top: 100px;\n  right: 20px;\n\n  user-select: none;\n  backdrop-filter: blur(5px);\n  background-color: rgba(0, 0, 0, 0.1);\n  border-radius: 10px;\n  border: 1px solid rgba(255, 255, 255, 0.8);\n}\n\n.btn-SolveImage {\n  position: absolute;\n  width: 35px;\n  height: 35px;\n  top: calc(50% - 35px);\n  right: 20px;\n\n  user-select: none;\n  backdrop-filter: blur(5px);\n  /* background-color: rgba(0, 0, 0, 0.1); */\n  border-radius: 10px;\n  border: 1px solid rgba(255, 255, 255, 0.8);\n}\n\n.btn-Recalibrate {\n  position: absolute;\n  width: 35px;\n  height: 35px;\n  top: calc(75% - 70px);\n  right: 20px;\n\n  user-select: none;\n  backdrop-filter: blur(5px);\n  background-color: rgba(0, 0, 0, 0.1);\n  border-radius: 10px;\n  border: 1px solid rgba(255, 255, 255, 0.8);\n}\n\n.Canvas-SolveImage {\n  position: absolute;\n  bottom: 20px;\n  right: 20px;\n\n  width: 25%;\n  height: 25%;\n\n  user-select: none;\n  background-color: rgba(0, 0, 0, 0.0);\n  backdrop-filter: blur(5px);\n  border: 1px solid rgba(255, 255, 255, 0.8);\n  border-radius: 10px;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n\n.Text-SolveImage {\n  position: absolute;\n  width: calc(25% - 50px);\n  height: 25%;\n  top: calc(50% - 35px);\n  right: 70px;\n\n  user-select: none;\n  /* backdrop-filter: blur(1px);\n  background-color: rgba(0, 0, 0, 0.1); */\n  border-radius: 10px;\n  /* border: 1px solid rgba(255, 255, 255, 0.8); */\n}\n\n.btn-ChartsSwitch {\n  position: absolute;\n  width: 35px;\n  height: 35px;\n  bottom: 20px;\n  right: 90px;\n\n  user-select: none;\n  backdrop-filter: blur(5px);\n  background-color: rgba(0, 0, 0, 0.1);\n  border-radius: 50%;\n  /* border: 1px solid rgba(255, 255, 255, 0.8); */\n}\n\n/* 删除不再需要的按钮样式，现在统一在left-button-container中管理 */\n\n.TopLeft-Info {\n  position: absolute;\n  height: 10px;\n  top: 40px;\n  left: 10px;\n\n  text-align: center;\n  font-size: 10px;\n  color: rgba(255, 255, 255, 0.5);\n\n  user-select: none;\n  background-color: rgba(64, 64, 64, 0);\n  border-radius: 3px;\n}\n\n.btn-WhiteBalance {\n  position: absolute;\n  width: 35px;\n  height: 35px;\n  top: 140px;\n  left: 20px;\n\n  user-select: none;\n  backdrop-filter: blur(5px);\n  background-color: rgba(0, 0, 0, 0.1);\n  border-radius: 50%;\n}\n\n.btn-MainPageSwitch {\n  position: absolute;\n  width: 35px;\n  height: 35px;\n  bottom: 20px;\n  right: 20px;\n\n  user-select: none;\n  backdrop-filter: blur(5px);\n  background-color: rgba(0, 0, 0, 0.1);\n  border-radius: 10px;\n  border: 1px solid rgba(255, 255, 255, 0.8);\n  box-sizing: border-box;\n}\n\n.red-box {\n  position: absolute;\n  background-color: transparent;\n  border: 1px solid rgba(255, 212, 9, 0.6);\n}\n\n.PHD2-box {\n  position: absolute;\n  background-color: transparent;\n  border: 2px solid rgba(51, 218, 121, 1);\n  box-sizing: border-box;\n}\n\n.PHD2-cross {\n  position: absolute;\n  background-color: transparent;\n  border: 1px solid rgba(51, 218, 121, 0.5);\n  box-sizing: border-box;\n}\n\n/* 删除不再需要的按钮样式，现在统一在left-button-container中管理 */\n\n\n.btn-ImageManagerPanelSwitch:active,\n.btn-MountPanelSwitch:active,\n.btn-ChartsSwitch:active,\n.btn-MainPageSwitch:active,\n.btn-WhiteBalance:active {\n  transform: scale(0.95);\n  /* 点击时缩小按钮 */\n  background-color: rgba(255, 255, 255, 0.7);\n}\n\n@keyframes showBottomBarAnimation {\n  from {\n    bottom: -50px;\n  }\n\n  to {\n    bottom: 0;\n  }\n}\n\n@keyframes hideBottomBarAnimation {\n  from {\n    bottom: 0;\n  }\n\n  to {\n    bottom: -50px;\n  }\n}\n\n.BottomBar-enter-active {\n  animation: showBottomBarAnimation 0.15s forwards;\n}\n\n.BottomBar-leave-active {\n  animation: hideBottomBarAnimation 0.15s forwards;\n}\n\n@keyframes showToolBarAnimation {\n  from {\n    top: -40px;\n  }\n\n  to {\n    top: 0;\n  }\n}\n\n@keyframes hideToolBarAnimation {\n  from {\n    top: 0;\n  }\n\n  to {\n    top: -40px;\n  }\n}\n\n.ToolBar-enter-active {\n  animation: showToolBarAnimation 0.15s forwards;\n}\n\n.ToolBar-leave-active {\n  animation: hideToolBarAnimation 0.15s forwards;\n}\n\n@keyframes showBottomBtnAnimation {\n  from {\n    bottom: -50px;\n  }\n\n  to {\n    bottom: 20px;\n  }\n}\n\n@keyframes hideBottomBtnAnimation {\n  from {\n    bottom: 20px;\n  }\n\n  to {\n    bottom: -50px;\n  }\n}\n\n.BottomBtn-enter-active {\n  animation: showBottomBtnAnimation 0.15s forwards;\n}\n\n.BottomBtn-leave-active {\n  animation: hideBottomBtnAnimation 0.15s forwards;\n}\n\n@keyframes showRightBtnAnimation {\n  from {\n    right: -50px;\n  }\n\n  to {\n    right: 20px;\n  }\n}\n\n@keyframes hideRightBtnAnimation {\n  from {\n    right: 20px;\n  }\n\n  to {\n    right: -50px;\n  }\n}\n\n.RightBtn-enter-active {\n  animation: showRightBtnAnimation 0.15s forwards;\n}\n\n.RightBtn-leave-active {\n  animation: hideRightBtnAnimation 0.15s forwards;\n}\n\n@keyframes showBottomCanvasAnimation {\n  from {\n    bottom: -25%;\n  }\n\n  to {\n    bottom: 20px;\n  }\n}\n\n@keyframes hideBottomCanvasAnimation {\n  from {\n    bottom: 20px;\n  }\n\n  to {\n    bottom: -25%;\n  }\n}\n\n.BottomCanvas-enter-active {\n  animation: showBottomCanvasAnimation 0.15s forwards;\n}\n\n.BottomCanvas-leave-active {\n  animation: hideBottomCanvasAnimation 0.15s forwards;\n}\n\n.CaptureImageProgress-card {\n  position: absolute;\n  width: 150px;\n  height: 100px;\n  bottom: calc(50%-50px);\n  right: calc(50%-50px);\n\n  user-select: none;\n  border-radius: 10px;\n  /* border: 1px solid rgba(255, 255, 255, 0.8); */\n  box-sizing: border-box;\n\n  backdrop-filter: blur(5px);\n  background-color: rgba(64, 64, 64, 0.5);\n}\n\n.flashing-border {\n  border: 1px solid rgba(255, 0, 0, 0.8);\n  animation: flashing 2s infinite;\n}\n\n@keyframes flashing {\n  0% {\n    border-color: rgba(255, 0, 0, 0.8);\n  }\n\n  50% {\n    border-color: rgba(255, 255, 255, 0.8);\n  }\n\n  100% {\n    border-color: rgba(255, 0, 0, 0.8);\n  }\n}\n\n.box-InGuiding {\n  position: absolute;\n  background-color: transparent;\n  box-sizing: border-box;\n  outline: 1px solid rgba(51, 218, 121, 1);\n}\n\n.box-InCalibration {\n  position: absolute;\n  background-color: transparent;\n  box-sizing: border-box;\n  outline: 1px solid rgba(255, 165, 0, 1);\n}\n\n.box-StarLostAlert {\n  position: absolute;\n  background-color: transparent;\n  box-sizing: border-box;\n  outline: 1px solid rgba(255, 0, 0, 1);\n}\n\n.box-null {\n  position: absolute;\n  background-color: transparent;\n  box-sizing: border-box;\n  outline: 1px solid rgba(255, 165, 0, 1);\n}\n\n.cross-InGuiding {\n  position: absolute;\n  background-color: rgba(51, 218, 121, 1);\n}\n\n.cross-InCalibration {\n  position: absolute;\n  background-color: rgba(255, 165, 0, 1);\n}\n\n.cross-StarLostAlert {\n  position: absolute;\n  background-color: rgba(255, 0, 0, 1);\n}\n\n.cross-null {\n  position: absolute;\n  background-color: rgba(255, 165, 0, 1);\n}\n\n.PHD2CircleClass {\n  position: absolute;\n  width: 12px;\n  height: 12px;\n\n  border-radius: 6px;\n\n  background-color: transparent;\n  box-sizing: border-box;\n  outline: 1px solid rgba(51, 218, 121, 1);\n}\n\n.PolarAxisTips {\n  position: absolute;\n  width: 50%;\n  height: 36px;\n  top: 10px;\n  left: 50%;\n  transform: translateX(-50%);\n\n  user-select: none;\n  box-sizing: border-box;\n\n  /* backdrop-filter: blur(5px);  */\n  background-color: rgba(64, 64, 64, 0.5);\n\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n  border-bottom-left-radius: 0;\n  border-bottom-right-radius: 0;\n}\n\n.PolarAxisStepper {\n  position: absolute;\n  width: 100%;\n  height: 50px;\n  top: -16px;\n  left: 50%;\n  transform: translateX(-50%);\n\n  background-color: transparent !important;\n  box-shadow: none;\n  /* border-radius: 10px; */\n  /* border: 1px solid rgba(255, 255, 255, 0.8); */\n}\n\n.PolarAxisTipsText {\n  position: absolute;\n  width: 100%;\n  top: 36px;\n  left: 0;\n\n  text-align: center;\n  font-size: 14px;\n  color: rgba(255, 255, 255, 0.5);\n  user-select: none;\n\n  background-color: rgba(64, 64, 64, 0.5);\n\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  border-bottom-left-radius: 10px;\n  border-bottom-right-radius: 10px;\n}\n\n.left-button-container {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  position: absolute;\n  top: 65px;\n  left: 20px;\n  z-index: 10;\n}\n\n.left-button-container button {\n  width: 35px;\n  height: 35px;\n  user-select: none;\n  backdrop-filter: blur(5px);\n  background-color: rgba(0, 0, 0, 0.1);\n  border-radius: 50%;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.left-button-container button:hover {\n  background-color: rgba(255, 255, 255, 0.2);\n  transform: scale(1.05);\n}\n\n.left-button-container button:active {\n  transform: scale(0.95);\n  background-color: rgba(255, 255, 255, 0.7);\n}\n\n.left-button-container button:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n</style>\n"]}]}