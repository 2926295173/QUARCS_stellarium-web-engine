{"remainingRequest":"/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/components/ChartComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/components/ChartComponent.vue","mtime":1742884502000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1707125360000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1707125360000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":1707125450000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMaW5lQ2hhcnQgZnJvbSAnLi9DaGFydC1MaW5lLnZ1ZSc7CmltcG9ydCBTY2F0dGVyQ2hhcnQgZnJvbSAnLi9DaGFydC1TY2F0dGVyLnZ1ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NoYXJ0c1BhbmVsJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYm90dG9tOiAxMCwKICAgICAgQ29tcG9uZW50UGFkZGluZzogMCwKICAgICAgaGVpZ2h0OiA5MCwKICAgICAgRXhwVGltZTogMTAwMCwKICAgICAgaXNHdWlkaW5nOiBmYWxzZSwKICAgICAgaXNMb29wcGluZzogZmFsc2UsCiAgICAgIEN1cnJlbnRHdWlkZXJTdGF0dXM6ICdudWxsJywKCiAgICAgIHByZXNzVGltZXI6IG51bGwsCiAgICAgIGxvbmdQcmVzc1RocmVzaG9sZDogMTAwMCwKICAgICAgaXNMb25nUHJlc3M6IGZhbHNlLCAvLyDmoIforrDmmK/lkKbkuLrplb/mjIkKICAgICAgY2FuQ2xpY2s6IHRydWUsCgogICAgICBHdWlkZXJDb25uZWN0OiBmYWxzZSwKCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgTGluZUNoYXJ0LAogICAgU2NhdHRlckNoYXJ0LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuJGJ1cy4kb24oJ0d1aWRlclN3aXRjaFN0YXR1cycsIHRoaXMuR3VpZGVyU3dpdGNoU3RhdHVzKTsKICAgIHRoaXMuJGJ1cy4kb24oJ0d1aWRlckxvb3BFeHBTdGF0dXMnLCB0aGlzLkd1aWRlckxvb3BFeHBTdGF0dXMpOwogICAgdGhpcy4kYnVzLiRvbignR3VpZGVyU3RhdHVzJywgdGhpcy5HdWlkZXJTdGF0dXMpOwogICAgdGhpcy4kYnVzLiRvbignR3VpZGVyQ29ubmVjdGVkJywgdGhpcy5HdWlkZXJDb25uZWN0ZWQpOwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMudXBkYXRlUG9zaXRpb24oKTsgLy8g5Yid5aeL5YyW5L2N572uCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy51cGRhdGVQb3NpdGlvbik7CiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMudXBkYXRlUG9zaXRpb24pOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIEd1aWRlclN3aXRjaEJ0bkNsYXNzKCkgewogICAgICBpZighdGhpcy5pc0d1aWRpbmcpIHsKICAgICAgICByZXR1cm4gJ2J0bi1udWxsJzsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gWwogICAgICAgICAgewogICAgICAgICAgICAnYnRuLUluR3VpZGluZyc6IHRoaXMuQ3VycmVudEd1aWRlclN0YXR1cyA9PT0gJ0luR3VpZGluZycsCiAgICAgICAgICAgICdidG4tSW5DYWxpYnJhdGlvbic6IHRoaXMuQ3VycmVudEd1aWRlclN0YXR1cyA9PT0gJ0luQ2FsaWJyYXRpb24nLAogICAgICAgICAgICAnYnRuLVN0YXJMb3N0QWxlcnQnOiB0aGlzLkN1cnJlbnRHdWlkZXJTdGF0dXMgPT09ICdTdGFyTG9zdEFsZXJ0JywKICAgICAgICAgICAgJ2J0bi1udWxsJzogdGhpcy5DdXJyZW50R3VpZGVyU3RhdHVzID09PSAnbnVsbCcsCiAgICAgICAgICB9CiAgICAgICAgXTsKICAgICAgfQogICAgfSwKICAgIExvb3BFeHBTd2l0Y2hCdG5DbGFzcygpIHsKICAgICAgICByZXR1cm4gWwogICAgICAgICAgewogICAgICAgICAgICAnYnRuLUxvb3BFeHAtdHJ1ZSc6IHRoaXMuaXNMb29wcGluZywgCiAgICAgICAgICAgICdidG4tTG9vcEV4cC1mYWxzZSc6ICF0aGlzLmlzTG9vcHBpbmcsIAogICAgICAgICAgfSwKICAgICAgICBdOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlUG9zaXRpb24oKSB7CiAgICAgIGNvbnN0IHNjcmVlbldpZHRoID0gd2luZG93LmlubmVyV2lkdGg7CiAgICAgIGNvbnN0IGhhbGZXaWR0aCA9IHNjcmVlbldpZHRoIC8gMiAtIDI1MDsKICAgICAgdGhpcy5Db21wb25lbnRQYWRkaW5nID0gTWF0aC5tYXgoaGFsZldpZHRoLCAxNzApOwogICAgICAvLyBjb25zb2xlLmxvZygnVXBkYXRlZCBQYWRkaW5nOicsIHRoaXMuQ29tcG9uZW50UGFkZGluZyk7CgogICAgICAvLyDorqHnrpflrr3luqYKICAgICAgY29uc3QgbmV3V2lkdGggPSBzY3JlZW5XaWR0aCAtICh0aGlzLkNvbXBvbmVudFBhZGRpbmcgKiAyKTsKICAgICAgLy8gY29uc29sZS5sb2coJ3VwZGF0ZSBMaW5lQ2hhcnQgV2lkdGg6JywgbmV3V2lkdGgpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ3VwZGF0ZUxpbmVDaGFydFdpZHRoJywgbmV3V2lkdGgpOwogICAgfSwKICAgIHN0YXJ0UHJlc3MoKSB7CiAgICAgIHRoaXMuaXNMb25nUHJlc3MgPSBmYWxzZTsgLy8g6YeN572u6ZW/5oyJ5qCH6K6wCiAgICAgIHRoaXMucHJlc3NUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuaXNMb25nUHJlc3MgPSB0cnVlOyAvLyDmoIforrDkuLrplb/mjIkKICAgICAgICB0aGlzLmhhbmRsZUxvbmdQcmVzcygpOwogICAgICB9LCB0aGlzLmxvbmdQcmVzc1RocmVzaG9sZCk7CiAgICB9LAogICAgZW5kUHJlc3MoKSB7CiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnByZXNzVGltZXIpOyAvLyDmuIXpmaTlrprml7blmagKICAgICAgaWYgKCF0aGlzLmlzTG9uZ1ByZXNzKSB7CiAgICAgICAgdGhpcy5oYW5kbGVDbGljaygpOyAvLyDlpoLmnpzkuI3mmK/plb/mjInvvIzliJnop6blj5Hngrnlh7vkuovku7YKICAgICAgfQogICAgICB0aGlzLnByZXNzVGltZXIgPSBudWxsOyAvLyDph43nva7lrprml7blmagKICAgIH0sCiAgICBoYW5kbGVDbGljaygpIHsKICAgICAgaWYgKCF0aGlzLmNhbkNsaWNrKSByZXR1cm47IC8vIOWmguaenOS4jeWPr+eCueWHu++8jOebtOaOpei/lOWbngogICAgICB0aGlzLmNhbkNsaWNrID0gZmFsc2U7IC8vIOiuvue9ruS4uuS4jeWPr+eCueWHuwogICAgICAvLyBjb25zb2xlLmxvZygiQnV0dG9uIGNsaWNrZWQiKTsKCiAgICAgIHRoaXMuR3VpZGVyU3dpdGNoKCk7CgogICAgICAvLyDmgaLlpI3ngrnlh7vmnYPpmZAKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5jYW5DbGljayA9IHRydWU7CiAgICAgIH0sIDEwMDApOyAvLyAx56eS5ZCO5oGi5aSNCiAgICB9LAogICAgaGFuZGxlTG9uZ1ByZXNzKCkgewogICAgICBpZih0aGlzLmlzR3VpZGluZykgcmV0dXJuOwogICAgICAvLyDplb/mjInkuovku7bnmoTlpITnkIYKICAgICAgY29uc29sZS5sb2coIkJ1dHRvbiBsb25nIHByZXNzZWQiKTsKCiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU2hvd0NvbmZpcm1EaWFsb2cnLCAnUmVjYWxpYnJhdGUnLCAiQXJlIHlvdSBzdXJlIHlvdSBuZWVkIHRvIGNsZWFyIHRoZSBjYWxpYnJhdGlvbiBkYXRhIGFuZCByZWNhbGlicmF0ZT8iLCAnUmVjYWxpYnJhdGUnKTsKICAgIH0sCgogICAgR3VpZGVyU3dpdGNoKCkgewogICAgICBpZih0aGlzLmlzTG9vcHBpbmcpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0d1aWRlclN3aXRjaDonKyF0aGlzLmlzR3VpZGluZyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdzaG93TXNnQm94JywgJ1BsZWFzZSBvcGVuIHRoZSBsb29wIGV4cG9zdXJlIGZpcnN0LicsICdlcnJvcicpOwogICAgICB9CiAgICB9LAoKICAgIExvb3BFeHBTd2l0Y2goKSB7CiAgICAgIGlmICh0aGlzLkd1aWRlckNvbm5lY3QpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0d1aWRlckxvb3BFeHBTd2l0Y2g6JyArICF0aGlzLmlzTG9vcHBpbmcpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2hvd01zZ0JveCcsICdQbGVhc2UgY29ubmVjdCB0aGUgR3VpZGVyIGNhbWVyYSBmaXJzdC4nLCAnZXJyb3InKTsKICAgICAgfQogICAgfSwKCiAgICBFeHBUaW1lU3dpdGNoKCkgewogICAgICBpZiAodGhpcy5FeHBUaW1lID09PSAxMDAwKSB7CiAgICAgICAgdGhpcy5FeHBUaW1lID0gMjAwMDsKICAgICAgfSBlbHNlIGlmICh0aGlzLkV4cFRpbWUgPT09IDIwMDApIHsKICAgICAgICB0aGlzLkV4cFRpbWUgPSA1MDA7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5FeHBUaW1lID09PSA1MDApIHsKICAgICAgICB0aGlzLkV4cFRpbWUgPSAxMDAwOwogICAgICB9CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnR3VpZGVyRXhwVGltZVN3aXRjaDonICsgdGhpcy5FeHBUaW1lKTsKICAgIH0sCgogICAgR3VpZGVyU3dpdGNoU3RhdHVzKHZhbHVlKSB7CiAgICAgIGlmKHZhbHVlID09PSAndHJ1ZScpIHsKICAgICAgICB0aGlzLmlzR3VpZGluZyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc0d1aWRpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLkN1cnJlbnRHdWlkZXJTdGF0dXMgPSAnbnVsbCc7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdHdWlkZXJTdG9wJyk7CiAgICAgIH0KICAgICAgY29uc29sZS5sb2coJ0d1aWRlclN3aXRjaFN0YXR1czonLCB0aGlzLmlzR3VpZGluZyk7CiAgICB9LAoKICAgIEd1aWRlckxvb3BFeHBTdGF0dXModmFsdWUpIHsKICAgICAgaWYodmFsdWUgPT09ICd0cnVlJykgewogICAgICAgIHRoaXMuaXNMb29wcGluZyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc0xvb3BwaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5pc0d1aWRpbmcgPSBmYWxzZTsKICAgICAgfQogICAgICBjb25zb2xlLmxvZygnR3VpZGVyTG9vcEV4cFN3aXRjaFN0YXR1czonLCB0aGlzLmlzTG9vcHBpbmcpOwogICAgfSwKCiAgICBHdWlkZXJTdGF0dXMoc3RhdHVzKSB7CiAgICAgIGlmKHN0YXR1cyA9PT0gJ0luR3VpZGluZycpIHsKICAgICAgICB0aGlzLkN1cnJlbnRHdWlkZXJTdGF0dXMgPSAnSW5HdWlkaW5nJzsKICAgICAgfSBlbHNlIGlmKHN0YXR1cyA9PT0gJ0luQ2FsaWJyYXRpb24nKSB7CiAgICAgICAgdGhpcy5DdXJyZW50R3VpZGVyU3RhdHVzID0gJ0luQ2FsaWJyYXRpb24nOwogICAgICB9IGVsc2UgaWYoc3RhdHVzID09PSAnU3Rhckxvc3RBbGVydCcpIHsKICAgICAgICB0aGlzLkN1cnJlbnRHdWlkZXJTdGF0dXMgPSAnU3Rhckxvc3RBbGVydCc7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdzaG93TXNnQm94JywgJ0xvc3QgZ3VpZGluZyBzdGFyIHRhcmdldC4nLCAnZXJyb3InKTsKICAgICAgfQogICAgICBjb25zb2xlLmxvZygnR3VpZGVyU3RhdHVzOicsIHRoaXMuQ3VycmVudEd1aWRlclN0YXR1cyk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU2VuZENvbnNvbGVMb2dNc2cnLCAnR3VpZGVyU3RhdHVzOicgKyB0aGlzLkN1cnJlbnRHdWlkZXJTdGF0dXMsICdpbmZvJyk7CiAgICB9LAogICAgCiAgICBEYXRhQ2xlYXIoKSB7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnY2xlYXJDaGFydERhdGEnKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdjbGVhckd1aWRlckRhdGEnKTsKICAgIH0sCiAgICBSYW5nZVN3aXRjaCgpIHsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdDaGFydFJhbmdlU3dpdGNoJyk7CiAgICB9LAogICAgR3VpZGVyQ29ubmVjdGVkKG51bSkgewogICAgICBpZihudW0gPT09IDApewogICAgICAgIHRoaXMuR3VpZGVyQ29ubmVjdCA9IGZhbHNlOwogICAgICAgIC8vIHRoaXMuJGJ1cy4kZW1pdCgnc2hvd01zZ0JveCcsICdHdWlkZXIgaXMgbm90IGNvbm5lY3RlZC4nLCAnZXJyb3InKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLkd1aWRlckNvbm5lY3QgPSB0cnVlOwogICAgICAgIC8vIHRoaXMuJGJ1cy4kZW1pdCgnc2hvd01zZ0JveCcsICdHdWlkZXIgaXMgY29ubmVjdGVkLicsICdpbmZvJyk7CiAgICAgIH0KICAgIH0sCiAgfQp9Cg=="},{"version":3,"sources":["ChartComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ChartComponent.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<transition name=\"panel\">\n  <div class=\"chart-panel\" :style=\"{ bottom: bottom + 'px', left: ComponentPadding + 'px', right: ComponentPadding + 'px', height: height + 'px' }\">\n    <LineChart ref=\"linechart\" class=\"line-chart\"/>\n    \n    <ScatterChart ref=\"scatterchart\" class=\"scatter-chart\"/>\n\n    <div class=\"buttons-container\">\n\n      <button :class=\"LoopExpSwitchBtnClass\" :style=\"{ animationDuration: ExpTime + 'ms' }\" @touchend=\"LoopExpSwitch\">\n        <div style=\"display: flex; justify-content: center; align-items: center;\">\n          <img src=\"@/assets/images/svg/ui/GuiderLoopExp.svg\" height=\"20px\" style=\"min-height: 20px; pointer-events: none;\"></img>\n        </div>\n      </button>\n\n      <button class=\"btn-Style\" :class=\"GuiderSwitchBtnClass\"\n        @mousedown=\"startPress\" @mouseup=\"endPress\"\n        @touchstart=\"startPress\" @touchend=\"endPress\">\n        <div style=\"display: flex; justify-content: center; align-items: center;\">\n          <img src=\"@/assets/images/svg/ui/Guider.svg\" height=\"20px\" style=\"min-height: 20px; pointer-events: none;\"></img>\n        </div>\n      </button>\n\n      <button class=\"btn-Style\" @touchend=\"ExpTimeSwitch\">\n        <span v-if=\"ExpTime === 1000\">\n          <div style=\"display: flex; justify-content: center; align-items: center;\">\n            <img src=\"@/assets/images/svg/ui/Exp-1000.svg\" height=\"25px\" style=\"min-height: 25px; pointer-events: none;\"></img>\n          </div>\n        </span>\n        <span v-if=\"ExpTime === 2000\">\n          <div style=\"display: flex; justify-content: center; align-items: center;\">\n            <img src=\"@/assets/images/svg/ui/Exp-2000.svg\" height=\"25px\" style=\"min-height: 25px; pointer-events: none;\"></img>\n          </div>\n        </span>\n        <span v-if=\"ExpTime === 500\">\n          <div style=\"display: flex; justify-content: center; align-items: center;\">\n            <img src=\"@/assets/images/svg/ui/Exp-500.svg\" height=\"25px\" style=\"min-height: 25px; pointer-events: none;\"></img>\n          </div>\n        </span>\n      </button>\n\n      <button class=\"btn-Style\" @touchend=\"DataClear\">\n        <div style=\"display: flex; justify-content: center; align-items: center;\">\n          <img src=\"@/assets/images/svg/ui/delete.svg\" height=\"20px\" style=\"min-height: 20px; pointer-events: none;\"></img>\n        </div>\n      </button>\n\n      <button class=\"btn-Style\" @touchend=\"RangeSwitch\">\n        <div style=\"display: flex; justify-content: center; align-items: center;\">\n          <img src=\"@/assets/images/svg/ui/suofang.svg\" height=\"20px\" style=\"min-height: 20px; pointer-events: none;\"></img>\n        </div>\n      </button>\n\n    </div>\n    \n  </div>\n</transition>\n</template>\n\n<script>\nimport LineChart from './Chart-Line.vue';\nimport ScatterChart from './Chart-Scatter.vue';\n\nexport default {\n  name: 'ChartsPanel',\n  data() {\n    return {\n      bottom: 10,\n      ComponentPadding: 0,\n      height: 90,\n      ExpTime: 1000,\n      isGuiding: false,\n      isLoopping: false,\n      CurrentGuiderStatus: 'null',\n\n      pressTimer: null,\n      longPressThreshold: 1000,\n      isLongPress: false, // 标记是否为长按\n      canClick: true,\n\n      GuiderConnect: false,\n\n    };\n  },\n  components: {\n    LineChart,\n    ScatterChart,\n  },\n  created() {\n    this.$bus.$on('GuiderSwitchStatus', this.GuiderSwitchStatus);\n    this.$bus.$on('GuiderLoopExpStatus', this.GuiderLoopExpStatus);\n    this.$bus.$on('GuiderStatus', this.GuiderStatus);\n    this.$bus.$on('GuiderConnected', this.GuiderConnected);\n  },\n  mounted() {\n    this.updatePosition(); // 初始化位置\n    window.addEventListener('resize', this.updatePosition);\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.updatePosition);\n  },\n  computed: {\n    GuiderSwitchBtnClass() {\n      if(!this.isGuiding) {\n        return 'btn-null';\n      } else {\n        return [\n          {\n            'btn-InGuiding': this.CurrentGuiderStatus === 'InGuiding',\n            'btn-InCalibration': this.CurrentGuiderStatus === 'InCalibration',\n            'btn-StarLostAlert': this.CurrentGuiderStatus === 'StarLostAlert',\n            'btn-null': this.CurrentGuiderStatus === 'null',\n          }\n        ];\n      }\n    },\n    LoopExpSwitchBtnClass() {\n        return [\n          {\n            'btn-LoopExp-true': this.isLoopping, \n            'btn-LoopExp-false': !this.isLoopping, \n          },\n        ];\n    }\n  },\n  methods: {\n    updatePosition() {\n      const screenWidth = window.innerWidth;\n      const halfWidth = screenWidth / 2 - 250;\n      this.ComponentPadding = Math.max(halfWidth, 170);\n      // console.log('Updated Padding:', this.ComponentPadding);\n\n      // 计算宽度\n      const newWidth = screenWidth - (this.ComponentPadding * 2);\n      // console.log('update LineChart Width:', newWidth);\n      this.$bus.$emit('updateLineChartWidth', newWidth);\n    },\n    startPress() {\n      this.isLongPress = false; // 重置长按标记\n      this.pressTimer = setTimeout(() => {\n        this.isLongPress = true; // 标记为长按\n        this.handleLongPress();\n      }, this.longPressThreshold);\n    },\n    endPress() {\n      clearTimeout(this.pressTimer); // 清除定时器\n      if (!this.isLongPress) {\n        this.handleClick(); // 如果不是长按，则触发点击事件\n      }\n      this.pressTimer = null; // 重置定时器\n    },\n    handleClick() {\n      if (!this.canClick) return; // 如果不可点击，直接返回\n      this.canClick = false; // 设置为不可点击\n      // console.log(\"Button clicked\");\n\n      this.GuiderSwitch();\n\n      // 恢复点击权限\n      setTimeout(() => {\n        this.canClick = true;\n      }, 1000); // 1秒后恢复\n    },\n    handleLongPress() {\n      if(this.isGuiding) return;\n      // 长按事件的处理\n      console.log(\"Button long pressed\");\n\n      this.$bus.$emit('ShowConfirmDialog', 'Recalibrate', \"Are you sure you need to clear the calibration data and recalibrate?\", 'Recalibrate');\n    },\n\n    GuiderSwitch() {\n      if(this.isLoopping) {\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GuiderSwitch:'+!this.isGuiding);\n      } else {\n        this.$bus.$emit('showMsgBox', 'Please open the loop exposure first.', 'error');\n      }\n    },\n\n    LoopExpSwitch() {\n      if (this.GuiderConnect) {\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GuiderLoopExpSwitch:' + !this.isLoopping);\n      } else {\n        this.$bus.$emit('showMsgBox', 'Please connect the Guider camera first.', 'error');\n      }\n    },\n\n    ExpTimeSwitch() {\n      if (this.ExpTime === 1000) {\n        this.ExpTime = 2000;\n      } else if (this.ExpTime === 2000) {\n        this.ExpTime = 500;\n      } else if (this.ExpTime === 500) {\n        this.ExpTime = 1000;\n      }\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GuiderExpTimeSwitch:' + this.ExpTime);\n    },\n\n    GuiderSwitchStatus(value) {\n      if(value === 'true') {\n        this.isGuiding = true;\n      } else {\n        this.isGuiding = false;\n        this.CurrentGuiderStatus = 'null';\n        this.$bus.$emit('GuiderStop');\n      }\n      console.log('GuiderSwitchStatus:', this.isGuiding);\n    },\n\n    GuiderLoopExpStatus(value) {\n      if(value === 'true') {\n        this.isLoopping = true;\n      } else {\n        this.isLoopping = false;\n        this.isGuiding = false;\n      }\n      console.log('GuiderLoopExpSwitchStatus:', this.isLoopping);\n    },\n\n    GuiderStatus(status) {\n      if(status === 'InGuiding') {\n        this.CurrentGuiderStatus = 'InGuiding';\n      } else if(status === 'InCalibration') {\n        this.CurrentGuiderStatus = 'InCalibration';\n      } else if(status === 'StarLostAlert') {\n        this.CurrentGuiderStatus = 'StarLostAlert';\n        this.$bus.$emit('showMsgBox', 'Lost guiding star target.', 'error');\n      }\n      console.log('GuiderStatus:', this.CurrentGuiderStatus);\n      this.$bus.$emit('SendConsoleLogMsg', 'GuiderStatus:' + this.CurrentGuiderStatus, 'info');\n    },\n    \n    DataClear() {\n      this.$bus.$emit('clearChartData');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'clearGuiderData');\n    },\n    RangeSwitch() {\n      this.$bus.$emit('ChartRangeSwitch');\n    },\n    GuiderConnected(num) {\n      if(num === 0){\n        this.GuiderConnect = false;\n        // this.$bus.$emit('showMsgBox', 'Guider is not connected.', 'error');\n      } else {\n        this.GuiderConnect = true;\n        // this.$bus.$emit('showMsgBox', 'Guider is connected.', 'info');\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n.chart-panel {\n  position: absolute;\n  background-color: rgba(64, 64, 64, 0.5);\n  backdrop-filter: blur(5px);\n  border-radius: 10px;\n  border: 4px solid rgba(128, 128, 128, 0.5);\n  box-sizing: border-box;\n}\n\n@keyframes showPanelAnimation {\n  from {\n    bottom: -150px;\n  }\n  to {\n    bottom: 10px;\n  }\n}\n\n@keyframes hidePanelAnimation {\n  from {\n    bottom: 10px;\n  }\n  to {\n    bottom: -150px;\n  }\n}\n\n.panel-enter-active {\n  animation: showPanelAnimation 0.15s forwards;\n}\n\n.panel-leave-active {\n  animation: hidePanelAnimation 0.15s forwards;\n}\n\n.line-chart {\n  position:absolute;\n  bottom: 1px;\n  left: 5px;\n}\n\n.scatter-chart {\n  position:absolute;\n  top: 1px;\n  right: 0px;\n}\n\n.buttons-container {\n  display: flex;\n  justify-content: space-between;\n  position: absolute;\n  top: -39px;\n  left: 5px;\n  right: 5px;\n}\n\n.btn-Style {\n  width: 30px;\n  height: 30px; \n\n  user-select: none;\n  background-color: rgba(64, 64, 64, 0.5);\n  backdrop-filter: blur(5px);\n  border: none;\n  border-radius: 50%; \n  box-sizing: border-box;\n}\n\n.btn-LoopExp-false {\n  width: 30px;\n  height: 30px; \n\n  user-select: none;\n  background-color: rgba(64, 64, 64, 0.5);\n  backdrop-filter: blur(5px);\n  border: none;\n  border-radius: 50%; \n  box-sizing: border-box;\n}\n\n.btn-LoopExp-true {\n  width: 30px;\n  height: 30px; \n\n  user-select: none;\n  background-color: rgba(64, 64, 64, 0.5);\n  backdrop-filter: blur(5px);\n  /* border: none; */\n  border-radius: 50%; \n  box-sizing: border-box;\n\n  animation: Animation_true infinite;\n}\n\n@keyframes Animation_true {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(-180deg);\n  }\n}\n\n.btn-InGuiding {\n  border: 1px solid rgba(51, 218, 121, 1);\n}\n\n.btn-InCalibration {\n  border: 1px solid rgba(255, 165, 0, 1);\n}\n\n.btn-StarLostAlert {\n  border: 1px solid rgba(255, 0, 0, 1);\n}\n\n.btn-null {\n  border: none;\n}\n\n.btn-Guider:active,\n.btn-Style:active {\n  transform: scale(0.95); /* 点击时缩小按钮 */\n  background-color: rgba(255, 255, 255, 0.7);\n}\n\n</style>\n\n"]}]}