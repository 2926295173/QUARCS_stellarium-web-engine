{"remainingRequest":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/components/location-mgr.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/components/location-mgr.vue","mtime":1749200855273},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js","mtime":1707125450000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL3F1YXJjcy93b3Jrc3BhY2UvUVVBUkNTL1FVQVJDU19zdGVsbGFyaXVtLXdlYi1lbmdpbmUvYXBwcy93ZWItZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgc3doIGZyb20gJ0AvYXNzZXRzL3N3X2hlbHBlcnMuanMnOwppbXBvcnQgeyBMTWFwLCBMVGlsZUxheWVyLCBMTWFya2VyLCBMQ2lyY2xlLCBMVG9vbHRpcCwgTENvbnRyb2xab29tIH0gZnJvbSAndnVlMi1sZWFmbGV0JzsKaW1wb3J0IEwgZnJvbSAnbGVhZmxldCc7CmltcG9ydCBNYXBDb25maWcgZnJvbSAnQC9jb25maWcvbWFwLWNvbmZpZy5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbW9kZTogJ3BpY2snLAogICAgICBwaWNrTG9jYXRpb246IHVuZGVmaW5lZCwKICAgICAgc2VsZWN0ZWRLbm93bkxvY2F0aW9uOiB1bmRlZmluZWQsCiAgICAgIG1hcENlbnRlcjogWzQzLjYsIDEuNDMzM10sCiAgICAgIHVybDogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/ICcvdGlsZXMve3p9L3t4fS97eX0ucG5nJyA6ICdodHRwOi8vbG9jYWxob3N0OjgwODAvdGlsZXMve3p9L3t4fS97eX0ucG5nJywKICAgICAgZmFsbGJhY2tVcmw6ICcvdGlsZXMve3p9L3t4fS97eX0ucG5nJywKICAgICAgc2VydmVyVXJsOiAnaHR0cDovL2xvY2FsaG9zdDo4MDgwL3RpbGVzL3t6fS97eH0ve3l9LnBuZycsCiAgICAgIG9ubGluZVVybDogJ2h0dHBzOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJywKICAgICAgLy8g5L2/55So6YWN572u5paH5Lu25Lit55qE57yp5pS+57qn5Yir6K6+572uCiAgICAgIG1pblpvb206IE1hcENvbmZpZy56b29tLm9mZmxpbmUubWluLAogICAgICBtYXhab29tOiBNYXBDb25maWcuem9vbS5vZmZsaW5lLm1heCwKICAgICAgZGVmYXVsdFpvb206IE1hcENvbmZpZy56b29tLm9mZmxpbmUuZGVmYXVsdCwKICAgICAgLy8g5ouW5ou954q25oCB566h55CGCiAgICAgIGlzRHJhZ2dpbmc6IGZhbHNlLAogICAgICBkcmFnQ29vcmRpbmF0ZXM6IG51bGwKICAgIH07CiAgfSwKICBwcm9wczogWydzaG93TXlMb2NhdGlvbicsICdrbm93bkxvY2F0aW9ucycsICdzdGFydExvY2F0aW9uJywgJ3JlYWxMb2NhdGlvbiddLAogIGNvbXB1dGVkOiB7CiAgICBkb1Nob3dNeUxvY2F0aW9uOiBmdW5jdGlvbiBkb1Nob3dNeUxvY2F0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5zaG93TXlMb2NhdGlvbiA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiB0aGlzLnNob3dNeUxvY2F0aW9uOwogICAgfSwKICAgIHBpY2tMb2NhdGlvbk1vZGU6IGZ1bmN0aW9uIHBpY2tMb2NhdGlvbk1vZGUoKSB7CiAgICAgIHJldHVybiB0aGlzLm1vZGUgPT09ICdwaWNrJzsKICAgIH0sCiAgICBrbm93bkxvY2F0aW9uTW9kZTogZnVuY3Rpb24ga25vd25Mb2NhdGlvbk1vZGUoKSB7CiAgICAgIHJldHVybiB0aGlzLm1vZGUgPT09ICdrbm93bic7CiAgICB9LAogICAgbG9jYXRpb25Gb3JEZXRhaWw6IGZ1bmN0aW9uIGxvY2F0aW9uRm9yRGV0YWlsKCkgewogICAgICBpZiAodGhpcy5waWNrTG9jYXRpb25Nb2RlICYmIHRoaXMucGlja0xvY2F0aW9uID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy5zdGFydExvY2F0aW9uOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5waWNrTG9jYXRpb25Nb2RlID8gdGhpcy5waWNrTG9jYXRpb24gOiB0aGlzLnNlbGVjdGVkS25vd25Mb2NhdGlvbjsKICAgIH0sCiAgICAvLyDliqjmgIHnvKnmlL7nuqfliKvphY3nva4KICAgIGVmZmVjdGl2ZU1pblpvb206IGZ1bmN0aW9uIGVmZmVjdGl2ZU1pblpvb20oKSB7CiAgICAgIC8vIOWcqOeUn+S6p+eOr+Wig+S4i+S9v+eUqOemu+e6v+eTpueJh+eahOmZkOWItu+8jOW8gOWPkeeOr+Wig+WPr+S7peabtOWuveadvgogICAgICB2YXIgb2ZmbGluZU1pbiA9IE1hcENvbmZpZy56b29tLm9mZmxpbmUubWluOwogICAgICB2YXIgb25saW5lTWluID0gTWFwQ29uZmlnLnpvb20ub25saW5lLm1pbjsKICAgICAgcmV0dXJuIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBvZmZsaW5lTWluIDogTWF0aC5tYXgob25saW5lTWluLCBvZmZsaW5lTWluIC0gMSk7CiAgICB9LAogICAgZWZmZWN0aXZlTWF4Wm9vbTogZnVuY3Rpb24gZWZmZWN0aXZlTWF4Wm9vbSgpIHsKICAgICAgLy8g5Zyo55Sf5Lqn546v5aKD5LiL5Lil5qC86ZmQ5Yi277yM5byA5Y+R546v5aKD5YWB6K645pu06auY57qn5Yir77yI5Zyo57q/55Om54mH77yJCiAgICAgIHZhciBvZmZsaW5lTWF4ID0gTWFwQ29uZmlnLnpvb20ub2ZmbGluZS5tYXg7CiAgICAgIHZhciBvbmxpbmVNYXggPSBNYXBDb25maWcuem9vbS5vbmxpbmUubWF4OwogICAgICByZXR1cm4gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG9mZmxpbmVNYXggOiBNYXRoLm1pbihvbmxpbmVNYXgsIG9mZmxpbmVNYXggKyA2KTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBzdGFydExvY2F0aW9uOiBmdW5jdGlvbiBzdGFydExvY2F0aW9uKCkgewogICAgICB0aGlzLnNldFBpY2tMb2NhdGlvbih0aGlzLnN0YXJ0TG9jYXRpb24pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIHRoYXQgPSB0aGlzOwogICAgdGhpcy5zZXRQaWNrTG9jYXRpb24odGhpcy5zdGFydExvY2F0aW9uKTsgLy8g5qOA5rWL55Om54mH5pyN5Yqh5Zmo5Y+v55So5oCnCgogICAgdGhpcy5jaGVja1RpbGVBdmFpbGFiaWxpdHkoKTsKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG1hcCA9IF90aGlzLiRyZWZzLm15TWFwLm1hcE9iamVjdDsKCiAgICAgIG1hcC5fb25SZXNpemUoKTsgLy8g6K6+572u57yp5pS+6ZmQ5Yi2CgoKICAgICAgX3RoaXMudXBkYXRlWm9vbUxpbWl0cyhtYXApOyAvLyDmt7vliqDnprvnur/mkJzntKLmjqfku7YKCgogICAgICBfdGhpcy5hZGRPZmZsaW5lU2VhcmNoQ29udHJvbChtYXApOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZWxlY3RLbm93bkxvY2F0aW9uOiBmdW5jdGlvbiBzZWxlY3RLbm93bkxvY2F0aW9uKGxvYykgewogICAgICB0aGlzLnNlbGVjdGVkS25vd25Mb2NhdGlvbiA9IGxvYzsKICAgICAgdGhpcy5zZXRLbm93bkxvY2F0aW9uTW9kZSgpOwogICAgICB0aGlzLm1hcENlbnRlciA9IFtsb2MubGF0LCBsb2MubG5nXTsKICAgIH0sCiAgICB1c2VMb2NhdGlvbjogZnVuY3Rpb24gdXNlTG9jYXRpb24oKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2xvY2F0aW9uU2VsZWN0ZWQnLCB0aGlzLmxvY2F0aW9uRm9yRGV0YWlsKTsKICAgICAgdGhpcy4kZW1pdCgncmVzZXRMb2NhdGlvbicsIHRoaXMubG9jYXRpb25Gb3JEZXRhaWwubGF0LCB0aGlzLmxvY2F0aW9uRm9yRGV0YWlsLmxuZyk7CiAgICB9LAogICAgc2V0UGlja0xvY2F0aW9uTW9kZTogZnVuY3Rpb24gc2V0UGlja0xvY2F0aW9uTW9kZSgpIHsKICAgICAgdGhpcy5tb2RlID0gJ3BpY2snOwogICAgfSwKICAgIHNldEtub3duTG9jYXRpb25Nb2RlOiBmdW5jdGlvbiBzZXRLbm93bkxvY2F0aW9uTW9kZSgpIHsKICAgICAgdGhpcy5tb2RlID0gJ2tub3duJzsKICAgIH0sCiAgICBzZXRQaWNrTG9jYXRpb246IGZ1bmN0aW9uIHNldFBpY2tMb2NhdGlvbihsb2MpIHsKICAgICAgaWYgKGxvYy5hY2N1cmFjeSA8IDEwMCkgewogICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLmtub3duTG9jYXRpb25zKSwKICAgICAgICAgICAgX3N0ZXA7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgbCA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICB2YXIgZCA9IHN3aC5nZXREaXN0YW5jZUZyb21MYXRMb25Jbk0obC5sYXQsIGwubG5nLCBsb2MubGF0LCBsb2MubG5nKTsKCiAgICAgICAgICAgIGlmIChkIDwgMTAwKSB7CiAgICAgICAgICAgICAgdGhpcy5zZWxlY3RLbm93bkxvY2F0aW9uKGwpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciBwb3MgPSB7CiAgICAgICAgbGF0OiBsb2MubGF0LAogICAgICAgIGxuZzogbG9jLmxuZwogICAgICB9OwogICAgICB0aGlzLm1hcENlbnRlciA9IFtwb3MubGF0LCBwb3MubG5nXTsKICAgICAgdGhpcy5waWNrTG9jYXRpb24gPSBsb2M7CiAgICAgIHRoaXMuc2V0UGlja0xvY2F0aW9uTW9kZSgpOwogICAgfSwKICAgIC8vIENhbGxlZCB3aGVuIHRoZSB1c2VyIGNsaWNrcyBvbiB0aGUgc21hbGwgY3Jvc3MgYnV0dG9uCiAgICBjZW50ZXJPblJlYWxQb3NpdGlvbjogZnVuY3Rpb24gY2VudGVyT25SZWFsUG9zaXRpb24oKSB7CiAgICAgIHRoaXMuc2V0UGlja0xvY2F0aW9uKHRoaXMucmVhbExvY2F0aW9uKTsKICAgIH0sCiAgICAvLyDmi5bmi73lvIDlp4vkuovku7YKICAgIHN0YXJ0RHJhZzogZnVuY3Rpb24gc3RhcnREcmFnKGV2ZW50KSB7CiAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7CiAgICAgIHRoaXMuZHJhZ0Nvb3JkaW5hdGVzID0gewogICAgICAgIGxhdDogZXZlbnQudGFyZ2V0Ll9sYXRsbmcubGF0LAogICAgICAgIGxuZzogZXZlbnQudGFyZ2V0Ll9sYXRsbmcubG5nCiAgICAgIH07CiAgICAgIGNvbnNvbGUubG9nKCflvIDlp4vmi5bmi73vvIzliJ3lp4vlnZDmoIc6JywgdGhpcy5kcmFnQ29vcmRpbmF0ZXMpOwogICAgfSwKICAgIC8vIOaLluaLvei/h+eoi+S4reeahOS6i+S7tgogICAgb25EcmFnOiBmdW5jdGlvbiBvbkRyYWcoZXZlbnQpIHsKICAgICAgdGhpcy5kcmFnQ29vcmRpbmF0ZXMgPSB7CiAgICAgICAgbGF0OiBldmVudC50YXJnZXQuX2xhdGxuZy5sYXQsCiAgICAgICAgbG5nOiBldmVudC50YXJnZXQuX2xhdGxuZy5sbmcKICAgICAgfTsgLy8g5a6e5pe25pu05paw5Z2Q5qCH5pi+56S677yM5L2G5LiN6aKR57mB5omT5Y2w5pel5b+XCgogICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuMSkgewogICAgICAgIC8vIOWPquaciTEwJeeahOamgueOh+aJk+WNsO+8jOmBv+WFjeaXpeW/l+i/h+WkmgogICAgICAgIGNvbnNvbGUubG9nKCfmi5bmi73kuK3vvIzlvZPliY3lnZDmoIc6JywgdGhpcy5kcmFnQ29vcmRpbmF0ZXMubGF0LnRvRml4ZWQoNiksIHRoaXMuZHJhZ0Nvb3JkaW5hdGVzLmxuZy50b0ZpeGVkKDYpKTsKICAgICAgfQogICAgfSwKICAgIC8vIOaLluaLvee7k+adn+S6i+S7tgogICAgZHJhZ0VuZDogZnVuY3Rpb24gZHJhZ0VuZChldmVudCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHZhciBwb3MgPSB7CiAgICAgICAgbGF0OiBldmVudC50YXJnZXQuX2xhdGxuZy5sYXQsCiAgICAgICAgbG5nOiBldmVudC50YXJnZXQuX2xhdGxuZy5sbmcsCiAgICAgICAgYWNjdXJhY3k6IDAKICAgICAgfTsgLy8g5pu05paw5pyA57uI5Z2Q5qCHCgogICAgICB0aGlzLmRyYWdDb29yZGluYXRlcyA9IHsKICAgICAgICBsYXQ6IHBvcy5sYXQsCiAgICAgICAgbG5nOiBwb3MubG5nCiAgICAgIH07CiAgICAgIGNvbnNvbGUubG9nKCfmi5bmi73nu5PmnZ/vvIzmnIDnu4jlnZDmoIc6ICcgKyBwb3MubGF0LnRvRml4ZWQoNikgKyAnLCcgKyBwb3MubG5nLnRvRml4ZWQoNikpOwogICAgICBzd2guZ2VvQ29kZVBvc2l0aW9uKHBvcywgdGhhdCkudGhlbihmdW5jdGlvbiAocCkgewogICAgICAgIHRoYXQucGlja0xvY2F0aW9uID0gcDsKICAgICAgICB0aGF0LnNldFBpY2tMb2NhdGlvbk1vZGUoKTsgLy8g5ouW5ou95a6M5oiQ5ZCO5riF6Zmk5ouW5ou954q25oCBCgogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgdGhhdC5pc0RyYWdnaW5nID0gZmFsc2U7CiAgICAgICAgICB0aGF0LmRyYWdDb29yZGluYXRlcyA9IG51bGw7CiAgICAgICAgfSwgNTAwKTsgLy8g5bu26L+f5riF6Zmk77yM6K6p55So5oi36IO955yL5Yiw5pyA57uI5Z2Q5qCHCiAgICAgIH0pOwogICAgICB0aGlzLiRlbWl0KCdyZXNldExvY2F0aW9uJywgcG9zLmxhdCwgcG9zLmxuZyk7CiAgICB9LAogICAgY2hlY2tUaWxlQXZhaWxhYmlsaXR5OiBmdW5jdGlvbiBjaGVja1RpbGVBdmFpbGFiaWxpdHkoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsgLy8g5Zyo55Sf5Lqn546v5aKD5LiL5LyY5YWI5L2/55So6Z2Z5oCB55Om54mHCgogICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykgewogICAgICAgIHRoYXQudGVzdFN0YXRpY1RpbGVzKCkudGhlbihmdW5jdGlvbiAoaXNBdmFpbGFibGUpIHsKICAgICAgICAgIGlmIChpc0F2YWlsYWJsZSkgewogICAgICAgICAgICBjb25zb2xlLmxvZygn5L2/55So6Z2Z5oCB55Om54mH5paH5Lu2Jyk7CiAgICAgICAgICAgIHRoYXQudXJsID0gdGhhdC5mYWxsYmFja1VybDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfpnZnmgIHnk6bniYfkuI3lj6/nlKjvvIzlsJ3or5V0aWxl5pyN5Yqh5ZmoJyk7CiAgICAgICAgICAgIHRoYXQudGVzdFRpbGVTZXJ2ZXIoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDlvIDlj5Hnjq/looPkuIvkvJjlhYjlsJ3or5V0aWxl5pyN5Yqh5ZmoCiAgICAgICAgdGhhdC50ZXN0VGlsZVNlcnZlcigpOwogICAgICB9CiAgICB9LAogICAgdGVzdFN0YXRpY1RpbGVzOiBmdW5jdGlvbiB0ZXN0U3RhdGljVGlsZXMoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgLy8g5rWL6K+V5aSa5Liq57yp5pS+57qn5Yir55qE55Om54mH5piv5ZCm5a2Y5ZyoCiAgICAgICAgdmFyIHRlc3RVcmxzID0gWycvdGlsZXMvMC8wLzAucG5nJywgJy90aWxlcy8xLzAvMC5wbmcnLCAnL3RpbGVzLzIvMS8xLnBuZyddOwogICAgICAgIHZhciB0ZXN0Q291bnQgPSAwOwogICAgICAgIHZhciBzdWNjZXNzQ291bnQgPSAwOwogICAgICAgIHRlc3RVcmxzLmZvckVhY2goZnVuY3Rpb24gKHVybCkgewogICAgICAgICAgZmV0Y2godXJsLCB7CiAgICAgICAgICAgIG1ldGhvZDogJ0hFQUQnCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICB0ZXN0Q291bnQrKzsKCiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykgewogICAgICAgICAgICAgIHN1Y2Nlc3NDb3VudCsrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAodGVzdENvdW50ID09PSB0ZXN0VXJscy5sZW5ndGgpIHsKICAgICAgICAgICAgICAvLyDlpoLmnpzoh7PlsJHkuIDljYrnmoTmtYvor5Xnk6bniYflj6/nlKjvvIzorqTkuLrpnZnmgIHnk6bniYflj6/nlKgKICAgICAgICAgICAgICByZXNvbHZlKHN1Y2Nlc3NDb3VudCA+PSB0ZXN0VXJscy5sZW5ndGggLyAyKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0ZXN0Q291bnQrKzsKCiAgICAgICAgICAgIGlmICh0ZXN0Q291bnQgPT09IHRlc3RVcmxzLmxlbmd0aCkgewogICAgICAgICAgICAgIHJlc29sdmUoc3VjY2Vzc0NvdW50ID49IHRlc3RVcmxzLmxlbmd0aCAvIDIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsgLy8g6LaF5pe25aSE55CGCgogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKHRlc3RDb3VudCA8IHRlc3RVcmxzLmxlbmd0aCkgewogICAgICAgICAgICByZXNvbHZlKGZhbHNlKTsKICAgICAgICAgIH0KICAgICAgICB9LCAyMDAwKTsKICAgICAgfSk7CiAgICB9LAogICAgdGVzdFRpbGVTZXJ2ZXI6IGZ1bmN0aW9uIHRlc3RUaWxlU2VydmVyKCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7IC8vIOa1i+ivlXRpbGXmnI3liqHlmajmmK/lkKblj6/nlKgKCiAgICAgIHZhciB0ZXN0VXJsID0gdGhpcy5zZXJ2ZXJVcmwucmVwbGFjZSgne3p9JywgJzAnKS5yZXBsYWNlKCd7eH0nLCAnMCcpLnJlcGxhY2UoJ3t5fScsICcwJyk7CiAgICAgIGZldGNoKHRlc3RVcmwsIHsKICAgICAgICBtZXRob2Q6ICdIRUFEJywKICAgICAgICB0aW1lb3V0OiAzMDAwCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygndGlsZeacjeWKoeWZqOWPr+eUqCcpOwogICAgICAgICAgdGhhdC51cmwgPSB0aGF0LnNlcnZlclVybDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0aWxl5pyN5Yqh5Zmo5ZON5bqU6ZSZ6K+vJyk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZygndGlsZeacjeWKoeWZqOS4jeWPr+eUqO+8jOS9v+eUqOmdmeaAgeeTpueJhzonLCBlcnJvcik7CiAgICAgICAgdGhhdC51cmwgPSB0aGF0LmZhbGxiYWNrVXJsOyAvLyDlpoLmnpzpnZnmgIHnk6bniYfkuZ/kuI3lj6/nlKjvvIzmnIDlkI7lsJ3or5XlnKjnur/nk6bniYcKCiAgICAgICAgdGhhdC50ZXN0U3RhdGljVGlsZXMoKS50aGVuKGZ1bmN0aW9uIChpc0F2YWlsYWJsZSkgewogICAgICAgICAgaWYgKCFpc0F2YWlsYWJsZSAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JykgewogICAgICAgICAgICBjb25zb2xlLmxvZygn5YiH5o2i5Yiw5Zyo57q/55Om54mH5pyN5YqhJyk7CiAgICAgICAgICAgIHRoYXQudXJsID0gdGhhdC5vbmxpbmVVcmw7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZE9mZmxpbmVTZWFyY2hDb250cm9sOiBmdW5jdGlvbiBhZGRPZmZsaW5lU2VhcmNoQ29udHJvbChtYXApIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOyAvLyDliJvlu7rnprvnur/mkJzntKLmjqfku7YKCiAgICAgIHZhciBzZWFyY2hDb250cm9sID0gTC5Db250cm9sLmV4dGVuZCh7CiAgICAgICAgb3B0aW9uczogewogICAgICAgICAgcG9zaXRpb246ICd0b3BsZWZ0JwogICAgICAgIH0sCiAgICAgICAgb25BZGQ6IGZ1bmN0aW9uIG9uQWRkKG1hcCkgewogICAgICAgICAgdmFyIGNvbnRhaW5lciA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsICdsZWFmbGV0LWNvbnRyb2wtZ2VvY29kZXIgbGVhZmxldC1iYXInKTsKICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAiXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGVhZmxldC1jb250cm9sLWdlb2NvZGVyLWZvcm1cIj5cbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJcdThGOTNcdTUxNjVcdTU3NTBcdTY4MDcgKGxhdCxsbmcpXCIgLz5cbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCI+XHU2NDFDXHU3RDIyPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAiOwogICAgICAgICAgdmFyIGlucHV0ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7CiAgICAgICAgICB2YXIgYnV0dG9uID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpOwoKICAgICAgICAgIGJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGF0LmhhbmRsZU9mZmxpbmVTZWFyY2goaW5wdXQudmFsdWUpOwogICAgICAgICAgfTsKCiAgICAgICAgICBpbnB1dC5vbmtleXByZXNzID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7CiAgICAgICAgICAgICAgdGhhdC5oYW5kbGVPZmZsaW5lU2VhcmNoKGlucHV0LnZhbHVlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfTsKCiAgICAgICAgICByZXR1cm4gY29udGFpbmVyOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIG5ldyBzZWFyY2hDb250cm9sKCkuYWRkVG8obWFwKTsKICAgIH0sCiAgICBoYW5kbGVPZmZsaW5lU2VhcmNoOiBmdW5jdGlvbiBoYW5kbGVPZmZsaW5lU2VhcmNoKHF1ZXJ5KSB7CiAgICAgIC8vIOino+aekOWdkOagh+i+k+WFpSAo5pSv5oyB5aSa56eN5qC85byPKQogICAgICB2YXIgY29vcmRQYXR0ZXJuID0gLygtP1xkK1wuP1xkKilbLFxzXSsoLT9cZCtcLj9cZCopLzsKICAgICAgdmFyIG1hdGNoID0gcXVlcnkubWF0Y2goY29vcmRQYXR0ZXJuKTsKCiAgICAgIGlmIChtYXRjaCkgewogICAgICAgIHZhciBsYXQgPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTsKICAgICAgICB2YXIgbG5nID0gcGFyc2VGbG9hdChtYXRjaFsyXSk7CgogICAgICAgIGlmIChsYXQgPj0gLTkwICYmIGxhdCA8PSA5MCAmJiBsbmcgPj0gLTE4MCAmJiBsbmcgPD0gMTgwKSB7CiAgICAgICAgICB2YXIgcG9zID0gewogICAgICAgICAgICBsYXQ6IGxhdCwKICAgICAgICAgICAgbG5nOiBsbmcsCiAgICAgICAgICAgIGFjY3VyYWN5OiAwCiAgICAgICAgICB9OwogICAgICAgICAgdGhpcy5tYXBDZW50ZXIgPSBbbGF0LCBsbmddOwogICAgICAgICAgdmFyIGxvYyA9IHsKICAgICAgICAgICAgc2hvcnRfbmFtZTogIiIuY29uY2F0KGxhdC50b0ZpeGVkKDMpLCAiLCAiKS5jb25jYXQobG5nLnRvRml4ZWQoMykpLAogICAgICAgICAgICBjb3VudHJ5OiB0aGlzLiR0KCdVbmtub3duJyksCiAgICAgICAgICAgIGxuZzogbG5nLAogICAgICAgICAgICBsYXQ6IGxhdCwKICAgICAgICAgICAgYWx0OiAwLAogICAgICAgICAgICBhY2N1cmFjeTogMCwKICAgICAgICAgICAgc3RyZWV0X2FkZHJlc3M6ICcnCiAgICAgICAgICB9OwogICAgICAgICAgdGhpcy5waWNrTG9jYXRpb24gPSBsb2M7CiAgICAgICAgICB0aGlzLnNldFBpY2tMb2NhdGlvbk1vZGUoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQoJ+WdkOagh+iMg+WbtOmUmeivr++8mue6rOW6pigtOTDliLA5MCnvvIznu4/luqYoLTE4MOWIsDE4MCknKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWxlcnQoJ+ivt+i+k+WFpeacieaViOeahOWdkOagh+agvOW8j++8mue6rOW6piznu4/luqYgKOS+i+WmgjogNDAuMSwgMTE2LjIpJyk7CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVab29tTGltaXRzOiBmdW5jdGlvbiB1cGRhdGVab29tTGltaXRzKG1hcCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7IC8vIOiuvue9ruWfuuehgOe8qeaUvumZkOWItgoKICAgICAgbWFwLnNldE1pblpvb20odGhpcy5lZmZlY3RpdmVNaW5ab29tKTsKICAgICAgbWFwLnNldE1heFpvb20odGhpcy5lZmZlY3RpdmVNYXhab29tKTsKICAgICAgY29uc29sZS5sb2coIlx1NTczMFx1NTZGRVx1N0YyOVx1NjUzRVx1OTY1MFx1NTIzNjogIi5jb25jYXQodGhpcy5lZmZlY3RpdmVNaW5ab29tLCAiIC0gIikuY29uY2F0KHRoaXMuZWZmZWN0aXZlTWF4Wm9vbSkpOyAvLyDmo4DmtYvlvZPliY3njq/looPnmoTnk6bniYflj6/nlKjmgKflubbosIPmlbTpmZDliLYKCiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7CiAgICAgICAgLy8g55Sf5Lqn546v5aKD77ya5Lil5qC85oyJ54Wn55Om54mH5pWw5o2u6ZmQ5Yi2CiAgICAgICAgdGhpcy5kZXRlY3RBdmFpbGFibGVUaWxlTGV2ZWxzKCkudGhlbihmdW5jdGlvbiAobGV2ZWxzKSB7CiAgICAgICAgICBpZiAobGV2ZWxzLm1pbiAhPT0gbnVsbCAmJiBsZXZlbHMubWF4ICE9PSBudWxsKSB7CiAgICAgICAgICAgIG1hcC5zZXRNaW5ab29tKGxldmVscy5taW4pOwogICAgICAgICAgICBtYXAuc2V0TWF4Wm9vbShsZXZlbHMubWF4KTsKICAgICAgICAgICAgY29uc29sZS5sb2coIlx1NjhDMFx1NkQ0Qlx1NTIzMFx1NTNFRlx1NzUyOFx1NzRFNlx1NzI0N1x1N0VBN1x1NTIyQjogIi5jb25jYXQobGV2ZWxzLm1pbiwgIiAtICIpLmNvbmNhdChsZXZlbHMubWF4KSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBkZXRlY3RBdmFpbGFibGVUaWxlTGV2ZWxzOiBmdW5jdGlvbiBkZXRlY3RBdmFpbGFibGVUaWxlTGV2ZWxzKCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIHZhciB0ZXN0TGV2ZWxzID0gTWFwQ29uZmlnLmRldGVjdGlvbi50ZXN0TGV2ZWxzOwogICAgICAgIHZhciBhdmFpbGFibGVMZXZlbHMgPSBbXTsKICAgICAgICB2YXIgdGVzdENvdW50ID0gMDsKICAgICAgICB0ZXN0TGV2ZWxzLmZvckVhY2goZnVuY3Rpb24gKGxldmVsKSB7CiAgICAgICAgICB2YXIgdGVzdFVybCA9ICIvdGlsZXMvIi5jb25jYXQobGV2ZWwsICIvMC8wLnBuZyIpOwogICAgICAgICAgZmV0Y2godGVzdFVybCwgewogICAgICAgICAgICBtZXRob2Q6ICdIRUFEJwogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgdGVzdENvdW50Kys7CgogICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICBhdmFpbGFibGVMZXZlbHMucHVzaChsZXZlbCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0ZXN0Q291bnQgPT09IHRlc3RMZXZlbHMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgYXZhaWxhYmxlTGV2ZWxzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBhIC0gYjsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICByZXNvbHZlKHsKICAgICAgICAgICAgICAgIG1pbjogYXZhaWxhYmxlTGV2ZWxzLmxlbmd0aCA+IDAgPyBhdmFpbGFibGVMZXZlbHNbMF0gOiBudWxsLAogICAgICAgICAgICAgICAgbWF4OiBhdmFpbGFibGVMZXZlbHMubGVuZ3RoID4gMCA/IGF2YWlsYWJsZUxldmVsc1thdmFpbGFibGVMZXZlbHMubGVuZ3RoIC0gMV0gOiBudWxsLAogICAgICAgICAgICAgICAgYXZhaWxhYmxlOiBhdmFpbGFibGVMZXZlbHMKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0ZXN0Q291bnQrKzsKCiAgICAgICAgICAgIGlmICh0ZXN0Q291bnQgPT09IHRlc3RMZXZlbHMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgYXZhaWxhYmxlTGV2ZWxzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBhIC0gYjsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICByZXNvbHZlKHsKICAgICAgICAgICAgICAgIG1pbjogYXZhaWxhYmxlTGV2ZWxzLmxlbmd0aCA+IDAgPyBhdmFpbGFibGVMZXZlbHNbMF0gOiBudWxsLAogICAgICAgICAgICAgICAgbWF4OiBhdmFpbGFibGVMZXZlbHMubGVuZ3RoID4gMCA/IGF2YWlsYWJsZUxldmVsc1thdmFpbGFibGVMZXZlbHMubGVuZ3RoIC0gMV0gOiBudWxsLAogICAgICAgICAgICAgICAgYXZhaWxhYmxlOiBhdmFpbGFibGVMZXZlbHMKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7IC8vIOS9v+eUqOmFjee9rueahOi2heaXtuaXtumXtAoKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmICh0ZXN0Q291bnQgPCB0ZXN0TGV2ZWxzLmxlbmd0aCkgewogICAgICAgICAgICByZXNvbHZlKHsKICAgICAgICAgICAgICBtaW46IE1hcENvbmZpZy56b29tLm9mZmxpbmUubWluLAogICAgICAgICAgICAgIG1heDogTWFwQ29uZmlnLnpvb20ub2ZmbGluZS5tYXgsCiAgICAgICAgICAgICAgYXZhaWxhYmxlOiBbXQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9LCBNYXBDb25maWcuZGV0ZWN0aW9uLnRpbWVvdXQpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIExNYXA6IExNYXAsCiAgICBMVGlsZUxheWVyOiBMVGlsZUxheWVyLAogICAgTE1hcmtlcjogTE1hcmtlciwKICAgIExDaXJjbGU6IExDaXJjbGUsCiAgICBMVG9vbHRpcDogTFRvb2x0aXAsCiAgICBMQ29udHJvbFpvb206IExDb250cm9sWm9vbQogIH0KfTs="},{"version":3,"sources":["location-mgr.vue"],"names":[],"mappings":"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","sourcesContent":["// Stellarium Web - Copyright (c) 2022 - Stellarium Labs SRL\n//\n// This program is licensed under the terms of the GNU AGPL v3, or\n// alternatively under a commercial licence.\n//\n// The terms of the AGPL v3 license can be found in the main directory of this\n// repository.\n\n<template>\n  <div>\n    <v-row justify=\"space-around\">\n      <v-col cols=\"4\" v-if=\"doShowMyLocation\">\n        <v-list two-line subheader>\n          <v-subheader>{{ $t('My Locations') }}</v-subheader>\n          <v-list-item href=\"javascript:;\" v-for=\"item in knownLocations\" v-bind:key=\"item.id\" @click.native.stop=\"selectKnownLocation(item)\" :style=\"(item && knownLocationMode && selectedKnownLocation && item.id === selectedKnownLocation.id) ? 'background-color: #455a64' : ''\">\n            <v-list-item-icon>\n              <v-icon>mdi-map-marker</v-icon>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title>{{ item.short_name }}</v-list-item-title>\n              <v-list-item-subtitle>{{ item.country }}</v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list>\n      </v-col>\n      <v-col cols=\"doShowMyLocation ? 8 : 12\" >\n        <v-card class=\"blue-grey darken-2 white--text\">\n          <v-card-title primary-title>\n            <v-container fluid>\n              <v-row>\n                <v-col>\n                  <div>\n                    <div class=\"text-h5\" style=\"overflow: hidden; white-space: nowrap; text-overflow: ellipsis;\">{{ locationForDetail ? locationForDetail.short_name + ', ' + locationForDetail.country :  '-' }}</div>\n                    <v-btn @click.native.stop=\"useLocation()\" style=\"position: absolute; right: 20px\"><v-icon>mdi-chevron-right</v-icon> {{ $t('Use this location') }}</v-btn>\n                    <div class=\"grey--text text-subtitle-2\" v-if=\"locationForDetail.street_address\">{{ locationForDetail ? (locationForDetail.street_address ? locationForDetail.street_address : $t('Unknown Address')) : '-' }}</div>\n                    <div class=\"grey--text text-subtitle-2\">{{ locationForDetail ? locationForDetail.lat.toFixed(5) + ' ' + locationForDetail.lng.toFixed(5) : '-' }}</div>\n                    <div class=\"grey--text text-subtitle-2 drag-coordinates\" v-if=\"isDragging && dragCoordinates\">\n                      <span class=\"drag-hint\">\n                        <v-icon small color=\"orange\">mdi-drag</v-icon> \n                        拖拽中: {{ dragCoordinates.lat.toFixed(5) + ', ' + dragCoordinates.lng.toFixed(5) }}\n                      </span>\n                    </div>\n                  </div>\n                </v-col>\n              </v-row>\n            </v-container>\n          </v-card-title>\n          <div style=\"height: 375px\">\n              <!-- <v-btn light fab class=\"mx-0 pa-0\" @click.native.stop=\"centerOnRealPosition()\" style=\"position: absolute; z-index: 10000; bottom: 16px; right: 12px;\">\n                <v-icon>mdi-crosshairs-gps</v-icon>\n              </v-btn> -->\n            <l-map class=\"black--text\" ref=\"myMap\" :center=\"mapCenter\" :zoom=\"defaultZoom\" style=\"width: 100%; height: 375px;\" :options=\"{zoomControl: false, minZoom: effectiveMinZoom, maxZoom: effectiveMaxZoom}\">\n              <l-control-zoom position=\"topright\"></l-control-zoom>\n              <l-tile-layer :url=\"url\" attribution='&copy; <a target=\"_blank\" rel=\"noopener\" href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'></l-tile-layer>\n              <l-marker :key=\"loc.id\"\n                  v-for=\"loc in knownLocations\"\n                  :lat-lng=\"[ loc.lat, loc.lng ]\"\n                  :clickable=\"true\"\n                  :opacity=\"(!pickLocationMode && selectedKnownLocation && selectedKnownLocation === loc ? 1.0 : 0.25)\"\n                  @click=\"selectKnownLocation(loc)\"\n                  :draggable=\"!pickLocationMode && selectedKnownLocation && selectedKnownLocation === loc\" \n                  @dragstart=\"startDrag\"\n                  @drag=\"onDrag\"\n                  @dragend=\"dragEnd\"\n                >\n                  <l-tooltip v-if=\"!pickLocationMode && selectedKnownLocation && selectedKnownLocation === loc && isDragging\">\n                    <div class=\"black--text\">\n                      <strong>拖拽移动中</strong><br>\n                      纬度: {{ dragCoordinates ? dragCoordinates.lat.toFixed(6) : loc.lat.toFixed(6) }}<br>\n                      经度: {{ dragCoordinates ? dragCoordinates.lng.toFixed(6) : loc.lng.toFixed(6) }}<br>\n                      <small style=\"color: #666;\">松开鼠标确认位置</small>\n                    </div>\n                  </l-tooltip>\n                </l-marker>\n              <l-circle v-if=\"startLocation\"\n                :lat-lng=\"[ startLocation.lat, startLocation.lng ]\"\n                :radius=\"startLocation.accuracy\"\n                :options=\"{\n                  strokeColor: '#0000FF',\n                  strokeOpacity: 0.5,\n                  strokeWeight: 1,\n                  fillColor: '#0000FF',\n                  fillOpacity: 0.08}\"></l-circle>\n              <l-marker v-if=\"pickLocationMode && pickLocation\" \n                :lat-lng=\"[ pickLocation.lat, pickLocation.lng ]\"\n                :draggable=\"true\" \n                @dragstart=\"startDrag\"\n                @drag=\"onDrag\"\n                @dragend=\"dragEnd\">\n                <l-tooltip>\n                  <div class=\"black--text\">\n                    <span v-if=\"!isDragging\">拖拽调整位置</span>\n                    <div v-if=\"isDragging\">\n                      <strong>拖拽移动中</strong><br>\n                      纬度: {{ dragCoordinates ? dragCoordinates.lat.toFixed(6) : pickLocation.lat.toFixed(6) }}<br>\n                      经度: {{ dragCoordinates ? dragCoordinates.lng.toFixed(6) : pickLocation.lng.toFixed(6) }}<br>\n                      <small style=\"color: #666;\">松开鼠标确认位置</small>\n                    </div>\n                  </div>\n                </l-tooltip>\n              </l-marker>\n            </l-map>\n          </div>\n        </v-card>\n      </v-col>\n    </v-row>\n  </div>\n</template>\n\n<script>\nimport swh from '@/assets/sw_helpers.js'\nimport { LMap, LTileLayer, LMarker, LCircle, LTooltip, LControlZoom } from 'vue2-leaflet'\nimport L from 'leaflet'\nimport MapConfig from '@/config/map-config.js'\n\nexport default {\n  data: function () {\n    return {\n      mode: 'pick',\n      pickLocation: undefined,\n      selectedKnownLocation: undefined,\n      mapCenter: [43.6, 1.4333],\n      url: process.env.NODE_ENV === 'production' ? '/tiles/{z}/{x}/{y}.png' : 'http://localhost:8080/tiles/{z}/{x}/{y}.png',\n      fallbackUrl: '/tiles/{z}/{x}/{y}.png',\n      serverUrl: 'http://localhost:8080/tiles/{z}/{x}/{y}.png',\n      onlineUrl: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n      // 使用配置文件中的缩放级别设置\n      minZoom: MapConfig.zoom.offline.min,\n      maxZoom: MapConfig.zoom.offline.max,\n      defaultZoom: MapConfig.zoom.offline.default,\n      // 拖拽状态管理\n      isDragging: false,\n      dragCoordinates: null\n    }\n  },\n  props: ['showMyLocation', 'knownLocations', 'startLocation', 'realLocation'],\n  computed: {\n    doShowMyLocation: function () {\n      return this.showMyLocation === undefined ? false : this.showMyLocation\n    },\n    pickLocationMode: function () {\n      return this.mode === 'pick'\n    },\n    knownLocationMode: function () {\n      return this.mode === 'known'\n    },\n    locationForDetail: function () {\n      if (this.pickLocationMode && this.pickLocation === undefined) {\n        return this.startLocation\n      }\n      return this.pickLocationMode ? this.pickLocation : this.selectedKnownLocation\n    },\n    // 动态缩放级别配置\n    effectiveMinZoom: function () {\n      // 在生产环境下使用离线瓦片的限制，开发环境可以更宽松\n      const offlineMin = MapConfig.zoom.offline.min\n      const onlineMin = MapConfig.zoom.online.min\n      return process.env.NODE_ENV === 'production' ? offlineMin : Math.max(onlineMin, offlineMin - 1)\n    },\n    effectiveMaxZoom: function () {\n      // 在生产环境下严格限制，开发环境允许更高级别（在线瓦片）\n      const offlineMax = MapConfig.zoom.offline.max\n      const onlineMax = MapConfig.zoom.online.max\n      return process.env.NODE_ENV === 'production' ? offlineMax : Math.min(onlineMax, offlineMax + 6)\n    }\n  },\n  watch: {\n    startLocation: function () {\n      this.setPickLocation(this.startLocation)\n    }\n  },\n  mounted: function () {\n    const that = this\n    this.setPickLocation(this.startLocation)\n    \n    // 检测瓦片服务器可用性\n    this.checkTileAvailability()\n    \n    this.$nextTick(() => {\n      const map = this.$refs.myMap.mapObject\n      map._onResize()\n\n      // 设置缩放限制\n      this.updateZoomLimits(map)\n\n      // 添加离线搜索控件\n      this.addOfflineSearchControl(map)\n    })\n  },\n  methods: {\n    selectKnownLocation: function (loc) {\n      this.selectedKnownLocation = loc\n      this.setKnownLocationMode()\n      this.mapCenter = [loc.lat, loc.lng]\n    },\n    useLocation: function () {\n      this.$emit('locationSelected', this.locationForDetail)\n      this.$emit('resetLocation', this.locationForDetail.lat, this.locationForDetail.lng)\n    },\n    setPickLocationMode: function () {\n      this.mode = 'pick'\n    },\n    setKnownLocationMode: function () {\n      this.mode = 'known'\n    },\n    setPickLocation: function (loc) {\n      if (loc.accuracy < 100) {\n        for (const l of this.knownLocations) {\n          const d = swh.getDistanceFromLatLonInM(l.lat, l.lng, loc.lat, loc.lng)\n          if (d < 100) {\n            this.selectKnownLocation(l)\n            return\n          }\n        }\n      }\n      var pos = { lat: loc.lat, lng: loc.lng }\n      this.mapCenter = [pos.lat, pos.lng]\n      this.pickLocation = loc\n      this.setPickLocationMode()\n    },\n    // Called when the user clicks on the small cross button\n    centerOnRealPosition: function () {\n      this.setPickLocation(this.realLocation)\n    },\n    // 拖拽开始事件\n    startDrag: function (event) {\n      this.isDragging = true\n      this.dragCoordinates = {\n        lat: event.target._latlng.lat,\n        lng: event.target._latlng.lng\n      }\n      console.log('开始拖拽，初始坐标:', this.dragCoordinates)\n    },\n    // 拖拽过程中的事件\n    onDrag: function (event) {\n      this.dragCoordinates = {\n        lat: event.target._latlng.lat,\n        lng: event.target._latlng.lng\n      }\n      // 实时更新坐标显示，但不频繁打印日志\n      if (Math.random() < 0.1) { // 只有10%的概率打印，避免日志过多\n        console.log('拖拽中，当前坐标:', this.dragCoordinates.lat.toFixed(6), this.dragCoordinates.lng.toFixed(6))\n      }\n    },\n    // 拖拽结束事件\n    dragEnd: function (event) {\n      var that = this\n      var pos = { lat: event.target._latlng.lat, lng: event.target._latlng.lng, accuracy: 0 }\n      \n      // 更新最终坐标\n      this.dragCoordinates = {\n        lat: pos.lat,\n        lng: pos.lng\n      }\n      \n      console.log('拖拽结束，最终坐标: ' + pos.lat.toFixed(6) + ',' + pos.lng.toFixed(6))\n      \n      swh.geoCodePosition(pos, that).then((p) => { \n        that.pickLocation = p\n        that.setPickLocationMode()\n        // 拖拽完成后清除拖拽状态\n        setTimeout(() => {\n          that.isDragging = false\n          that.dragCoordinates = null\n        }, 500) // 延迟清除，让用户能看到最终坐标\n      })\n      \n      this.$emit('resetLocation', pos.lat, pos.lng)\n    },\n    checkTileAvailability: function () {\n      const that = this\n      \n      // 在生产环境下优先使用静态瓦片\n      if (process.env.NODE_ENV === 'production') {\n        that.testStaticTiles().then(isAvailable => {\n          if (isAvailable) {\n            console.log('使用静态瓦片文件')\n            that.url = that.fallbackUrl\n          } else {\n            console.log('静态瓦片不可用，尝试tile服务器')\n            that.testTileServer()\n          }\n        })\n      } else {\n        // 开发环境下优先尝试tile服务器\n        that.testTileServer()\n      }\n    },\n    \n    testStaticTiles: function () {\n      const that = this\n      return new Promise((resolve) => {\n        // 测试多个缩放级别的瓦片是否存在\n        const testUrls = [\n          '/tiles/0/0/0.png',\n          '/tiles/1/0/0.png',\n          '/tiles/2/1/1.png'\n        ]\n        \n        let testCount = 0\n        let successCount = 0\n        \n        testUrls.forEach(url => {\n          fetch(url, { method: 'HEAD' })\n            .then(response => {\n              testCount++\n              if (response.ok) {\n                successCount++\n              }\n              \n              if (testCount === testUrls.length) {\n                // 如果至少一半的测试瓦片可用，认为静态瓦片可用\n                resolve(successCount >= testUrls.length / 2)\n              }\n            })\n            .catch(() => {\n              testCount++\n              if (testCount === testUrls.length) {\n                resolve(successCount >= testUrls.length / 2)\n              }\n            })\n        })\n        \n        // 超时处理\n        setTimeout(() => {\n          if (testCount < testUrls.length) {\n            resolve(false)\n          }\n        }, 2000)\n      })\n    },\n    \n    testTileServer: function () {\n      const that = this\n      \n      // 测试tile服务器是否可用\n      const testUrl = this.serverUrl.replace('{z}', '0').replace('{x}', '0').replace('{y}', '0')\n      \n      fetch(testUrl, { method: 'HEAD', timeout: 3000 })\n        .then(response => {\n          if (response.ok) {\n            console.log('tile服务器可用')\n            that.url = that.serverUrl\n          } else {\n            throw new Error('tile服务器响应错误')\n          }\n        })\n        .catch(error => {\n          console.log('tile服务器不可用，使用静态瓦片:', error)\n          that.url = that.fallbackUrl\n          \n          // 如果静态瓦片也不可用，最后尝试在线瓦片\n          that.testStaticTiles().then(isAvailable => {\n            if (!isAvailable && process.env.NODE_ENV === 'development') {\n              console.log('切换到在线瓦片服务')\n              that.url = that.onlineUrl\n            }\n          })\n        })\n    },\n    addOfflineSearchControl: function (map) {\n      const that = this\n      \n      // 创建离线搜索控件\n      const searchControl = L.Control.extend({\n        options: {\n          position: 'topleft'\n        },\n        onAdd: function(map) {\n          const container = L.DomUtil.create('div', 'leaflet-control-geocoder leaflet-bar')\n          container.innerHTML = `\n            <div class=\"leaflet-control-geocoder-form\">\n              <input type=\"text\" placeholder=\"输入坐标 (lat,lng)\" />\n              <button type=\"button\">搜索</button>\n            </div>\n          `\n          \n          const input = container.querySelector('input')\n          const button = container.querySelector('button')\n          \n          button.onclick = function() {\n            that.handleOfflineSearch(input.value)\n          }\n          \n          input.onkeypress = function(e) {\n            if (e.key === 'Enter') {\n              that.handleOfflineSearch(input.value)\n            }\n          }\n          \n          return container\n        }\n      })\n      \n      new searchControl().addTo(map)\n    },\n    handleOfflineSearch: function (query) {\n      // 解析坐标输入 (支持多种格式)\n      const coordPattern = /(-?\\d+\\.?\\d*)[,\\s]+(-?\\d+\\.?\\d*)/\n      const match = query.match(coordPattern)\n      \n      if (match) {\n        const lat = parseFloat(match[1])\n        const lng = parseFloat(match[2])\n        \n        if (lat >= -90 && lat <= 90 && lng >= -180 && lng <= 180) {\n          const pos = { lat: lat, lng: lng, accuracy: 0 }\n          this.mapCenter = [lat, lng]\n          \n          const loc = {\n            short_name: `${lat.toFixed(3)}, ${lng.toFixed(3)}`,\n            country: this.$t('Unknown'),\n            lng: lng,\n            lat: lat,\n            alt: 0,\n            accuracy: 0,\n            street_address: ''\n          }\n          \n          this.pickLocation = loc\n          this.setPickLocationMode()\n        } else {\n          alert('坐标范围错误：纬度(-90到90)，经度(-180到180)')\n        }\n      } else {\n        alert('请输入有效的坐标格式：纬度,经度 (例如: 40.1, 116.2)')\n      }\n    },\n    updateZoomLimits: function (map) {\n      const that = this\n      \n      // 设置基础缩放限制\n      map.setMinZoom(this.effectiveMinZoom)\n      map.setMaxZoom(this.effectiveMaxZoom)\n      \n      console.log(`地图缩放限制: ${this.effectiveMinZoom} - ${this.effectiveMaxZoom}`)\n      \n      // 检测当前环境的瓦片可用性并调整限制\n      if (process.env.NODE_ENV === 'production') {\n        // 生产环境：严格按照瓦片数据限制\n        this.detectAvailableTileLevels().then(levels => {\n          if (levels.min !== null && levels.max !== null) {\n            map.setMinZoom(levels.min)\n            map.setMaxZoom(levels.max)\n            console.log(`检测到可用瓦片级别: ${levels.min} - ${levels.max}`)\n          }\n        })\n      }\n    },\n    \n    detectAvailableTileLevels: function () {\n      const that = this\n      return new Promise((resolve) => {\n        const testLevels = MapConfig.detection.testLevels\n        let availableLevels = []\n        let testCount = 0\n        \n        testLevels.forEach(level => {\n          const testUrl = `/tiles/${level}/0/0.png`\n          \n          fetch(testUrl, { method: 'HEAD' })\n            .then(response => {\n              testCount++\n              if (response.ok) {\n                availableLevels.push(level)\n              }\n              \n              if (testCount === testLevels.length) {\n                availableLevels.sort((a, b) => a - b)\n                resolve({\n                  min: availableLevels.length > 0 ? availableLevels[0] : null,\n                  max: availableLevels.length > 0 ? availableLevels[availableLevels.length - 1] : null,\n                  available: availableLevels\n                })\n              }\n            })\n            .catch(() => {\n              testCount++\n              if (testCount === testLevels.length) {\n                availableLevels.sort((a, b) => a - b)\n                resolve({\n                  min: availableLevels.length > 0 ? availableLevels[0] : null,\n                  max: availableLevels.length > 0 ? availableLevels[availableLevels.length - 1] : null,\n                  available: availableLevels\n                })\n              }\n            })\n        })\n        \n        // 使用配置的超时时间\n        setTimeout(() => {\n          if (testCount < testLevels.length) {\n            resolve({ \n              min: MapConfig.zoom.offline.min, \n              max: MapConfig.zoom.offline.max, \n              available: [] \n            })\n          }\n        }, MapConfig.detection.timeout)\n      })\n    }\n  },\n  components: { LMap, LTileLayer, LMarker, LCircle, LTooltip, LControlZoom }\n}\n</script>\n\n<style>\n.leaflet-control-geocoder-form input {\n  caret-color:#000 !important;\n  color: #000 !important;\n}\n\n/* 拖拽坐标显示样式 */\n.drag-coordinates {\n  background-color: rgba(255, 152, 0, 0.1);\n  border-left: 3px solid #ff9800;\n  padding: 4px 8px;\n  border-radius: 4px;\n  margin-top: 4px;\n  animation: pulse 1.5s ease-in-out infinite alternate;\n}\n\n@keyframes pulse {\n  from {\n    background-color: rgba(255, 152, 0, 0.1);\n  }\n  to {\n    background-color: rgba(255, 152, 0, 0.2);\n  }\n}\n\n/* Tooltip样式增强 */\n.leaflet-tooltip {\n  font-size: 12px !important;\n  font-weight: 500 !important;\n}\n\n.leaflet-tooltip strong {\n  color: #ff9800 !important;\n}\n\n.leaflet-tooltip small {\n  font-style: italic;\n}\n\n/* 拖拽中的标记动画 */\n.leaflet-marker-dragging {\n  transition: none !important;\n}\n\n/* 拖拽提示文字样式 */\n.drag-hint {\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  font-weight: 500;\n}\n</style>\n"],"sourceRoot":"src/components"}]}