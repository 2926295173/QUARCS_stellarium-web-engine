{"remainingRequest":"/app/node_modules/thread-loader/dist/cjs.js!/app/node_modules/babel-loader/lib/index.js!/app/node_modules/cache-loader/dist/cjs.js??ref--1-0!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/components/location-mgr.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/components/location-mgr.vue","mtime":1748506566251},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1707125360000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1707125360000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":1707125450000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHN3aCBmcm9tICdAL2Fzc2V0cy9zd19oZWxwZXJzLmpzJzsKaW1wb3J0IHsgTE1hcCwgTFRpbGVMYXllciwgTE1hcmtlciwgTENpcmNsZSwgTFRvb2x0aXAsIExDb250cm9sWm9vbSB9IGZyb20gJ3Z1ZTItbGVhZmxldCc7CmltcG9ydCB7IEwgfSBmcm9tICdsZWFmbGV0LWNvbnRyb2wtZ2VvY29kZXIvZGlzdC9Db250cm9sLkdlb2NvZGVyLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RlOiAncGljaycsCiAgICAgIHBpY2tMb2NhdGlvbjogdW5kZWZpbmVkLAogICAgICBzZWxlY3RlZEtub3duTG9jYXRpb246IHVuZGVmaW5lZCwKICAgICAgbWFwQ2VudGVyOiBbNDMuNiwgMS40MzMzXSwKICAgICAgdXJsOiAnaHR0cHM6Ly97c30udGlsZS5vc20ub3JnL3t6fS97eH0ve3l9LnBuZycKICAgIH07CiAgfSwKICBwcm9wczogWydzaG93TXlMb2NhdGlvbicsICdrbm93bkxvY2F0aW9ucycsICdzdGFydExvY2F0aW9uJywgJ3JlYWxMb2NhdGlvbiddLAogIGNvbXB1dGVkOiB7CiAgICBkb1Nob3dNeUxvY2F0aW9uOiBmdW5jdGlvbiBkb1Nob3dNeUxvY2F0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5zaG93TXlMb2NhdGlvbiA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiB0aGlzLnNob3dNeUxvY2F0aW9uOwogICAgfSwKICAgIHBpY2tMb2NhdGlvbk1vZGU6IGZ1bmN0aW9uIHBpY2tMb2NhdGlvbk1vZGUoKSB7CiAgICAgIHJldHVybiB0aGlzLm1vZGUgPT09ICdwaWNrJzsKICAgIH0sCiAgICBrbm93bkxvY2F0aW9uTW9kZTogZnVuY3Rpb24ga25vd25Mb2NhdGlvbk1vZGUoKSB7CiAgICAgIHJldHVybiB0aGlzLm1vZGUgPT09ICdrbm93bic7CiAgICB9LAogICAgbG9jYXRpb25Gb3JEZXRhaWw6IGZ1bmN0aW9uIGxvY2F0aW9uRm9yRGV0YWlsKCkgewogICAgICBpZiAodGhpcy5waWNrTG9jYXRpb25Nb2RlICYmIHRoaXMucGlja0xvY2F0aW9uID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdGhpcy5zdGFydExvY2F0aW9uOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5waWNrTG9jYXRpb25Nb2RlID8gdGhpcy5waWNrTG9jYXRpb24gOiB0aGlzLnNlbGVjdGVkS25vd25Mb2NhdGlvbjsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBzdGFydExvY2F0aW9uOiBmdW5jdGlvbiBzdGFydExvY2F0aW9uKCkgewogICAgICB0aGlzLnNldFBpY2tMb2NhdGlvbih0aGlzLnN0YXJ0TG9jYXRpb24pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIHRoYXQgPSB0aGlzOwogICAgdGhpcy5zZXRQaWNrTG9jYXRpb24odGhpcy5zdGFydExvY2F0aW9uKTsKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG1hcCA9IF90aGlzLiRyZWZzLm15TWFwLm1hcE9iamVjdDsKCiAgICAgIG1hcC5fb25SZXNpemUoKTsKCiAgICAgIHZhciBnZW9jb2RlciA9IG5ldyBMLkNvbnRyb2wuR2VvY29kZXIoewogICAgICAgIGRlZmF1bHRNYXJrR2VvY29kZTogZmFsc2UsCiAgICAgICAgcG9zaXRpb246ICd0b3BsZWZ0JywKICAgICAgICBjb2xsYXBzZWQ6IGZhbHNlCiAgICAgIH0pLm9uKCdtYXJrZ2VvY29kZScsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHBvcyA9IHsKICAgICAgICAgIGxhdDogZS5nZW9jb2RlLmNlbnRlci5sYXQsCiAgICAgICAgICBsbmc6IGUuZ2VvY29kZS5jZW50ZXIubG5nCiAgICAgICAgfTsKICAgICAgICB0aGF0Lm1hcENlbnRlciA9IFtwb3MubGF0LCBwb3MubG5nXTsKICAgICAgICBwb3MuYWNjdXJhY3kgPSAxMDA7CiAgICAgICAgdmFyIGxsID0gdGhhdC4kdCgnTGF0IHswfcKwIExvbiB7MX3CsCcsIFtwb3MubGF0LnRvRml4ZWQoMyksIHBvcy5sbmcudG9GaXhlZCgzKV0pOwogICAgICAgIHZhciBsb2MgPSB7CiAgICAgICAgICBzaG9ydF9uYW1lOiBwb3MuYWNjdXJhY3kgPiA1MDAgPyB0aGF0LiR0KCdOZWFyIHswfScsIFtsbF0pIDogbGwsCiAgICAgICAgICBjb3VudHJ5OiB0aGF0LiR0KCdVbmtub3duJyksCiAgICAgICAgICBsbmc6IHBvcy5sbmcsCiAgICAgICAgICBsYXQ6IHBvcy5sYXQsCiAgICAgICAgICBhbHQ6IHBvcy5hbHQgPyBwb3MuYWx0IDogMCwKICAgICAgICAgIGFjY3VyYWN5OiBwb3MuYWNjdXJhY3ksCiAgICAgICAgICBzdHJlZXRfYWRkcmVzczogJycKICAgICAgICB9OwogICAgICAgIHZhciByZXMgPSBlLmdlb2NvZGUucHJvcGVydGllczsKICAgICAgICB2YXIgY2l0eSA9IHJlcy5hZGRyZXNzLmNpdHkgPyByZXMuYWRkcmVzcy5jaXR5IDogcmVzLmFkZHJlc3MudmlsbGFnZSA/IHJlcy5hZGRyZXNzLnZpbGxhZ2UgOiByZXMubmFtZTsKICAgICAgICBsb2Muc2hvcnRfbmFtZSA9IHBvcy5hY2N1cmFjeSA+IDUwMCA/IHRoYXQuJHQoJ05lYXIgezB9JywgW2NpdHldKSA6IGNpdHk7CiAgICAgICAgbG9jLmNvdW50cnkgPSByZXMuYWRkcmVzcy5jb3VudHJ5OwoKICAgICAgICBpZiAocG9zLmFjY3VyYWN5IDwgNTApIHsKICAgICAgICAgIGxvYy5zdHJlZXRfYWRkcmVzcyA9IHJlcy5hZGRyZXNzLnJvYWQgPyByZXMuYWRkcmVzcy5yb2FkIDogcmVzLmRpc3BsYXlfbmFtZTsKICAgICAgICB9CgogICAgICAgIHRoYXQucGlja0xvY2F0aW9uID0gbG9jOwogICAgICAgIHRoYXQuc2V0UGlja0xvY2F0aW9uTW9kZSgpOwogICAgICAgIGdlb2NvZGVyLnNldFF1ZXJ5KCcnKTsKICAgICAgfSk7CiAgICAgIGdlb2NvZGVyLmFkZFRvKG1hcCk7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNlbGVjdEtub3duTG9jYXRpb246IGZ1bmN0aW9uIHNlbGVjdEtub3duTG9jYXRpb24obG9jKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRLbm93bkxvY2F0aW9uID0gbG9jOwogICAgICB0aGlzLnNldEtub3duTG9jYXRpb25Nb2RlKCk7CiAgICAgIHRoaXMubWFwQ2VudGVyID0gW2xvYy5sYXQsIGxvYy5sbmddOwogICAgfSwKICAgIHVzZUxvY2F0aW9uOiBmdW5jdGlvbiB1c2VMb2NhdGlvbigpIHsKICAgICAgdGhpcy4kZW1pdCgnbG9jYXRpb25TZWxlY3RlZCcsIHRoaXMubG9jYXRpb25Gb3JEZXRhaWwpOwogICAgICB0aGlzLiRlbWl0KCdyZXNldExvY2F0aW9uJywgdGhpcy5sb2NhdGlvbkZvckRldGFpbC5sYXQsIHRoaXMubG9jYXRpb25Gb3JEZXRhaWwubG5nKTsKICAgIH0sCiAgICBzZXRQaWNrTG9jYXRpb25Nb2RlOiBmdW5jdGlvbiBzZXRQaWNrTG9jYXRpb25Nb2RlKCkgewogICAgICB0aGlzLm1vZGUgPSAncGljayc7CiAgICB9LAogICAgc2V0S25vd25Mb2NhdGlvbk1vZGU6IGZ1bmN0aW9uIHNldEtub3duTG9jYXRpb25Nb2RlKCkgewogICAgICB0aGlzLm1vZGUgPSAna25vd24nOwogICAgfSwKICAgIHNldFBpY2tMb2NhdGlvbjogZnVuY3Rpb24gc2V0UGlja0xvY2F0aW9uKGxvYykgewogICAgICBpZiAobG9jLmFjY3VyYWN5IDwgMTAwKSB7CiAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMua25vd25Mb2NhdGlvbnMpLAogICAgICAgICAgICBfc3RlcDsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciBsID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgIHZhciBkID0gc3doLmdldERpc3RhbmNlRnJvbUxhdExvbkluTShsLmxhdCwgbC5sbmcsIGxvYy5sYXQsIGxvYy5sbmcpOwoKICAgICAgICAgICAgaWYgKGQgPCAxMDApIHsKICAgICAgICAgICAgICB0aGlzLnNlbGVjdEtub3duTG9jYXRpb24obCk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIHBvcyA9IHsKICAgICAgICBsYXQ6IGxvYy5sYXQsCiAgICAgICAgbG5nOiBsb2MubG5nCiAgICAgIH07CiAgICAgIHRoaXMubWFwQ2VudGVyID0gW3Bvcy5sYXQsIHBvcy5sbmddOwogICAgICB0aGlzLnBpY2tMb2NhdGlvbiA9IGxvYzsKICAgICAgdGhpcy5zZXRQaWNrTG9jYXRpb25Nb2RlKCk7CiAgICB9LAogICAgLy8gQ2FsbGVkIHdoZW4gdGhlIHVzZXIgY2xpY2tzIG9uIHRoZSBzbWFsbCBjcm9zcyBidXR0b24KICAgIGNlbnRlck9uUmVhbFBvc2l0aW9uOiBmdW5jdGlvbiBjZW50ZXJPblJlYWxQb3NpdGlvbigpIHsKICAgICAgdGhpcy5zZXRQaWNrTG9jYXRpb24odGhpcy5yZWFsTG9jYXRpb24pOwogICAgfSwKICAgIGRyYWdFbmQ6IGZ1bmN0aW9uIGRyYWdFbmQoZXZlbnQpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB2YXIgcG9zID0gewogICAgICAgIGxhdDogZXZlbnQudGFyZ2V0Ll9sYXRsbmcubGF0LAogICAgICAgIGxuZzogZXZlbnQudGFyZ2V0Ll9sYXRsbmcubG5nLAogICAgICAgIGFjY3VyYWN5OiAwCiAgICAgIH07CiAgICAgIGNvbnNvbGUubG9nKCdkcmFnRW5kIHBvczogJyArIHBvcy5sYXQgKyAnLCcgKyBwb3MubG5nKTsKICAgICAgc3doLmdlb0NvZGVQb3NpdGlvbihwb3MsIHRoYXQpLnRoZW4oZnVuY3Rpb24gKHApIHsKICAgICAgICB0aGF0LnBpY2tMb2NhdGlvbiA9IHA7CiAgICAgICAgdGhhdC5zZXRQaWNrTG9jYXRpb25Nb2RlKCk7CiAgICAgIH0pOwogICAgICB0aGlzLiRlbWl0KCdyZXNldExvY2F0aW9uJywgcG9zLmxhdCwgcG9zLmxuZyk7CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBMTWFwOiBMTWFwLAogICAgTFRpbGVMYXllcjogTFRpbGVMYXllciwKICAgIExNYXJrZXI6IExNYXJrZXIsCiAgICBMQ2lyY2xlOiBMQ2lyY2xlLAogICAgTFRvb2x0aXA6IExUb29sdGlwLAogICAgTENvbnRyb2xab29tOiBMQ29udHJvbFpvb20KICB9Cn07"},{"version":3,"sources":["location-mgr.vue"],"names":[],"mappings":"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","sourcesContent":["// Stellarium Web - Copyright (c) 2022 - Stellarium Labs SRL\n//\n// This program is licensed under the terms of the GNU AGPL v3, or\n// alternatively under a commercial licence.\n//\n// The terms of the AGPL v3 license can be found in the main directory of this\n// repository.\n\n<template>\n  <div>\n    <v-row justify=\"space-around\">\n      <v-col cols=\"4\" v-if=\"doShowMyLocation\">\n        <v-list two-line subheader>\n          <v-subheader>{{ $t('My Locations') }}</v-subheader>\n          <v-list-item href=\"javascript:;\" v-for=\"item in knownLocations\" v-bind:key=\"item.id\" @click.native.stop=\"selectKnownLocation(item)\" :style=\"(item && knownLocationMode && selectedKnownLocation && item.id === selectedKnownLocation.id) ? 'background-color: #455a64' : ''\">\n            <v-list-item-icon>\n              <v-icon>mdi-map-marker</v-icon>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title>{{ item.short_name }}</v-list-item-title>\n              <v-list-item-subtitle>{{ item.country }}</v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list>\n      </v-col>\n      <v-col cols=\"doShowMyLocation ? 8 : 12\" >\n        <v-card class=\"blue-grey darken-2 white--text\">\n          <v-card-title primary-title>\n            <v-container fluid>\n              <v-row>\n                <v-col>\n                  <div>\n                    <div class=\"text-h5\" style=\"overflow: hidden; white-space: nowrap; text-overflow: ellipsis;\">{{ locationForDetail ? locationForDetail.short_name + ', ' + locationForDetail.country :  '-' }}</div>\n                    <v-btn @click.native.stop=\"useLocation()\" style=\"position: absolute; right: 20px\"><v-icon>mdi-chevron-right</v-icon> {{ $t('Use this location') }}</v-btn>\n                    <div class=\"grey--text text-subtitle-2\" v-if=\"locationForDetail.street_address\">{{ locationForDetail ? (locationForDetail.street_address ? locationForDetail.street_address : $t('Unknown Address')) : '-' }}</div>\n                    <div class=\"grey--text text-subtitle-2\">{{ locationForDetail ? locationForDetail.lat.toFixed(5) + ' ' + locationForDetail.lng.toFixed(5) : '-' }}</div>\n                  </div>\n                </v-col>\n              </v-row>\n            </v-container>\n          </v-card-title>\n          <div style=\"height: 375px\">\n              <!-- <v-btn light fab class=\"mx-0 pa-0\" @click.native.stop=\"centerOnRealPosition()\" style=\"position: absolute; z-index: 10000; bottom: 16px; right: 12px;\">\n                <v-icon>mdi-crosshairs-gps</v-icon>\n              </v-btn> -->\n            <l-map class=\"black--text\" ref=\"myMap\" :center=\"mapCenter\" :zoom=\"10\" style=\"width: 100%; height: 375px;\" :options=\"{zoomControl: false}\">\n              <l-control-zoom position=\"topright\"></l-control-zoom>\n              <l-tile-layer :url=\"url\" attribution='&copy; <a target=\"_blank\" rel=\"noopener\" href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'></l-tile-layer>\n              <l-marker :key=\"loc.id\"\n                  v-for=\"loc in knownLocations\"\n                  :lat-lng=\"[ loc.lat, loc.lng ]\"\n                  :clickable=\"true\"\n                  :opacity=\"(!pickLocationMode && selectedKnownLocation && selectedKnownLocation === loc ? 1.0 : 0.25)\"\n                  @click=\"selectKnownLocation(loc)\"\n                  :draggable=\"!pickLocationMode && selectedKnownLocation && selectedKnownLocation === loc\" @dragend=\"dragEnd\"\n                ></l-marker>\n              <l-circle v-if=\"startLocation\"\n                :lat-lng=\"[ startLocation.lat, startLocation.lng ]\"\n                :radius=\"startLocation.accuracy\"\n                :options=\"{\n                  strokeColor: '#0000FF',\n                  strokeOpacity: 0.5,\n                  strokeWeight: 1,\n                  fillColor: '#0000FF',\n                  fillOpacity: 0.08}\"></l-circle>\n              <l-marker v-if=\"pickLocationMode && pickLocation\" :lat-lng=\"[ pickLocation.lat, pickLocation.lng ]\"\n                :draggable=\"true\" @dragend=\"dragEnd\"><l-tooltip><div class=\"black--text\">Drag to adjust</div></l-tooltip></l-marker>\n            </l-map>\n          </div>\n        </v-card>\n      </v-col>\n    </v-row>\n  </div>\n</template>\n\n<script>\nimport swh from '@/assets/sw_helpers.js'\nimport { LMap, LTileLayer, LMarker, LCircle, LTooltip, LControlZoom } from 'vue2-leaflet'\nimport { L } from 'leaflet-control-geocoder/dist/Control.Geocoder.js'\n\nexport default {\n  data: function () {\n    return {\n      mode: 'pick',\n      pickLocation: undefined,\n      selectedKnownLocation: undefined,\n      mapCenter: [43.6, 1.4333],\n      url: 'https://{s}.tile.osm.org/{z}/{x}/{y}.png'\n    }\n  },\n  props: ['showMyLocation', 'knownLocations', 'startLocation', 'realLocation'],\n  computed: {\n    doShowMyLocation: function () {\n      return this.showMyLocation === undefined ? false : this.showMyLocation\n    },\n    pickLocationMode: function () {\n      return this.mode === 'pick'\n    },\n    knownLocationMode: function () {\n      return this.mode === 'known'\n    },\n    locationForDetail: function () {\n      if (this.pickLocationMode && this.pickLocation === undefined) {\n        return this.startLocation\n      }\n      return this.pickLocationMode ? this.pickLocation : this.selectedKnownLocation\n    }\n  },\n  watch: {\n    startLocation: function () {\n      this.setPickLocation(this.startLocation)\n    }\n  },\n  mounted: function () {\n    const that = this\n    this.setPickLocation(this.startLocation)\n    this.$nextTick(() => {\n      const map = this.$refs.myMap.mapObject\n      map._onResize()\n\n      var geocoder = new L.Control.Geocoder({\n        defaultMarkGeocode: false,\n        position: 'topleft',\n        collapsed: false\n      }).on('markgeocode', function (e) {\n        var pos = { lat: e.geocode.center.lat, lng: e.geocode.center.lng }\n        that.mapCenter = [pos.lat, pos.lng]\n        pos.accuracy = 100\n        const ll = that.$t('Lat {0}° Lon {1}°', [pos.lat.toFixed(3), pos.lng.toFixed(3)])\n        var loc = {\n          short_name: pos.accuracy > 500 ? that.$t('Near {0}', [ll]) : ll,\n          country: that.$t('Unknown'),\n          lng: pos.lng,\n          lat: pos.lat,\n          alt: pos.alt ? pos.alt : 0,\n          accuracy: pos.accuracy,\n          street_address: ''\n        }\n        const res = e.geocode.properties\n        const city = res.address.city ? res.address.city : (res.address.village ? res.address.village : res.name)\n        loc.short_name = pos.accuracy > 500 ? that.$t('Near {0}', [city]) : city\n        loc.country = res.address.country\n        if (pos.accuracy < 50) {\n          loc.street_address = res.address.road ? res.address.road : res.display_name\n        }\n        that.pickLocation = loc\n        that.setPickLocationMode()\n        geocoder.setQuery('')\n      })\n      geocoder.addTo(map)\n    })\n  },\n  methods: {\n    selectKnownLocation: function (loc) {\n      this.selectedKnownLocation = loc\n      this.setKnownLocationMode()\n      this.mapCenter = [loc.lat, loc.lng]\n    },\n    useLocation: function () {\n      this.$emit('locationSelected', this.locationForDetail)\n      this.$emit('resetLocation', this.locationForDetail.lat, this.locationForDetail.lng)\n    },\n    setPickLocationMode: function () {\n      this.mode = 'pick'\n    },\n    setKnownLocationMode: function () {\n      this.mode = 'known'\n    },\n    setPickLocation: function (loc) {\n      if (loc.accuracy < 100) {\n        for (const l of this.knownLocations) {\n          const d = swh.getDistanceFromLatLonInM(l.lat, l.lng, loc.lat, loc.lng)\n          if (d < 100) {\n            this.selectKnownLocation(l)\n            return\n          }\n        }\n      }\n      var pos = { lat: loc.lat, lng: loc.lng }\n      this.mapCenter = [pos.lat, pos.lng]\n      this.pickLocation = loc\n      this.setPickLocationMode()\n    },\n    // Called when the user clicks on the small cross button\n    centerOnRealPosition: function () {\n      this.setPickLocation(this.realLocation)\n    },\n    dragEnd: function (event) {\n      var that = this\n      var pos = { lat: event.target._latlng.lat, lng: event.target._latlng.lng, accuracy: 0 }\n      console.log('dragEnd pos: ' + pos.lat + ',' +pos.lng)\n      swh.geoCodePosition(pos, that).then((p) => { that.pickLocation = p; that.setPickLocationMode() })\n      this.$emit('resetLocation', pos.lat, pos.lng)\n    }\n  },\n  components: { LMap, LTileLayer, LMarker, LCircle, LTooltip, LControlZoom }\n}\n</script>\n\n<style>\n.leaflet-control-geocoder-form input {\n  caret-color:#000 !important;\n  color: #000 !important;\n}\n</style>\n"],"sourceRoot":"src/components"}]}