{"remainingRequest":"/app/node_modules/thread-loader/dist/cjs.js!/app/node_modules/babel-loader/lib/index.js!/app/node_modules/cache-loader/dist/cjs.js??ref--1-0!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/components/location-dialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/components/location-dialog.vue","mtime":1751349280784},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/app/node_modules/thread-loader/dist/cjs.js","mtime":1707125360000},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1707125360000},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":1707125450000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgTG9jYXRpb25NZ3IgZnJvbSAnQC9jb21wb25lbnRzL2xvY2F0aW9uLW1nci52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZUF1dG9Mb2NhdGlvbjogdHJ1ZSwKICAgICAgbWFudWFsTGF0aXR1ZGU6ICcnLAogICAgICBtYW51YWxMb25naXR1ZGU6ICcnLAogICAgICBsb2NhdGlvbkxhdDogJycsCiAgICAgIGxvY2F0aW9uTG9uOiAnJwogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7Ly8gdXNlQXV0b0xvY2F0aW9uOiB7CiAgICAvLyAgIGdldDogZnVuY3Rpb24gKCkgewogICAgLy8gICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VBdXRvTG9jYXRpb24KICAgIC8vICAgfSwKICAgIC8vICAgc2V0OiBmdW5jdGlvbiAoYikgewogICAgLy8gICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0VXNlQXV0b0xvY2F0aW9uJywgYikKICAgIC8vICAgfQogICAgLy8gfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy4kYnVzLiRlbWl0KCdWdWVfQ29tbWFuZCcsICdsb2NhbE1lc3NhZ2UnKTsgLy8g6I635Y+W5L2N572u5L+h5oGvCiAgICAvLyDmo4Dmn6UgcXRPYmog5piv5ZCm5Y+v55SoCgogICAgdmFyIGNoZWNrUXRPYmpBdmFpbGFiaWxpdHkgPSBmdW5jdGlvbiBjaGVja1F0T2JqQXZhaWxhYmlsaXR5KCkgewogICAgICBpZiAod2luZG93LnF0T2JqKSB7CiAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnU2VuZENvbnNvbGVMb2dNc2cnLCAncXRPYmog5bey5Y+v55SoJywgJ2luZm8nKTsgLy8gYWxlcnQoJ3F0T2JqIOW3suWPr+eUqCcpOwogICAgICAgIC8vIOWPr+S7peWcqOi/memHjOWBmuS4gOS6m+WIneWni+WMlgoKCiAgICAgICAgX3RoaXMuY2FsbFF0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnU2VuZENvbnNvbGVMb2dNc2cnLCAncXRPYmog5LiN5Y+v55So77yM5bCG5ZyoMeenkuWQjumHjeivlScsICd3YXJuaW5nJyk7CgogICAgICAgIHNldFRpbWVvdXQoY2hlY2tRdE9iakF2YWlsYWJpbGl0eSwgMTAwMCk7CiAgICAgIH0KICAgIH07IC8vIOW7tui/n+ajgOafpe+8jOehruS/nemhtemdouWujOWFqOWKoOi9vQoKCiAgICBzZXRUaW1lb3V0KGNoZWNrUXRPYmpBdmFpbGFiaWxpdHksIDIwMDApOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuJGJ1cy4kb24oJ3Jlc2V0TG9jYXRpb24nLCB0aGlzLnJlc2V0TG9jYXRpb24pOwogICAgdGhpcy4kYnVzLiRvbignc2V0TG9jYXRpb25MYXRBbmRMb24nLCB0aGlzLnNldExvY2F0aW9uTGF0QW5kTG9uKTsKICAgIHRoaXMuJGJ1cy4kb24oJ2lzQXV0b0xvY2F0aW9uJywgdGhpcy5oYW5kbGVBdXRvTG9jYXRpb25DaGFuZ2UpOwogICAgdGhpcy4kYnVzLiRvbignc2VuZEdldExvY2F0aW9uJywgdGhpcy5zZW5kR2V0TG9jYXRpb24pOwogIH0sCiAgbWV0aG9kczogewogICAgY2FsbFF0OiBmdW5jdGlvbiBjYWxsUXQoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgaWYgKHdpbmRvdy5xdE9iaikgewogICAgICAgICAgdmFyIGpzb25TdHIgPSB3aW5kb3cucXRPYmouZ2V0TXlWYWx1ZSgpOwogICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKGpzb25TdHIpOyAvLyDop6PmnpAgSlNPTgoKICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU2VuZENvbnNvbGVMb2dNc2cnLCAiZGF0YToiICsgIlRpbWU6ICIuY29uY2F0KGRhdGEudGltZSwgIixsYXQ6IikuY29uY2F0KGRhdGEubGF0LCAiLGxvbmc6IikuY29uY2F0KGRhdGEubG9uLCAiLCBsYW5ndWFnZTogIikuY29uY2F0KGRhdGEubGFuZ3VhZ2UsICIsIFdpRmk6ICIpLmNvbmNhdChkYXRhLndpZmluYW1lKSwgJ2luZm8nKTsKICAgICAgICAgIHRoaXMuc2VuZEdldExvY2F0aW9uKGRhdGEubGF0LCBkYXRhLmxvbik7CgogICAgICAgICAgaWYgKGRhdGEubGFuZ3VhZ2UgPT0gJ3poJyB8fCBkYXRhLmxhbmd1YWdlID09ICJ6aCIpIHsKICAgICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdDbGllbnRMYW5ndWFnZScsICdjbicpOwogICAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ1NlbmRDb25zb2xlTG9nTXNnJywgJ0NsaWVudExhbmd1YWdlOiBjbicsICdpbmZvJyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0NsaWVudExhbmd1YWdlJywgJ2VuJyk7CiAgICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU2VuZENvbnNvbGVMb2dNc2cnLCAnQ2xpZW50TGFuZ3VhZ2U6IGVuJywgJ2luZm8nKTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ2xvY2FsTWVzc2FnZTonICsgZGF0YS5sYXQgKyAnOicgKyBkYXRhLmxvbiArICc6JyArIGRhdGEubGFuZ3VhZ2UgKyAnOicgKyBkYXRhLndpZmluYW1lKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTZW5kQ29uc29sZUxvZ01zZycsICdxdE9iaiDkuI3lj6/nlKgnLCAnZXJyb3InKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTZW5kQ29uc29sZUxvZ01zZycsICJcdTk1MTlcdThCRUZcdTRGRTFcdTYwNkY6ICIuY29uY2F0KGVycm9yLm1lc3NhZ2UpLCAnZXJyb3InKTsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ1NlbmRDb25zb2xlTG9nTXNnJywgIlx1OTUxOVx1OEJFRlx1NTgwNlx1NjgwODogIi5jb25jYXQoZXJyb3Iuc3RhY2spLCAnZXJyb3InKTsKICAgICAgfQogICAgfSwKICAgIHJlc2V0TG9jYXRpb246IGZ1bmN0aW9uIHJlc2V0TG9jYXRpb24obGF0LCBsbmcsIGlzQXV0bykgewogICAgICAvLyDmiYvliqjkv67mraPkvY3nva4KICAgICAgaWYgKGlzQXV0bykgcmV0dXJuOwogICAgICBsYXQgPSBOdW1iZXIobGF0KTsKICAgICAgbG5nID0gTnVtYmVyKGxuZyk7IC8vIGNvbnNvbGUubG9nKCfop6blj5HkvY3nva7mm7TmlrByZXNldExvY2F0aW9uOicsIGxhdCwgbG5nKQoKICAgICAgaWYgKGlzTmFOKGxhdCkgfHwgaXNOYU4obG5nKSkgewogICAgICAgIHRoaXMubWFudWFsTGF0aXR1ZGUgPSAnJzsKICAgICAgICB0aGlzLm1hbnVhbExvbmdpdHVkZSA9ICcnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubWFudWFsTGF0aXR1ZGUgPSBTdHJpbmcobGF0KTsKICAgICAgICB0aGlzLm1hbnVhbExvbmdpdHVkZSA9IFN0cmluZyhsbmcpOwogICAgICB9CgogICAgICB0aGlzLnNhdmVNYW51YWxDb29yZGluYXRlcygpOwogICAgfSwKICAgIHNldExvY2F0aW9uTGF0QW5kTG9uOiBmdW5jdGlvbiBzZXRMb2NhdGlvbkxhdEFuZExvbihsYXQsIGxuZykgewogICAgICAvLyDoh6rliqjkv67mraPkvY3nva4KICAgICAgLy8gdGhpcy4kYnVzLiRlbWl0KCdTZW5kQ29uc29sZUxvZ01zZycsICdzZXRMb2NhdGlvbkxhdEFuZExvbjonICsgbGF0ICsgJywnICsgbG5nLCAnaW5mbycpCiAgICAgIHRoaXMubG9jYXRpb25MYXQgPSBsYXQ7CiAgICAgIHRoaXMubG9jYXRpb25Mb24gPSBsbmc7CgogICAgICBpZiAodGhpcy51c2VBdXRvTG9jYXRpb24pIHsKICAgICAgICB0aGlzLm1hbnVhbExhdGl0dWRlID0gbGF0OwogICAgICAgIHRoaXMubWFudWFsTG9uZ2l0dWRlID0gbG5nOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnY3VycmVjdExvY2F0aW9uOicgKyBsYXQgKyAnOicgKyBsbmcpOwogICAgICB9IC8vIHRoaXMuJGJ1cy4kZW1pdCgnU2VuZENvbnNvbGVMb2dNc2cnLCAnMy0tLS0tLS0tLS0tLeS/ruaUueW9k+WJjeacrOWcsOS9jee9rjonKyBsYXQgKyAnOicgKyBsbmcpOwoKICAgIH0sCiAgICBzZXRMb2NhdGlvbjogZnVuY3Rpb24gc2V0TG9jYXRpb24obG9jKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0Q3VycmVudExvY2F0aW9uJywgbG9jKTsKICAgIH0sCiAgICBzYXZlTWFudWFsQ29vcmRpbmF0ZXM6IGZ1bmN0aW9uIHNhdmVNYW51YWxDb29yZGluYXRlcygpIHsKICAgICAgaWYgKHRoaXMudXNlQXV0b0xvY2F0aW9uKSB7CiAgICAgICAgdGhpcy51c2VBdXRvTG9jYXRpb24gPSBmYWxzZTsKICAgICAgfQoKICAgICAgdmFyIGxhdCA9IHBhcnNlRmxvYXQodGhpcy5tYW51YWxMYXRpdHVkZS50cmltKCkpOwogICAgICB2YXIgbG5nID0gcGFyc2VGbG9hdCh0aGlzLm1hbnVhbExvbmdpdHVkZS50cmltKCkpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ1BvbGFyUG9pbnRBbHRpdHVkZScsIGxhdCk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU2VuZENvbnNvbGVMb2dNc2cnLCAnU2V0IEN1cnJlbnQgTG9jYXRpb246JyArIGxhdCArICcsJyArIGxuZywgJ2luZm8nKTsKICAgICAgdmFyIGxvYyA9IHsKICAgICAgICBzaG9ydF9uYW1lOiAnVW5rbm93bicsCiAgICAgICAgY291bnRyeTogJ1Vua25vd24nLAogICAgICAgIGxuZzogbG5nLAogICAgICAgIGxhdDogbGF0LAogICAgICAgIGFsdDogMCwKICAgICAgICBhY2N1cmFjeTogMCwKICAgICAgICBzdHJlZXRfYWRkcmVzczogJycKICAgICAgfTsKICAgICAgdGhpcy5zZXRMb2NhdGlvbihsb2MpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ3NhdmVUb0NvbmZpZ0ZpbGU6Q29vcmRpbmF0ZXM6JyArIGxhdCArICcsJyArIGxuZyArICcsJyArIHRoaXMudXNlQXV0b0xvY2F0aW9uKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTaG93UG9zaXRpb25JbmZvJywgbGF0LCBsbmcpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ3VwZGF0ZU1hcFBvc2l0aW9uJywgbGF0LCBsbmcpOwogICAgfSwKICAgIGhhbmRsZUF1dG9Mb2NhdGlvbkNoYW5nZTogZnVuY3Rpb24gaGFuZGxlQXV0b0xvY2F0aW9uQ2hhbmdlKG5ld1ZhbCkgewogICAgICAvLyB0aGlzLiRidXMuJGVtaXQoJ1NlbmRDb25zb2xlTG9nTXNnJywgJ2hhbmRsZUF1dG9Mb2NhdGlvbkNoYW5nZTonICsgbmV3VmFsLCAnaW5mbycpCiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnc2F2ZVRvQ29uZmlnRmlsZTppc0F1dG9Mb2NhdGlvbjonICsgbmV3VmFsKTsKCiAgICAgIGlmIChuZXdWYWwpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ3JlR2V0TG9jYXRpb24nKTsgLy8gdGhpcy4kYnVzLiRlbWl0KCdTZW5kQ29uc29sZUxvZ01zZycsICflvZPliY3kvY3nva46JyArIHRoaXMubG9jYXRpb25MYXQgKyAnLCcgKyB0aGlzLmxvY2F0aW9uTG9uLCAnaW5mbycpCiAgICAgIH0KCiAgICAgIHZhciBDb25maWdMYXQgPSBwYXJzZUZsb2F0KHRoaXMubWFudWFsTGF0aXR1ZGUudHJpbSgpKTsKICAgICAgdmFyIENvbmZpZ0xuZyA9IHBhcnNlRmxvYXQodGhpcy5tYW51YWxMb25naXR1ZGUudHJpbSgpKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdzYXZlVG9Db25maWdGaWxlOkNvb3JkaW5hdGVzOicgKyBDb25maWdMYXQgKyAnLCcgKyBDb25maWdMbmcgKyAnLCcgKyB0aGlzLnVzZUF1dG9Mb2NhdGlvbik7CiAgICB9LAogICAgc2VuZEdldExvY2F0aW9uOiBmdW5jdGlvbiBzZW5kR2V0TG9jYXRpb24obmV3bGF0LCBuZXdsbmcpIHsKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLmxvY2F0aW9uTGF0ID0gU3RyaW5nKG5ld2xhdCB8fCAnJyk7CiAgICAgICAgdGhpcy5sb2NhdGlvbkxvbiA9IFN0cmluZyhuZXdsbmcgfHwgJycpOyAvLyDnoa7kv53ovazmjaLkuLrlrZfnrKbkuLLlkI7lho3kvb/nlKh0cmltKCkKCiAgICAgICAgdmFyIGxhdCA9IHBhcnNlRmxvYXQoU3RyaW5nKHRoaXMubG9jYXRpb25MYXQgfHwgJycpLnRyaW0oKSk7CiAgICAgICAgdmFyIGxuZyA9IHBhcnNlRmxvYXQoU3RyaW5nKHRoaXMubG9jYXRpb25Mb24gfHwgJycpLnRyaW0oKSk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTZW5kQ29uc29sZUxvZ01zZycsICdzZW5kR2V0TG9jYXRpb246JyArIGxhdCArICcsJyArIGxuZywgJ2luZm8nKTsKCiAgICAgICAgaWYgKGlzTmFOKGxhdCkgfHwgaXNOYU4obG5nKSkgewogICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdzaG93TXNnQm94JywgJ0xvY2F0aW9uIGluZm9ybWF0aW9uIG5vdCBvYnRhaW5lZCwgcGxlYXNlIGNoZWNrIGxvY2F0aW9uIHBlcm1pc3Npb25zJywgJ2Vycm9yJyk7CiAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ1NlbmRDb25zb2xlTG9nTXNnJywgJ0xvY2F0aW9uIGluZm9ybWF0aW9uIG5vdCBvYnRhaW5lZCwgcGxlYXNlIGNoZWNrIGxvY2F0aW9uIHBlcm1pc3Npb25zJywgJ2Vycm9yJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMubWFudWFsTGF0aXR1ZGUgPSBTdHJpbmcodGhpcy5sb2NhdGlvbkxhdCk7CiAgICAgICAgICB0aGlzLm1hbnVhbExvbmdpdHVkZSA9IFN0cmluZyh0aGlzLmxvY2F0aW9uTG9uKTsKICAgICAgICAgIGxhdCA9IHBhcnNlRmxvYXQoU3RyaW5nKHRoaXMubWFudWFsTGF0aXR1ZGUpLnRyaW0oKSk7CiAgICAgICAgICBsbmcgPSBwYXJzZUZsb2F0KFN0cmluZyh0aGlzLm1hbnVhbExvbmdpdHVkZSkudHJpbSgpKTsKICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnUG9sYXJQb2ludEFsdGl0dWRlJywgbGF0KTsKICAgICAgICAgIHZhciBsb2MgPSB7CiAgICAgICAgICAgIHNob3J0X25hbWU6ICdVbmtub3duJywKICAgICAgICAgICAgY291bnRyeTogJ1Vua25vd24nLAogICAgICAgICAgICBsbmc6IGxuZywKICAgICAgICAgICAgbGF0OiBsYXQsCiAgICAgICAgICAgIGFsdDogMCwKICAgICAgICAgICAgYWNjdXJhY3k6IDAsCiAgICAgICAgICAgIHN0cmVldF9hZGRyZXNzOiAnJwogICAgICAgICAgfTsKICAgICAgICAgIHRoaXMuc2V0TG9jYXRpb24obG9jKTsKICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU2hvd1Bvc2l0aW9uSW5mbycsIGxhdCwgbG5nKTsKICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnY3VycmVjdExvY2F0aW9uOicgKyBsYXQgKyAnOicgKyBsbmcpOwogICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTZW5kQ29uc29sZUxvZ01zZycsICdTZXQgQ3VycmVudCBMb2NhdGlvbjonICsgbGF0ICsgJywnICsgbG5nLCAnaW5mbycpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ1NlbmRDb25zb2xlTG9nTXNnJywgIlx1NEY0RFx1N0Y2RVx1NTkwNFx1NzQwNlx1OTUxOVx1OEJFRjogIi5jb25jYXQoZXJyb3IubWVzc2FnZSksICdlcnJvcicpOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBMb2NhdGlvbk1ncjogTG9jYXRpb25NZ3IKICB9LAogIHdhdGNoOiB7CiAgICB1c2VBdXRvTG9jYXRpb246IGZ1bmN0aW9uIHVzZUF1dG9Mb2NhdGlvbihuZXdWYWwsIG9sZFZhbCkgewogICAgICAvLyDov5nkuKrlh73mlbDlsIblnKggdXNlQXV0b0xvY2F0aW9uIOaUueWPmOaXtuiiq+iwg+eUqAogICAgICAvLyBuZXdWYWwg5pivIHVzZUF1dG9Mb2NhdGlvbiDnmoTmlrDlgLwKICAgICAgLy8gb2xkVmFsIOaYryB1c2VBdXRvTG9jYXRpb24g55qE5pen5YC8CiAgICAgIGNvbnNvbGUubG9nKCd1c2VBdXRvTG9jYXRpb24gY2hhbmdlZCBmcm9tJywgb2xkVmFsLCAndG8nLCBuZXdWYWwpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["location-dialog.vue"],"names":[],"mappings":"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","sourcesContent":["// Stellarium Web - Copyright (c) 2022 - Stellarium Labs SRL\n//\n// This program is licensed under the terms of the GNU AGPL v3, or\n// alternatively under a commercial licence.\n//\n// The terms of the AGPL v3 license can be found in the main directory of this\n// repository.\n\n<template>\n<v-dialog max-width=\"600\" v-model=\"$store.state.showLocationDialog\">\n  <v-container v-if=\"$store.state.showLocationDialog\" class=\"secondary white--text\">\n    <v-row>\n      <v-col cols=\"4\">\n        <v-text-field v-model=\"manualLatitude\" label=\"Latitude\" placeholder=\"Enter latitude\"></v-text-field>\n      </v-col>\n      <v-col cols=\"4\">\n        <v-text-field v-model=\"manualLongitude\" label=\"Longitude\" placeholder=\"Enter longitude\"></v-text-field>\n      </v-col>\n      <v-col cols=\"4\">\n        <v-spacer></v-spacer>\n        <v-btn @click=\"saveManualCoordinates\" color=\"primary\">Save Manual Coordinates</v-btn>\n      </v-col>\n    </v-row>\n    <v-card color=\"secondary\" flat>\n      <v-switch :label=\"$t('Use Autolocation')\" v-model=\"useAutoLocation\" @change=\"handleAutoLocationChange\"></v-switch>\n    </v-card>\n    <location-mgr v-on:locationSelected=\"setLocation\" :knownLocations=\"[]\" :startLocation=\"$store.state.currentLocation\" :realLocation=\"$store.state.autoDetectedLocation\"></location-mgr>\n    \n  </v-container>\n</v-dialog>\n</template>\n\n<script>\nimport LocationMgr from '@/components/location-mgr.vue'\n\nexport default {\n  data: function () {\n    return {\n      useAutoLocation: true,\n      manualLatitude: '',\n      manualLongitude: '',\n      locationLat: '',\n      locationLon: '',\n    }\n\n  },\n  computed: {\n    // useAutoLocation: {\n    //   get: function () {\n    //     return this.$store.state.useAutoLocation\n    //   },\n    //   set: function (b) {\n    //     this.$store.commit('setUseAutoLocation', b)\n    //   }\n    // }\n  },\n  mounted: function () {\n    this.$bus.$emit('Vue_Command', 'localMessage'); // 获取位置信息\n    // 检查 qtObj 是否可用\n    const checkQtObjAvailability = () => {\n      if (window.qtObj) {\n        this.$bus.$emit('SendConsoleLogMsg', 'qtObj 已可用', 'info');\n        // alert('qtObj 已可用');\n        // 可以在这里做一些初始化\n        this.callQt();\n      } else {\n        this.$bus.$emit('SendConsoleLogMsg', 'qtObj 不可用，将在1秒后重试', 'warning');\n        setTimeout(checkQtObjAvailability, 1000);\n      }\n    };\n    \n    // 延迟检查，确保页面完全加载\n    setTimeout(checkQtObjAvailability, 2000);\n  },\n  created() {\n    this.$bus.$on('resetLocation', this.resetLocation);\n    this.$bus.$on('setLocationLatAndLon', this.setLocationLatAndLon);\n    this.$bus.$on('isAutoLocation', this.handleAutoLocationChange);\n    this.$bus.$on('sendGetLocation', this.sendGetLocation);\n  },\n  methods: {\n    callQt() {\n      try {\n        if (window.qtObj) {\n          const jsonStr = window.qtObj.getMyValue();\n          const data = JSON.parse(jsonStr); // 解析 JSON\n          this.$bus.$emit('SendConsoleLogMsg', \"data:\" +`Time: ${data.time},lat:${data.lat},long:${data.lon}, language: ${data.language}, WiFi: ${data.wifiname}`, 'info');  \n          this.sendGetLocation(data.lat, data.lon);\n          if (data.language == 'zh' || data.language == \"zh\") {\n            this.$bus.$emit('ClientLanguage', 'cn');\n            this.$bus.$emit('SendConsoleLogMsg', 'ClientLanguage: cn', 'info');\n          } else {\n            this.$bus.$emit('ClientLanguage', 'en');\n            this.$bus.$emit('SendConsoleLogMsg', 'ClientLanguage: en', 'info');\n          }\n          this.$bus.$emit('AppSendMessage', 'Vue_Command', 'localMessage:'+ data.lat + ':' + data.lon+':'+data.language +':'+data.wifiname);\n        } else {\n          this.$bus.$emit('SendConsoleLogMsg', 'qtObj 不可用', 'error');\n        }\n      } catch (error) {\n        this.$bus.$emit('SendConsoleLogMsg', `错误信息: ${error.message}`, 'error');\n        this.$bus.$emit('SendConsoleLogMsg', `错误堆栈: ${error.stack}`, 'error');\n      }\n    },\n \n    resetLocation: function (lat, lng,isAuto) {    // 手动修正位置\n      if (isAuto) return;\n      lat = Number(lat);\n      lng = Number(lng);\n      // console.log('触发位置更新resetLocation:', lat, lng)\n      if (isNaN(lat) || isNaN(lng)) {\n        this.manualLatitude = '';\n        this.manualLongitude = '';\n      } else {\n        this.manualLatitude = String(lat);\n        this.manualLongitude = String(lng);\n      }\n      this.saveManualCoordinates();\n \n    },\n    setLocationLatAndLon: function (lat, lng) {    // 自动修正位置\n      // this.$bus.$emit('SendConsoleLogMsg', 'setLocationLatAndLon:' + lat + ',' + lng, 'info')\n      this.locationLat = lat;\n      this.locationLon = lng;\n      if (this.useAutoLocation) {\n        this.manualLatitude = lat;\n        this.manualLongitude = lng;\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'currectLocation:'+ lat + ':' + lng);\n      }\n      // this.$bus.$emit('SendConsoleLogMsg', '3------------修改当前本地位置:'+ lat + ':' + lng);\n    },\n    setLocation: function (loc) {\n      this.$store.commit('setCurrentLocation', loc)\n    },\n    saveManualCoordinates: function () {\n      if (this.useAutoLocation) {\n        this.useAutoLocation = false;\n      }\n      const lat = parseFloat(this.manualLatitude.trim());\n      const lng = parseFloat(this.manualLongitude.trim());\n      this.$bus.$emit('PolarPointAltitude', lat)\n      this.$bus.$emit('SendConsoleLogMsg', 'Set Current Location:' + lat + ',' + lng, 'info')\n      const loc = {\n        short_name: 'Unknown',\n        country: 'Unknown',\n        lng: lng,\n        lat: lat,\n        alt: 0, \n        accuracy: 0, \n        street_address: ''\n      }\n      this.setLocation(loc)\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:Coordinates:'+ lat + ',' + lng + ',' + this.useAutoLocation);\n      this.$bus.$emit('ShowPositionInfo', lat, lng);\n      this.$bus.$emit('updateMapPosition', lat,lng)\n\n\n    },\n    handleAutoLocationChange: function (newVal) {\n      // this.$bus.$emit('SendConsoleLogMsg', 'handleAutoLocationChange:' + newVal, 'info')\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:isAutoLocation:' + newVal)\n      if (newVal) {\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'reGetLocation');\n        // this.$bus.$emit('SendConsoleLogMsg', '当前位置:' + this.locationLat + ',' + this.locationLon, 'info')\n        \n      }\n      const ConfigLat = parseFloat(this.manualLatitude.trim());\n      const ConfigLng = parseFloat(this.manualLongitude.trim());\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:Coordinates:'+ ConfigLat + ',' + ConfigLng + ',' + this.useAutoLocation);\n      \n    },\n    sendGetLocation: function (newlat, newlng) {\n      try {\n        this.locationLat = String(newlat || '');\n        this.locationLon = String(newlng || '');\n        // 确保转换为字符串后再使用trim()\n        let lat = parseFloat(String(this.locationLat || '').trim());\n        let lng = parseFloat(String(this.locationLon || '').trim());\n        this.$bus.$emit('SendConsoleLogMsg', 'sendGetLocation:' + lat + ',' + lng, 'info')\n        \n        if (isNaN(lat) || isNaN(lng)) {\n          this.$bus.$emit('showMsgBox', 'Location information not obtained, please check location permissions', 'error')\n          this.$bus.$emit('SendConsoleLogMsg', 'Location information not obtained, please check location permissions', 'error')\n        } else {\n          this.manualLatitude = String(this.locationLat);\n          this.manualLongitude = String(this.locationLon);\n          lat = parseFloat(String(this.manualLatitude).trim());\n          lng = parseFloat(String(this.manualLongitude).trim());\n          this.$bus.$emit('PolarPointAltitude', lat)\n          \n          const loc = {\n            short_name: 'Unknown',\n            country: 'Unknown',\n            lng: lng,\n            lat: lat,\n            alt: 0, \n            accuracy: 0, \n            street_address: ''\n          }\n          this.setLocation(loc)\n          this.$bus.$emit('ShowPositionInfo', lat, lng);\n          this.$bus.$emit('AppSendMessage', 'Vue_Command', 'currectLocation:'+ lat + ':' + lng);\n          this.$bus.$emit('SendConsoleLogMsg', 'Set Current Location:' + lat + ',' + lng, 'info')\n        }\n      } catch (error) {\n        this.$bus.$emit('SendConsoleLogMsg', `位置处理错误: ${error.message}`, 'error');\n      }\n    }\n  },\n  components: { LocationMgr },\n  watch: {\n    useAutoLocation: function (newVal, oldVal) {\n      // 这个函数将在 useAutoLocation 改变时被调用\n      // newVal 是 useAutoLocation 的新值\n      // oldVal 是 useAutoLocation 的旧值\n      console.log('useAutoLocation changed from', oldVal, 'to', newVal);\n    }\n  }\n}\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"src/components"}]}