{"remainingRequest":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/components/CircularButton.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/components/CircularButton.vue","mtime":1759997160000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js","mtime":1707125450000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwcm9ncmVzczogMCwKICAgICAgLy8gY2lyY3VtZmVyZW5jZTogMzM5LjI5MiwKICAgICAgcmFkaXVzOiAzMCwKICAgICAgLy8g5ZyG55qE5Y2K5b6ECiAgICAgIHN0cm9rZVdpZHRoOiA3LAogICAgICAvLyDlnIbnjq/nmoTnur/lrr0KICAgICAgQ2FwdHVyZUV4cFRpbWU6IDEsCiAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiAxLAogICAgICAvLyDliqjnlLvml7bplb/kuLoxMDAw5q+r56eS77yIMeenku+8iQogICAgICBhbmltYXRpb25TdGFydFRpbWU6IDAsCiAgICAgIC8vIOWKqOeUu+W8gOWni+aXtumXtAogICAgICBpc0NsaWNrZWQ6IGZhbHNlLAogICAgICBsb25nUHJlc3NUaHJlc2hvbGQ6IDEwMDAsCiAgICAgIGxvbmdQcmVzc1RpbWVyOiBudWxsLAogICAgICBQcmVzc1RpbWVzdGFtcDogMCwKICAgICAgaXNMb25nUHJlc3M6IGZhbHNlLAogICAgICBsb25nUHJlc3NQcm9ncmVzczogMCwKICAgICAgTWFpbkNhbWVyYUNvbm5lY3Q6IGZhbHNlLAogICAgICBpc1Byb2Nlc3Npbmc6IGZhbHNlLAogICAgICAvLyDmlrDlop7nirbmgIHlj5jph4/vvIzooajnpLrmmK/lkKbmraPlnKjlpITnkIYKICAgICAgaXNCdXR0b25EaXNhYmxlZDogZmFsc2UgLy8g5ouN5pGE5oyJ6ZKu5piv5ZCm56aB55SoCgogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiRidXMuJG9uKCdFeHBvc3VyZUNvbXBsZXRlZCcsIHRoaXMub3ZlclByb2dyZXNzKTsKICAgIHRoaXMuJGJ1cy4kb24oJ1NldEV4cFRpbWUnLCB0aGlzLlNldER1cmF0aW9uKTsKICAgIHRoaXMuJGJ1cy4kb24oJ0NhbWVyYUluRXhwb3N1cmluZycsIHRoaXMuc2V0SW5Qcm9ncmVzcyk7CiAgICB0aGlzLiRidXMuJG9uKCdNYWluQ2FtZXJhQ29ubmVjdGVkJywgdGhpcy5NYWluQ2FtZXJhQ29ubmVjdGVkKTsKICAgIHRoaXMuJGJ1cy4kb24oJ2Rpc2FibGVDYXB0dXJlQnV0dG9uJywgdGhpcy5kaXNhYmxlQ2FwdHVyZUJ1dHRvbik7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdnZXRDYXB0dXJlU3RhdHVzJyk7CiAgfSwKICBjb21wdXRlZDogewogICAgc3ZnU2l6ZTogZnVuY3Rpb24gc3ZnU2l6ZSgpIHsKICAgICAgLy8gU1ZH55qE5aSn5bCP5bqU6K+l6Laz5aSf5YyF5ZCr5ZyG5b2i5oyJ6ZKu5Y+K5YW26L655qGGCiAgICAgIHJldHVybiB0aGlzLnJhZGl1cyAqIDIgKyB0aGlzLnN0cm9rZVdpZHRoICogMjsKICAgIH0sCiAgICBjaXJjdW1mZXJlbmNlOiBmdW5jdGlvbiBjaXJjdW1mZXJlbmNlKCkgewogICAgICAvLyDorqHnrpflnIblkajplb8KICAgICAgcmV0dXJuIDIgKiBNYXRoLlBJICogdGhpcy5yYWRpdXM7CiAgICB9LAogICAgcHJvZ3Jlc3NUZXh0OiBmdW5jdGlvbiBwcm9ncmVzc1RleHQoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzQ2xpY2tlZCA/ICIiLmNvbmNhdCgodGhpcy5wcm9ncmVzcyAqIDEwMCkudG9GaXhlZCgwKSwgIiUiKSA6ICcnOwogICAgfSwKICAgIGZvbnRTaXplOiBmdW5jdGlvbiBmb250U2l6ZSgpIHsKICAgICAgLy8g5a2X5L2T5aSn5bCP5Y+v5Lul5qC55o2u5oyJ6ZKu55qE5aSn5bCP5Yqo5oCB6K6h566XCiAgICAgIHJldHVybiB0aGlzLnJhZGl1cyAvIDM7IC8vIOekuuS+i+avlOS+iwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlTW91c2VEb3duOiBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd24oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5pc0J1dHRvbkRpc2FibGVkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLm1vdXNlUHJlc3NUaW1lc3RhbXAgPSBEYXRlLm5vdygpOwoKICAgICAgaWYgKHRoaXMuaXNDbGlja2VkKSB7CiAgICAgICAgdGhpcy5zdGFydExvbmdQcmVzc0FuaW1hdGlvbigpOwogICAgICAgIHRoaXMubG9uZ1ByZXNzVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChEYXRlLm5vdygpIC0gX3RoaXMubW91c2VQcmVzc1RpbWVzdGFtcCA+PSBfdGhpcy5sb25nUHJlc3NUaHJlc2hvbGQpIHsKICAgICAgICAgICAgLy8g5aSE55CG6ZW/5oyJ6YC76L6RCiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKF90aGlzLmFuaW1hdGlvblJlcXVlc3QpOwoKICAgICAgICAgICAgX3RoaXMucmVzZXRQcm9ncmVzcygpOwogICAgICAgICAgfQogICAgICAgIH0sIHRoaXMubG9uZ1ByZXNzVGhyZXNob2xkKTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZU1vdXNlVXA6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlVXAoKSB7CiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmxvbmdQcmVzc1RpbWVyKTsKICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5sb25nUHJlc3NBbmltYXRpb25SZXF1ZXN0KTsKICAgICAgdGhpcy5pc0xvbmdQcmVzcyA9IGZhbHNlOwogICAgICB0aGlzLmxvbmdQcmVzc1Byb2dyZXNzID0gMDsKICAgICAgdmFyIGVsYXBzZWQgPSBEYXRlLm5vdygpIC0gdGhpcy5tb3VzZVByZXNzVGltZXN0YW1wOwoKICAgICAgaWYgKGVsYXBzZWQgPCB0aGlzLmxvbmdQcmVzc1RocmVzaG9sZCkgewogICAgICAgIC8vIOWkhOeQhueCueWHu+mAu+i+kQogICAgICAgIGlmICh0aGlzLk1haW5DYW1lcmFDb25uZWN0KSB7CiAgICAgICAgICB0aGlzLmFuaW1hdGVQcm9ncmVzcygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ3Nob3dNc2dCb3gnLCAnUGxlYXNlIGNvbm5lY3QgdGhlIGNhbWVyYSBmaXJzdC4nLCAnZXJyb3InKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhbmltYXRlUHJvZ3Jlc3M6IGZ1bmN0aW9uIGFuaW1hdGVQcm9ncmVzcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAodGhpcy5pc0NsaWNrZWQpIHJldHVybjsgLy8g5aaC5p6c5bey54K55Ye777yM5YiZ6YCA5Ye65pa55rOVCgogICAgICBjb25zb2xlLmxvZygn5omn6KGM54K55oyJ77yM6Kem5Y+R5ouN5pGEJyk7CiAgICAgIHRoaXMuYW5pbWF0aW9uRHVyYXRpb24gPSB0aGlzLkNhcHR1cmVFeHBUaW1lOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ3Rha2VFeHBvc3VyZTonICsgdGhpcy5hbmltYXRpb25EdXJhdGlvbik7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU2VuZENvbnNvbGVMb2dNc2cnLCAnVGFrZSBFeHBvc3VyZTonICsgdGhpcy5hbmltYXRpb25EdXJhdGlvbiwgJ2luZm8nKTsKICAgICAgdGhpcy5pc0NsaWNrZWQgPSB0cnVlOwogICAgICB2YXIgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7CgogICAgICB2YXIgYW5pbWF0ZSA9IGZ1bmN0aW9uIGFuaW1hdGUoY3VycmVudFRpbWUpIHsKICAgICAgICB2YXIgZWxhcHNlZFRpbWUgPSBjdXJyZW50VGltZSAtIHN0YXJ0VGltZTsKICAgICAgICBfdGhpczIucHJvZ3Jlc3MgPSBlbGFwc2VkVGltZSAvIChfdGhpczIuYW5pbWF0aW9uRHVyYXRpb24gLyAwLjk5KTsKCiAgICAgICAgaWYgKF90aGlzMi5wcm9ncmVzcyA8IDAuOTkpIHsKICAgICAgICAgIF90aGlzMi5hbmltYXRpb25SZXF1ZXN0ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIucHJvZ3Jlc3MgPSAwLjk5OwogICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoX3RoaXMyLmFuaW1hdGlvblJlcXVlc3QpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGlmICh0aGlzLmFuaW1hdGlvblJlcXVlc3QpIHsKICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGlvblJlcXVlc3QpOwogICAgICB9CgogICAgICB0aGlzLmFuaW1hdGlvblJlcXVlc3QgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7CiAgICB9LAogICAgb3ZlclByb2dyZXNzOiBmdW5jdGlvbiBvdmVyUHJvZ3Jlc3MoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5wcm9ncmVzcyA9IDE7CiAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uUmVxdWVzdCk7IC8vIOW7tuaXtjLnp5LlkI7ph43nva7ov5vluqYKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5yZXNldFByb2dyZXNzKCk7CiAgICAgIH0sIDIwMDApOwogICAgfSwKICAgIHJlc2V0UHJvZ3Jlc3M6IGZ1bmN0aW9uIHJlc2V0UHJvZ3Jlc3MoKSB7CiAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwOwogICAgICB0aGlzLmlzQ2xpY2tlZCA9IGZhbHNlOwogICAgfSwKICAgIFNldER1cmF0aW9uOiBmdW5jdGlvbiBTZXREdXJhdGlvbih0aW1lKSB7CiAgICAgIHRoaXMuQ2FwdHVyZUV4cFRpbWUgPSB0aW1lOwogICAgfSwKICAgIHN0YXJ0TG9uZ1ByZXNzQW5pbWF0aW9uOiBmdW5jdGlvbiBzdGFydExvbmdQcmVzc0FuaW1hdGlvbigpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZygn5omn6KGM6ZW/5oyJ77yM6Kem5Y+R57uI5q2i5ouN5pGEJyk7CiAgICAgIHRoaXMuaXNMb25nUHJlc3MgPSB0cnVlOwogICAgICB2YXIgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7CgogICAgICB2YXIgYW5pbWF0ZSA9IGZ1bmN0aW9uIGFuaW1hdGUoY3VycmVudFRpbWUpIHsKICAgICAgICB2YXIgZWxhcHNlZFRpbWUgPSBjdXJyZW50VGltZSAtIHN0YXJ0VGltZTsKICAgICAgICBfdGhpczQubG9uZ1ByZXNzUHJvZ3Jlc3MgPSBlbGFwc2VkVGltZSAvIF90aGlzNC5sb25nUHJlc3NUaHJlc2hvbGQ7CgogICAgICAgIGlmIChfdGhpczQubG9uZ1ByZXNzUHJvZ3Jlc3MgPCAxKSB7CiAgICAgICAgICBfdGhpczQubG9uZ1ByZXNzQW5pbWF0aW9uUmVxdWVzdCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXM0LmxvbmdQcmVzc1Byb2dyZXNzID0gMTsKICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKF90aGlzNC5sb25nUHJlc3NBbmltYXRpb25SZXF1ZXN0KTsKCiAgICAgICAgICBfdGhpczQuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnYWJvcnRFeHBvc3VyZScpOwoKICAgICAgICAgIF90aGlzNC4kYnVzLiRlbWl0KCdTZW5kQ29uc29sZUxvZ01zZycsICdBYm9ydCBFeHBvc3VyZScsICdpbmZvJyk7IC8vIOW7tuaXtjLnp5LlkI7ph43nva7ov5vluqYKCgogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzNC5yZXNldGxvbmdQcmVzc1Byb2dyZXNzKCk7CiAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICB0aGlzLmxvbmdQcmVzc0FuaW1hdGlvblJlcXVlc3QgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7CiAgICB9LAogICAgcmVzZXRsb25nUHJlc3NQcm9ncmVzczogZnVuY3Rpb24gcmVzZXRsb25nUHJlc3NQcm9ncmVzcygpIHsKICAgICAgdGhpcy5sb25nUHJlc3NQcm9ncmVzcyA9IDA7CiAgICAgIHRoaXMuaXNMb25nUHJlc3MgPSBmYWxzZTsKICAgIH0sCiAgICBzZXRJblByb2dyZXNzOiBmdW5jdGlvbiBzZXRJblByb2dyZXNzKHN0YXRlKSB7CiAgICAgIGlmIChzdGF0ZSA9PT0gJ1RydWUnKSB7CiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IDAuOTk7CiAgICAgICAgdGhpcy5pc0NsaWNrZWQgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwOwogICAgICAgIHRoaXMuaXNDbGlja2VkID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBNYWluQ2FtZXJhQ29ubmVjdGVkOiBmdW5jdGlvbiBNYWluQ2FtZXJhQ29ubmVjdGVkKG51bSkgewogICAgICBpZiAobnVtID09PSAwKSB7CiAgICAgICAgdGhpcy5NYWluQ2FtZXJhQ29ubmVjdCA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuTWFpbkNhbWVyYUNvbm5lY3QgPSB0cnVlOwogICAgICB9CgogICAgICBjb25zb2xlLmxvZygnTWFpbkNhbWVyYSBpcyBDb25uZWN0ZWQ6ICcsIG51bSk7CiAgICB9LAogICAgZGlzYWJsZUNhcHR1cmVCdXR0b246IGZ1bmN0aW9uIGRpc2FibGVDYXB0dXJlQnV0dG9uKHN0YXR1cykgewogICAgICB0aGlzLmlzQnV0dG9uRGlzYWJsZWQgPSBzdGF0dXM7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["CircularButton.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"circular-button no-select\">\n    <svg\n      @touchstart=\"handleMouseDown\" @touchend=\"handleMouseUp\"\n      @mousedown=\"handleMouseDown\" @mouseup=\"handleMouseUp\"\n      :width=\"svgSize\"\n      :height=\"svgSize\"\n      :viewBox=\"'0 0 ' + svgSize + ' ' + svgSize\"\n      style=\"cursor: pointer;\"\n    >\n      <!-- 背景圆圈 -->\n      <circle\n        :cx=\"svgSize / 2\"\n        :cy=\"svgSize / 2\"\n        :r=\"radius\"\n        fill=\"none\"\n        stroke=\"rgba(255, 255, 255, 0.5)\"\n        :stroke-width=\"strokeWidth\"\n      />\n      <!-- 红色进度条（长按时显示） -->\n       <circle\n        v-if=\"isLongPress\"\n        :cx=\"svgSize / 2\"\n        :cy=\"svgSize / 2\"\n        :r=\"radius\"\n        fill=\"none\"\n        stroke=\"rgba(255, 0, 0, 0.7)\"\n        :stroke-width=\"strokeWidth\"\n        :stroke-dasharray=\"circumference\"\n        :stroke-dashoffset=\"circumference * (1 - longPressProgress)\"\n        stroke-linecap=\"round\"\n        :transform=\"'rotate(-90 ' + svgSize / 2 + ' ' + svgSize / 2 + ')'\"\n      />\n      <!-- 进度条 -->\n      <circle\n        :cx=\"svgSize / 2\"\n        :cy=\"svgSize / 2\"\n        :r=\"radius\"\n        fill=\"none\"\n        stroke=\"rgba(0, 255, 0, 0.7)\"\n        :stroke-width=\"strokeWidth\"\n        :stroke-dasharray=\"circumference\"\n        :stroke-dashoffset=\"circumference * (1 - progress)\"\n        stroke-linecap=\"round\"\n        :transform=\"'rotate(-90 ' + svgSize / 2 + ' ' + svgSize / 2 + ')'\"\n      />\n      <!-- 按钮文本 -->\n      <text\n        :x=\"svgSize / 2\"\n        :y=\"svgSize / 2\"\n        fill=\"rgba(255, 255, 255, 0.7)\"\n        :font-size=\"fontSize\"\n        text-anchor=\"middle\"\n        alignment-baseline=\"central\"\n      >\n        {{ progressText }}\n      </text>\n\n      <image\n        :x=\"svgSize / 2\" \n        :y=\"svgSize / 2\"\n        v-if=\"!isClicked\"\n        xlink:href=\"@/assets/images/svg/ui/media record.svg\"\n        width=\"20px\" height=\"20px\"\n        style=\"transform: translate(-8px, -10px);\"\n      />\n\n    </svg>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      progress: 0,\n      // circumference: 339.292,\n      radius: 30, // 圆的半径\n      strokeWidth: 7, // 圆环的线宽\n      CaptureExpTime: 1,\n      animationDuration: 1, // 动画时长为1000毫秒（1秒）\n      animationStartTime: 0, // 动画开始时间\n      isClicked: false,\n\n      longPressThreshold: 1000,\n      longPressTimer: null,\n      PressTimestamp: 0,\n\n      isLongPress: false,\n      longPressProgress: 0,\n\n      MainCameraConnect: false,\n      isProcessing: false, // 新增状态变量，表示是否正在处理\n\n      isButtonDisabled: false, // 拍摄按钮是否禁用\n    };\n  },\n  created() {\n    this.$bus.$on('ExposureCompleted', this.overProgress);\n    this.$bus.$on('SetExpTime',this.SetDuration);\n    this.$bus.$on('CameraInExposuring',this.setInProgress);\n    this.$bus.$on('MainCameraConnected', this.MainCameraConnected);\n    this.$bus.$on('disableCaptureButton', this.disableCaptureButton);\n  },\n  mounted() {\n    this.$bus.$emit('AppSendMessage', 'Vue_Command', 'getCaptureStatus');\n  },\n  computed: {\n    svgSize() {\n      // SVG的大小应该足够包含圆形按钮及其边框\n      return this.radius * 2 + this.strokeWidth * 2;\n    },\n    circumference() {\n      // 计算圆周长\n      return 2 * Math.PI * this.radius;\n    },\n    progressText() {\n      return this.isClicked ? `${(this.progress * 100).toFixed(0)}%` : '';\n    },\n    fontSize() {\n      // 字体大小可以根据按钮的大小动态计算\n      return this.radius / 3; // 示例比例\n    },\n  },\n  methods: {\n    handleMouseDown() {\n      if (this.isButtonDisabled) {\n        return; \n      }\n      this.mousePressTimestamp = Date.now();\n      if (this.isClicked) {\n        this.startLongPressAnimation();\n        this.longPressTimer = setTimeout(() => {\n          if (Date.now() - this.mousePressTimestamp >= this.longPressThreshold) {\n            // 处理长按逻辑\n            cancelAnimationFrame(this.animationRequest);\n            this.resetProgress();\n          }\n        }, this.longPressThreshold);\n      }\n    },\n\n    handleMouseUp() {\n      clearTimeout(this.longPressTimer);\n\n      cancelAnimationFrame(this.longPressAnimationRequest);\n      this.isLongPress = false;\n      this.longPressProgress = 0;\n\n      const elapsed = Date.now() - this.mousePressTimestamp;\n      if (elapsed < this.longPressThreshold) {\n        // 处理点击逻辑\n        if(this.MainCameraConnect) {\n          this.animateProgress();\n        } else {\n          this.$bus.$emit('showMsgBox', 'Please connect the camera first.', 'error');\n        }\n      }\n    },\n\n    animateProgress() {\n      if (this.isClicked) return; // 如果已点击，则退出方法\n      console.log('执行点按，触发拍摄');\n      this.animationDuration = this.CaptureExpTime;\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'takeExposure:'+this.animationDuration);\n      this.$bus.$emit('SendConsoleLogMsg', 'Take Exposure:'+this.animationDuration, 'info');\n      this.isClicked = true;\n      const startTime = performance.now();\n      const animate = (currentTime) => {\n        const elapsedTime = currentTime - startTime;\n        this.progress = elapsedTime / (this.animationDuration / 0.99);\n\n        if (this.progress < 0.99) {\n          this.animationRequest = requestAnimationFrame(animate);\n        } else {\n          this.progress = 0.99;\n          cancelAnimationFrame(this.animationRequest);\n        }\n      };\n      if (this.animationRequest) {\n        cancelAnimationFrame(this.animationRequest);\n      }\n      this.animationRequest = requestAnimationFrame(animate);\n    },\n\n    overProgress() {\n      this.progress = 1;\n      cancelAnimationFrame(this.animationRequest);\n      // 延时2秒后重置进度\n      setTimeout(() => {\n        this.resetProgress();\n      }, 2000);\n    },\n\n    resetProgress() {\n      this.progress = 0;\n      this.isClicked = false;\n    },\n\n    SetDuration(time) {\n      this.CaptureExpTime = time;\n    },\n\n    startLongPressAnimation() {\n      console.log('执行长按，触发终止拍摄');\n      this.isLongPress = true;\n      const startTime = performance.now();\n      const animate = (currentTime) => {\n        const elapsedTime = currentTime - startTime;\n        this.longPressProgress = elapsedTime / this.longPressThreshold;\n\n        if (this.longPressProgress < 1) {\n          this.longPressAnimationRequest = requestAnimationFrame(animate);\n        } else {\n          this.longPressProgress = 1;\n          cancelAnimationFrame(this.longPressAnimationRequest);\n          this.$bus.$emit('AppSendMessage', 'Vue_Command', 'abortExposure');\n          this.$bus.$emit('SendConsoleLogMsg', 'Abort Exposure', 'info');\n          // 延时2秒后重置进度\n          setTimeout(() => {\n            this.resetlongPressProgress();\n          }, 1000);\n        }\n      };\n\n      this.longPressAnimationRequest = requestAnimationFrame(animate);\n    },\n\n    resetlongPressProgress() {\n      this.longPressProgress = 0;\n      this.isLongPress = false;\n    },\n\n    setInProgress(state) {\n      if(state === 'True'){\n        this.progress = 0.99;\n        this.isClicked = true;\n      } else {\n        this.progress = 0;\n        this.isClicked = false;\n      }\n    },\n\n    MainCameraConnected(num) {\n      if(num === 0){\n        this.MainCameraConnect = false;\n      } else {\n        this.MainCameraConnect = true;\n      }\n      console.log('MainCamera is Connected: ', num);\n    },\n\n    disableCaptureButton(status) {\n      this.isButtonDisabled = status;\n    },\n\n  },\n};\n</script>\n\n<style scoped>\n.circular-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n</style>\n\n\n"],"sourceRoot":"src/components"}]}