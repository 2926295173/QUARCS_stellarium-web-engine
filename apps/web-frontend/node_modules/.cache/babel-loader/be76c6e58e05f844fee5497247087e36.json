{"remainingRequest":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/App.vue","mtime":1749191979333},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js","mtime":1707125450000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3F1YXJjcy93b3Jrc3BhY2UvUVVBUkNTL1FVQVJDU19zdGVsbGFyaXVtLXdlYi1lbmdpbmUvYXBwcy93ZWItZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiL2hvbWUvcXVhcmNzL3dvcmtzcGFjZS9RVUFSQ1MvUVVBUkNTX3N0ZWxsYXJpdW0td2ViLWVuZ2luZS9hcHBzL3dlYi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICIvaG9tZS9xdWFyY3Mvd29ya3NwYWNlL1FVQVJDUy9RVUFSQ1Nfc3RlbGxhcml1bS13ZWItZW5naW5lL2FwcHMvd2ViLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvaG9tZS9xdWFyY3Mvd29ya3NwYWNlL1FVQVJDUy9RVUFSQ1Nfc3RlbGxhcml1bS13ZWItZW5naW5lL2FwcHMvd2ViLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDE2LWFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuY29weS13aXRoaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5ldmVyeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbGwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lmxhc3QtaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UtcmlnaHQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZXZlcnNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb21lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnN1YmFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tbG9jYWxlLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LWJ1ZmZlci5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnVpbnQ4LWNsYW1wZWQtYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbGwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZW50cmllcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgXyBmcm9tICdsb2Rhc2gnOwppbXBvcnQgR3VpIGZyb20gJ0AvY29tcG9uZW50cy9ndWkudnVlJzsKaW1wb3J0IEd1aUxvYWRlciBmcm9tICdAL2NvbXBvbmVudHMvZ3VpLWxvYWRlci52dWUnOwppbXBvcnQgc3doIGZyb20gJ0AvYXNzZXRzL3N3X2hlbHBlcnMuanMnOwppbXBvcnQgTW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCBCYWNrZ3JvdW5kSW1hZ2UgZnJvbSAnQC9hc3NldHMvaW1hZ2VzL3N2Zy91aS9CYWNrZ3JvdW5kLnN2Zyc7CmltcG9ydCBFcnJvckltYWdlIGZyb20gJ0AvYXNzZXRzL2ltYWdlcy9zdmcvdWkvZXJyb3JJbWFnZS5zdmcnOwp2YXIgZ2xUZXN0Q2lyY2xlOwp2YXIgZ2xMYXllcjsKdmFyIGdsU3RlbDsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoY29udGV4dCkgewogICAgcmV0dXJuIHsKICAgICAgbWVudUl0ZW1zOiBbewogICAgICAgIHRpdGxlOiB0aGlzLiR0KCdWaWV3IFNldHRpbmdzJyksCiAgICAgICAgaWNvbjogJ21kaS1zZXR0aW5ncycsCiAgICAgICAgc3RvcmVfdmFyX25hbWU6ICdzaG93Vmlld1NldHRpbmdzRGlhbG9nJywKICAgICAgICBzdG9yZV9zaG93X21lbnVfaXRlbTogJ3Nob3dWaWV3U2V0dGluZ3NNZW51SXRlbScKICAgICAgfSwgewogICAgICAgIHRpdGxlOiB0aGlzLiR0KCdQbGFuZXRzIFRvbmlnaHQnKSwKICAgICAgICBpY29uOiAnbWRpLXBhbm9yYW1hLWZpc2hleWUnLAogICAgICAgIHN0b3JlX3Zhcl9uYW1lOiAnc2hvd1BsYW5ldHNWaXNpYmlsaXR5RGlhbG9nJywKICAgICAgICBzdG9yZV9zaG93X21lbnVfaXRlbTogJ3Nob3dQbGFuZXRzVmlzaWJpbGl0eU1lbnVJdGVtJwogICAgICB9LCB7CiAgICAgICAgZGl2aWRlcjogdHJ1ZQogICAgICB9XS5jb25jYXQodGhpcy5nZXRQbHVnaW5zTWVudUl0ZW1zKCkpLmNvbmNhdChbewogICAgICAgIHRpdGxlOiB0aGlzLiR0KCdEYXRhIENyZWRpdHMnKSwKICAgICAgICBmb290ZXI6IHRydWUsCiAgICAgICAgaWNvbjogJ21kaS1jb3B5cmlnaHQnLAogICAgICAgIHN0b3JlX3Zhcl9uYW1lOiAnc2hvd0RhdGFDcmVkaXRzRGlhbG9nJwogICAgICB9XSksCiAgICAgIG1lbnVDb21wb25lbnRzOiBbXS5jb25jYXQodGhpcy5nZXRQbHVnaW5zTWVudUNvbXBvbmVudHMoKSksCiAgICAgIGd1aUNvbXBvbmVudDogJ0d1aUxvYWRlcicsCiAgICAgIHN0YXJ0VGltZUlzU2V0OiBmYWxzZSwKICAgICAgaW5pdERvbmU6IGZhbHNlLAogICAgICBkYXRhU291cmNlSW5pdERvbmU6IGZhbHNlLAogICAgICBpbWFnZVNyYzogJ2h0dHBzOi8vaS5pbWd1ci5jb20vZWdBNUZJdi5qcGVnJywKICAgICAgLy8g5pu/5o2i5Li65L2g55qE5Zu+5YOP6Lev5b6ECiAgICAgIGN2UmVhZHk6IGZhbHNlLAogICAgICBjYW52YXNaSW5kZXhTdGVsOiAtMTAsCiAgICAgIGNhbnZhc1pJbmRleE1haW5DYW1lcmE6IC0xMSwKICAgICAgY2FudmFzWkluZGV4R3VpZGVyQ2FtZXJhOiAtMTIsCiAgICAgIGN1cnJlbnRjYW52YXM6ICdTdGVsJywKICAgICAgV2ViU29ja2V0VXJsOiAnJywKICAgICAgd2Vic29ja2V0OiBudWxsLAogICAgICBtZXNzYWdlOiAnJywKICAgICAgcmVjZWl2ZWRNZXNzYWdlczogW10sCiAgICAgIC8vIOWtmOWCqOaOpeaUtuWIsOeahOa2iOaBrwogICAgICBzZW50TWVzc2FnZXM6IFtdLAogICAgICAvLyDlrZjlgqjlt7Llj5HpgIHnmoTmtojmga8KICAgICAgbWVzc2FnZUNvdW50ZXI6IDAsCiAgICAgIC8vIOeUqOS6jueUn+aIkOWUr+S4gOeahOa2iOaBr0lECiAgICAgIHdlYnNvY2tldFN0YXRlOiAnZGlzY29ubmVjdGVkJywKICAgICAgLy8g5re75YqgV2ViU29ja2V06L+e5o6l54q25oCBCiAgICAgIG5ldHdvcmtEaXNjb25uZWN0ZWQ6IGZhbHNlLAogICAgICAvLyDmt7vliqDnvZHnu5zov57mjqXnirbmgIEKICAgICAgUVRDbGllbnRWZXJzaW9uOiAnTm90IGNvbm5lY3RlZCcsCiAgICAgIFZ1ZUNsaWVudFZlcnNpb246IHByb2Nlc3MuZW52LlZVRV9BUFBfVkVSU0lPTiwKICAgICAgLy8gaXNNZXNzYWdlQm94U2hvdzogZmFsc2UsCiAgICAgIEN1cnJlbnREcml2ZXJUeXBlOiAnJywKICAgICAgRGV2aWNlSXNDb25uZWN0ZWQ6IG51bGwsCiAgICAgIGNvbmZpcm1Ecml2ZXJUeXBlOiAnJywKICAgICAgTWFpbkNhbWVyYU9mZnNldE1pbjogMCwKICAgICAgTWFpbkNhbWVyYU9mZnNldE1heDogMCwKICAgICAgTWFpbkNhbWVyYUdhaW5NaW46IDAsCiAgICAgIE1haW5DYW1lcmFHYWluTWF4OiAwLAogICAgICBkZXZpY2VzOiBbewogICAgICAgIG5hbWU6ICflr7zmmJ/plZwnLAogICAgICAgIGRyaXZlclR5cGU6ICdHdWlkZXInLAogICAgICAgIHR5cGU6ICdDQ0RzJywKICAgICAgICBMaXN0TnVtOiAiMSIsCiAgICAgICAgaXNnZXQ6IGZhbHNlLAogICAgICAgIGRldmljZTogJycsCiAgICAgICAgQmF1ZFJhdGU6IDk2MDAsCiAgICAgICAgZHJpdmVyTmFtZTogJycsCiAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLAogICAgICAgIGRpYWxvZ1N0YXRlVmFyOiAnc2hvd0RldmljZVNldHRpbmdzRGlhbG9nX0d1aWRlcicKICAgICAgfSwgewogICAgICAgIG5hbWU6ICfkuLvnm7jmnLonLAogICAgICAgIGRyaXZlclR5cGU6ICdNYWluQ2FtZXJhJywKICAgICAgICB0eXBlOiAnQ0NEcycsCiAgICAgICAgTGlzdE51bTogIjIwIiwKICAgICAgICBpc2dldDogZmFsc2UsCiAgICAgICAgZGV2aWNlOiAnJywKICAgICAgICBCYXVkUmF0ZTogOTYwMCwKICAgICAgICBkcml2ZXJOYW1lOiAnJywKICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsCiAgICAgICAgZGlhbG9nU3RhdGVWYXI6ICdzaG93RGV2aWNlU2V0dGluZ3NEaWFsb2dfTWFpbkNhbWVyYScKICAgICAgfSwgewogICAgICAgIG5hbWU6ICfotaTpgZPku6onLAogICAgICAgIGRyaXZlclR5cGU6ICdNb3VudCcsCiAgICAgICAgdHlwZTogJ1RlbGVzY29wZXMnLAogICAgICAgIExpc3ROdW06ICIwIiwKICAgICAgICBpc2dldDogZmFsc2UsCiAgICAgICAgZGV2aWNlOiAnJywKICAgICAgICBCYXVkUmF0ZTogOTYwMCwKICAgICAgICBkcml2ZXJOYW1lOiAnJywKICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsCiAgICAgICAgZGlhbG9nU3RhdGVWYXI6ICdzaG93RGV2aWNlU2V0dGluZ3NEaWFsb2dfTW91bnQnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5pyb6L+c6ZWcJywKICAgICAgICBkcml2ZXJUeXBlOiAnVGVsZXNjb3BlcycsCiAgICAgICAgZGV2aWNlOiAnJywKICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2UKICAgICAgfSwgewogICAgICAgIG5hbWU6ICfnlLXliqjosIPnhKblmagnLAogICAgICAgIGRyaXZlclR5cGU6ICdGb2N1c2VyJywKICAgICAgICB0eXBlOiAnRm9jdXNlcnMnLAogICAgICAgIExpc3ROdW06ICIyMiIsCiAgICAgICAgaXNnZXQ6IGZhbHNlLAogICAgICAgIGRldmljZTogJycsCiAgICAgICAgQmF1ZFJhdGU6IDk2MDAsCiAgICAgICAgZHJpdmVyTmFtZTogJycsCiAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLAogICAgICAgIGRpYWxvZ1N0YXRlVmFyOiAnc2hvd0RldmljZVNldHRpbmdzRGlhbG9nX0ZvY3VzZXInCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn55S15a2Q5p6B6L206ZWcJywKICAgICAgICBkcml2ZXJUeXBlOiAnUG9sZUNhbWVyYScsCiAgICAgICAgdHlwZTogJ0NDRHMnLAogICAgICAgIExpc3ROdW06ICIyIiwKICAgICAgICBpc2dldDogZmFsc2UsCiAgICAgICAgZGV2aWNlOiAnJywKICAgICAgICBCYXVkUmF0ZTogOTYwMCwKICAgICAgICBkcml2ZXJOYW1lOiAnJywKICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsCiAgICAgICAgZGlhbG9nU3RhdGVWYXI6ICdzaG93RGV2aWNlU2V0dGluZ3NEaWFsb2dfUG9sZUNhbWVyYScKICAgICAgfSwgewogICAgICAgIG5hbWU6ICfmu6TplZzova4nLAogICAgICAgIGRyaXZlclR5cGU6ICdDRlcnLAogICAgICAgIHR5cGU6ICdGaWx0ZXIgV2hlZWxzJywKICAgICAgICBMaXN0TnVtOiAiMjEiLAogICAgICAgIGlzZ2V0OiBmYWxzZSwKICAgICAgICBkZXZpY2U6ICcnLAogICAgICAgIEJhdWRSYXRlOiA5NjAwLAogICAgICAgIGRyaXZlck5hbWU6ICcnLAogICAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSwKICAgICAgICBkaWFsb2dTdGF0ZVZhcjogJ3Nob3dEZXZpY2VTZXR0aW5nc0RpYWxvZ19DRlcnCiAgICAgIH1dLAogICAgICAvLyBDaGFuZ2luZyB0aGUgbGFiZWwgbmFtZSBhbHNvIHJlcXVpcmVzIGNoYW5naW5nIHRoZSBlbWl0IHNpZ25hbCBuYW1lCiAgICAgIEd1aWRlckNvbmZpZ0l0ZW1zOiBbewogICAgICAgIGRyaXZlclR5cGU6ICdHdWlkZXInLAogICAgICAgIGxhYmVsOiAnR3VpZGVyIEZvY2FsIExlbmd0aCAobW0pJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAndGV4dCcKICAgICAgfSwgewogICAgICAgIGRyaXZlclR5cGU6ICdHdWlkZXInLAogICAgICAgIGxhYmVsOiAnTXVsdGkgU3RhciBHdWlkZXInLAogICAgICAgIHZhbHVlOiBmYWxzZSwKICAgICAgICBpbnB1dFR5cGU6ICdzd2l0Y2gnCiAgICAgIH0sIC8vIHsgZHJpdmVyVHlwZTogJ0d1aWRlcicsIGxhYmVsOiAnR3VpZGVyIFBpeGVsIHNpemUnLCB2YWx1ZTogJycsIGlucHV0VHlwZTogJ3RleHQnfSwKICAgICAgewogICAgICAgIGRyaXZlclR5cGU6ICdHdWlkZXInLAogICAgICAgIGxhYmVsOiAnR3VpZGVyIEdhaW4nLAogICAgICAgIHZhbHVlOiAnJywKICAgICAgICBpbnB1dFR5cGU6ICdzbGlkZXInLAogICAgICAgIGlucHV0TWluOiAwLAogICAgICAgIGlucHV0TWF4OiAxMDAsCiAgICAgICAgaW5wdXRTdGVwOiAxCiAgICAgIH0sIHsKICAgICAgICBkcml2ZXJUeXBlOiAnR3VpZGVyJywKICAgICAgICBsYWJlbDogJ0NhbGlicmF0aW9uIHN0ZXAgKG1zKScsCiAgICAgICAgdmFsdWU6ICcnLAogICAgICAgIGlucHV0VHlwZTogJ3RleHQnCiAgICAgIH0sIHsKICAgICAgICBkcml2ZXJUeXBlOiAnR3VpZGVyJywKICAgICAgICBsYWJlbDogJ1JhIEFnZ3Jlc3Npb24nLAogICAgICAgIHZhbHVlOiAnJywKICAgICAgICBpbnB1dFR5cGU6ICdzbGlkZXInLAogICAgICAgIGlucHV0TWluOiAwLAogICAgICAgIGlucHV0TWF4OiAxMDAsCiAgICAgICAgaW5wdXRTdGVwOiAxCiAgICAgIH0sIHsKICAgICAgICBkcml2ZXJUeXBlOiAnR3VpZGVyJywKICAgICAgICBsYWJlbDogJ0RlYyBBZ2dyZXNzaW9uJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAnc2xpZGVyJywKICAgICAgICBpbnB1dE1pbjogMCwKICAgICAgICBpbnB1dE1heDogMTAwLAogICAgICAgIGlucHV0U3RlcDogMQogICAgICB9XSwKICAgICAgTWFpbkNhbWVyYUNvbmZpZ0l0ZW1zOiBbLy8gdnVl5aSE55CG5Y+C5pWwCiAgICAgIHsKICAgICAgICBkcml2ZXJUeXBlOiAnTWFpbkNhbWVyYScsCiAgICAgICAgbGFiZWw6ICdJbWFnZUdhaW5SJywKICAgICAgICB2YWx1ZTogJzEnLAogICAgICAgIGlucHV0VHlwZTogJ3NsaWRlcicsCiAgICAgICAgaW5wdXRNaW46IDAsCiAgICAgICAgaW5wdXRNYXg6IDMsCiAgICAgICAgaW5wdXRTdGVwOiAwLjAxCiAgICAgIH0sIHsKICAgICAgICBkcml2ZXJUeXBlOiAnTWFpbkNhbWVyYScsCiAgICAgICAgbGFiZWw6ICdJbWFnZUdhaW5CJywKICAgICAgICB2YWx1ZTogJzEnLAogICAgICAgIGlucHV0VHlwZTogJ3NsaWRlcicsCiAgICAgICAgaW5wdXRNaW46IDAsCiAgICAgICAgaW5wdXRNYXg6IDMsCiAgICAgICAgaW5wdXRTdGVwOiAwLjAxCiAgICAgIH0sIHsKICAgICAgICBkcml2ZXJUeXBlOiAnTWFpbkNhbWVyYScsCiAgICAgICAgbGFiZWw6ICdJbWFnZU9mZnNldCcsCiAgICAgICAgdmFsdWU6ICcnLAogICAgICAgIGlucHV0VHlwZTogJ3NsaWRlcicsCiAgICAgICAgaW5wdXRNaW46IDAsCiAgICAgICAgaW5wdXRNYXg6IDI1NSwKICAgICAgICBpbnB1dFN0ZXA6IDAuMQogICAgICB9LCB7CiAgICAgICAgZHJpdmVyVHlwZTogJ01haW5DYW1lcmEnLAogICAgICAgIGxhYmVsOiAnSW1hZ2VDRkEnLAogICAgICAgIHZhbHVlOiAnJywKICAgICAgICBpbnB1dFR5cGU6ICdzZWxlY3QnLAogICAgICAgIHNlbGVjdFZhbHVlOiBbJ0dSJywgJ0dCJywgJ0JHJywgJ1JHR0InXQogICAgICB9LCAvLyDnoazku7blpITnkIblj4LmlbAKICAgICAgewogICAgICAgIGRyaXZlclR5cGU6ICdNYWluQ2FtZXJhJywKICAgICAgICBsYWJlbDogJ0Jpbm5pbmcnLAogICAgICAgIHZhbHVlOiAnJywKICAgICAgICBpbnB1dFR5cGU6ICdzbGlkZXInLAogICAgICAgIGlucHV0TWluOiAxLAogICAgICAgIGlucHV0TWF4OiA0LAogICAgICAgIGlucHV0U3RlcDogMQogICAgICB9LCB7CiAgICAgICAgZHJpdmVyVHlwZTogJ01haW5DYW1lcmEnLAogICAgICAgIGxhYmVsOiAnVGVtcGVyYXR1cmUnLAogICAgICAgIHZhbHVlOiAnJywKICAgICAgICBpbnB1dFR5cGU6ICdzbGlkZXInLAogICAgICAgIGlucHV0TWluOiAtNTAsCiAgICAgICAgaW5wdXRNYXg6IDMwLAogICAgICAgIGlucHV0U3RlcDogMQogICAgICB9LCB7CiAgICAgICAgZHJpdmVyVHlwZTogJ01haW5DYW1lcmEnLAogICAgICAgIGxhYmVsOiAnR2FpbicsCiAgICAgICAgdmFsdWU6ICcnLAogICAgICAgIGlucHV0VHlwZTogJ3NsaWRlcicsCiAgICAgICAgaW5wdXRNaW46IDAsCiAgICAgICAgaW5wdXRNYXg6IDAsCiAgICAgICAgaW5wdXRTdGVwOiAxCiAgICAgIH0sIHsKICAgICAgICBkcml2ZXJUeXBlOiAnTWFpbkNhbWVyYScsCiAgICAgICAgbGFiZWw6ICdPZmZzZXQnLAogICAgICAgIHZhbHVlOiAnJywKICAgICAgICBpbnB1dFR5cGU6ICdzbGlkZXInLAogICAgICAgIGlucHV0TWluOiAwLAogICAgICAgIGlucHV0TWF4OiAwLAogICAgICAgIGlucHV0U3RlcDogMQogICAgICB9LCAvLyB7IGRyaXZlclR5cGU6ICdNYWluQ2FtZXJhJywgbGFiZWw6ICdSZWRCb3ggU2lkZSBMZW5ndGggKHB4KScsIHZhbHVlOiAnJywgaW5wdXRUeXBlOiAndGV4dCcgfSwKICAgICAgewogICAgICAgIGRyaXZlclR5cGU6ICdNYWluQ2FtZXJhJywKICAgICAgICBsYWJlbDogJ0V4cFRpbWUgWzFdJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAndGV4dCcKICAgICAgfSwgewogICAgICAgIGRyaXZlclR5cGU6ICdNYWluQ2FtZXJhJywKICAgICAgICBsYWJlbDogJ0V4cFRpbWUgWzJdJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAndGV4dCcKICAgICAgfSwgewogICAgICAgIGRyaXZlclR5cGU6ICdNYWluQ2FtZXJhJywKICAgICAgICBsYWJlbDogJ0V4cFRpbWUgWzNdJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAndGV4dCcKICAgICAgfSwgewogICAgICAgIGRyaXZlclR5cGU6ICdNYWluQ2FtZXJhJywKICAgICAgICBsYWJlbDogJ0V4cFRpbWUgWzRdJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAndGV4dCcKICAgICAgfSwgewogICAgICAgIGRyaXZlclR5cGU6ICdNYWluQ2FtZXJhJywKICAgICAgICBsYWJlbDogJ0V4cFRpbWUgWzVdJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAndGV4dCcKICAgICAgfSwgewogICAgICAgIGRyaXZlclR5cGU6ICdNYWluQ2FtZXJhJywKICAgICAgICBsYWJlbDogJ0V4cFRpbWUgWzZdJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAndGV4dCcKICAgICAgfSwgewogICAgICAgIGRyaXZlclR5cGU6ICdNYWluQ2FtZXJhJywKICAgICAgICBsYWJlbDogJ0V4cFRpbWUgWzddJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAndGV4dCcKICAgICAgfSwgewogICAgICAgIGRyaXZlclR5cGU6ICdNYWluQ2FtZXJhJywKICAgICAgICBsYWJlbDogJ0V4cFRpbWUgWzhdJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAndGV4dCcKICAgICAgfSwgewogICAgICAgIGRyaXZlclR5cGU6ICdNYWluQ2FtZXJhJywKICAgICAgICBsYWJlbDogJ0V4cFRpbWUgWzldJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAndGV4dCcKICAgICAgfSAvLyDlnKjov5nph4zmt7vliqDmm7TlpJrnmoTphY3nva7pobkKICAgICAgXSwKICAgICAgTW91bnRDb25maWdJdGVtczogW10sCiAgICAgIFRlbGVzY29wZXNDb25maWdJdGVtczogW3sKICAgICAgICBkcml2ZXJUeXBlOiAnVGVsZXNjb3BlcycsCiAgICAgICAgbnVtOiAxLAogICAgICAgIGxhYmVsOiAnRm9jYWwgTGVuZ3RoIChtbSknLAogICAgICAgIHZhbHVlOiAnJywKICAgICAgICBpbnB1dFR5cGU6ICd0ZXh0JwogICAgICB9XSwKICAgICAgRm9jdXNlckNvbmZpZ0l0ZW1zOiBbLy8geyBkcml2ZXJUeXBlOiAnRm9jdXNlcicsIG51bTogMSwgbGFiZWw6ICdSZWRCb3ggU2lkZSBMZW5ndGggKHB4KScsIHZhbHVlOiAnJywgaW5wdXRUeXBlOiAndGV4dCd9LAogICAgICB7CiAgICAgICAgZHJpdmVyVHlwZTogJ0ZvY3VzZXInLAogICAgICAgIG51bTogMiwKICAgICAgICBsYWJlbDogJ01pbiBTdGVwJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAndGV4dCcKICAgICAgfSwgewogICAgICAgIGRyaXZlclR5cGU6ICdGb2N1c2VyJywKICAgICAgICBudW06IDIsCiAgICAgICAgbGFiZWw6ICdTeW5jIEZvY3VzZXIgU3RlcCcsCiAgICAgICAgdmFsdWU6ICcnLAogICAgICAgIGlucHV0VHlwZTogJ3RleHQnCiAgICAgIH1dLAogICAgICBQb2xlQ2FtZXJhQ29uZmlnSXRlbXM6IFtdLAogICAgICBDRldDb25maWdJdGVtczogW10sCiAgICAgIEJlZm9yZUNoYW5nZUNvbmZpZ0l0ZW1zOiBbXSwKICAgICAgaW1hZ2VEYXRhOiBudWxsLAogICAgICBoaXN0b2dyYW1JbWFnZTogbnVsbCwKICAgICAgaGlzdG9ncmFtX21pbjogMCwKICAgICAgLy8g55u05pa55Zu+6Ieq5Yqo5ouJ5Ly455qE5pyA5bCP5YC8CiAgICAgIGhpc3RvZ3JhbV9tYXg6IDI1NSwKICAgICAgLy8g55u05pa55Zu+6Ieq5Yqo5ouJ5Ly455qE5pyA5aSn5YC8CiAgICAgIGN1cnJlbnRIaXN0b2dyYW1NaW46IDAsCiAgICAgIGN1cnJlbnRIaXN0b2dyYW1NYXg6IDI1NSwKICAgICAgSW1hZ2VHYWluUjogMSwKICAgICAgSW1hZ2VHYWluQjogMSwKICAgICAgSW1hZ2VPZmZzZXQ6IDAsCiAgICAgIEltYWdlQ0ZBOiAnQkcnLAogICAgICBDYW52YXNXaWR0aDogMTkyMCwKICAgICAgLy8g5Li755S75biD5a695bqmCiAgICAgIENhbnZhc0hlaWdodDogMTA4MCwKICAgICAgLy8g5Li755S75biD6auY5bqmCiAgICAgIHNjYWxlOiAxLAogICAgICAvLyDnvKnmlL7mr5TkvosKICAgICAgdHJhbnNsYXRlWDogMCwKICAgICAgLy8g5bmz56e7eOWdkOaghwogICAgICB0cmFuc2xhdGVZOiAwLAogICAgICAvLyDlubPnp7t55Z2Q5qCHCiAgICAgIGJ1ZmZlckNhbnZhczogbnVsbCwKICAgICAgLy8g5a2Y5YKo55S75biDCiAgICAgIGJ1ZmZlckN0eDogbnVsbCwKICAgICAgLy8g5a2Y5YKo55S75biD5LiK5LiL5paHCiAgICAgIHRlbXBDYW52YXM6IG51bGwsCiAgICAgIC8vIOS4tOaXtueUu+W4gwogICAgICB0ZW1wQ3R4OiBudWxsLAogICAgICAvLyDkuLTml7bnlLvluIPkuIrkuIvmlocKICAgICAgdmlzaWJsZVdpZHRoOiAwLAogICAgICAvLyDlj6/op4HljLrln5/lrr3luqYKICAgICAgdmlzaWJsZUhlaWdodDogMCwKICAgICAgLy8g5Y+v6KeB5Yy65Z+f6auY5bqmCiAgICAgIHZpc2libGVYOiAwLAogICAgICAvLyDlj6/op4HljLrln5945Z2Q5qCHCiAgICAgIHZpc2libGVZOiAwLAogICAgICAvLyDlj6/op4HljLrln5955Z2Q5qCHCiAgICAgIGlzRHJhZ2dpbmc6IGZhbHNlLAogICAgICAvLyDmoIforrDnlLvluIPmmK/lkKbmraPlnKjmi5bliqgKICAgICAgcGVuZGluZ1NjYWxlQ2hhbmdlOiBmYWxzZSwKICAgICAgLy8g5qCH6K6w55S75biD5piv5ZCm5q2j5Zyo57yp5pS+CiAgICAgIHRvdWNoU3RhcnRYOiAwLAogICAgICAvLyDop6bmkbjlvIDlp4t45Z2Q5qCHCiAgICAgIHRvdWNoU3RhcnRZOiAwLAogICAgICAvLyDop6bmkbjlvIDlp4t55Z2Q5qCHCiAgICAgIHN0YXJ0RGlzdGFuY2U6IDAsCiAgICAgIC8vIOinpuaRuOW8gOWni+i3neemuwogICAgICBtb3ZlSW50ZXJ2YWxJZDogbnVsbCwKICAgICAgLy8g5ouW5Yqo5a6a5pe25ZmoCiAgICAgIHpvb21JbnRlcnZhbElkOiBudWxsLAogICAgICAvLyDnvKnmlL7lrprml7blmagKICAgICAgaW1hZ2VXaWR0aDogMCwKICAgICAgLy8g5Zu+5YOP5a695bqmCiAgICAgIGltYWdlSGVpZ2h0OiAwLAogICAgICAvLyDlm77lg4/pq5jluqYKICAgICAgZHJhd0ltZ0RhdGE6IG51bGwsCiAgICAgIE9yaWdpbmFsSW1hZ2U6IG51bGwsCiAgICAgIGRldGVjdFN0YXJzSW1nOiBudWxsLAogICAgICBpc05vdERyYXdTdGFyczogdHJ1ZSwKICAgICAgbWFpbkNhbWVyYVNpemVYOiAwLAogICAgICBtYWluQ2FtZXJhU2l6ZVk6IDAsCiAgICAgIEltYWdlUHJvcG9ydGlvbjogMCwKICAgICAgRGV0ZWN0ZWRTdGFyc0xpc3Q6IFtdLAogICAgICBEZXRlY3RlZFN0YXJzRmluaXNoOiBmYWxzZSwKICAgICAgQ2FydGVzaWFuTGlzdDogW10sCiAgICAgIFBvbGFyUG9pbnRfQWx0aXR1ZGU6IDAsCiAgICAgIExhc3RQb2ludF9BekFsdDogbnVsbCwKICAgICAgTWFya0NpcmNsZU51bTogMCwKICAgICAgTGFzdENpcmNsZV9SYURlYzogbnVsbCwKICAgICAgTGFzdENpcmNsZV9BekFsdDogbnVsbCwKICAgICAgQ2lyY2xlczogW10sCiAgICAgIGRyYXdlcl8yOiBudWxsLAogICAgICAvLyDorr7nva7kvqfovrnmoI/nmoTmmL7npLrkuI7pmpDol48KICAgICAgZHJpdmVyczogW10sCiAgICAgIC8vIOmpseWKqOmAiemhueaVsOe7hAogICAgICBzZWxlY3RlZERyaXZlcjogbnVsbCwKICAgICAgLy8g6YCJ5Lit55qE6amx5YqoCiAgICAgIGRldmljZXNMaXN0OiBbXSwKICAgICAgLy8g6K6+5aSH6YCJ6aG55pWw57uECiAgICAgIHNlbGVjdGVkRGV2aWNlOiBudWxsLAogICAgICAvLyDpgInkuK3nmoTorr7lpIcKICAgICAgVG9CZUNvbm5lY3REZXZpY2U6IFtdLAogICAgICBsb2FkaW5nU2VsZWN0RHJpdmVyOiBmYWxzZSwKICAgICAgbG9hZGluZ0Nvbm5lY3RBbGxEZXZpY2U6IGZhbHNlLAogICAgICBDdXJyZW50TG9jYXRpb25Mbmc6IDAsCiAgICAgIEN1cnJlbnRMb2NhdGlvbkxhdDogMCwKICAgICAgaGlzdG9ncmFtRGF0YTogW10sCiAgICAgIEltYWdlQXJyYXlCdWZmZXI6IG51bGwsCiAgICAgIGlzT3BlbkRldmljZVBhZ2U6IGZhbHNlLAogICAgICAvLyDorr7nva7orr7lpIfpobXpnaLmmK/lkKbmiZPlvIAKICAgICAgaXNPcGVuUG93ZXJQYWdlOiBmYWxzZSwKICAgICAgLy8g6K6+572u55S15rqQ6aG16Z2i5piv5ZCm5omT5byACiAgICAgIE91dFB1dFBvd2VyXzFfT046IHRydWUsCiAgICAgIE91dFB1dFBvd2VyXzJfT046IGZhbHNlLAogICAgICBpc1BvbGFyQXhpc01vZGU6IGZhbHNlLAogICAgICBpc1RvdWNoaW5nOiBmYWxzZSwKICAgICAgLy8g5qCH6K6w5piv5ZCm5q2j5Zyo5aSE55CG6Kem5pG45LqL5Lu2CiAgICAgIENvbm5lY3RCdG5QcmVzc1RpbWVyOiBudWxsLAogICAgICBDb25uZWN0QnRubG9uZ1ByZXNzVGhyZXNob2xkOiAxMDAwLAogICAgICBpc0Nvbm5lY3RCdG5Mb25nUHJlc3M6IGZhbHNlLAogICAgICAvLyDmoIforrDmmK/lkKbkuLrplb/mjIkKICAgICAgQ29ubmVjdEJ0bkNhbkNsaWNrOiB0cnVlLAogICAgICBoYXZlRGV2aWNlQ29ubmVjdDogZmFsc2UsCiAgICAgIGlzQ29ubmVjdGluZzogZmFsc2UsCiAgICAgIC8vIOa3u+WKoOi/nuaOpeeKtuaAgQogICAgICBkaXNjb25uZWN0VGltZW91dFRyaWdnZXJlZDogZmFsc2UsCiAgICAgIGRpc2Nvbm5lY3RUaW1lb3V0OiBudWxsLAogICAgICBpc0Rvd25sb2FkaW5nSW1hZ2U6IGZhbHNlLAogICAgICBpc0Rvd25sb2FkaW5nSW1hZ2VOYW1lOiAnJywKICAgICAgaXNXYWl0aW5nTG9nZ2VkOiBmYWxzZSwKICAgICAgLy8g5re75Yqg562J5b6F5pel5b+X5qCH5b+XCiAgICAgIHNob3dEaXNjb25uZWN0RGlhbG9nOiBmYWxzZSwKICAgICAgY3VycmVudERpc2Nvbm5lY3REcml2ZXJOYW1lOiAnJywKICAgICAgZW5hYmxlTWFpbkNhbnZhc0NsaWNrOiBmYWxzZSwKICAgICAgLy8g5o6n5Yi255S75biD5piv5ZCm5Y+v5Lul54K55Ye777yM55So5p2l56e75Yqo6LCD54Sm6YCJ5oup5qGG5ZKM6YCJ5pifCiAgICAgIGxhc3RJbWFnZVByb2Nlc3NQYXJhbXM6IHsKICAgICAgICAvLyDmnIDlkI7lpITnkIblm77lg4/nmoTlj4LmlbAKICAgICAgICBnYWluUjogMSwKICAgICAgICBnYWluQjogMSwKICAgICAgICBvZmZzZXQ6IDAsCiAgICAgICAgQ0ZBOiAnQkcnLAogICAgICAgIG1vZGU6IDEsCiAgICAgICAgQjogMCwKICAgICAgICBXOiA2NTUzNSwKICAgICAgICBjdm1vZGU6IDAKICAgICAgfSwKICAgICAgZm9jdXNlclBpY3R1cmVGaWxlTmFtZTogJycsCiAgICAgIC8vIOeEpui3neWbvueJh+aWh+S7tuWQjQogICAgICBpc1Byb2Nlc3NpbmdJbWFnZTogZmFsc2UsCiAgICAgIC8vIOaOp+WItuaYr+WQpuato+WcqOWkhOeQhuWbvuWDjwogICAgICBpc0ZvY3VzTG9vcFNob290aW5nOiBmYWxzZSwKICAgICAgLy8g5o6n5Yi25piv5ZCm6L+b6KGMUk9p5b6q546v5ouN5pGECiAgICAgIC8vIGZvY3VzZXJST0lTdGFyc0xpc3Q6IFtdLCAgLy8g55So5p2l5L+d5a2YUk9J5Yy65Z+f55qE5pif54K55YiX6KGo77yM5YiG5Yir5L+d5a2YeCx5LEhGUgogICAgICBzZWxlY3RTdGFyWDogLTEsCiAgICAgIHNlbGVjdFN0YXJZOiAtMSwKICAgICAgRHJhd1NlbGVjdFN0YXJYOiAtMSwKICAgICAgRHJhd1NlbGVjdFN0YXJZOiAtMSwKICAgICAgRHJhd1NlbGVjdFN0YXJIRlI6IC0xLAogICAgICBST0lfeDogLTEsCiAgICAgIC8vIOeUqOadpeS/neWtmFJPSeWMuuWfn+eahHjlnZDmoIcKICAgICAgUk9JX3k6IC0xLAogICAgICAvLyDnlKjmnaXkv53lrZhST0nljLrln5/nmoR55Z2Q5qCHCiAgICAgIFJPSV9sZW5ndGg6IDMwMCwKICAgICAgLy8g55So5p2l5L+d5a2YUk9J5Yy65Z+f55qE6ZW/5bqmCiAgICAgIHNob3dTZWxlY3RTdGFyOiBmYWxzZSwKICAgICAgaXNPbmVUb3VjaDogZmFsc2UsCiAgICAgIGN1cnJlbnRUb3VjaFg6IFswLCAwXSwKICAgICAgY3VycmVudFRvdWNoWTogWzAsIDBdLAogICAgICBzdGFydFRvdWNoWDogWzAsIDBdLAogICAgICBzdGFydFRvdWNoWTogWzAsIDBdLAogICAgICBzdGFydFRvdWNoRGlzdGFuY2U6IDAsCiAgICAgIC8vIOWumuS5ieazoueJueeOh+mAiemhuQogICAgICBCYXVkUmF0ZUl0ZW1zOiBbewogICAgICAgIGxhYmVsOiAnOTYwMCcsCiAgICAgICAgdmFsdWU6IDk2MDAKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAnMTkyMDAnLAogICAgICAgIHZhbHVlOiAxOTIwMAogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICczODQwMCcsCiAgICAgICAgdmFsdWU6IDM4NDAwCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJzU3NjAwJywKICAgICAgICB2YWx1ZTogNTc2MDAKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAnMTE1MjAwJywKICAgICAgICB2YWx1ZTogMTE1MjAwCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJzIzMDQwMCcsCiAgICAgICAgdmFsdWU6IDIzMDQwMAogICAgICB9XSwKICAgICAgQmF1ZFJhdGVTZWxlY3RlZDogOTYwMCwKICAgICAgLy8g5rOi54m5546H6YCJ5oupCiAgICAgIGNwdVRlbXA6IG51bGwsCiAgICAgIC8vIENQVea4qeW6pgogICAgICBjcHVVc2FnZTogbnVsbCAvLyBDUFXkvb/nlKjnjocKCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgR3VpOiBHdWksCiAgICBHdWlMb2FkZXI6IEd1aUxvYWRlciAvLyBNZXNzYWdlQm94LAoKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiRidXMuJG9uKCdBcHBTZW5kTWVzc2FnZScsIHRoaXMuc2VuZE1lc3NhZ2UpOwogICAgdGhpcy4kYnVzLiRvbignQXBwVXBkYXRlRGV2aWNlcycsIHRoaXMudXBkYXRlRGV2aWNlcyk7CiAgICB0aGlzLiRidXMuJG9uKCdTd2l0Y2gtTWFpblBhZ2UnLCB0aGlzLmhhbmRsZUJ1dHRvblRlc3RDbGljayk7CiAgICB0aGlzLiRidXMuJG9uKCdBdXRvSGlzdG9ncmFtTnVtJywgdGhpcy5zZXRBdXRvSGlzdG9ncmFtTnVtKTsKICAgIHRoaXMuJGJ1cy4kb24oJ0hhbmRsZUhpc3RvZ3JhbU51bScsIHRoaXMuYXBwbHlIaXN0U3RyZXRjaCk7CiAgICB0aGlzLiRidXMuJG9uKCdJbWFnZUdhaW5SJywgdGhpcy5JbWFnZUdhaW5TZXQpOwogICAgdGhpcy4kYnVzLiRvbignSW1hZ2VHYWluQicsIHRoaXMuSW1hZ2VHYWluU2V0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ09mZnNldCcsIHRoaXMuSW1hZ2VPZmZzZXRTZXQpOwogICAgdGhpcy4kYnVzLiRvbignQmlubmluZycsIHRoaXMuQmlubmluZ1NldCk7CiAgICB0aGlzLiRidXMuJG9uKCdHYWluJywgdGhpcy5HYWluU2V0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ09mZnNldCcsIHRoaXMuT2Zmc2V0U2V0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ0ltYWdlQ0ZBJywgdGhpcy5JbWFnZUNGQVNldCk7CiAgICB0aGlzLiRidXMuJG9uKCdUZW1wZXJhdHVyZScsIHRoaXMuQ2FtZXJhVGVtcGVyYXR1cmVTZXQpOwogICAgdGhpcy4kYnVzLiRvbignRm9jYWwgTGVuZ3RoIChtbSknLCB0aGlzLkZvY2FsTGVuZ3RoU2V0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ0d1aWRlciBGb2NhbCBMZW5ndGggKG1tKScsIHRoaXMuR3VpZGVyRm9jYWxMZW5ndGhTZXQpOwogICAgdGhpcy4kYnVzLiRvbignTXVsdGkgU3RhciBHdWlkZXInLCB0aGlzLk11bHRpU3Rhckd1aWRlclNldCk7CiAgICB0aGlzLiRidXMuJG9uKCdHdWlkZXIgUGl4ZWwgc2l6ZScsIHRoaXMuR3VpZGVyUGl4ZWxTaXplU2V0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ0d1aWRlciBHYWluJywgdGhpcy5HdWlkZXJHYWluU2V0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ0NhbGlicmF0aW9uIHN0ZXAgKG1zKScsIHRoaXMuQ2FsaWJyYXRpb25EdXJhdGlvblNldCk7CiAgICB0aGlzLiRidXMuJG9uKCdSYSBBZ2dyZXNzaW9uJywgdGhpcy5SYUFnZ3Jlc3Npb25TZXQpOwogICAgdGhpcy4kYnVzLiRvbignRGVjIEFnZ3Jlc3Npb24nLCB0aGlzLkRlY0FnZ3Jlc3Npb25TZXQpOwogICAgdGhpcy4kYnVzLiRvbignU3luYyBGb2N1c2VyIFN0ZXAnLCB0aGlzLlN5bmNGb2N1c2VyU3RlcCk7CiAgICB0aGlzLiRidXMuJG9uKCdJbWFnZVByb3BvcnRpb24nLCB0aGlzLnNldEltYWdlUHJvcG9ydGlvbik7CiAgICB0aGlzLiRidXMuJG9uKCdNb3VudEdvdG8nLCB0aGlzLmxvb2thdGNpcmNsZSk7CiAgICB0aGlzLiRidXMuJG9uKCdTd2l0Y2hJbWFnZVRvU2hvdycsIHRoaXMuU3dpdGNoSW1hZ2VUb1Nob3cpOwogICAgdGhpcy4kYnVzLiRvbignUG9sYXJQb2ludEFsdGl0dWRlJywgdGhpcy5zZXRQb2xhclBvaW50QWx0aXR1ZGUpOwogICAgdGhpcy4kYnVzLiRvbignc2hvd1N0ZWxDYW52YXMnLCB0aGlzLnNob3dTdGVsQ2FudmFzKTsKICAgIHRoaXMuJGJ1cy4kb24oJ1JlY2FsaWJyYXRlUG9sYXJBeGlzJywgdGhpcy5SZWNhbGlicmF0ZVBvbGFyQXhpcyk7CiAgICB0aGlzLiRidXMuJG9uKCdDdXJyZW50RXhwVGltZUxpc3QnLCB0aGlzLkN1cnJlbnRFeHBUaW1lTGlzdCk7CiAgICB0aGlzLiRidXMuJG9uKCdkaXNjb25uZWN0QWxsRGV2aWNlJywgdGhpcy5kaXNjb25uZWN0QWxsRGV2aWNlKTsKICAgIHRoaXMuJGJ1cy4kb24oJ0dldENvbm5lY3RlZERldmljZXMnLCB0aGlzLlJldHVybkNvbm5lY3RlZERldmljZXMpOwogICAgdGhpcy4kYnVzLiRvbignQ3VycmVudENGV0xpc3QnLCB0aGlzLkN1cnJlbnRDRldMaXN0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ2NhbGNXaGl0ZUJhbGFuY2VHYWlucycsIHRoaXMuY2FsY1doaXRlQmFsYW5jZUdhaW5zKTsKICAgIHRoaXMuJGJ1cy4kb24oJ1N3aXRjaE91dFB1dFBvd2VyJywgdGhpcy5Td2l0Y2hPdXRQdXRQb3dlcik7CiAgICB0aGlzLiRidXMuJG9uKCdQb2xhckF4aXNNb2RlJywgdGhpcy5Qb2xhckF4aXNNb2RlKTsKICAgIHRoaXMuJGJ1cy4kb24oJ1NlbmRDb25zb2xlTG9nTXNnJywgdGhpcy5TZW5kQ29uc29sZUxvZ01zZyk7IC8vIHRoaXMuJGJ1cy4kb24oJ0Rpc2Nvbm5lY3REcml2ZXJTdWNjZXNzJywgdGhpcy5kaXNjb25uZWN0RHJpdmVyc3VjY2Vzcyk7CgogICAgdGhpcy4kYnVzLiRvbignVW5CaW5kaW5nRGV2aWNlJywgdGhpcy5VbkJpbmRpbmdEZXZpY2UpOwogICAgdGhpcy4kYnVzLiRvbignQ2xvc2VXZWJWaWV3JywgdGhpcy5RdWl0VG9NYWluQXBwKTsKICAgIHRoaXMuJGJ1cy4kb24oJ1JlZEJveFNpemVDaGFuZ2UnLCB0aGlzLlJlZEJveFNpemVDaGFuZ2UpOwogICAgdGhpcy4kYnVzLiRvbignc2V0Rm9jdXNlclN0YXRlJywgdGhpcy5zZXRGb2N1c2VyU3RhdGUpOyAvLyDorr7nva7osIPnhKbnirbmgIHlkozov5vluqYKCiAgICB0aGlzLiRidXMuJG9uKCdzZXRTaG93U2VsZWN0U3RhcicsIHRoaXMuc2V0U2hvd1NlbGVjdFN0YXIpOyAvLyDorr7nva7mmK/lkKbmmL7npLrpgInmi6nmmJ/ngrkKCiAgICB0aGlzLiRidXMuJG9uKCdTY2FsZUNoYW5nZScsIHRoaXMuU2NhbGVDaGFuZ2UpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TG9jYXRpb25Ib3N0TmFtZTogZnVuY3Rpb24gZ2V0TG9jYXRpb25Ib3N0TmFtZSgpIHsKICAgICAgdmFyIGhvc3RuYW1lID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lOwogICAgICB2YXIgcHJvdG9jb2wgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonID8gJ3dzczonIDogJ3dzOic7CiAgICAgIHZhciBwb3J0ID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6JyA/ICc4NjAxJyA6ICc4NjAwJzsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnbG9jYXRpb24gaG9zdG5hbWU6JyArIGhvc3RuYW1lLCAnaW5mbycpOwogICAgICB0aGlzLldlYlNvY2tldFVybCA9ICIiLmNvbmNhdChwcm90b2NvbCwgIi8vIikuY29uY2F0KGhvc3RuYW1lLCAiOiIpLmNvbmNhdChwb3J0KTsKICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldFVybDonLCB0aGlzLldlYlNvY2tldFVybCk7CiAgICB9LAogICAgZ2V0UVRDbGllbnRWZXJzaW9uOiBmdW5jdGlvbiBnZXRRVENsaWVudFZlcnNpb24oKSB7CiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2dldFFUQ2xpZW50VmVyc2lvbicpOwogICAgfSwKICAgIGNvbm5lY3Q6IGZ1bmN0aW9uIGNvbm5lY3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyDmm7/mjaLkuLrkvaDnmoQgV2ViU29ja2V0IOacjeWKoeWZqOWcsOWdgAogICAgICAvLyB0aGlzLndlYnNvY2tldCA9IG5ldyBXZWJTb2NrZXQoJ3dzOi8vMTkyLjE2OC4yLjMxOjg2MDAnKTsgIC8vIHByb2Nlc3MuZW52LlZVRV9BUFBfV0VCU09DS0VUCiAgICAgIC8vIHRoaXMud2Vic29ja2V0ID0gbmV3IFdlYlNvY2tldChwcm9jZXNzLmVudi5WVUVfQVBQX1dFQlNPQ0tFVCk7CiAgICAgIHZhciB3c09wdGlvbnMgPSB7CiAgICAgICAgcmVqZWN0VW5hdXRob3JpemVkOiBmYWxzZSAvLyDnpoHnlKjor4Hkuabpqozor4EKCiAgICAgIH07CiAgICAgIHRoaXMud2Vic29ja2V0ID0gbmV3IFdlYlNvY2tldCh0aGlzLldlYlNvY2tldFVybCwgW10sIHdzT3B0aW9ucyk7CgogICAgICB0aGlzLndlYnNvY2tldC5vbm9wZW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMud2Vic29ja2V0U3RhdGUgPSAnY29ubmVjdGVkJzsKICAgICAgICBfdGhpcy5uZXR3b3JrRGlzY29ubmVjdGVkID0gZmFsc2U7IC8vIFdlYlNvY2tldOi/nuaOpeaIkOWKn+aXtumHjee9rue9kee7nOi/nuaOpeeKtuaAgQoKICAgICAgICBpZiAoX3RoaXMuZGlzY29ubmVjdFRpbWVvdXRUcmlnZ2VyZWQpIHsKICAgICAgICAgIF90aGlzLmNhbGxTaG93TWVzc2FnZUJveCgnV2ViU29ja2V0IGNvbm5lY3RlZCcsICdzdWNjZXNzJyk7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdTaG93TmV0U3RhdHVzJywgJ3RydWUnKTsKCiAgICAgICAgX3RoaXMuU3RhdHVzUmVjb3ZlcnkoKTsKCiAgICAgICAgY29uc29sZS5sb2coJ3Byb2Nlc3MuZW52Lk5PREVfRU5WOicsIHByb2Nlc3MuZW52Lk5PREVfRU5WKTsKICAgICAgfTsKCiAgICAgIHRoaXMud2Vic29ja2V0Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coJ1FIWUNDRCB8IFJlY2VpdmVkIG1lc3NhZ2U6JywgbWVzc2FnZS5kYXRhKTsKICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UobWVzc2FnZS5kYXRhKTsKCiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ1FUX1JldHVybicpIHsKICAgICAgICAgIHZhciBwYXJ0cyA9IGRhdGEubWVzc2FnZS5zcGxpdCgnOicpOwogICAgICAgICAgdmFyIG1lc3NhZ2VUeXBlOwoKICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIG1lc3NhZ2VUeXBlID0gcGFydHNbMF07IC8vIGNvbnNvbGUubG9nKCdRSFlDQ0QgfCDojrflvpfkv6Hmga8oJyttZXNzYWdlVHlwZSsnKTonLCBwYXJ0cyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCfmtojmga/moLzlvI/plJnor6/vvIzml6Dms5XliIblibI6JywgZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBhY2NlcHRNZXNzYWdlID0gZmFsc2U7CgogICAgICAgICAgaWYgKGRhdGEubWVzc2FnZS5zdGFydHNXaXRoKCdTdGFnaW5nU2NoZWR1bGVEYXRhOicpKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKTsKICAgICAgICAgICAgYWNjZXB0TWVzc2FnZSA9IHRydWU7CgogICAgICAgICAgICB2YXIgX3BhcnRzID0gZGF0YS5tZXNzYWdlLnNwbGl0KCdbJyk7CgogICAgICAgICAgICBpZiAoX3BhcnRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygncGFydHMubGVuZ3RoOiAnLCBfcGFydHMubGVuZ3RoKTsKCiAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnU3RhZ2luZ1NjaGVkdWxlRGF0YScsIGRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZGF0YS5tZXNzYWdlLnN0YXJ0c1dpdGgoJ1NlbmREZWJ1Z01lc3NhZ2V8JykpIHsKICAgICAgICAgICAgYWNjZXB0TWVzc2FnZSA9IHRydWU7CgogICAgICAgICAgICB2YXIgX3BhcnRzMiA9IGRhdGEubWVzc2FnZS5zcGxpdCgnfCcpOwoKICAgICAgICAgICAgaWYgKF9wYXJ0czIubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgdmFyIHR5cGUgPSBfcGFydHMyWzFdOwogICAgICAgICAgICAgIHZhciBfbWVzc2FnZSA9IF9wYXJ0czJbMl07CgogICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ1NlbmREZWJ1Z01lc3NhZ2UnLCB0eXBlLCBfbWVzc2FnZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIWFjY2VwdE1lc3NhZ2UpIHsKICAgICAgICAgICAgc3dpdGNoIChtZXNzYWdlVHlwZSkgewogICAgICAgICAgICAgIGNhc2UgJ0FkZERyaXZlcic6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBsYWJlbCA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICB2YXIgX3ZhbHVlID0gcGFydHNbMl07CiAgICAgICAgICAgICAgICAgIHZhciBfdHlwZSA9IF90aGlzLkN1cnJlbnREcml2ZXJUeXBlOyAvLyDliJvlu7rkuIDkuKrpqbHliqjlr7nosaEKCiAgICAgICAgICAgICAgICAgIHZhciBkcml2ZXIgPSB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogX3R5cGUsCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGxhYmVsLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdmFsdWUKICAgICAgICAgICAgICAgICAgfTsgLy8gaWYgKHR5cGUgPT09ICdNYWluQ2FtZXJhJyAmJiBsYWJlbCA9PT0gIlFIWSBDQ0QyIikgewogICAgICAgICAgICAgICAgICAvLyAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAgIC8vIGlmICh0eXBlID09PSAnR3VpZGVyJyAmJiBsYWJlbCA9PT0gIlFIWSBDQ0QiKSB7CiAgICAgICAgICAgICAgICAgIC8vICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgICAgLy8g5qOA5p+lbGFiZWzmmK/lkKbkuLoiUUhZIENDRCLmiJYiUUZvY3VzZXIi77yM5aaC5p6c5piv77yM5YiZ5o+S5YWl5Yiw5pWw57uE6aaW5L2NCgogICAgICAgICAgICAgICAgICBpZiAobGFiZWwgPT09ICJRSFkgQ0NEIiB8fCBsYWJlbCA9PT0gIlFGb2N1c2VyIiB8fCBsYWJlbCA9PT0gIlFIWSBDQ0QyIikgewogICAgICAgICAgICAgICAgICAgIF90aGlzLmRyaXZlcnMudW5zaGlmdChkcml2ZXIpOyAvLyDlsIbmlrDpqbHliqjmt7vliqDliLDmlbDnu4TnmoTlvIDlp4vkvY3nva4KCiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZHJpdmVycy5wdXNoKGRyaXZlcik7IC8vIOWwhuaWsOmpseWKqOa3u+WKoOWIsOaVsOe7hOeahOacq+WwvgoKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdBZGREZXZpY2UnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgX2xhYmVsID0gcGFydHNbMV07CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdRSFlDQ0QgfCBBZGREZXZpY2U6ICcsIF9sYWJlbCk7IC8vIGNvbnN0IHZhbHVlID0gcGFydHNbMl07CgogICAgICAgICAgICAgICAgICB2YXIgX3R5cGUyID0gX3RoaXMuY29uZmlybURyaXZlclR5cGU7IC8vIOWIm+W7uuS4gOS4qumpseWKqOWvueixoQoKICAgICAgICAgICAgICAgICAgdmFyIF9kZXZpY2UgPSBfZGVmaW5lUHJvcGVydHkoewogICAgICAgICAgICAgICAgICAgIHR5cGU6IF90eXBlMiwKICAgICAgICAgICAgICAgICAgICBsYWJlbDogX2xhYmVsCiAgICAgICAgICAgICAgICAgIH0sICJsYWJlbCIsIF9sYWJlbCk7CgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUUhZQ0NEIHwgQWRkRGV2aWNlOiAnLCBfZGV2aWNlKTsgLy8gdGhpcy4kYnVzLiRlbWl0KCdhZGQtZGV2aWNlJywgZGV2aWNlKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLmRldmljZXNMaXN0LnB1c2goX2RldmljZSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5Ub0JlQ29ubmVjdERldmljZSA9IFtdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuZGV2aWNlc0xpc3QuZm9yRWFjaChmdW5jdGlvbiAoZGV2aWNlc0xpc3QpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZGV2aWNlc0xpc3QudHlwZSA9PT0gX3RoaXMuQ3VycmVudERyaXZlclR5cGUpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLlRvQmVDb25uZWN0RGV2aWNlLnB1c2goZGV2aWNlc0xpc3QpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nU2VsZWN0RHJpdmVyID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ3VwZGF0ZURldmljZXNfJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDMpIHsKICAgICAgICAgICAgICAgICAgdmFyIExpc3ROdW0gPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZURldmljZXNfKExpc3ROdW0sIG5hbWUpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdDb25uZWN0U3VjY2Vzcyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSA0KSB7CiAgICAgICAgICAgICAgICAgIHZhciBfdHlwZTMgPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIGRldmljZU5hbWUgPSBwYXJ0c1syXTsKICAgICAgICAgICAgICAgICAgdmFyIGRyaXZlck5hbWUgPSBwYXJ0c1szXTsKCiAgICAgICAgICAgICAgICAgIGlmIChkZXZpY2VOYW1lICE9ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlRGV2aWNlc0Nvbm5lY3QoX3R5cGUzLCBkZXZpY2VOYW1lLCBkcml2ZXJOYW1lLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGVEZXZpY2VzQ29ubmVjdChfdHlwZTMsIGRldmljZU5hbWUsIGRyaXZlck5hbWUsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdDb25uZWN0RmFpbGVkJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIHJlYXNvbiA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuY2FsbFNob3dNZXNzYWdlQm94KHJlYXNvbiwgJ2Vycm9yJyk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nQ29ubmVjdEFsbERldmljZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdTY2FuRmFpbGVkJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWFzb24gPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLmNhbGxTaG93TWVzc2FnZUJveChfcmVhc29uLCAnZXJyb3InKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmdTZWxlY3REcml2ZXIgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnQWRkRGV2aWNlVHlwZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBEZXZpY2VUeXBlID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdBZGREZXZpY2VUeXBlJywgRGV2aWNlVHlwZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0RldmljZVRvQmVBbGxvY2F0ZWQnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gNCkgewogICAgICAgICAgICAgICAgICB2YXIgX0RldmljZVR5cGUgPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIERldmljZUluZGV4ID0gcGFydHNbMl07CiAgICAgICAgICAgICAgICAgIHZhciBEZXZpY2VOYW1lID0gcGFydHNbM107CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdEZXZpY2VUb0JlQWxsb2NhdGVkJywgRGV2aWNlSW5kZXgsIERldmljZU5hbWUpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdTaG93RGV2aWNlQWxsb2NhdGlvbldpbmRvdyc6CiAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCd0b2dnbGVEZXZpY2VBbGxvY2F0aW9uUGFuZWwnKTsKCiAgICAgICAgICAgICAgICBfdGhpcy5uYXYgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdFeHBvc3VyZUNvbXBsZXRlZCc6CiAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdFeHBvc3VyZUNvbXBsZXRlZCcpOwoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdTYXZlSnBnU3VjY2Vzcyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSA0KSB7CiAgICAgICAgICAgICAgICAgIHZhciBmaWxlTmFtZSA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICB2YXIgcm9pX3ggPSBwYXJ0c1syXTsKICAgICAgICAgICAgICAgICAgdmFyIHJvaV95ID0gcGFydHNbM107IC8vIHRoaXMuJGJ1cy4kZW1pdCgnc2hvd1JvaUltYWdlJywgZmlsZU5hbWUpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvd1JvaUltYWdlKGZpbGVOYW1lLCByb2lfeCwgcm9pX3kpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdTYXZlQmluU3VjY2Vzcyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfZmlsZU5hbWUgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLnJlYWRCaW5GaWxlKCdpbWcvJyArIF9maWxlTmFtZSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5EZXRlY3RlZFN0YXJzRmluaXNoID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1NhdmVHdWlkZXJJbWFnZVN1Y2Nlc3MnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgX2ZpbGVOYW1lMiA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMubG9hZEFuZERpc3BsYXlJbWFnZSgnaW1nLycgKyBfZmlsZU5hbWUyKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnQWRkU2NhdHRlckNoYXJ0RGF0YSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBEYXRhX3ggPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIERhdGFfeSA9IHBhcnRzWzJdOwogICAgICAgICAgICAgICAgICB2YXIgbmV3RGF0YVBvaW50ID0gW0RhdGFfeCwgRGF0YV95XTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ0FkZFNjYXR0ZXJDaGFydERhdGEnLCBuZXdEYXRhUG9pbnQpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdBZGRMaW5lQ2hhcnREYXRhJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDQpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9EYXRhX3ggPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIERhdGFfUmEgPSBwYXJ0c1syXTsKICAgICAgICAgICAgICAgICAgdmFyIERhdGFfRGVjID0gcGFydHNbM107CiAgICAgICAgICAgICAgICAgIHZhciBuZXdEYXRhUG9pbnRfUmEgPSBbX0RhdGFfeCwgRGF0YV9SYV07CiAgICAgICAgICAgICAgICAgIHZhciBuZXdEYXRhUG9pbnRfRGVjID0gW19EYXRhX3gsIERhdGFfRGVjXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ0FkZExpbmVDaGFydERhdGEnLCBuZXdEYXRhUG9pbnRfUmEsIG5ld0RhdGFQb2ludF9EZWMpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdTZXRMaW5lQ2hhcnRSYW5nZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBtaW4gPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIG1heCA9IHBhcnRzWzJdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnU2V0TGluZUNoYXJ0UmFuZ2UnLCBtaW4sIG1heCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0d1aWRlclN0YXR1cyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBzdGF0dXMgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ0d1aWRlclN0YXR1cycsIHN0YXR1cyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0ZvY3VzQ2hhbmdlU3BlZWRTdWNjZXNzJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIFNwZWVkID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdGb2N1c0NoYW5nZVNwZWVkU3VjY2VzcycsIFNwZWVkKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnRm9jdXNQb3NpdGlvbic6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBDdXJyZW50UG9zaXRpb24gPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIFRhcmdldFBvc2l0aW9uID0gcGFydHNbMl07CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdGb2N1c1Bvc2l0aW9uJywgQ3VycmVudFBvc2l0aW9uLCBUYXJnZXRQb3NpdGlvbik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0ZvY3VzTW92ZURvbmUnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgICAgICAgICB2YXIgX0N1cnJlbnRQb3NpdGlvbiA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICB2YXIgRldITSA9IHBhcnRzWzJdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnVXBkYXRlRldITScsIF9DdXJyZW50UG9zaXRpb24sIEZXSE0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnYWRkRGF0YV9Qb2ludCcsIF9DdXJyZW50UG9zaXRpb24sIEZXSE0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdhZGRNaW5Qb2ludERhdGFfUG9pbnQnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgICAgICAgICB2YXIgX3ggPSBwYXJzZUludChwYXJ0c1sxXSk7CgogICAgICAgICAgICAgICAgICB2YXIgX3kgPSBwYXJzZUZsb2F0KHBhcnRzWzJdKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ2FkZE1pblBvaW50RGF0YV9Qb2ludCcsIF94LCBfeSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ2FkZExpbmVEYXRhX1BvaW50JzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIGRhdGFMaXN0ID0gcGFydHNbMV0uc3BsaXQoJywnKTsgLy8g5bCG5a2X56ym5Liy5YiG5Ymy5oiQ5pWw57uECgogICAgICAgICAgICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSBbXTsKCiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YUxpc3QubGVuZ3RoIC0gMTsgaSArPSAyKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIF94MiA9IHBhcnNlSW50KGRhdGFMaXN0W2ldKTsKCiAgICAgICAgICAgICAgICAgICAgdmFyIF95MiA9IHBhcnNlRmxvYXQoZGF0YUxpc3RbaSArIDFdKTsKCiAgICAgICAgICAgICAgICAgICAgdmFyIGNvb3JkaW5hdGUgPSBbX3gyLCBfeTJdOwogICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzLnB1c2goY29vcmRpbmF0ZSk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ2FkZExpbmVEYXRhX1BvaW50JywgY29vcmRpbmF0ZXMpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdNYWluQ2FtZXJhU2l6ZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBTaXplWCA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICB2YXIgU2l6ZVkgPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ01haW5DYW1lcmFTaXplJywgU2l6ZVgsIFNpemVZKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLm1haW5DYW1lcmFTaXplWCA9IFNpemVYOwogICAgICAgICAgICAgICAgICBfdGhpcy5tYWluQ2FtZXJhU2l6ZVkgPSBTaXplWTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnTWFpbkNhbWVyYUJpbm5pbmcnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgYmluID0gcGFyc2VJbnQocGFydHNbMV0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnTWFpbkNhbWVyYUJpbm5pbmcnLCBiaW4pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdmaXRRdWFkcmF0aWNDdXJ2ZSc6CiAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdDbGVhcmZpdFF1YWRyYXRpY0N1cnZlJyk7CgogICAgICAgICAgICAgICAgZm9yICh2YXIgX3gzID0gMDsgX3gzIDw9IDYwMTsgX3gzICs9IDEpIHsKICAgICAgICAgICAgICAgICAgdmFyIGEgPSBwYXJ0c1tfeDNdOwogICAgICAgICAgICAgICAgICB2YXIgYiA9IGEuc3BsaXQoJ3wnKTsKCiAgICAgICAgICAgICAgICAgIGlmIChiLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICAgIHZhciBfeDQgPSBiWzBdOwogICAgICAgICAgICAgICAgICAgIHZhciBfeTMgPSBiWzFdOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdmaXRRdWFkcmF0aWNDdXJ2ZScsIF94NCwgX3kzKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdmaXRRdWFkcmF0aWNDdXJ2ZV9taW5Qb2ludCc6CiAgICAgICAgICAgICAgICB2YXIgeCA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgdmFyIHkgPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdmaXRRdWFkcmF0aWNDdXJ2ZV9taW5Qb2ludCcsIHgsIHkpOwoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdUZWxlc2NvcGVQYXJrJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIFN3aXRjaCA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnTW91bnRQYXJrU3dpdGNoJywgU3dpdGNoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnVGVsZXNjb3BlVHJhY2snOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgX1N3aXRjaCA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnTW91bnRUcmFja1N3aXRjaCcsIF9Td2l0Y2gpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdNb3VudFNldFNwZWVkU3VjY2Vzcyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBudW0gPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ25ld01vdW50U2xld1JhdGUnLCBudW0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdUZWxlc2NvcGVQaWVyU2lkZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBTaWRlID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCd1cGRhdGVNb3VudFBpZXJTaWRlJywgU2lkZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1RlbGVzY29wZVRvdGFsU2xld1JhdGUnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgX251bSA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnTW91bnRUb3RhbFNsZXdSYXRlJywgX251bSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1VwZGF0ZVNjaGVkdWxlUHJvY2Vzcyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBSb3dOdW0gPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIFByb2Nlc3MgPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ1VwZGF0ZVNjaGVkdWxlUHJvY2VzcycsIFJvd051bSwgUHJvY2Vzcyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0V4cFRpbWVMaXN0JzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnaW5pdEV4cFRpbWVMaXN0JywgcGFydHNbMV0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdDYW1lcmFJbkV4cG9zdXJpbmcnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgX3N0YXR1cyA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnQ2FtZXJhSW5FeHBvc3VyaW5nJywgX3N0YXR1cyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0F1dG9Gb2N1c092ZXInOgogICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnQXV0b0ZvY3VzT3ZlcicpOwoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdDRldQb3NpdGlvbk1heCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ1NldENGV1Bvc2l0aW9uTWF4JywgcGFydHNbMV0pOwoKICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8PSBwYXJ0c1sxXTsgX2krKykgewogICAgICAgICAgICAgICAgICAgIF90aGlzLkNGV0NvbmZpZ0l0ZW1zLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgZHJpdmVyVHlwZTogJ0NGVycsCiAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogIkNGVyBbIi5jb25jYXQoX2ksICJdIiksCiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgICAgICAgICAgICAgICBpbnB1dFR5cGU6ICd0ZXh0JwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdnZXRDRldMaXN0Jyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1NldENGV1Bvc2l0aW9uU3VjY2Vzcyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ1NldENGV1Bvc2l0aW9uU3VjY2VzcycsIHBhcnRzWzFdKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnZ2V0Q0ZXTGlzdCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ2luaXRDRldMaXN0JywgcGFydHNbMV0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdHdWlkZXJTd2l0Y2hTdGF0dXMnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdHdWlkZXJTd2l0Y2hTdGF0dXMnLCBwYXJ0c1sxXSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0d1aWRlckxvb3BFeHBTdGF0dXMnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdHdWlkZXJMb29wRXhwU3RhdHVzJywgcGFydHNbMV0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdUZWxlc2NvcGVSQURFQyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLlVwZGF0ZUNpcmNsZVBvcyhwYXJ0c1sxXSwgcGFydHNbMl0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdUZWxlc2NvcGVTdGF0dXMnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICBfdGhpcy5VcGRhdGVUZWxlc2NvcGVTdGF0dXMocGFydHNbMV0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdNYWluQ2FtZXJhU3RhdHVzJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuVXBkYXRlTWFpbkNhbWVyYVN0YXR1cyhwYXJ0c1sxXSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ01haW5DYW1lcmFUZW1wZXJhdHVyZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLlVwZGF0ZU1haW5DYW1lcmFUZW1wZXJhdHVyZShwYXJ0c1sxXSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1Nob3dBbGxJbWFnZUZvbGRlcic6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ1Nob3dBbGxJbWFnZUZvbGRlcicsIHBhcnRzWzFdLCBwYXJ0c1syXSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0ltYWdlRmlsZXNOYW1lJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnSW1hZ2VGaWxlc05hbWUnLCBwYXJ0c1sxXSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1VTQkNoZWNrJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIFVTQmRhdGEgPSBwYXJ0c1sxXS5zcGxpdCgnLCcpOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVVNCIG5hbWU6ICcsIFVTQmRhdGFbMF0pOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVVNCIHNwYWNlOiAnLCBVU0JkYXRhWzFdKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdVU0IgbmFtZTonICsgVVNCZGF0YVswXSwgJ2luZm8nKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdVU0Igc3BhY2U6JyArIFVTQmRhdGFbMV0sICdpbmZvJyk7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdVU0JfTmFtZV9TYXBjZScsIFVTQmRhdGFbMF0sIFVTQmRhdGFbMV0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdJbWFnZVNhdmVFcnJvZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBFcnJvZSA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgaWYgKEVycm9lID09PSAnVVNCLU51bGwnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2FsbFNob3dNZXNzYWdlQm94KCdObyBVU0IgRHJpdmUgRGV0ZWN0ZWQuJywgJ2Vycm9yJyk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoRXJyb2UgPT09ICdVU0ItTXVsdGlwbGUnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2FsbFNob3dNZXNzYWdlQm94KCdNdWx0aXBsZSBVU0IgZHJpdmVzIGRldGVjdGVkLCBwbGVhc2UgcmVtb3ZlIGV4Y2VzcyBVU0IgZHJpdmVzLicsICdlcnJvcicpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0RldGVjdGVkU3RhcnMnOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0RldGVjdGVkJywgcGFydHMubGVuZ3RoLCAnc3RhcnMuJyk7CgogICAgICAgICAgICAgICAgX3RoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0RldGVjdGVkICcgKyBwYXJ0cy5sZW5ndGggKyAnIHN0YXJzLicsICdpbmZvJyk7CgogICAgICAgICAgICAgICAgX3RoaXMuRGV0ZWN0ZWRTdGFyc0xpc3QgPSBbXTsKCiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBwYXJ0cy5sZW5ndGg7IF9pMisrKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfYSA9IHBhcnRzW19pMl07CgogICAgICAgICAgICAgICAgICB2YXIgX2IgPSBfYS5zcGxpdCgnfCcpOwoKICAgICAgICAgICAgICAgICAgaWYgKF9iLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgICAgICAgICAgIHZhciBfeDUgPSBfYlswXTsKICAgICAgICAgICAgICAgICAgICB2YXIgX3k0ID0gX2JbMV07CiAgICAgICAgICAgICAgICAgICAgdmFyIGhmciA9IF9iWzJdOyAvLyBjb25zb2xlLmxvZygnU3RhcnMgYXQoJywgeCwgJywnLCB5LCAnKSB3aXRoIEhGUjonLCBoZnIpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy5EZXRlY3RlZFN0YXJzTGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIHg6IF94NSwKICAgICAgICAgICAgICAgICAgICAgIHk6IF95NCwKICAgICAgICAgICAgICAgICAgICAgIGhmcjogaGZyCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy5EZXRlY3RlZFN0YXJzRmluaXNoID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdTb2x2ZUltYWdlUmVzdWx0JzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDUpIHsKICAgICAgICAgICAgICAgICAgLy8gdGhpcy5VcGRhdGVDaXJjbGVQb3MocGFydHNbMV0sIHBhcnRzWzJdKTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NvbHZlIEltYWdlIFJlc3VsdChSQV9EZWdyZWUsIERFQ19EZWdyZWUsIEF6aW11dGgsIEFsdGl0dWRlKTonLCBwYXJ0c1sxXSwgJywnLCBwYXJ0c1syXSwgJywnLCBwYXJ0c1szXSwgJywnLCBwYXJ0c1s0XSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnU29sdmUgSW1hZ2UgUmVzdWx0KFJBX0RlZ3JlZSwgREVDX0RlZ3JlZSwgQXppbXV0aCwgQWx0aXR1ZGUpOicgKyBwYXJ0c1sxXSArICcsJyArIHBhcnRzWzJdICsgJywnICsgcGFydHNbM10gKyAnLCcgKyBwYXJ0c1s0XSwgJ2luZm8nKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLlNvbHZlUmVzdWx0TWFyayhwYXJ0c1sxXSwgcGFydHNbMl0sIHBhcnRzWzNdLCBwYXJ0c1s0XSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCJJbWFnZVNvbHZlRmluaXNoZWQiLCB0cnVlKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ3NldFBhcnNpbmdQcm9ncmVzcycsIGZhbHNlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnU29sdmVGb3ZSZXN1bHQnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gOSkgewogICAgICAgICAgICAgICAgICB2YXIgUmFEZWMgPSBbewogICAgICAgICAgICAgICAgICAgIFJhOiBwYXJ0c1sxXSwKICAgICAgICAgICAgICAgICAgICBEZWM6IHBhcnRzWzJdCiAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICBSYTogcGFydHNbM10sCiAgICAgICAgICAgICAgICAgICAgRGVjOiBwYXJ0c1s0XQogICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgUmE6IHBhcnRzWzVdLAogICAgICAgICAgICAgICAgICAgIERlYzogcGFydHNbNl0KICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIFJhOiBwYXJ0c1s3XSwKICAgICAgICAgICAgICAgICAgICBEZWM6IHBhcnRzWzhdCiAgICAgICAgICAgICAgICAgIH1dOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuU29sdmVGb3ZNYXJrKFJhRGVjKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnUmVhbFRpbWVTb2x2ZUltYWdlUmVzdWx0JzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDUpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NvbHZlIEltYWdlIFJlc3VsdChSQV9EZWdyZWUsIERFQ19EZWdyZWUsIEF6aW11dGgsIEFsdGl0dWRlKTonLCBwYXJ0c1sxXSwgJywnLCBwYXJ0c1syXSwgJywnLCBwYXJ0c1szXSwgJywnLCBwYXJ0c1s0XSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnU29sdmUgSW1hZ2UgUmVzdWx0KFJBX0RlZ3JlZSwgREVDX0RlZ3JlZSwgQXppbXV0aCwgQWx0aXR1ZGUpOicgKyBwYXJ0c1sxXSArICcsJyArIHBhcnRzWzJdICsgJywnICsgcGFydHNbM10gKyAnLCcgKyBwYXJ0c1s0XSwgJ2luZm8nKTsKCiAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBfdGhpcy5Tb2x2ZVJlc3VsdE1hcmtfUmVhbFRpbWUocGFydHNbMV0sIHBhcnRzWzJdLCBwYXJ0c1szXSwgcGFydHNbNF0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdTb2x2ZUltYWdlZmFpbGVkJzoKICAgICAgICAgICAgICAgIF90aGlzLmNhbGxTaG93TWVzc2FnZUJveCgnU29sdmUgaW1hZ2UgZmFpbGQuLi4nLCAnZXJyb3InKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCJJbWFnZVNvbHZlRmluaXNoZWQiLCBmYWxzZSk7CgogICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnc2V0UGFyc2luZ1Byb2dyZXNzJywgZmFsc2UpOwoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdNYWluQ2FtZXJhT2Zmc2V0UmFuZ2UnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTWFpbkNhbWVyYU9mZnNldFJhbmdlOicsIHBhcnRzWzFdLCAnLCcsIHBhcnRzWzJdKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdNYWluQ2FtZXJhT2Zmc2V0UmFuZ2U6JyArIHBhcnRzWzFdICsgJywnICsgcGFydHNbMl0sICdpbmZvJyk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5NYWluQ2FtZXJhT2Zmc2V0TWluID0gcGFydHNbMV07CiAgICAgICAgICAgICAgICAgIF90aGlzLk1haW5DYW1lcmFPZmZzZXRNYXggPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICAgIHZhciBPZmZzZXRJdGVtID0gX3RoaXMuTWFpbkNhbWVyYUNvbmZpZ0l0ZW1zLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5sYWJlbCA9PT0gJ09mZnNldCc7CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgaWYgKE9mZnNldEl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTWFpbkNhbWVyYU9mZnNldFJhbmdlOicsIHBhcnNlSW50KF90aGlzLk1haW5DYW1lcmFPZmZzZXRNaW4sIDEwKSwgJywnLCBwYXJzZUludChfdGhpcy5NYWluQ2FtZXJhT2Zmc2V0TWF4LCAxMCkpOwogICAgICAgICAgICAgICAgICAgIE9mZnNldEl0ZW0uaW5wdXRNaW4gPSBwYXJzZUludChfdGhpcy5NYWluQ2FtZXJhT2Zmc2V0TWluLCAxMCk7CiAgICAgICAgICAgICAgICAgICAgT2Zmc2V0SXRlbS5pbnB1dE1heCA9IHBhcnNlSW50KF90aGlzLk1haW5DYW1lcmFPZmZzZXRNYXgsIDEwKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdNYWluQ2FtZXJhR2FpblJhbmdlJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDMpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ01haW5DYW1lcmFHYWluUmFuZ2U6JywgcGFydHNbMV0sICcsJywgcGFydHNbMl0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuU2VuZENvbnNvbGVMb2dNc2coJ01haW5DYW1lcmFHYWluUmFuZ2U6JyArIHBhcnRzWzFdICsgJywnICsgcGFydHNbMl0sICdpbmZvJyk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5NYWluQ2FtZXJhR2Fpbk1pbiA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICBfdGhpcy5NYWluQ2FtZXJhR2Fpbk1heCA9IHBhcnRzWzJdOwoKICAgICAgICAgICAgICAgICAgdmFyIGdhaW5JdGVtID0gX3RoaXMuTWFpbkNhbWVyYUNvbmZpZ0l0ZW1zLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5sYWJlbCA9PT0gJ0dhaW4nOwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIGlmIChnYWluSXRlbSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNYWluQ2FtZXJhR2FpblJhbmdlOicsIHBhcnNlSW50KF90aGlzLk1haW5DYW1lcmFHYWluTWluLCAxMCksICcsJywgcGFyc2VJbnQoX3RoaXMuTWFpbkNhbWVyYUdhaW5NYXgsIDEwKSk7CiAgICAgICAgICAgICAgICAgICAgZ2Fpbkl0ZW0uaW5wdXRNaW4gPSBwYXJzZUludChfdGhpcy5NYWluQ2FtZXJhR2Fpbk1pbiwgMTApOwogICAgICAgICAgICAgICAgICAgIGdhaW5JdGVtLmlucHV0TWF4ID0gcGFyc2VJbnQoX3RoaXMuTWFpbkNhbWVyYUdhaW5NYXgsIDEwKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdPdXRwdXRQb3dlclN0YXR1cyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHBhcnNlSW50KHBhcnRzWzFdLCAxMCk7CgogICAgICAgICAgICAgICAgICB2YXIgX3ZhbHVlMiA9IHBhcnNlSW50KHBhcnRzWzJdLCAxMCk7CgogICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDEpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5PdXRQdXRQb3dlcl8xX09OID0gX3ZhbHVlMiA9PT0gMTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gMikgewogICAgICAgICAgICAgICAgICAgIF90aGlzLk91dFB1dFBvd2VyXzJfT04gPSBfdmFsdWUyID09PSAxOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1BIRDJTdGFyQm94Vmlldyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciB2aWV3ID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdQSEQyU3RhckJveFZpZXcnLCB2aWV3KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnUEhEMlN0YXJDcm9zc1ZpZXcnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgX3ZpZXcgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ1BIRDJTdGFyQ3Jvc3NWaWV3JywgX3ZpZXcpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdQSEQyU3RhckJveFBvc2l0aW9uJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDUpIHsKICAgICAgICAgICAgICAgICAgdmFyIFBIRDJJbWFnZVNpemVfWCA9IHBhcnNlSW50KHBhcnRzWzFdLCAxMCk7CiAgICAgICAgICAgICAgICAgIHZhciBQSEQySW1hZ2VTaXplX1kgPSBwYXJzZUludChwYXJ0c1syXSwgMTApOwogICAgICAgICAgICAgICAgICB2YXIgQm94X1ggPSBwYXJzZUludChwYXJ0c1szXSwgMTApOwogICAgICAgICAgICAgICAgICB2YXIgQm94X1kgPSBwYXJzZUludChwYXJ0c1s0XSwgMTApOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuRHJhd1BIRDJCb3goUEhEMkltYWdlU2l6ZV9YLCBQSEQySW1hZ2VTaXplX1ksIEJveF9YLCBCb3hfWSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1BIRDJNdWx0aVN0YXJzUG9zaXRpb24nOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gNSkgewogICAgICAgICAgICAgICAgICB2YXIgX1BIRDJJbWFnZVNpemVfWCA9IHBhcnNlSW50KHBhcnRzWzFdLCAxMCk7CgogICAgICAgICAgICAgICAgICB2YXIgX1BIRDJJbWFnZVNpemVfWSA9IHBhcnNlSW50KHBhcnRzWzJdLCAxMCk7CgogICAgICAgICAgICAgICAgICB2YXIgX0JveF9YID0gcGFyc2VJbnQocGFydHNbM10sIDEwKTsKCiAgICAgICAgICAgICAgICAgIHZhciBfQm94X1kgPSBwYXJzZUludChwYXJ0c1s0XSwgMTApOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuRHJhd1BIRDJNdWx0aVN0YXJzKF9QSEQySW1hZ2VTaXplX1gsIF9QSEQySW1hZ2VTaXplX1ksIF9Cb3hfWCwgX0JveF9ZKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnQ2xlYXJQSEQyTXVsdGlTdGFycyc6CiAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdDbGVhclBIRDJNdWx0aVN0YXJzJyk7CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1BIRDJTdGFyQ3Jvc3NQb3NpdGlvbic6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSA1KSB7CiAgICAgICAgICAgICAgICAgIHZhciBfUEhEMkltYWdlU2l6ZV9YMiA9IHBhcnNlSW50KHBhcnRzWzFdLCAxMCk7CgogICAgICAgICAgICAgICAgICB2YXIgX1BIRDJJbWFnZVNpemVfWTIgPSBwYXJzZUludChwYXJ0c1syXSwgMTApOwoKICAgICAgICAgICAgICAgICAgdmFyIENyb3NzX1ggPSBwYXJzZUludChwYXJ0c1szXSwgMTApOwogICAgICAgICAgICAgICAgICB2YXIgQ3Jvc3NfWSA9IHBhcnNlSW50KHBhcnRzWzRdLCAxMCk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5EcmF3UEhEMkNyb3NzKF9QSEQySW1hZ2VTaXplX1gyLCBfUEhEMkltYWdlU2l6ZV9ZMiwgQ3Jvc3NfWCwgQ3Jvc3NfWSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1FUQ2xpZW50VmVyc2lvbic6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLlFUQ2xpZW50VmVyc2lvbiA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdDYXB0dXJlSW1hZ2VTYXZlU3RhdHVzJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9zdGF0dXMyID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBpZiAoX3N0YXR1czIgPT09ICdSZXBlYXQnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2FsbFNob3dNZXNzYWdlQm94KF90aGlzLiR0KCdUaGVyZSBpcyBubyBuZWVkIHRvIHNhdmUgaXQgYWdhaW4nKSwgJ2Vycm9yJyk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3N0YXR1czIgPT09ICdTdWNjZXNzJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzLmNhbGxTaG93TWVzc2FnZUJveChfdGhpcy4kdCgnSW1hZ2Ugc2F2ZWQgc3VjY2Vzc2Z1bGx5JyksICdzdWNjZXNzJyk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3N0YXR1czIgPT09ICdOdWxsJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzLmNhbGxTaG93TWVzc2FnZUJveChfdGhpcy4kdCgnTm8gaW1hZ2VzIHRvIHNhdmUnKSwgJ2Vycm9yJyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnSU5ESVNlcnZlckRlYnVnJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9tZXNzYWdlMiA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnSU5ESVNlcnZlckRlYnVnJywgX21lc3NhZ2UyKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnSG90c3BvdE5hbWUnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgTmFtZSA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnSG90c3BvdE5hbWUnLCBOYW1lKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnRWRpdEhvdHNwb3ROYW1lU3VjY2Vzcyc6CiAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdFZGl0SG90c3BvdE5hbWVTdWNjZXNzJyk7CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0RTTFJzU2V0dXAnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgX05hbWUgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ1Nob3dEU0xSc1NldHVwJywgX05hbWUpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdDb25maWd1cmVSZWNvdmVyeSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBDb25maWdOYW1lID0gcGFydHNbMV07CiAgICAgICAgICAgICAgICAgIHZhciBDb25maWdWYWx1ZSA9IHBhcnRzWzJdOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ29uZmlndXJlOicsIENvbmZpZ05hbWUsICcsJywgQ29uZmlnVmFsdWUpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0NvbmZpZ3VyZSBSZWNvdmVyeTonICsgcGFydHNbMV0gKyAnLCcgKyBwYXJ0c1syXSwgJ2luZm8nKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoQ29uZmlnTmFtZSwgQ29uZmlnVmFsdWUpOwoKICAgICAgICAgICAgICAgICAgaWYgKHBhcnRzWzFdID09PSAnRm9jYWxMZW5ndGgnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuVGVsZXNjb3Blc0NvbmZpZ0l0ZW1zWzBdLnZhbHVlID0gcGFydHNbMl07CgogICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihfdGhpcy5kZXZpY2VzKSwKICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZXA7CgogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2RldmljZTMgPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGV2aWNlMy5kcml2ZXJUeXBlID09PSAnVGVsZXNjb3BlcycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydHNbMl0gPT09ICcnIHx8IHBhcnRzWzJdID09PSBOYU4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kZXZpY2UzLmRldmljZSA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGV2aWNlMy5kZXZpY2UgPSBwYXJ0c1syXSArICcgbW0nOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChwYXJ0c1sxXSA9PT0gJ0d1aWRlckZvY2FsTGVuZ3RoJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzLkd1aWRlckNvbmZpZ0l0ZW1zWzBdLnZhbHVlID0gcGFydHNbMl07CgogICAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0d1aWRlckZvY2FsTGVuZ3RoOicgKyBwYXJ0c1syXSk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChwYXJ0c1sxXSA9PT0gJ0Nvb3JkaW5hdGVzJykgewogICAgICAgICAgICAgICAgICAgIHZhciBfcGFydHMkMiRzcGxpdCRtYXAgPSBwYXJ0c1syXS5zcGxpdCgnLCcpLm1hcChmdW5jdGlvbiAoY29vcmQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KGNvb3JkLnRyaW0oKSk7CiAgICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgICAgICAgIF9wYXJ0cyQyJHNwbGl0JG1hcDIgPSBfc2xpY2VkVG9BcnJheShfcGFydHMkMiRzcGxpdCRtYXAsIDIpLAogICAgICAgICAgICAgICAgICAgICAgICBsYXQgPSBfcGFydHMkMiRzcGxpdCRtYXAyWzBdLAogICAgICAgICAgICAgICAgICAgICAgICBsbmcgPSBfcGFydHMkMiRzcGxpdCRtYXAyWzFdOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy5TZXRDdXJyZW50TG9jYXRpb24obGF0LCBsbmcpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAocGFydHNbMV0gPT09ICdNdWx0aVN0YXJHdWlkZXInKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuR3VpZGVyQ29uZmlnSXRlbXNbMV0udmFsdWUgPSBwYXJ0c1syXSA9PT0gJ3RydWUnOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdNdWx0aVN0YXJHdWlkZXI6JyArIHBhcnRzWzJdKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKHBhcnRzWzFdID09PSAnR3VpZGVyR2FpbicpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5HdWlkZXJDb25maWdJdGVtc1syXS52YWx1ZSA9IHBhcnRzWzJdOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdHdWlkZXJHYWluOicgKyBwYXJ0c1syXSk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChwYXJ0c1sxXSA9PT0gJ0NhbGlicmF0aW9uRHVyYXRpb24nKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuR3VpZGVyQ29uZmlnSXRlbXNbM10udmFsdWUgPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnQ2FsaWJyYXRpb25EdXJhdGlvbjonICsgcGFydHNbMl0pOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAocGFydHNbMV0gPT09ICdSYUFnZ3Jlc3Npb24nKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuR3VpZGVyQ29uZmlnSXRlbXNbNF0udmFsdWUgPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnUmFBZ2dyZXNzaW9uOicgKyBwYXJ0c1syXSk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChwYXJ0c1sxXSA9PT0gJ0RlY0FnZ3Jlc3Npb24nKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuR3VpZGVyQ29uZmlnSXRlbXNbNV0udmFsdWUgPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnRGVjQWdncmVzc2lvbjonICsgcGFydHNbMl0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0Nvbm5lY3REcml2ZXJTdWNjZXNzJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9kZXZpY2U0ID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0RHJpdmVyU3VjY2VzcyhfZGV2aWNlNCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0Nvbm5lY3REcml2ZXJGYWlsZWQnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgX21lc3NhZ2UzID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0RHJpdmVyRmFpbGVkKF9tZXNzYWdlMyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0Rpc2Nvbm5lY3REcml2ZXJTdWNjZXNzJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9kZXZpY2U1ID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpcy5kaXNjb25uZWN0RHJpdmVyc3VjY2VzcyhfZGV2aWNlNSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0Rpc2Nvbm5lY3REcml2ZXJGYWlsJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9kcml2ZXIgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLmRpc2Nvbm5lY3REcml2ZXJGYWlsKGRldmljZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgJ1NlbGVjdGVkRHJpdmVyTGlzdCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID49IDMpIHsKICAgICAgICAgICAgICAgICAgdmFyIGRldmljZU9iamVjdHMgPSBwYXJ0cy5zbGljZSgxKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGFydCwgaW5kZXgsIGFycmF5KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICUgMiA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgYWNjLnB1c2goX2RlZmluZVByb3BlcnR5KHt9LCBhcnJheVtpbmRleF0sIGFycmF5W2luZGV4ICsgMV0pKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7CiAgICAgICAgICAgICAgICAgIH0sIFtdKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLmxvYWRTZWxlY3RlZERyaXZlckxpc3QoZGV2aWNlT2JqZWN0cyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0JpbmREZXZpY2VMaXN0JzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPj0gMykgewogICAgICAgICAgICAgICAgICB2YXIgX2RldmljZU9iamVjdHMgPSBwYXJ0cy5zbGljZSgxKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGFydCwgaW5kZXgsIGFycmF5KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICUgMiA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgYWNjLnB1c2goX2RlZmluZVByb3BlcnR5KHt9LCBhcnJheVtpbmRleF0sIGFycmF5W2luZGV4ICsgMV0pKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7CiAgICAgICAgICAgICAgICAgIH0sIFtdKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLmxvYWRCaW5kRGV2aWNlTGlzdChfZGV2aWNlT2JqZWN0cyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0JpbmREZXZpY2VUeXBlTGlzdCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID49IDUpIHsKICAgICAgICAgICAgICAgICAgLy8g56Gu5L+d6Iez5bCR5pyJ5LqU5Liq5Y+C5pWw5Yqg5LiK5YmN57yACiAgICAgICAgICAgICAgICAgIHZhciBkZXZpY2VUeXBlT2JqZWN0cyA9IFtdOwoKICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kzID0gMTsgX2kzIDwgcGFydHMubGVuZ3RoOyBfaTMgKz0gNCkgewogICAgICAgICAgICAgICAgICAgIHZhciBkZXZpY2VUeXBlT2JqZWN0ID0gewogICAgICAgICAgICAgICAgICAgICAgVHlwZTogcGFydHNbX2kzXSwKICAgICAgICAgICAgICAgICAgICAgIERldmljZU5hbWU6IHBhcnRzW19pMyArIDFdLAogICAgICAgICAgICAgICAgICAgICAgRHJpdmVyTmFtZTogcGFydHNbX2kzICsgMl0sCiAgICAgICAgICAgICAgICAgICAgICBpc2JpbmQ6IHBhcnRzW19pMyArIDNdID09ICJ0cnVlIiA/IHRydWUgOiBmYWxzZQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgZGV2aWNlVHlwZU9iamVjdHMucHVzaChkZXZpY2VUeXBlT2JqZWN0KTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3RoaXMubG9hZEJpbmREZXZpY2VUeXBlTGlzdChkZXZpY2VUeXBlT2JqZWN0cyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZURldmljZUFsbG9jYXRpb25MaXN0JzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9kZXZpY2VOYW1lID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpcy5kZWxldGVEZXZpY2VBbGxvY2F0aW9uTGlzdChfZGV2aWNlTmFtZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZURldmljZVR5cGVBbGxvY2F0aW9uTGlzdCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBkZXZpY2VUeXBlID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBpZiAoZGV2aWNlVHlwZSAhPSAnJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ2RlbGV0ZURldmljZVR5cGVBbGxvY2F0aW9uTGlzdCcsIGRldmljZVR5cGUpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAoZGV2aWNlVHlwZSA9PSAnQ0ZXJykgewogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pNCA9IDA7IF9pNCA8IF90aGlzLmRldmljZXMubGVuZ3RoOyBfaTQrKykgewogICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmRldmljZXNbX2k0XS5kcml2ZXJUeXBlID09ICdDRlcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRldmljZXNbX2k0XS5pc0Nvbm5lY3RlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZXZpY2VzW19pNF0uZGV2aWNlID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRldmljZXNbX2k0XS5kcml2ZXJOYW1lID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRldmljZXNbX2k0XS5CYXVkUmF0ZSA9IDk2MDA7CgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdDRldDb25uZWN0ZWQnLCAwKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnUGFyc2VJbmZvRW1pdHRlZCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBwcm9ncmVzcyA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnUGFyc2VJbmZvRW1pdHRlZCcsIHByb2dyZXNzKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnR3VpZGVyVXBkYXRlU3RhdHVzJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9zdGF0dXMzID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdHdWlkZXJVcGRhdGVTdGF0dXMnLCBwYXJzZUludChfc3RhdHVzMywgMTApKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnTG9vcFNvbHZlSW1hZ2VGaW5pc2hlZCc6CiAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdMb29wU29sdmVJbWFnZUZpbmlzaGVkJyk7CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ2Rpc2Nvbm5lY3REZXZpY2VoYXNvcnRoZXJkZXZpY2UnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgZHJpdmVybmFtZSA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvd1NlbGVjdGRpc2Nvbm5lY3REcml2ZXIoZHJpdmVybmFtZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ2dldEZvY3VzZXJNb3ZlU3RhdGUnOgogICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnZ2V0Rm9jdXNlck1vdmVTdGF0ZScpOwoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdGb2N1c01vdmVUb0xpbWl0JzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIGVycm9ybG9nID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpcy5jYWxsU2hvd01lc3NhZ2VCb3goZXJyb3Jsb2csICdlcnJvcicpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdzdGFydEZvY3VzTG9vcFNqb290aW5nZmlsZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfbWVzc2FnZTQgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ3N0YXJ0Rm9jdXNMb29wU2pvb3RpbmdmaWxlJywgX21lc3NhZ2U0KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnc2V0Rm9jdXNlckxvb3BpbmdTdGF0ZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfbWVzc2FnZTUgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRidXMuJGVtaXQoJ3NldEZvY3VzZXJMb29waW5nU3RhdGUnLCBfbWVzc2FnZTUpOwoKICAgICAgICAgICAgICAgICAgaWYgKF9tZXNzYWdlNSA9PSAndHJ1ZScpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5pc0ZvY3VzTG9vcFNob290aW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5pc0ZvY3VzTG9vcFNob290aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAvLyBjYXNlICdmb2N1c2VyUk9JU3RhcnNMaXN0JzoKICAgICAgICAgICAgICAvLyAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDQpIHsKICAgICAgICAgICAgICAvLyAgICAgY29uc3QgeCA9IHBhcnRzWzFdOwogICAgICAgICAgICAgIC8vICAgICBjb25zdCB5ID0gcGFydHNbMl07CiAgICAgICAgICAgICAgLy8gICAgIGNvbnN0IEhGUiA9IHBhcnRzWzNdOwogICAgICAgICAgICAgIC8vICAgICB0aGlzLmZvY3VzZXJST0lTdGFyc0xpc3QucHVzaCh7IHgsIHksIEhGUiB9KTsKICAgICAgICAgICAgICAvLyAgIH0KICAgICAgICAgICAgICAvLyAgIGJyZWFrOwogICAgICAgICAgICAgIC8vIGNhc2UgJ2NsZWFyRm9jdXNlclJPSVN0YXJzTGlzdCc6CiAgICAgICAgICAgICAgLy8gICB0aGlzLmZvY3VzZXJST0lTdGFyc0xpc3QgPSBbXTsKICAgICAgICAgICAgICAvLyAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdzZXRTZWxlY3RTdGFyUG9zaXRpb24nOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gNCkgewogICAgICAgICAgICAgICAgICBfdGhpcy5EcmF3U2VsZWN0U3RhclggPSBwYXJzZUZsb2F0KHBhcnRzWzFdKTsKICAgICAgICAgICAgICAgICAgX3RoaXMuRHJhd1NlbGVjdFN0YXJZID0gcGFyc2VGbG9hdChwYXJ0c1syXSk7CiAgICAgICAgICAgICAgICAgIF90aGlzLkRyYXdTZWxlY3RTdGFySEZSID0gcGFyc2VGbG9hdChwYXJ0c1szXSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1NldFJlZEJveFN0YXRlJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDQpIHsKICAgICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICBfdGhpcy5ST0lfeCA9IHBhcnNlRmxvYXQocGFydHNbMl0pOwogICAgICAgICAgICAgICAgICBfdGhpcy5ST0lfeSA9IHBhcnNlRmxvYXQocGFydHNbM10pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0UmVkQm94U3RhdGUobGVuZ3RoLCBfdGhpcy5ST0lfeCwgX3RoaXMuUk9JX3kpOwoKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+iuvue9rue6ouiJslJPSeahhjogJywgbGVuZ3RoLCBfdGhpcy5ST0lfeCwgX3RoaXMuUk9JX3kpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdTZXRWaXNpYmxlQXJlYSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSA0KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnZpc2libGVYID0gcGFyc2VGbG9hdChwYXJ0c1sxXSk7CiAgICAgICAgICAgICAgICAgIF90aGlzLnZpc2libGVZID0gcGFyc2VGbG9hdChwYXJ0c1syXSk7CiAgICAgICAgICAgICAgICAgIF90aGlzLnNjYWxlID0gcGFyc2VGbG9hdChwYXJ0c1szXSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdzZXRTY2FsZScsIF90aGlzLnNjYWxlKTsKCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCforr7nva7lj6/op4HljLrln586ICcsIF90aGlzLnZpc2libGVYLCBfdGhpcy52aXNpYmxlWSwgX3RoaXMuc2NhbGUpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuU2VuZENvbnNvbGVMb2dNc2coJ3VwZGF0ZSBWaXNpYmxlQXJlYSB4PScgKyBfdGhpcy52aXNpYmxlWCArICcsIHk9JyArIF90aGlzLnZpc2libGVZICsgJywgc2NhbGU9JyArIF90aGlzLnNjYWxlLCAnaW5mbycpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdTZXRTZWxlY3RTdGFycyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdFN0YXJYID0gcGFyc2VGbG9hdChwYXJ0c1sxXSk7CiAgICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdFN0YXJZID0gcGFyc2VGbG9hdChwYXJ0c1syXSk7CgogICAgICAgICAgICAgICAgICBfdGhpcy5TZW5kQ29uc29sZUxvZ01zZygndXBkYXRlIFNlbGVjdFN0YXJzIHg9JyArIF90aGlzLnNlbGVjdFN0YXJYICsgJywgeT0nICsgX3RoaXMuc2VsZWN0U3RhclksICdpbmZvJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ3VwZGF0ZUNQVUluZm8nOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgICAgICAgICB2YXIgY3B1VGVtcCA9IHBhcnNlRmxvYXQocGFydHNbMV0pOwogICAgICAgICAgICAgICAgICB2YXIgY3B1VXNhZ2UgPSBwYXJzZUZsb2F0KHBhcnRzWzJdKTsKICAgICAgICAgICAgICAgICAgX3RoaXMuY3B1VGVtcCA9IGlzTmFOKGNwdVRlbXApID8gbnVsbCA6IGNwdVRlbXAgJSAxID09PSAwID8gY3B1VGVtcCA6IGNwdVRlbXAudG9GaXhlZCgxKTsgLy8g5aaC5p6cIGNwdVRlbXAg5pivIE5hTu+8jOiuvue9ruS4uiBudWxs77yM5ZCm5YiZ5aaC5p6cIGNwdVRlbXAg5piv5pW05pWw77yM5bCx5LiN5L+d55WZ5bCP5pWw77yM5ZCm5YiZ5L+d55WZ5LiA5L2N5bCP5pWwCgogICAgICAgICAgICAgICAgICBfdGhpcy5jcHVVc2FnZSA9IGlzTmFOKGNwdVVzYWdlKSA/IG51bGwgOiBjcHVVc2FnZSAlIDEgPT09IDAgPyBjcHVVc2FnZSA6IGNwdVVzYWdlLnRvRml4ZWQoMSk7IC8vIOWmguaenCBjcHVVc2FnZSDmmK8gTmFO77yM6K6+572u5Li6IG51bGzvvIzlkKbliJnlpoLmnpwgY3B1VXNhZ2Ug5piv5pW05pWw77yM5bCx5LiN5L+d55WZ5bCP5pWw77yM5ZCm5YiZ5L+d55WZ5LiA5L2N5bCP5pWwCgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCd1cGRhdGVDUFVJbmZvJywgX3RoaXMuY3B1VGVtcCwgX3RoaXMuY3B1VXNhZ2UpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdUaWFuV2VuJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDQpIHsKICAgICAgICAgICAgICAgICAgdmFyIG5vdGljZV90eXBlID0gcGFydHNbMV07CiAgICAgICAgICAgICAgICAgIHZhciByYSA9IHBhcnRzWzJdOwogICAgICAgICAgICAgICAgICB2YXIgZGVjID0gcGFydHNbM107CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdUaWFuV2VuJywgbm90aWNlX3R5cGUsIHJhLCBkZWMpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdzZXRNYWluQ2FtZXJhUGFyYW1ldGVycyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID49IDMpIHsKICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSB7fTsKCiAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pNSA9IDE7IF9pNSA8IHBhcnRzLmxlbmd0aDsgX2k1ICs9IDIpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW1ldGVyID0gcGFydHNbX2k1XTsKICAgICAgICAgICAgICAgICAgICB2YXIgX3ZhbHVlMyA9IHBhcnRzW19pNSArIDFdOwogICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnNbcGFyYW1ldGVyXSA9IF92YWx1ZTM7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzLnNldE1haW5DYW1lcmFQYXJhbWV0ZXJzKHBhcmFtZXRlcnMpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdsb2NhbE1lc3NhZ2UnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gNCkgewogICAgICAgICAgICAgICAgICB2YXIgX2xhdCA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICB2YXIgbG9uID0gcGFydHNbMl07CiAgICAgICAgICAgICAgICAgIHZhciBsYW5ndWFnZSA9IHBhcnRzWzNdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2xvY2FsTWVzc2FnZTogJyArIF9sYXQgKyAnLCcgKyBsb24gKyAnLCcgKyBsYW5ndWFnZSwgJ2luZm8nKTsKCiAgICAgICAgICAgICAgICAgIGlmIChsYW5ndWFnZSA9PSAnemgnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgnQ2xpZW50TGFuZ3VhZ2UnLCAnY24nKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdDbGllbnRMYW5ndWFnZScsICdlbicpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdzZXRMb2NhdGlvbkxhdEFuZExvbicsIF9sYXQsIGxvbik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ+acquWkhOeQhuWRveS7pDogJywgZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdRVF9Db25maXJtJykgewogICAgICAgICAgLy8g5aSE55CG56Gu6K6k5raI5oGvCiAgICAgICAgICB2YXIgbWVzc2FnZUlkID0gZGF0YS5tc2dpZDsKCiAgICAgICAgICBfdGhpcy5oYW5kbGVNZXNzYWdlUmVzcG9uc2UobWVzc2FnZUlkKTsKICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ1Byb2Nlc3NfQ29tbWFuZCcpIHsKICAgICAgICAgIC8vIOWkhOeQhui/lOWbnua2iOaBrwogICAgICAgICAgdmFyIF9wYXJ0czMgPSBkYXRhLm1lc3NhZ2Uuc3BsaXQoJzonKTsKCiAgICAgICAgICBpZiAoX3BhcnRzM1swXSA9PT0gJ3F0U2VydmVySXNPdmVyJykgewogICAgICAgICAgICBfdGhpcy5jYWxsU2hvd01lc3NhZ2VCb3goJ1FUIFNlcnZlciBpcyBvdmVyJywgJ2Vycm9yJyk7CgogICAgICAgICAgICBfdGhpcy5TaG93Q29uZmlybURpYWxvZygncmVzdGFydCcsICdRVCBzZXJ2ZXIgZW5jb3VudGVyZWQgYSBzZWdtZW50YXRpb24gZmF1bHQgb3IgaXMgZnJvemVuLCBwbGVhc2UgcmVzdGFydCBvciBleGl0IScsICdyZXN0YXJ0UXRTZXJ2ZXInKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIF90aGlzLnJlY2VpdmVkTWVzc2FnZXMucHVzaChkYXRhLm1lc3NhZ2UpOyAvLyDlsIbmjqXmlLbliLDnmoTmtojmga/mt7vliqDliLDmlbDnu4TkuK0KCiAgICAgIH07CgogICAgICB0aGlzLndlYnNvY2tldC5vbmVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgdmFyIGVycm9yRGV0YWlscyA9IHsKICAgICAgICAgIHR5cGU6IGVycm9yLnR5cGUsCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwKICAgICAgICAgIHVybDogX3RoaXMuV2ViU29ja2V0VXJsLAogICAgICAgICAgcmVhZHlTdGF0ZTogX3RoaXMud2Vic29ja2V0LnJlYWR5U3RhdGUsCiAgICAgICAgICBwcm90b2NvbDogX3RoaXMud2Vic29ja2V0LnByb3RvY29sLAogICAgICAgICAgZXh0ZW5zaW9uczogX3RoaXMud2Vic29ja2V0LmV4dGVuc2lvbnMKICAgICAgICB9OwogICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYlNvY2tldCBFcnJvciBEZXRhaWxzOicsIGVycm9yRGV0YWlscyk7CgogICAgICAgIF90aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdXZWJTb2NrZXQgRXJyb3I6ICcgKyBKU09OLnN0cmluZ2lmeShlcnJvckRldGFpbHMpLCAnZXJyb3InKTsKCiAgICAgICAgX3RoaXMud2Vic29ja2V0U3RhdGUgPSAnZXJyb3InOwogICAgICAgIF90aGlzLm5ldHdvcmtEaXNjb25uZWN0ZWQgPSB0cnVlOwogICAgICB9OwoKICAgICAgdGhpcy53ZWJzb2NrZXQub25jbG9zZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zb2xlLmxvZygnUUhZQ0NEIHwgV2ViU29ja2V0IGRpc2Nvbm5lY3RlZCcpOwogICAgICAgIF90aGlzLndlYnNvY2tldFN0YXRlID0gJ2Rpc2Nvbm5lY3RlZCc7CiAgICAgICAgX3RoaXMubmV0d29ya0Rpc2Nvbm5lY3RlZCA9IHRydWU7IC8vIFdlYlNvY2tldOi/nuaOpeWFs+mXreaXtuiuvue9rue9kee7nOi/nuaOpeeKtuaAgQoKICAgICAgICBjb25zb2xlLmxvZygnUUhZQ0NEIHwgV2ViU29ja2V0IGRpc2Nvbm5lY3RlZCcpOwoKICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCdTaG93TmV0U3RhdHVzJywgJ2ZhbHNlJyk7IC8vIOiuvue9ruS4gOS4quWumuaXtuWZqO+8jDHnp5LlkI7mo4Dmn6XnvZHnu5znirbmgIEKCgogICAgICAgIF90aGlzLmRpc2Nvbm5lY3RUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoX3RoaXMubmV0d29ya0Rpc2Nvbm5lY3RlZCkgewogICAgICAgICAgICAvLyDlpoLmnpwx56eS5ZCO5LuN54S25pat5byACiAgICAgICAgICAgIF90aGlzLmNhbGxTaG93TWVzc2FnZUJveCgnV2ViU29ja2V0IGRpc2Nvbm5lY3RlZCcsICdlcnJvcicpOwoKICAgICAgICAgICAgX3RoaXMuZGlzY29ubmVjdFRpbWVvdXRUcmlnZ2VyZWQgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0sIDEwMDApOyAvLyAx56eS5ZCO5omn6KGMCiAgICAgICAgLy8g5ZCv5Yqo6Ieq5Yqo6YeN6L+eCgogICAgICAgIF90aGlzLnJlY29ubmVjdFdlYlNvY2tldCgpOwogICAgICB9OwogICAgfSwKICAgIC8vIOiHquWKqOmHjei/ngogICAgcmVjb25uZWN0V2ViU29ja2V0OiBmdW5jdGlvbiByZWNvbm5lY3RXZWJTb2NrZXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coJ1FIWUNDRCB8IFdlYlNvY2tldCByZWNvbm5lY3RlZCcpOwoKICAgICAgICBfdGhpczIuU2VuZENvbnNvbGVMb2dNc2coJ1dlYlNvY2tldCByZWNvbm5lY3RlZC4nLCAnaW5mbycpOwoKICAgICAgICBfdGhpczIuY29ubmVjdCgpOwogICAgICB9LCAyMDAwKTsgLy8gMuenkuWQjuWwneivlemHjeaWsOi/nuaOpQogICAgfSwKICAgIC8vIOiHquWKqOmHjei/ngogICAgLy/nm5HlkKznvZHnu5zov57mjqXnirbmgIEKICAgIHNldHVwTmV0d29ya1N0YXR1c0xpc3RlbmVyOiBmdW5jdGlvbiBzZXR1cE5ldHdvcmtTdGF0dXNMaXN0ZW5lcigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25saW5lJywgZnVuY3Rpb24gKCkgewogICAgICAgIC8vIOajgOafpeaWreW8gOi/nuaOpeeahOWumuaXtuWZqOaYr+WQpuW3sue7j+inpuWPkQogICAgICAgIGlmIChfdGhpczMuZGlzY29ubmVjdFRpbWVvdXRUcmlnZ2VyZWQpIHsKICAgICAgICAgIF90aGlzMy5jYWxsU2hvd01lc3NhZ2VCb3goJ1dlYlNvY2tldCBjb25uZWN0ZWQnLCAnc3VjY2VzcycpOwogICAgICAgIH0KCiAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzMy5kaXNjb25uZWN0VGltZW91dCk7IC8vIOa4hemZpOaWreW8gOi/nuaOpeeahOWumuaXtuWZqAoKICAgICAgICBfdGhpczMubmV0d29ya0Rpc2Nvbm5lY3RlZCA9IGZhbHNlOyAvLyDnvZHnu5zmgaLlpI3ml7bph43nva7nvZHnu5zov57mjqXnirbmgIEKCiAgICAgICAgX3RoaXMzLiRidXMuJGVtaXQoJ1Nob3dOZXRTdGF0dXMnLCAndHJ1ZScpOwoKICAgICAgICBfdGhpczMuU3RhdHVzUmVjb3ZlcnkoKTsKCiAgICAgICAgX3RoaXMzLnJlY29ubmVjdFdlYlNvY2tldCgpOyAvLyDnvZHnu5zmgaLlpI3lkI7oh6rliqjph43ov55XZWJTb2NrZXQKCiAgICAgIH0pOwogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb2ZmbGluZScsIGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMubmV0d29ya0Rpc2Nvbm5lY3RlZCA9IHRydWU7IC8vIOe9kee7nOaWreW8gOaXtuiuvue9rue9kee7nOi/nuaOpeeKtuaAgQoKICAgICAgICBfdGhpczMuJGJ1cy4kZW1pdCgnU2hvd05ldFN0YXR1cycsICdmYWxzZScpOwoKICAgICAgICBfdGhpczMuZGlzY29ubmVjdFRpbWVvdXRUcmlnZ2VyZWQgPSBmYWxzZTsgLy8g5Yid5aeL5YyW5pat5byA6L+e5o6l5a6a5pe25Zmo6Kem5Y+R5qCH5b+XCiAgICAgICAgLy8g6K6+572u5LiA5Liq5a6a5pe25Zmo77yMMeenkuWQjuajgOafpee9kee7nOeKtuaAgQoKICAgICAgICBfdGhpczMuZGlzY29ubmVjdFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChfdGhpczMubmV0d29ya0Rpc2Nvbm5lY3RlZCkgewogICAgICAgICAgICAvLyDlpoLmnpwx56eS5ZCO5LuN54S25pat5byACiAgICAgICAgICAgIF90aGlzMy5kaXNjb25uZWN0VGltZW91dFRyaWdnZXJlZCA9IHRydWU7IC8vIOagh+iusOWumuaXtuWZqOW3suinpuWPkQoKICAgICAgICAgICAgX3RoaXMzLmNhbGxTaG93TWVzc2FnZUJveCgnV2ViU29ja2V0IGRpc2Nvbm5lY3RlZCcsICdlcnJvcicpOwogICAgICAgICAgfQogICAgICAgIH0sIDEwMDApOyAvLyAx56eS5ZCO5omn6KGMCiAgICAgIH0pOwogICAgfSwKICAgIC8v55uR5ZCs572R57uc6L+e5o6l54q25oCBCiAgICBzZW5kTWVzc2FnZTogZnVuY3Rpb24gc2VuZE1lc3NhZ2UodHlwZSwgbWVzc2FnZSkgewogICAgICBjb25zb2xlLmxvZygiUUhZQ0NEIHwgc2VuZE1lc3NhZ2U6ICIsIG1lc3NhZ2UpOwogICAgICB2YXIgbWVzc2FnZUlkID0gdGhpcy5nZW5lcmF0ZU1lc3NhZ2VJZCgpOyAvLyDnlJ/miJDllK/kuIDnmoTmtojmga9JRAoKICAgICAgdmFyIG1lc3NhZ2VPYmogPSB7CiAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICBtc2dpZDogbWVzc2FnZUlkLAogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UKICAgICAgfTsgLy8g5Yib5bu65YyF5ZCr57G75Z6L5ZKM5raI5oGv55qE5a+56LGhCgogICAgICB2YXIgbWVzc2FnZUpzb24gPSBKU09OLnN0cmluZ2lmeShtZXNzYWdlT2JqKTsgLy8g5bCG5raI5oGv5a+56LGh6L2s5o2i5Li6IEpTT04g5a2X56ym5LiyCgogICAgICB2YXIgbWVzc2FnZVN0YXRlID0gewogICAgICAgIG1zZ2lkOiBtZXNzYWdlSWQsCiAgICAgICAgdGV4dDogbWVzc2FnZUpzb24sCiAgICAgICAgc3VjY2VzczogZmFsc2UKICAgICAgfTsgLy8g5Yib5bu65YyF5ZCr5raI5oGv5ZKM54q25oCB5L+h5oGv55qE5a+56LGhCgogICAgICBpZiAodGhpcy53ZWJzb2NrZXQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHsKICAgICAgICB0aGlzLndlYnNvY2tldC5zZW5kKG1lc3NhZ2VKc29uKTsgLy8gbWVzc2FnZVN0YXRlLnN1Y2Nlc3MgPSB0cnVlOyAvLyDorr7nva7mtojmga/kuLrmiJDlip8KICAgICAgfQoKICAgICAgdGhpcy5zZW50TWVzc2FnZXMucHVzaChtZXNzYWdlU3RhdGUpOyAvLyDmt7vliqDmtojmga/lr7nosaHliLDlt7Llj5HpgIHnmoTmtojmga/mlbDnu4QKICAgIH0sCiAgICBnZW5lcmF0ZU1lc3NhZ2VJZDogZnVuY3Rpb24gZ2VuZXJhdGVNZXNzYWdlSWQoKSB7CiAgICAgIC8vIOS9v+eUqOaXtumXtOaIs+WSjOiuoeaVsOWZqOeUn+aIkOWUr+S4gOeahOa2iOaBr0lECiAgICAgIHJldHVybiBEYXRlLm5vdygpICsgIi0iICsgdGhpcy5tZXNzYWdlQ291bnRlcisrOwogICAgfSwKICAgIGhhbmRsZU1lc3NhZ2VSZXNwb25zZTogZnVuY3Rpb24gaGFuZGxlTWVzc2FnZVJlc3BvbnNlKG1lc3NhZ2VJZCkgewogICAgICAvLyDmoLnmja7ov5Tlm57nmoTmtojmga9JROabtOaWsOa2iOaBr+WPkemAgeeKtuaAgQogICAgICB2YXIgbGFzdE1lc3NhZ2UgPSB0aGlzLnNlbnRNZXNzYWdlc1t0aGlzLnNlbnRNZXNzYWdlcy5sZW5ndGggLSAxXTsKCiAgICAgIGlmIChsYXN0TWVzc2FnZSAmJiBsYXN0TWVzc2FnZS5tc2dpZCA9PT0gbWVzc2FnZUlkKSB7CiAgICAgICAgbGFzdE1lc3NhZ2Uuc3VjY2VzcyA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmtojmga/moYYKICAgIGNhbGxTaG93TWVzc2FnZUJveDogZnVuY3Rpb24gY2FsbFNob3dNZXNzYWdlQm94KG1zZywgdHlwZSkgewogICAgICBjb25zb2xlLmxvZygnUUhZQ0NEIHwgY2FsbFNob3dNZXNzYWdlQm94OicsIG1zZywgdHlwZSk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2cobXNnLCB0eXBlKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdzaG93TXNnQm94JywgbXNnLCB0eXBlKTsKICAgIH0sCiAgICAvLyDmtojmga/moYYKICAgIGxvY2F0aW9uQ2xpY2tlZDogZnVuY3Rpb24gbG9jYXRpb25DbGlja2VkKCkgewogICAgICB0aGlzLiRidXMuJGVtaXQoJ1Z1ZV9Db21tYW5kJywgJ2xvY2FsTWVzc2FnZScpOyAvLyDojrflj5bkvY3nva7kv6Hmga8KCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndG9nZ2xlQm9vbCcsICdzaG93TG9jYXRpb25EaWFsb2cnKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdSZXNldFRpbWUnKTsKICAgIH0sCiAgICBTZXRDdXJyZW50TG9jYXRpb246IGZ1bmN0aW9uIFNldEN1cnJlbnRMb2NhdGlvbihsYXQsIGxuZykgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCdTZXRDdXJyZW50TG9jYXRpb246JywgbGF0LCAnLCcsIGxuZyk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU2VuZENvbnNvbGVMb2dNc2cnLCAnU2V0IEN1cnJlbnQgTG9jYXRpb246JyArIGxhdCArICcsJyArIGxuZywgJ2luZm8nKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdQb2xhclBvaW50QWx0aXR1ZGUnLCBsYXQpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ3Jlc2V0TG9jYXRpb24nLCBsYXQsIGxuZyk7CiAgICAgIHZhciBsb2MgPSB7CiAgICAgICAgc2hvcnRfbmFtZTogJ1Vua25vd24nLAogICAgICAgIGNvdW50cnk6ICdVbmtub3duJywKICAgICAgICBsbmc6IGxuZywKICAgICAgICBsYXQ6IGxhdCwKICAgICAgICBhbHQ6IDAsCiAgICAgICAgYWNjdXJhY3k6IDAsCiAgICAgICAgc3RyZWV0X2FkZHJlc3M6ICcnCiAgICAgIH07CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0Q3VycmVudExvY2F0aW9uJywgbG9jKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTaG93UG9zaXRpb25JbmZvJywgbGF0LCBsbmcpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQuJGJ1cy4kZW1pdCgnUmVzZXRUaW1lJyk7CiAgICAgIH0sIDEwMDApOwogICAgfSwKICAgIC8vIOeKtuaAgeaBouWkjQogICAgU3RhdHVzUmVjb3Zlcnk6IGZ1bmN0aW9uIFN0YXR1c1JlY292ZXJ5KCkgewogICAgICAvLyB0aGlzLnNlbmRNZXNzYWdlKCdTZW5kQ29uc29sZUxvZ01zZycsICfnvZHnu5zov57mjqXmgaLlpI3vvIzmgaLlpI3lvZPliY3nirbmgIEhJywgJ3dhcm5pbmcnKTsKICAgICAgdGhpcy5nZXRRVENsaWVudFZlcnNpb24oKTsgLy8g6I635Y+WUVRDbGllbnTniYjmnKwKCiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2dldFJPSUluZm8nKTsgLy8g6I635Y+WUk9J5L+h5oGvCgogICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdsb2NhbE1lc3NhZ2UnKTsgLy8g6I635Y+W5L2N572u5L+h5oGvCgogICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdnZXRNYWluQ2FtZXJhUGFyYW1ldGVycycpOyAvLyDojrflj5bkuLvnm7jmnLrlj4LmlbAKCiAgICAgIHRoaXMuUmVjYWxpYnJhdGVQb2xhckF4aXMoKTsgLy8g6YeN5paw5qCh5YeG5p6B6L20CiAgICAgIC8vIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2dldFN0YWdpbmdTb2x2ZVJlc3VsdCcpOyAvLyDojrflj5blrprmoIfnu5PmnpwKCiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2dldEZvY3VzZXJMb29waW5nU3RhdGUnKTsgLy8g6I635Y+W54Sm6Led5Zmo5b6q546v54q25oCBCgogICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdnZXRTdGFnaW5nU2NoZWR1bGVEYXRhJyk7IC8vIOiOt+WPluWumuagh+iuoeWIkuaVsOaNrgoKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnZ2V0U3RhZ2luZ1NvbHZlUmVzdWx0Jyk7IC8vIOiOt+WPluWumuagh+e7k+aenAoKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnZ2V0R1BJT3NTdGF0dXMnKTsgLy8g6I635Y+WR1BJT+eKtuaAgQoKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnZ2V0U3RhZ2luZ0ltYWdlJyk7IC8vIOiOt+WPluacgOWQjuaLjeaRhOeahOWbvuWDjwoKICAgICAgdGhpcy5kaXNjb25uZWN0VGltZW91dFRyaWdnZXJlZCA9IGZhbHNlOwogICAgfSwKICAgIG9wZW5Qb3dlck1hbmFnZXJQYWdlOiBmdW5jdGlvbiBvcGVuUG93ZXJNYW5hZ2VyUGFnZSgpIHsKICAgICAgdGhpcy5pc09wZW5EZXZpY2VQYWdlID0gZmFsc2U7CiAgICAgIHRoaXMuaXNPcGVuUG93ZXJQYWdlID0gdHJ1ZTsKICAgICAgdGhpcy5kcmF3ZXJfMiA9IHRydWU7CiAgICB9LAogICAgUXVpdFRvTWFpbkFwcDogZnVuY3Rpb24gUXVpdFRvTWFpbkFwcCgpIHsKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnQnJvYWRjYXN0X01zZycsICdDbG9zZVdlYlZpZXcnKTsKICAgIH0sCiAgICBzZWxlY3REZXZpY2U6IGZ1bmN0aW9uIHNlbGVjdERldmljZShkZXZpY2UpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuaGF2ZURldmljZUNvbm5lY3QgfHwgdGhpcy5oYXZlRGV2aWNlQ29ubmVjdCB8fCBkZXZpY2UuZHJpdmVyVHlwZSA9PT0gJ1RlbGVzY29wZXMnKSB7CiAgICAgICAgdGhpcy5pc09wZW5EZXZpY2VQYWdlID0gdHJ1ZTsKICAgICAgICB0aGlzLmlzT3BlblBvd2VyUGFnZSA9IGZhbHNlOwoKICAgICAgICBpZiAoZGV2aWNlLmlzZ2V0ID09PSBmYWxzZSkgewogICAgICAgICAgLy8gZGV2aWNlLmlzZ2V0ID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ1NlbGVjdEluZGlEcml2ZXI6JyArIGRldmljZS50eXBlICsgIjoiICsgZGV2aWNlLkxpc3ROdW0pOwogICAgICAgICAgdGhpcy5kcml2ZXJzID0gW107CiAgICAgICAgfQoKICAgICAgICB0aGlzLkN1cnJlbnREcml2ZXJUeXBlID0gZGV2aWNlLmRyaXZlclR5cGU7CiAgICAgICAgdGhpcy5EZXZpY2VJc0Nvbm5lY3RlZCA9IGRldmljZS5pc0Nvbm5lY3RlZDsKICAgICAgICB0aGlzLkJhdWRSYXRlU2VsZWN0ZWQgPSBkZXZpY2UuQmF1ZFJhdGU7CgogICAgICAgIGlmIChkZXZpY2UuZHJpdmVyVHlwZSA9PT0gJ1RlbGVzY29wZXMnKSB7CiAgICAgICAgICB0aGlzLkRldmljZUlzQ29ubmVjdGVkID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHRoaXMuZHJhd2VyXzIgPSB0cnVlOwogICAgICAgIHRoaXMuVG9CZUNvbm5lY3REZXZpY2UgPSBbXTsKICAgICAgICB0aGlzLmRldmljZXNMaXN0LmZvckVhY2goZnVuY3Rpb24gKGRldmljZXNMaXN0KSB7CiAgICAgICAgICBpZiAoZGV2aWNlc0xpc3QudHlwZSA9PT0gX3RoaXM1LkN1cnJlbnREcml2ZXJUeXBlKSB7CiAgICAgICAgICAgIF90aGlzNS5Ub0JlQ29ubmVjdERldmljZS5wdXNoKGRldmljZXNMaXN0KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNhbGxTaG93TWVzc2FnZUJveCgnVGhlIGRldmljZSBpcyBub3QgY29ubmVjdGVkLicsICdlcnJvcicpOwogICAgICB9CiAgICB9LAogICAgQ3VycmVudENvbmZpZ0l0ZW1zOiBmdW5jdGlvbiBDdXJyZW50Q29uZmlnSXRlbXMoKSB7CiAgICAgIGNvbnNvbGUubG9nKCdDdXJyZW50Q29uZmlnSXRlbXM6ICcsIHRoaXMuQ3VycmVudERyaXZlclR5cGUgKyAnQ29uZmlnSXRlbXMnKTsKCiAgICAgIHN3aXRjaCAodGhpcy5DdXJyZW50RHJpdmVyVHlwZSkgewogICAgICAgIGNhc2UgJ0d1aWRlcic6CiAgICAgICAgICByZXR1cm4gdGhpcy5HdWlkZXJDb25maWdJdGVtczsKCiAgICAgICAgY2FzZSAnTWFpbkNhbWVyYSc6CiAgICAgICAgICByZXR1cm4gdGhpcy5NYWluQ2FtZXJhQ29uZmlnSXRlbXM7CgogICAgICAgIGNhc2UgJ01vdW50JzoKICAgICAgICAgIHJldHVybiB0aGlzLk1vdW50Q29uZmlnSXRlbXM7CgogICAgICAgIGNhc2UgJ1RlbGVzY29wZXMnOgogICAgICAgICAgcmV0dXJuIHRoaXMuVGVsZXNjb3Blc0NvbmZpZ0l0ZW1zOwoKICAgICAgICBjYXNlICdGb2N1c2VyJzoKICAgICAgICAgIHJldHVybiB0aGlzLkZvY3VzZXJDb25maWdJdGVtczsKCiAgICAgICAgY2FzZSAnUG9sZUNhbWVyYSc6CiAgICAgICAgICByZXR1cm4gdGhpcy5Qb2xlQ2FtZXJhQ29uZmlnSXRlbXM7CgogICAgICAgIGNhc2UgJ0NGVyc6CiAgICAgICAgICByZXR1cm4gdGhpcy5DRldDb25maWdJdGVtczsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIGNvbmZpcm1Ecml2ZXI6IGZ1bmN0aW9uIGNvbmZpcm1Ecml2ZXIoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgLy8g56Gu5a6a6amx5Yqo55qE6YC76L6RCiAgICAgIGNvbnNvbGUubG9nKCJRSFlDQ0QgfCBjb25maXJtRHJpdmVyOiAiLCB0aGlzLnNlbGVjdGVkRHJpdmVyKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ29uZmlybSBJbmRpIERyaXZlcjonICsgdGhpcy5zZWxlY3RlZERyaXZlciwgJ2luZm8nKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdDb25maXJtSW5kaURyaXZlcjonICsgdGhpcy5zZWxlY3RlZERyaXZlciArICc6JyArIHRoaXMuQmF1ZFJhdGVTZWxlY3RlZCk7CiAgICAgIHRoaXMuY29uZmlybURyaXZlclR5cGUgPSB0aGlzLkN1cnJlbnREcml2ZXJUeXBlOwogICAgICB0aGlzLmxvYWRpbmdTZWxlY3REcml2ZXIgPSB0cnVlOwogICAgICB0aGlzLmRldmljZXMuZm9yRWFjaChmdW5jdGlvbiAoZGV2aWNlKSB7CiAgICAgICAgaWYgKGRldmljZS5kcml2ZXJUeXBlID09PSBfdGhpczYuQ3VycmVudERyaXZlclR5cGUpIHsKICAgICAgICAgIGRldmljZS5kZXZpY2UgPSBfdGhpczYuc2VsZWN0ZWREcml2ZXI7CiAgICAgICAgICBkZXZpY2UuZHJpdmVyTmFtZSA9IF90aGlzNi5zZWxlY3RlZERyaXZlcjsKICAgICAgICAgIGRldmljZS5CYXVkUmF0ZSA9IF90aGlzNi5CYXVkUmF0ZVNlbGVjdGVkOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2xlYXJEcml2ZXI6IGZ1bmN0aW9uIGNsZWFyRHJpdmVyKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnQ2xlYXJJbmRpRHJpdmVyJyk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0NsZWFyIEluZGkgRHJpdmVyJywgJ2luZm8nKTsKICAgICAgdGhpcy5kZXZpY2VzLmZvckVhY2goZnVuY3Rpb24gKGRldmljZSkgewogICAgICAgIGlmIChkZXZpY2UuZHJpdmVyVHlwZSA9PT0gX3RoaXM3LkN1cnJlbnREcml2ZXJUeXBlKSB7CiAgICAgICAgICBkZXZpY2UuZGV2aWNlID0gJyc7CiAgICAgICAgICBkZXZpY2UuZHJpdmVyTmFtZSA9ICcnOwogICAgICAgICAgZGV2aWNlLkJhdWRSYXRlID0gOTYwMDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNvbmZpcm1EZXZpY2U6IGZ1bmN0aW9uIGNvbmZpcm1EZXZpY2UoKSB7CiAgICAgIC8vIOehruWumuiuvuWkh+eahOmAu+i+kQogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0NvbmZpcm1JbmRpRGV2aWNlOicgKyB0aGlzLnNlbGVjdGVkRGV2aWNlICsgJzonICsgdGhpcy5zZWxlY3RlZERyaXZlcik7IC8vIHRoaXMuJGJ1cy4kZW1pdCgnQXBwVXBkYXRlRGV2aWNlcycsIHRoaXMuQ3VycmVudERyaXZlclR5cGUsIHRoaXMuc2VsZWN0ZWREZXZpY2UpOwoKICAgICAgdGhpcy51cGRhdGVEZXZpY2VzKHRoaXMuQ3VycmVudERyaXZlclR5cGUsIHRoaXMuc2VsZWN0ZWREZXZpY2UpOwogICAgfSwKICAgIHVwZGF0ZURldmljZXM6IGZ1bmN0aW9uIHVwZGF0ZURldmljZXMoZHJpdmVyVHlwZSwgbmV3RGV2aWNlKSB7CiAgICAgIC8vIOaJi+WKqOmAieaLqQogICAgICB0aGlzLmRldmljZXMuZm9yRWFjaChmdW5jdGlvbiAoZGV2aWNlKSB7CiAgICAgICAgaWYgKGRldmljZS5kcml2ZXJUeXBlID09PSBkcml2ZXJUeXBlKSB7CiAgICAgICAgICBkZXZpY2UuZGV2aWNlID0gbmV3RGV2aWNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlRGV2aWNlc186IGZ1bmN0aW9uIHVwZGF0ZURldmljZXNfKExpc3ROdW0sIG5ld0RldmljZSkgewogICAgICAvLyDku47mlofku7blr7zlhaUKICAgICAgdGhpcy5kZXZpY2VzLmZvckVhY2goZnVuY3Rpb24gKGRldmljZSkgewogICAgICAgIGlmIChkZXZpY2UuTGlzdE51bSA9PT0gTGlzdE51bSkgewogICAgICAgICAgZGV2aWNlLmRldmljZSA9IG5ld0RldmljZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmxvYWRpbmdDb25uZWN0QWxsRGV2aWNlID0gZmFsc2U7CiAgICB9LAogICAgdXBkYXRlRGV2aWNlc0Nvbm5lY3Q6IGZ1bmN0aW9uIHVwZGF0ZURldmljZXNDb25uZWN0KHR5cGUsIERldmljZU5hbWUsIERyaXZlck5hbWUpIHsKICAgICAgdmFyIGlzQmluZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogdHJ1ZTsKICAgICAgLy8g6L+e5o6l5oiQ5YqfCiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ3VwZGF0ZURldmljZXNDb25uZWN0JyArIHR5cGUgKyAnICcgKyBEZXZpY2VOYW1lICsgJyAnICsgRHJpdmVyTmFtZSArICcgJyArIGlzQmluZCwgJ2luZm8nKTsKICAgICAgdGhpcy5kZXZpY2VzLmZvckVhY2goZnVuY3Rpb24gKGRldmljZSkgewogICAgICAgIGlmIChkZXZpY2UuZHJpdmVyVHlwZSA9PT0gdHlwZSkgewogICAgICAgICAgaWYgKGlzQmluZCA9PSB0cnVlKSB7CiAgICAgICAgICAgIGRldmljZS5kZXZpY2UgPSBEZXZpY2VOYW1lOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGV2aWNlLmRldmljZSA9ICJOb3QgQmluZCBEZXZpY2UiOwogICAgICAgICAgfQoKICAgICAgICAgIGRldmljZS5kcml2ZXJOYW1lID0gRHJpdmVyTmFtZTsKICAgICAgICAgIGRldmljZS5pc0Nvbm5lY3RlZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5jYWxsU2hvd01lc3NhZ2VCb3goRGV2aWNlTmFtZSArICcgc3VjY2VzcyBjb25uZWN0ZWQnLCAnc3VjY2VzcycpOwogICAgICB0aGlzLmhhdmVEZXZpY2VDb25uZWN0ID0gdHJ1ZTsKICAgICAgdGhpcy5sb2FkaW5nQ29ubmVjdEFsbERldmljZSA9IGZhbHNlOwoKICAgICAgaWYgKHR5cGUgPT09ICdNYWluQ2FtZXJhJykgewogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnTWFpbkNhbWVyYUNvbm5lY3RlZCcsIDEpOwogICAgICAgIGNvbnNvbGUubG9nKCdNYWluQ2FtZXJhIGlzIENvbm5lY3RlZC4nKTsKICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnTW91bnQnKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdNb3VudENvbm5lY3RlZCcsIDEpOwogICAgICAgIGNvbnNvbGUubG9nKCdNb3VudCBpcyBDb25uZWN0ZWQuJyk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0NGVycpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0NGV0Nvbm5lY3RlZCcsIDEpOwogICAgICAgIGNvbnNvbGUubG9nKCdNb3VudCBpcyBDb25uZWN0ZWQuJyk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0ZvY3VzZXInKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdGb2N1c2VyQ29ubmVjdGVkJywgMSk7CiAgICAgICAgY29uc29sZS5sb2coJ0ZvY3VzZXIgaXMgQ29ubmVjdGVkLicpOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdHdWlkZXInKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdHdWlkZXJDb25uZWN0ZWQnLCAxKTsKICAgICAgICBjb25zb2xlLmxvZygnR3VpZGVyIGlzIENvbm5lY3RlZC4nKTsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2coJ3VwZGF0ZURldmljZXNDb25uZWN0OiAnLCB0eXBlLCBEZXZpY2VOYW1lLCBEcml2ZXJOYW1lLCBpc0JpbmQpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0RldmljZUNvbm5lY3RTdWNjZXNzJywgdHlwZSwgRGV2aWNlTmFtZSwgRHJpdmVyTmFtZSwgaXNCaW5kKTsKICAgIH0sCiAgICBzdGFydENvbm5lY3RCdG5QcmVzczogZnVuY3Rpb24gc3RhcnRDb25uZWN0QnRuUHJlc3MoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICAvLyDlpoLmnpzmmK/op6bmkbjkuovku7bvvIzmoIforrDlubblpITnkIYKICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICd0b3VjaHN0YXJ0JykgewogICAgICAgIHRoaXMuaXNUb3VjaGluZyA9IHRydWU7CiAgICAgICAgdGhpcy5pc0Nvbm5lY3RCdG5Mb25nUHJlc3MgPSBmYWxzZTsgLy8g6YeN572u6ZW/5oyJ5qCH6K6wCgogICAgICAgIHRoaXMuQ29ubmVjdEJ0blByZXNzVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzOC5pc0Nvbm5lY3RCdG5Mb25nUHJlc3MgPSB0cnVlOyAvLyDmoIforrDkuLrplb/mjIkKCiAgICAgICAgICBfdGhpczguaGFuZGxlQ29ubmVjdEJ0bkxvbmdQcmVzcygpOwogICAgICAgIH0sIHRoaXMuQ29ubmVjdEJ0bmxvbmdQcmVzc1RocmVzaG9sZCk7CiAgICAgIH0gLy8g5aaC5p6c5piv6byg5qCH5LqL5Lu277yM5LiU5rKh5pyJ5q2j5Zyo6L+b6KGM55qE6Kem5pG45LqL5Lu277yM5YiZ5aSE55CGCiAgICAgIGVsc2UgaWYgKGV2ZW50LnR5cGUgPT09ICdtb3VzZWRvd24nICYmICF0aGlzLmlzVG91Y2hpbmcpIHsKICAgICAgICAgIHRoaXMuaXNDb25uZWN0QnRuTG9uZ1ByZXNzID0gZmFsc2U7IC8vIOmHjee9rumVv+aMieagh+iusAoKICAgICAgICAgIHRoaXMuQ29ubmVjdEJ0blByZXNzVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXM4LmlzQ29ubmVjdEJ0bkxvbmdQcmVzcyA9IHRydWU7IC8vIOagh+iusOS4uumVv+aMiQoKICAgICAgICAgICAgX3RoaXM4LmhhbmRsZUNvbm5lY3RCdG5Mb25nUHJlc3MoKTsKICAgICAgICAgIH0sIHRoaXMuQ29ubmVjdEJ0bmxvbmdQcmVzc1RocmVzaG9sZCk7CiAgICAgICAgfQogICAgfSwKICAgIGVuZENvbm5lY3RCdG5QcmVzczogZnVuY3Rpb24gZW5kQ29ubmVjdEJ0blByZXNzKGV2ZW50KSB7CiAgICAgIC8vIOWmguaenOaYr+inpuaRuOS6i+S7tu+8jOWkhOeQhuW5tumHjee9ruagh+iusAogICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3RvdWNoZW5kJykgewogICAgICAgIGNsZWFyVGltZW91dCh0aGlzLkNvbm5lY3RCdG5QcmVzc1RpbWVyKTsgLy8g5riF6Zmk5a6a5pe25ZmoCgogICAgICAgIGlmICghdGhpcy5pc0Nvbm5lY3RCdG5Mb25nUHJlc3MpIHsKICAgICAgICAgIHRoaXMuaGFuZGxlQ29ubmVjdEJ0bkNsaWNrKCk7IC8vIOWmguaenOS4jeaYr+mVv+aMie+8jOWImeinpuWPkeeCueWHu+S6i+S7tgogICAgICAgIH0KCiAgICAgICAgdGhpcy5Db25uZWN0QnRuUHJlc3NUaW1lciA9IG51bGw7IC8vIOmHjee9ruWumuaXtuWZqAoKICAgICAgICB0aGlzLmlzVG91Y2hpbmcgPSBmYWxzZTsgLy8g6YeN572u6Kem5pG45qCH6K6wCiAgICAgIH0gLy8g5aaC5p6c5piv6byg5qCH5LqL5Lu277yM5LiU5rKh5pyJ5q2j5Zyo6L+b6KGM55qE6Kem5pG45LqL5Lu277yM5YiZ5aSE55CGCiAgICAgIGVsc2UgaWYgKGV2ZW50LnR5cGUgPT09ICdtb3VzZXVwJyAmJiAhdGhpcy5pc1RvdWNoaW5nKSB7CiAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5Db25uZWN0QnRuUHJlc3NUaW1lcik7IC8vIOa4hemZpOWumuaXtuWZqAoKICAgICAgICAgIGlmICghdGhpcy5pc0Nvbm5lY3RCdG5Mb25nUHJlc3MpIHsKICAgICAgICAgICAgdGhpcy5oYW5kbGVDb25uZWN0QnRuQ2xpY2soKTsgLy8g5aaC5p6c5LiN5piv6ZW/5oyJ77yM5YiZ6Kem5Y+R54K55Ye75LqL5Lu2CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5Db25uZWN0QnRuUHJlc3NUaW1lciA9IG51bGw7IC8vIOmHjee9ruWumuaXtuWZqAogICAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVDb25uZWN0QnRuQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZUNvbm5lY3RCdG5DbGljaygpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICBpZiAodGhpcy5oYXZlRGV2aWNlQ29ubmVjdCkgewogICAgICAgIHRoaXMuY2FsbFNob3dNZXNzYWdlQm94KCdQbGVhc2UgZGlzY29ubmVjdCBhbGwgZGV2aWNlcyBmaXJzdC4nLCAnZXJyb3InKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5Db25uZWN0QnRuQ2FuQ2xpY2spIHJldHVybjsgLy8g5aaC5p6c5LiN5Y+v54K55Ye777yM55u05o6l6L+U5ZueCgogICAgICB0aGlzLkNvbm5lY3RCdG5DYW5DbGljayA9IGZhbHNlOyAvLyDorr7nva7kuLrkuI3lj6/ngrnlh7sKCiAgICAgIGNvbnNvbGUubG9nKCJDb25uZWN0IEJ1dHRvbiBjbGlja2VkIik7CiAgICAgIHRoaXMuY29ubmVjdEFsbERldmljZSgpOyAvLyDmgaLlpI3ngrnlh7vmnYPpmZAKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzOS5Db25uZWN0QnRuQ2FuQ2xpY2sgPSB0cnVlOwogICAgICB9LCAxMDAwKTsgLy8gMeenkuWQjuaBouWkjQogICAgfSwKICAgIGhhbmRsZUNvbm5lY3RCdG5Mb25nUHJlc3M6IGZ1bmN0aW9uIGhhbmRsZUNvbm5lY3RCdG5Mb25nUHJlc3MoKSB7CiAgICAgIGlmICh0aGlzLmhhdmVEZXZpY2VDb25uZWN0KSB7CiAgICAgICAgdGhpcy5jYWxsU2hvd01lc3NhZ2VCb3goJ1BsZWFzZSBkaXNjb25uZWN0IGFsbCBkZXZpY2VzIGZpcnN0LicsICdlcnJvcicpOwogICAgICAgIHJldHVybjsKICAgICAgfSAvLyDplb/mjInkuovku7bnmoTlpITnkIYKCgogICAgICBjb25zb2xlLmxvZygiQ29ubmVjdCBCdXR0b24gbG9uZyBwcmVzc2VkIik7CiAgICAgIHRoaXMuYXV0b0Nvbm5lY3RBbGxEZXZpY2UoKTsKICAgIH0sCiAgICBjb25uZWN0QWxsRGV2aWNlOiBmdW5jdGlvbiBjb25uZWN0QWxsRGV2aWNlKCkgewogICAgICBjb25zb2xlLmxvZygiUUhZQ0NEIHwgY29ubmVjdEFsbERldmljZS4iKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ29ubmVjdCBBbGwgRGV2aWNlJywgJ2luZm8nKTsKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnY29ubmVjdEFsbERldmljZScpOwogICAgICB0aGlzLmxvYWRpbmdDb25uZWN0QWxsRGV2aWNlID0gdHJ1ZTsKICAgIH0sCiAgICBhdXRvQ29ubmVjdEFsbERldmljZTogZnVuY3Rpb24gYXV0b0Nvbm5lY3RBbGxEZXZpY2UoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJRSFlDQ0QgfCBhdXRvQ29ubmVjdEFsbERldmljZS4iKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQXV0byBDb25uZWN0IEFsbCBEZXZpY2UnLCAnaW5mbycpOwogICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdhdXRvQ29ubmVjdEFsbERldmljZScpOwogICAgICB0aGlzLmxvYWRpbmdDb25uZWN0QWxsRGV2aWNlID0gdHJ1ZTsKICAgIH0sCiAgICAvLyBjb25uZWN0QWxsRGV2aWNlKCkgewogICAgLy8gICBjb25zb2xlLmxvZygiUUhZQ0NEIHwgY29ubmVjdEFsbERldmljZS4iKTsKICAgIC8vICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ29ubmVjdCBBbGwgRGV2aWNlJywgJ2luZm8nKTsKICAgIC8vICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnY29ubmVjdEFsbERldmljZScpOwogICAgLy8gICB0aGlzLmxvYWRpbmdDb25uZWN0QWxsRGV2aWNlID0gdHJ1ZTsKICAgIC8vIH0sCiAgICAvLyBhdXRvQ29ubmVjdEFsbERldmljZSgpIHsKICAgIC8vICAgY29uc29sZS5sb2coIlFIWUNDRCB8IGF1dG9Db25uZWN0QWxsRGV2aWNlLiIpOwogICAgLy8gICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdBdXRvIENvbm5lY3QgQWxsIERldmljZScsICdpbmZvJyk7CiAgICAvLyAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2F1dG9Db25uZWN0QWxsRGV2aWNlJyk7CiAgICAvLyAgIHRoaXMubG9hZGluZ0Nvbm5lY3RBbGxEZXZpY2UgPSB0cnVlOwogICAgLy8gfSwKICAgIC8vIHN0YXJ0Q29ubmVjdEJ0blByZXNzKCkgewogICAgLy8gICB0aGlzLmlzQ29ubmVjdEJ0bkxvbmdQcmVzcyA9IGZhbHNlOyAvLyDph43nva7plb/mjInmoIforrAKICAgIC8vICAgdGhpcy5Db25uZWN0QnRuUHJlc3NUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgLy8gICAgIHRoaXMuaXNDb25uZWN0QnRuTG9uZ1ByZXNzID0gdHJ1ZTsgLy8g5qCH6K6w5Li66ZW/5oyJCiAgICAvLyAgICAgdGhpcy5oYW5kbGVDb25uZWN0QnRuTG9uZ1ByZXNzKCk7CiAgICAvLyAgIH0sIHRoaXMuQ29ubmVjdEJ0bmxvbmdQcmVzc1RocmVzaG9sZCk7CiAgICAvLyB9LAogICAgLy8gZW5kQ29ubmVjdEJ0blByZXNzKCkgewogICAgLy8gICBjbGVhclRpbWVvdXQodGhpcy5Db25uZWN0QnRuUHJlc3NUaW1lcik7IC8vIOa4hemZpOWumuaXtuWZqAogICAgLy8gICBpZiAoIXRoaXMuaXNDb25uZWN0QnRuTG9uZ1ByZXNzKSB7CiAgICAvLyAgICAgdGhpcy5oYW5kbGVDb25uZWN0QnRuQ2xpY2soKTsgLy8g5aaC5p6c5LiN5piv6ZW/5oyJ77yM5YiZ6Kem5Y+R54K55Ye75LqL5Lu2CiAgICAvLyAgIH0KICAgIC8vICAgdGhpcy5Db25uZWN0QnRuUHJlc3NUaW1lciA9IG51bGw7IC8vIOmHjee9ruWumuaXtuWZqAogICAgLy8gfSwKICAgIC8vIGhhbmRsZUNvbm5lY3RCdG5DbGljaygpIHsKICAgIC8vICAgaWYgKHRoaXMuaGF2ZURldmljZUNvbm5lY3QpIHsKICAgIC8vICAgICB0aGlzLmNhbGxTaG93TWVzc2FnZUJveCgnUGxlYXNlIGRpc2Nvbm5lY3QgYWxsIGRldmljZXMgZmlyc3QuJywgJ2Vycm9yJyk7CiAgICAvLyAgICAgcmV0dXJuOwogICAgLy8gICB9CiAgICAvLyAgIGlmICghdGhpcy5Db25uZWN0QnRuQ2FuQ2xpY2spIHJldHVybjsgLy8g5aaC5p6c5LiN5Y+v54K55Ye777yM55u05o6l6L+U5ZueCiAgICAvLyAgIHRoaXMuQ29ubmVjdEJ0bkNhbkNsaWNrID0gZmFsc2U7IC8vIOiuvue9ruS4uuS4jeWPr+eCueWHuwogICAgLy8gICBjb25zb2xlLmxvZygiQ29ubmVjdCBCdXR0b24gY2xpY2tlZCIpOwogICAgLy8gICB0aGlzLmNvbm5lY3RBbGxEZXZpY2UoKTsKICAgIC8vICAgLy8g5oGi5aSN54K55Ye75p2D6ZmQCiAgICAvLyAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgLy8gICAgIHRoaXMuQ29ubmVjdEJ0bkNhbkNsaWNrID0gdHJ1ZTsKICAgIC8vICAgfSwgMTAwMCk7IC8vIDHnp5LlkI7mgaLlpI0KICAgIC8vIH0sCiAgICAvLyBoYW5kbGVDb25uZWN0QnRuTG9uZ1ByZXNzKCkgewogICAgLy8gICBpZiAodGhpcy5oYXZlRGV2aWNlQ29ubmVjdCkgewogICAgLy8gICAgIHRoaXMuY2FsbFNob3dNZXNzYWdlQm94KCdQbGVhc2UgZGlzY29ubmVjdCBhbGwgZGV2aWNlcyBmaXJzdC4nLCAnZXJyb3InKTsKICAgIC8vICAgICByZXR1cm47CiAgICAvLyAgIH0KICAgIC8vICAgLy8g6ZW/5oyJ5LqL5Lu255qE5aSE55CGCiAgICAvLyAgIGNvbnNvbGUubG9nKCJDb25uZWN0IEJ1dHRvbiBsb25nIHByZXNzZWQiKTsKICAgIC8vICAgdGhpcy5hdXRvQ29ubmVjdEFsbERldmljZSgpOwogICAgLy8gfSwKICAgIGRpc2Nvbm5lY3RBbGxEZXZpY2U6IGZ1bmN0aW9uIGRpc2Nvbm5lY3RBbGxEZXZpY2UoY29uZmlybSkgewogICAgICAvLyDmo4Dmn6XmmK/lkKbmnInorr7lpIfnmoQgaXNDb25uZWN0ZWQg5bGe5oCn5Li6IHRydWUKICAgICAgLy8gY29uc3QgaGFzQ29ubmVjdGVkRGV2aWNlcyA9IHRoaXMuZGV2aWNlcy5zb21lKGRldmljZSA9PiBkZXZpY2UuaXNDb25uZWN0ZWQpOwogICAgICBpZiAodGhpcy5oYXZlRGV2aWNlQ29ubmVjdCkgewogICAgICAgIGlmIChjb25maXJtID09PSBmYWxzZSkgewogICAgICAgICAgdGhpcy5TaG93Q29uZmlybURpYWxvZygnQ29uZmlybScsICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGlzY29ubmVjdCBhbGwgZGV2aWNlcz8nLCAnZGlzY29ubmVjdEFsbERldmljZScpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdkaXNjb25uZWN0QWxsRGV2aWNlJyk7CiAgICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdEaXNjb25uZWN0IEFsbCBEZXZpY2UnLCAnaW5mbycpOwogICAgICAgICAgdGhpcy5oYXZlRGV2aWNlQ29ubmVjdCA9IGZhbHNlOyAvLyB0aGlzLmRldmljZXMuZm9yRWFjaChkZXZpY2UgPT4gewogICAgICAgICAgLy8gICBkZXZpY2UuaXNDb25uZWN0ZWQgPSBmYWxzZTsKICAgICAgICAgIC8vICAgLy8gZGV2aWNlLmRldmljZSA9ICcnOwogICAgICAgICAgLy8gfSk7CgogICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdNYWluQ2FtZXJhQ29ubmVjdGVkJywgMCk7CiAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ01vdW50Q29ubmVjdGVkJywgMCk7CiAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0NGV0Nvbm5lY3RlZCcsIDApOwogICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdGb2N1c2VyQ29ubmVjdGVkJywgMCk7CiAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0d1aWRlckNvbm5lY3RlZCcsIDApOwogICAgICAgICAgdGhpcy5jbGFlckRldmljZUxpc3QoKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jYWxsU2hvd01lc3NhZ2VCb3goJ05vIGRldmljZXMgaGF2ZSBiZWVuIGNvbm5lY3RlZC4nLCAnZXJyb3InKTsKICAgICAgfQogICAgfSwKICAgIC8vIGNsYWVyRGV2aWNlTGlzdCgpIHsKICAgIC8vICAgdGhpcy5kZXZpY2VzLmZvckVhY2goZGV2aWNlID0+IHsKICAgIC8vICAgICBkZXZpY2UuaXNDb25uZWN0ZWQgPSBmYWxzZTsKICAgIC8vICAgICBkZXZpY2UuaXNnZXQgPSBmYWxzZTsKICAgIC8vICAgICBkZXZpY2UuZGV2aWNlID0gJyc7IAogICAgLy8gICAgIGRldmljZS5kcml2ZXJOYW1lID0gJyc7CiAgICAvLyAgIH0pOwogICAgLy8gICB0aGlzLlRvQmVDb25uZWN0RGV2aWNlID0gW107CiAgICAvLyAgIHRoaXMuZGV2aWNlc0xpc3QgPSBbXTsKICAgIC8vICAgdGhpcy5kcml2ZXJzID0gW107CiAgICAvLyAgIHRoaXMuJGJ1cy4kZW1pdCgnY2xhZXJEZXZpY2VBbGxvY2F0aW9uTGlzdCcpOwogICAgLy8gfSwKICAgIGNsYWVyRGV2aWNlTGlzdDogZnVuY3Rpb24gY2xhZXJEZXZpY2VMaXN0KCkgewogICAgICB0aGlzLmRldmljZXMuZm9yRWFjaChmdW5jdGlvbiAoZGV2aWNlKSB7CiAgICAgICAgZGV2aWNlLmRldmljZSA9ICIiOwogICAgICAgIGRldmljZS5pc0Nvbm5lY3RlZCA9IGZhbHNlOwogICAgICAgIGRldmljZS5pc2dldCA9IGZhbHNlOwogICAgICAgIGRldmljZS5kcml2ZXJOYW1lID0gJyc7CiAgICAgICAgZGV2aWNlLkJhdWRSYXRlID0gOTYwMDsKICAgICAgfSk7CiAgICAgIHRoaXMuVG9CZUNvbm5lY3REZXZpY2UgPSBbXTsKICAgICAgdGhpcy5kZXZpY2VzTGlzdCA9IFtdOwogICAgICB0aGlzLmRyaXZlcnMgPSBbXTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdjbGFlckRldmljZUFsbG9jYXRpb25MaXN0Jyk7CiAgICB9LAogICAgU3dpdGNoT3V0UHV0UG93ZXI6IGZ1bmN0aW9uIFN3aXRjaE91dFB1dFBvd2VyKGluZGV4LCBpc1Bvd2VyT04pIHsKICAgICAgaWYgKGlzUG93ZXJPTikgewogICAgICAgIHRoaXMuZHJhd2VyXzIgPSBmYWxzZTsKICAgICAgICB0aGlzLlNob3dDb25maXJtRGlhbG9nKCdPdXRwdXQgUG93ZXI6JyArIGluZGV4LCAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHR1cm4gb2ZmIHRoaXMgb3V0cHV0IHBvd2VyPycsICdTd2l0Y2hPdXRQdXRQb3dlcicpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnU3dpdGNoT3V0UHV0UG93ZXI6JyArIGluZGV4KTsKICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdTd2l0Y2ggT3V0UHV0UG93ZXInICsgaW5kZXgsICdpbmZvJyk7CiAgICAgIH0KICAgIH0sCiAgICBSZXN0YXJ0UmFzcGJlcnJ5UGk6IGZ1bmN0aW9uIFJlc3RhcnRSYXNwYmVycnlQaSgpIHsKICAgICAgdGhpcy5kcmF3ZXJfMiA9IGZhbHNlOwogICAgICB0aGlzLlNob3dDb25maXJtRGlhbG9nKCdSZXN0YXJ0JywgJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZXN0YXJ0IHRoZSBSYXNwYmVycnkgUGk/JywgJ1Jlc3RhcnRSYXNwYmVycnlQaScpOwogICAgfSwKICAgIFNodXRkb3duUmFzcGJlcnJ5UGk6IGZ1bmN0aW9uIFNodXRkb3duUmFzcGJlcnJ5UGkoKSB7CiAgICAgIHRoaXMuZHJhd2VyXzIgPSBmYWxzZTsKICAgICAgdGhpcy5TaG93Q29uZmlybURpYWxvZygnU2h1dCBEb3duJywgJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBzaHV0IGRvd24gdGhlIFJhc3BiZXJyeSBQaT8nLCAnU2h1dGRvd25SYXNwYmVycnlQaScpOwogICAgfSwKICAgIFJldHVybkNvbm5lY3RlZERldmljZXM6IGZ1bmN0aW9uIFJldHVybkNvbm5lY3RlZERldmljZXMoKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIHRoaXMuZGV2aWNlcy5mb3JFYWNoKGZ1bmN0aW9uIChkZXZpY2UpIHsKICAgICAgICBpZiAoZGV2aWNlLmRyaXZlclR5cGUgPT09ICdNYWluQ2FtZXJhJykgewogICAgICAgICAgaWYgKGRldmljZS5pc0Nvbm5lY3RlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgICBfdGhpczEwLiRidXMuJGVtaXQoJ01haW5DYW1lcmFDb25uZWN0ZWQnLCAxKTsKCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNYWluQ2FtZXJhIGlzIENvbm5lY3RlZC4nKTsKCiAgICAgICAgICAgIF90aGlzMTAuU2VuZENvbnNvbGVMb2dNc2coJ01haW5DYW1lcmEgaXMgQ29ubmVjdGVkLicsICdpbmZvJyk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChkZXZpY2UuZHJpdmVyVHlwZSA9PT0gJ01vdW50JykgewogICAgICAgICAgaWYgKGRldmljZS5pc0Nvbm5lY3RlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgICBfdGhpczEwLiRidXMuJGVtaXQoJ01vdW50Q29ubmVjdGVkJywgMSk7CgogICAgICAgICAgICBjb25zb2xlLmxvZygnTW91bnQgaXMgQ29ubmVjdGVkLicpOwoKICAgICAgICAgICAgX3RoaXMxMC5TZW5kQ29uc29sZUxvZ01zZygnTW91bnQgaXMgQ29ubmVjdGVkLicsICdpbmZvJyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnbG9hZFNlbGVjdGVkRHJpdmVyTGlzdCcpOwogICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdsb2FkQmluZERldmljZUxpc3QnKTsKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnbG9hZEJpbmREZXZpY2VUeXBlTGlzdCcpOwogICAgfSwKICAgIE9wZW5JYW1nZUZvbGRlcjogZnVuY3Rpb24gT3BlbklhbWdlRm9sZGVyKCkgewogICAgICB0aGlzLiRidXMuJGVtaXQoJ0ltYWdlTWFuYWdlclBhbmVsT3BlbicpOwogICAgICB0aGlzLm5hdiA9IGZhbHNlOwogICAgfSwKICAgIE9wZW5EZWJ1Z0xvZzogZnVuY3Rpb24gT3BlbkRlYnVnTG9nKCkgewogICAgICB0aGlzLiRidXMuJGVtaXQoJ3RvZ2dsZUlORElEZWJ1Z0RpYWxvZycpOwogICAgICB0aGlzLm5hdiA9IGZhbHNlOwogICAgfSwKICAgIFNlbmRDb25zb2xlTG9nTXNnOiBmdW5jdGlvbiBTZW5kQ29uc29sZUxvZ01zZyhtZXNzYWdlLCB0eXBlKSB7CiAgICAgIGlmICh0eXBlID09ICdlcnJvcicpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvcjogJyArIG1lc3NhZ2UpOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU2VuZENvbnNvbGVMb2cnLCB0eXBlLCBtZXNzYWdlKTsKICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdpbmZvJykgewogICAgICAgIGNvbnNvbGUubG9nKCdJbmZvOiAnICsgbWVzc2FnZSk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTZW5kQ29uc29sZUxvZycsIHR5cGUsIG1lc3NhZ2UpOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ3dhcm5pbmcnKSB7CiAgICAgICAgY29uc29sZS53YXJuKCdXYXJuaW5nOiAnICsgbWVzc2FnZSk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTZW5kQ29uc29sZUxvZycsIHR5cGUsIG1lc3NhZ2UpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCdEZWJ1ZzogJyArIG1lc3NhZ2UpOwogICAgICB9CiAgICB9LAogICAgRGV2aWNlQWxsb2NhdGlvbjogZnVuY3Rpb24gRGV2aWNlQWxsb2NhdGlvbigpIHsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCd0b2dnbGVEZXZpY2VBbGxvY2F0aW9uUGFuZWwnKTsKICAgICAgdGhpcy5uYXYgPSBmYWxzZTsKICAgIH0sCiAgICBDdXJyZW50RXhwVGltZUxpc3Q6IGZ1bmN0aW9uIEN1cnJlbnRFeHBUaW1lTGlzdChpbmRleCwgdmFsdWUpIHsKICAgICAgdmFyIGV4cFRpbWVJbmRleCA9IHRoaXMuTWFpbkNhbWVyYUNvbmZpZ0l0ZW1zLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmxhYmVsID09PSAnRXhwVGltZSBbJyArIChpbmRleCArIDEpICsgJ10nOwogICAgICB9KTsKCiAgICAgIGlmIChleHBUaW1lSW5kZXggIT09IC0xKSB7CiAgICAgICAgLy8g56Gu5L+d5om+5Yiw5LqG5a+55bqU55qE6YWN572u6aG5CiAgICAgICAgLy8g5pu05pawIEV4cFRpbWUxIOmFjee9rumhueeahOWAvAogICAgICAgIHRoaXMuTWFpbkNhbWVyYUNvbmZpZ0l0ZW1zW2V4cFRpbWVJbmRleF0udmFsdWUgPSB2YWx1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdFeHBUaW1lIFsnICsgaW5kZXggKyAnXSBjb25maWd1cmF0aW9uIGl0ZW0gbm90IGZvdW5kLicpOwogICAgICB9CiAgICB9LAogICAgQ3VycmVudENGV0xpc3Q6IGZ1bmN0aW9uIEN1cnJlbnRDRldMaXN0KGluZGV4LCB2YWx1ZSkgewogICAgICB2YXIgZXhwVGltZUluZGV4ID0gdGhpcy5DRldDb25maWdJdGVtcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5sYWJlbCA9PT0gJ0NGVyBbJyArIChpbmRleCArIDEpICsgJ10nOwogICAgICB9KTsKCiAgICAgIGlmIChleHBUaW1lSW5kZXggIT09IC0xKSB7CiAgICAgICAgLy8g56Gu5L+d5om+5Yiw5LqG5a+55bqU55qE6YWN572u6aG5CiAgICAgICAgLy8g5pu05pawIEV4cFRpbWUxIOmFjee9rumhueeahOWAvAogICAgICAgIHRoaXMuQ0ZXQ29uZmlnSXRlbXNbZXhwVGltZUluZGV4XS52YWx1ZSA9IHZhbHVlOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NGVyBbJyArIGluZGV4ICsgJ10gY29uZmlndXJhdGlvbiBpdGVtIG5vdCBmb3VuZC4nKTsKICAgICAgfQogICAgfSwKICAgIC8vIGNvbmZpcm1Db25maWd1cmF0aW9uKGl0ZW0pIHsKICAgIC8vICAgY29uc29sZS5sb2coYFFIWUNDRCB8IGNvbmZpcm1Db25maWd1cmF0aW9uOiAke2l0ZW0udmFsdWV9YCk7CiAgICAvLyAgIHN3aXRjaCAoaXRlbS5kcml2ZXJUeXBlKSB7CiAgICAvLyAgICAgY2FzZSAnR3VpZGVyJzoKICAgIC8vICAgICBjYXNlICdNYWluQ2FtZXJhJzoKICAgIC8vICAgICAgIHRoaXMuJGJ1cy4kZW1pdChpdGVtLmxhYmVsLCBpdGVtLmxhYmVsICsgJzonICsgaXRlbS52YWx1ZSk7CiAgICAvLyAgICAgY2FzZSAnTW91bnQnOgogICAgLy8gICAgIGNhc2UgJ1RlbGVzY29wZSc6CiAgICAvLyAgICAgY2FzZSAnRm9jdXNlcic6CiAgICAvLyAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdChpdGVtLmxhYmVsLCBpdGVtLnZhbHVlKTsgIC8vUmVkQm94IFNpZGUgTGVuZ3RoIChweCkKICAgIC8vICAgICBjYXNlICdQb2xlQ2FtZXJhJzoKICAgIC8vICAgICBjYXNlICdDRlcnOgogICAgLy8gICAgICAgaWYgKGl0ZW0ubGFiZWwuc3RhcnRzV2l0aCgnQ0ZXIFsnKSkgewogICAgLy8gICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0NGV3ZhbHVlJywgaXRlbS5sYWJlbCsnOicraXRlbS52YWx1ZSk7CiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgICBlbHNlIHsKICAgIC8vICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KGl0ZW0ubGFiZWwsIGl0ZW0ubGFiZWwrJzonK2l0ZW0udmFsdWUpOwogICAgLy8gICAgICAgfQogICAgLy8gICB9CiAgICAvLyB9LAogICAgY29uZmlybUNvbmZpZ3VyYXRpb246IGZ1bmN0aW9uIGNvbmZpcm1Db25maWd1cmF0aW9uKExpc3QpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0udmFsdWUgIT09ICcnKSB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhpdGVtLmxhYmVsLCBpdGVtLnZhbHVlKTsKICAgICAgICAgIF90aGlzMTEuU2VuZENvbnNvbGVMb2dNc2coaXRlbS5sYWJlbCArICc6JyArIGl0ZW0udmFsdWUsICdpbmZvJyk7CgogICAgICAgICAgX3RoaXMxMS4kYnVzLiRlbWl0KGl0ZW0ubGFiZWwsIGl0ZW0ubGFiZWwgKyAnOicgKyBpdGVtLnZhbHVlKTsKICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udmFsdWUgPT0gJycgJiYgaXRlbS5sYWJlbCA9PT0gJ0ZvY2FsIExlbmd0aCAobW0pJykgewogICAgICAgICAgX3RoaXMxMS5TZW5kQ29uc29sZUxvZ01zZyhpdGVtLmxhYmVsICsgJ2lzIE5VTEwnLCAnaW5mbycpOwoKICAgICAgICAgIF90aGlzMTEuJGJ1cy4kZW1pdChpdGVtLmxhYmVsLCBpdGVtLmxhYmVsICsgJzonKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmNhbGxTaG93TWVzc2FnZUJveCgnQ29uZmlndXJhdGlvbiBoYXMgYmVlbiBtb2RpZmllZCEnLCAnc3VjY2VzcycpOwogICAgfSwKICAgIGxvYWRBbmREaXNwbGF5SW1hZ2U6IGZ1bmN0aW9uIGxvYWRBbmREaXNwbGF5SW1hZ2UoaW1hZ2VQYXRoKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3VpZGVyQ2FtZXJhLWNhbnZhcycpOyAvLyBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbkNhbWVyYS1jYW52YXMnKTsKCiAgICAgIGlmIChjYW52YXMuZ2V0Q29udGV4dCkgewogICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7CgogICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBjYW52YXMud2lkdGggPSBpbWcud2lkdGg7CiAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodDsKICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTsgLy8gdGhpcy4kYnVzLiRlbWl0KCdzaG93U29sdmVJbWFnZScsIGltZyk7CiAgICAgICAgfTsgLy8g5re75Yqg6ZSZ6K+v5aSE55CGCgoKICAgICAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coIlx1NTJBMFx1OEY3RFx1NTZGRVx1NTBDRlx1NTkzMVx1OEQyNTogIi5jb25jYXQoaW1hZ2VQYXRoKSk7CgogICAgICAgICAgX3RoaXMxMi5TZW5kQ29uc29sZUxvZ01zZygiXHU1MkEwXHU4RjdEXHU1NkZFXHU1MENGXHU1OTMxXHU4RDI1OiAiLmNvbmNhdChpbWFnZVBhdGgpLCAnZXJyb3InKTsKICAgICAgICB9OwoKICAgICAgICBpbWcuc3JjID0gaW1hZ2VQYXRoOwogICAgICB9CiAgICB9LAogICAgSW1hZ2VHYWluU2V0OiBmdW5jdGlvbiBJbWFnZUdhaW5TZXQocGF5bG9hZCkgewogICAgICB2YXIgX3BheWxvYWQkc3BsaXQgPSBwYXlsb2FkLnNwbGl0KCc6JyksCiAgICAgICAgICBfcGF5bG9hZCRzcGxpdDIgPSBfc2xpY2VkVG9BcnJheShfcGF5bG9hZCRzcGxpdCwgMiksCiAgICAgICAgICBzaWduYWwgPSBfcGF5bG9hZCRzcGxpdDJbMF0sCiAgICAgICAgICB2YWx1ZSA9IF9wYXlsb2FkJHNwbGl0MlsxXTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CgoKICAgICAgdmFyIGRvdWJsZVZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7IC8vIOWwhuWAvOi9rOaNouS4uiBkb3VibGUg57G75Z6LCgogICAgICBpZiAoc2lnbmFsID09PSAnSW1hZ2VHYWluUicpIHsKICAgICAgICAvLyDlpITnkIYgSW1hZ2VHYWluUiDkv6Hlj7cKICAgICAgICB0aGlzLkltYWdlR2FpblIgPSBkb3VibGVWYWx1ZTsKICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdJbWFnZUdhaW5SIGlzIHNldCB0bzonICsgZG91YmxlVmFsdWUsICdpbmZvJyk7CiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnSW1hZ2VHYWluUjonICsgZG91YmxlVmFsdWUpOwogICAgICB9IGVsc2UgaWYgKHNpZ25hbCA9PT0gJ0ltYWdlR2FpbkInKSB7CiAgICAgICAgLy8g5aSE55CGIEltYWdlR2FpbkIg5L+h5Y+3CiAgICAgICAgdGhpcy5JbWFnZUdhaW5CID0gZG91YmxlVmFsdWU7CiAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnSW1hZ2VHYWluQiBpcyBzZXQgdG86JyArIGRvdWJsZVZhbHVlLCAnaW5mbycpOwogICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ0ltYWdlR2FpbkI6JyArIGRvdWJsZVZhbHVlKTsKICAgICAgfQogICAgfSwKICAgIC8vIENhbWVyYU9mZnNldFNldChwYXlsb2FkKSB7CiAgICAvLyAgIGNvbnN0IFtzaWduYWwsIHZhbHVlXSA9IHBheWxvYWQuc3BsaXQoJzonKTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CiAgICAvLyAgIGNvbnN0IGRvdWJsZVZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7IC8vIOWwhuWAvOi9rOaNouS4uiBkb3VibGUg57G75Z6LCiAgICAvLyAgIGNvbnNvbGUubG9nKCdDYW1lcmFPZmZzZXQgaXMgc2V0IHRvOicsIGRvdWJsZVZhbHVlKTsKICAgIC8vICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ2FtZXJhT2Zmc2V0IGlzIHNldCB0bzonICsgZG91YmxlVmFsdWUsICdpbmZvJyk7CiAgICAvLyB9LAogICAgSW1hZ2VPZmZzZXRTZXQ6IGZ1bmN0aW9uIEltYWdlT2Zmc2V0U2V0KHBheWxvYWQpIHsKICAgICAgdmFyIF9wYXlsb2FkJHNwbGl0MyA9IHBheWxvYWQuc3BsaXQoJzonKSwKICAgICAgICAgIF9wYXlsb2FkJHNwbGl0NCA9IF9zbGljZWRUb0FycmF5KF9wYXlsb2FkJHNwbGl0MywgMiksCiAgICAgICAgICBzaWduYWwgPSBfcGF5bG9hZCRzcGxpdDRbMF0sCiAgICAgICAgICB2YWx1ZSA9IF9wYXlsb2FkJHNwbGl0NFsxXTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CgoKICAgICAgdmFyIGRvdWJsZVZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7IC8vIOWwhuWAvOi9rOaNouS4uiBkb3VibGUg57G75Z6LCgogICAgICB0aGlzLkltYWdlT2Zmc2V0ID0gZG91YmxlVmFsdWU7CiAgICAgIGNvbnNvbGUubG9nKCdJbWFnZSBPZmZzZXQgaXMgc2V0IHRvOicsIGRvdWJsZVZhbHVlKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnSW1hZ2UgT2Zmc2V0IGlzIHNldCB0bzonICsgZG91YmxlVmFsdWUsICdpbmZvJyk7CiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ0ltYWdlT2Zmc2V0OicgKyBkb3VibGVWYWx1ZSk7CiAgICB9LAogICAgQmlubmluZ1NldDogZnVuY3Rpb24gQmlubmluZ1NldChwYXlsb2FkKSB7CiAgICAgIHZhciBfcGF5bG9hZCRzcGxpdDUgPSBwYXlsb2FkLnNwbGl0KCc6JyksCiAgICAgICAgICBfcGF5bG9hZCRzcGxpdDYgPSBfc2xpY2VkVG9BcnJheShfcGF5bG9hZCRzcGxpdDUsIDIpLAogICAgICAgICAgc2lnbmFsID0gX3BheWxvYWQkc3BsaXQ2WzBdLAogICAgICAgICAgdmFsdWUgPSBfcGF5bG9hZCRzcGxpdDZbMV07IC8vIOaLhuWIhuS/oeWPt+WSjOWAvAoKCiAgICAgIHZhciBJbnRWYWx1ZSA9IHBhcnNlSW50KHZhbHVlKTsgLy8g5bCG5YC86L2s5o2i5Li6IEludCDnsbvlnosKCiAgICAgIGNvbnNvbGUubG9nKCdJbWFnZSBCaW5uaW5nIGlzIHNldCB0bzonLCBJbnRWYWx1ZSk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0ltYWdlIEJpbm5pbmcgaXMgc2V0IHRvOicgKyBJbnRWYWx1ZSwgJ2luZm8nKTsKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnU2V0QmlubmluZzonICsgSW50VmFsdWUpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ1NldEJpbm5pbmdOdW0nLCBJbnRWYWx1ZSk7CiAgICB9LAogICAgR2FpblNldDogZnVuY3Rpb24gR2FpblNldChwYXlsb2FkKSB7CiAgICAgIHZhciBfcGF5bG9hZCRzcGxpdDcgPSBwYXlsb2FkLnNwbGl0KCc6JyksCiAgICAgICAgICBfcGF5bG9hZCRzcGxpdDggPSBfc2xpY2VkVG9BcnJheShfcGF5bG9hZCRzcGxpdDcsIDIpLAogICAgICAgICAgc2lnbmFsID0gX3BheWxvYWQkc3BsaXQ4WzBdLAogICAgICAgICAgdmFsdWUgPSBfcGF5bG9hZCRzcGxpdDhbMV07IC8vIOaLhuWIhuS/oeWPt+WSjOWAvAoKCiAgICAgIHZhciBJbnRWYWx1ZSA9IHBhcnNlSW50KHZhbHVlKTsgLy8g5bCG5YC86L2s5o2i5Li6IEludCDnsbvlnosKCiAgICAgIGNvbnNvbGUubG9nKCdDYW1lcmEgR2FpbiBpcyBzZXQgdG86JywgSW50VmFsdWUpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdDYW1lcmEgR2FpbiBpcyBzZXQgdG86JyArIEludFZhbHVlLCAnaW5mbycpOwogICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdTZXRDYW1lcmFHYWluOicgKyBJbnRWYWx1ZSk7CiAgICB9LAogICAgT2Zmc2V0U2V0OiBmdW5jdGlvbiBPZmZzZXRTZXQocGF5bG9hZCkgewogICAgICB2YXIgX3BheWxvYWQkc3BsaXQ5ID0gcGF5bG9hZC5zcGxpdCgnOicpLAogICAgICAgICAgX3BheWxvYWQkc3BsaXQxMCA9IF9zbGljZWRUb0FycmF5KF9wYXlsb2FkJHNwbGl0OSwgMiksCiAgICAgICAgICBzaWduYWwgPSBfcGF5bG9hZCRzcGxpdDEwWzBdLAogICAgICAgICAgdmFsdWUgPSBfcGF5bG9hZCRzcGxpdDEwWzFdOyAvLyDmi4bliIbkv6Hlj7flkozlgLwKCgogICAgICB2YXIgSW50VmFsdWUgPSBwYXJzZUludCh2YWx1ZSk7IC8vIOWwhuWAvOi9rOaNouS4uiBJbnQg57G75Z6LCgogICAgICBjb25zb2xlLmxvZygnQ2FtZXJhIE9mZnNldCBpcyBzZXQgdG86JywgSW50VmFsdWUpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdDYW1lcmEgT2Zmc2V0IGlzIHNldCB0bzonICsgSW50VmFsdWUsICdpbmZvJyk7CiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ1NldENhbWVyYU9mZnNldDonICsgSW50VmFsdWUpOwogICAgfSwKICAgIEltYWdlQ0ZBU2V0OiBmdW5jdGlvbiBJbWFnZUNGQVNldChwYXlsb2FkKSB7CiAgICAgIHZhciBfcGF5bG9hZCRzcGxpdDExID0gcGF5bG9hZC5zcGxpdCgnOicpLAogICAgICAgICAgX3BheWxvYWQkc3BsaXQxMiA9IF9zbGljZWRUb0FycmF5KF9wYXlsb2FkJHNwbGl0MTEsIDIpLAogICAgICAgICAgc2lnbmFsID0gX3BheWxvYWQkc3BsaXQxMlswXSwKICAgICAgICAgIHZhbHVlID0gX3BheWxvYWQkc3BsaXQxMlsxXTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CgoKICAgICAgaWYgKFsnR1InLCAnR0InLCAnQkcnLCAnUkdHQiddLmluY2x1ZGVzKHZhbHVlKSkgewogICAgICAgIHRoaXMuSW1hZ2VDRkEgPSB2YWx1ZTsKICAgICAgICBjb25zb2xlLmxvZygnSW1hZ2VDRkEgaXMgc2V0IHRvOicsIHZhbHVlKTsKICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdJbWFnZUNGQSBpcyBzZXQgdG86JyArIHZhbHVlLCAnaW5mbycpOwogICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ0ltYWdlQ0ZBOicgKyB2YWx1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coIkludmFsaWQgdmFsdWUgZm9yIEltYWdlQ0ZBOiAnIi5jb25jYXQodmFsdWUsICInLiBQbGVhc2Ugc2V0IGl0IHRvIG9uZSBvZiAnR1InLCAnR0InLCAnQkcnLCAnUkdHQicuIikpOwogICAgICAgIHRoaXMuY2FsbFNob3dNZXNzYWdlQm94KCJJbnZhbGlkIHZhbHVlIGZvciBJbWFnZUNGQTogJyIuY29uY2F0KHZhbHVlLCAiJy4gUGxlYXNlIHNldCBpdCB0byBvbmUgb2YgJ0dSJywgJ0dCJywgJ0JHJywgJ1JHR0InLiIpLCAnZXJyb3InKTsKICAgICAgfQogICAgfSwKICAgIENhbWVyYVRlbXBlcmF0dXJlU2V0OiBmdW5jdGlvbiBDYW1lcmFUZW1wZXJhdHVyZVNldChwYXlsb2FkKSB7CiAgICAgIHZhciBfcGF5bG9hZCRzcGxpdDEzID0gcGF5bG9hZC5zcGxpdCgnOicpLAogICAgICAgICAgX3BheWxvYWQkc3BsaXQxNCA9IF9zbGljZWRUb0FycmF5KF9wYXlsb2FkJHNwbGl0MTMsIDIpLAogICAgICAgICAgc2lnbmFsID0gX3BheWxvYWQkc3BsaXQxNFswXSwKICAgICAgICAgIHZhbHVlID0gX3BheWxvYWQkc3BsaXQxNFsxXTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CgoKICAgICAgdmFyIEludFZhbHVlID0gcGFyc2VJbnQodmFsdWUpOyAvLyDlsIblgLzovazmjaLkuLogSW50IOexu+WeiwoKICAgICAgY29uc29sZS5sb2coJ0NhbWVyYSBUZW1wZXJhdHVyZSBpcyBzZXQgdG86JywgSW50VmFsdWUpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdDYW1lcmEgVGVtcGVyYXR1cmUgaXMgc2V0IHRvOicgKyBJbnRWYWx1ZSwgJ2luZm8nKTsKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnU2V0Q2FtZXJhVGVtcGVyYXR1cmU6JyArIEludFZhbHVlKTsKICAgIH0sCiAgICBGb2NhbExlbmd0aFNldDogZnVuY3Rpb24gRm9jYWxMZW5ndGhTZXQocGF5bG9hZCkgewogICAgICB2YXIgX3BheWxvYWQkc3BsaXQxNSA9IHBheWxvYWQuc3BsaXQoJzonKSwKICAgICAgICAgIF9wYXlsb2FkJHNwbGl0MTYgPSBfc2xpY2VkVG9BcnJheShfcGF5bG9hZCRzcGxpdDE1LCAyKSwKICAgICAgICAgIHNpZ25hbCA9IF9wYXlsb2FkJHNwbGl0MTZbMF0sCiAgICAgICAgICB2YWx1ZSA9IF9wYXlsb2FkJHNwbGl0MTZbMV07IC8vIOaLhuWIhuS/oeWPt+WSjOWAvAoKCiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5kZXZpY2VzKSwKICAgICAgICAgIF9zdGVwMjsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBfZGV2aWNlNiA9IF9zdGVwMi52YWx1ZTsKCiAgICAgICAgICBpZiAoX2RldmljZTYuZHJpdmVyVHlwZSA9PT0gJ1RlbGVzY29wZXMnKSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09IE5hTikgewogICAgICAgICAgICAgIF9kZXZpY2U2LmRldmljZSA9ICcnOwogICAgICAgICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0ZvY2FsIExlbmd0aCBpcyBzZXQgdG86JyArIDAsICdpbmZvJyk7CiAgICAgICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTZXRGb2NhbExlbmd0aE51bScsICcnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB2YXIgSW50VmFsdWUgPSBwYXJzZUludCh2YWx1ZSk7IC8vIOWwhuWAvOi9rOaNouS4uiBJbnQg57G75Z6LCgogICAgICAgICAgICAgIF9kZXZpY2U2LmRldmljZSA9IHZhbHVlICsgJyBtbSc7CiAgICAgICAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnRm9jYWwgTGVuZ3RoIGlzIHNldCB0bzonICsgSW50VmFsdWUsICdpbmZvJyk7CiAgICAgICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTZXRGb2NhbExlbmd0aE51bScsIEludFZhbHVlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgIH0KICAgIH0sCiAgICBHdWlkZXJGb2NhbExlbmd0aFNldDogZnVuY3Rpb24gR3VpZGVyRm9jYWxMZW5ndGhTZXQocGF5bG9hZCkgewogICAgICB2YXIgX3BheWxvYWQkc3BsaXQxNyA9IHBheWxvYWQuc3BsaXQoJzonKSwKICAgICAgICAgIF9wYXlsb2FkJHNwbGl0MTggPSBfc2xpY2VkVG9BcnJheShfcGF5bG9hZCRzcGxpdDE3LCAyKSwKICAgICAgICAgIHNpZ25hbCA9IF9wYXlsb2FkJHNwbGl0MThbMF0sCiAgICAgICAgICB2YWx1ZSA9IF9wYXlsb2FkJHNwbGl0MThbMV07IC8vIOaLhuWIhuS/oeWPt+WSjOWAvAoKCiAgICAgIHZhciBJbnRWYWx1ZSA9IHBhcnNlSW50KHZhbHVlKTsgLy8g5bCG5YC86L2s5o2i5Li6IEludCDnsbvlnosKCiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0d1aWRlciBGb2NhbCBMZW5ndGggaXMgc2V0IHRvOicgKyBJbnRWYWx1ZSwgJ2luZm8nKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdHdWlkZXJGb2NhbExlbmd0aDonICsgSW50VmFsdWUpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ3NhdmVUb0NvbmZpZ0ZpbGU6R3VpZGVyRm9jYWxMZW5ndGg6JyArIEludFZhbHVlKTsKICAgIH0sCiAgICBNdWx0aVN0YXJHdWlkZXJTZXQ6IGZ1bmN0aW9uIE11bHRpU3Rhckd1aWRlclNldChwYXlsb2FkKSB7CiAgICAgIHZhciBfcGF5bG9hZCRzcGxpdDE5ID0gcGF5bG9hZC5zcGxpdCgnOicpLAogICAgICAgICAgX3BheWxvYWQkc3BsaXQyMCA9IF9zbGljZWRUb0FycmF5KF9wYXlsb2FkJHNwbGl0MTksIDIpLAogICAgICAgICAgc2lnbmFsID0gX3BheWxvYWQkc3BsaXQyMFswXSwKICAgICAgICAgIHZhbHVlID0gX3BheWxvYWQkc3BsaXQyMFsxXTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CgoKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnTXVsdGkgU3RhciBHdWlkZXIgaXMgc2V0IHRvOicgKyB2YWx1ZSwgJ2luZm8nKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdNdWx0aVN0YXJHdWlkZXI6JyArIHZhbHVlKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdzYXZlVG9Db25maWdGaWxlOk11bHRpU3Rhckd1aWRlcjonICsgdmFsdWUpOwogICAgfSwKICAgIEd1aWRlclBpeGVsU2l6ZVNldDogZnVuY3Rpb24gR3VpZGVyUGl4ZWxTaXplU2V0KHBheWxvYWQpIHsKICAgICAgdmFyIF9wYXlsb2FkJHNwbGl0MjEgPSBwYXlsb2FkLnNwbGl0KCc6JyksCiAgICAgICAgICBfcGF5bG9hZCRzcGxpdDIyID0gX3NsaWNlZFRvQXJyYXkoX3BheWxvYWQkc3BsaXQyMSwgMiksCiAgICAgICAgICBzaWduYWwgPSBfcGF5bG9hZCRzcGxpdDIyWzBdLAogICAgICAgICAgdmFsdWUgPSBfcGF5bG9hZCRzcGxpdDIyWzFdOyAvLyDmi4bliIbkv6Hlj7flkozlgLwKCgogICAgICB2YXIgZG91YmxlVmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnR3VpZGVyIFBpeGVsIHNpemUgaXMgc2V0IHRvOicgKyBkb3VibGVWYWx1ZSwgJ2luZm8nKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdHdWlkZXJQaXhlbFNpemU6JyArIGRvdWJsZVZhbHVlKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdzYXZlVG9Db25maWdGaWxlOkd1aWRlclBpeGVsU2l6ZTonICsgZG91YmxlVmFsdWUpOwogICAgfSwKICAgIEd1aWRlckdhaW5TZXQ6IGZ1bmN0aW9uIEd1aWRlckdhaW5TZXQocGF5bG9hZCkgewogICAgICB2YXIgX3BheWxvYWQkc3BsaXQyMyA9IHBheWxvYWQuc3BsaXQoJzonKSwKICAgICAgICAgIF9wYXlsb2FkJHNwbGl0MjQgPSBfc2xpY2VkVG9BcnJheShfcGF5bG9hZCRzcGxpdDIzLCAyKSwKICAgICAgICAgIHNpZ25hbCA9IF9wYXlsb2FkJHNwbGl0MjRbMF0sCiAgICAgICAgICB2YWx1ZSA9IF9wYXlsb2FkJHNwbGl0MjRbMV07IC8vIOaLhuWIhuS/oeWPt+WSjOWAvAoKCiAgICAgIHZhciBJbnRWYWx1ZSA9IHBhcnNlSW50KHZhbHVlKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnR3VpZGVyIEdhaW4gaXMgc2V0IHRvOicgKyBJbnRWYWx1ZSwgJ2luZm8nKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdHdWlkZXJHYWluOicgKyBJbnRWYWx1ZSk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnc2F2ZVRvQ29uZmlnRmlsZTpHdWlkZXJHYWluOicgKyBJbnRWYWx1ZSk7CiAgICB9LAogICAgQ2FsaWJyYXRpb25EdXJhdGlvblNldDogZnVuY3Rpb24gQ2FsaWJyYXRpb25EdXJhdGlvblNldChwYXlsb2FkKSB7CiAgICAgIHZhciBfcGF5bG9hZCRzcGxpdDI1ID0gcGF5bG9hZC5zcGxpdCgnOicpLAogICAgICAgICAgX3BheWxvYWQkc3BsaXQyNiA9IF9zbGljZWRUb0FycmF5KF9wYXlsb2FkJHNwbGl0MjUsIDIpLAogICAgICAgICAgc2lnbmFsID0gX3BheWxvYWQkc3BsaXQyNlswXSwKICAgICAgICAgIHZhbHVlID0gX3BheWxvYWQkc3BsaXQyNlsxXTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CgoKICAgICAgdmFyIEludFZhbHVlID0gcGFyc2VJbnQodmFsdWUpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdHdWlkZXIgQ2FsaWJyYXRpb24gc3RlcCBpcyBzZXQgdG86JyArIEludFZhbHVlLCAnaW5mbycpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0NhbGlicmF0aW9uRHVyYXRpb246JyArIEludFZhbHVlKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdzYXZlVG9Db25maWdGaWxlOkNhbGlicmF0aW9uRHVyYXRpb246JyArIEludFZhbHVlKTsKICAgIH0sCiAgICBSYUFnZ3Jlc3Npb25TZXQ6IGZ1bmN0aW9uIFJhQWdncmVzc2lvblNldChwYXlsb2FkKSB7CiAgICAgIHZhciBfcGF5bG9hZCRzcGxpdDI3ID0gcGF5bG9hZC5zcGxpdCgnOicpLAogICAgICAgICAgX3BheWxvYWQkc3BsaXQyOCA9IF9zbGljZWRUb0FycmF5KF9wYXlsb2FkJHNwbGl0MjcsIDIpLAogICAgICAgICAgc2lnbmFsID0gX3BheWxvYWQkc3BsaXQyOFswXSwKICAgICAgICAgIHZhbHVlID0gX3BheWxvYWQkc3BsaXQyOFsxXTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CgoKICAgICAgdmFyIEludFZhbHVlID0gcGFyc2VJbnQodmFsdWUpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdSYSBBZ2dyZXNzaW9uIGlzIHNldCB0bzonICsgSW50VmFsdWUsICdpbmZvJyk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnUmFBZ2dyZXNzaW9uOicgKyBJbnRWYWx1ZSk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnc2F2ZVRvQ29uZmlnRmlsZTpSYUFnZ3Jlc3Npb246JyArIEludFZhbHVlKTsKICAgIH0sCiAgICBEZWNBZ2dyZXNzaW9uU2V0OiBmdW5jdGlvbiBEZWNBZ2dyZXNzaW9uU2V0KHBheWxvYWQpIHsKICAgICAgdmFyIF9wYXlsb2FkJHNwbGl0MjkgPSBwYXlsb2FkLnNwbGl0KCc6JyksCiAgICAgICAgICBfcGF5bG9hZCRzcGxpdDMwID0gX3NsaWNlZFRvQXJyYXkoX3BheWxvYWQkc3BsaXQyOSwgMiksCiAgICAgICAgICBzaWduYWwgPSBfcGF5bG9hZCRzcGxpdDMwWzBdLAogICAgICAgICAgdmFsdWUgPSBfcGF5bG9hZCRzcGxpdDMwWzFdOyAvLyDmi4bliIbkv6Hlj7flkozlgLwKCgogICAgICB2YXIgSW50VmFsdWUgPSBwYXJzZUludCh2YWx1ZSk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0RlYyBBZ2dyZXNzaW9uIGlzIHNldCB0bzonICsgSW50VmFsdWUsICdpbmZvJyk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnRGVjQWdncmVzc2lvbjonICsgSW50VmFsdWUpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ3NhdmVUb0NvbmZpZ0ZpbGU6RGVjQWdncmVzc2lvbjonICsgSW50VmFsdWUpOwogICAgfSwKICAgIFN5bmNGb2N1c2VyU3RlcDogZnVuY3Rpb24gU3luY0ZvY3VzZXJTdGVwKHBheWxvYWQpIHsKICAgICAgdmFyIF9wYXlsb2FkJHNwbGl0MzEgPSBwYXlsb2FkLnNwbGl0KCc6JyksCiAgICAgICAgICBfcGF5bG9hZCRzcGxpdDMyID0gX3NsaWNlZFRvQXJyYXkoX3BheWxvYWQkc3BsaXQzMSwgMiksCiAgICAgICAgICBzaWduYWwgPSBfcGF5bG9hZCRzcGxpdDMyWzBdLAogICAgICAgICAgdmFsdWUgPSBfcGF5bG9hZCRzcGxpdDMyWzFdOyAvLyDmi4bliIbkv6Hlj7flkozlgLwKCgogICAgICB2YXIgSW50VmFsdWUgPSBwYXJzZUludCh2YWx1ZSk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1N5bmMgRm9jdXNlciBTdGVwOicgKyBJbnRWYWx1ZSwgJ2luZm8nKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdTeW5jRm9jdXNlclN0ZXA6JyArIEludFZhbHVlKTsKICAgIH0sCiAgICByZWFkQmluRmlsZTogZnVuY3Rpb24gcmVhZEJpbkZpbGUoZmlsZU5hbWUpIHsKICAgICAgdmFyIF9hcmd1bWVudHMgPSBhcmd1bWVudHMsCiAgICAgICAgICBfdGhpczEzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJldHJ5Q291bnQsIHN0YXJ0VGltZSwgcmVzcG9uc2UsIGNvbnRlbnRMZW5ndGgsIHRvdGFsLCBsb2FkZWQsIHJlYWRlciwgc3RyZWFtLCBuZXdSZXNwb25zZSwgYmxvYiwgZmlsZVJlYWRlcjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXRyeUNvdW50ID0gX2FyZ3VtZW50cy5sZW5ndGggPiAxICYmIF9hcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHNbMV0gOiAxOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMTMuaXNEb3dubG9hZGluZ0ltYWdlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMTMuaXNXYWl0aW5nTG9nZ2VkKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTMuU2VuZENvbnNvbGVMb2dNc2coJ1RoZSBpbWFnZSBpcyBhbHJlYWR5IGJlaW5nIHByb2Nlc3NlZC4gUGxlYXNlIHdhaXQgZm9yIHRoZSBwcmV2aW91cyBwcm9jZXNzIHRvIGNvbXBsZXRlLicsICd3YXJuaW5nJyk7CgogICAgICAgICAgICAgICAgICBfdGhpczEzLmlzV2FpdGluZ0xvZ2dlZCA9IHRydWU7IC8vIOehruS/neWPquiusOW9leS4gOasoeetieW+heS/oeaBrwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMTMuaXNEb3dubG9hZGluZ0ltYWdlTmFtZSA9PT0gZmlsZU5hbWUpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMxMy5TZW5kQ29uc29sZUxvZ01zZygnVGhlIGltYWdlKCcgKyBmaWxlTmFtZSArICcpIGlzIGFscmVhZHkgcHJvY2Vzc2VkLicsICdpbmZvJyk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfdGhpczEzLmlzRG93bmxvYWRpbmdJbWFnZSA9IHRydWU7CiAgICAgICAgICAgICAgICBfdGhpczEzLmlzV2FpdGluZ0xvZ2dlZCA9IGZhbHNlOyAvLyDph43nva7nrYnlvoXml6Xlv5fmoIflv5cKCiAgICAgICAgICAgICAgICBfdGhpczEzLlNlbmRDb25zb2xlTG9nTXNnKCdDYXB0dXJlVGVzdFRpbWUgfCBSZWFkIGltYWdlKCcgKyBmaWxlTmFtZSArICcpIGRhdGEgc3RhcnQuJywgJ2luZm8nKTsKCiAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE0OwoKICAgICAgICAgICAgICAgIGlmICghKCFmaWxlTmFtZSB8fCB0eXBlb2YgZmlsZU5hbWUgIT09ICdzdHJpbmcnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBmaWxlIG5hbWUgcHJvdmlkZWQnKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaChmaWxlTmFtZSwgewogICAgICAgICAgICAgICAgICBjYWNoZTogJ25vLXN0b3JlJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJOZXR3b3JrIHJlc3BvbnNlIHdhcyBub3Qgb2suIFN0YXR1czogIi5jb25jYXQocmVzcG9uc2Uuc3RhdHVzKSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBjb250ZW50TGVuZ3RoID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtbGVuZ3RoJyk7CgogICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRMZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRlbnQtTGVuZ3RoIGhlYWRlciBpcyBtaXNzaW5nJyk7CgogICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgICB0b3RhbCA9IHBhcnNlSW50KGNvbnRlbnRMZW5ndGgsIDEwKTsKCiAgICAgICAgICAgICAgICBpZiAoIShpc05hTih0b3RhbCkgfHwgdG90YWwgPD0gMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29udGVudC1sZW5ndGggdmFsdWUnKTsKCiAgICAgICAgICAgICAgY2FzZSAyODoKICAgICAgICAgICAgICAgIGxvYWRlZCA9IDA7CiAgICAgICAgICAgICAgICByZWFkZXIgPSByZXNwb25zZS5ib2R5LmdldFJlYWRlcigpOwogICAgICAgICAgICAgICAgc3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHsKICAgICAgICAgICAgICAgICAgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0KGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcHVzaCA9IGZ1bmN0aW9uIHB1c2goKSB7CiAgICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVhZCgpLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvbmUgPSBfcmVmLmRvbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF9yZWYudmFsdWU7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9uZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRlZCArPSB2YWx1ZS5ieXRlTGVuZ3RoOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGVyY2VudCA9IGxvYWRlZCAvIHRvdGFsICogMTAwOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGgucm91bmQocGVyY2VudCkgJSAxMCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMuU2VuZENvbnNvbGVMb2dNc2coIlByb2dyZXNzOiAiLmNvbmNhdChNYXRoLnJvdW5kKHBlcmNlbnQpLCAiJSIpLCAnaW5mbycpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLnVwZGF0ZUNhcHR1cmVJbWFnZVByb2dyZXNzKE1hdGgucm91bmQocGVyY2VudCkpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLlNlbmRDb25zb2xlTG9nTXNnKCJcdTVGNTNcdTUyNERcdThGREJcdTVFQTY6ICIuY29uY2F0KE1hdGgucm91bmQocGVyY2VudCksICIlIiksICdpbmZvJyk7CgogICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUodmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICBwdXNoKCk7CiAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignU3RyZWFtIHJlYWRpbmcgZXJyb3I6JywgZXJyb3IpOwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5TZW5kQ29uc29sZUxvZ01zZygnU3RyZWFtIHJlYWRpbmcgZXJyb3I6ICcgKyBlcnJvci5tZXNzYWdlLCAnZXJyb3InKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgcHVzaCgpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIG5ld1Jlc3BvbnNlID0gbmV3IFJlc3BvbnNlKHN0cmVhbSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzQ7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3UmVzcG9uc2UuYmxvYigpOwoKICAgICAgICAgICAgICBjYXNlIDM0OgogICAgICAgICAgICAgICAgYmxvYiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAvLyBGaWxlUmVhZGVyIHdpdGggcHJvZ3Jlc3MgdHJhY2tpbmcKICAgICAgICAgICAgICAgIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczEzLkltYWdlQXJyYXlCdWZmZXIgPSBmaWxlUmVhZGVyLnJlc3VsdDsKICAgICAgICAgICAgICAgICAgdmFyIGVuZFRpbWUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgICB2YXIgZWxhcHNlZFRpbWUgPSBlbmRUaW1lLmdldFRpbWUoKSAtIHN0YXJ0VGltZS5nZXRUaW1lKCk7CgogICAgICAgICAgICAgICAgICBfdGhpczEzLlNlbmRDb25zb2xlTG9nTXNnKCdDYXB0dXJlVGVzdFRpbWUgfCBSZWFkIGltYWdlIGRhdGEgZW5kOiAnICsgZWxhcHNlZFRpbWUgKyAnIG1zJywgJ2luZm8nKTsKCiAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMxMy5pc1BvbGFyQXhpc01vZGUpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczEzLmNhbGxTaG93TWVzc2FnZUJveCgiUmVhZCBpbWFnZSBkYXRhIGVuZDogJyIuY29uY2F0KGVsYXBzZWRUaW1lLCAiJyBtcy4iKSwgJ2luZm8nKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3RoaXMxMy5pc0Rvd25sb2FkaW5nSW1hZ2VOYW1lID0gZmlsZU5hbWU7CgogICAgICAgICAgICAgICAgICBfdGhpczEzLnByb2Nlc3NJbWFnZShfdGhpczEzLkltYWdlQXJyYXlCdWZmZXIpOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBmaWxlUmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmlsZVJlYWRlciBlcnJvcjonLCBlcnJvcik7CgogICAgICAgICAgICAgICAgICBfdGhpczEzLlNlbmRDb25zb2xlTG9nTXNnKCdGaWxlUmVhZGVyIGVycm9yOiAnICsgZXJyb3IubWVzc2FnZSwgJ2Vycm9yJyk7CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA0MToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA0MTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMTQpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVGhlcmUgd2FzIGEgcHJvYmxlbSB3aXRoIHRoZSBmZXRjaCBvcGVyYXRpb246JywgX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICAgIF90aGlzMTMuU2VuZENvbnNvbGVMb2dNc2coJ1RoZXJlIHdhcyBhIHByb2JsZW0gd2l0aCB0aGUgZmV0Y2ggb3BlcmF0aW9uOiAnICsgX2NvbnRleHQudDAubWVzc2FnZSwgJ2Vycm9yJyk7IC8vIOS4i+i9veWksei0pe+8jOmHjeivlQoKCiAgICAgICAgICAgICAgICBpZiAoIShyZXRyeUNvdW50ID4gMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmV0cnlpbmcgZG93bmxvYWQuLi4nKTsKCiAgICAgICAgICAgICAgICBfdGhpczEzLlNlbmRDb25zb2xlTG9nTXNnKCdSZXRyeWluZyBkb3dubG9hZC4uLicsICd3YXJuaW5nJyk7CgogICAgICAgICAgICAgICAgX3RoaXMxMy5pc0Rvd25sb2FkaW5nSW1hZ2UgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBfdGhpczEzLnVwZGF0ZUNhcHR1cmVJbWFnZVByb2dyZXNzKDEwMCk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDUyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTMucmVhZEJpbkZpbGUoZmlsZU5hbWUsIHJldHJ5Q291bnQgLSAxKTsKCiAgICAgICAgICAgICAgY2FzZSA1MjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1NTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDU0OgogICAgICAgICAgICAgICAgX3RoaXMxMy5TZW5kQ29uc29sZUxvZ01zZygnTWF4IHJldHJpZXMgcmVhY2hlZC4gRG93bmxvYWQgZmFpbGVkLicsICdlcnJvcicpOwoKICAgICAgICAgICAgICBjYXNlIDU1OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDU1OwogICAgICAgICAgICAgICAgX3RoaXMxMy5pc0Rvd25sb2FkaW5nSW1hZ2UgPSBmYWxzZTsgLy8g56Gu5L+d5Zyo5Lu75L2V5oOF5Ya15LiL6YO96YeN572u54q25oCBCgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmZpbmlzaCg1NSk7CgogICAgICAgICAgICAgIGNhc2UgNTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzE0LCA0MSwgNTUsIDU4XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyBhc3luYyByZWFkQmluRmlsZShmaWxlTmFtZSwgcmV0cnlDb3VudCA9IDEpIHsKICAgIC8vICAgd2hpbGUgKHRoaXMuaXNEb3dubG9hZGluZ0ltYWdlKSB7CiAgICAvLyAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApKTsKICAgIC8vICAgICBpZiAoIXRoaXMuaXNXYWl0aW5nTG9nZ2VkKSB7CiAgICAvLyAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdUaGUgaW1hZ2UgaXMgYWxyZWFkeSBiZWluZyBwcm9jZXNzZWQuIFBsZWFzZSB3YWl0IGZvciB0aGUgcHJldmlvdXMgcHJvY2VzcyB0byBjb21wbGV0ZS4nLCAnd2FybmluZycpOwogICAgLy8gICAgICAgdGhpcy5pc1dhaXRpbmdMb2dnZWQgPSB0cnVlOyAvLyDnoa7kv53lj6rorrDlvZXkuIDmrKHnrYnlvoXkv6Hmga8KICAgIC8vICAgICB9CiAgICAvLyAgIH0KICAgIC8vICAgaWYgKHRoaXMuaXNEb3dubG9hZGluZ0ltYWdlTmFtZSA9PT0gZmlsZU5hbWUpIHsKICAgIC8vICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdUaGUgaW1hZ2UoJyArIGZpbGVOYW1lICsgJykgaXMgYWxyZWFkeSBwcm9jZXNzZWQuJywgJ2luZm8nKTsKICAgIC8vICAgICByZXR1cm47CiAgICAvLyAgIH0KICAgIC8vICAgdGhpcy5pc0Rvd25sb2FkaW5nSW1hZ2UgPSB0cnVlOwogICAgLy8gICB0aGlzLmlzV2FpdGluZ0xvZ2dlZCA9IGZhbHNlOyAvLyDph43nva7nrYnlvoXml6Xlv5fmoIflv5cKICAgIC8vICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ2FwdHVyZVRlc3RUaW1lIHwgUmVhZCBpbWFnZSgnICsgZmlsZU5hbWUgKyAnKSBkYXRhIHN0YXJ0LicsICdpbmZvJyk7CiAgICAvLyAgIGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7CiAgICAvLyAgIHRyeSB7CiAgICAvLyAgICAgLy8gRmV0Y2ggd2l0aCBwcm9ncmVzcyB0cmFja2luZwogICAgLy8gICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZmlsZU5hbWUpOwogICAgLy8gICAgIGlmICghcmVzcG9uc2Uub2spIHsKICAgIC8vICAgICAgIHRocm93IG5ldyBFcnJvcignTmV0d29yayByZXNwb25zZSB3YXMgbm90IG9rJyk7CiAgICAvLyAgICAgfQogICAgLy8gICAgIGNvbnN0IGNvbnRlbnRMZW5ndGggPSByZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC1sZW5ndGgnKTsKICAgIC8vICAgICBpZiAoIWNvbnRlbnRMZW5ndGgpIHsKICAgIC8vICAgICAgIHRocm93IG5ldyBFcnJvcignQ29udGVudC1MZW5ndGggaGVhZGVyIGlzIG1pc3NpbmcnKTsKICAgIC8vICAgICB9CiAgICAvLyAgICAgY29uc3QgdG90YWwgPSBwYXJzZUludChjb250ZW50TGVuZ3RoLCAxMCk7CiAgICAvLyAgICAgbGV0IGxvYWRlZCA9IDA7CiAgICAvLyAgICAgY29uc3QgcmVhZGVyID0gcmVzcG9uc2UuYm9keS5nZXRSZWFkZXIoKTsKICAgIC8vICAgICBjb25zdCBzdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oewogICAgLy8gICAgICAgc3RhcnQ6IChjb250cm9sbGVyKSA9PiB7CiAgICAvLyAgICAgICAgIGNvbnN0IHB1c2ggPSAoKSA9PiB7CiAgICAvLyAgICAgICAgICAgcmVhZGVyLnJlYWQoKS50aGVuKCh7IGRvbmUsIHZhbHVlIH0pID0+IHsKICAgIC8vICAgICAgICAgICAgIGlmIChkb25lKSB7CiAgICAvLyAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTsKICAgIC8vICAgICAgICAgICAgICAgcmV0dXJuOwogICAgLy8gICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgbG9hZGVkICs9IHZhbHVlLmJ5dGVMZW5ndGg7CiAgICAvLyAgICAgICAgICAgICBjb25zdCBwZXJjZW50ID0gKGxvYWRlZCAvIHRvdGFsKSAqIDEwMDsKICAgIC8vICAgICAgICAgICAgIGlmIChNYXRoLnJvdW5kKHBlcmNlbnQpICUgMTAgPT09IDApIHsKICAgIC8vICAgICAgICAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZyhgUHJvZ3Jlc3M6ICR7TWF0aC5yb3VuZChwZXJjZW50KX0lYCwnaW5mbycpOwogICAgLy8gICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNhcHR1cmVJbWFnZVByb2dyZXNzKE1hdGgucm91bmQocGVyY2VudCkpOwogICAgLy8gICAgICAgICAgICAgfQogICAgLy8gICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHZhbHVlKTsKICAgIC8vICAgICAgICAgICAgIHB1c2goKTsKICAgIC8vICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTdHJlYW0gcmVhZGluZyBlcnJvcjonLCBlcnJvcik7CiAgICAvLyAgICAgICAgICAgICBjb250cm9sbGVyLmVycm9yKGVycm9yKTsKICAgIC8vICAgICAgICAgICB9KTsKICAgIC8vICAgICAgICAgfTsKICAgIC8vICAgICAgICAgcHVzaCgpOwogICAgLy8gICAgICAgfQogICAgLy8gICAgIH0pOwogICAgLy8gICAgIGNvbnN0IG5ld1Jlc3BvbnNlID0gbmV3IFJlc3BvbnNlKHN0cmVhbSk7CiAgICAvLyAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG5ld1Jlc3BvbnNlLmJsb2IoKTsKICAgIC8vICAgICAvLyBGaWxlUmVhZGVyIHdpdGggcHJvZ3Jlc3MgdHJhY2tpbmcKICAgIC8vICAgICBjb25zdCBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgIC8vICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9ICgpID0+IHsKICAgIC8vICAgICAgIHRoaXMuSW1hZ2VBcnJheUJ1ZmZlciA9IGZpbGVSZWFkZXIucmVzdWx0OwogICAgLy8gICAgICAgY29uc3QgZW5kVGltZSA9IG5ldyBEYXRlKCk7CiAgICAvLyAgICAgICBjb25zdCBlbGFwc2VkVGltZSA9IGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKTsKICAgIC8vICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0NhcHR1cmVUZXN0VGltZSB8IFJlYWQgaW1hZ2UgZGF0YSBlbmQ6ICcgKyBlbGFwc2VkVGltZSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gICAgICAgaWYgKCF0aGlzLmlzUG9sYXJBeGlzTW9kZSkgewogICAgLy8gICAgICAgICB0aGlzLmNhbGxTaG93TWVzc2FnZUJveChgUmVhZCBpbWFnZSBkYXRhIGVuZDogJyR7ZWxhcHNlZFRpbWV9JyBtcy5gLCAnaW5mbycpOwogICAgLy8gICAgICAgfQogICAgLy8gICAgICAgdGhpcy5pc0Rvd25sb2FkaW5nSW1hZ2VOYW1lID0gZmlsZU5hbWU7CiAgICAvLyAgICAgICB0aGlzLnByb2Nlc3NJbWFnZSh0aGlzLkltYWdlQXJyYXlCdWZmZXIpOwogICAgLy8gICAgIH07CiAgICAvLyAgICAgZmlsZVJlYWRlci5vbmVycm9yID0gKGVycm9yKSA9PiB7CiAgICAvLyAgICAgICBjb25zb2xlLmVycm9yKCdGaWxlUmVhZGVyIGVycm9yOicsIGVycm9yKTsKICAgIC8vICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0ZpbGVSZWFkZXIgZXJyb3I6JyArIGVycm9yLCAnZXJyb3InKTsKICAgIC8vICAgICB9OwogICAgLy8gICAgIGZpbGVSZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7CiAgICAvLyAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAvLyAgICAgY29uc29sZS5lcnJvcignVGhlcmUgd2FzIGEgcHJvYmxlbSB3aXRoIHRoZSBmZXRjaCBvcGVyYXRpb246JywgZXJyb3IpOwogICAgLy8gICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1RoZXJlIHdhcyBhIHByb2JsZW0gd2l0aCB0aGUgZmV0Y2ggb3BlcmF0aW9uOicgKyBlcnJvciwgJ2Vycm9yJyk7CiAgICAvLyAgICAgLy8g5LiL6L295aSx6LSl77yM6YeN6K+VCiAgICAvLyAgICAgaWYgKHJldHJ5Q291bnQgPiAwKSB7CiAgICAvLyAgICAgICBjb25zb2xlLmxvZygnUmV0cnlpbmcgZG93bmxvYWQuLi4nKTsKICAgIC8vICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1JldHJ5aW5nIGRvd25sb2FkLi4uJywgJ3dhcm5pbmcnKTsKICAgIC8vICAgICAgIHRoaXMuaXNEb3dubG9hZGluZ0ltYWdlID0gZmFsc2U7CiAgICAvLyAgICAgICB0aGlzLnVwZGF0ZUNhcHR1cmVJbWFnZVByb2dyZXNzKDEwMCk7CiAgICAvLyAgICAgICBhd2FpdCB0aGlzLnJlYWRCaW5GaWxlKGZpbGVOYW1lLCByZXRyeUNvdW50IC0gMSk7CiAgICAvLyAgICAgfQogICAgLy8gICB9IGZpbmFsbHkgewogICAgLy8gICAgIHRoaXMuaXNEb3dubG9hZGluZ0ltYWdlID0gZmFsc2U7IC8vIOehruS/neWcqOS7u+S9leaDheWGteS4i+mDvemHjee9rueKtuaAgQogICAgLy8gICB9CiAgICAvLyB9LAogICAgdXBkYXRlQ2FwdHVyZUltYWdlUHJvZ3Jlc3M6IGZ1bmN0aW9uIHVwZGF0ZUNhcHR1cmVJbWFnZVByb2dyZXNzKG51bSkgewogICAgICB0aGlzLiRidXMuJGVtaXQoJ1Nob3dDYXB0dXJlSW1hZ2VQcm9ncmVzcycsIG51bSk7CiAgICB9LAogICAgc2V0SW1hZ2VQcm9wb3J0aW9uOiBmdW5jdGlvbiBzZXRJbWFnZVByb3BvcnRpb24odmFsdWUpIHsKICAgICAgdGhpcy5JbWFnZVByb3BvcnRpb24gPSB2YWx1ZTsKICAgIH0sCiAgICAvLyBjaGVja0ltYWdlRGF0YShpbWcpIHsKICAgIC8vICAgLy8g5qOA5p+l5piv5ZCm5Li6IGN2Lk1hdCDnsbvlnosKICAgIC8vICAgaWYgKCEoaW1nIGluc3RhbmNlb2YgY3YuTWF0KSkgewogICAgLy8gICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1RoZSBpbWFnZSBpcyBub3QgYSB2YWxpZCBjdi5NYXQgb2JqZWN0LicsICdlcnJvcicpOwogICAgLy8gICAgIHJldHVybiBmYWxzZTsKICAgIC8vICAgfQogICAgLy8gICAvLyDmo4Dmn6Xlm77lg4/mmK/lkKbkuLrnqboKICAgIC8vICAgaWYgKGltZy5lbXB0eSgpKSB7CiAgICAvLyAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnVGhlIGltYWdlIGlzIGVtcHR5LicsICdlcnJvcicpOwogICAgLy8gICAgIHJldHVybiBmYWxzZTsKICAgIC8vICAgfQogICAgLy8gICAvLyDmo4Dmn6Xlm77lg4/mt7HluqbmmK/lkKbkuLogOCDkvY3miJYgMTYg5L2NCiAgICAvLyAgIGNvbnN0IGRlcHRoID0gaW1nLnR5cGUoKSAmIGN2LkNWX01BVF9ERVBUSF9NQVNLOwogICAgLy8gICBpZiAoZGVwdGggIT09IGN2LkNWXzhVICYmIGRlcHRoICE9PSBjdi5DVl8xNlUpIHsKICAgIC8vICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdUaGUgaW1hZ2UgZGVwdGggaXMgbm90IDgtYml0IG9yIDE2LWJpdC4nLCAnZXJyb3InKTsKICAgIC8vICAgICByZXR1cm4gZmFsc2U7CiAgICAvLyAgIH0KICAgIC8vICAgLy8g5qOA5p+l5Zu+5YOP5bC65a+45piv5ZCm5ZCI55CGCiAgICAvLyAgIGlmIChpbWcucm93cyA8PSAwIHx8IGltZy5jb2xzIDw9IDApIHsKICAgIC8vICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdUaGUgaW1hZ2UgZGltZW5zaW9ucyBhcmUgbm90IHZhbGlkLicsICdlcnJvcicpOwogICAgLy8gICAgIHJldHVybiBmYWxzZTsKICAgIC8vICAgfQogICAgLy8gICAvLyDmo4Dmn6Xlm77lg4/mlbDmja7mmK/lkKbotoXlh7rojIPlm7TmiJblhajkuLowCiAgICAvLyAgIGNvbnN0IGRhdGEgPSBpbWcuZGF0YTsKICAgIC8vICAgbGV0IGlzQWxsWmVybyA9IHRydWU7CiAgICAvLyAgIGNvbnN0IG1heFZhbHVlID0gZGVwdGggPT09IGN2LkNWXzhVID8gMjU1IDogNjU1MzU7CiAgICAvLyAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgLy8gICAgIGlmIChkYXRhW2ldIDwgMCB8fCBkYXRhW2ldID4gbWF4VmFsdWUpIHsKICAgIC8vICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1RoZSBpbWFnZSBkYXRhIGNvbnRhaW5zIG91dC1vZi1yYW5nZSB2YWx1ZXMuJywgJ2Vycm9yJyk7CiAgICAvLyAgICAgICByZXR1cm4gZmFsc2U7CiAgICAvLyAgICAgfQogICAgLy8gICAgIGlmIChkYXRhW2ldICE9PSAwKSB7CiAgICAvLyAgICAgICBpc0FsbFplcm8gPSBmYWxzZTsKICAgIC8vICAgICB9CiAgICAvLyAgIH0KICAgIC8vICAgaWYgKGlzQWxsWmVybykgewogICAgLy8gICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1RoZSBpbWFnZSBkYXRhIGlzIGFsbCB6ZXJvLicsICdlcnJvcicpOwogICAgLy8gICAgIHJldHVybiBmYWxzZTsKICAgIC8vICAgfQogICAgLy8gICByZXR1cm4gdHJ1ZTsKICAgIC8vIH0sCiAgICBwcm9jZXNzSW1hZ2U6IGZ1bmN0aW9uIHByb2Nlc3NJbWFnZShpbWdBcnJheSkgewogICAgICB2YXIgX3RoaXMxNCA9IHRoaXM7CgogICAgICB0cnkgewogICAgICAgIHZhciB0b3RhbFN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7IC8vIOaAu+W8gOWni+aXtumXtAoKICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdDYXB0dXJlVGVzdFRpbWUgfCBQcm9jZXNzIGltYWdlIGRhdGEgc3RhcnQuJywgJ2luZm8nKTsKICAgICAgICB2YXIgc3RhcnRUaW1lID0gbmV3IERhdGUoKTsKICAgICAgICB2YXIgdWludDE2QXJyYXkgPSBuZXcgVWludDE2QXJyYXkoaW1nQXJyYXkpOyAvLyDorr7nva7nlLvluIPlrr3pq5jluLjph48KCiAgICAgICAgdmFyIGNhbnZhc1dpZHRoID0gcGFyc2VJbnQodGhpcy5tYWluQ2FtZXJhU2l6ZVgpOwogICAgICAgIHZhciBjYW52YXNIZWlnaHQgPSBwYXJzZUludCh0aGlzLm1haW5DYW1lcmFTaXplWSk7IC8vIOiOt+WPluWOn+Wni+eUu+W4g+WSjOS/ruaUueWQjueahOeUu+W4g+S7peWPiuWvueW6lOS4iuS4i+aWhwoKICAgICAgICB2YXIgbW9kaWZpZWRDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbkNhbWVyYS1jYW52YXMnKTsKICAgICAgICB2YXIgbW9kaWZpZWRDdHggPSBtb2RpZmllZENhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICAgIG1vZGlmaWVkQ3R4LmNsZWFyUmVjdCgwLCAwLCBtb2RpZmllZENhbnZhcy53aWR0aCwgbW9kaWZpZWRDYW52YXMuaGVpZ2h0KTsKICAgICAgICBtb2RpZmllZENhbnZhcy53aWR0aCA9IGNhbnZhc1dpZHRoOwogICAgICAgIG1vZGlmaWVkQ2FudmFzLmhlaWdodCA9IGNhbnZhc0hlaWdodDsKCiAgICAgICAgdmFyIF9tYXQgPSBuZXcgY3YuTWF0KGNhbnZhc0hlaWdodCwgY2FudmFzV2lkdGgsIGN2LkNWXzE2VUMxKTsKCiAgICAgICAgX21hdC5kYXRhMTZVLnNldCh1aW50MTZBcnJheSk7CgogICAgICAgIHZhciBtYXRFbmRUaW1lID0gbmV3IERhdGUoKTsgLy8gbWF0IOe7k+adn+aXtumXtAoKICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdDYXB0dXJlVGVzdFRpbWUgfCBNYXQgY3JlYXRpb24gdGltZTogJyArIChtYXRFbmRUaW1lLmdldFRpbWUoKSAtIHN0YXJ0VGltZS5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7IC8vIOeUqOaIt+iHquWumuS5ieWPguaVsAoKICAgICAgICB2YXIgZ2FpblIgPSB0aGlzLkltYWdlR2FpblI7CiAgICAgICAgdmFyIGdhaW5CID0gdGhpcy5JbWFnZUdhaW5COwogICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLkltYWdlT2Zmc2V0OwogICAgICAgIHZhciBDRkEgPSB0aGlzLkltYWdlQ0ZBOwogICAgICAgIHZhciBtb2RlID0gMTsgLy8g5Y+C5pWwCgogICAgICAgIHZhciBCID0gMDsKICAgICAgICB2YXIgVyA9IDY1NTM1OwogICAgICAgIHZhciBjdm1vZGUgPSAwOwoKICAgICAgICB2YXIgX3RoaXMkR2V0QXV0b1N0cmV0Y2ggPSB0aGlzLkdldEF1dG9TdHJldGNoKHVpbnQxNkFycmF5LCBtb2RlKSwKICAgICAgICAgICAgYmxhY2tMZXZlbCA9IF90aGlzJEdldEF1dG9TdHJldGNoLmJsYWNrTGV2ZWwsCiAgICAgICAgICAgIHdoaXRlTGV2ZWwgPSBfdGhpcyRHZXRBdXRvU3RyZXRjaC53aGl0ZUxldmVsOwoKICAgICAgICBCID0gYmxhY2tMZXZlbDsKICAgICAgICBXID0gd2hpdGVMZXZlbDsKICAgICAgICB2YXIgR2V0QXV0b1N0cmV0Y2hFbmRUaW1lID0gbmV3IERhdGUoKTsgLy8gR2V0QXV0b1N0cmV0Y2gg57uT5p2f5pe26Ze0CgogICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0NhcHR1cmVUZXN0VGltZSB8IEdldEF1dG9TdHJldGNoIHRpbWU6ICcgKyAoR2V0QXV0b1N0cmV0Y2hFbmRUaW1lLmdldFRpbWUoKSAtIG1hdEVuZFRpbWUuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOyAvLyDmoLnmja5DRkHorr7nva7popzoibLovazmjaLmqKHlvI8KCiAgICAgICAgaWYgKENGQSA9PT0gJ0dSJykgewogICAgICAgICAgY3Ztb2RlID0gY3YuQ09MT1JfQmF5ZXJHUjJSR0JBOwogICAgICAgIH0gZWxzZSBpZiAoQ0ZBID09PSAnR0InKSB7CiAgICAgICAgICBjdm1vZGUgPSBjdi5DT0xPUl9CYXllckdCMlJHQkE7CiAgICAgICAgfSBlbHNlIGlmIChDRkEgPT09ICdCRycpIHsKICAgICAgICAgIGN2bW9kZSA9IGN2LkNPTE9SX0JheWVyQkcyUkdCQTsKICAgICAgICB9IGVsc2UgaWYgKENGQSA9PT0gJ1JHR0InKSB7CiAgICAgICAgICBjdm1vZGUgPSBjdi5DT0xPUl9CYXllclJHMlJHQkE7CiAgICAgICAgfSAvLyDlr7nnm67moIflm77lg4/ov5vooYzpopzoibLovazmjaIKCgogICAgICAgIHZhciBkc3QgPSBuZXcgY3YuTWF0KCk7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBjdi5jdnRDb2xvcihfbWF0LCBkc3QsIGN2bW9kZSk7CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoJ2N2dENvbG9yIOWHuumUmScsICdjdnRDb2xvcicsIGVycm9yKTsKCiAgICAgICAgICBfbWF0LmRlbGV0ZSgpOwoKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciBjdnRDb2xvckVuZFRpbWUgPSBuZXcgRGF0ZSgpOyAvLyBjdnRDb2xvciDnu5PmnZ/ml7bpl7QKCiAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ2FwdHVyZVRlc3RUaW1lIHwgY3Z0Q29sb3IgdGltZTogJyArIChjdnRDb2xvckVuZFRpbWUuZ2V0VGltZSgpIC0gR2V0QXV0b1N0cmV0Y2hFbmRUaW1lLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKCiAgICAgICAgX21hdC5kZWxldGUoKTsgLy8g6LCD5pW05Zu+5YOP5aSn5bCPCiAgICAgICAgLy8gY3YucmVzaXplKGRzdCwgcmVzaXplSW1nLCBuZXcgY3YuU2l6ZSh0aGlzLkNhbnZhc1dpZHRoLCB0aGlzLkNhbnZhc0hlaWdodCksIDAsIDAsIGN2LklOVEVSX0xJTkVBUik7CiAgICAgICAgLy8gZHN0LmRlbGV0ZSgpOwogICAgICAgIC8vIGxldCBvcmlnaW5hbEltZzggPSB0aGlzLkJpdDE2VG84X1N0cmV0Y2gocmVzaXplSW1nLCBCLCBXKTsKICAgICAgICAvLyByZXNpemVJbWcuZGVsZXRlKCk7CgoKICAgICAgICB2YXIgX3Jlc2l6ZUltZyA9IG5ldyBjdi5NYXQoKTsgLy8g55So5p2l5a2Y5YKo6LCD5pW05ZCO55qE5Zu+5YOPCgoKICAgICAgICBpZiAodGhpcy5pc1BvbGFyQXhpc01vZGUpIHsKICAgICAgICAgIC8vIOiwg+aVtOWbvuWDj+Wkp+WwjwogICAgICAgICAgY3YucmVzaXplKGRzdCwgX3Jlc2l6ZUltZywgbmV3IGN2LlNpemUodGhpcy5DYW52YXNXaWR0aCwgdGhpcy5DYW52YXNIZWlnaHQpLCAwLCAwLCBjdi5JTlRFUl9MSU5FQVIpOwogICAgICAgICAgZHN0LmRlbGV0ZSgpOwoKICAgICAgICAgIHZhciBfb3JpZ2luYWxJbWcgPSB0aGlzLkJpdDE2VG84X1N0cmV0Y2goX3Jlc2l6ZUltZywgQiwgVyk7CgogICAgICAgICAgX3Jlc2l6ZUltZy5kZWxldGUoKTsKCiAgICAgICAgICB2YXIgQml0MTZUbzhfU3RyZXRjaEVuZFRpbWUgPSBuZXcgRGF0ZSgpOyAvLyBCaXQxNlRvOF9TdHJldGNoIOe7k+adn+aXtumXtAoKICAgICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0NhcHR1cmVUZXN0VGltZSB8IEJpdDE2VG84X1N0cmV0Y2ggdGltZTogJyArIChCaXQxNlRvOF9TdHJldGNoRW5kVGltZS5nZXRUaW1lKCkgLSBHZXRBdXRvU3RyZXRjaEVuZFRpbWUuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwoKICAgICAgICAgIHZhciBfdGFyZ2V0SW1nID0gdGhpcy5JbWFnZVNvZnRBV0IoX29yaWdpbmFsSW1nLCBnYWluUiwgZ2FpbkIsIG9mZnNldCk7CgogICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdzaG93U29sdmVJbWFnZScsIF90YXJnZXRJbWcpOwogICAgICAgICAgdmFyIEltYWdlU29mdEFXQkVuZFRpbWUgPSBuZXcgRGF0ZSgpOyAvLyBJbWFnZVNvZnRBV0Ig57uT5p2f5pe26Ze0CgogICAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ2FwdHVyZVRlc3RUaW1lIHwgSW1hZ2VTb2Z0QVdCIHRpbWU6ICcgKyAoSW1hZ2VTb2Z0QVdCRW5kVGltZS5nZXRUaW1lKCkgLSBCaXQxNlRvOF9TdHJldGNoRW5kVGltZS5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN2LnJlc2l6ZShkc3QsIF9yZXNpemVJbWcsIG5ldyBjdi5TaXplKHRoaXMuQ2FudmFzV2lkdGgsIHRoaXMuQ2FudmFzSGVpZ2h0KSwgMCwgMCwgY3YuSU5URVJfTElORUFSKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXNpemVJbWcuZGF0YS5sZW5ndGg6ICcsIF9yZXNpemVJbWcuZGF0YS5sZW5ndGgpOwogICAgICAgICAgY29uc29sZS5sb2coJ3Jlc2l6ZUltZy5jb2xzOiAnLCBfcmVzaXplSW1nLmNvbHMpOwogICAgICAgICAgY29uc29sZS5sb2coJ3Jlc2l6ZUltZy5yb3dzOiAnLCBfcmVzaXplSW1nLnJvd3MpOwogICAgICAgICAgdmFyIG9yaWdpbmFsUmVzaXplSW1nOCA9IHRoaXMuQml0MTZUbzhfU3RyZXRjaChfcmVzaXplSW1nLCBCLCBXKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCdvcmlnaW5hbFJlc2l6ZUltZzguZGF0YS5sZW5ndGg6ICcsIG9yaWdpbmFsUmVzaXplSW1nOC5kYXRhLmxlbmd0aCk7CiAgICAgICAgICBjb25zb2xlLmxvZygnb3JpZ2luYWxSZXNpemVJbWc4LmNvbHM6ICcsIG9yaWdpbmFsUmVzaXplSW1nOC5jb2xzKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCdvcmlnaW5hbFJlc2l6ZUltZzgucm93czogJywgb3JpZ2luYWxSZXNpemVJbWc4LnJvd3MpOwogICAgICAgICAgdGhpcy5PcmlnaW5hbEltYWdlID0gbmV3IEltYWdlRGF0YShuZXcgVWludDhDbGFtcGVkQXJyYXkob3JpZ2luYWxSZXNpemVJbWc4LmRhdGEpLCBvcmlnaW5hbFJlc2l6ZUltZzguY29scywgb3JpZ2luYWxSZXNpemVJbWc4LnJvd3MpOwoKICAgICAgICAgIF9yZXNpemVJbWcuZGVsZXRlKCk7CgogICAgICAgICAgY29uc29sZS5sb2coJ2RzdC5kYXRhLmxlbmd0aDogJywgZHN0LmRhdGEubGVuZ3RoKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCdkc3QuY29sczogJywgZHN0LmNvbHMpOwogICAgICAgICAgY29uc29sZS5sb2coJ2RzdC5yb3dzOiAnLCBkc3Qucm93cyk7CgogICAgICAgICAgdmFyIF9vcmlnaW5hbEltZzIgPSB0aGlzLkJpdDE2VG84X1N0cmV0Y2goZHN0LCBCLCBXKTsKCiAgICAgICAgICBkc3QuZGVsZXRlKCk7CgogICAgICAgICAgdmFyIF9CaXQxNlRvOF9TdHJldGNoRW5kVGltZSA9IG5ldyBEYXRlKCk7IC8vIEJpdDE2VG84X1N0cmV0Y2gg57uT5p2f5pe26Ze0CgoKICAgICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0NhcHR1cmVUZXN0VGltZSB8IEJpdDE2VG84X1N0cmV0Y2ggdGltZTogJyArIChfQml0MTZUbzhfU3RyZXRjaEVuZFRpbWUuZ2V0VGltZSgpIC0gR2V0QXV0b1N0cmV0Y2hFbmRUaW1lLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsgLy8gbGV0IHRhcmdldEltZzggPSB0aGlzLkltYWdlU29mdEFXQihvcmlnaW5hbEltZzgsIGdhaW5SLCBnYWluQiwgb2Zmc2V0KTsKICAgICAgICAgIC8vIGNvbnN0IEltYWdlU29mdEFXQkVuZFRpbWUgPSBuZXcgRGF0ZSgpOyAvLyBJbWFnZVNvZnRBV0Ig57uT5p2f5pe26Ze0CiAgICAgICAgICAvLyB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdDYXB0dXJlVGVzdFRpbWUgfCBJbWFnZVNvZnRBV0IgdGltZTogJyArIChJbWFnZVNvZnRBV0JFbmRUaW1lLmdldFRpbWUoKSAtIEJpdDE2VG84X1N0cmV0Y2hFbmRUaW1lLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKICAgICAgICAgIC8vIG9yaWdpbmFsSW1nOC5kZWxldGUoKTsKCiAgICAgICAgICB0aGlzLmxhc3RJbWFnZVByb2Nlc3NQYXJhbXMgPSB7CiAgICAgICAgICAgIGdhaW5SOiBnYWluUiwKICAgICAgICAgICAgZ2FpbkI6IGdhaW5CLAogICAgICAgICAgICBvZmZzZXQ6IG9mZnNldCwKICAgICAgICAgICAgQ0ZBOiBDRkEsCiAgICAgICAgICAgIG1vZGU6IG1vZGUsCiAgICAgICAgICAgIEI6IEIsCiAgICAgICAgICAgIFc6IFcsCiAgICAgICAgICAgIGN2bW9kZTogY3Ztb2RlCiAgICAgICAgICB9OwogICAgICAgICAgbW9kaWZpZWRDYW52YXMud2lkdGggPSB0aGlzLkNhbnZhc1dpZHRoOwogICAgICAgICAgbW9kaWZpZWRDYW52YXMuaGVpZ2h0ID0gdGhpcy5DYW52YXNIZWlnaHQ7CiAgICAgICAgICB2YXIgY29sb3JEYXRhID0gbmV3IEltYWdlRGF0YShuZXcgVWludDhDbGFtcGVkQXJyYXkoX29yaWdpbmFsSW1nMi5kYXRhKSwgX29yaWdpbmFsSW1nMi5jb2xzLCBfb3JpZ2luYWxJbWcyLnJvd3MpOwogICAgICAgICAgdGhpcy5kcmF3SW1nRGF0YSA9IGNvbG9yRGF0YTsgLy8g6K6+572u57yT5Yay55S75biD5a696auYCgogICAgICAgICAgdGhpcy5idWZmZXJDYW52YXMud2lkdGggPSBjb2xvckRhdGEud2lkdGg7CiAgICAgICAgICB0aGlzLmJ1ZmZlckNhbnZhcy5oZWlnaHQgPSBjb2xvckRhdGEuaGVpZ2h0OyAvLyDnu5jliLbnvJPlrZjnlLvluIPlm77lg48KCiAgICAgICAgICB0aGlzLmJ1ZmZlckN0eC5wdXRJbWFnZURhdGEoY29sb3JEYXRhLCAwLCAwKTsgLy8g57uY5Yi25Li755S75biD5Zu+5YOPCgogICAgICAgICAgdGhpcy5kcmF3SW1hZ2VEYXRhKCk7CiAgICAgICAgICB2YXIgRHJhd0ltYWdlRGF0YUVuZFRpbWUgPSBuZXcgRGF0ZSgpOyAvLyBEcmF3SW1hZ2VEYXRhIOe7k+adn+aXtumXtAoKICAgICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0NhcHR1cmVUZXN0VGltZSB8IERyYXdJbWFnZURhdGEgdGltZTogJyArIChEcmF3SW1hZ2VEYXRhRW5kVGltZS5nZXRUaW1lKCkgLSBfQml0MTZUbzhfU3RyZXRjaEVuZFRpbWUuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgICAgICAgdmFyIGVuZFRpbWUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgdmFyIGVsYXBzZWRUaW1lID0gZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpOwogICAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ2FwdHVyZVRlc3RUaW1lIHwgUHJvY2VzcyBpbWFnZSBkYXRhIGVuZDonICsgZWxhcHNlZFRpbWUgKyAnIG1pbGxpc2Vjb25kcycsICdpbmZvJyk7IC8vIGNvbnN0IHRvdGFsRW5kVGltZSA9IG5ldyBEYXRlKCk7IC8vIOaAu+e7k+adn+aXtumXtAogICAgICAgICAgLy8gdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ2FwdHVyZVRlc3RUaW1lIHwgVG90YWwgcHJvY2VzcyBpbWFnZSBkYXRhIHRpbWU6ICcgKyAodG90YWxFbmRUaW1lLmdldFRpbWUoKSAtIHRvdGFsU3RhcnRUaW1lLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKCiAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ3Nob3dDYXB0dXJlSW1hZ2UnKTsKICAgICAgICAgIHRoaXMuTWFrZUhpc3RvZ3JhbShjb2xvckRhdGEpOwogICAgICAgICAgdGhpcy5oaXN0b2dyYW1JbWFnZSA9IGNvbG9yRGF0YTsKCiAgICAgICAgICB2YXIgY2hlY2tEZXRlY3RlZFN0YXJzRmluaXNoID0gZnVuY3Rpb24gY2hlY2tEZXRlY3RlZFN0YXJzRmluaXNoKCkgewogICAgICAgICAgICBpZiAoX3RoaXMxNC5EZXRlY3RlZFN0YXJzRmluaXNoKSB7CiAgICAgICAgICAgICAgX3RoaXMxNC5kZXRlY3RTdGFyc0ltZyA9IF90aGlzMTQuRHJhd0RldGVjdFN0YXJzKHRhcmdldEltZzgsIF90aGlzMTQuRGV0ZWN0ZWRTdGFyc0xpc3QpOwogICAgICAgICAgICAgIHRhcmdldEltZzguZGVsZXRlKCk7CiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTsKICAgICAgICAgICAgfQogICAgICAgICAgfTsKCiAgICAgICAgICB2YXIgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGNoZWNrRGV0ZWN0ZWRTdGFyc0ZpbmlzaCwgMTAwMCk7CiAgICAgICAgfSAvLyBpZiAodGhpcy5pc05vdERyYXdTdGFycykgewogICAgICAgIC8vICAgdGhpcy5kcmF3SW1hZ2VEYXRhKHRoaXMuZHJhd0ltZ0RhdGEpOwogICAgICAgIC8vIH0gZWxzZSB7CiAgICAgICAgLy8gICBpZiAodGhpcy5kZXRlY3RTdGFyc0ltZyAhPSBudWxsKSB7CiAgICAgICAgLy8gICAgIHRoaXMuZHJhd0ltYWdlRGF0YSh0aGlzLmRldGVjdFN0YXJzSW1nKTsKICAgICAgICAvLyAgIH0gZWxzZSB7CiAgICAgICAgLy8gICAgIHRoaXMuZHJhd0ltYWdlRGF0YSh0aGlzLmRyYXdJbWdEYXRhKTsKICAgICAgICAvLyAgIH0KICAgICAgICAvLyB9CiAgICAgICAgLy8gY29uc3Qgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsKICAgICAgICAvLyBjb25zdCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7CiAgICAgICAgLy8gY29uc3QgbWluVHJhbnNsYXRlWCA9IHRoaXMuaW1hZ2VXaWR0aCAtIHRoaXMuQ2FudmFzV2lkdGg7CiAgICAgICAgLy8gY29uc3QgbWluVHJhbnNsYXRlWSA9IHRoaXMuaW1hZ2VIZWlnaHQgLSB0aGlzLkNhbnZhc0hlaWdodDsKICAgICAgICAvLyAvLyDorqHnrpfliJ3lp4vnmoQgU2NhbGVJbWFnZVNpemVfWCDlkowgU2NhbGVJbWFnZVNpemVfWQogICAgICAgIC8vIHRoaXMuU2NhbGVJbWFnZVNpemVfWCA9IE1hdGguZmxvb3IobWluVHJhbnNsYXRlWCAvIHRoaXMuQ2FudmFzV2lkdGggKiB3aW5kb3dXaWR0aCArIHdpbmRvd1dpZHRoKTsKICAgICAgICAvLyB0aGlzLlNjYWxlSW1hZ2VTaXplX1kgPSBNYXRoLmZsb29yKG1pblRyYW5zbGF0ZVkgLyB0aGlzLkNhbnZhc0hlaWdodCAqIHdpbmRvd0hlaWdodCArIHdpbmRvd0hlaWdodCk7CiAgICAgICAgLy8gdGhpcy4kYnVzLiRlbWl0KCdTY2FsZUltYWdlU2l6ZScsIHRoaXMuU2NhbGVJbWFnZVNpemVfWCwgdGhpcy5TY2FsZUltYWdlU2l6ZV9ZKTsKCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdGhpcy5oYW5kbGVFcnJvcignUHJvY2VzcyBpbWFnZSBkYXRhIGVycm9yJywgJ3Byb2Nlc3NJbWFnZScsIGVycm9yKTsKCiAgICAgICAgaWYgKG1hdCkgewogICAgICAgICAgbWF0LmRlbGV0ZSgpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHJlc2l6ZUltZykgewogICAgICAgICAgcmVzaXplSW1nLmRlbGV0ZSgpOwogICAgICAgIH0KCiAgICAgICAgaWYgKG9yaWdpbmFsSW1nOCkgewogICAgICAgICAgb3JpZ2luYWxJbWc4LmRlbGV0ZSgpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRhcmdldEltZzgpIHsKICAgICAgICAgIHRhcmdldEltZzguZGVsZXRlKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8gaGlzdG9ncmFtU3RyZXRjaChpbWFnZURhdGEsIG1pbiwgbWF4KSB7CiAgICAvLyAgIGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7CiAgICAvLyAgIC8vIENvbnZlcnQgSW1hZ2VEYXRhIHRvIGN2Lk1hdAogICAgLy8gICBjb25zdCBpbWFnZSA9IGN2Lm1hdEZyb21JbWFnZURhdGEoaW1hZ2VEYXRhKTsKICAgIC8vICAgbGV0IFRpbWUxID0gbmV3IERhdGUoKTsKICAgIC8vICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnaGlzdG9ncmFtU3RyZXRjaCB8IOi9rOaNouWbvuWDj+aVsOaNruaXtumXtDogJyArIChUaW1lMS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gICAvLyBQZXJmb3JtIHRoZSBoaXN0b2dyYW0gc3RyZXRjaAogICAgLy8gICBjb25zdCBjaGFubmVscyA9IG5ldyBjdi5NYXRWZWN0b3IoKTsKICAgIC8vICAgY3Yuc3BsaXQoaW1hZ2UsIGNoYW5uZWxzKTsgLy8gU3BsaXQgY2hhbm5lbHMgKEJHUikgaW50byBzZXBhcmF0ZSBNYXQgb2JqZWN0cwogICAgLy8gICBsZXQgVGltZTIgPSBuZXcgRGF0ZSgpOwogICAgLy8gICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdoaXN0b2dyYW1TdHJldGNoIHwg5YiG5Ymy6YCa6YGT5pe26Ze0OiAnICsgKFRpbWUyLmdldFRpbWUoKSAtIFRpbWUxLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKICAgIC8vICAgLy8gQ2FsY3VsYXRlIGFscGhhIGFuZCBiZXRhIGZvciBlYWNoIGNoYW5uZWwKICAgIC8vICAgbGV0IGFscGhhID0gMjU1LjAgLyAobWF4IC0gbWluKTsKICAgIC8vICAgbGV0IGJldGEgPSAtbWluICogYWxwaGE7CiAgICAvLyAgIGlmIChhbHBoYSA8IDApIHsKICAgIC8vICAgICBhbHBoYSA9IDA7CiAgICAvLyAgICAgYmV0YSA9IDA7CiAgICAvLyAgIH0gZWxzZSBpZiAoYWxwaGEgPiAyNTUpIHsKICAgIC8vICAgICBhbHBoYSA9IDI1NTsKICAgIC8vICAgICBiZXRhID0gMDsKICAgIC8vICAgfQogICAgLy8gICBUaW1lMSA9IG5ldyBEYXRlKCk7CiAgICAvLyAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2hpc3RvZ3JhbVN0cmV0Y2ggfCDorqHnrpdhbHBoYeWSjGJldGHml7bpl7Q6ICcgKyAoVGltZTEuZ2V0VGltZSgpIC0gVGltZTIuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gICAvLyBJdGVyYXRlIG92ZXIgZWFjaCBjaGFubmVsIGFuZCBhcHBseSBoaXN0b2dyYW0gc3RyZXRjaGluZwogICAgLy8gICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYW5uZWxzLnNpemUoKTsgaSsrKSB7CiAgICAvLyAgICAgbGV0IGNoYW5uZWwgPSBjaGFubmVscy5nZXQoaSk7CiAgICAvLyAgICAgLy8gQXBwbHkgaGlzdG9ncmFtIHN0cmV0Y2hpbmcgdG8gdGhlIGNoYW5uZWwKICAgIC8vICAgICBjaGFubmVsLmNvbnZlcnRUbyhjaGFubmVsLCAtMSwgYWxwaGEsIGJldGEpOwogICAgLy8gICAgIC8vIFJlbGVhc2UgdGhlIG1lbW9yeSBvZiBjaGFubmVsCiAgICAvLyAgICAgY2hhbm5lbC5kZWxldGUoKTsKICAgIC8vICAgfQogICAgLy8gICBUaW1lMiA9IG5ldyBEYXRlKCk7CiAgICAvLyAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2hpc3RvZ3JhbVN0cmV0Y2ggfCDlkITpgJrpgZPmi4nkvLjml7bpl7Q6ICcgKyAoVGltZTIuZ2V0VGltZSgpIC0gVGltZTEuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gICAvLyBNZXJnZSB0aGUgY2hhbm5lbHMgYmFjayBpbnRvIGEgc2luZ2xlIGltYWdlCiAgICAvLyAgIGNvbnN0IHN0cmV0Y2hJbWFnZSA9IG5ldyBjdi5NYXQoKTsKICAgIC8vICAgY3YubWVyZ2UoY2hhbm5lbHMsIHN0cmV0Y2hJbWFnZSk7CiAgICAvLyAgIFRpbWUxID0gbmV3IERhdGUoKTsKICAgIC8vICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnaGlzdG9ncmFtU3RyZXRjaCB8IOWQiOW5tumAmumBk+aXtumXtDogJyArIChUaW1lMS5nZXRUaW1lKCkgLSBUaW1lMi5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAvLyAgIC8vIFJlbGVhc2UgdGhlIG1lbW9yeSBvZiBjaGFubmVscyBhbmQgTWF0VmVjdG9yCiAgICAvLyAgIGNoYW5uZWxzLmRlbGV0ZSgpOwogICAgLy8gICAvLyBDb252ZXJ0IGN2Lk1hdCBiYWNrIHRvIEltYWdlRGF0YQogICAgLy8gICBjb25zdCBzdHJldGNoZWRJbWFnZURhdGEgPSBuZXcgSW1hZ2VEYXRhKG5ldyBVaW50OENsYW1wZWRBcnJheShzdHJldGNoSW1hZ2UuZGF0YSksIHN0cmV0Y2hJbWFnZS5jb2xzLCBzdHJldGNoSW1hZ2Uucm93cyk7CiAgICAvLyAgIFRpbWUyID0gbmV3IERhdGUoKTsKICAgIC8vICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnaGlzdG9ncmFtU3RyZXRjaCB8IOi9rOaNouWbvuWDj+aVsOaNruaXtumXtDogJyArIChUaW1lMi5nZXRUaW1lKCkgLSBUaW1lMS5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAvLyAgIC8vIENsZWFuIHVwCiAgICAvLyAgIGltYWdlLmRlbGV0ZSgpOwogICAgLy8gICBzdHJldGNoSW1hZ2UuZGVsZXRlKCk7CiAgICAvLyAgIFRpbWUxID0gbmV3IERhdGUoKTsKICAgIC8vICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnaGlzdG9ncmFtU3RyZXRjaCB8IOmHiuaUvuWGheWtmOaXtumXtDogJyArIChUaW1lMS5nZXRUaW1lKCkgLSBUaW1lMi5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAvLyAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2hpc3RvZ3JhbVN0cmV0Y2ggfCDmgLvml7bpl7Q6ICcgKyAoVGltZTEuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKICAgIC8vICAgcmV0dXJuIHN0cmV0Y2hlZEltYWdlRGF0YTsKICAgIC8vIH0sCiAgICBoaXN0b2dyYW1TdHJldGNoOiBmdW5jdGlvbiBoaXN0b2dyYW1TdHJldGNoKGltYWdlRGF0YSwgbWluLCBtYXgpIHsKICAgICAgdmFyIHN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7IC8vIENhbGN1bGF0ZSBhbHBoYSBhbmQgYmV0YQoKICAgICAgdmFyIGFscGhhID0gMjU1LjAgLyAobWF4IC0gbWluKTsKICAgICAgdmFyIGJldGEgPSAtbWluICogYWxwaGE7CgogICAgICBpZiAoYWxwaGEgPCAwKSB7CiAgICAgICAgYWxwaGEgPSAwOwogICAgICAgIGJldGEgPSAwOwogICAgICB9IGVsc2UgaWYgKGFscGhhID4gMjU1KSB7CiAgICAgICAgYWxwaGEgPSAyNTU7CiAgICAgICAgYmV0YSA9IDA7CiAgICAgIH0gLy8gQXBwbHkgaGlzdG9ncmFtIHN0cmV0Y2hpbmcgZGlyZWN0bHkgb24gSW1hZ2VEYXRhCgoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbWFnZURhdGEuZGF0YS5sZW5ndGg7IGkgKz0gNCkgewogICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMzsgaisrKSB7CiAgICAgICAgICAvLyBGb3IgZWFjaCBjb2xvciBjaGFubmVsCiAgICAgICAgICB2YXIgX3ZhbHVlNCA9IGltYWdlRGF0YS5kYXRhW2kgKyBqXTsKICAgICAgICAgIF92YWx1ZTQgPSBfdmFsdWU0ICogYWxwaGEgKyBiZXRhOwogICAgICAgICAgaW1hZ2VEYXRhLmRhdGFbaSArIGpdID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCBfdmFsdWU0KSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgZW5kVGltZSA9IG5ldyBEYXRlKCk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2hpc3RvZ3JhbVN0cmV0Y2ggfCDmgLvml7bpl7Q6ICcgKyAoZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgICByZXR1cm4gaW1hZ2VEYXRhOwogICAgfSwKICAgIGxvY2FsV2hpdGVCYWxhbmNlQWRqdXN0bWVudDogZnVuY3Rpb24gbG9jYWxXaGl0ZUJhbGFuY2VBZGp1c3RtZW50KGltYWdlRGF0YSwgZ2FpblIsIGdhaW5CLCBvZmZzZXQpIHsKICAgICAgLy8g5YiG56a76YCa6YGTCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VEYXRhLmRhdGEubGVuZ3RoOyBpICs9IDQpIHsKICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDM7IGorKykgewogICAgICAgICAgLy8gRm9yIGVhY2ggY29sb3IgY2hhbm5lbAogICAgICAgICAgaWYgKGogPT0gMCkgewogICAgICAgICAgICB2YWx1ZSA9IGltYWdlRGF0YS5kYXRhW2kgKyBqXTsKICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAqIGdhaW5CICsgb2Zmc2V0OwogICAgICAgICAgfSBlbHNlIGlmIChqID09IDIpIHsKICAgICAgICAgICAgdmFsdWUgPSBpbWFnZURhdGEuZGF0YVtpICsgal07CiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgKiBnYWluUiArIG9mZnNldDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhbHVlID0gaW1hZ2VEYXRhLmRhdGFbaSArIGpdOwogICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICogMSArIG9mZnNldDsKICAgICAgICAgIH0KCiAgICAgICAgICBpbWFnZURhdGEuZGF0YVtpICsgal0gPSBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIHZhbHVlKSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gaW1hZ2VEYXRhOwogICAgfSwKICAgIGluaXRDYW52YXM6IGZ1bmN0aW9uIGluaXRDYW52YXMoKSB7CiAgICAgIHRoaXMuYnVmZmVyQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgIHRoaXMuYnVmZmVyQ3R4ID0gdGhpcy5idWZmZXJDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgdGhpcy50ZW1wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgIHRoaXMudGVtcEN0eCA9IHRoaXMudGVtcENhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgfSwKICAgIC8vKi8qLyovKi8qLyovKi8qLyovKi8qLwogICAgU3dpdGNoSW1hZ2VUb1Nob3c6IGZ1bmN0aW9uIFN3aXRjaEltYWdlVG9TaG93KGlzT3JpZ2luYWwpIHsKICAgICAgLy8gY29uc29sZS5sb2coJ1Nob3cgT3JpZ2luYWwgSW1hZ2U6ICcsIGlzT3JpZ2luYWwpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdTaG93IE9yaWdpbmFsIEltYWdlOicgKyBpc09yaWdpbmFsLCAnaW5mbycpOwogICAgICB0aGlzLmlzTm90RHJhd1N0YXJzID0gaXNPcmlnaW5hbDsKCiAgICAgIGlmIChpc09yaWdpbmFsKSB7CiAgICAgICAgLy8gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZVRvdWNoT3JNb3VzZURvd24pOwogICAgICAgIHRoaXMuZW5hYmxlTWFpbkNhbnZhc0NsaWNrID0gZmFsc2U7CiAgICAgICAgdGhpcy5kcmF3SW1hZ2VEYXRhKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZVRvdWNoT3JNb3VzZURvd24pOwogICAgICAgIHRoaXMuZW5hYmxlTWFpbkNhbnZhc0NsaWNrID0gdHJ1ZTsgLy8gdGhpcy5kcmF3SW1hZ2VEYXRhKHRoaXMuZGV0ZWN0U3RhcnNJbWcpOwogICAgICB9CiAgICB9LAogICAgLy8gZHJhd0ltYWdlRGF0YSgpIHsKICAgIC8vICAgaWYgKHRoaXMuYnVmZmVyQ2FudmFzID09IG51bGwpIHsKICAgIC8vICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdkcmF3SW1hZ2VEYXRhIGVycm9yOiBidWZmZXJDYW52YXMgaXMgbnVsbCBvciB1bmRlZmluZWQuJywgJ2Vycm9yJyk7CiAgICAvLyAgICAgcmV0dXJuOwogICAgLy8gICB9CiAgICAvLyAgIC8vIOWPr+eUqOebuOWFs+WPguaVsAogICAgLy8gICAvLyB3aW5kb3cuaW5uZXJXaWR0aDsgLy8g56qX5Y+j5a695bqmCiAgICAvLyAgIC8vIHdpbmRvdy5pbm5lckhlaWdodDsgLy8g56qX5Y+j6auY5bqmCiAgICAvLyAgIC8vIHRoaXMuc2NhbGUg57yp5pS+5q+U5L6LCiAgICAvLyAgIC8vIHRoaXMudHJhbnNsYXRlWCDlubPnp7t45Z2Q5qCHCiAgICAvLyAgIC8vIHRoaXMudHJhbnNsYXRlWSDlubPnp7t55Z2Q5qCHCiAgICAvLyAgIC8vIHRoaXMuQ2FudmFzV2lkdGgg5Li755S75biD5a695bqmIDE5MjAKICAgIC8vICAgLy8gdGhpcy5DYW52YXNIZWlnaHQg5Li755S75biD6auY5bqmIDEwODAKICAgIC8vICAgLy8gdGhpcy5tYWluQ2FtZXJhU2l6ZVgg5Y6f5aeL5Zu+5YOP5a695bqmCiAgICAvLyAgIC8vIHRoaXMubWFpbkNhbWVyYVNpemVZIOWOn+Wni+WbvuWDj+mrmOW6pgogICAgLy8gICAvLyB0aGlzLmJ1ZmZlckNhbnZhcy53aWR0aCDnvJPlhrLnlLvluIPlrr3luqYKICAgIC8vICAgLy8gdGhpcy5idWZmZXJDYW52YXMuaGVpZ2h0IOe8k+WGsueUu+W4g+mrmOW6pgogICAgLy8gICAvLyB0aGlzLkltYWdlUHJvcG9ydGlvbiDlm77lg4/mr5TkvosKICAgIC8vICAgLy8gdGhpcy5ST0lfeCBST0nnmoR45Z2Q5qCHCiAgICAvLyAgIC8vIHRoaXMuUk9JX3kgUk9J55qEeeWdkOaghwogICAgLy8gICAvLyB0aGlzLlJPSV9sZW5ndGggUk9J55qE6ZW/5bqmCiAgICAvLyAgIC8vIGNvbnNvbGUubG9nKCflvZPliY3nlLvluIPlj4LmlbA6XG4gYnVmZmVyQ2FudmFzLndpZHRoOiAnLCB0aGlzLmJ1ZmZlckNhbnZhcy53aWR0aCwgJ1xuIGJ1ZmZlckNhbnZhcy5oZWlnaHQ6ICcsIHRoaXMuYnVmZmVyQ2FudmFzLmhlaWdodCwgJ1xuIEltYWdlUHJvcG9ydGlvbjogJywgdGhpcy5JbWFnZVByb3BvcnRpb24sICdcbiBzY2FsZTogJywgdGhpcy5zY2FsZSwgJ1xuIHZpc2libGVYOiAnLCB0aGlzLnZpc2libGVYLCAnXG4gdmlzaWJsZVk6ICcsIHRoaXMudmlzaWJsZVksICdcbiB2aXNpYmxlV2lkdGg6ICcsIHRoaXMudmlzaWJsZVdpZHRoLCAnXG4gdmlzaWJsZUhlaWdodDogJywgdGhpcy52aXNpYmxlSGVpZ2h0LCAnXG4gUk9JX3g6ICcsIHRoaXMuUk9JX3gsICdcbiBST0lfeTogJywgdGhpcy5ST0lfeSwgJ1xuIFJPSV9sZW5ndGg6ICcsIHRoaXMuUk9JX2xlbmd0aCk7CiAgICAvLyAgIGxldCBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpOwogICAgLy8gICBsZXQgVGltZTEgPSBuZXcgRGF0ZSgpOwogICAgLy8gICAvLyDorqHnrpflj6/op4HljLrln58KICAgIC8vICAgY29uc3QgbmV3VmlzaWJsZVdpZHRoID0gdGhpcy5idWZmZXJDYW52YXMud2lkdGggKiB0aGlzLnNjYWxlOwogICAgLy8gICBjb25zdCBuZXdWaXNpYmxlSGVpZ2h0ID0gbmV3VmlzaWJsZVdpZHRoIC8gdGhpcy5JbWFnZVByb3BvcnRpb247CiAgICAvLyAgIC8vIOiuoeeul+WPr+ingeWMuuWfn3jlnZDmoIcKICAgIC8vICAgbGV0IG5ld1Zpc2libGVYID0gdGhpcy52aXNpYmxlWDsKICAgIC8vICAgLy8g6K6h566X5Y+v6KeB5Yy65Z+feeWdkOaghwogICAgLy8gICBsZXQgbmV3VmlzaWJsZVkgPSB0aGlzLnZpc2libGVZOwogICAgLy8gICAvLyDpgb/lhY3lm77lg4/otornlYwKICAgIC8vICAgaWYgKG5ld1Zpc2libGVYIC0gbmV3VmlzaWJsZVdpZHRoIC8gMiA8IDApIHsKICAgIC8vICAgICBuZXdWaXNpYmxlWCA9IG5ld1Zpc2libGVXaWR0aCAvIDI7CiAgICAvLyAgIH0gZWxzZSBpZiAobmV3VmlzaWJsZVggKyBuZXdWaXNpYmxlV2lkdGggLyAyID4gdGhpcy5idWZmZXJDYW52YXMud2lkdGgpIHsKICAgIC8vICAgICBuZXdWaXNpYmxlWCA9IHRoaXMuYnVmZmVyQ2FudmFzLndpZHRoIC0gbmV3VmlzaWJsZVdpZHRoIC8gMjsKICAgIC8vICAgfQogICAgLy8gICBpZiAobmV3VmlzaWJsZVkgLSBuZXdWaXNpYmxlSGVpZ2h0IC8gMiA8IDApIHsKICAgIC8vICAgICBuZXdWaXNpYmxlWSA9IG5ld1Zpc2libGVIZWlnaHQgLyAyOwogICAgLy8gICB9IGVsc2UgaWYgKG5ld1Zpc2libGVZICsgbmV3VmlzaWJsZUhlaWdodCAvIDIgPiB0aGlzLmJ1ZmZlckNhbnZhcy5oZWlnaHQpIHsKICAgIC8vICAgICBuZXdWaXNpYmxlWSA9IHRoaXMuYnVmZmVyQ2FudmFzLmhlaWdodCAtIG5ld1Zpc2libGVIZWlnaHQgLyAyOwogICAgLy8gICB9CiAgICAvLyAgIC8vIOabtOaWsFJPSeWMuuWfnwogICAgLy8gICAvLyDorqHnrpflj6/op4HljLrln5/nmoTovrnnlYwKICAgIC8vICAgY29uc3QgdmlzaWJsZUxlZnQgPSBuZXdWaXNpYmxlWCAtIG5ld1Zpc2libGVXaWR0aCAvIDI7CiAgICAvLyAgIGNvbnN0IHZpc2libGVSaWdodCA9IG5ld1Zpc2libGVYICsgbmV3VmlzaWJsZVdpZHRoIC8gMjsKICAgIC8vICAgY29uc3QgdmlzaWJsZVRvcCA9IG5ld1Zpc2libGVZIC0gbmV3VmlzaWJsZUhlaWdodCAvIDI7CiAgICAvLyAgIGNvbnN0IHZpc2libGVCb3R0b20gPSBuZXdWaXNpYmxlWSArIG5ld1Zpc2libGVIZWlnaHQgLyAyOwogICAgLy8gICAvLyDorqHnrpcgUk9JIOWMuuWfn+eahOi+ueeVjAogICAgLy8gICBjb25zdCByb2lMZWZ0ID0gdGhpcy5ST0lfeDsKICAgIC8vICAgY29uc3Qgcm9pUmlnaHQgPSB0aGlzLlJPSV94ICsgdGhpcy5ST0lfbGVuZ3RoOwogICAgLy8gICBjb25zdCByb2lUb3AgPSB0aGlzLlJPSV95OwogICAgLy8gICBjb25zdCByb2lCb3R0b20gPSB0aGlzLlJPSV95ICsgdGhpcy5ST0lfbGVuZ3RoOwogICAgLy8gICAvLyDliKTmlq0gUk9JIOWMuuWfn+aYr+WQpuWcqOWPr+ingeWMuuWfn+WGhQogICAgLy8gICBjb25zdCBpc1JvaUluVmlzaWJsZSA9IHJvaVJpZ2h0ID49IHZpc2libGVMZWZ0ICYmIHJvaUxlZnQgPD0gdmlzaWJsZVJpZ2h0ICYmIHJvaUJvdHRvbSA+PSB2aXNpYmxlVG9wICYmIHJvaVRvcCA8PSB2aXNpYmxlQm90dG9tOwogICAgLy8gICAvLyDorqHnrpcgUk9JIOWMuuWfn+WcqOWxj+W5leS4iueahOS9jee9ru+8jOS4reW/g+eCueWdkOaghwogICAgLy8gICBjb25zdCByb2lTY3JlZW5YID0gKHRoaXMuUk9JX3ggLSB2aXNpYmxlTGVmdCkgKiAod2luZG93LmlubmVyV2lkdGggLyBuZXdWaXNpYmxlV2lkdGgpICsgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoICogd2luZG93LmlubmVyV2lkdGggLyBuZXdWaXNpYmxlV2lkdGggLyAyOwogICAgLy8gICBjb25zdCByb2lTY3JlZW5ZID0gKHRoaXMuUk9JX3kgLSB2aXNpYmxlVG9wKSAqICh3aW5kb3cuaW5uZXJIZWlnaHQgLyBuZXdWaXNpYmxlSGVpZ2h0KSArIHRoaXMuUmVkQm94U2lkZUxlbmd0aCAqIHdpbmRvdy5pbm5lckhlaWdodCAvIG5ld1Zpc2libGVIZWlnaHQgLyAyOwogICAgLy8gICAvLyB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdST0kg5Yy65Z+f5Zyo5bGP5bmV5LiK55qE5L2N572uOiAnICsgcm9pU2NyZWVuWCArICcqJyArIHJvaVNjcmVlblkgKyAn6ZW/5bqmICcgKyB0aGlzLlJlZEJveFNpZGVMZW5ndGggKiB3aW5kb3cuaW5uZXJXaWR0aCAvIG5ld1Zpc2libGVXaWR0aCArICcqJyArIHRoaXMuUmVkQm94U2lkZUxlbmd0aCAqIHdpbmRvdy5pbm5lckhlaWdodCAvIG5ld1Zpc2libGVIZWlnaHQsICdpbmZvJyk7CiAgICAvLyAgIHRoaXMuJGJ1cy4kZW1pdCgnc2V0UmVkQm94TGVuZ3RoJywgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoICogd2luZG93LmlubmVyV2lkdGggLyBuZXdWaXNpYmxlV2lkdGgsIHRoaXMuUmVkQm94U2lkZUxlbmd0aCAqIHdpbmRvdy5pbm5lckhlaWdodCAvIG5ld1Zpc2libGVIZWlnaHQpOwogICAgLy8gICB0aGlzLiRidXMuJGVtaXQoJ3NldFJlZEJveFBvc2l0aW9uJywgcm9pU2NyZWVuWCwgcm9pU2NyZWVuWSk7CiAgICAvLyAgIC8vIGlmIChpc1JvaUluVmlzaWJsZSkgewogICAgLy8gICAvLyAgIGNvbnNvbGUubG9nKCdST0kg5Yy65Z+f5Zyo5Y+v6KeB5Yy65Z+f5YaFLCBSZWRCb3hTaWRlTGVuZ3RoOiAnLCB0aGlzLlJlZEJveFNpZGVMZW5ndGggKiB3aW5kb3cuaW5uZXJXaWR0aCAvIG5ld1Zpc2libGVXaWR0aCwgJywgJywgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoICogd2luZG93LmlubmVySGVpZ2h0IC8gbmV3VmlzaWJsZUhlaWdodCk7CiAgICAvLyAgIC8vIH0gZWxzZSB7CiAgICAvLyAgIC8vICAgY29uc29sZS5sb2coJ1JPSSDljLrln5/kuI3lnKjlj6/op4HljLrln5/lhoUsIFJlZEJveFNpZGVMZW5ndGg6ICcsIHRoaXMuUmVkQm94U2lkZUxlbmd0aCAqIHdpbmRvdy5pbm5lcldpZHRoIC8gbmV3VmlzaWJsZVdpZHRoLCAnLCAnLCB0aGlzLlJlZEJveFNpZGVMZW5ndGggKiB3aW5kb3cuaW5uZXJIZWlnaHQgLyBuZXdWaXNpYmxlSGVpZ2h0KTsKICAgIC8vICAgLy8gfQogICAgLy8gICBsZXQgVGltZTIgPSBuZXcgRGF0ZSgpOwogICAgLy8gICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdkcmF3SW1hZ2VEYXRhIHwg6K6h566X55u45YWz5Y+C5pWw5pe26Ze0OiAnICsgKFRpbWUyLmdldFRpbWUoKSAtIFRpbWUxLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKICAgIC8vICAgLy8gRHJhdyBidWZmZXIgY2FudmFzIG9uIG1haW4gY2FudmFzCiAgICAvLyAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuJHJlZnMubWFpbkNhbnZhczsKICAgIC8vICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAvLyAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICAgIC8vICAgLy8g6I635Y+W57uY5Yi255qE5Zu+5YOP5pWw5o2uCiAgICAvLyAgIGxldCBpbWFnZURhdGEgPSB0aGlzLmJ1ZmZlckN0eC5nZXRJbWFnZURhdGEobmV3VmlzaWJsZVggLSBuZXdWaXNpYmxlV2lkdGggLyAyLCBuZXdWaXNpYmxlWSAtIG5ld1Zpc2libGVIZWlnaHQgLyAyLCBuZXdWaXNpYmxlV2lkdGgsIG5ld1Zpc2libGVIZWlnaHQpOwogICAgLy8gICBUaW1lMSA9IG5ldyBEYXRlKCk7CiAgICAvLyAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2RyYXdJbWFnZURhdGEgfCDojrflj5bnu5jliLbnmoTlm77lg4/mlbDmja7ml7bpl7Q6ICcgKyAoVGltZTEuZ2V0VGltZSgpIC0gVGltZTIuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gICAvLyBpZiAodGhpcy5jdXJyZW50SGlzdG9ncmFtTWF4ICE9IDI1NSB8fCB0aGlzLmN1cnJlbnRIaXN0b2dyYW1NaW4gIT0gMCkgewogICAgLy8gICAvLyAgIGltYWdlRGF0YSA9IHRoaXMuaGlzdG9ncmFtU3RyZXRjaChpbWFnZURhdGEsIHRoaXMuY3VycmVudEhpc3RvZ3JhbU1pbiwgdGhpcy5jdXJyZW50SGlzdG9ncmFtTWF4KTsKICAgIC8vICAgLy8gfQogICAgLy8gICBUaW1lMiA9IG5ldyBEYXRlKCk7CiAgICAvLyAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2RyYXdJbWFnZURhdGEgfCDnm7Tmlrnlm77mi4nkvLjml7bpl7Q6ICcgKyAoVGltZTIuZ2V0VGltZSgpIC0gVGltZTEuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gICAvLyBDcmVhdGUgYSB0ZW1wb3JhcnkgY2FudmFzIHRvIGRyYXcgdGhlIEltYWdlRGF0YQogICAgLy8gICBsZXQgdGVtcENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgLy8gICB0ZW1wQ2FudmFzLndpZHRoID0gaW1hZ2VEYXRhLndpZHRoOwogICAgLy8gICB0ZW1wQ2FudmFzLmhlaWdodCA9IGltYWdlRGF0YS5oZWlnaHQ7CiAgICAvLyAgIGxldCB0ZW1wQ3R4ID0gdGVtcENhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgLy8gICB0ZW1wQ3R4LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApOwogICAgLy8gICBUaW1lMSA9IG5ldyBEYXRlKCk7CiAgICAvLyAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2RyYXdJbWFnZURhdGEgfCDliJvlu7rkuLTml7bnlLvluIPlubbnu5jliLbml7bpl7Q6ICcgKyAoVGltZTEuZ2V0VGltZSgpIC0gVGltZTIuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gICAvLyBEcmF3IHRoZSBJbWFnZURhdGEgb24gdGhlIG1haW4gY2FudmFzCiAgICAvLyAgIGN0eC5kcmF3SW1hZ2UodGVtcENhbnZhcywgMCwgMCwgdGVtcENhbnZhcy53aWR0aCwgdGVtcENhbnZhcy5oZWlnaHQsIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAvLyAgIFRpbWUyID0gbmV3IERhdGUoKTsKICAgIC8vICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnZHJhd0ltYWdlRGF0YSB8IOe7mOWItuWbvuWDj+aXtumXtDogJyArIChUaW1lMi5nZXRUaW1lKCkgLSBUaW1lMS5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAvLyAgIC8vIGN0eC5kcmF3SW1hZ2UodGhpcy5idWZmZXJDYW52YXMsIG5ld1Zpc2libGVYIC0gbmV3VmlzaWJsZVdpZHRoIC8gMiwgbmV3VmlzaWJsZVkgLSBuZXdWaXNpYmxlSGVpZ2h0IC8gMiwgbmV3VmlzaWJsZVdpZHRoLCBuZXdWaXNpYmxlSGVpZ2h0LCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogICAgLy8gICAvLyB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCfnu5jliLblm77lg48s5Y+v6KeB5Yy65Z+fOicgKyBuZXdWaXNpYmxlWCArICcsJyArIG5ld1Zpc2libGVZICsgJywnICsgbmV3VmlzaWJsZVdpZHRoICsgJywnICsgbmV3VmlzaWJsZUhlaWdodCwgJ2luZm8nKTsKICAgIC8vICAgdGhpcy52aXNpYmxlWCA9IG5ld1Zpc2libGVYOwogICAgLy8gICB0aGlzLnZpc2libGVZID0gbmV3VmlzaWJsZVk7CiAgICAvLyAgIHRoaXMudmlzaWJsZVdpZHRoID0gbmV3VmlzaWJsZVdpZHRoOwogICAgLy8gICB0aGlzLnZpc2libGVIZWlnaHQgPSBuZXdWaXNpYmxlSGVpZ2h0OwogICAgLy8gICB0aGlzLiRidXMuJGVtaXQoJ3NldEN1cnJlbnRNYWluQ2FudmFzSGFzSW1hZ2UnLCB0cnVlKTsgLy8g5Y+R6YCB57uZ55S16LCD77yM55So5LqO5Yik5pat5piv5ZCm5Y+v5Lul6L+b6KGM5b6q546v5ouN5pGECiAgICAvLyAgIC8vIOWPkemAgea2iOaBr+e7mVFU5a6i5oi356uv77yM55So5LqO5L+h5oGv5Zu+5qCHCiAgICAvLyAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnc2VuZFJlZEJveFN0YXRlOicgKyB0aGlzLlJlZEJveFNpZGVMZW5ndGggKyAnOicgKyB0aGlzLlJPSV94ICsgJzonICsgdGhpcy5ST0lfeSk7CiAgICAvLyAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnc2VuZFZpc2libGVBcmVhOicgKyB0aGlzLnZpc2libGVYICsgJzonICsgdGhpcy52aXNpYmxlWSArICc6JyArIHRoaXMuc2NhbGUpOwogICAgLy8gICAvLyDlpoLmnpzpgInmi6nkuobmmJ/ngrnvvIzliJnmoLnmja7pgInmi6nkvY3nva7vvIzlnKhST0nljLrln5/kuK3nu5jliLbkuIDkuKrlnIYKICAgIC8vICAgaWYgKHRoaXMuRHJhd1NlbGVjdFN0YXJYICE9IC0xICYmIHRoaXMuRHJhd1NlbGVjdFN0YXJZICE9IC0xICYmIHRoaXMuc2hvd1NlbGVjdFN0YXIpIHsKICAgIC8vICAgICBsZXQgcmFkaXVzLCBjYW52YXNTdGFyWCwgY2FudmFzU3RhclksIGNvbG9yOwogICAgLy8gICAgIC8vIOWmguaenOacieaYn+eCuQogICAgLy8gICAgIGlmICh0aGlzLkRyYXdTZWxlY3RTdGFySEZSICE9IC0xKSB7CiAgICAvLyAgICAgICByYWRpdXMgPSB0aGlzLkRyYXdTZWxlY3RTdGFySEZSL3RoaXMuc2NhbGUqMjsKICAgIC8vICAgICAgIGNhbnZhc1N0YXJYID0gKHRoaXMuRHJhd1NlbGVjdFN0YXJYICsgdGhpcy5ST0lfeCAtIHZpc2libGVMZWZ0KSAqIGN0eC5jYW52YXMud2lkdGggLyBuZXdWaXNpYmxlV2lkdGg7CiAgICAvLyAgICAgICBjYW52YXNTdGFyWSA9ICh0aGlzLkRyYXdTZWxlY3RTdGFyWSArIHRoaXMuUk9JX3kgLSB2aXNpYmxlVG9wKSAqIGN0eC5jYW52YXMuaGVpZ2h0IC8gbmV3VmlzaWJsZUhlaWdodDsKICAgIC8vICAgICAgIGNvbG9yID0gJ2dyZWVuJzsgLy8g5pyJ5pif54K577yM57uY5Yi257u/6Imy55qE5ZyGCiAgICAvLyAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgIC8vIOWQpuWIme+8jOWcqOmAieaLqeeahOS9jee9rue7mOWItuS4gOS4quWchgogICAgLy8gICAgICAgcmFkaXVzID0gMTAvdGhpcy5zY2FsZTsgLy8g5L2g5Y+v5Lul5qC55o2u6ZyA6KaB6LCD5pW06L+Z5Liq5YC8CiAgICAvLyAgICAgICBjYW52YXNTdGFyWCA9ICh0aGlzLkRyYXdTZWxlY3RTdGFyWCArIHRoaXMuUk9JX3ggLSB2aXNpYmxlTGVmdCkgKiBjdHguY2FudmFzLndpZHRoIC8gbmV3VmlzaWJsZVdpZHRoOwogICAgLy8gICAgICAgY2FudmFzU3RhclkgPSAodGhpcy5EcmF3U2VsZWN0U3RhclkgKyB0aGlzLlJPSV95IC0gdmlzaWJsZVRvcCkgKiBjdHguY2FudmFzLmhlaWdodCAvIG5ld1Zpc2libGVIZWlnaHQ7CiAgICAvLyAgICAgICBjb2xvciA9ICdyZWQnOyAvLyDml6DmmJ/ngrnvvIznu5jliLbnuqLoibLnmoTlnIYKICAgIC8vICAgICB9CiAgICAvLyAgICAgLy8g6I635Y+W57uY5Yi25ZyG55qE5L2N572u55qE5Zu+5YOP5pWw5o2uCiAgICAvLyAgICAgY29uc3QgaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YShjYW52YXNTdGFyWCAtIHJhZGl1cywgY2FudmFzU3RhclkgLSByYWRpdXMsIDIgKiByYWRpdXMsIDIgKiByYWRpdXMpOwogICAgLy8gICAgIC8vIOWPkemAgeWbvuWDj+aVsOaNrue7meaYvuekuuahhgogICAgLy8gICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2VsZWN0U3RhckltYWdlJywgaW1hZ2VEYXRhKTsKICAgIC8vICAgICAvLyDlnKjmjIflrprkvY3nva7lvIDlp4vnu5jliLblnIYKICAgIC8vICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAvLyAgICAgY3R4LmFyYyhjYW52YXNTdGFyWCwgY2FudmFzU3RhclksIHJhZGl1cywgMCwgMiAqIE1hdGguUEkpOwogICAgLy8gICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yOwogICAgLy8gICAgIGN0eC5saW5lV2lkdGggPSAzOwogICAgLy8gICAgIGN0eC5zdHJva2UoKTsKICAgIC8vICAgICBjdHguY2xvc2VQYXRoKCk7CiAgICAvLyAgIH0KICAgIC8vICAgVGltZTEgPSBuZXcgRGF0ZSgpOwogICAgLy8gICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdkcmF3SW1hZ2VEYXRhIHwg57uY5Yi25pif54K55pe26Ze0OiAnICsgKFRpbWUxLmdldFRpbWUoKSAtIFRpbWUyLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKICAgIC8vICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnZHJhd0ltYWdlRGF0YSB8IOaAu+aXtumXtDogJyArIChUaW1lMS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gfSwKICAgIGRyYXdJbWFnZURhdGE6IGZ1bmN0aW9uIGRyYXdJbWFnZURhdGEoKSB7CiAgICAgIGlmICh0aGlzLmJ1ZmZlckNhbnZhcyA9PSBudWxsKSB7CiAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnZHJhd0ltYWdlRGF0YSBlcnJvcjogYnVmZmVyQ2FudmFzIGlzIG51bGwgb3IgdW5kZWZpbmVkLicsICdlcnJvcicpOwogICAgICAgIHJldHVybjsKICAgICAgfSAvLyDlj6/nlKjnm7jlhbPlj4LmlbAKICAgICAgLy8gd2luZG93LmlubmVyV2lkdGg7IC8vIOeql+WPo+WuveW6pgogICAgICAvLyB3aW5kb3cuaW5uZXJIZWlnaHQ7IC8vIOeql+WPo+mrmOW6pgogICAgICAvLyB0aGlzLnNjYWxlIOe8qeaUvuavlOS+iwogICAgICAvLyB0aGlzLnRyYW5zbGF0ZVgg5bmz56e7eOWdkOaghwogICAgICAvLyB0aGlzLnRyYW5zbGF0ZVkg5bmz56e7eeWdkOaghwogICAgICAvLyB0aGlzLkNhbnZhc1dpZHRoIOS4u+eUu+W4g+WuveW6piAxOTIwCiAgICAgIC8vIHRoaXMuQ2FudmFzSGVpZ2h0IOS4u+eUu+W4g+mrmOW6piAxMDgwCiAgICAgIC8vIHRoaXMubWFpbkNhbWVyYVNpemVYIOWOn+Wni+WbvuWDj+WuveW6pgogICAgICAvLyB0aGlzLm1haW5DYW1lcmFTaXplWSDljp/lp4vlm77lg4/pq5jluqYKICAgICAgLy8gdGhpcy5idWZmZXJDYW52YXMud2lkdGgg57yT5Yay55S75biD5a695bqmCiAgICAgIC8vIHRoaXMuYnVmZmVyQ2FudmFzLmhlaWdodCDnvJPlhrLnlLvluIPpq5jluqYKICAgICAgLy8gdGhpcy5JbWFnZVByb3BvcnRpb24g5Zu+5YOP5q+U5L6LCiAgICAgIC8vIHRoaXMuUk9JX3ggUk9J55qEeOWdkOaghwogICAgICAvLyB0aGlzLlJPSV95IFJPSeeahHnlnZDmoIcKICAgICAgLy8gdGhpcy5ST0lfbGVuZ3RoIFJPSeeahOmVv+W6pgogICAgICAvLyBjb25zb2xlLmxvZygn5b2T5YmN55S75biD5Y+C5pWwOlxuIGJ1ZmZlckNhbnZhcy53aWR0aDogJywgdGhpcy5idWZmZXJDYW52YXMud2lkdGgsICdcbiBidWZmZXJDYW52YXMuaGVpZ2h0OiAnLCB0aGlzLmJ1ZmZlckNhbnZhcy5oZWlnaHQsICdcbiBJbWFnZVByb3BvcnRpb246ICcsIHRoaXMuSW1hZ2VQcm9wb3J0aW9uLCAnXG4gc2NhbGU6ICcsIHRoaXMuc2NhbGUsICdcbiB2aXNpYmxlWDogJywgdGhpcy52aXNpYmxlWCwgJ1xuIHZpc2libGVZOiAnLCB0aGlzLnZpc2libGVZLCAnXG4gdmlzaWJsZVdpZHRoOiAnLCB0aGlzLnZpc2libGVXaWR0aCwgJ1xuIHZpc2libGVIZWlnaHQ6ICcsIHRoaXMudmlzaWJsZUhlaWdodCwgJ1xuIFJPSV94OiAnLCB0aGlzLlJPSV94LCAnXG4gUk9JX3k6ICcsIHRoaXMuUk9JX3ksICdcbiBST0lfbGVuZ3RoOiAnLCB0aGlzLlJPSV9sZW5ndGgpOwoKCiAgICAgIHZhciBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpOwogICAgICB2YXIgVGltZTEgPSBuZXcgRGF0ZSgpOyAvLyDorqHnrpflj6/op4HljLrln58KCiAgICAgIHZhciBuZXdWaXNpYmxlV2lkdGggPSB0aGlzLmJ1ZmZlckNhbnZhcy53aWR0aCAqIHRoaXMuc2NhbGU7CiAgICAgIHZhciBuZXdWaXNpYmxlSGVpZ2h0ID0gbmV3VmlzaWJsZVdpZHRoIC8gdGhpcy5JbWFnZVByb3BvcnRpb247IC8vIOiuoeeul+WPr+ingeWMuuWfn3jlnZDmoIcKCiAgICAgIHZhciBuZXdWaXNpYmxlWCA9IHRoaXMudmlzaWJsZVg7IC8vIOiuoeeul+WPr+ingeWMuuWfn3nlnZDmoIcKCiAgICAgIHZhciBuZXdWaXNpYmxlWSA9IHRoaXMudmlzaWJsZVk7IC8vIOmBv+WFjeWbvuWDj+i2iueVjAoKICAgICAgaWYgKG5ld1Zpc2libGVYIC0gbmV3VmlzaWJsZVdpZHRoIC8gMiA8IDApIHsKICAgICAgICBuZXdWaXNpYmxlWCA9IG5ld1Zpc2libGVXaWR0aCAvIDI7CiAgICAgIH0gZWxzZSBpZiAobmV3VmlzaWJsZVggKyBuZXdWaXNpYmxlV2lkdGggLyAyID4gdGhpcy5idWZmZXJDYW52YXMud2lkdGgpIHsKICAgICAgICBuZXdWaXNpYmxlWCA9IHRoaXMuYnVmZmVyQ2FudmFzLndpZHRoIC0gbmV3VmlzaWJsZVdpZHRoIC8gMjsKICAgICAgfQoKICAgICAgaWYgKG5ld1Zpc2libGVZIC0gbmV3VmlzaWJsZUhlaWdodCAvIDIgPCAwKSB7CiAgICAgICAgbmV3VmlzaWJsZVkgPSBuZXdWaXNpYmxlSGVpZ2h0IC8gMjsKICAgICAgfSBlbHNlIGlmIChuZXdWaXNpYmxlWSArIG5ld1Zpc2libGVIZWlnaHQgLyAyID4gdGhpcy5idWZmZXJDYW52YXMuaGVpZ2h0KSB7CiAgICAgICAgbmV3VmlzaWJsZVkgPSB0aGlzLmJ1ZmZlckNhbnZhcy5oZWlnaHQgLSBuZXdWaXNpYmxlSGVpZ2h0IC8gMjsKICAgICAgfSAvLyDmm7TmlrBST0nljLrln58KICAgICAgLy8g6K6h566X5Y+v6KeB5Yy65Z+f55qE6L6555WMCgoKICAgICAgdmFyIHZpc2libGVMZWZ0ID0gbmV3VmlzaWJsZVggLSBuZXdWaXNpYmxlV2lkdGggLyAyOwogICAgICB2YXIgdmlzaWJsZVJpZ2h0ID0gbmV3VmlzaWJsZVggKyBuZXdWaXNpYmxlV2lkdGggLyAyOwogICAgICB2YXIgdmlzaWJsZVRvcCA9IG5ld1Zpc2libGVZIC0gbmV3VmlzaWJsZUhlaWdodCAvIDI7CiAgICAgIHZhciB2aXNpYmxlQm90dG9tID0gbmV3VmlzaWJsZVkgKyBuZXdWaXNpYmxlSGVpZ2h0IC8gMjsgLy8g6K6h566XIFJPSSDljLrln5/nmoTovrnnlYwKCiAgICAgIHZhciByb2lMZWZ0ID0gdGhpcy5ST0lfeDsKICAgICAgdmFyIHJvaVJpZ2h0ID0gdGhpcy5ST0lfeCArIHRoaXMuUk9JX2xlbmd0aDsKICAgICAgdmFyIHJvaVRvcCA9IHRoaXMuUk9JX3k7CiAgICAgIHZhciByb2lCb3R0b20gPSB0aGlzLlJPSV95ICsgdGhpcy5ST0lfbGVuZ3RoOyAvLyDliKTmlq0gUk9JIOWMuuWfn+aYr+WQpuWcqOWPr+ingeWMuuWfn+WGhQoKICAgICAgdmFyIGlzUm9pSW5WaXNpYmxlID0gcm9pUmlnaHQgPj0gdmlzaWJsZUxlZnQgJiYgcm9pTGVmdCA8PSB2aXNpYmxlUmlnaHQgJiYgcm9pQm90dG9tID49IHZpc2libGVUb3AgJiYgcm9pVG9wIDw9IHZpc2libGVCb3R0b207IC8vIOiuoeeulyBST0kg5Yy65Z+f5Zyo5bGP5bmV5LiK55qE5L2N572u77yM5Lit5b+D54K55Z2Q5qCHCgogICAgICB2YXIgcm9pU2NyZWVuWCA9ICh0aGlzLlJPSV94IC0gdmlzaWJsZUxlZnQpICogKHdpbmRvdy5pbm5lcldpZHRoIC8gbmV3VmlzaWJsZVdpZHRoKSArIHRoaXMuUmVkQm94U2lkZUxlbmd0aCAqIHdpbmRvdy5pbm5lcldpZHRoIC8gbmV3VmlzaWJsZVdpZHRoIC8gMjsKICAgICAgdmFyIHJvaVNjcmVlblkgPSAodGhpcy5ST0lfeSAtIHZpc2libGVUb3ApICogKHdpbmRvdy5pbm5lckhlaWdodCAvIG5ld1Zpc2libGVIZWlnaHQpICsgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoICogd2luZG93LmlubmVySGVpZ2h0IC8gbmV3VmlzaWJsZUhlaWdodCAvIDI7IC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1JPSSDljLrln5/lnKjlsY/luZXkuIrnmoTkvY3nva46ICcgKyByb2lTY3JlZW5YICsgJyonICsgcm9pU2NyZWVuWSArICfplb/luqYgJyArIHRoaXMuUmVkQm94U2lkZUxlbmd0aCAqIHdpbmRvdy5pbm5lcldpZHRoIC8gbmV3VmlzaWJsZVdpZHRoICsgJyonICsgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoICogd2luZG93LmlubmVySGVpZ2h0IC8gbmV3VmlzaWJsZUhlaWdodCwgJ2luZm8nKTsKCiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2V0UmVkQm94TGVuZ3RoJywgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoICogd2luZG93LmlubmVyV2lkdGggLyBuZXdWaXNpYmxlV2lkdGgsIHRoaXMuUmVkQm94U2lkZUxlbmd0aCAqIHdpbmRvdy5pbm5lckhlaWdodCAvIG5ld1Zpc2libGVIZWlnaHQpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ3NldFJlZEJveFBvc2l0aW9uJywgcm9pU2NyZWVuWCwgcm9pU2NyZWVuWSk7IC8vIGlmIChpc1JvaUluVmlzaWJsZSkgewogICAgICAvLyAgIGNvbnNvbGUubG9nKCdST0kg5Yy65Z+f5Zyo5Y+v6KeB5Yy65Z+f5YaFLCBSZWRCb3hTaWRlTGVuZ3RoOiAnLCB0aGlzLlJlZEJveFNpZGVMZW5ndGggKiB3aW5kb3cuaW5uZXJXaWR0aCAvIG5ld1Zpc2libGVXaWR0aCwgJywgJywgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoICogd2luZG93LmlubmVySGVpZ2h0IC8gbmV3VmlzaWJsZUhlaWdodCk7CiAgICAgIC8vIH0gZWxzZSB7CiAgICAgIC8vICAgY29uc29sZS5sb2coJ1JPSSDljLrln5/kuI3lnKjlj6/op4HljLrln5/lhoUsIFJlZEJveFNpZGVMZW5ndGg6ICcsIHRoaXMuUmVkQm94U2lkZUxlbmd0aCAqIHdpbmRvdy5pbm5lcldpZHRoIC8gbmV3VmlzaWJsZVdpZHRoLCAnLCAnLCB0aGlzLlJlZEJveFNpZGVMZW5ndGggKiB3aW5kb3cuaW5uZXJIZWlnaHQgLyBuZXdWaXNpYmxlSGVpZ2h0KTsKICAgICAgLy8gfQoKICAgICAgdmFyIFRpbWUyID0gbmV3IERhdGUoKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnZHJhd0ltYWdlRGF0YSB8IOiuoeeul+ebuOWFs+WPguaVsOaXtumXtDogJyArIChUaW1lMi5nZXRUaW1lKCkgLSBUaW1lMS5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7IC8vIERyYXcgYnVmZmVyIGNhbnZhcyBvbiBtYWluIGNhbnZhcwoKICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuJHJlZnMubWFpbkNhbnZhczsKICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7IC8vIOiOt+WPlue7mOWItueahOWbvuWDj+aVsOaNrgogICAgICAvLyBsZXQgaW1hZ2VEYXRhID0gdGhpcy5idWZmZXJDdHguZ2V0SW1hZ2VEYXRhKG5ld1Zpc2libGVYIC0gbmV3VmlzaWJsZVdpZHRoIC8gMiwgbmV3VmlzaWJsZVkgLSBuZXdWaXNpYmxlSGVpZ2h0IC8gMiwgbmV3VmlzaWJsZVdpZHRoLCBuZXdWaXNpYmxlSGVpZ2h0KTsKCiAgICAgIFRpbWUxID0gbmV3IERhdGUoKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnZHJhd0ltYWdlRGF0YSB8IOiOt+WPlue7mOWItueahOWbvuWDj+aVsOaNruaXtumXtDogJyArIChUaW1lMS5nZXRUaW1lKCkgLSBUaW1lMi5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7IC8vIENyZWF0ZSBhIHRlbXBvcmFyeSBjYW52YXMgdG8gZHJhdyB0aGUgSW1hZ2VEYXRhCgogICAgICB0aGlzLnRlbXBDdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMudGVtcENhbnZhcy53aWR0aCwgdGhpcy50ZW1wQ2FudmFzLmhlaWdodCk7CiAgICAgIHRoaXMudGVtcENhbnZhcy53aWR0aCA9IGNhbnZhcy53aWR0aDsKICAgICAgdGhpcy50ZW1wQ2FudmFzLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7CiAgICAgIHRoaXMudGVtcEN0eC5kcmF3SW1hZ2UodGhpcy5idWZmZXJDYW52YXMsIG5ld1Zpc2libGVYIC0gbmV3VmlzaWJsZVdpZHRoIC8gMiwgbmV3VmlzaWJsZVkgLSBuZXdWaXNpYmxlSGVpZ2h0IC8gMiwgbmV3VmlzaWJsZVdpZHRoLCBuZXdWaXNpYmxlSGVpZ2h0LCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogICAgICBUaW1lMSA9IG5ldyBEYXRlKCk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2RyYXdJbWFnZURhdGEgfCDliJvlu7rkuLTml7bnlLvluIPlubbnu5jliLbml7bpl7Q6ICcgKyAoVGltZTEuZ2V0VGltZSgpIC0gVGltZTIuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgICB2YXIgaW1hZ2VEYXRhID0gdGhpcy50ZW1wQ3R4LmdldEltYWdlRGF0YSgwLCAwLCB0aGlzLnRlbXBDYW52YXMud2lkdGgsIHRoaXMudGVtcENhbnZhcy5oZWlnaHQpOwoKICAgICAgaWYgKHRoaXMuY3VycmVudEhpc3RvZ3JhbU1heCAhPSAyNTUgfHwgdGhpcy5jdXJyZW50SGlzdG9ncmFtTWluICE9IDApIHsKICAgICAgICBpbWFnZURhdGEgPSB0aGlzLmhpc3RvZ3JhbVN0cmV0Y2goaW1hZ2VEYXRhLCB0aGlzLmN1cnJlbnRIaXN0b2dyYW1NaW4sIHRoaXMuY3VycmVudEhpc3RvZ3JhbU1heCk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLkltYWdlR2FpblIgIT0gMSB8fCB0aGlzLkltYWdlR2FpbkIgIT0gMSB8fCB0aGlzLkltYWdlT2Zmc2V0ICE9IDApIHsKICAgICAgICBpbWFnZURhdGEgPSB0aGlzLmxvY2FsV2hpdGVCYWxhbmNlQWRqdXN0bWVudChpbWFnZURhdGEsIHRoaXMuSW1hZ2VHYWluUiwgdGhpcy5JbWFnZUdhaW5CLCB0aGlzLkltYWdlT2Zmc2V0KTsKICAgICAgfQoKICAgICAgdGhpcy50ZW1wQ3R4LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApOwogICAgICBUaW1lMiA9IG5ldyBEYXRlKCk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2RyYXdJbWFnZURhdGEgfCDnm7Tmlrnlm77mi4nkvLjml7bpl7Q6ICcgKyAoVGltZTIuZ2V0VGltZSgpIC0gVGltZTEuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOyAvLyBEcmF3IHRoZSBJbWFnZURhdGEgb24gdGhlIG1haW4gY2FudmFzCgogICAgICBjdHguZHJhd0ltYWdlKHRoaXMudGVtcENhbnZhcywgMCwgMCwgdGhpcy50ZW1wQ2FudmFzLndpZHRoLCB0aGlzLnRlbXBDYW52YXMuaGVpZ2h0LCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogICAgICBUaW1lMSA9IG5ldyBEYXRlKCk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2RyYXdJbWFnZURhdGEgfCDnu5jliLblm77lg4/ml7bpl7Q6ICcgKyAoVGltZTEuZ2V0VGltZSgpIC0gVGltZTIuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOyAvLyBjdHguZHJhd0ltYWdlKHRoaXMuYnVmZmVyQ2FudmFzLCBuZXdWaXNpYmxlWCAtIG5ld1Zpc2libGVXaWR0aCAvIDIsIG5ld1Zpc2libGVZIC0gbmV3VmlzaWJsZUhlaWdodCAvIDIsIG5ld1Zpc2libGVXaWR0aCwgbmV3VmlzaWJsZUhlaWdodCwgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICAgICAgLy8gdGhpcy5TZW5kQ29uc29sZUxvZ01zZygn57uY5Yi25Zu+5YOPLOWPr+ingeWMuuWfnzonICsgbmV3VmlzaWJsZVggKyAnLCcgKyBuZXdWaXNpYmxlWSArICcsJyArIG5ld1Zpc2libGVXaWR0aCArICcsJyArIG5ld1Zpc2libGVIZWlnaHQsICdpbmZvJyk7CgogICAgICB0aGlzLnZpc2libGVYID0gbmV3VmlzaWJsZVg7CiAgICAgIHRoaXMudmlzaWJsZVkgPSBuZXdWaXNpYmxlWTsKICAgICAgdGhpcy52aXNpYmxlV2lkdGggPSBuZXdWaXNpYmxlV2lkdGg7CiAgICAgIHRoaXMudmlzaWJsZUhlaWdodCA9IG5ld1Zpc2libGVIZWlnaHQ7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2V0Q3VycmVudE1haW5DYW52YXNIYXNJbWFnZScsIHRydWUpOyAvLyDlj5HpgIHnu5nnlLXosIPvvIznlKjkuo7liKTmlq3mmK/lkKblj6/ku6Xov5vooYzlvqrnjq/mi43mkYQKICAgICAgLy8g5Y+R6YCB5raI5oGv57uZUVTlrqLmiLfnq6/vvIznlKjkuo7kv6Hmga/lm77moIcKCiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnc2VuZFJlZEJveFN0YXRlOicgKyB0aGlzLlJlZEJveFNpZGVMZW5ndGggKyAnOicgKyB0aGlzLlJPSV94ICsgJzonICsgdGhpcy5ST0lfeSk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnc2VuZFZpc2libGVBcmVhOicgKyB0aGlzLnZpc2libGVYICsgJzonICsgdGhpcy52aXNpYmxlWSArICc6JyArIHRoaXMuc2NhbGUpOyAvLyDlpoLmnpzpgInmi6nkuobmmJ/ngrnvvIzliJnmoLnmja7pgInmi6nkvY3nva7vvIzlnKhST0nljLrln5/kuK3nu5jliLbkuIDkuKrlnIYKCiAgICAgIGlmICh0aGlzLkRyYXdTZWxlY3RTdGFyWCAhPSAtMSAmJiB0aGlzLkRyYXdTZWxlY3RTdGFyWSAhPSAtMSAmJiB0aGlzLnNob3dTZWxlY3RTdGFyKSB7CiAgICAgICAgdmFyIHJhZGl1cywgY2FudmFzU3RhclgsIGNhbnZhc1N0YXJZLCBjb2xvcjsgLy8g5aaC5p6c5pyJ5pif54K5CgogICAgICAgIGlmICh0aGlzLkRyYXdTZWxlY3RTdGFySEZSICE9IC0xKSB7CiAgICAgICAgICByYWRpdXMgPSB0aGlzLkRyYXdTZWxlY3RTdGFySEZSIC8gdGhpcy5zY2FsZSAqIDI7CiAgICAgICAgICBjYW52YXNTdGFyWCA9ICh0aGlzLkRyYXdTZWxlY3RTdGFyWCArIHRoaXMuUk9JX3ggLSB2aXNpYmxlTGVmdCkgKiBjdHguY2FudmFzLndpZHRoIC8gbmV3VmlzaWJsZVdpZHRoOwogICAgICAgICAgY2FudmFzU3RhclkgPSAodGhpcy5EcmF3U2VsZWN0U3RhclkgKyB0aGlzLlJPSV95IC0gdmlzaWJsZVRvcCkgKiBjdHguY2FudmFzLmhlaWdodCAvIG5ld1Zpc2libGVIZWlnaHQ7CiAgICAgICAgICBjb2xvciA9ICdncmVlbic7IC8vIOacieaYn+eCue+8jOe7mOWItue7v+iJsueahOWchgogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDlkKbliJnvvIzlnKjpgInmi6nnmoTkvY3nva7nu5jliLbkuIDkuKrlnIYKICAgICAgICAgIHJhZGl1cyA9IDEwIC8gdGhpcy5zY2FsZTsgLy8g5L2g5Y+v5Lul5qC55o2u6ZyA6KaB6LCD5pW06L+Z5Liq5YC8CgogICAgICAgICAgY2FudmFzU3RhclggPSAodGhpcy5EcmF3U2VsZWN0U3RhclggKyB0aGlzLlJPSV94IC0gdmlzaWJsZUxlZnQpICogY3R4LmNhbnZhcy53aWR0aCAvIG5ld1Zpc2libGVXaWR0aDsKICAgICAgICAgIGNhbnZhc1N0YXJZID0gKHRoaXMuRHJhd1NlbGVjdFN0YXJZICsgdGhpcy5ST0lfeSAtIHZpc2libGVUb3ApICogY3R4LmNhbnZhcy5oZWlnaHQgLyBuZXdWaXNpYmxlSGVpZ2h0OwogICAgICAgICAgY29sb3IgPSAncmVkJzsgLy8g5peg5pif54K577yM57uY5Yi257qi6Imy55qE5ZyGCiAgICAgICAgfSAvLyDojrflj5bnu5jliLblnIbnmoTkvY3nva7nmoTlm77lg4/mlbDmja4KCgogICAgICAgIHZhciBfaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YShjYW52YXNTdGFyWCAtIHJhZGl1cywgY2FudmFzU3RhclkgLSByYWRpdXMsIDIgKiByYWRpdXMsIDIgKiByYWRpdXMpOyAvLyDlj5HpgIHlm77lg4/mlbDmja7nu5nmmL7npLrmoYYKCgogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2VsZWN0U3RhckltYWdlJywgX2ltYWdlRGF0YSk7IC8vIOWcqOaMh+WumuS9jee9ruW8gOWni+e7mOWItuWchgoKICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgY3R4LmFyYyhjYW52YXNTdGFyWCwgY2FudmFzU3RhclksIHJhZGl1cywgMCwgMiAqIE1hdGguUEkpOwogICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yOwogICAgICAgIGN0eC5saW5lV2lkdGggPSAzOwogICAgICAgIGN0eC5zdHJva2UoKTsKICAgICAgICBjdHguY2xvc2VQYXRoKCk7CiAgICAgIH0KCiAgICAgIFRpbWUyID0gbmV3IERhdGUoKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnZHJhd0ltYWdlRGF0YSB8IOe7mOWItuaYn+eCueaXtumXtDogJyArIChUaW1lMi5nZXRUaW1lKCkgLSBUaW1lMS5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2RyYXdJbWFnZURhdGEgfCDmgLvml7bpl7Q6ICcgKyAoVGltZTIuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKICAgIH0sCiAgICBhZGRFdmVudExpc3RlbmVyczogZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnMoKSB7fSwKICAgIC8vIOiKgua1geWHveaVsAogICAgdGhyb3R0bGU6IGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIGRlbGF5KSB7CiAgICAgIHZhciBsYXN0RXhlY3V0ZWQgPSAwOwogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpOwoKICAgICAgICBpZiAobm93IC0gbGFzdEV4ZWN1dGVkID49IGRlbGF5KSB7CiAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpOwogICAgICAgICAgbGFzdEV4ZWN1dGVkID0gbm93OwogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICBJbWFnZVNvZnRBV0I6IGZ1bmN0aW9uIEltYWdlU29mdEFXQihpbWc4LCBnYWluUiwgZ2FpbkIsIG9mZnNldCkgewogICAgICAvLyDliIbnprvpgJrpgZMKICAgICAgdmFyIGNoYW5uZWxzID0gbmV3IGN2Lk1hdFZlY3RvcigpOwogICAgICBjdi5zcGxpdChpbWc4LCBjaGFubmVscyk7CiAgICAgIHZhciBiID0gY2hhbm5lbHMuZ2V0KDApOwogICAgICB2YXIgZyA9IGNoYW5uZWxzLmdldCgxKTsKICAgICAgdmFyIHIgPSBjaGFubmVscy5nZXQoMik7IC8vIOiHqumAguW6lOebtOaWueWbvuWdh+ihoeWMlgoKICAgICAgdmFyIGNsYWhlID0gbmV3IGN2LkNMQUhFKDIuMCwgbmV3IGN2LlNpemUoOCwgOCkpOwogICAgICBjbGFoZS5hcHBseShiLCBiKTsKICAgICAgY2xhaGUuYXBwbHkoZywgZyk7CiAgICAgIGNsYWhlLmFwcGx5KHIsIHIpOyAvLyDlupTnlKjlop7nm4rlkozlgY/nva4KCiAgICAgIHIuY29udmVydFRvKHIsIC0xLCBnYWluUiwgb2Zmc2V0KTsKICAgICAgYi5jb252ZXJ0VG8oYiwgLTEsIGdhaW5CLCBvZmZzZXQpOwogICAgICBnLmNvbnZlcnRUbyhnLCAtMSwgMSwgb2Zmc2V0KTsgLy8g5a+557u/6Imy6YCa6YGT5bqU55So5YGP572u5L2G5LiN5pS55Y+Y5aKe55uKCiAgICAgIC8vIOabtOaWsCBjaGFubmVscyDkuK3nmoTpgJrpgZPmlbDmja4KCiAgICAgIGNoYW5uZWxzLnNldCgwLCBiKTsKICAgICAgY2hhbm5lbHMuc2V0KDEsIGcpOwogICAgICBjaGFubmVscy5zZXQoMiwgcik7IC8vIOWQiOW5tumAmumBkwoKICAgICAgdmFyIG1lcmdlZEltZyA9IG5ldyBjdi5NYXQoKTsKICAgICAgY3YubWVyZ2UoY2hhbm5lbHMsIG1lcmdlZEltZyk7IC8vIOmHiuaUvui1hOa6kAoKICAgICAgYi5kZWxldGUoKTsgLy8g6YeK5pS+IGIKCiAgICAgIGcuZGVsZXRlKCk7IC8vIOmHiuaUviBnCgogICAgICByLmRlbGV0ZSgpOyAvLyDph4rmlL4gcgoKICAgICAgY2hhbm5lbHMuZGVsZXRlKCk7CiAgICAgIGNsYWhlLmRlbGV0ZSgpOyAvLyDph4rmlL4gY2xhaGUKCiAgICAgIHJldHVybiBtZXJnZWRJbWc7CiAgICB9LAogICAgLy8gQml0MTZUbzhfU3RyZXRjaChpbWcxNiwgQiwgVykgewogICAgLy8gICBjb25zb2xlLmxvZygnQml0MTZUbzhfU3RyZXRjaCB8IEIgPSAnICsgQiArICcsIFcgPSAnICsgVyk7CiAgICAvLyAgIGxldCBpbWc4ID0gbmV3IGN2Lk1hdCgpOwogICAgLy8gICBpbWc4LmNyZWF0ZShpbWcxNi5yb3dzLCBpbWcxNi5jb2xzLCBjdi5DVl84VUM0KTsKICAgIC8vICAgaW1nMTYuY29udmVydFRvKGltZzgsIGN2LkNWXzhVLCAyNTUuMCAvIChXIC0gQiksIC1CICogMjU1LjAgLyAoVyAtIEIpKTsKICAgIC8vICAgY29uc3QgcmVzdWx0ID0gaW1nOC5jbG9uZSgpOyAvLyDlhYvpmoYgaW1nOCDku6Xov5Tlm57nu5PmnpwKICAgIC8vICAgaW1nOC5kZWxldGUoKTsgLy8g6YeK5pS+IGltZzgKICAgIC8vICAgcmV0dXJuIHJlc3VsdDsKICAgIC8vIH0sCiAgICBCaXQxNlRvOF9TdHJldGNoOiBmdW5jdGlvbiBCaXQxNlRvOF9TdHJldGNoKGltZzE2LCBCLCBXKSB7CiAgICAgIGNvbnNvbGUubG9nKCdCaXQxNlRvOF9TdHJldGNoIHwgQiA9ICcgKyBCICsgJywgVyA9ICcgKyBXKTsKICAgICAgdmFyIGltZzggPSBuZXcgY3YuTWF0KGltZzE2LnJvd3MsIGltZzE2LmNvbHMsIGN2LkNWXzhVQzQpOwogICAgICBpbWcxNi5jb252ZXJ0VG8oaW1nOCwgY3YuQ1ZfOFUsIDI1NS4wIC8gKFcgLSBCKSwgLUIgKiAyNTUuMCAvIChXIC0gQikpOwogICAgICByZXR1cm4gaW1nODsKICAgIH0sCiAgICBEcmF3RGV0ZWN0U3RhcnM6IGZ1bmN0aW9uIERyYXdEZXRlY3RTdGFycyhpbWFnZSwgU3RhcnMpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coJ0RyYXcgY2lyY2xlIG9uIHRoZSBDYXB0dXJlIEltYWdlKCcsIGltYWdlLmNvbHMsICcsJywgaW1hZ2Uucm93cywgJykuJyk7CgogICAgICBpZiAoIShpbWFnZSBpbnN0YW5jZW9mIGN2Lk1hdCkpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaW1hZ2UgZGF0YScpOwogICAgICB9CgogICAgICBTdGFycy5mb3JFYWNoKGZ1bmN0aW9uIChzdGFyKSB7CiAgICAgICAgdmFyIGNlbnRlclggPSBNYXRoLnJvdW5kKHN0YXIueCAvIChfdGhpczE1Lm1haW5DYW1lcmFTaXplWCAvIGltYWdlLmNvbHMpKTsKICAgICAgICB2YXIgY2VudGVyWSA9IE1hdGgucm91bmQoc3Rhci55IC8gKF90aGlzMTUubWFpbkNhbWVyYVNpemVZIC8gaW1hZ2Uucm93cykpOwogICAgICAgIHZhciByYWRpdXMgPSBNYXRoLnJvdW5kKHN0YXIuaGZyKTsKICAgICAgICBjb25zb2xlLmxvZygnRHJhdyBjaXJjbGUgYXQoJywgY2VudGVyWCwgJywnLCBjZW50ZXJZLCAnKSB3aXRoIHJhZGl1czonLCByYWRpdXMpOwogICAgICAgIHZhciBjZW50ZXIgPSBuZXcgY3YuUG9pbnQoY2VudGVyWCwgY2VudGVyWSk7CiAgICAgICAgdmFyIGNvbG9yID0gbmV3IGN2LlNjYWxhcigyNTUsIDAsIDAsIDI1NSk7CiAgICAgICAgdmFyIHRoaWNrbmVzcyA9IDI7IC8vIOWchuWciOWOmuW6pgoKICAgICAgICBjdi5jaXJjbGUoaW1hZ2UsIGNlbnRlciwgcmFkaXVzLCBjb2xvciwgdGhpY2tuZXNzKTsgLy8g5re75YqgIGhmciDlgLzliLDlnIbnmoTkuIrmlrkKICAgICAgICAvLyDnoa7kv50gc3Rhci5oZnIg5piv5LiA5Liq5pWw5a2XCgogICAgICAgIHZhciBoZnJWYWx1ZSA9IHBhcnNlRmxvYXQoc3Rhci5oZnIpOwoKICAgICAgICBpZiAoaXNOYU4oaGZyVmFsdWUpKSB7CiAgICAgICAgICBoZnJWYWx1ZSA9IDA7IC8vIOWmguaenCBzdGFyLmhmciDkuI3og73ovazmjaLkuLrmlbDlrZfvvIzliJnpu5jorqTlgLzorr7kuLowCiAgICAgICAgfSAvLyDkv53nlZnliLDlsI/mlbDngrnlkI4y5L2NCgoKICAgICAgICB2YXIgdGV4dCA9IGhmclZhbHVlLnRvRml4ZWQoMik7CiAgICAgICAgdmFyIGZvbnRGYWNlID0gY3YuRk9OVF9IRVJTSEVZX1NJTVBMRVg7CiAgICAgICAgdmFyIGZvbnRTY2FsZSA9IDE7CiAgICAgICAgdmFyIHRleHRDb2xvciA9IG5ldyBjdi5TY2FsYXIoMjU1LCAwLCAwLCAyNTUpOwogICAgICAgIHZhciB0ZXh0VGhpY2tuZXNzID0gMjsgLy8g5omL5Yqo6K6+572u5paH5pys55qE5L2N572u77yM5YGH6K6+5a2X5L2T6auY5bqm5aSn57qm5Li6MTDlg4/ntKAKCiAgICAgICAgdmFyIHRleHRYID0gY2VudGVyWCAtIHRleHQubGVuZ3RoICogMTA7IC8vIOS8sOeul+avj+S4quWtl+espuWuveW6puS4ujXlg4/ntKAKCiAgICAgICAgdmFyIHRleHRZID0gY2VudGVyWSAtIHJhZGl1cyAtIDM7IC8vIOWchueahOS4iuaWuSAzIOWDj+e0oAogICAgICAgIC8vIOWcqOWbvuWDj+S4iue7mOWItuaWh+acrAoKICAgICAgICBjdi5wdXRUZXh0KGltYWdlLCB0ZXh0LCBuZXcgY3YuUG9pbnQodGV4dFgsIHRleHRZKSwgZm9udEZhY2UsIGZvbnRTY2FsZSwgdGV4dENvbG9yLCB0ZXh0VGhpY2tuZXNzKTsKICAgICAgfSk7CiAgICAgIHZhciBpbWFnZURhdGEgPSBuZXcgSW1hZ2VEYXRhKG5ldyBVaW50OENsYW1wZWRBcnJheShpbWFnZS5kYXRhKSwgaW1hZ2UuY29scywgaW1hZ2Uucm93cyk7CiAgICAgIHJldHVybiBpbWFnZURhdGE7CiAgICB9LAogICAgRHJhd1BIRDJCb3g6IGZ1bmN0aW9uIERyYXdQSEQyQm94KFBIRDJJbWFnZVNpemVfWCwgUEhEMkltYWdlU2l6ZV9ZLCBCb3hfWCwgQm94X1kpIHsKICAgICAgdmFyIHJhdGlvWm9vbVggPSBQSEQySW1hZ2VTaXplX1ggLyB3aW5kb3cuaW5uZXJXaWR0aDsKICAgICAgdmFyIHJhdGlvWm9vbVkgPSBQSEQySW1hZ2VTaXplX1kgLyB3aW5kb3cuaW5uZXJIZWlnaHQ7CiAgICAgIHZhciBCb3hXaWR0aCA9IDIwIC8gcmF0aW9ab29tWDsKICAgICAgdmFyIEJveEhlaWdodCA9IDIwIC8gcmF0aW9ab29tWTsKICAgICAgdmFyIEJveFN0YXJ0WCA9IEJveF9YIC8gcmF0aW9ab29tWCAtIEJveFdpZHRoIC8gMjsKICAgICAgdmFyIEJveFN0YXJ0WSA9IEJveF9ZIC8gcmF0aW9ab29tWSAtIEJveEhlaWdodCAvIDI7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnUEhEMkJveFBvc2l0aW9uJywgQm94U3RhcnRYLCBCb3hTdGFydFksIEJveFdpZHRoLCBCb3hIZWlnaHQpOwogICAgfSwKICAgIERyYXdQSEQyQ3Jvc3M6IGZ1bmN0aW9uIERyYXdQSEQyQ3Jvc3MoUEhEMkltYWdlU2l6ZV9YLCBQSEQySW1hZ2VTaXplX1ksIENyb3NzX1gsIENyb3NzX1kpIHsKICAgICAgdmFyIHJhdGlvWm9vbVggPSBQSEQySW1hZ2VTaXplX1ggLyB3aW5kb3cuaW5uZXJXaWR0aDsKICAgICAgdmFyIHJhdGlvWm9vbVkgPSBQSEQySW1hZ2VTaXplX1kgLyB3aW5kb3cuaW5uZXJIZWlnaHQ7CiAgICAgIHZhciBDcm9zc1N0YXJ0WCA9IENyb3NzX1ggLyByYXRpb1pvb21YOwogICAgICB2YXIgQ3Jvc3NTdGFydFkgPSBDcm9zc19ZIC8gcmF0aW9ab29tWTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdQSEQyQ3Jvc3NQb3NpdGlvbicsIENyb3NzU3RhcnRYLCBDcm9zc1N0YXJ0WSk7CiAgICB9LAogICAgRHJhd1BIRDJNdWx0aVN0YXJzOiBmdW5jdGlvbiBEcmF3UEhEMk11bHRpU3RhcnMoUEhEMkltYWdlU2l6ZV9YLCBQSEQySW1hZ2VTaXplX1ksIFN0YXJfWCwgU3Rhcl9ZKSB7CiAgICAgIHZhciByYXRpb1pvb21YID0gUEhEMkltYWdlU2l6ZV9YIC8gd2luZG93LmlubmVyV2lkdGg7CiAgICAgIHZhciByYXRpb1pvb21ZID0gUEhEMkltYWdlU2l6ZV9ZIC8gd2luZG93LmlubmVySGVpZ2h0OwogICAgICB2YXIgU3RhclN0YXJ0WCA9IFN0YXJfWCAvIHJhdGlvWm9vbVggLSAxMiAvIDI7CiAgICAgIHZhciBTdGFyU3RhcnRZID0gU3Rhcl9ZIC8gcmF0aW9ab29tWSAtIDEyIC8gMjsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdQSEQyTXVsdGlTdGFyc1Bvc2l0aW9uJywgU3RhclN0YXJ0WCwgU3RhclN0YXJ0WSk7CiAgICB9LAogICAgR2V0QXV0b1N0cmV0Y2g6IGZ1bmN0aW9uIEdldEF1dG9TdHJldGNoKGltZ0RhdGEsIG1vZGUpIHsKICAgICAgaWYgKGltZ0RhdGEubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGJsYWNrTGV2ZWw6IDAsCiAgICAgICAgICB3aGl0ZUxldmVsOiA2NTUzNQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHZhciBsZW5ndGggPSBpbWdEYXRhLmxlbmd0aDsKICAgICAgdmFyIG1lYW4gPSAwOwogICAgICB2YXIgTTIgPSAwOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgIHZhciBkZWx0YSA9IGltZ0RhdGFbaV0gLSBtZWFuOwogICAgICAgIG1lYW4gKz0gZGVsdGEgLyAoaSArIDEpOwogICAgICAgIE0yICs9IGRlbHRhICogKGltZ0RhdGFbaV0gLSBtZWFuKTsKICAgICAgfQoKICAgICAgdmFyIHZhcmlhbmNlID0gTTIgLyBsZW5ndGg7CiAgICAgIHZhciBzdGQgPSBNYXRoLnNxcnQodmFyaWFuY2UpOwogICAgICB2YXIgYSwgYjsKCiAgICAgIHN3aXRjaCAobW9kZSkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIGEgPSAzOwogICAgICAgICAgYiA9IDU7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAxOgogICAgICAgICAgYSA9IDI7CiAgICAgICAgICBiID0gNTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICBhID0gMzsKICAgICAgICAgIGIgPSA4OwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBhID0gMjsKICAgICAgICAgIGIgPSA4OwogICAgICB9CgogICAgICB2YXIgYnggPSBNYXRoLm1heCgwLCBtZWFuIC0gc3RkICogYSk7CiAgICAgIHZhciB3eCA9IE1hdGgubWluKDY1NTM1LCBtZWFuICsgc3RkICogYik7CiAgICAgIHZhciBibGFja0xldmVsID0gTWF0aC5yb3VuZChieCk7CiAgICAgIHZhciB3aGl0ZUxldmVsID0gTWF0aC5yb3VuZCh3eCk7CgogICAgICBpZiAoYmxhY2tMZXZlbCA+PSB3aGl0ZUxldmVsKSB7CiAgICAgICAgYmxhY2tMZXZlbCA9IHdoaXRlTGV2ZWwgLSAxOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIGJsYWNrTGV2ZWw6IGJsYWNrTGV2ZWwsCiAgICAgICAgd2hpdGVMZXZlbDogd2hpdGVMZXZlbAogICAgICB9OwogICAgfSwKICAgIGZldGNoSW1hZ2U6IGZ1bmN0aW9uIGZldGNoSW1hZ2UoaW1hZ2VQYXRoKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKCiAgICAgIHZhciB1cmwgPSBpbWFnZVBhdGg7CiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJzsgLy8g6K6+572u5ZON5bqU57G75Z6L5Li6IGJsb2IKCiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgdmFyIGltYWdlVXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTCh4aHIucmVzcG9uc2UpOyAvLyDlnKjov5nph4zvvIzmgqjlj6/ku6XlsIYgaW1hZ2VVcmwg6K6+572u5Yiw5p+Q5LiqIDxpbWc+IOWFg+e0oOS4iu+8jOaIluiAheWBmuWFtuS7luWkhOeQhgoKICAgICAgICAgIF90aGlzMTYuJGJ1cy4kZW1pdCgnc2hvd0NhcHR1cmVJbWFnZScpOwoKICAgICAgICAgIF90aGlzMTYuZGlzcGxheUltYWdlT25DYW52YXMoaW1hZ2VVcmwpOyAvLyDlsIblm77lg4/mmL7npLrlnKhDYW52YXPkuIoKCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCB0aGUgaW1hZ2UuIFN0YXR1czonLCB4aHIuc3RhdHVzKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdUaGVyZSB3YXMgYW4gZXJyb3IgZmV0Y2hpbmcgdGhlIGltYWdlLicpOwogICAgICB9OwoKICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7CiAgICAgIHhoci5zZW5kKCk7CiAgICB9LAogICAgZGlzcGxheUltYWdlT25DYW52YXM6IGZ1bmN0aW9uIGRpc3BsYXlJbWFnZU9uQ2FudmFzKGltYWdlVXJsKSB7CiAgICAgIHZhciBfdGhpczE3ID0gdGhpczsKCiAgICAgIHZhciBzaG93Y2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW5DYW1lcmEtY2FudmFzJyk7CiAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnVGVzdENhbnZhcycpOwogICAgICB2YXIgc2hvd2N0eCA9IHNob3djYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICBzaG93Y2FudmFzLndpZHRoID0gdGhpcy5DYW52YXNXaWR0aDsKICAgICAgc2hvd2NhbnZhcy5oZWlnaHQgPSB0aGlzLkNhbnZhc0hlaWdodDsKICAgICAgY29uc29sZS5sb2coJ1FIWUNDRCB8IGNhbnZhcyBzaXplOicsIHNob3djYW52YXMud2lkdGgsIHNob3djYW52YXMuaGVpZ2h0KTsKICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpOwogICAgICBpbWcuc2V0QXR0cmlidXRlKCdjcm9zc09yaWdpbicsICcnKTsKCiAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMxNy5oaXN0b2dyYW1JbWFnZSA9IGltZzsgLy8g6K6h566X5Zu+5YOP55qE57yp5pS+5q+U5L6L5Lul5L2/5YW26ZO65ruh5Zu65a6a5aSn5bCP55qEIENhbnZhcwoKICAgICAgICB2YXIgc2NhbGVXaWR0aCA9IHNob3djYW52YXMud2lkdGggLyBpbWcud2lkdGg7CiAgICAgICAgdmFyIHNjYWxlSGVpZ2h0ID0gc2hvd2NhbnZhcy5oZWlnaHQgLyBpbWcuaGVpZ2h0OwogICAgICAgIHZhciB3aWR0aCA9IGltZy53aWR0aCAqIHNjYWxlV2lkdGg7CiAgICAgICAgdmFyIGhlaWdodCA9IGltZy5oZWlnaHQgKiBzY2FsZUhlaWdodDsgLy8g5riF56m6IENhbnZhcwoKICAgICAgICBzaG93Y3R4LmNsZWFyUmVjdCgwLCAwLCBzaG93Y2FudmFzLndpZHRoLCBzaG93Y2FudmFzLmhlaWdodCk7CiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBzaG93Y2FudmFzLndpZHRoLCBzaG93Y2FudmFzLmhlaWdodCk7IC8vIOWcqCBDYW52YXMg5LiK57uY5Yi25Zu+5YOPCgogICAgICAgIHNob3djdHguZHJhd0ltYWdlKGltZywgMCwgMCwgd2lkdGgsIGhlaWdodCk7CiAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIHdpZHRoLCBoZWlnaHQpOwogICAgICAgIGNvbnNvbGUubG9nKCdRSFlDQ0QgfCBjcm9zc09yaWdpbjonLCBpbWcuY3Jvc3NPcmlnaW4pOwogICAgICAgIF90aGlzMTcuaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogICAgICAgIGNvbnNvbGUubG9nKCdRSFlDQ0QgfCBpbWFnZURhdGE6JywgX3RoaXMxNy5pbWFnZURhdGEpOwoKICAgICAgICBfdGhpczE3Lk1ha2VIaXN0b2dyYW0oX3RoaXMxNy5pbWFnZURhdGEpOwogICAgICB9OwoKICAgICAgaW1nLnNyYyA9IGltYWdlVXJsOwogICAgfSwKICAgIE1ha2VIaXN0b2dyYW06IGZ1bmN0aW9uIE1ha2VIaXN0b2dyYW0oaW1hZ2VEYXRhKSB7CiAgICAgIGNvbnNvbGUubG9nKCdNYWtlSGlzdG9ncmFtJyk7IC8vIOiuoeeul+S4ieS4qumAmumBk+eahOebtOaWueWbvgoKICAgICAgdGhpcy5oaXN0b2dyYW1EYXRhID0gdGhpcy5jYWxjdWxhdGVIaXN0b2dyYW0oaW1hZ2VEYXRhKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdzaG93SGlzdG9ncmFtJywgdGhpcy5oaXN0b2dyYW1EYXRhKTsKICAgIH0sCiAgICBjYWxjdWxhdGVIaXN0b2dyYW06IGZ1bmN0aW9uIGNhbGN1bGF0ZUhpc3RvZ3JhbShpbWFnZURhdGEpIHsKICAgICAgY29uc29sZS5sb2coJ1FIWUNDRCB8IGNhbGN1bGF0ZUhpc3RvZ3JhbScpOwogICAgICB2YXIgaGlzdG9ncmFtID0gW0FycmF5KDI1NikuZmlsbCgwKSwgLy8g5a2Y5YKo6JOd6Imy6YCa6YGT55u05pa55Zu+CiAgICAgIEFycmF5KDI1NikuZmlsbCgwKSwgLy8g5a2Y5YKo57u/6Imy6YCa6YGT55u05pa55Zu+CiAgICAgIEFycmF5KDI1NikuZmlsbCgwKSAvLyDlrZjlgqjnuqLoibLpgJrpgZPnm7Tmlrnlm74KICAgICAgXTsgLy8g5YiG5Yir6K6h566X5LiJ5Liq6YCa6YGT55qE55u05pa55Zu+CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGltYWdlRGF0YS5kYXRhLmxlbmd0aDsgaSArPSA0KSB7CiAgICAgICAgdmFyIHIgPSBpbWFnZURhdGEuZGF0YVtpXTsKICAgICAgICB2YXIgZyA9IGltYWdlRGF0YS5kYXRhW2kgKyAxXTsKICAgICAgICB2YXIgYiA9IGltYWdlRGF0YS5kYXRhW2kgKyAyXTsgLy8g5pu05paw5q+P5Liq6YCa6YGT55qE55u05pa55Zu+CgogICAgICAgIGhpc3RvZ3JhbVswXVtiXSsrOwogICAgICAgIGhpc3RvZ3JhbVsxXVtnXSsrOwogICAgICAgIGhpc3RvZ3JhbVsyXVtyXSsrOwogICAgICB9CgogICAgICByZXR1cm4gaGlzdG9ncmFtOwogICAgfSwKICAgIGFwcGx5SGlzdFN0cmV0Y2g6IGZ1bmN0aW9uIGFwcGx5SGlzdFN0cmV0Y2goTWluLCBNYXgpIHsKICAgICAgdGhpcy5jdXJyZW50SGlzdG9ncmFtTWluID0gTWluOwogICAgICB0aGlzLmN1cnJlbnRIaXN0b2dyYW1NYXggPSBNYXg7CiAgICAgIHRoaXMuZHJhd0ltYWdlRGF0YSgpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0NoYW5nZURpYWxQb3NpdGlvbicsIE1pbiwgTWF4KTsKICAgIH0sCiAgICBzZXRBdXRvSGlzdG9ncmFtTnVtOiBmdW5jdGlvbiBzZXRBdXRvSGlzdG9ncmFtTnVtKG1pbiwgbWF4KSB7CiAgICAgIHRoaXMuaGlzdG9ncmFtX21pbiA9IG1pbjsKICAgICAgdGhpcy5oaXN0b2dyYW1fbWF4ID0gbWF4OwogICAgICB0aGlzLmN1cnJlbnRIaXN0b2dyYW1NaW4gPSBtaW47CiAgICAgIHRoaXMuY3VycmVudEhpc3RvZ3JhbU1heCA9IG1heDsKICAgIH0sCiAgICBjYWxjV2hpdGVCYWxhbmNlR2FpbnM6IGZ1bmN0aW9uIGNhbGNXaGl0ZUJhbGFuY2VHYWlucygpIHsKICAgICAgLy8gY29uc3QgR2FpbnMgPSB0aGlzLmNhbGN1bGF0ZVdoaXRlQmFsYW5jZUdhaW5zKHRoaXMuaGlzdG9ncmFtRGF0YSwgdGhpcy5JbWFnZU9mZnNldCk7CiAgICAgIHZhciBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpOwogICAgICB2YXIgR2FpbnMgPSB0aGlzLmNhbGN1bGF0ZVdoaXRlQmFsYW5jZUdhaW5zKCk7CiAgICAgIHZhciBlbmRUaW1lID0gbmV3IERhdGUoKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnY2FsY1doaXRlQmFsYW5jZUdhaW5zIHwg5oC75pe26Ze0OiAnICsgKGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKICAgICAgdGhpcy5JbWFnZUdhaW5SID0gR2FpbnMuR2FpblI7CiAgICAgIHRoaXMuSW1hZ2VHYWluQiA9IEdhaW5zLkdhaW5COwogICAgICB2YXIgR2FpblJJbmRleCA9IHRoaXMuTWFpbkNhbWVyYUNvbmZpZ0l0ZW1zLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmxhYmVsID09PSAnSW1hZ2VHYWluUic7CiAgICAgIH0pOwoKICAgICAgaWYgKEdhaW5SSW5kZXggIT09IC0xKSB7CiAgICAgICAgLy8g56Gu5L+d5om+5Yiw5LqG5a+55bqU55qE6YWN572u6aG5CiAgICAgICAgLy8g5pu05pawIEV4cFRpbWUxIOmFjee9rumhueeahOWAvAogICAgICAgIHRoaXMuTWFpbkNhbWVyYUNvbmZpZ0l0ZW1zW0dhaW5SSW5kZXhdLnZhbHVlID0gdGhpcy5JbWFnZUdhaW5SOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ltYWdlR2FpblIgY29uZmlndXJhdGlvbiBpdGVtIG5vdCBmb3VuZC4nKTsKICAgICAgfQoKICAgICAgdmFyIEdhaW5CSW5kZXggPSB0aGlzLk1haW5DYW1lcmFDb25maWdJdGVtcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5sYWJlbCA9PT0gJ0ltYWdlR2FpbkInOwogICAgICB9KTsKCiAgICAgIGlmIChHYWluQkluZGV4ICE9PSAtMSkgewogICAgICAgIC8vIOehruS/neaJvuWIsOS6huWvueW6lOeahOmFjee9rumhuQogICAgICAgIC8vIOabtOaWsCBFeHBUaW1lMSDphY3nva7pobnnmoTlgLwKICAgICAgICB0aGlzLk1haW5DYW1lcmFDb25maWdJdGVtc1tHYWluQkluZGV4XS52YWx1ZSA9IHRoaXMuSW1hZ2VHYWluQjsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdJbWFnZUdhaW5CIGNvbmZpZ3VyYXRpb24gaXRlbSBub3QgZm91bmQuJyk7CiAgICAgIH0KCiAgICAgIHRoaXMuZHJhd0ltYWdlRGF0YSgpOyAvLyB0aGlzLnByb2Nlc3NJbWFnZSh0aGlzLkltYWdlQXJyYXlCdWZmZXIpOwogICAgfSwKICAgIC8vIGNhbGN1bGF0ZVdoaXRlQmFsYW5jZUdhaW5zKGhpc3RvZ3JhbSwgb2Zmc2V0KSB7CiAgICAvLyAgIGxldCBzdW1SID0gMCwgc3VtRyA9IDAsIHN1bUIgPSAwOwogICAgLy8gICBsZXQgY291bnRSID0gMCwgY291bnRHID0gMCwgY291bnRCID0gMDsKICAgIC8vICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCAyNTY7IGkrKykgewogICAgLy8gICAvLyAgIHN1bVIgKz0gaGlzdG9ncmFtWzJdW2ldICogaTsKICAgIC8vICAgLy8gICBzdW1HICs9IGhpc3RvZ3JhbVsxXVtpXSAqIGk7CiAgICAvLyAgIC8vICAgc3VtQiArPSBoaXN0b2dyYW1bMF1baV0gKiBpOwogICAgLy8gICAvLyAgIGNvdW50UiArPSBoaXN0b2dyYW1bMl1baV07CiAgICAvLyAgIC8vICAgY291bnRHICs9IGhpc3RvZ3JhbVsxXVtpXTsKICAgIC8vICAgLy8gICBjb3VudEIgKz0gaGlzdG9ncmFtWzBdW2ldOwogICAgLy8gICAvLyB9CiAgICAvLyAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjU2OyBpKyspIHsKICAgIC8vICAgICAvLyBTdWJ0cmFjdCBvZmZzZXQgZnJvbSBwaXhlbCB2YWx1ZQogICAgLy8gICAgIGNvbnN0IGFkanVzdGVkUiA9IE1hdGgubWF4KGkgLSBvZmZzZXQsIDApOwogICAgLy8gICAgIGNvbnN0IGFkanVzdGVkRyA9IE1hdGgubWF4KGkgLSBvZmZzZXQsIDApOwogICAgLy8gICAgIGNvbnN0IGFkanVzdGVkQiA9IE1hdGgubWF4KGkgLSBvZmZzZXQsIDApOwogICAgLy8gICAgIHN1bVIgKz0gaGlzdG9ncmFtWzJdW2ldICogYWRqdXN0ZWRSOwogICAgLy8gICAgIHN1bUcgKz0gaGlzdG9ncmFtWzFdW2ldICogYWRqdXN0ZWRHOwogICAgLy8gICAgIHN1bUIgKz0gaGlzdG9ncmFtWzBdW2ldICogYWRqdXN0ZWRCOwogICAgLy8gICAgIGNvdW50UiArPSBoaXN0b2dyYW1bMl1baV07CiAgICAvLyAgICAgY291bnRHICs9IGhpc3RvZ3JhbVsxXVtpXTsKICAgIC8vICAgICBjb3VudEIgKz0gaGlzdG9ncmFtWzBdW2ldOwogICAgLy8gICB9CiAgICAvLyAgIGNvbnN0IG1lYW5SID0gc3VtUiAvIGNvdW50UjsKICAgIC8vICAgY29uc3QgbWVhbkcgPSBzdW1HIC8gY291bnRHOwogICAgLy8gICBjb25zdCBtZWFuQiA9IHN1bUIgLyBjb3VudEI7CiAgICAvLyAgIC8vIENhbGN1bGF0ZSBnYWlucwogICAgLy8gICBjb25zdCBHYWluUiA9IG1lYW5HIC8gbWVhblI7CiAgICAvLyAgIGNvbnN0IEdhaW5CID0gbWVhbkcgLyBtZWFuQjsKICAgIC8vICAgY29uc29sZS5sb2coYEdhaW5SOiAke0dhaW5SfSwgR2FpbkI6ICR7R2FpbkJ9YCk7CiAgICAvLyAgIHJldHVybiB7IEdhaW5SLCBHYWluQiB9OwogICAgLy8gfSwKICAgIGNhbGN1bGF0ZVdoaXRlQmFsYW5jZUdhaW5zOiBmdW5jdGlvbiBjYWxjdWxhdGVXaGl0ZUJhbGFuY2VHYWlucygpIHsKICAgICAgaWYgKCEodGhpcy5PcmlnaW5hbEltYWdlIGluc3RhbmNlb2YgSW1hZ2VEYXRhKSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBpbWFnZSBkYXRhJyk7CiAgICAgIH0KCiAgICAgIHZhciB0aW1lMSA9IG5ldyBEYXRlKCk7IC8vIOWIm+W7uuS4gOS4quaWsOeahCBjdi5NYXQg5a+56LGhCgogICAgICB2YXIgaW1nOCA9IGN2Lm1hdEZyb21JbWFnZURhdGEodGhpcy5PcmlnaW5hbEltYWdlKTsKICAgICAgdmFyIHRpbWUyID0gbmV3IERhdGUoKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnY2FsY1doaXRlQmFsYW5jZUdhaW5zIHwg5Yib5bu6IGN2Lk1hdCDlr7nosaHml7bpl7Q6ICcgKyAodGltZTIuZ2V0VGltZSgpIC0gdGltZTEuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgICB2YXIgZ2FpblIgPSB0aGlzLkltYWdlR2FpblI7CiAgICAgIHZhciBnYWluQiA9IHRoaXMuSW1hZ2VHYWluQjsKICAgICAgdmFyIG9mZnNldCA9IHRoaXMuSW1hZ2VPZmZzZXQ7CiAgICAgIHZhciBjaGFubmVscyA9IG5ldyBjdi5NYXRWZWN0b3IoKTsKICAgICAgY3Yuc3BsaXQoaW1nOCwgY2hhbm5lbHMpOwogICAgICB0aW1lMSA9IG5ldyBEYXRlKCk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2NhbGNXaGl0ZUJhbGFuY2VHYWlucyB8IOWIhuWJsumAmumBk+aXtumXtDogJyArICh0aW1lMS5nZXRUaW1lKCkgLSB0aW1lMi5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAgIHZhciBiID0gY2hhbm5lbHMuZ2V0KDApOwogICAgICB2YXIgZyA9IGNoYW5uZWxzLmdldCgxKTsKICAgICAgdmFyIHIgPSBjaGFubmVscy5nZXQoMik7CiAgICAgIHRpbWUyID0gbmV3IERhdGUoKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnY2FsY1doaXRlQmFsYW5jZUdhaW5zIHwg6I635Y+W6YCa6YGT5pe26Ze0OiAnICsgKHRpbWUyLmdldFRpbWUoKSAtIHRpbWUxLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsgLy8g6Ieq6YCC5bqU55u05pa55Zu+5Z2H6KGh5YyWCgogICAgICB2YXIgY2xhaGUgPSBuZXcgY3YuQ0xBSEUoMi4wLCBuZXcgY3YuU2l6ZSg4LCA4KSk7CiAgICAgIGNsYWhlLmFwcGx5KGIsIGIpOwogICAgICBjbGFoZS5hcHBseShnLCBnKTsKICAgICAgY2xhaGUuYXBwbHkociwgcik7CiAgICAgIHRpbWUxID0gbmV3IERhdGUoKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnY2FsY1doaXRlQmFsYW5jZUdhaW5zIHwg6Ieq6YCC5bqU55u05pa55Zu+5Z2H6KGh5YyW5pe26Ze0OiAnICsgKHRpbWUxLmdldFRpbWUoKSAtIHRpbWUyLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsgLy8g5L2/55So5Lit5L2N5pWw6K6h566X5aKe55uKCgogICAgICB2YXIgbWVkaWFuQiA9IG5ldyBjdi5NYXQoKTsKICAgICAgdmFyIG1lZGlhbkcgPSBuZXcgY3YuTWF0KCk7CiAgICAgIHZhciBtZWRpYW5SID0gbmV3IGN2Lk1hdCgpOwogICAgICBjdi5tZWRpYW5CbHVyKGIsIG1lZGlhbkIsIDUpOwogICAgICBjdi5tZWRpYW5CbHVyKGcsIG1lZGlhbkcsIDUpOwogICAgICBjdi5tZWRpYW5CbHVyKHIsIG1lZGlhblIsIDUpOwogICAgICB0aW1lMiA9IG5ldyBEYXRlKCk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2NhbGNXaGl0ZUJhbGFuY2VHYWlucyB8IOS4reS9jeaVsOiuoeeul+WinuebiuaXtumXtDogJyArICh0aW1lMi5nZXRUaW1lKCkgLSB0aW1lMS5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAgIHZhciBhdmdCID0gY3YubWVhbihtZWRpYW5CKVswXTsKICAgICAgdmFyIGF2Z0cgPSBjdi5tZWFuKG1lZGlhbkcpWzBdOwogICAgICB2YXIgYXZnUiA9IGN2Lm1lYW4obWVkaWFuUilbMF07CiAgICAgIHRpbWUxID0gbmV3IERhdGUoKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnY2FsY1doaXRlQmFsYW5jZUdhaW5zIHwg6K6h566X5aKe55uK5pe26Ze0OiAnICsgKHRpbWUxLmdldFRpbWUoKSAtIHRpbWUyLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKICAgICAgZ2FpblIgPSBNYXRoLm1pbihNYXRoLm1heChhdmdHIC8gYXZnUiwgMC4xKSwgMyk7CiAgICAgIGdhaW5CID0gTWF0aC5taW4oTWF0aC5tYXgoYXZnRyAvIGF2Z0IsIDAuMSksIDMpOyAvLyDlupTnlKjlop7nm4rlkozlgY/nva4KCiAgICAgIHIuY29udmVydFRvKHIsIC0xLCBnYWluUiwgb2Zmc2V0KTsKICAgICAgYi5jb252ZXJ0VG8oYiwgLTEsIGdhaW5CLCBvZmZzZXQpOwogICAgICBnLmNvbnZlcnRUbyhnLCAtMSwgMSwgb2Zmc2V0KTsgLy8g5a+557u/6Imy6YCa6YGT5bqU55So5YGP572u5L2G5LiN5pS55Y+Y5aKe55uKCgogICAgICB0aW1lMiA9IG5ldyBEYXRlKCk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2NhbGNXaGl0ZUJhbGFuY2VHYWlucyB8IOW6lOeUqOWinuebiuWSjOWBj+e9ruaXtumXtDogJyArICh0aW1lMi5nZXRUaW1lKCkgLSB0aW1lMS5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7IC8vIOabtOaWsCBjaGFubmVscyDkuK3nmoTpgJrpgZPmlbDmja4KCiAgICAgIGNoYW5uZWxzLnNldCgwLCBiKTsKICAgICAgY2hhbm5lbHMuc2V0KDEsIGcpOwogICAgICBjaGFubmVscy5zZXQoMiwgcik7CiAgICAgIHRpbWUxID0gbmV3IERhdGUoKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnY2FsY1doaXRlQmFsYW5jZUdhaW5zIHwg5pu05pawIGNoYW5uZWxzIOS4reeahOmAmumBk+aVsOaNruaXtumXtDogJyArICh0aW1lMS5nZXRUaW1lKCkgLSB0aW1lMi5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7IC8vIOWQiOW5tumAmumBk+WbniBpbWc4CgogICAgICBjdi5tZXJnZShjaGFubmVscywgaW1nOCk7CiAgICAgIHRpbWUyID0gbmV3IERhdGUoKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnY2FsY1doaXRlQmFsYW5jZUdhaW5zIHwg5ZCI5bm26YCa6YGT5pe26Ze0OiAnICsgKHRpbWUyLmdldFRpbWUoKSAtIHRpbWUxLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKICAgICAgYi5kZWxldGUoKTsKICAgICAgZy5kZWxldGUoKTsKICAgICAgci5kZWxldGUoKTsKICAgICAgbWVkaWFuQi5kZWxldGUoKTsKICAgICAgbWVkaWFuRy5kZWxldGUoKTsKICAgICAgbWVkaWFuUi5kZWxldGUoKTsKICAgICAgY2hhbm5lbHMuZGVsZXRlKCk7CiAgICAgIHRpbWUxID0gbmV3IERhdGUoKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnY2FsY1doaXRlQmFsYW5jZUdhaW5zIHwg5Yig6Zmk6YCa6YGT5pe26Ze0OiAnICsgKHRpbWUxLmdldFRpbWUoKSAtIHRpbWUyLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsgLy8gaWYgKHRoaXMuaXNQb2xhckF4aXNNb2RlKSB7CiAgICAgIC8vICAgdGhpcy4kYnVzLiRlbWl0KCdzaG93U29sdmVJbWFnZScsIGltZzgpOwogICAgICAvLyB9CiAgICAgIC8vIGVsc2UgewogICAgICAvLyAgIC8vIOWIm+W7uueUqOS6jue7mOWItueahCBJbWFnZURhdGEg5a+56LGh77yM5bm25Zyo5L+u5pS55ZCO55qE55S75biD5LiK57uY5Yi25Zu+5YOPCiAgICAgIC8vICAgbGV0IGNvbG9yRGF0YSA9IG5ldyBJbWFnZURhdGEobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGltZzguZGF0YSksIGltZzguY29scywgaW1nOC5yb3dzKTsKICAgICAgLy8gICBpbWc4LmRlbGV0ZSgpOwogICAgICAvLyAgIHRoaXMuZHJhd0ltZ0RhdGEgPSBjb2xvckRhdGE7CiAgICAgIC8vICAgdGhpcy5kcmF3SW1hZ2VEYXRhKCk7CiAgICAgIC8vICAgdGhpcy4kYnVzLiRlbWl0KCdzaG93Q2FwdHVyZUltYWdlJyk7CiAgICAgIC8vICAgdGhpcy5NYWtlSGlzdG9ncmFtKGNvbG9yRGF0YSk7CiAgICAgIC8vICAgdGhpcy5oaXN0b2dyYW1JbWFnZSA9IGNvbG9yRGF0YTsKICAgICAgLy8gfQoKICAgICAgcmV0dXJuIHsKICAgICAgICBHYWluUjogZ2FpblIsCiAgICAgICAgR2FpbkI6IGdhaW5CCiAgICAgIH07CiAgICB9LAogICAgbG9hZE9wZW5DdjogZnVuY3Rpb24gbG9hZE9wZW5DdigpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBpZiAodHlwZW9mIGN2ID09PSAndW5kZWZpbmVkJykgewogICAgICAgICAgLy8g5aaC5p6cIGN2IOacquWumuS5ie+8jOWwneivleWKoOi9vSBPcGVuQ1YuanMKICAgICAgICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgICAgICAgIHNjcmlwdC5zcmMgPSAnL29wZW5jdi5qcyc7IC8vIOS9v+eUqCBwdWJsaWMg5paH5Lu25aS55Lit55qE6Lev5b6ECgogICAgICAgICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTsKCiAgICAgICAgICBzY3JpcHQub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICB9OwoKICAgICAgICAgIHNjcmlwdC5vbmVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgICB9OwoKICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8g5aaC5p6cIGN2IOW3suWumuS5ie+8jOebtOaOpeino+aekAogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8gbG9hZE9wZW5DdigpIHsKICAgIC8vICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgIC8vICAgICBpZiAodHlwZW9mIGN2ID09PSAndW5kZWZpbmVkJykgewogICAgLy8gICAgICAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CiAgICAvLyAgICAgICBzY3JpcHQuc3JjID0gJ2h0dHBzOi8vZG9jcy5vcGVuY3Yub3JnLzQuNS41L29wZW5jdi5qcyc7CiAgICAvLyAgICAgICBzY3JpcHQuYXN5bmMgPSB0cnVlOwogICAgLy8gICAgICAgc2NyaXB0Lm9ubG9hZCA9ICgpID0+IHsKICAgIC8vICAgICAgICAgaWYgKHR5cGVvZiBjdiAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgIC8vICAgICAgICAgICByZXNvbHZlKCk7CiAgICAvLyAgICAgICAgIH0gZWxzZSB7CiAgICAvLyAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignRmFpbGVkIHRvIGxvYWQgT3BlbkNWLmpzJykpOwogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgICBzY3JpcHQub25lcnJvciA9IChlcnJvcikgPT4gewogICAgLy8gICAgICAgICByZWplY3QoZXJyb3IpOwogICAgLy8gICAgICAgfQogICAgLy8gICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpOwogICAgLy8gICAgIH0gZWxzZSB7CiAgICAvLyAgICAgICByZXNvbHZlKCk7CiAgICAvLyAgICAgfQogICAgLy8gICB9KTsKICAgIC8vIH0sCiAgICBvbkN2UmVhZHk6IGZ1bmN0aW9uIG9uQ3ZSZWFkeSgpIHsKICAgICAgLy8gVGVzdCBpZiBzb21lIG9mIG9wZW5jdiBtZXRob2QgY2FuIHdvcmsuCiAgICAgIGlmIChjdikgewogICAgICAgIGNvbnNvbGUubG9nKCJRSFlDQ0QgfCBPcGVuQ1YuanMgaXMgcmVhZHkuIik7CiAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnT3BlbkNWLmpzIGlzIHJlYWR5LicsICdpbmZvJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coIlFIWUNDRCB8IEZhaWxlZCB0byBsb2FkIE9wZW5DVi5qcyIpOwogICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0ZhaWxlZCB0byBsb2FkIE9wZW5DVi5qcy4nLCAnZXJyb3InKTsKICAgICAgfQoKICAgICAgdGhpcy5jdlJlYWR5ID0gdHJ1ZTsKICAgIH0sCiAgICBsb2FkSW1hZ2VUb0NhbnZhc01haW5DYW1lcmE6IGZ1bmN0aW9uIGxvYWRJbWFnZVRvQ2FudmFzTWFpbkNhbWVyYSgpIHsKICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluQ2FtZXJhLWNhbnZhcycpOwogICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpOwoKICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIOiOt+WPluiuvuWkh+WDj+e0oOavlAogICAgICAgIHZhciBkZXZpY2VQaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTsgLy8g6LCD5pW055S75biD5bC65a+45Lul6YCC5bqU6auY5riF5pi+56S6CgogICAgICAgIGNhbnZhcy53aWR0aCA9IGltYWdlLndpZHRoICogZGV2aWNlUGl4ZWxSYXRpbzsKICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0ICogZGV2aWNlUGl4ZWxSYXRpbzsKICAgICAgICBjdHguc2NhbGUoZGV2aWNlUGl4ZWxSYXRpbywgZGV2aWNlUGl4ZWxSYXRpbyk7IC8vIOe8qeaUvmN0eOS7pemAguW6lOmrmOa4heeUu+W4gwogICAgICAgIC8vIOe7mOWItuWbvuWDjwoKICAgICAgICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwKTsKICAgICAgfTsKCiAgICAgIGltYWdlLnNyYyA9IEJhY2tncm91bmRJbWFnZTsKICAgIH0sCiAgICBsb2FkSW1hZ2VUb0NhbnZhc0d1aWRlckNhbWVyYTogZnVuY3Rpb24gbG9hZEltYWdlVG9DYW52YXNHdWlkZXJDYW1lcmEoKSB7CiAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3VpZGVyQ2FtZXJhLWNhbnZhcycpOwogICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpOwoKICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIOiOt+WPluiuvuWkh+WDj+e0oOavlAogICAgICAgIHZhciBkZXZpY2VQaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTsgLy8g6LCD5pW055S75biD5bC65a+45Lul6YCC5bqU6auY5riF5pi+56S6CgogICAgICAgIGNhbnZhcy53aWR0aCA9IGltYWdlLndpZHRoICogZGV2aWNlUGl4ZWxSYXRpbzsKICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0ICogZGV2aWNlUGl4ZWxSYXRpbzsKICAgICAgICBjdHguc2NhbGUoZGV2aWNlUGl4ZWxSYXRpbywgZGV2aWNlUGl4ZWxSYXRpbyk7IC8vIOe8qeaUvmN0eOS7pemAguW6lOmrmOa4heeUu+W4gwogICAgICAgIC8vIOe7mOWItuWbvuWDjwoKICAgICAgICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwKTsKICAgICAgfTsKCiAgICAgIGltYWdlLnNyYyA9IEJhY2tncm91bmRJbWFnZTsKICAgIH0sCiAgICBzaG93R3VpZGVyQ2FtZXJhQ2FudmFzOiBmdW5jdGlvbiBzaG93R3VpZGVyQ2FtZXJhQ2FudmFzKCkgewogICAgICAvLyDliqjmgIHmm7TmlrB6LWluZGV4CiAgICAgIHRoaXMuY2FudmFzWkluZGV4U3RlbCA9IC0xMDsKICAgICAgdGhpcy5jYW52YXNaSW5kZXhNYWluQ2FtZXJhID0gLTExOwogICAgICB0aGlzLmNhbnZhc1pJbmRleEd1aWRlckNhbWVyYSA9IDA7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2V0UGFyc2luZ1Byb2dyZXNzJywgZmFsc2UpOyAvLyB0aGlzLmNvbnZlcnRUb0dyYXlzY2FsZSgpOwogICAgfSwKICAgIHNob3dTdGVsQ2FudmFzOiBmdW5jdGlvbiBzaG93U3RlbENhbnZhcygpIHsKICAgICAgaWYgKHRoaXMuaXNQb2xhckF4aXNNb2RlKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdzZXRQYXJzaW5nUHJvZ3Jlc3MnLCB0cnVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ3NldFBhcnNpbmdQcm9ncmVzcycsIGZhbHNlKTsKICAgICAgfQoKICAgICAgdGhpcy5jYW52YXNaSW5kZXhTdGVsID0gMDsKICAgICAgdGhpcy5jYW52YXNaSW5kZXhNYWluQ2FtZXJhID0gLTEwOwogICAgICB0aGlzLmNhbnZhc1pJbmRleEd1aWRlckNhbWVyYSA9IC0xMTsKICAgIH0sCiAgICBzaG93TWFpbkNhbWVyYUNhbnZhczogZnVuY3Rpb24gc2hvd01haW5DYW1lcmFDYW52YXMoKSB7CiAgICAgIHRoaXMuY2FudmFzWkluZGV4U3RlbCA9IC0xMDsKICAgICAgdGhpcy5jYW52YXNaSW5kZXhNYWluQ2FtZXJhID0gMDsKICAgICAgdGhpcy5jYW52YXNaSW5kZXhHdWlkZXJDYW1lcmEgPSAtMTE7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2V0UGFyc2luZ1Byb2dyZXNzJywgZmFsc2UpOwogICAgfSwKICAgIGhhbmRsZUJ1dHRvblRlc3RDbGljazogZnVuY3Rpb24gaGFuZGxlQnV0dG9uVGVzdENsaWNrKCkgewogICAgICAvLyB0aGlzLmNoYW5nZU9yZGVyKCk7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRjYW52YXMgPT09ICdTdGVsJykgewogICAgICAgIHRoaXMuY3VycmVudGNhbnZhcyA9ICdNYWluQ2FtZXJhJzsKICAgICAgICB0aGlzLnNob3dNYWluQ2FtZXJhQ2FudmFzKCk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50Y2FudmFzID09PSAnTWFpbkNhbWVyYScpIHsKICAgICAgICB0aGlzLmN1cnJlbnRjYW52YXMgPSAnR3VpZGVyQ2FtZXJhJzsKICAgICAgICB0aGlzLnNob3dHdWlkZXJDYW1lcmFDYW52YXMoKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRjYW52YXMgPT09ICdHdWlkZXJDYW1lcmEnKSB7CiAgICAgICAgdGhpcy5jdXJyZW50Y2FudmFzID0gJ1N0ZWwnOwogICAgICAgIHRoaXMuc2hvd1N0ZWxDYW52YXMoKTsKICAgICAgfQogICAgfSwKICAgIGdldFBsdWdpbnNNZW51SXRlbXM6IGZ1bmN0aW9uIGdldFBsdWdpbnNNZW51SXRlbXMoKSB7CiAgICAgIHZhciByZXMgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgaW4gdGhpcy4kc3RlbGxhcml1bVdlYlBsdWdpbnMoKSkgewogICAgICAgIHZhciBwbHVnaW4gPSB0aGlzLiRzdGVsbGFyaXVtV2ViUGx1Z2lucygpW2ldOwoKICAgICAgICBpZiAocGx1Z2luLm1lbnVJdGVtcykgewogICAgICAgICAgcmVzID0gcmVzLmNvbmNhdChwbHVnaW4ubWVudUl0ZW1zKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiByZXM7CiAgICB9LAogICAgZ2V0UGx1Z2luc01lbnVDb21wb25lbnRzOiBmdW5jdGlvbiBnZXRQbHVnaW5zTWVudUNvbXBvbmVudHMoKSB7CiAgICAgIHZhciByZXMgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgaW4gdGhpcy4kc3RlbGxhcml1bVdlYlBsdWdpbnMoKSkgewogICAgICAgIHZhciBwbHVnaW4gPSB0aGlzLiRzdGVsbGFyaXVtV2ViUGx1Z2lucygpW2ldOwoKICAgICAgICBpZiAocGx1Z2luLm1lbnVDb21wb25lbnRzKSB7CiAgICAgICAgICByZXMgPSByZXMuY29uY2F0KHBsdWdpbi5tZW51Q29tcG9uZW50cyk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gcmVzOwogICAgfSwKICAgIHRvZ2dsZVN0b3JlVmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZVN0b3JlVmFsdWUoc3RvcmVWYXJOYW1lKSB7CiAgICAgIHRoaXMubmF2ID0gZmFsc2U7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndG9nZ2xlQm9vbCcsIHN0b3JlVmFyTmFtZSk7CiAgICB9LAogICAgZ2V0U3RvcmVWYWx1ZTogZnVuY3Rpb24gZ2V0U3RvcmVWYWx1ZShzdG9yZVZhck5hbWUpIHsKICAgICAgcmV0dXJuIF8uZ2V0KHRoaXMuJHN0b3JlLnN0YXRlLCBzdG9yZVZhck5hbWUpOwogICAgfSwKICAgIHNldFN0YXRlRnJvbVF1ZXJ5QXJnczogZnVuY3Rpb24gc2V0U3RhdGVGcm9tUXVlcnlBcmdzKCkgewogICAgICB2YXIgX3RoaXMxOCA9IHRoaXM7CgogICAgICAvLyBDaGVjayB3aGV0aGVyIHRoZSBvYnNlcnZpbmcgcGFuZWwgbXVzdCBiZSBkaXNwbGF5ZWQKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRWYWx1ZScsIHsKICAgICAgICB2YXJOYW1lOiAnc2hvd1NpZGVQYW5lbCcsCiAgICAgICAgbmV3VmFsdWU6IHRoaXMuJHJvdXRlLnBhdGguc3RhcnRzV2l0aCgnL3AvJykKICAgICAgfSk7IC8vIFNldCB0aGUgY29yZSdzIHN0YXRlIGZyb20gVVJMIHF1ZXJ5IGFyZ3VtZW50cyBzdWNoCiAgICAgIC8vIGFzIGRhdGUsIGxvY2F0aW9uLCB2aWV3IGRpcmVjdGlvbiAmIGZvdgoKICAgICAgdmFyIHRoYXQgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmluaXREb25lKSB7CiAgICAgICAgdGhpcy4kc3RlbC5jb3JlLnRpbWVfc3BlZWQgPSAxOwogICAgICAgIHZhciBkID0gbmV3IERhdGUoKTsKCiAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LmRhdGUpIHsKICAgICAgICAgIGQgPSBuZXcgTW9tZW50KHRoaXMuJHJvdXRlLnF1ZXJ5LmRhdGUpLnRvRGF0ZSgpOwogICAgICAgICAgdGhpcy4kc3RlbC5jb3JlLm9ic2VydmVyLnV0YyA9IGQuZ2V0TUpEKCk7CiAgICAgICAgICB0aGlzLnN0YXJ0VGltZUlzU2V0ID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5sbmcgJiYgdGhpcy4kcm91dGUucXVlcnkubGF0KSB7CiAgICAgICAgICB2YXIgcG9zID0gewogICAgICAgICAgICBsYXQ6IE51bWJlcih0aGlzLiRyb3V0ZS5xdWVyeS5sYXQpLAogICAgICAgICAgICBsbmc6IE51bWJlcih0aGlzLiRyb3V0ZS5xdWVyeS5sbmcpLAogICAgICAgICAgICBhbHQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LmVsZXYgPyBOdW1iZXIodGhpcy4kcm91dGUucXVlcnkuZWxldikgOiAwLAogICAgICAgICAgICBhY2N1cmFjeTogMQogICAgICAgICAgfTsKICAgICAgICAgIHN3aC5nZW9Db2RlUG9zaXRpb24ocG9zLCB0aGF0KS50aGVuKGZ1bmN0aW9uIChsb2MpIHsKICAgICAgICAgICAgdGhhdC4kc3RvcmUuY29tbWl0KCdzZXRDdXJyZW50TG9jYXRpb24nLCBsb2MpOwogICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgdGhpcy4kc3RlbC5jb3JlLm9ic2VydmVyLnlhdyA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmF6ID8gTnVtYmVyKHRoaXMuJHJvdXRlLnF1ZXJ5LmF6KSAqIE1hdGguUEkgLyAxODAgOiAwOwogICAgICAgIHRoaXMuJHN0ZWwuY29yZS5vYnNlcnZlci5waXRjaCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmFsdCA/IE51bWJlcih0aGlzLiRyb3V0ZS5xdWVyeS5hbHQpICogTWF0aC5QSSAvIDE4MCA6IDMwICogTWF0aC5QSSAvIDE4MDsKICAgICAgICB0aGlzLiRzdGVsLmNvcmUuZm92ID0gdGhpcy4kcm91dGUucXVlcnkuZm92ID8gTnVtYmVyKHRoaXMuJHJvdXRlLnF1ZXJ5LmZvdikgKiBNYXRoLlBJIC8gMTgwIDogMTIwICogTWF0aC5QSSAvIDE4MDsKICAgICAgICB0aGlzLmluaXREb25lID0gdHJ1ZTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhdGguc3RhcnRzV2l0aCgnL3NreXNvdXJjZS8nKSkgewogICAgICAgIHZhciBuYW1lID0gZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMuJHJvdXRlLnBhdGguc3Vic3RyaW5nKDExKSk7CiAgICAgICAgY29uc29sZS5sb2coJ1dpbGwgc2VsZWN0IG9iamVjdDogJyArIG5hbWUpOwogICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1dpbGwgc2VsZWN0IG9iamVjdDogJyArIG5hbWUsICdpbmZvJyk7CiAgICAgICAgcmV0dXJuIHN3aC5sb29rdXBTa3lTb3VyY2VCeU5hbWUobmFtZSkudGhlbihmdW5jdGlvbiAoc3MpIHsKICAgICAgICAgIGlmICghc3MpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBvYmogPSBzd2guc2t5U291cmNlMlN3ZU9iaihzcyk7CgogICAgICAgICAgaWYgKCFvYmopIHsKICAgICAgICAgICAgb2JqID0gX3RoaXMxOC4kc3RlbC5jcmVhdGVPYmooc3MubW9kZWwsIHNzKTsKCiAgICAgICAgICAgIF90aGlzMTguJHNlbGVjdGlvbkxheWVyLmFkZChvYmopOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICghb2JqKSB7CiAgICAgICAgICAgIGNvbnNvbGUud2FybmluZygiQ2FuJ3QgZmluZCBvYmplY3QgaW4gU1dFOiAiICsgc3MubmFtZXNbMF0pOwogICAgICAgICAgfQoKICAgICAgICAgIHN3aC5zZXRTd2VPYmpBc1NlbGVjdGlvbihvYmopOwogICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICBjb25zb2xlLmxvZygiQ291bGRuJ3QgZmluZCBza3lzb3VyY2UgZm9yIG5hbWU6ICIgKyBuYW1lKTsKCiAgICAgICAgICBfdGhpczE4LlNlbmRDb25zb2xlTG9nTXNnKCJDb3VsZG4ndCBmaW5kIHNreXNvdXJjZSBmb3IgbmFtZTogIiArIG5hbWUsICdlcnJvcicpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgbG9va2F0Y2lyY2xlOiBmdW5jdGlvbiBsb29rYXRjaXJjbGUoKSB7CiAgICAgIC8vIGdsU3RlbC5jb3JlLnNlbGVjdGlvbiA9IGdsVGVzdENpcmNsZTsKICAgICAgZ2xTdGVsLnBvaW50QW5kTG9jayhnbFRlc3RDaXJjbGUpOwogICAgfSwKICAgIHNldEdsb2FiYWxTdGVsOiBmdW5jdGlvbiBzZXRHbG9hYmFsU3RlbChzdGVsKSB7CiAgICAgIHJldHVybiBzdGVsOwogICAgfSwKICAgIHNldEdsb2JhbExheWVyOiBmdW5jdGlvbiBzZXRHbG9iYWxMYXllcihzdGVsKSB7CiAgICAgIHJldHVybiBzdGVsLmNyZWF0ZUxheWVyKHsKICAgICAgICBpZDogJ3Rlc3RMYXllclN0YXJzJywKICAgICAgICB6OiA3LAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSk7CiAgICB9LAogICAgdmVjM19mcm9tX3NwaGU6IGZ1bmN0aW9uIHZlYzNfZnJvbV9zcGhlKHJhX2RlZ3JlZSwgZGVjX2RlZ3JlZSwgb3V0KSB7CiAgICAgIHZhciBjcCA9IE1hdGguY29zKGRlY19kZWdyZWUgKiBNYXRoLlBJIC8gMTgwKTsKICAgICAgb3V0WzBdID0gTWF0aC5jb3MocmFfZGVncmVlICogTWF0aC5QSSAvIDE4MCkgKiBjcDsKICAgICAgb3V0WzFdID0gTWF0aC5zaW4ocmFfZGVncmVlICogTWF0aC5QSSAvIDE4MCkgKiBjcDsKICAgICAgb3V0WzJdID0gTWF0aC5zaW4oZGVjX2RlZ3JlZSAqIE1hdGguUEkgLyAxODApOwogICAgfSwKICAgIHRlc3RBZGRDaXJjbGU6IGZ1bmN0aW9uIHRlc3RBZGRDaXJjbGUoc3RlbCwgbGF5ZXIpIHsKICAgICAgY29uc29sZS5sb2coIkFkZCBhIGNpcmNsZSBzdGFyIG5lYXIgcG9sYXJpcyIpOwogICAgICB2YXIgY2lyY2xlID0gc3RlbC5jcmVhdGVPYmooJ2NpcmNsZScsIHsKICAgICAgICBpZDogJ215IGNpcmNsZSAgJywKICAgICAgICBtb2RlbF9kYXRhOiB7fQogICAgICB9KTsKICAgICAgY2lyY2xlLnVwZGF0ZSgpOwogICAgICBsYXllci5hZGQoY2lyY2xlKTsgLy8gU2VsZWN0CgogICAgICBzdGVsLmNvcmUuc2VsZWN0aW9uID0gY2lyY2xlOwogICAgICBzdGVsLnBvaW50QW5kTG9jayhjaXJjbGUpOyAvLyBDaXJjbGUgUHJvcGVydHkKCiAgICAgIHZhciBtbSA9IGNpcmNsZS5wb3M7CiAgICAgIHRoaXMudmVjM19mcm9tX3NwaGUoMi41Mjk3MSwgODkuMjY0MSwgbW0pOwogICAgICBjaXJjbGUucG9zID0gbW07CiAgICAgIGNvbnNvbGUubG9nKCJjaXJjbGUgcG9zOiIgKyBtbSk7CiAgICAgIGNpcmNsZS5sYWJlbCA9ICIiOwogICAgICBjaXJjbGUuZnJhbWUgPSAxOwogICAgICBjaXJjbGUuc2l6ZSA9IFswLjA1LCAwLjA1XTsKICAgICAgY2lyY2xlLmNvbG9yID0gWzAsIDEsIDAsIDAuMjVdOwogICAgICBjaXJjbGUuYm9yZGVyX2NvbG9yID0gWzAsIDEsIDAsIDFdOwogICAgICByZXR1cm4gY2lyY2xlOwogICAgfSwKICAgIFVwZGF0ZUNpcmNsZVBvczogZnVuY3Rpb24gVXBkYXRlQ2lyY2xlUG9zKFJhX2RlZ3JlZSwgRGVjX2RlZ3JlZSkgewogICAgICB2YXIgbW0gPSBnbFRlc3RDaXJjbGUucG9zOwogICAgICB0aGlzLnZlYzNfZnJvbV9zcGhlKFJhX2RlZ3JlZSwgRGVjX2RlZ3JlZSwgbW0pOwogICAgICBnbFRlc3RDaXJjbGUucG9zID0gbW07CiAgICB9LAogICAgVXBkYXRlVGVsZXNjb3BlU3RhdHVzOiBmdW5jdGlvbiBVcGRhdGVUZWxlc2NvcGVTdGF0dXMoc3RhdHVzKSB7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnTW91bnRTdGF0dXMnLCBzdGF0dXMpOwoKICAgICAgaWYgKHN0YXR1cyA9PT0gJ1NsZXdpbmcnKSB7CiAgICAgICAgZ2xUZXN0Q2lyY2xlLmNvbG9yID0gWzEsIDAsIDAsIDAuMjVdOwogICAgICAgIGdsVGVzdENpcmNsZS5ib3JkZXJfY29sb3IgPSBbMSwgMCwgMCwgMV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZ2xUZXN0Q2lyY2xlLmNvbG9yID0gWzAsIDEsIDAsIDAuMjVdOwogICAgICAgIGdsVGVzdENpcmNsZS5ib3JkZXJfY29sb3IgPSBbMCwgMSwgMCwgMV07CiAgICAgIH0KICAgIH0sCiAgICBVcGRhdGVNYWluQ2FtZXJhU3RhdHVzOiBmdW5jdGlvbiBVcGRhdGVNYWluQ2FtZXJhU3RhdHVzKHN0YXR1cykgewogICAgICB0aGlzLiRidXMuJGVtaXQoJ01haW5DYW1lcmFTdGF0dXMnLCBzdGF0dXMpOwoKICAgICAgaWYgKHN0YXR1cyA9PT0gJ0V4cG9zdXJpbmcnKSB7fSBlbHNlIHt9CiAgICB9LAogICAgVXBkYXRlTWFpbkNhbWVyYVRlbXBlcmF0dXJlOiBmdW5jdGlvbiBVcGRhdGVNYWluQ2FtZXJhVGVtcGVyYXR1cmUodmFsdWUpIHsKICAgICAgLy8gY29uc29sZS5sb2coJ01haW4gQ2FtZXJhIFRlbXBlcmF0dXJlOicsIHZhbHVlICsgJ8KwJyk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnTWFpbkNhbWVyYVRlbXBlcmF0dXJlJywgdmFsdWUpOwogICAgfSwKICAgIHNldFBvbGFyUG9pbnRBbHRpdHVkZTogZnVuY3Rpb24gc2V0UG9sYXJQb2ludEFsdGl0dWRlKEFsdGl0dWRlKSB7CiAgICAgIHRoaXMuUG9sYXJQb2ludF9BbHRpdHVkZSA9IEFsdGl0dWRlOwogICAgICBjb25zb2xlLmxvZygnUG9sYXIgUG9pbnQgQWx0aXR1ZGU6JywgdGhpcy5Qb2xhclBvaW50X0FsdGl0dWRlKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnUG9sYXIgUG9pbnQgQWx0aXR1ZGU6JyArIHRoaXMuUG9sYXJQb2ludF9BbHRpdHVkZSwgJ2luZm8nKTsKICAgIH0sCiAgICBBZGRNYXJrQ2lyY2xlOiBmdW5jdGlvbiBBZGRNYXJrQ2lyY2xlKHN0ZWwsIGxheWVyLCBmcmFtZSwgbGFiZWwpIHsKICAgICAgdmFyIGNpcmNsZSA9IHN0ZWwuY3JlYXRlT2JqKCdjaXJjbGUnLCB7CiAgICAgICAgaWQ6ICdteSBjaXJjbGUgICcsCiAgICAgICAgbW9kZWxfZGF0YToge30KICAgICAgfSk7CiAgICAgIGNpcmNsZS51cGRhdGUoKTsKICAgICAgbGF5ZXIuYWRkKGNpcmNsZSk7IC8vIFNlbGVjdAoKICAgICAgc3RlbC5jb3JlLnNlbGVjdGlvbiA9IGNpcmNsZTsKICAgICAgc3RlbC5wb2ludEFuZExvY2soY2lyY2xlKTsgLy8gQ2lyY2xlIFByb3BlcnR5CgogICAgICB2YXIgbW0gPSBjaXJjbGUucG9zOwogICAgICB0aGlzLnZlYzNfZnJvbV9zcGhlKDIuNTI5NzEsIDg5LjI2NDEsIG1tKTsKICAgICAgY2lyY2xlLnBvcyA9IG1tOwogICAgICBjaXJjbGUubGFiZWwgPSBsYWJlbDsKICAgICAgY2lyY2xlLmZyYW1lID0gZnJhbWU7CiAgICAgIGNpcmNsZS5zaXplID0gWzAuMDQsIDAuMDRdOwogICAgICBjaXJjbGUuY29sb3IgPSBbMSwgMSwgMSwgMC41XTsKICAgICAgY2lyY2xlLmJvcmRlcl9jb2xvciA9IFsxLCAxLCAxLCAxXTsKICAgICAgcmV0dXJuIGNpcmNsZTsKICAgIH0sCiAgICBBZGRNYXJrUmVjdGFuZ2xlOiBmdW5jdGlvbiBBZGRNYXJrUmVjdGFuZ2xlKHN0ZWwsIGxheWVyLCBSYURlYykgewogICAgICB2YXIgbGluZSA9IHN0ZWwuY3JlYXRlT2JqKCdnZW9qc29uJywgewogICAgICAgIGRhdGE6IHsKICAgICAgICAgICJ0eXBlIjogIkZlYXR1cmVDb2xsZWN0aW9uIiwKICAgICAgICAgICJmZWF0dXJlcyI6IFt7CiAgICAgICAgICAgICJ0eXBlIjogIkZlYXR1cmUiLAogICAgICAgICAgICAicHJvcGVydGllcyI6IHsKICAgICAgICAgICAgICAic3Ryb2tlIjogIiNGRkZGRkYiLAogICAgICAgICAgICAgICJzdHJva2Utb3BhY2l0eSI6IDEsCiAgICAgICAgICAgICAgImZpbGwiOiAiIzFFOTBGRiIsCiAgICAgICAgICAgICAgImZpbGwtb3BhY2l0eSI6IDAuMjUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgImdlb21ldHJ5IjogewogICAgICAgICAgICAgICJ0eXBlIjogIlBvbHlnb24iLAogICAgICAgICAgICAgICJjb29yZGluYXRlcyI6IFtbLy8gWzEzOS43NiwgMzUuNTJdLCBbMTM5LjMyLCAzMy40MV0sIFsxNDAuOTIsIDMzLjA4XSwgWzE0MS4zNSwgMzUuMTldLCBbMTM5Ljc2LCAzNS41Ml0KICAgICAgICAgICAgICBbcGFyc2VGbG9hdChSYURlY1swXS5SYSksIHBhcnNlRmxvYXQoUmFEZWNbMF0uRGVjKV0sIFtwYXJzZUZsb2F0KFJhRGVjWzFdLlJhKSwgcGFyc2VGbG9hdChSYURlY1sxXS5EZWMpXSwgW3BhcnNlRmxvYXQoUmFEZWNbMl0uUmEpLCBwYXJzZUZsb2F0KFJhRGVjWzJdLkRlYyldLCBbcGFyc2VGbG9hdChSYURlY1szXS5SYSksIHBhcnNlRmxvYXQoUmFEZWNbM10uRGVjKV0sIFtwYXJzZUZsb2F0KFJhRGVjWzBdLlJhKSwgcGFyc2VGbG9hdChSYURlY1swXS5EZWMpXV1dCiAgICAgICAgICAgIH0KICAgICAgICAgIH1dCiAgICAgICAgfQogICAgICB9KTsKICAgICAgbGluZS51cGRhdGUoKTsKICAgICAgbGF5ZXIuYWRkKGxpbmUpOwogICAgICByZXR1cm4gbGluZTsKICAgIH0sCiAgICBnZXRDaWVjbGVBekFsdDogZnVuY3Rpb24gZ2V0Q2llY2xlQXpBbHQoQ2lyY2xlKSB7CiAgICAgIHZhciBvYnMgPSB0aGlzLiRzdGVsLmNvcmUub2JzZXJ2ZXI7CiAgICAgIHZhciBjaXJzID0gdGhpcy4kc3RlbC5jb252ZXJ0RnJhbWUob2JzLCAnSUNSRicsICdDSVJTJywgQ2lyY2xlLmdldEluZm8oJ3JhZGVjJykpOwogICAgICB2YXIgb2JzZXJ2ZWQgPSB0aGlzLiRzdGVsLmNvbnZlcnRGcmFtZShvYnMsICdDSVJTJywgJ09CU0VSVkVEJywgY2lycyk7IC8vIGNvbnN0IGF6YWx0ID0gdGhpcy4kc3RlbC5jMnModGhpcy4kc3RlbC5jb252ZXJ0RnJhbWUodGhpcy4kc3RlbC5jb3JlLm9ic2VydmVyLCAnSUNSRicsICdPQlNFUlZFRCcsIG9iai5nZXRJbmZvKCdyYWRlYycpKSkKCiAgICAgIHZhciBhemFsdCA9IHRoaXMuJHN0ZWwuYzJzKG9ic2VydmVkKTsKICAgICAgdmFyIGF6ID0gdGhpcy4kc3RlbC5hbnAoYXphbHRbMF0pOwogICAgICB2YXIgYWx0ID0gdGhpcy4kc3RlbC5hbnAoYXphbHRbMV0pOwogICAgICB2YXIgYXpfcmFmID0gdGhpcy4kc3RlbC5hMmFmKGF6LCAxKTsKICAgICAgdmFyIEF6X2RlZ3JlZSA9IChhel9yYWYuZGVncmVlcyA8IDAgPyBhel9yYWYuZGVncmVlcyArIDE4MCA6IGF6X3JhZi5kZWdyZWVzKSArIGF6X3JhZi5hcmNtaW51dGVzIC8gNjAgKyBhel9yYWYuYXJjc2Vjb25kcyAvIDM2MDA7CiAgICAgIHZhciBhbHRfcmFmID0gdGhpcy4kc3RlbC5hMmFmKGFsdCwgMSk7CiAgICAgIHZhciBBbHRfZGVncmVlID0gYWx0X3JhZi5kZWdyZWVzICsgYWx0X3JhZi5hcmNtaW51dGVzIC8gNjAgKyBhbHRfcmFmLmFyY3NlY29uZHMgLyAzNjAwOwogICAgICBjb25zb2xlLmxvZygnQXpBbHQ6JywgQXpfZGVncmVlLCBBbHRfZGVncmVlKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBBel9kZWdyZWU6IEF6X2RlZ3JlZSwKICAgICAgICBBbHRfZGVncmVlOiBBbHRfZGVncmVlCiAgICAgIH07CiAgICB9LAogICAgU29sdmVSZXN1bHRNYXJrOiBmdW5jdGlvbiBTb2x2ZVJlc3VsdE1hcmsoUmFEZWdyZWUsIERlY0RlZ3JlZSwgQXppbXV0aCwgQWx0aXR1ZGUpIHsKICAgICAgdmFyIE1hcmtDaXJjbGVfUmFEZWMgPSB0aGlzLkFkZE1hcmtDaXJjbGUodGhpcy4kc3RlbCwgZ2xMYXllciwgMSwgIlJhRGVjIik7CiAgICAgIHZhciBtbSA9IE1hcmtDaXJjbGVfUmFEZWMucG9zOwogICAgICB0aGlzLnZlYzNfZnJvbV9zcGhlKFJhRGVncmVlLCBEZWNEZWdyZWUsIG1tKTsKICAgICAgTWFya0NpcmNsZV9SYURlYy5wb3MgPSBtbTsKICAgICAgY29uc29sZS5sb2coIlJhRGVjIGNpcmNsZSBjb29yZGluYXRlczoiICsgbW0pOwogICAgICB2YXIgQXpBbHQgPSB0aGlzLmdldENpZWNsZUF6QWx0KE1hcmtDaXJjbGVfUmFEZWMpOwogICAgICBnbExheWVyLnJlbW92ZShNYXJrQ2lyY2xlX1JhRGVjKTsKICAgICAgdGhpcy5NYXJrQ2lyY2xlTnVtKys7CiAgICAgIHZhciBMYWJlbCA9ICJBekFsdF9WdWVfIiArIHRoaXMuTWFya0NpcmNsZU51bTsKICAgICAgdmFyIE1hcmtDaXJjbGVfQWx0QXogPSB0aGlzLkFkZE1hcmtDaXJjbGUodGhpcy4kc3RlbCwgZ2xMYXllciwgNCwgTGFiZWwpOwogICAgICBtbSA9IE1hcmtDaXJjbGVfQWx0QXoucG9zOwogICAgICB0aGlzLnZlYzNfZnJvbV9zcGhlKEF6QWx0LkF6X2RlZ3JlZSwgQXpBbHQuQWx0X2RlZ3JlZSwgbW0pOwogICAgICBNYXJrQ2lyY2xlX0FsdEF6LnBvcyA9IG1tOwogICAgICBjb25zb2xlLmxvZygiQXpBbHRfVnVlIGNpcmNsZSBjb29yZGluYXRlczoiICsgbW0pOwogICAgICBjb25zb2xlLmxvZygiQXpBbHRfVnVlIGNpcmNsZSB4OiIgKyBtbVswXSk7CiAgICAgIGNvbnNvbGUubG9nKCJBekFsdF9WdWUgY2lyY2xlIHk6IiArIG1tWzFdKTsKICAgICAgY29uc29sZS5sb2coIkF6QWx0X1Z1ZSBjaXJjbGUgejoiICsgbW1bMl0pOwogICAgICB0aGlzLkxhc3RQb2ludF9BekFsdCA9IHRoaXMuZ2V0Q2llY2xlQXpBbHQoTWFya0NpcmNsZV9BbHRBeik7CiAgICAgIHRoaXMuQ2FsY3VsYXRpb25Qb2xhclBvaW50KG1tKTsgLy8g5bCG5Yib5bu655qE5ZyG5a2Y5YKo5Yiw5pWw57uE5LitCiAgICAgIC8vIHRoaXMuQ2lyY2xlcy5wdXNoKE1hcmtDaXJjbGVfUmFEZWMpOwoKICAgICAgdGhpcy5DaXJjbGVzLnB1c2goTWFya0NpcmNsZV9BbHRBeik7CiAgICB9LAogICAgUmVtb3ZlQWxsQ2lyY2xlczogZnVuY3Rpb24gUmVtb3ZlQWxsQ2lyY2xlcygpIHsKICAgICAgdGhpcy5DaXJjbGVzLmZvckVhY2goZnVuY3Rpb24gKGNpcmNsZSkgewogICAgICAgIGdsTGF5ZXIucmVtb3ZlKGNpcmNsZSk7CiAgICAgIH0pOwogICAgICB0aGlzLkNpcmNsZXMgPSBbXTsKICAgIH0sCiAgICBTb2x2ZVJlc3VsdE1hcmtfUmVhbFRpbWU6IGZ1bmN0aW9uIFNvbHZlUmVzdWx0TWFya19SZWFsVGltZShSYURlZ3JlZSwgRGVjRGVncmVlLCBBemltdXRoLCBBbHRpdHVkZSkgewogICAgICB0aGlzLkxhc3RDaXJjbGVfUmFEZWMgPSB0aGlzLkFkZE1hcmtDaXJjbGUodGhpcy4kc3RlbCwgZ2xMYXllciwgMSwgIlJhRGVjIik7CiAgICAgIHZhciBtbSA9IHRoaXMuTGFzdENpcmNsZV9SYURlYy5wb3M7CiAgICAgIHRoaXMudmVjM19mcm9tX3NwaGUoUmFEZWdyZWUsIERlY0RlZ3JlZSwgbW0pOwogICAgICB0aGlzLkxhc3RDaXJjbGVfUmFEZWMucG9zID0gbW07CiAgICAgIGNvbnNvbGUubG9nKCJSYURlYyBjaXJjbGUgY29vcmRpbmF0ZXM6IiArIG1tKTsKICAgICAgdmFyIEF6QWx0ID0gdGhpcy5nZXRDaWVjbGVBekFsdCh0aGlzLkxhc3RDaXJjbGVfUmFEZWMpOwogICAgICBnbExheWVyLnJlbW92ZSh0aGlzLkxhc3RDaXJjbGVfUmFEZWMpOwoKICAgICAgaWYgKHRoaXMuTGFzdENpcmNsZV9BekFsdCAhPT0gbnVsbCAmJiB0aGlzLkxhc3RDaXJjbGVfQXpBbHQgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGdsTGF5ZXIucmVtb3ZlKHRoaXMuTGFzdENpcmNsZV9BekFsdCk7CiAgICAgIH0KCiAgICAgIHRoaXMuTGFzdENpcmNsZV9BekFsdCA9IHRoaXMuQWRkTWFya0NpcmNsZSh0aGlzLiRzdGVsLCBnbExheWVyLCA0LCAnQ3VycmVudCcpOwogICAgICBtbSA9IHRoaXMuTGFzdENpcmNsZV9BekFsdC5wb3M7CiAgICAgIHRoaXMudmVjM19mcm9tX3NwaGUoQXpBbHQuQXpfZGVncmVlLCBBekFsdC5BbHRfZGVncmVlLCBtbSk7CiAgICAgIHRoaXMuTGFzdENpcmNsZV9BekFsdC5wb3MgPSBtbTsKICAgICAgdGhpcy5MYXN0Q2lyY2xlX0F6QWx0LmNvbG9yID0gWzAsIDEsIDEsIDAuMjVdOwogICAgICBjb25zb2xlLmxvZygiQXpBbHRfVnVlIGNpcmNsZSBjb29yZGluYXRlczoiICsgbW0pOwogICAgICBjb25zb2xlLmxvZygiQXpBbHRfVnVlIGNpcmNsZSB4OiIgKyBtbVswXSk7CiAgICAgIGNvbnNvbGUubG9nKCJBekFsdF9WdWUgY2lyY2xlIHk6IiArIG1tWzFdKTsKICAgICAgY29uc29sZS5sb2coIkF6QWx0X1Z1ZSBjaXJjbGUgejoiICsgbW1bMl0pOwogICAgICB0aGlzLkN1cnJlbnRfQXpBbHQgPSB0aGlzLmdldENpZWNsZUF6QWx0KHRoaXMuTGFzdENpcmNsZV9BekFsdCk7CiAgICAgIGNvbnNvbGUubG9nKCJDdXJyZW50IEF6QWx0OiIsIHRoaXMuQ3VycmVudF9BekFsdC5Bel9kZWdyZWUsIHRoaXMuQ3VycmVudF9BekFsdC5BbHRfZGVncmVlKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTaG93Q3VycmVudEF6QWx0VGV4dCcsIHRoaXMuQ3VycmVudF9BekFsdC5Bel9kZWdyZWUsIHRoaXMuQ3VycmVudF9BekFsdC5BbHRfZGVncmVlKTsKICAgIH0sCiAgICBDYWxjdWxhdGlvblBvbGFyUG9pbnQ6IGZ1bmN0aW9uIENhbGN1bGF0aW9uUG9sYXJQb2ludChjb29yZGluYXRlKSB7CiAgICAgIHRoaXMuQ2FydGVzaWFuTGlzdC5wdXNoKGNvb3JkaW5hdGUpOwoKICAgICAgaWYgKHRoaXMuQ2FydGVzaWFuTGlzdC5sZW5ndGggPCAzKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLiRidXMuJGVtaXQoJ0hpZGVTaW5nbGVTb2x2ZUJ0bicpOyAvLyDojrflj5bkuInkuKrngrnnmoTlnZDmoIcKCiAgICAgIHZhciBwMSA9IHRoaXMuQ2FydGVzaWFuTGlzdFswXTsKICAgICAgdmFyIHAyID0gdGhpcy5DYXJ0ZXNpYW5MaXN0WzFdOwogICAgICB2YXIgcDMgPSB0aGlzLkNhcnRlc2lhbkxpc3RbMl07IC8vIOiuoeeul+S4pOS4quWQkemHjwoKICAgICAgdmFyIHYxID0gW3AyWzBdIC0gcDFbMF0sIHAyWzFdIC0gcDFbMV0sIHAyWzJdIC0gcDFbMl1dOwogICAgICB2YXIgdjIgPSBbcDNbMF0gLSBwMVswXSwgcDNbMV0gLSBwMVsxXSwgcDNbMl0gLSBwMVsyXV07IC8vIOiuoeeul+azleWQkemHjwoKICAgICAgdmFyIG5vcm1hbCA9IFt2MVsxXSAqIHYyWzJdIC0gdjFbMl0gKiB2MlsxXSwgdjFbMl0gKiB2MlswXSAtIHYxWzBdICogdjJbMl0sIHYxWzBdICogdjJbMV0gLSB2MVsxXSAqIHYyWzBdXTsgLy8g6K6h566X5rOV5ZCR6YeP55qE6ZW/5bqmCgogICAgICB2YXIgbm9ybWFsTGVuZ3RoID0gTWF0aC5zcXJ0KE1hdGgucG93KG5vcm1hbFswXSwgMikgKyBNYXRoLnBvdyhub3JtYWxbMV0sIDIpICsgTWF0aC5wb3cobm9ybWFsWzJdLCAyKSk7IC8vIOW9kuS4gOWMluazleWQkemHjwoKICAgICAgdmFyIHVuaXROb3JtYWwgPSBbbm9ybWFsWzBdIC8gbm9ybWFsTGVuZ3RoLCBub3JtYWxbMV0gLyBub3JtYWxMZW5ndGgsIG5vcm1hbFsyXSAvIG5vcm1hbExlbmd0aF07IC8vIOWBh+iuvueQg+eahOWNiuW+hOS4unLvvIzlnIblv4PkuLooMCwgMCwgMCkKCiAgICAgIHZhciByID0gMTsgLy8g5qC55o2u5L2g55qE5a6e6ZmF5oOF5Ya16LCD5pW0CiAgICAgIC8vIOiuoeeul+S4jueQg+mdoueahOS6pOeCuQoKICAgICAgdmFyIGludGVyc2VjdGlvbjEgPSBbdW5pdE5vcm1hbFswXSAqIHIsIHVuaXROb3JtYWxbMV0gKiByLCB1bml0Tm9ybWFsWzJdICogcl07CiAgICAgIHZhciBpbnRlcnNlY3Rpb24yID0gWy11bml0Tm9ybWFsWzBdICogciwgLXVuaXROb3JtYWxbMV0gKiByLCAtdW5pdE5vcm1hbFsyXSAqIHJdOwogICAgICBjb25zb2xlLmxvZygnSW50ZXJzZWN0aW9uIFBvaW50czonLCBpbnRlcnNlY3Rpb24xLCBpbnRlcnNlY3Rpb24yKTsgLy8g6YCJ5oup56a7KDAsMCwxKeabtOi/keeahOS6pOeCuQoKICAgICAgdmFyIGNsb3NlckludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbjFbMl0gPiAwID8gaW50ZXJzZWN0aW9uMSA6IGludGVyc2VjdGlvbjI7CiAgICAgIHZhciBNYXJrQ2lyY2xlX0Zha2VQb2xhclBvaW50ID0gdGhpcy5BZGRNYXJrQ2lyY2xlKHRoaXMuJHN0ZWwsIGdsTGF5ZXIsIDQsICJGYWtlUG9sYXJQb2ludCIpOwogICAgICB2YXIgbW0gPSBNYXJrQ2lyY2xlX0Zha2VQb2xhclBvaW50LnBvczsKICAgICAgbW1bMF0gPSBjbG9zZXJJbnRlcnNlY3Rpb25bMF07CiAgICAgIG1tWzFdID0gY2xvc2VySW50ZXJzZWN0aW9uWzFdOwogICAgICBtbVsyXSA9IGNsb3NlckludGVyc2VjdGlvblsyXTsKICAgICAgTWFya0NpcmNsZV9GYWtlUG9sYXJQb2ludC5wb3MgPSBtbTsKICAgICAgY29uc29sZS5sb2coIkZha2VQb2xhclBvaW50IGNpcmNsZSBjb29yZGluYXRlczoiICsgbW0pOwogICAgICB2YXIgQXpBbHRfRmFrZVBvbGFyUG9pbnQgPSB0aGlzLmdldENpZWNsZUF6QWx0KE1hcmtDaXJjbGVfRmFrZVBvbGFyUG9pbnQpOwogICAgICBjb25zb2xlLmxvZygiRmFrZSBQb2xhciBQb2ludCBBekFsdDoiLCBBekFsdF9GYWtlUG9sYXJQb2ludC5Bel9kZWdyZWUsICcsJywgQXpBbHRfRmFrZVBvbGFyUG9pbnQuQWx0X2RlZ3JlZSk7CiAgICAgIHRoaXMuQ2lyY2xlcy5wdXNoKE1hcmtDaXJjbGVfRmFrZVBvbGFyUG9pbnQpOwogICAgICB2YXIgQXpBbHRfUG9sYXJQb2ludCA9IHsKICAgICAgICBBel9kZWdyZWU6IDAsCiAgICAgICAgQWx0X2RlZ3JlZTogdGhpcy5Qb2xhclBvaW50X0FsdGl0dWRlCiAgICAgIH07IC8vIGNvbnNvbGUubG9nKCJSZWFsIFBvbGFyIFBvaW50IEF6QWx0OiIsIEF6QWx0X1BvbGFyUG9pbnQuQXpfZGVncmVlLCAnLCcsIEF6QWx0X1BvbGFyUG9pbnQuQWx0X2RlZ3JlZSk7CgogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdSZWFsIFBvbGFyIFBvaW50IEF6QWx0OicgKyBBekFsdF9Qb2xhclBvaW50LkF6X2RlZ3JlZSArICcsJyArIEF6QWx0X1BvbGFyUG9pbnQuQWx0X2RlZ3JlZSwgJ2luZm8nKTsgLy8gY29uc29sZS5sb2coIkxhc3QgUG9pbnQgQXpBbHQ6IiwgdGhpcy5MYXN0UG9pbnRfQXpBbHQuQXpfZGVncmVlLCB0aGlzLkxhc3RQb2ludF9BekFsdC5BbHRfZGVncmVlKTsKCiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0xhc3QgUG9pbnQgQXpBbHQ6JyArIHRoaXMuTGFzdFBvaW50X0F6QWx0LkF6X2RlZ3JlZSArICcsJyArIHRoaXMuTGFzdFBvaW50X0F6QWx0LkFsdF9kZWdyZWUsICdpbmZvJyk7IC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgICAvLyAvLyDlsIbnkIPlnZDmoIfovazmjaLkuLrnrJvljaHlsJTlnZDmoIcKICAgICAgLy8gbGV0IGZha2VQb2xhclBvaW50ID0gdGhpcy5zcGhlcmljYWxUb0NhcnRlc2lhbihBekFsdF9GYWtlUG9sYXJQb2ludC5Bel9kZWdyZWUsIEF6QWx0X0Zha2VQb2xhclBvaW50LkFsdF9kZWdyZWUpOwogICAgICAvLyBsZXQgcG9sYXJQb2ludCA9IHRoaXMuc3BoZXJpY2FsVG9DYXJ0ZXNpYW4oQXpBbHRfUG9sYXJQb2ludC5Bel9kZWdyZWUsIEF6QWx0X1BvbGFyUG9pbnQuQWx0X2RlZ3JlZSk7CiAgICAgIC8vIGxldCBsYXN0UG9pbnQgPSB0aGlzLnNwaGVyaWNhbFRvQ2FydGVzaWFuKHRoaXMuTGFzdFBvaW50X0F6QWx0LkF6X2RlZ3JlZSwgdGhpcy5MYXN0UG9pbnRfQXpBbHQuQWx0X2RlZ3JlZSk7CiAgICAgIC8vIC8vIOiuoeeul+aXi+i9rOWbm+WFg+aVsAogICAgICAvLyBsZXQgcXVhdGVybmlvbiA9IHRoaXMuY29tcHV0ZVF1YXRlcm5pb24oZmFrZVBvbGFyUG9pbnQsIHBvbGFyUG9pbnQpOwogICAgICAvLyAvLyDlupTnlKjml4vovawKICAgICAgLy8gbGV0IGZvdXJ0aFBvaW50ID0gdGhpcy5hcHBseVF1YXRlcm5pb24obGFzdFBvaW50LCBxdWF0ZXJuaW9uKTsKICAgICAgLy8gLy8g5bCG57uT5p6c6L2s5o2i5Zue55CD5Z2Q5qCHCiAgICAgIC8vIGxldCBmb3VydGhQb2ludEF6QWx0ID0gdGhpcy5jYXJ0ZXNpYW5Ub1NwaGVyaWNhbChmb3VydGhQb2ludCk7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJGb3VydGggUG9pbnQgQXpBbHQ6IiwgZm91cnRoUG9pbnRBekFsdC5Bel9kZWdyZWUsICcsJywgZm91cnRoUG9pbnRBekFsdC5BbHRfZGVncmVlKTsKICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAgIC8vIOiuoeeul+inkuW6puW3ruWAvO+8jOiAg+iZkeinkuW6pueahOW+queOr+aAp+i0qAoKICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlQW5nbGVEaWZmZXJlbmNlKGFuZ2xlMSwgYW5nbGUyKSB7CiAgICAgICAgdmFyIGRpZmZlcmVuY2UgPSBhbmdsZTIgLSBhbmdsZTE7CgogICAgICAgIHdoaWxlIChkaWZmZXJlbmNlID4gMTgwKSB7CiAgICAgICAgICBkaWZmZXJlbmNlIC09IDM2MDsKICAgICAgICB9CgogICAgICAgIHdoaWxlIChkaWZmZXJlbmNlIDwgLTE4MCkgewogICAgICAgICAgZGlmZmVyZW5jZSArPSAzNjA7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZGlmZmVyZW5jZTsKICAgICAgfQoKICAgICAgdmFyIGF6aW11dGhEaWZmZXJlbmNlID0gY2FsY3VsYXRlQW5nbGVEaWZmZXJlbmNlKEF6QWx0X0Zha2VQb2xhclBvaW50LkF6X2RlZ3JlZSwgQXpBbHRfUG9sYXJQb2ludC5Bel9kZWdyZWUpOwogICAgICB2YXIgYWx0aXR1ZGVEaWZmZXJlbmNlID0gQXpBbHRfUG9sYXJQb2ludC5BbHRfZGVncmVlIC0gQXpBbHRfRmFrZVBvbGFyUG9pbnQuQWx0X2RlZ3JlZTsgLy8g5bqU55So5beu5YC85YiwTGFzdFBvaW50CgogICAgICB2YXIgZm91cnRoUG9pbnRBekFsdCA9IHsKICAgICAgICBBel9kZWdyZWU6IHRoaXMuTGFzdFBvaW50X0F6QWx0LkF6X2RlZ3JlZSArIGF6aW11dGhEaWZmZXJlbmNlLAogICAgICAgIEFsdF9kZWdyZWU6IHRoaXMuTGFzdFBvaW50X0F6QWx0LkFsdF9kZWdyZWUgKyBhbHRpdHVkZURpZmZlcmVuY2UKICAgICAgfTsgLy8g56Gu5L+d5pa55L2N6KeS5ZyoMOWIsDM2MOW6puS5i+mXtAoKICAgICAgZm91cnRoUG9pbnRBekFsdC5Bel9kZWdyZWUgPSAoZm91cnRoUG9pbnRBekFsdC5Bel9kZWdyZWUgKyAzNjApICUgMzYwOyAvLyDnoa7kv53pq5jluqbop5LlnKgtOTDliLA5MOW6puS5i+mXtAoKICAgICAgZm91cnRoUG9pbnRBekFsdC5BbHRfZGVncmVlID0gTWF0aC5tYXgoTWF0aC5taW4oZm91cnRoUG9pbnRBekFsdC5BbHRfZGVncmVlLCA5MCksIC05MCk7CiAgICAgIGNvbnNvbGUubG9nKCJGb3VydGggUG9pbnQgQXpBbHQ6IiwgZm91cnRoUG9pbnRBekFsdC5Bel9kZWdyZWUsICcsJywgZm91cnRoUG9pbnRBekFsdC5BbHRfZGVncmVlKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTaG93QXpBbHRUZXh0JywgYXppbXV0aERpZmZlcmVuY2UsIGFsdGl0dWRlRGlmZmVyZW5jZSwgZm91cnRoUG9pbnRBekFsdC5Bel9kZWdyZWUsIGZvdXJ0aFBvaW50QXpBbHQuQWx0X2RlZ3JlZSk7IC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgICAvLyDlsIbop5LluqbovazmjaLkuLrlvKfluqYKCiAgICAgIGZ1bmN0aW9uIGRlZ3JlZXNUb1JhZGlhbnMoZGVncmVlcykgewogICAgICAgIHJldHVybiBkZWdyZWVzICogTWF0aC5QSSAvIDE4MDsKICAgICAgfSAvLyDlsIbnkIPlnZDmoIfovazmjaLkuLrnrJvljaHlsJTlnZDmoIcKCgogICAgICBmdW5jdGlvbiBzcGhlcmljYWxUb0NhcnRlc2lhbihhemltdXRoLCBhbHRpdHVkZSkgewogICAgICAgIHZhciBheiA9IGRlZ3JlZXNUb1JhZGlhbnMoYXppbXV0aCk7CiAgICAgICAgdmFyIGFsdCA9IGRlZ3JlZXNUb1JhZGlhbnMoYWx0aXR1ZGUpOwogICAgICAgIHZhciB4ID0gTWF0aC5jb3MoYWx0KSAqIE1hdGguY29zKGF6KTsKICAgICAgICB2YXIgeSA9IE1hdGguY29zKGFsdCkgKiBNYXRoLnNpbihheik7CiAgICAgICAgdmFyIHogPSBNYXRoLnNpbihhbHQpOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICB4OiB4LAogICAgICAgICAgeTogeSwKICAgICAgICAgIHo6IHoKICAgICAgICB9OwogICAgICB9IC8vIOWwhuesrOWbm+S4queCuei9rOaNouS4uuesm+WNoeWwlOWdkOaghwoKCiAgICAgIHZhciBmb3VydGhQb2ludENhcnRlc2lhbiA9IHNwaGVyaWNhbFRvQ2FydGVzaWFuKGZvdXJ0aFBvaW50QXpBbHQuQXpfZGVncmVlLCBmb3VydGhQb2ludEF6QWx0LkFsdF9kZWdyZWUpOwogICAgICBjb25zb2xlLmxvZygiRm91cnRoIFBvaW50IENhcnRlc2lhbjoiLCBmb3VydGhQb2ludENhcnRlc2lhbi54LCAnLCcsIGZvdXJ0aFBvaW50Q2FydGVzaWFuLnksICcsJywgZm91cnRoUG9pbnRDYXJ0ZXNpYW4ueik7CiAgICAgIHZhciBNYXJrQ2lyY2xlX2ZvdXJ0aFBvaW50ID0gdGhpcy5BZGRNYXJrQ2lyY2xlKHRoaXMuJHN0ZWwsIGdsTGF5ZXIsIDQsICJUYXJnZXQgUG9pbnQiKTsKICAgICAgbW0gPSBNYXJrQ2lyY2xlX2ZvdXJ0aFBvaW50LnBvczsKICAgICAgbW1bMF0gPSBmb3VydGhQb2ludENhcnRlc2lhbi54OwogICAgICBtbVsxXSA9IGZvdXJ0aFBvaW50Q2FydGVzaWFuLnk7CiAgICAgIG1tWzJdID0gZm91cnRoUG9pbnRDYXJ0ZXNpYW4uejsKICAgICAgTWFya0NpcmNsZV9mb3VydGhQb2ludC5wb3MgPSBtbTsKICAgICAgTWFya0NpcmNsZV9mb3VydGhQb2ludC5jb2xvciA9IFsxLCAwLCAwLCAwLjI1XTsKICAgICAgdGhpcy5DaXJjbGVzLnB1c2goTWFya0NpcmNsZV9mb3VydGhQb2ludCk7IC8vIOa4heepuuWIl+ihqO+8jOWHhuWkh+S4i+asoeiuoeeulwoKICAgICAgdGhpcy5DYXJ0ZXNpYW5MaXN0ID0gW107CiAgICAgIHRoaXMuTWFya0NpcmNsZU51bSA9IDA7CiAgICB9LAogICAgLy8g5bCG6KeS5bqm6L2s5o2i5Li65byn5bqmCiAgICBkZWdyZWVzVG9SYWRpYW5zOiBmdW5jdGlvbiBkZWdyZWVzVG9SYWRpYW5zKGRlZ3JlZXMpIHsKICAgICAgcmV0dXJuIGRlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwOwogICAgfSwKICAgIC8vIOWwhueQg+WdkOagh+i9rOaNouS4uuesm+WNoeWwlOWdkOaghwogICAgc3BoZXJpY2FsVG9DYXJ0ZXNpYW46IGZ1bmN0aW9uIHNwaGVyaWNhbFRvQ2FydGVzaWFuKGF6aW11dGgsIGFsdGl0dWRlKSB7CiAgICAgIHZhciBheiA9IHRoaXMuZGVncmVlc1RvUmFkaWFucyhhemltdXRoKTsKICAgICAgdmFyIGFsdCA9IHRoaXMuZGVncmVlc1RvUmFkaWFucyhhbHRpdHVkZSk7CiAgICAgIHZhciB4ID0gTWF0aC5jb3MoYWx0KSAqIE1hdGguY29zKGF6KTsKICAgICAgdmFyIHkgPSBNYXRoLmNvcyhhbHQpICogTWF0aC5zaW4oYXopOwogICAgICB2YXIgeiA9IE1hdGguc2luKGFsdCk7CiAgICAgIHJldHVybiB7CiAgICAgICAgeDogeCwKICAgICAgICB5OiB5LAogICAgICAgIHo6IHoKICAgICAgfTsKICAgIH0sCiAgICAvLyDorqHnrpfml4vovazlm5vlhYPmlbAKICAgIGNvbXB1dGVRdWF0ZXJuaW9uOiBmdW5jdGlvbiBjb21wdXRlUXVhdGVybmlvbihmcm9tLCB0bykgewogICAgICB2YXIgdyA9IGZyb20ueCAqIHRvLnggKyBmcm9tLnkgKiB0by55ICsgZnJvbS56ICogdG8ueiArIDE7CiAgICAgIHZhciB4ID0gZnJvbS55ICogdG8ueiAtIGZyb20ueiAqIHRvLnk7CiAgICAgIHZhciB5ID0gZnJvbS56ICogdG8ueCAtIGZyb20ueCAqIHRvLno7CiAgICAgIHZhciB6ID0gZnJvbS54ICogdG8ueSAtIGZyb20ueSAqIHRvLng7CiAgICAgIHZhciBub3JtID0gTWF0aC5zcXJ0KHcgKiB3ICsgeCAqIHggKyB5ICogeSArIHogKiB6KTsKICAgICAgcmV0dXJuIHsKICAgICAgICB3OiB3IC8gbm9ybSwKICAgICAgICB4OiB4IC8gbm9ybSwKICAgICAgICB5OiB5IC8gbm9ybSwKICAgICAgICB6OiB6IC8gbm9ybQogICAgICB9OwogICAgfSwKICAgIC8vIOW6lOeUqOWbm+WFg+aVsOaXi+i9rAogICAgYXBwbHlRdWF0ZXJuaW9uOiBmdW5jdGlvbiBhcHBseVF1YXRlcm5pb24ocG9pbnQsIHF1YXQpIHsKICAgICAgdmFyIHggPSBxdWF0LncgKiBxdWF0LncgKiBwb2ludC54ICsgMiAqIHF1YXQueSAqIHF1YXQudyAqIHBvaW50LnogLSAyICogcXVhdC56ICogcXVhdC53ICogcG9pbnQueSArIHF1YXQueCAqIHF1YXQueCAqIHBvaW50LnggKyAyICogcXVhdC55ICogcXVhdC54ICogcG9pbnQueSArIDIgKiBxdWF0LnogKiBxdWF0LnggKiBwb2ludC56IC0gcXVhdC56ICogcXVhdC56ICogcG9pbnQueCAtIHF1YXQueSAqIHF1YXQueSAqIHBvaW50Lng7CiAgICAgIHZhciB5ID0gMiAqIHF1YXQueCAqIHF1YXQueSAqIHBvaW50LnggKyBxdWF0LnkgKiBxdWF0LnkgKiBwb2ludC55ICsgMiAqIHF1YXQueiAqIHF1YXQueSAqIHBvaW50LnogKyAyICogcXVhdC53ICogcXVhdC56ICogcG9pbnQueCAtIHF1YXQueiAqIHF1YXQueiAqIHBvaW50LnkgKyBxdWF0LncgKiBxdWF0LncgKiBwb2ludC55IC0gMiAqIHF1YXQueCAqIHF1YXQudyAqIHBvaW50LnogLSBxdWF0LnggKiBxdWF0LnggKiBwb2ludC55OwogICAgICB2YXIgeiA9IDIgKiBxdWF0LnggKiBxdWF0LnogKiBwb2ludC54ICsgMiAqIHF1YXQueSAqIHF1YXQueiAqIHBvaW50LnkgKyBxdWF0LnogKiBxdWF0LnogKiBwb2ludC56IC0gMiAqIHF1YXQudyAqIHF1YXQueSAqIHBvaW50LnggLSBxdWF0LnkgKiBxdWF0LnkgKiBwb2ludC56ICsgMiAqIHF1YXQudyAqIHF1YXQueCAqIHBvaW50LnkgLSBxdWF0LnggKiBxdWF0LnggKiBwb2ludC56ICsgcXVhdC53ICogcXVhdC53ICogcG9pbnQuejsKICAgICAgcmV0dXJuIHsKICAgICAgICB4OiB4LAogICAgICAgIHk6IHksCiAgICAgICAgejogegogICAgICB9OwogICAgfSwKICAgIC8vIOWwhuesm+WNoeWwlOWdkOagh+i9rOaNouWbnueQg+WdkOaghwogICAgY2FydGVzaWFuVG9TcGhlcmljYWw6IGZ1bmN0aW9uIGNhcnRlc2lhblRvU3BoZXJpY2FsKGNhcnRlc2lhbikgewogICAgICB2YXIgciA9IE1hdGguc3FydChNYXRoLnBvdyhjYXJ0ZXNpYW4ueCwgMikgKyBNYXRoLnBvdyhjYXJ0ZXNpYW4ueSwgMikgKyBNYXRoLnBvdyhjYXJ0ZXNpYW4ueiwgMikpOwogICAgICB2YXIgYXppbXV0aCA9IE1hdGguYXRhbjIoY2FydGVzaWFuLnksIGNhcnRlc2lhbi54KTsKICAgICAgdmFyIGFsdGl0dWRlID0gTWF0aC5hc2luKGNhcnRlc2lhbi56IC8gcik7CiAgICAgIHJldHVybiB7CiAgICAgICAgQXpfZGVncmVlOiBhemltdXRoICogMTgwIC8gTWF0aC5QSSwKICAgICAgICBBbHRfZGVncmVlOiBhbHRpdHVkZSAqIDE4MCAvIE1hdGguUEkKICAgICAgfTsKICAgIH0sCiAgICBTb2x2ZUZvdk1hcms6IGZ1bmN0aW9uIFNvbHZlRm92TWFyayhSYURlYykgewogICAgICBjb25zb2xlLmxvZygnUmFEZWNbNF06JywgUmFEZWMpOwogICAgICB2YXIgcmVjdGFuZ2xlID0gdGhpcy5BZGRNYXJrUmVjdGFuZ2xlKHRoaXMuJHN0ZWwsIGdsTGF5ZXIsIFJhRGVjKTsKICAgICAgdGhpcy5DaXJjbGVzLnB1c2gocmVjdGFuZ2xlKTsKICAgIH0sCiAgICBDYWxpYnJhdGVQb2xhckF4aXM6IGZ1bmN0aW9uIENhbGlicmF0ZVBvbGFyQXhpcygpIHsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdDYWxpYnJhdGVQb2xhckF4aXNNb2RlJyk7IC8vIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnU3RhcnRMb29wQ2FwdHVyZScpOwoKICAgICAgdGhpcy5uYXYgPSBmYWxzZTsKICAgIH0sCiAgICBSZWNhbGlicmF0ZVBvbGFyQXhpczogZnVuY3Rpb24gUmVjYWxpYnJhdGVQb2xhckF4aXMoKSB7CiAgICAgIC8vIOa4heepuuWIl+ihqO+8jOWHhuWkh+S4i+asoeiuoeeulwogICAgICB0aGlzLkNhcnRlc2lhbkxpc3QgPSBbXTsKICAgICAgdGhpcy5NYXJrQ2lyY2xlTnVtID0gMDsKICAgICAgdGhpcy5SZW1vdmVBbGxDaXJjbGVzKCk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnQ2xlYXJTbG92ZVJlc3VsdExpc3QnKTsKICAgIH0sCiAgICBTaG93Q29uZmlybURpYWxvZzogZnVuY3Rpb24gU2hvd0NvbmZpcm1EaWFsb2coVGl0bGUsIFRleHQsIFRvRG8pIHsKICAgICAgLy8gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB0aGlzLm5hdiA9IGZhbHNlOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ1Nob3dDb25maXJtRGlhbG9nJywgVGl0bGUsIFRleHQsIFRvRG8pOwogICAgfSwKICAgIGRlY3JlbWVudDogZnVuY3Rpb24gZGVjcmVtZW50KGl0ZW0pIHsKICAgICAgY29uc29sZS5sb2coJ2RlY3JlbWVudDonLCBpdGVtLnZhbHVlKTsKCiAgICAgIGlmIChpdGVtLnZhbHVlID4gaXRlbS5pbnB1dE1pbikgewogICAgICAgIGl0ZW0udmFsdWUgLT0gaXRlbS5pbnB1dFN0ZXA7CiAgICAgIH0KICAgIH0sCiAgICBpbmNyZW1lbnQ6IGZ1bmN0aW9uIGluY3JlbWVudChpdGVtKSB7CiAgICAgIGNvbnNvbGUubG9nKCdpbmNyZW1lbnQ6JywgaXRlbS52YWx1ZSk7CgogICAgICBpZiAoaXRlbS52YWx1ZSA8IGl0ZW0uaW5wdXRNYXgpIHsKICAgICAgICBpdGVtLnZhbHVlICs9IGl0ZW0uaW5wdXRTdGVwOwogICAgICB9CiAgICB9LAogICAgUG9sYXJBeGlzTW9kZTogZnVuY3Rpb24gUG9sYXJBeGlzTW9kZShib29sKSB7CiAgICAgIHRoaXMuaXNQb2xhckF4aXNNb2RlID0gYm9vbDsKICAgIH0sCiAgICBoYW5kbGVHdWlkZXJDYW52YXNDbGljazogZnVuY3Rpb24gaGFuZGxlR3VpZGVyQ2FudmFzQ2xpY2soZXZlbnQpIHsKICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuJHJlZnMuZ3VpZGVyQ2FudmFzOwogICAgICB2YXIgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgdmFyIHggPSBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0OyAvLyDngrnlh7vlnZDmoIdYCgogICAgICB2YXIgeSA9IGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcDsgLy8g54K55Ye75Z2Q5qCHWQoKICAgICAgY29uc29sZS5sb2coIkNsaWNrZWQgYXQ6ICgiLmNvbmNhdCh4LCAiLCAiKS5jb25jYXQoeSwgIikiKSk7CiAgICAgIHZhciBDYW52YXNXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOwogICAgICB2YXIgQ2FudmFzSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0OwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0d1aWRlckNhbnZhc0NsaWNrOicgKyBDYW52YXNXaWR0aCArICc6JyArIENhbnZhc0hlaWdodCArICc6JyArIHggKyAnOicgKyB5KTsKICAgIH0sCiAgICBjb25uZWN0RHJpdmVyOiBmdW5jdGlvbiBjb25uZWN0RHJpdmVyKCkgewogICAgICB0aGlzLmlzQ29ubmVjdGluZyA9IHRydWU7IC8vIHRoaXMuaXNPcGVuRGV2aWNlUGFnZSA9IGZhbHNlOwoKICAgICAgdGhpcy5zdGFydExvYWRpbmcoKTsKICAgICAgdmFyIERldmljZVR5cGUgPSB0aGlzLkN1cnJlbnREcml2ZXJUeXBlOwoKICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLmRldmljZXMpLAogICAgICAgICAgX3N0ZXAzOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICAgICAgdmFyIF9kZXZpY2U3ID0gX3N0ZXAzLnZhbHVlOwoKICAgICAgICAgIGlmIChfZGV2aWNlNy5kcml2ZXJUeXBlID09PSBEZXZpY2VUeXBlICYmIF9kZXZpY2U3LmlzQ29ubmVjdGVkID09IGZhbHNlKSB7CiAgICAgICAgICAgIHZhciBEcml2ZXJOYW1lID0gX2RldmljZTcuZHJpdmVyTmFtZTsKCiAgICAgICAgICAgIGlmIChEcml2ZXJOYW1lID09ICcnKSB7CiAgICAgICAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnTm8gZHJpdmVyIHNlbGVjdGVkJywgJ3dhcm5pbmcnKTsKICAgICAgICAgICAgICB0aGlzLmlzQ29ubmVjdGluZyA9IGZhbHNlOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdDb25uZWN0RHJpdmVyOicgKyBEcml2ZXJOYW1lICsgJzonICsgRGV2aWNlVHlwZSk7CiAgICAgICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1N0YXJ0IENvbm5lY3RpbmcgZHJpdmVyOicgKyBEZXZpY2VUeXBlICsgJyAnICsgRHJpdmVyTmFtZSwgJ2luZm8nKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICAgIH0KICAgIH0sCiAgICBjb25uZWN0RHJpdmVyU3VjY2VzczogZnVuY3Rpb24gY29ubmVjdERyaXZlclN1Y2Nlc3MoZGV2aWNldHlwZSkgewogICAgICBjb25zb2xlLmxvZygnY29ubmVjdERyaXZlclN1Y2Nlc3M6JywgZGV2aWNldHlwZSk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coImNvbm5lY3REcml2ZXJTdWNjZXNzOiIgKyBkZXZpY2V0eXBlLCAnaW5mbycpOwogICAgICB0aGlzLmlzQ29ubmVjdGluZyA9IGZhbHNlOwoKICAgICAgaWYgKHRoaXMuZHJhd2VyXzIgPT0gdHJ1ZSkgewogICAgICAgIHRoaXMuZHJhd2VyXzIgPSBmYWxzZTsKICAgICAgfQoKICAgICAgdGhpcy5zdG9wTG9hZGluZygpOwogICAgfSwKICAgIGNvbm5lY3REcml2ZXJGYWlsZWQ6IGZ1bmN0aW9uIGNvbm5lY3REcml2ZXJGYWlsZWQobWVzc2FnZSkgewogICAgICBjb25zb2xlLmxvZygnY29ubmVjdERyaXZlckZhaWxlZDonLCBtZXNzYWdlKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygiY29ubmVjdERyaXZlckZhaWxlZDoiICsgbWVzc2FnZSwgJ2Vycm9yJyk7CiAgICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7CiAgICAgIHRoaXMuc3RvcExvYWRpbmcoKTsKICAgIH0sCiAgICBkaXNjb25uZWN0RHJpdmVyOiBmdW5jdGlvbiBkaXNjb25uZWN0RHJpdmVyKCkgewogICAgICB2YXIgRGV2aWNlVHlwZSA9IHRoaXMuQ3VycmVudERyaXZlclR5cGU7CgogICAgICB2YXIgX2l0ZXJhdG9yNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuZGV2aWNlcyksCiAgICAgICAgICBfc3RlcDQ7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yNC5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgX2RldmljZTggPSBfc3RlcDQudmFsdWU7CgogICAgICAgICAgaWYgKF9kZXZpY2U4LmRyaXZlclR5cGUgPT09IERldmljZVR5cGUgJiYgX2RldmljZTguaXNDb25uZWN0ZWQpIHsKICAgICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdEaXNjb25uZWN0RGV2aWNlOicgKyBfZGV2aWNlOC5kZXZpY2UgKyAiOiIgKyBEZXZpY2VUeXBlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjQuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjQuZigpOwogICAgICB9CiAgICB9LAogICAgZGlzY29ubmVjdERyaXZlcnN1Y2Nlc3M6IGZ1bmN0aW9uIGRpc2Nvbm5lY3REcml2ZXJzdWNjZXNzKGRldmljZXR5cGUpIHsKICAgICAgY29uc29sZS5sb2coJ2Rpc2Nvbm5lY3REZXZpY2VzdWNjZXNzOicsIGRldmljZXR5cGUpOwogICAgICB0aGlzLmRyYXdlcl8yID0gZmFsc2U7CgogICAgICBpZiAoZGV2aWNldHlwZSA9PSAiYWxsIikgewogICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2Rpc2Nvbm5lY3RBbGxEZXZpY2UnKTsKICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdEaXNjb25uZWN0IEFsbCBEZXZpY2UnLCAnaW5mbycpOwogICAgICAgIHRoaXMuaGF2ZURldmljZUNvbm5lY3QgPSBmYWxzZTsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ01haW5DYW1lcmFDb25uZWN0ZWQnLCAwKTsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ01vdW50Q29ubmVjdGVkJywgMCk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdDRldDb25uZWN0ZWQnLCAwKTsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0d1aWRlckNvbm5lY3RlZCcsIDApOwogICAgICAgIHRoaXMuY2xhZXJEZXZpY2VMaXN0KCk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdkZWxldGVEZXZpY2VUeXBlQWxsb2NhdGlvbkxpc3QnLCAnYWxsJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICA7CgogICAgICB2YXIgX2l0ZXJhdG9yNSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuZGV2aWNlcyksCiAgICAgICAgICBfc3RlcDU7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yNS5zKCk7ICEoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgX2RldmljZTkgPSBfc3RlcDUudmFsdWU7CgogICAgICAgICAgaWYgKF9kZXZpY2U5LmRyaXZlclR5cGUgPT09IGRldmljZXR5cGUgJiYgX2RldmljZTkuaXNDb25uZWN0ZWQpIHsKICAgICAgICAgICAgX2RldmljZTkuaXNDb25uZWN0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgX2RldmljZTkuaXNnZXQgPSBmYWxzZTsKICAgICAgICAgICAgX2RldmljZTkuZGV2aWNlID0gX2RldmljZTkuZHJpdmVyTmFtZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjUuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjUuZigpOwogICAgICB9CgogICAgICB2YXIgX2l0ZXJhdG9yNiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuVG9CZUNvbm5lY3REZXZpY2UpLAogICAgICAgICAgX3N0ZXA2OwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjYucygpOyAhKF9zdGVwNiA9IF9pdGVyYXRvcjYubigpKS5kb25lOykgewogICAgICAgICAgdmFyIF9kZXZpY2UxMCA9IF9zdGVwNi52YWx1ZTsKCiAgICAgICAgICBpZiAoX2RldmljZTEwLmRyaXZlclR5cGUgPT09IGRldmljZXR5cGUpIHsKICAgICAgICAgICAgX2RldmljZTEwLmlzQ29ubmVjdGVkID0gZmFsc2U7CiAgICAgICAgICAgIF9kZXZpY2UxMC5pc2dldCA9IGZhbHNlOwogICAgICAgICAgICBfZGV2aWNlMTAuZGV2aWNlID0gX2RldmljZTEwLmRyaXZlck5hbWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3I2LmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3I2LmYoKTsKICAgICAgfQoKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdkZWxldGVEZXZpY2VUeXBlQWxsb2NhdGlvbkxpc3QnLCBkZXZpY2V0eXBlKTsKCiAgICAgIGlmIChkZXZpY2V0eXBlID09ICJNYWluQ2FtZXJhIikgewogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnTWFpbkNhbWVyYUNvbm5lY3RlZCcsIDApOwogICAgICB9IGVsc2UgaWYgKGRldmljZXR5cGUgPT0gIk1vdW50IikgewogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnTW91bnRDb25uZWN0ZWQnLCAwKTsKICAgICAgfSBlbHNlIGlmIChkZXZpY2V0eXBlID09ICJDRlciKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdDRldDb25uZWN0ZWQnLCAwKTsKICAgICAgfSBlbHNlIGlmIChkZXZpY2V0eXBlID09ICJHdWlkZXIiKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdHdWlkZXJDb25uZWN0ZWQnLCAwKTsKICAgICAgfQogICAgfSwKICAgIGRpc2Nvbm5lY3REcml2ZXJGYWlsOiBmdW5jdGlvbiBkaXNjb25uZWN0RHJpdmVyRmFpbChkZXZpY2V0eXBlKSB7CiAgICAgIGNvbnNvbGUubG9nKCdkaXNjb25uZWN0RGV2aWNlRmFpbDonLCBkZXZpY2V0eXBlKTsKICAgICAgdGhpcy5kcmF3ZXJfMiA9IGZhbHNlOwoKICAgICAgaWYgKGRldmljZXR5cGUgPT0gImFsbCIpIHsKICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdkaXNjb25uZWN0QWxsRGV2aWNlJyk7CiAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnRGlzY29ubmVjdCBBbGwgRGV2aWNlJywgJ2luZm8nKTsKICAgICAgICB0aGlzLmhhdmVEZXZpY2VDb25uZWN0ID0gZmFsc2U7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdNYWluQ2FtZXJhQ29ubmVjdGVkJywgMCk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdNb3VudENvbm5lY3RlZCcsIDApOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQ0ZXQ29ubmVjdGVkJywgMCk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdHdWlkZXJDb25uZWN0ZWQnLCAwKTsKICAgICAgICB0aGlzLmNsYWVyRGV2aWNlTGlzdCgpOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnZGVsZXRlRGV2aWNlVHlwZUFsbG9jYXRpb25MaXN0JywgJ2FsbCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgOwoKICAgICAgdmFyIF9pdGVyYXRvcjcgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLmRldmljZXMpLAogICAgICAgICAgX3N0ZXA3OwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjcucygpOyAhKF9zdGVwNyA9IF9pdGVyYXRvcjcubigpKS5kb25lOykgewogICAgICAgICAgdmFyIF9kZXZpY2UxMSA9IF9zdGVwNy52YWx1ZTsKCiAgICAgICAgICBpZiAoX2RldmljZTExLmRyaXZlclR5cGUgPT09IGRldmljZXR5cGUgJiYgX2RldmljZTExLmlzQ29ubmVjdGVkKSB7CiAgICAgICAgICAgIF9kZXZpY2UxMS5pc0Nvbm5lY3RlZCA9IGZhbHNlOwogICAgICAgICAgICBfZGV2aWNlMTEuaXNnZXQgPSBmYWxzZTsKICAgICAgICAgICAgX2RldmljZTExLmRldmljZSA9IF9kZXZpY2UxMS5kcml2ZXJOYW1lOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yNy5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yNy5mKCk7CiAgICAgIH0KCiAgICAgIHZhciBfaXRlcmF0b3I4ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5Ub0JlQ29ubmVjdERldmljZSksCiAgICAgICAgICBfc3RlcDg7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yOC5zKCk7ICEoX3N0ZXA4ID0gX2l0ZXJhdG9yOC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgX2RldmljZTEyID0gX3N0ZXA4LnZhbHVlOwoKICAgICAgICAgIGlmIChfZGV2aWNlMTIuZHJpdmVyVHlwZSA9PT0gZGV2aWNldHlwZSkgewogICAgICAgICAgICBfZGV2aWNlMTIuaXNDb25uZWN0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgX2RldmljZTEyLmlzZ2V0ID0gZmFsc2U7CiAgICAgICAgICAgIF9kZXZpY2UxMi5kZXZpY2UgPSBfZGV2aWNlMTIuZHJpdmVyTmFtZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjguZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjguZigpOwogICAgICB9CgogICAgICB0aGlzLiRidXMuJGVtaXQoJ2RlbGV0ZURldmljZVR5cGVBbGxvY2F0aW9uTGlzdCcsIGRldmljZXR5cGUpOwoKICAgICAgaWYgKGRldmljZXR5cGUgPT0gIk1haW5DYW1lcmEiKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdNYWluQ2FtZXJhQ29ubmVjdGVkJywgMCk7CiAgICAgIH0gZWxzZSBpZiAoZGV2aWNldHlwZSA9PSAiTW91bnQiKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdNb3VudENvbm5lY3RlZCcsIDApOwogICAgICB9IGVsc2UgaWYgKGRldmljZXR5cGUgPT0gIkNGVyIpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0NGV0Nvbm5lY3RlZCcsIDApOwogICAgICB9IGVsc2UgaWYgKGRldmljZXR5cGUgPT0gIkd1aWRlciIpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0d1aWRlckNvbm5lY3RlZCcsIDApOwogICAgICB9CiAgICB9LAogICAgbG9hZFNlbGVjdGVkRHJpdmVyTGlzdDogZnVuY3Rpb24gbG9hZFNlbGVjdGVkRHJpdmVyTGlzdChkZXZpY2VPYmplY3QpIHsKICAgICAgdmFyIF90aGlzMTkgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coJ2xvYWRTZWxlY3RlZERyaXZlckxpc3Q6JywgZGV2aWNlT2JqZWN0KTsKICAgICAgZGV2aWNlT2JqZWN0LmZvckVhY2goZnVuY3Rpb24gKGRldmljZSkgewogICAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKCkgewogICAgICAgICAgdmFyIF9PYmplY3QkZW50cmllcyRfaSA9IF9zbGljZWRUb0FycmF5KF9PYmplY3QkZW50cmllc1tfaTZdLCAyKSwKICAgICAgICAgICAgICBkcml2ZXJUeXBlID0gX09iamVjdCRlbnRyaWVzJF9pWzBdLAogICAgICAgICAgICAgIGRyaXZlck5hbWUgPSBfT2JqZWN0JGVudHJpZXMkX2lbMV07CgogICAgICAgICAgX3RoaXMxOS5kZXZpY2VzLmZvckVhY2goZnVuY3Rpb24gKGRldmljZSkgewogICAgICAgICAgICBpZiAoZGV2aWNlLmRyaXZlclR5cGUgPT09IGRyaXZlclR5cGUgJiYgZGV2aWNlLmlzQ29ubmVjdGVkID09IGZhbHNlKSB7CiAgICAgICAgICAgICAgZGV2aWNlLmRldmljZSA9IGRyaXZlck5hbWU7CiAgICAgICAgICAgICAgZGV2aWNlLmRyaXZlck5hbWUgPSBkcml2ZXJOYW1lOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICAvLyDlgYforr7kvaDmg7PopoHmiZPljbDmr4/kuKrorr7lpIflr7nosaHnmoTplK7lgLzlr7kKICAgICAgICBmb3IgKHZhciBfaTYgPSAwLCBfT2JqZWN0JGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhkZXZpY2UpOyBfaTYgPCBfT2JqZWN0JGVudHJpZXMubGVuZ3RoOyBfaTYrKykgewogICAgICAgICAgX2xvb3AoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRCaW5kRGV2aWNlTGlzdDogZnVuY3Rpb24gbG9hZEJpbmREZXZpY2VMaXN0KGRldmljZU9iamVjdCkgewogICAgICBjb25zb2xlLmxvZygnbG9hZEJpbmREZXZpY2VMaXN0OicsIGRldmljZU9iamVjdCk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnbG9hZEJpbmREZXZpY2VMaXN0JywgZGV2aWNlT2JqZWN0KTsKICAgIH0sCiAgICBsb2FkQmluZERldmljZVR5cGVMaXN0OiBmdW5jdGlvbiBsb2FkQmluZERldmljZVR5cGVMaXN0KGRldmljZVR5cGVPYmplY3QpIHsKICAgICAgdmFyIF90aGlzMjAgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coJ2xvYWRCaW5kRGV2aWNlVHlwZUxpc3Q6JywgZGV2aWNlVHlwZU9iamVjdCk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnbG9hZEJpbmREZXZpY2VUeXBlTGlzdCcsIGRldmljZVR5cGVPYmplY3QpOwogICAgICBkZXZpY2VUeXBlT2JqZWN0LmZvckVhY2goZnVuY3Rpb24gKGRldmljZVR5cGUpIHsKICAgICAgICB2YXIgVHlwZSA9IGRldmljZVR5cGUuVHlwZSwKICAgICAgICAgICAgRGV2aWNlTmFtZSA9IGRldmljZVR5cGUuRGV2aWNlTmFtZSwKICAgICAgICAgICAgRHJpdmVyTmFtZSA9IGRldmljZVR5cGUuRHJpdmVyTmFtZSwKICAgICAgICAgICAgaXNiaW5kID0gZGV2aWNlVHlwZS5pc2JpbmQ7CgogICAgICAgIF90aGlzMjAudXBkYXRlRGV2aWNlc0Nvbm5lY3QoVHlwZSwgRGV2aWNlTmFtZSwgRHJpdmVyTmFtZSwgaXNiaW5kKTsKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlU2VsZWN0ZWREcml2ZXI6IGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGVkRHJpdmVyKGRyaXZlclR5cGUpIHsKICAgICAgdmFyIF90aGlzMjEgPSB0aGlzOwoKICAgICAgdGhpcy5zZWxlY3RlZERyaXZlciA9IG51bGw7CiAgICAgIHRoaXMuZGV2aWNlcy5mb3JFYWNoKGZ1bmN0aW9uIChkZXZpY2UpIHsKICAgICAgICBpZiAoZGV2aWNlLmRyaXZlclR5cGUgPT09IGRyaXZlclR5cGUpIHsKICAgICAgICAgIF90aGlzMjEuc2VsZWN0ZWREcml2ZXIgPSBkZXZpY2UuZHJpdmVyTmFtZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZygnQ3VycmVudCBkcml2ZXJzOicsIHRoaXMuc2VsZWN0ZWREcml2ZXIpOwogICAgfSwKICAgIHN0YXJ0TG9hZGluZzogZnVuY3Rpb24gc3RhcnRMb2FkaW5nKCkgewogICAgICB0aGlzLmxvYWRpbmdEZXZpY2VTZWxlY3Rpb24gPSB0cnVlOwogICAgfSwKICAgIHN0b3BMb2FkaW5nOiBmdW5jdGlvbiBzdG9wTG9hZGluZygpIHsKICAgICAgdGhpcy5sb2FkaW5nRGV2aWNlU2VsZWN0aW9uID0gZmFsc2U7CiAgICB9LAogICAgZGVsZXRlRGV2aWNlQWxsb2NhdGlvbkxpc3Q6IGZ1bmN0aW9uIGRlbGV0ZURldmljZUFsbG9jYXRpb25MaXN0KGRldmljZU5hbWUpIHsKICAgICAgY29uc29sZS5sb2coJ2RlbGV0ZURldmljZUFsbG9jYXRpb25MaXN0OicsIGRldmljZU5hbWUpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ2RlbGV0ZURldmljZUFsbG9jYXRpb25MaXN0JywgZGV2aWNlTmFtZSk7CiAgICB9LAogICAgVW5CaW5kaW5nRGV2aWNlOiBmdW5jdGlvbiBVbkJpbmRpbmdEZXZpY2UodHlwZSwgbmFtZSwgZHJpdmVyTmFtZSkgewogICAgICBjb25zb2xlLmxvZygnVW5CaW5kaW5nRGV2aWNlOicsIHR5cGUsIG5hbWUsIGRyaXZlck5hbWUpOwogICAgICB0aGlzLnVwZGF0ZURldmljZXNDb25uZWN0KHR5cGUsIG5hbWUsIGRyaXZlck5hbWUsIGZhbHNlKTsKICAgIH0sCiAgICBkaXNwbGF5RXJyb3JJbWFnZTogZnVuY3Rpb24gZGlzcGxheUVycm9ySW1hZ2UoKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoImltYWdlIGlzIGVycm9yLCBsb2FkIGVycm9ySW1hZ2Uuc3ZnIik7CiAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbkNhbWVyYS1jYW52YXMnKTsKICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTsKCiAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyDojrflj5borr7lpIflg4/ntKDmr5QKICAgICAgICB2YXIgZGV2aWNlUGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7IC8vIOiwg+aVtOeUu+W4g+WwuuWvuOS7pemAguW6lOmrmOa4heaYvuekugoKICAgICAgICBjYW52YXMud2lkdGggPSBpbWFnZS53aWR0aCAqIGRldmljZVBpeGVsUmF0aW87CiAgICAgICAgY2FudmFzLmhlaWdodCA9IGltYWdlLmhlaWdodCAqIGRldmljZVBpeGVsUmF0aW87CiAgICAgICAgY3R4LnNjYWxlKGRldmljZVBpeGVsUmF0aW8sIGRldmljZVBpeGVsUmF0aW8pOyAvLyDnvKnmlL5jdHjku6XpgILlupTpq5jmuIXnlLvluIMKICAgICAgICAvLyDnu5jliLblm77lg48KCiAgICAgICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7CiAgICAgIH07CgogICAgICBpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoIkZhaWxlZCB0byBsb2FkIGltYWdlIGZyb20gIiArIGltYWdlLnNyYyk7IC8vIOWPr+S7peWcqOi/memHjOa3u+WKoOWkh+eUqOWbvuWDj+aIluWFtuS7lumUmeivr+WkhOeQhumAu+i+kQogICAgICB9OyAvLyDnoa7kv51FcnJvckltYWdl5piv5pyJ5pWI55qEVVJMCgoKICAgICAgaW1hZ2Uuc3JjID0gRXJyb3JJbWFnZTsgLy8g6K+35pu/5o2i5Li65a6e6ZmF55qE5Zu+5YOP6Lev5b6ECiAgICB9LAogICAgaGFuZGxlRXJyb3I6IGZ1bmN0aW9uIGhhbmRsZUVycm9yKG1lc3NhZ2UsIGxvY2F0aW9uKSB7CiAgICAgIHZhciBlcnJvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDsKICAgICAgdmFyIGVycm9yTXNnID0gZXJyb3IgPyAiIi5jb25jYXQobWVzc2FnZSwgIiBhdCAiKS5jb25jYXQobG9jYXRpb24sICI6ICIpLmNvbmNhdChlcnJvcikgOiAiIi5jb25jYXQobWVzc2FnZSwgIiBhdCAiKS5jb25jYXQobG9jYXRpb24pOwogICAgICBjb25zb2xlLmVycm9yKGVycm9yTXNnKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZyhlcnJvck1zZywgJ2Vycm9yJyk7CiAgICAgIHRoaXMuZGlzcGxheUVycm9ySW1hZ2UoKTsgLy8g5pi+56S66ZSZ6K+v5Zu+5YOPCiAgICB9LAogICAgc2hvd1NlbGVjdGRpc2Nvbm5lY3REcml2ZXI6IGZ1bmN0aW9uIHNob3dTZWxlY3RkaXNjb25uZWN0RHJpdmVyKGRyaXZlcm5hbWUpIHsKICAgICAgdGhpcy5zaG93RGlzY29ubmVjdERpYWxvZyA9IHRydWU7CiAgICAgIHRoaXMuY3VycmVudERpc2Nvbm5lY3REcml2ZXJOYW1lID0gZHJpdmVybmFtZTsKICAgIH0sCiAgICBjb25maXJtRGlzY29ubmVjdDogZnVuY3Rpb24gY29uZmlybURpc2Nvbm5lY3QoKSB7CiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2Rpc2Nvbm5lY3RTZWxlY3REcml2ZXI6JyArIHRoaXMuY3VycmVudERpc2Nvbm5lY3REcml2ZXJOYW1lKTsKICAgICAgdGhpcy5zaG93RGlzY29ubmVjdERpYWxvZyA9IGZhbHNlOwogICAgfSwKICAgIC8vIOS4u+eUu+W4g+eCueWHu+S6i+S7tgogICAgaGFuZGxlTWFpbkNhbnZhc0NsaWNrOiBmdW5jdGlvbiBoYW5kbGVNYWluQ2FudmFzQ2xpY2soZXZlbnQpIHsKICAgICAgLy8gdGhpcy5TZW5kQ29uc29sZUxvZ01zZygn6Kem5Y+R6byg5qCH54K55Ye75LqL5Lu2OicsICdpbmZvJyk7CiAgICAgIGlmICghdGhpcy5lbmFibGVNYWluQ2FudmFzQ2xpY2sgfHwgdGhpcy5pc0RyYWdnaW5nIHx8IHRoaXMuZHJhd0ltZ0RhdGEgPT0gbnVsbCkgcmV0dXJuOyAvLyDlpoLmnpznlLvluIPkuI3lj6/ngrnlh7vvvIzliJnkuI3lpITnkIbngrnlh7vkuovku7YKICAgICAgLy8gY29uc29sZS5sb2coJ+inpuWPkem8oOagh+eCueWHu+S6i+S7tjonLCBldmVudCk7CgogICAgICB2YXIgY2FudmFzID0gdGhpcy4kcmVmcy5tYWluQ2FudmFzOwogICAgICBpZiAoIWNhbnZhcykgcmV0dXJuOyAvLyDnoa7kv50gY2FudmFzIOWFg+e0oOWtmOWcqAoKICAgICAgdmFyIHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IC8vIOiOt+WPliBjYW52YXMg5YWD57Sg55qE6L6555WM55+p5b2iCgogICAgICB2YXIgeCA9IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQ7CiAgICAgIHZhciB5ID0gZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wOwogICAgICBjb25zb2xlLmxvZygnTW91c2UgY2xpY2tlZCBhdDonLCB4LCB5KTsKCiAgICAgIGlmICghdGhpcy5pc0ZvY3VzTG9vcFNob290aW5nKSB7CiAgICAgICAgdGhpcy5ST0lfeCA9IHggLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHRoaXMudmlzaWJsZVdpZHRoIC0gdGhpcy5SZWRCb3hTaWRlTGVuZ3RoIC8gMiArIHRoaXMudmlzaWJsZVggLSB0aGlzLnZpc2libGVXaWR0aCAvIDI7IC8vIOiuoeeul1JPSeeahHjlnZDmoIcKCiAgICAgICAgdGhpcy5ST0lfeSA9IHkgLyB3aW5kb3cuaW5uZXJIZWlnaHQgKiB0aGlzLnZpc2libGVIZWlnaHQgLSB0aGlzLlJlZEJveFNpZGVMZW5ndGggLyAyICsgdGhpcy52aXNpYmxlWSAtIHRoaXMudmlzaWJsZUhlaWdodCAvIDI7IC8vIOiuoeeul1JPSeeahHnlnZDmoIcKICAgICAgICAvLyB0aGlzLiRidXMuJGVtaXQoJ3NldFJlZEJveFBvc2l0aW9uJywgeCwgeSwgdGhpcy5ST0lfeCwgdGhpcy5ST0lfeSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZWxlY3RTdGFyWCA9IHggLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHRoaXMudmlzaWJsZVdpZHRoICsgdGhpcy52aXNpYmxlWCAtIHRoaXMudmlzaWJsZVdpZHRoIC8gMiAtIHRoaXMuUk9JX3g7IC8vIOiuoeeul+mAieaLqeS9jee9rueahHjlnZDmoIcKCiAgICAgICAgdGhpcy5zZWxlY3RTdGFyWSA9IHkgLyB3aW5kb3cuaW5uZXJIZWlnaHQgKiB0aGlzLnZpc2libGVIZWlnaHQgKyB0aGlzLnZpc2libGVZIC0gdGhpcy52aXNpYmxlSGVpZ2h0IC8gMiAtIHRoaXMuUk9JX3k7IC8vIOiuoeeul+mAieaLqeS9jee9rueahHnlnZDmoIcKCiAgICAgICAgaWYgKHRoaXMuc2VsZWN0U3RhclggPj0gMCAmJiB0aGlzLnNlbGVjdFN0YXJYIDwgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoICYmIHRoaXMuc2VsZWN0U3RhclkgPj0gMCAmJiB0aGlzLnNlbGVjdFN0YXJZIDwgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdTZWxlY3QgU3RhciBpcyBpbiBST0knLCAnaW5mbycpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdTZWxlY3QgU3RhciBpcyBub3QgaW4gUk9JJywgJ2Vycm9yJyk7CiAgICAgICAgICB0aGlzLnNlbGVjdFN0YXJYID0gLTE7CiAgICAgICAgICB0aGlzLnNlbGVjdFN0YXJZID0gLTE7CiAgICAgICAgfQoKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ3NlbmRTZWxlY3RTdGFyczonICsgdGhpcy5zZWxlY3RTdGFyWCArICc6JyArIHRoaXMuc2VsZWN0U3RhclkpOwogICAgICB9CgogICAgICB0aGlzLmRyYXdJbWFnZURhdGEoKTsKICAgIH0sCiAgICAvLyDkuLvnlLvluIPmi5bliqgKICAgIGhhbmRsZU1vdXNlRG93bjogZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpczIyID0gdGhpczsKCiAgICAgIC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+inpuWPkem8oOagh+aMieS4i+S6i+S7tjonLCAnaW5mbycpOwogICAgICBpZiAodGhpcy5pc0RyYWdnaW5nIHx8IHRoaXMuZHJhd0ltZ0RhdGEgPT0gbnVsbCkgcmV0dXJuOwogICAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlOwogICAgICB0aGlzLnN0YXJ0WCA9IGV2ZW50LmNsaWVudFg7CiAgICAgIHRoaXMuc3RhcnRZID0gZXZlbnQuY2xpZW50WTsKICAgICAgdGhpcy5jdXJyZW50WCA9IGV2ZW50LmNsaWVudFg7CiAgICAgIHRoaXMuY3VycmVudFkgPSBldmVudC5jbGllbnRZOyAvLyDorr7nva7kuIDkuKrlrprml7blmajvvIzmr48xMDBtc+aJp+ihjOS4gOasoem8oOagh+enu+WKqOeahOmAu+i+kQoKICAgICAgdGhpcy5tb3ZlSW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoIV90aGlzMjIuaXNEcmFnZ2luZykgcmV0dXJuOwogICAgICAgIHZhciBkeCA9IF90aGlzMjIuc3RhcnRYIC0gX3RoaXMyMi5jdXJyZW50WDsKICAgICAgICB2YXIgZHkgPSBfdGhpczIyLnN0YXJ0WSAtIF90aGlzMjIuY3VycmVudFk7CgogICAgICAgIGlmIChpc05hTihkeCkgfHwgaXNOYU4oZHkpKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgbmV3VmlzaWJsZVggPSBfdGhpczIyLnZpc2libGVYICsgZHggLyB3aW5kb3cuaW5uZXJXaWR0aCAqIF90aGlzMjIudmlzaWJsZVdpZHRoOwogICAgICAgIHZhciBuZXdWaXNpYmxlWSA9IF90aGlzMjIudmlzaWJsZVkgKyBkeSAvIHdpbmRvdy5pbm5lckhlaWdodCAqIF90aGlzMjIudmlzaWJsZUhlaWdodDsKCiAgICAgICAgaWYgKG5ld1Zpc2libGVYIDwgMCkgewogICAgICAgICAgbmV3VmlzaWJsZVggPSAwOwogICAgICAgIH0KCiAgICAgICAgaWYgKG5ld1Zpc2libGVZIDwgMCkgewogICAgICAgICAgbmV3VmlzaWJsZVkgPSAwOwogICAgICAgIH0KCiAgICAgICAgaWYgKG5ld1Zpc2libGVYID4gX3RoaXMyMi5tYWluQ2FtZXJhU2l6ZVgpIHsKICAgICAgICAgIG5ld1Zpc2libGVYID0gX3RoaXMyMi5tYWluQ2FtZXJhU2l6ZVg7CiAgICAgICAgfQoKICAgICAgICBpZiAobmV3VmlzaWJsZVkgPiBfdGhpczIyLm1haW5DYW1lcmFTaXplWSkgewogICAgICAgICAgbmV3VmlzaWJsZVkgPSBfdGhpczIyLm1haW5DYW1lcmFTaXplWTsKICAgICAgICB9CgogICAgICAgIF90aGlzMjIudmlzaWJsZVggPSBuZXdWaXNpYmxlWDsKICAgICAgICBfdGhpczIyLnZpc2libGVZID0gbmV3VmlzaWJsZVk7CiAgICAgICAgX3RoaXMyMi5zdGFydFggPSBfdGhpczIyLmN1cnJlbnRYOwogICAgICAgIF90aGlzMjIuc3RhcnRZID0gX3RoaXMyMi5jdXJyZW50WTsKCiAgICAgICAgX3RoaXMyMi5kcmF3SW1hZ2VEYXRhKCk7IC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+aLluWKqOS6i+S7tizmi5bliqjot53nprs6JyArIGR4ICsgJywnICsgZHksICdpbmZvJyk7CgogICAgICB9LCAxMDApOwogICAgfSwKICAgIGhhbmRsZU1vdXNlTW92ZTogZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlKGV2ZW50KSB7CiAgICAgIC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+inpuWPkem8oOagh+enu+WKqOS6i+S7tjonLCAnaW5mbycpOwogICAgICBpZiAoIXRoaXMuaXNEcmFnZ2luZykgcmV0dXJuOwogICAgICB0aGlzLmN1cnJlbnRYID0gZXZlbnQuY2xpZW50WDsKICAgICAgdGhpcy5jdXJyZW50WSA9IGV2ZW50LmNsaWVudFk7CiAgICB9LAogICAgaGFuZGxlTW91c2VVcDogZnVuY3Rpb24gaGFuZGxlTW91c2VVcChldmVudCkgewogICAgICAvLyB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCfop6blj5HpvKDmoIfmiqzotbfkuovku7Y6JywgJ2luZm8nKTsKICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7IC8vIOa4hemZpOWumuaXtuWZqAoKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLm1vdmVJbnRlcnZhbElkKTsKICAgICAgdGhpcy5tb3ZlSW50ZXJ2YWxJZCA9IG51bGw7CiAgICB9LAogICAgaGFuZGxlV2hlZWw6IGZ1bmN0aW9uIGhhbmRsZVdoZWVsKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpczIzID0gdGhpczsKCiAgICAgIC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+inpuWPkem8oOagh+a7mui9ruS6i+S7tjonLCAnaW5mbycpOwogICAgICBpZiAodGhpcy5kcmF3SW1nRGF0YSA9PSBudWxsKSByZXR1cm47CiAgICAgIHZhciBzY2FsZUNoYW5nZSA9IGV2ZW50LmRlbHRhWSA+IDAgPyAwLjEgOiAtMC4xOyAvLyDmoLnmja7mu5rova7nmoTmu5rliqjmlrnlkJHvvIzorqHnrpfnvKnmlL7mr5TkvovnmoTlj5jljJbph48KCiAgICAgIHZhciBuZXdTY2FsZSA9IHRoaXMuc2NhbGUgKyBzY2FsZUNoYW5nZTsgLy8g5pu05paw57yp5pS+5q+U5L6LCgogICAgICBpZiAobmV3U2NhbGUgPCAwLjEpIHsKICAgICAgICBuZXdTY2FsZSA9IDAuMTsKICAgICAgfQoKICAgICAgaWYgKG5ld1NjYWxlID4gMSkgewogICAgICAgIG5ld1NjYWxlID0gMTsKICAgICAgfSAvLyDlpoLmnpzlt7Lnu4/mnInkuIDkuKrlvoXmiafooYznmoTnvKnmlL7mk43kvZzvvIzliJnnm7TmjqXov5Tlm54KCgogICAgICBpZiAodGhpcy5wZW5kaW5nU2NhbGVDaGFuZ2UpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8g5qCH6K6w5pyJ5LiA5Liq5b6F5omn6KGM55qE57yp5pS+5pON5L2cCgoKICAgICAgdGhpcy5wZW5kaW5nU2NhbGVDaGFuZ2UgPSB0cnVlOyAvLyDkvb/nlKggcmVxdWVzdEFuaW1hdGlvbkZyYW1lIOadpeaOp+WItue8qeaUvuaTjeS9nOeahOaJp+ihjOmikeeOhwoKICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAobmV3U2NhbGUgIT0gX3RoaXMyMy5zY2FsZSkgewogICAgICAgICAgX3RoaXMyMy5zY2FsZSA9IG5ld1NjYWxlOyAvLyDmm7TmlrDnvKnmlL7mr5TkvosKCiAgICAgICAgICBfdGhpczIzLiRidXMuJGVtaXQoJ3NldFNjYWxlJywgX3RoaXMyMy5zY2FsZSk7CgogICAgICAgICAgX3RoaXMyMy5kcmF3SW1hZ2VEYXRhKCk7CgogICAgICAgICAgX3RoaXMyMy5TZW5kQ29uc29sZUxvZ01zZygn57yp5pS+5q+U5L6L5Y+Y5YyWLOe8qeaUvuavlOS+izonICsgbmV3U2NhbGUsICdpbmZvJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMjMuU2VuZENvbnNvbGVMb2dNc2coJ+e8qeaUvuavlOS+i+ayoeacieWPmOWMliznvKnmlL7mr5Tkvos6JyArIF90aGlzMjMuc2NhbGUsICdpbmZvJyk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczIzLnBlbmRpbmdTY2FsZUNoYW5nZSA9IGZhbHNlOyAvLyDmuIXpmaTlvoXmiafooYznmoTnvKnmlL7mk43kvZzmoIforrAKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlTWFpbkNhbnZhc1RvdWNoOiBmdW5jdGlvbiBoYW5kbGVNYWluQ2FudmFzVG91Y2goZXZlbnQpIHsKICAgICAgLy8gdGhpcy5TZW5kQ29uc29sZUxvZ01zZygn6Kem5Y+R6Kem5pG45LqL5Lu2OicsICdpbmZvJyk7CiAgICAgIGlmICghdGhpcy5lbmFibGVNYWluQ2FudmFzQ2xpY2sgfHwgdGhpcy5pc0RyYWdnaW5nIHx8IHRoaXMuZHJhd0ltZ0RhdGEgPT0gbnVsbCkgcmV0dXJuOyAvLyDlpoLmnpznlLvluIPkuI3lj6/ngrnlh7vvvIzliJnkuI3lpITnkIbngrnlh7vkuovku7YKICAgICAgLy8gY29uc29sZS5sb2coJ+inpuWPkeinpuaRuOS6i+S7tjonLCBldmVudCk7CgogICAgICBpZiAoIXRoaXMuZW5hYmxlTWFpbkNhbnZhc0NsaWNrIHx8ICFldmVudC50b3VjaGVzIHx8IGV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAwKSByZXR1cm47CiAgICAgIHZhciBjYW52YXMgPSB0aGlzLiRyZWZzLm1haW5DYW52YXM7CiAgICAgIGlmICghY2FudmFzKSByZXR1cm47IC8vIOehruS/nSBjYW52YXMg5YWD57Sg5a2Y5ZyoCgogICAgICB2YXIgdG91Y2ggPSBldmVudC50b3VjaGVzWzBdOwogICAgICB2YXIgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgLy8g6I635Y+WIGNhbnZhcyDlhYPntKDnmoTovrnnlYznn6nlvaIKCiAgICAgIHZhciB4ID0gdG91Y2guY2xpZW50WCAtIHJlY3QubGVmdDsKICAgICAgdmFyIHkgPSB0b3VjaC5jbGllbnRZIC0gcmVjdC50b3A7CiAgICAgIGNvbnNvbGUubG9nKCdUb3VjaCBhdDonLCB4LCB5KTsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8g6Zi75q2i6buY6K6k5LqL5Lu277yM5aaC6aG16Z2i5rua5YqoCgogICAgICBpZiAoIXRoaXMuaXNGb2N1c0xvb3BTaG9vdGluZykgewogICAgICAgIHRoaXMuUk9JX3ggPSB4IC8gd2luZG93LmlubmVyV2lkdGggKiB0aGlzLnZpc2libGVXaWR0aCAtIHRoaXMuUmVkQm94U2lkZUxlbmd0aCAvIDIgKyB0aGlzLnZpc2libGVYIC0gdGhpcy52aXNpYmxlV2lkdGggLyAyIC0gdGhpcy5ST0lfeDsgLy8g6K6h566XUk9J55qEeOWdkOaghwoKICAgICAgICB0aGlzLlJPSV95ID0geSAvIHdpbmRvdy5pbm5lckhlaWdodCAqIHRoaXMudmlzaWJsZUhlaWdodCAtIHRoaXMuUmVkQm94U2lkZUxlbmd0aCAvIDIgKyB0aGlzLnZpc2libGVZIC0gdGhpcy52aXNpYmxlSGVpZ2h0IC8gMiAtIHRoaXMuUk9JX3k7IC8vIOiuoeeul1JPSeeahHnlnZDmoIcKICAgICAgICAvLyB0aGlzLiRidXMuJGVtaXQoJ3NldFJlZEJveFBvc2l0aW9uJywgeCwgeSwgdGhpcy5ST0lfeCwgdGhpcy5ST0lfeSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZWxlY3RTdGFyWCA9IHggLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHRoaXMudmlzaWJsZVdpZHRoICsgdGhpcy52aXNpYmxlWCAtIHRoaXMudmlzaWJsZVdpZHRoIC8gMiAtIHRoaXMuUk9JX3g7IC8vIOiuoeeul+mAieaLqeS9jee9rueahHjlnZDmoIcKCiAgICAgICAgdGhpcy5zZWxlY3RTdGFyWSA9IHkgLyB3aW5kb3cuaW5uZXJIZWlnaHQgKiB0aGlzLnZpc2libGVIZWlnaHQgKyB0aGlzLnZpc2libGVZIC0gdGhpcy52aXNpYmxlSGVpZ2h0IC8gMiAtIHRoaXMuUk9JX3k7IC8vIOiuoeeul+mAieaLqeS9jee9rueahHnlnZDmoIcKCiAgICAgICAgaWYgKHRoaXMuc2VsZWN0U3RhclggPj0gMCAmJiB0aGlzLnNlbGVjdFN0YXJYIDwgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoICYmIHRoaXMuc2VsZWN0U3RhclkgPj0gMCAmJiB0aGlzLnNlbGVjdFN0YXJZIDwgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdTZWxlY3QgU3RhciBpcyBpbiBST0knLCAnaW5mbycpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdTZWxlY3QgU3RhciBpcyBub3QgaW4gUk9JJywgJ2Vycm9yJyk7CiAgICAgICAgICB0aGlzLnNlbGVjdFN0YXJYID0gLTE7CiAgICAgICAgICB0aGlzLnNlbGVjdFN0YXJZID0gLTE7CiAgICAgICAgfQoKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ3NlbmRTZWxlY3RTdGFyczonICsgdGhpcy5zZWxlY3RTdGFyWCArICc6JyArIHRoaXMuc2VsZWN0U3RhclkpOwogICAgICB9CgogICAgICB0aGlzLmRyYXdJbWFnZURhdGEoKTsKICAgIH0sCiAgICBoYW5kbGVUb3VjaFN0YXJ0OiBmdW5jdGlvbiBoYW5kbGVUb3VjaFN0YXJ0KGV2ZW50KSB7CiAgICAgIGlmICh0aGlzLmRyYXdJbWdEYXRhID09IG51bGwpIHJldHVybjsgLy8gdGhpcy5TZW5kQ29uc29sZUxvZ01zZygn6Kem5Y+R6Kem5pG45byA5aeL5LqL5Lu2OicsICdpbmZvJyk7CgogICAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDEpIHsKICAgICAgICAvLyDljZXmjIfop6bmkbjvvIzlvIDlp4vmi5bliqgKICAgICAgICB0aGlzLmlzT25lVG91Y2ggPSB0cnVlOyAvLyB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCfop6blj5HljZXmjIfop6bmkbjkuovku7YnLCAnaW5mbycpOwoKICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlOwogICAgICAgIHRoaXMuc3RhcnRUb3VjaFhbMF0gPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFg7CiAgICAgICAgdGhpcy5zdGFydFRvdWNoWVswXSA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WTsKICAgICAgICB0aGlzLmN1cnJlbnRUb3VjaFhbMF0gPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFg7CiAgICAgICAgdGhpcy5jdXJyZW50VG91Y2hZWzBdID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZOyAvLyDmuIXpmaTlj6/og73lrZjlnKjnmoTlj4zmjIfop6bmkbjnmoTlrprml7blmagKCiAgICAgICAgaWYgKHRoaXMuem9vbUludGVydmFsSWQpIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy56b29tSW50ZXJ2YWxJZCk7CiAgICAgICAgICB0aGlzLnpvb21JbnRlcnZhbElkID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIHRoaXMuaGFuZGxlTWFpbkNhbnZhc1RvdWNoKGV2ZW50KTsKICAgICAgfSBlbHNlIGlmIChldmVudC50b3VjaGVzLmxlbmd0aCA+PSAyKSB7CiAgICAgICAgLy8g5Y+M5oyH6Kem5pG477yM5byA5aeL57yp5pS+CiAgICAgICAgdGhpcy5pc09uZVRvdWNoID0gZmFsc2U7IC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+inpuWPkeWPjOaMh+inpuaRuOS6i+S7ticsICdpbmZvJyk7CgogICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7IC8vIOiuoeeul+S4pOS4quinpuaRuOeCueS5i+mXtOeahOi3neemuwoKICAgICAgICB2YXIgZHggPSB0aGlzLmN1cnJlbnRUb3VjaFhbMF0gLSB0aGlzLmN1cnJlbnRUb3VjaFhbMV07CiAgICAgICAgdmFyIGR5ID0gdGhpcy5jdXJyZW50VG91Y2hZWzBdIC0gdGhpcy5jdXJyZW50VG91Y2hZWzFdOwogICAgICAgIHRoaXMuc3RhcnRUb3VjaERpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTsgLy8g5riF6Zmk5Y+v6IO95a2Y5Zyo55qE5Y2V5oyH6Kem5pG455qE5a6a5pe25ZmoCgogICAgICAgIGlmICh0aGlzLm1vdmVJbnRlcnZhbElkKSB7CiAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMubW92ZUludGVydmFsSWQpOwogICAgICAgICAgdGhpcy5tb3ZlSW50ZXJ2YWxJZCA9IG51bGw7CiAgICAgICAgfQogICAgICB9IGVsc2Ugey8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+inpuWPkeWkmuaMh+inpuaRuOS6i+S7tu+8jOiOt+WPluW9k+WJjeinpuaRuOeCueaVsOmHjzonICsgZXZlbnQudG91Y2hlcy5sZW5ndGgsICdpbmZvJyk7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVUb3VjaE1vdmU6IGZ1bmN0aW9uIGhhbmRsZVRvdWNoTW92ZShldmVudCkgewogICAgICB2YXIgX3RoaXMyNCA9IHRoaXM7CgogICAgICAvLyB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCfop6blj5Hop6bmkbjnp7vliqjkuovku7Y6JywgJ2luZm8nKTsKICAgICAgaWYgKCF0aGlzLmlzRHJhZ2dpbmcgfHwgdGhpcy5kcmF3SW1nRGF0YSA9PSBudWxsKSByZXR1cm47CgogICAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPT0gMSkgewogICAgICAgIHRoaXMuY3VycmVudFRvdWNoWFswXSA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WDsKICAgICAgICB0aGlzLmN1cnJlbnRUb3VjaFlbMF0gPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFk7CgogICAgICAgIGlmICh0aGlzLnpvb21JbnRlcnZhbElkKSB7CiAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuem9vbUludGVydmFsSWQpOwogICAgICAgICAgdGhpcy56b29tSW50ZXJ2YWxJZCA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5tb3ZlSW50ZXJ2YWxJZCAhPSBudWxsKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSAvLyDorr7nva7kuIDkuKrlrprml7blmajvvIzmr48xMDBtc+aJp+ihjOS4gOasoeinpuaRuOenu+WKqOeahOmAu+i+kQoKCiAgICAgICAgdGhpcy5tb3ZlSW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCfmiafooYzop6bmkbjnp7vliqghJyk7CiAgICAgICAgICBpZiAoIV90aGlzMjQuaXNEcmFnZ2luZyB8fCAhX3RoaXMyNC5pc09uZVRvdWNoKSByZXR1cm47CiAgICAgICAgICB2YXIgZHggPSBfdGhpczI0LnN0YXJ0VG91Y2hYWzBdIC0gX3RoaXMyNC5jdXJyZW50VG91Y2hYWzBdOwogICAgICAgICAgdmFyIGR5ID0gX3RoaXMyNC5zdGFydFRvdWNoWVswXSAtIF90aGlzMjQuY3VycmVudFRvdWNoWVswXTsKCiAgICAgICAgICBpZiAoaXNOYU4oZHgpIHx8IGlzTmFOKGR5KSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGR4ID09IDAgJiYgZHkgPT0gMCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIG5ld1Zpc2libGVYID0gX3RoaXMyNC52aXNpYmxlWCArIGR4IC8gd2luZG93LmlubmVyV2lkdGggKiBfdGhpczI0LnZpc2libGVXaWR0aDsKICAgICAgICAgIHZhciBuZXdWaXNpYmxlWSA9IF90aGlzMjQudmlzaWJsZVkgKyBkeSAvIHdpbmRvdy5pbm5lckhlaWdodCAqIF90aGlzMjQudmlzaWJsZUhlaWdodDsKCiAgICAgICAgICBpZiAobmV3VmlzaWJsZVggPCAwKSB7CiAgICAgICAgICAgIG5ld1Zpc2libGVYID0gMDsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAobmV3VmlzaWJsZVkgPCAwKSB7CiAgICAgICAgICAgIG5ld1Zpc2libGVZID0gMDsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAobmV3VmlzaWJsZVggPiBfdGhpczI0Lm1haW5DYW1lcmFTaXplWCkgewogICAgICAgICAgICBuZXdWaXNpYmxlWCA9IF90aGlzMjQubWFpbkNhbWVyYVNpemVYOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChuZXdWaXNpYmxlWSA+IF90aGlzMjQubWFpbkNhbWVyYVNpemVZKSB7CiAgICAgICAgICAgIG5ld1Zpc2libGVZID0gX3RoaXMyNC5tYWluQ2FtZXJhU2l6ZVk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMyNC52aXNpYmxlWCA9IG5ld1Zpc2libGVYOwogICAgICAgICAgX3RoaXMyNC52aXNpYmxlWSA9IG5ld1Zpc2libGVZOwogICAgICAgICAgX3RoaXMyNC5zdGFydFRvdWNoWFswXSA9IF90aGlzMjQuY3VycmVudFRvdWNoWFswXTsKICAgICAgICAgIF90aGlzMjQuc3RhcnRUb3VjaFlbMF0gPSBfdGhpczI0LmN1cnJlbnRUb3VjaFlbMF07CgogICAgICAgICAgX3RoaXMyNC5kcmF3SW1hZ2VEYXRhKCk7CiAgICAgICAgfSwgMTAwKTsKICAgICAgfSBlbHNlIGlmIChldmVudC50b3VjaGVzLmxlbmd0aCA+PSAyKSB7CiAgICAgICAgdGhpcy5jdXJyZW50VG91Y2hYWzBdID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYOwogICAgICAgIHRoaXMuY3VycmVudFRvdWNoWVswXSA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WTsKICAgICAgICB0aGlzLmN1cnJlbnRUb3VjaFhbMV0gPSBldmVudC50b3VjaGVzWzFdLmNsaWVudFg7CiAgICAgICAgdGhpcy5jdXJyZW50VG91Y2hZWzFdID0gZXZlbnQudG91Y2hlc1sxXS5jbGllbnRZOyAvLyDmuIXpmaTlj6/og73lrZjlnKjnmoTljZXmjIfop6bmkbjnmoTlrprml7blmagKCiAgICAgICAgaWYgKHRoaXMubW92ZUludGVydmFsSWQpIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5tb3ZlSW50ZXJ2YWxJZCk7CiAgICAgICAgICB0aGlzLm1vdmVJbnRlcnZhbElkID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLnpvb21JbnRlcnZhbElkICE9IG51bGwpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IC8vIOiuvue9ruS4gOS4quWumuaXtuWZqO+8jOavjzEwMG1z5omn6KGM5LiA5qyh57yp5pS+6YC76L6RCgoKICAgICAgICB0aGlzLnpvb21JbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKCFfdGhpczI0LmlzRHJhZ2dpbmcgfHwgIV90aGlzMjQuaXNPbmVUb3VjaCkgcmV0dXJuOwogICAgICAgICAgdmFyIGR4ID0gX3RoaXMyNC5jdXJyZW50VG91Y2hYWzBdIC0gX3RoaXMyNC5jdXJyZW50VG91Y2hYWzFdOwogICAgICAgICAgdmFyIGR5ID0gX3RoaXMyNC5jdXJyZW50VG91Y2hZWzBdIC0gX3RoaXMyNC5jdXJyZW50VG91Y2hZWzFdOwogICAgICAgICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTsKCiAgICAgICAgICBfdGhpczI0LlNlbmRDb25zb2xlTG9nTXNnKCfot53nprvlj5jljJYgZGlzdGFuY2U6JyArIGRpc3RhbmNlLCAnaW5mbycpOwoKICAgICAgICAgIGlmIChfdGhpczI0LnN0YXJ0VG91Y2hEaXN0YW5jZSA9PSAwKSB7CiAgICAgICAgICAgIF90aGlzMjQuc3RhcnRUb3VjaERpc3RhbmNlID0gZGlzdGFuY2U7CiAgICAgICAgICB9IC8vIOiuoeeul+e8qeaUvuavlOS+i+eahOWPmOWMlumHjwoKCiAgICAgICAgICB2YXIgc2NhbGVDaGFuZ2UgPSBkaXN0YW5jZSAvIF90aGlzMjQuc3RhcnRUb3VjaERpc3RhbmNlOwoKICAgICAgICAgIF90aGlzMjQuU2VuZENvbnNvbGVMb2dNc2coJ+i3neemu+WPmOWMluavlOS+iyBzY2FsZUNoYW5nZTonICsgc2NhbGVDaGFuZ2UsICdpbmZvJyk7CgogICAgICAgICAgdmFyIG5ld1NjYWxlID0gX3RoaXMyNC5zY2FsZSAqIHNjYWxlQ2hhbmdlOyAvLyDmm7TmlrDnvKnmlL7mr5TkvosKCiAgICAgICAgICBpZiAobmV3U2NhbGUgPCAwLjEpIHsKICAgICAgICAgICAgbmV3U2NhbGUgPSAwLjE7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKG5ld1NjYWxlID4gMSkgewogICAgICAgICAgICBuZXdTY2FsZSA9IDE7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKG5ld1NjYWxlICE9IF90aGlzMjQuc2NhbGUpIHsKICAgICAgICAgICAgX3RoaXMyNC5TZW5kQ29uc29sZUxvZ01zZygn57yp5pS+5q+U5L6L5Y+Y5YyWLOe8qeaUvuavlOS+izonICsgbmV3U2NhbGUsICdpbmZvJyk7CgogICAgICAgICAgICBfdGhpczI0LnNjYWxlID0gbmV3U2NhbGU7IC8vIOabtOaWsOe8qeaUvuavlOS+iwoKICAgICAgICAgICAgX3RoaXMyNC4kYnVzLiRlbWl0KCdzZXRTY2FsZScsIF90aGlzMjQuc2NhbGUpOwoKICAgICAgICAgICAgX3RoaXMyNC5kcmF3SW1hZ2VEYXRhKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczI0LlNlbmRDb25zb2xlTG9nTXNnKCfnvKnmlL7mr5TkvovmsqHmnInlj5jljJYs57yp5pS+5q+U5L6LOicgKyBfdGhpczI0LnNjYWxlLCAnaW5mbycpOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzMjQuc3RhcnRUb3VjaERpc3RhbmNlID0gZGlzdGFuY2U7IC8vIOabtOaWsOS4pOS4quinpuaRuOeCueS5i+mXtOeahOi3neemuwogICAgICAgIH0sIDEwMCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygn6Kem5Y+R5aSa5oyH6Kem5pG45LqL5Lu277yM6I635Y+W5b2T5YmN6Kem5pG454K55pWw6YePOicgKyBldmVudC50b3VjaGVzLmxlbmd0aCwgJ2luZm8nKTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZVRvdWNoRW5kOiBmdW5jdGlvbiBoYW5kbGVUb3VjaEVuZChldmVudCkgewogICAgICAvLyB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCfop6blj5Hop6bmkbjnu5PmnZ/kuovku7Y6JywgJ2luZm8nKTsKICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7IC8vIOWBnOatouaLluWKqAogICAgICAvLyDmuIXpmaTlrprml7blmagKCiAgICAgIGlmICh0aGlzLm1vdmVJbnRlcnZhbElkKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLm1vdmVJbnRlcnZhbElkKTsKICAgICAgICB0aGlzLm1vdmVJbnRlcnZhbElkID0gbnVsbDsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuem9vbUludGVydmFsSWQpIHsKICAgICAgICBjbGVhckludGVydmFsKHRoaXMuem9vbUludGVydmFsSWQpOwogICAgICAgIHRoaXMuem9vbUludGVydmFsSWQgPSBudWxsOwogICAgICB9CiAgICB9LAogICAgU2NhbGVDaGFuZ2U6IGZ1bmN0aW9uIFNjYWxlQ2hhbmdlKHR5cGUpIHsKICAgICAgaWYgKHRoaXMuZHJhd0ltZ0RhdGEgPT0gbnVsbCkgcmV0dXJuOwoKICAgICAgaWYgKHR5cGUgPT0gJysnKSB7CiAgICAgICAgdGhpcy5zY2FsZSAtPSAwLjE7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnLScpIHsKICAgICAgICB0aGlzLnNjYWxlICs9IDAuMTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuc2NhbGUgPCAwLjEpIHsKICAgICAgICB0aGlzLnNjYWxlID0gMC4xOwogICAgICB9CgogICAgICBpZiAodGhpcy5zY2FsZSA+IDEpIHsKICAgICAgICB0aGlzLnNjYWxlID0gMTsKICAgICAgfQoKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdzZXRTY2FsZScsIHRoaXMuc2NhbGUpOwogICAgICB0aGlzLmRyYXdJbWFnZURhdGEoKTsKICAgIH0sCiAgICAvLyDmmL7npLpST0nlm77lg48KICAgIHNob3dSb2lJbWFnZTogZnVuY3Rpb24gc2hvd1JvaUltYWdlKGZpbGVOYW1lLCBkZXN0WCwgZGVzdFkpIHsKICAgICAgdmFyIF90aGlzMjUgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuUmVkQm94U2lkZUxlbmd0aCA9PSAwIHx8IHRoaXMuUmVkQm94U2lkZUxlbmd0aCA9PSBudWxsKSB7CiAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnUmVkQm94U2lkZUxlbmd0aCBpcyAwIG9yIG51bGwnLCAnZXJyb3InKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmlzUHJvY2Vzc2luZ0ltYWdlKSB7CiAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnSW1hZ2UgaXMgYmVpbmcgdHJhbnNtaXR0ZWQsIGN1cnJlbnQgcHJvY2Vzc2luZyBpcyBzbG93LCBza2lwcGluZyBvbmUgZnJhbWUuJywgJ3dhcm5pbmcnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuaXNQcm9jZXNzaW5nSW1hZ2UgPSB0cnVlOwogICAgICB2YXIgaW1hZ2VQYXRoID0gJ2ltZy8nICsgZmlsZU5hbWU7IC8vIOWIm+W7uuS4gOS4qkFib3J0Q29udHJvbGxlcuWunuS+i+adpeWPlua2iGZldGNo6K+35rGCCgogICAgICB2YXIgZmV0Y2hDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpOwogICAgICB2YXIgZmV0Y2hTaWduYWwgPSBmZXRjaENvbnRyb2xsZXIuc2lnbmFsOyAvLyDkvb/nlKggZmV0Y2ggQVBJIOiOt+WPluS6jOi/m+WItuaVsOaNrgoKICAgICAgZmV0Y2goaW1hZ2VQYXRoLCB7CiAgICAgICAgY2FjaGU6ICduby1zdG9yZScsCiAgICAgICAgc2lnbmFsOiBmZXRjaFNpZ25hbAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiByZXNwb25zZS5hcnJheUJ1ZmZlcigpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChidWZmZXIpIHsKICAgICAgICB2YXIgc3JjLCBvcmlnaW5hbEltZzgsIGltZ0RhdGEsIGF3YkltZzsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIHZhciB1aW50MTZBcnJheSA9IG5ldyBVaW50MTZBcnJheShidWZmZXIpOyAvLyDliJvlu7rkuIDkuKrnqbrnmoQgTWF0IOWvueixoQoKICAgICAgICAgIHNyYyA9IG5ldyBjdi5NYXQoX3RoaXMyNS5SZWRCb3hTaWRlTGVuZ3RoLCBfdGhpczI1LlJlZEJveFNpZGVMZW5ndGgsIGN2LkNWXzE2VUMxKTsKICAgICAgICAgIHNyYy5kYXRhMTZVLnNldCh1aW50MTZBcnJheSk7CiAgICAgICAgICBjdi5jdnRDb2xvcihzcmMsIHNyYywgX3RoaXMyNS5sYXN0SW1hZ2VQcm9jZXNzUGFyYW1zLmN2bW9kZSk7CiAgICAgICAgICBvcmlnaW5hbEltZzggPSBfdGhpczI1LkJpdDE2VG84X1N0cmV0Y2goc3JjLCBfdGhpczI1Lmxhc3RJbWFnZVByb2Nlc3NQYXJhbXMuQiwgX3RoaXMyNS5sYXN0SW1hZ2VQcm9jZXNzUGFyYW1zLlcpOwogICAgICAgICAgc3JjLmRlbGV0ZSgpOyAvLyDph4rmlL7ljp/lp4vnmoQgTWF0IOWvueixoQoKICAgICAgICAgIHNyYyA9IG51bGw7IC8vIOa3u+WKoOi/meihjOS7o+egge+8jOehruS/nSBzcmMg5a+56LGh6KKr5riF55CGCgogICAgICAgICAgYXdiSW1nID0gX3RoaXMyNS5JbWFnZVNvZnRBV0Iob3JpZ2luYWxJbWc4LCBfdGhpczI1Lmxhc3RJbWFnZVByb2Nlc3NQYXJhbXMuZ2FpblIsIF90aGlzMjUubGFzdEltYWdlUHJvY2Vzc1BhcmFtcy5nYWluQiwgX3RoaXMyNS5sYXN0SW1hZ2VQcm9jZXNzUGFyYW1zLm9mZnNldCk7CiAgICAgICAgICBvcmlnaW5hbEltZzguZGVsZXRlKCk7IC8vIOmHiuaUviBNYXQg5a+56LGhCgogICAgICAgICAgb3JpZ2luYWxJbWc4ID0gbnVsbDsgLy8g5re75Yqg6L+Z6KGM5Luj56CB77yM56Gu5L+dIG9yaWdpbmFsSW1nOCDlr7nosaHooqvmuIXnkIYKICAgICAgICAgIC8vIOWwhiBNYXQg5a+56LGh6L2s5o2i5ZueIEltYWdlRGF0YSDlr7nosaEKCiAgICAgICAgICBpbWdEYXRhID0gbmV3IEltYWdlRGF0YShuZXcgVWludDhDbGFtcGVkQXJyYXkoYXdiSW1nLmRhdGEpLCBhd2JJbWcuY29scywgYXdiSW1nLnJvd3MpOwogICAgICAgICAgYXdiSW1nLmRlbGV0ZSgpOyAvLyDph4rmlL4gTWF0IOWvueixoQoKICAgICAgICAgIGF3YkltZyA9IG51bGw7IC8vIOa3u+WKoOi/meihjOS7o+egge+8jOehruS/nSBhd2JJbWcg5a+56LGh6KKr5riF55CGCiAgICAgICAgICAvLyDlnKjmjIflrprkvY3nva7lvIDlp4vnu5jliLblm77lg48KCiAgICAgICAgICBfdGhpczI1LmJ1ZmZlckN0eC5jbGVhclJlY3QoX3RoaXMyNS5ST0lfeCwgX3RoaXMyNS5ST0lfeSwgX3RoaXMyNS5SZWRCb3hTaWRlTGVuZ3RoLCBfdGhpczI1LlJlZEJveFNpZGVMZW5ndGgpOwoKICAgICAgICAgIF90aGlzMjUuYnVmZmVyQ3R4LnB1dEltYWdlRGF0YShpbWdEYXRhLCBfdGhpczI1LlJPSV94LCBfdGhpczI1LlJPSV95KTsgLy8gdGhpcy5TZW5kQ29uc29sZUxvZ01zZygn57uY5Yi25LiA5qyhUk9J5pWw5o2uOicgKyBmaWxlTmFtZSArICc6JyArIHRoaXMuUk9JX3ggKyAnOicgKyB0aGlzLlJPSV95LCAnaW5mbycpOwoKCiAgICAgICAgICBfdGhpczI1LmRyYXdJbWFnZURhdGEoKTsKCiAgICAgICAgICBfdGhpczI1LmZvY3VzZXJQaWN0dXJlRmlsZU5hbWUgPSBmaWxlTmFtZTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5lcnJvcigiXHU1OTA0XHU3NDA2XHU1NkZFXHU1MENGXHU1OTMxXHU4RDI1OiAiLmNvbmNhdChpbWFnZVBhdGgpLCBlcnJvcik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIC8vIOehruS/nSBNYXQg5a+56LGh5ZKMIEltYWdlRGF0YSDlr7nosaHooqvliKDpmaQKICAgICAgICAgIGlmIChzcmMgJiYgIXNyYy5pc0RlbGV0ZWQoKSkgewogICAgICAgICAgICBzcmMuZGVsZXRlKCk7CiAgICAgICAgICAgIHNyYyA9IG51bGw7IC8vIOa3u+WKoOi/meihjOS7o+egge+8jOehruS/nSBzcmMg5a+56LGh6KKr5riF55CGCiAgICAgICAgICB9CgogICAgICAgICAgaWYgKG9yaWdpbmFsSW1nOCAmJiAhb3JpZ2luYWxJbWc4LmlzRGVsZXRlZCgpKSB7CiAgICAgICAgICAgIG9yaWdpbmFsSW1nOC5kZWxldGUoKTsKICAgICAgICAgICAgb3JpZ2luYWxJbWc4ID0gbnVsbDsgLy8g5re75Yqg6L+Z6KGM5Luj56CB77yM56Gu5L+dIG9yaWdpbmFsSW1nOCDlr7nosaHooqvmuIXnkIYKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoYXdiSW1nICYmICFhd2JJbWcuaXNEZWxldGVkKCkpIHsKICAgICAgICAgICAgYXdiSW1nLmRlbGV0ZSgpOwogICAgICAgICAgICBhd2JJbWcgPSBudWxsOyAvLyDmt7vliqDov5nooYzku6PnoIHvvIznoa7kv50gYXdiSW1nIOWvueixoeiiq+a4heeQhgogICAgICAgICAgfSAvLyDnoa7kv50gYnVmZmVyIOiiq+a4heeQhgoKCiAgICAgICAgICBidWZmZXIgPSBudWxsOwogICAgICAgICAgX3RoaXMyNS5pc1Byb2Nlc3NpbmdJbWFnZSA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgaWYgKGVycm9yLm5hbWUgPT09ICdBYm9ydEVycm9yJykgewogICAgICAgICAgY29uc29sZS5sb2coJ0ZldGNoIHJlcXVlc3QgY2FuY2VsbGVkJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIlx1ODNCN1x1NTNENlx1NTZGRVx1NTBDRlx1NTkzMVx1OEQyNTogIi5jb25jYXQoaW1hZ2VQYXRoKSwgZXJyb3IpOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMyNS5pc1Byb2Nlc3NpbmdJbWFnZSA9IGZhbHNlOwogICAgICB9KTsgLy8g5Zyo57uE5Lu25Y246L295pe25Y+W5raIIGZldGNoIOivt+axggoKICAgICAgdGhpcy4kb25jZSgnaG9vazpiZWZvcmVEZXN0cm95JywgZnVuY3Rpb24gKCkgewogICAgICAgIGZldGNoQ29udHJvbGxlci5hYm9ydCgpOwogICAgICB9KTsKICAgIH0sCiAgICBzZXRSZWRCb3hTdGF0ZTogZnVuY3Rpb24gc2V0UmVkQm94U3RhdGUobGVuZ3RoLCB4LCB5KSB7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ3NldFJlZEJveFN0YXRlOicgKyBsZW5ndGggKyAnLCcgKyB4ICsgJywnICsgeSwgJ2luZm8nKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdzZXRSZWRCb3hQb3NpdGlvbicsIHgsIHkpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ3NldFJlZEJveFNpZGVMZW5ndGgnLCBsZW5ndGgpOwogICAgfSwKICAgIHNldEZvY3VzZXJTdGF0ZTogZnVuY3Rpb24gc2V0Rm9jdXNlclN0YXRlKHN0YXRlKSB7CiAgICAgIGlmIChzdGF0ZSA9PT0gJ3NlbGVjdHN0YXJzJykgewogICAgICAgIHRoaXMuaXNGb2N1c0xvb3BTaG9vdGluZyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc0ZvY3VzTG9vcFNob290aW5nID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBzZXRTaG93U2VsZWN0U3RhcjogZnVuY3Rpb24gc2V0U2hvd1NlbGVjdFN0YXIoc3RhdGUpIHsKICAgICAgdGhpcy5zaG93U2VsZWN0U3RhciA9IHN0YXRlOwogICAgfSwKICAgIFJlZEJveFNpemVDaGFuZ2U6IGZ1bmN0aW9uIFJlZEJveFNpemVDaGFuZ2UobGVuZ3RoKSB7CiAgICAgIHRoaXMuUmVkQm94U2lkZUxlbmd0aCA9IHBhcnNlSW50KGxlbmd0aCk7CiAgICB9LAogICAgc2V0TWFpbkNhbWVyYVBhcmFtZXRlcnM6IGZ1bmN0aW9uIHNldE1haW5DYW1lcmFQYXJhbWV0ZXJzKHBhcmFtZXRlcnMpIHsKICAgICAgdmFyIF90aGlzMjYgPSB0aGlzOwoKICAgICAgdmFyIF9sb29wMiA9IGZ1bmN0aW9uIF9sb29wMihwYXJhbWV0ZXIpIHsKICAgICAgICB2YXIgaXRlbSA9IF90aGlzMjYuTWFpbkNhbWVyYUNvbmZpZ0l0ZW1zLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLmxhYmVsID09PSBwYXJhbWV0ZXI7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgICBpdGVtLnZhbHVlID0gcGFyYW1ldGVyc1twYXJhbWV0ZXJdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAocGFyYW1ldGVyID09ICdSZWRCb3hTaXplJykgewogICAgICAgICAgICBfdGhpczI2LiRidXMuJGVtaXQoJ3NldFJlZEJveFNpZGVMZW5ndGgnLCBwYXJhbWV0ZXJzW3BhcmFtZXRlcl0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigiXHU2NzJBXHU2MjdFXHU1MjMwXHU1M0MyXHU2NTcwXHVGRjFBIi5jb25jYXQocGFyYW1ldGVyKSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwoKICAgICAgZm9yICh2YXIgcGFyYW1ldGVyIGluIHBhcmFtZXRlcnMpIHsKICAgICAgICBfbG9vcDIocGFyYW1ldGVyKTsKICAgICAgfQoKICAgICAgdGhpcy5jb25maXJtQ29uZmlndXJhdGlvbih0aGlzLk1haW5DYW1lcmFDb25maWdJdGVtcyk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgbmF2OiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIGNvbnNvbGUubG9nKCduYXY6JywgdGhpcy4kc3RvcmUuc3RhdGUuc2hvd05hdmlnYXRpb25EcmF3ZXIpOwogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5zaG93TmF2aWdhdGlvbkRyYXdlcjsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodikgewogICAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5zaG93TmF2aWdhdGlvbkRyYXdlciAhPT0gdikgewogICAgICAgICAgY29uc29sZS5sb2coJ25hdjonLCB0aGlzLiRzdG9yZS5zdGF0ZS5zaG93TmF2aWdhdGlvbkRyYXdlcik7CiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3RvZ2dsZUJvb2wnLCAnc2hvd05hdmlnYXRpb25EcmF3ZXInKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBzdG9yZUN1cnJlbnRMb2NhdGlvbjogZnVuY3Rpb24gc3RvcmVDdXJyZW50TG9jYXRpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5jdXJyZW50TG9jYXRpb247CiAgICB9LAogICAgZ2V0UVRDbGllbnRWZXJzaW9uQ29sb3I6IGZ1bmN0aW9uIGdldFFUQ2xpZW50VmVyc2lvbkNvbG9yKCkgewogICAgICBpZiAodGhpcy5RVENsaWVudFZlcnNpb24gPT09ICdOb3QgY29ubmVjdGVkJykgewogICAgICAgIHJldHVybiAncmdiYSgyNTUsIDAsIDAsIDAuNSknOyAvLyDnuqLoibLvvIzpgI/mmI7luqYgMC41CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSknOyAvLyDpu5jorqTnmb3oibLvvIzpgI/mmI7luqYgMC41CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBzdG9yZUN1cnJlbnRMb2NhdGlvbjogZnVuY3Rpb24gc3RvcmVDdXJyZW50TG9jYXRpb24obG9jKSB7CiAgICAgIHZhciBERDJSID0gTWF0aC5QSSAvIDE4MDsKICAgICAgdGhpcy4kc3RlbC5jb3JlLm9ic2VydmVyLmxhdGl0dWRlID0gbG9jLmxhdCAqIEREMlI7CiAgICAgIHRoaXMuJHN0ZWwuY29yZS5vYnNlcnZlci5sb25naXR1ZGUgPSBsb2MubG5nICogREQyUjsKICAgICAgdGhpcy4kc3RlbC5jb3JlLm9ic2VydmVyLmVsZXZhdGlvbiA9IGxvYy5hbHQ7IC8vIEF0IHN0YXJ0dXAsIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIGxvY2F0aW9uIHRvIGJlIHNldCBiZWZvcmUgZGVjaWRpbmcgd2hpY2gKICAgICAgLy8gc3RhcnR1cCB0aW1lIHRvIHNldCBzbyB0aGF0IGl0J3MgbmlnaHQgdGltZS4KCiAgICAgIGlmICghdGhpcy5zdGFydFRpbWVJc1NldCkgewogICAgICAgIHRoaXMuJHN0ZWwuY29yZS5vYnNlcnZlci51dGMgPSBzd2guZ2V0VGltZUFmdGVyU3Vuc2V0KHRoaXMuJHN0ZWwpOwogICAgICAgIHRoaXMuc3RhcnRUaW1lSXNTZXQgPSB0cnVlOwogICAgICB9IC8vIEluaXQgb2YgdGltZSBhbmQgZGF0ZSBpcyBjb21wbGV0ZQoKCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0VmFsdWUnLCB7CiAgICAgICAgdmFyTmFtZTogJ2luaXRDb21wbGV0ZScsCiAgICAgICAgbmV3VmFsdWU6IHRydWUKICAgICAgfSk7CiAgICB9LAogICAgJHJvdXRlOiBmdW5jdGlvbiAkcm91dGUoKSB7CiAgICAgIC8vIHJlYWN0IHRvIHJvdXRlIGNoYW5nZXMuLi4KICAgICAgdGhpcy5zZXRTdGF0ZUZyb21RdWVyeUFyZ3MoKTsKICAgIH0sCiAgICBDdXJyZW50RHJpdmVyVHlwZTogZnVuY3Rpb24gQ3VycmVudERyaXZlclR5cGUobmV3VmFsKSB7CiAgICAgIC8vIOW9kyBDdXJyZW50RHJpdmVyVHlwZSDlj5jljJbml7bvvIzmm7TmlrAgc2VsZWN0ZWREcml2ZXIKICAgICAgdGhpcy51cGRhdGVTZWxlY3RlZERyaXZlcihuZXdWYWwpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczI3ID0gdGhpczsKCiAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICB0aGlzLmdldExvY2F0aW9uSG9zdE5hbWUoKTsKICAgIHRoaXMubG9hZEltYWdlVG9DYW52YXNNYWluQ2FtZXJhKCk7CiAgICB0aGlzLmxvYWRJbWFnZVRvQ2FudmFzR3VpZGVyQ2FtZXJhKCk7CiAgICB0aGlzLmluaXRDYW52YXMoKTsKICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTsKCiAgICBmb3IgKHZhciBpIGluIHRoaXMuJHN0ZWxsYXJpdW1XZWJQbHVnaW5zKCkpIHsKICAgICAgdmFyIHBsdWdpbiA9IHRoaXMuJHN0ZWxsYXJpdW1XZWJQbHVnaW5zKClbaV07CgogICAgICBpZiAocGx1Z2luLm9uQXBwTW91bnRlZCkgewogICAgICAgIHBsdWdpbi5vbkFwcE1vdW50ZWQodGhhdCk7CiAgICAgIH0KICAgIH0KCiAgICB0aGlzLmNvbm5lY3QoKTsKICAgIHRoaXMuc2V0dXBOZXR3b3JrU3RhdHVzTGlzdGVuZXIoKTsgLy8g5L2/55SoIFByb21pc2Ug5qOA5p+lIE9wZW5DVi5qcyDmmK/lkKbliqDovb3lrozmiJAKCiAgICB0aGlzLmxvYWRPcGVuQ3YoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCFfdGhpczI3Ll9pc0Rlc3Ryb3llZCkgewogICAgICAgIC8vIOajgOafpee7hOS7tuaYr+WQpuW3sumUgOavgQogICAgICAgIGNvbnNvbGUubG9nKCdPcGVuQ1YuanMgaXMgcmVhZHknKTsKCiAgICAgICAgX3RoaXMyNy5vbkN2UmVhZHkoKTsgLy8g6LCD55SoIE9wZW5DViDlh4blpIflpb3nmoTlm57osIMKCiAgICAgIH0KICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIE9wZW5DVi5qczonLCBlcnJvcik7CiAgICB9KTsgLy8gY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CiAgICAvLyBzY3JpcHQuc3JjID0gJ2h0dHBzOi8vZG9jcy5vcGVuY3Yub3JnLzQuNS41L29wZW5jdi5qcyc7CiAgICAvLyBzY3JpcHQuYXN5bmMgPSB0cnVlOwogICAgLy8gc2NyaXB0Lm9ubG9hZCA9ICgpID0+IHRoaXMub25DdlJlYWR5KCk7CiAgICAvLyBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7CgogICAgaW1wb3J0KCdAL2Fzc2V0cy9qcy9zdGVsbGFyaXVtLXdlYi1lbmdpbmUud2FzbScpLnRoZW4oZnVuY3Rpb24gKGYpIHsKICAgICAgaWYgKCFfdGhpczI3Ll9pc0Rlc3Ryb3llZCkgewogICAgICAgIC8vIOWGjeasoeajgOafpee7hOS7tuaYr+WQpuW3sumUgOavgQogICAgICAgIC8vIEluaXRpYWxpemUgdGhlIFN0ZWxXZWJFbmdpbmUgdmlld2VyIHNpbmdsZXRvbgogICAgICAgIC8vIEFmdGVyIHRoaXMgY2FsbCwgdGhlIFN0ZWxXZWJFbmdpbmUgc3RhdGUgd2lsbCBhbHdheXMgYmUgYXZhaWxhYmxlIGluIHZ1ZXggc3RvcmUKICAgICAgICAvLyBpbiB0aGUgJHN0b3JlLnN0ZWwgb2JqZWN0IGluIGEgcmVhY3RpdmUgd2F5ICh1c2VmdWwgZm9yIHZ1ZSBjb21wb25lbnRzKS4KICAgICAgICAvLyBUbyBtb2RpZnkgdGhlIHN0YXRlIG9mIHRoZSBTdGVsV2ViRW5naW5lLCBpdCdzIGVub3VnaCB0byBjYWxsL3NldCB2YWx1ZXMgZGlyZWN0bHkgb24gdGhlICRzdGVsIG9iamVjdAogICAgICAgIHRyeSB7CiAgICAgICAgICBzd2guaW5pdFN0ZWxXZWJFbmdpbmUodGhhdC4kc3RvcmUsIGYuZGVmYXVsdCwgdGhhdC4kcmVmcy5zdGVsQ2FudmFzLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIFN0YXJ0IGF1dG8gbG9jYXRpb24gZGV0ZWN0aW9uIChldmVuIGlmIHdlIGRvbid0IHVzZSBpdCkKICAgICAgICAgICAgc3doLmdldEdlb2xvY2F0aW9uKCkudGhlbihmdW5jdGlvbiAocCkgewogICAgICAgICAgICAgIHJldHVybiBzd2guZ2VvQ29kZVBvc2l0aW9uKHAsIHRoYXQpOwogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChsb2MpIHsKICAgICAgICAgICAgICB0aGF0LiRzdG9yZS5jb21taXQoJ3NldEF1dG9EZXRlY3RlZExvY2F0aW9uJywgbG9jKTsKICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhhdC4kc3RlbC5zZXRGb250KCdyZWd1bGFyJywgcHJvY2Vzcy5lbnYuQkFTRV9VUkwgKyAnZm9udHMvUm9ib3RvLVJlZ3VsYXIudHRmJywgMS4zOCk7CiAgICAgICAgICAgIHRoYXQuJHN0ZWwuc2V0Rm9udCgnYm9sZCcsIHByb2Nlc3MuZW52LkJBU0VfVVJMICsgJ2ZvbnRzL1JvYm90by1Cb2xkLnR0ZicsIDEuMzgpOwogICAgICAgICAgICB0aGF0LiRzdGVsLmNvcmUuY29uc3RlbGxhdGlvbnMuc2hvd19vbmx5X3BvaW50ZWQgPSBmYWxzZTsKICAgICAgICAgICAgdGhhdC5zZXRTdGF0ZUZyb21RdWVyeUFyZ3MoKTsKICAgICAgICAgICAgdGhhdC5ndWlDb21wb25lbnQgPSAnR3VpJzsKCiAgICAgICAgICAgIGZvciAodmFyIF9pNyBpbiB0aGF0LiRzdGVsbGFyaXVtV2ViUGx1Z2lucygpKSB7CiAgICAgICAgICAgICAgdmFyIF9wbHVnaW4gPSB0aGF0LiRzdGVsbGFyaXVtV2ViUGx1Z2lucygpW19pN107CgogICAgICAgICAgICAgIGlmIChfcGx1Z2luLm9uRW5naW5lUmVhZHkpIHsKICAgICAgICAgICAgICAgIF9wbHVnaW4ub25FbmdpbmVSZWFkeSh0aGF0KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghdGhhdC5kYXRhU291cmNlSW5pdERvbmUpIHsKICAgICAgICAgICAgICAvLyBTZXQgYWxsIGRlZmF1bHQgZGF0YSBzb3VyY2VzCiAgICAgICAgICAgICAgdmFyIGNvcmUgPSB0aGF0LiRzdGVsLmNvcmU7CiAgICAgICAgICAgICAgY29yZS5zdGFycy5hZGREYXRhU291cmNlKHsKICAgICAgICAgICAgICAgIHVybDogcHJvY2Vzcy5lbnYuQkFTRV9VUkwgKyAnc2t5ZGF0YS9zdGFycycKICAgICAgICAgICAgICB9KTsgLy8gQWxsb3cgdG8gc3BlY2lmeSBhIGN1c3RvbSBwYXRoIGZvciBza3kgY3VsdHVyZSBkYXRhCgogICAgICAgICAgICAgIGlmICh0aGF0LiRyb3V0ZS5xdWVyeS5zYykgewogICAgICAgICAgICAgICAgdmFyIGtleSA9IHRoYXQuJHJvdXRlLnF1ZXJ5LnNjLnN1YnN0cmluZyh0aGF0LiRyb3V0ZS5xdWVyeS5zYy5sYXN0SW5kZXhPZignLycpICsgMSk7CiAgICAgICAgICAgICAgICBjb3JlLnNreWN1bHR1cmVzLmFkZERhdGFTb3VyY2UoewogICAgICAgICAgICAgICAgICB1cmw6IHRoYXQuJHJvdXRlLnF1ZXJ5LnNjLAogICAgICAgICAgICAgICAgICBrZXk6IGtleQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjb3JlLnNreWN1bHR1cmVzLmN1cnJlbnRfaWQgPSBrZXk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvcmUuc2t5Y3VsdHVyZXMuYWRkRGF0YVNvdXJjZSh7CiAgICAgICAgICAgICAgICAgIHVybDogcHJvY2Vzcy5lbnYuQkFTRV9VUkwgKyAnc2t5ZGF0YS9za3ljdWx0dXJlcy93ZXN0ZXJuJywKICAgICAgICAgICAgICAgICAga2V5OiAnd2VzdGVybicKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY29yZS5kc29zLmFkZERhdGFTb3VyY2UoewogICAgICAgICAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5CQVNFX1VSTCArICdza3lkYXRhL2RzbycKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb3JlLmxhbmRzY2FwZXMuYWRkRGF0YVNvdXJjZSh7CiAgICAgICAgICAgICAgICB1cmw6IHByb2Nlc3MuZW52LkJBU0VfVVJMICsgJ3NreWRhdGEvbGFuZHNjYXBlcy9ndWVyZWlucycsCiAgICAgICAgICAgICAgICBrZXk6ICdndWVyZWlucycKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb3JlLm1pbGt5d2F5LmFkZERhdGFTb3VyY2UoewogICAgICAgICAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5CQVNFX1VSTCArICdza3lkYXRhL3N1cnZleXMvbWlsa3l3YXknCiAgICAgICAgICAgICAgfSk7IC8vIGNvcmUuZHNzLmFkZERhdGFTb3VyY2UoeyB1cmw6IHByb2Nlc3MuZW52LkJBU0VfVVJMICsgJ3NreWRhdGEvc3VydmV5cy9kc3MnIH0pCgogICAgICAgICAgICAgIGNvcmUubWlub3JfcGxhbmV0cy5hZGREYXRhU291cmNlKHsKICAgICAgICAgICAgICAgIHVybDogcHJvY2Vzcy5lbnYuQkFTRV9VUkwgKyAnc2t5ZGF0YS9tcGNvcmIuZGF0JywKICAgICAgICAgICAgICAgIGtleTogJ21wY19hc3Rlcm9pZHMnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY29yZS5wbGFuZXRzLmFkZERhdGFTb3VyY2UoewogICAgICAgICAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5CQVNFX1VSTCArICdza3lkYXRhL3N1cnZleXMvc3NvL21vb24nLAogICAgICAgICAgICAgICAga2V5OiAnbW9vbicKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb3JlLnBsYW5ldHMuYWRkRGF0YVNvdXJjZSh7CiAgICAgICAgICAgICAgICB1cmw6IHByb2Nlc3MuZW52LkJBU0VfVVJMICsgJ3NreWRhdGEvc3VydmV5cy9zc28vc3VuJywKICAgICAgICAgICAgICAgIGtleTogJ3N1bicKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb3JlLnBsYW5ldHMuYWRkRGF0YVNvdXJjZSh7CiAgICAgICAgICAgICAgICB1cmw6IHByb2Nlc3MuZW52LkJBU0VfVVJMICsgJ3NreWRhdGEvc3VydmV5cy9zc28vbW9vbicsCiAgICAgICAgICAgICAgICBrZXk6ICdkZWZhdWx0JwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNvcmUuY29tZXRzLmFkZERhdGFTb3VyY2UoewogICAgICAgICAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5CQVNFX1VSTCArICdza3lkYXRhL0NvbWV0RWxzLnR4dCcsCiAgICAgICAgICAgICAgICBrZXk6ICdtcGNfY29tZXRzJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNvcmUuc2F0ZWxsaXRlcy5hZGREYXRhU291cmNlKHsKICAgICAgICAgICAgICAgIHVybDogcHJvY2Vzcy5lbnYuQkFTRV9VUkwgKyAnc2t5ZGF0YS90bGVfc2F0ZWxsaXRlLmpzb25sLmd6JywKICAgICAgICAgICAgICAgIGtleTogJ2pzb25sL3NhdCcKICAgICAgICAgICAgICB9KTsgLy8gTW91bnQgUG9pbnRpbmcKCiAgICAgICAgICAgICAgZ2xTdGVsID0gdGhhdC5zZXRHbG9hYmFsU3RlbCh0aGF0LiRzdGVsKTsKICAgICAgICAgICAgICBnbExheWVyID0gdGhhdC5zZXRHbG9iYWxMYXllcih0aGF0LiRzdGVsKTsKICAgICAgICAgICAgICBnbFRlc3RDaXJjbGUgPSB0aGF0LnRlc3RBZGRDaXJjbGUodGhhdC4kc3RlbCwgZ2xMYXllcik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIF90aGlzMjcuJHN0b3JlLmNvbW1pdCgnc2V0VmFsdWUnLCB7CiAgICAgICAgICAgIHZhck5hbWU6ICd3YXNtU3VwcG9ydCcsCiAgICAgICAgICAgIG5ld1ZhbHVlOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["App.vue"],"names":[],"mappings":"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AAA,CAAA,QAAA,EAAA,UAAA,GAAA,CAAA,CAzGA;;AAAA;AAAA;AAAA;;AAAA;AA2GA,gBAAA,OAAA,CAAA,iBAAA,CAAA,uCAAA,EAAA,OAAA;;AA3GA;AAAA;AA8GA,gBAAA,OAAA,CAAA,kBAAA,GAAA,KAAA,CA9GA,CA8GA;;AA9GA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgHA,KA35DA;AA45DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAA,0BAjgEA,sCAigEA,GAjgEA,EAigEA;AACA,WAAA,IAAA,CAAA,KAAA,CAAA,0BAAA,EAAA,GAAA;AACA,KAngEA;AAqgEA,IAAA,kBArgEA,8BAqgEA,KArgEA,EAqgEA;AACA,WAAA,eAAA,GAAA,KAAA;AACA,KAvgEA;AAygEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA,IAAA,YA1jEA,wBA0jEA,QA1jEA,EA0jEA;AAAA;;AACA,UAAA;AACA,YAAA,cAAA,GAAA,IAAA,IAAA,EAAA,CADA,CACA;;AAEA,aAAA,iBAAA,CAAA,6CAAA,EAAA,MAAA;AACA,YA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A,CAAA,CAAA,GAAA,KAAA,CAAA,CAAA,GAAA,IAAA,IAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,KAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,KAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,KAAA,CAAA,CAAA;AACA,UAAA,CAAA,GAAA,IAAA,IAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,KAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,KAAA,CAAA,CAAA,GAAA,IAAA,IAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,KAAA,CAAA,CAAA,GAAA,IAAA,IAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,KAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,KAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,KAAA,CAAA,CAAA,GAAA,IAAA,IAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,KAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,KAAA,CAAA,CAAA;AACA,UAAA,CAAA,GAAA,IAAA,IAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,KAAA,CAAA,CAAA,GAAA,IAAA,IAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,KAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,KAAA,CAAA,CAAA,GAAA,IAAA,IAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,KAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,KAAA,CAAA,CAAA,GAAA,IAAA,IAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,KAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,GAAA,KAAA,CAAA,CAAA,GAAA,IAAA,CAA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","sourcesContent":["// Stellarium Web - Copyright (c) 2022 - Stellarium Labs SRL\n//\n// This program is licensed under the terms of the GNU AGPL v3, or\n// alternatively under a commercial licence.\n//\n// The terms of the AGPL v3 license can be found in the main directory of this\n// repository.\n\n<template>\n\n  <v-app>\n    <v-navigation-drawer v-model=\"drawer_2\" ref=\"Drawer_2\" app absolute temporary :width=\"DeviceIsConnected ? 200 : 200\"\n      style=\"left: 170px; backdrop-filter: blur(5px); background-color: rgba(0, 0, 0, 0.1);\">\n\n      <div v-show=\"isOpenDevicePage\">\n        <span\n          style=\"position: absolute; top: 0px; left: 50%; transform: translateX(-50%); font-size: 30px; color: rgba(255, 255, 255, 0.5); user-select: none;\">\n          {{ $t(CurrentDriverType) }}\n          <v-divider></v-divider>\n        </span>\n\n        <div :style=\"{ width: DeviceIsConnected ? '200px' : '200px' }\"\n          style=\"position: absolute; top: 50px; max-height: calc(100% - 95px); overflow-y: auto;\">\n\n          <div v-show=\"!DeviceIsConnected\" style=\"text-align: center;\">\n            <span style=\"display: inline-block; font-size: 15px; color: rgba(255, 255, 255, 0.5); user-select: none;\">\n              {{ $t('Device Connection') }}\n            </span>\n            <v-select :label=\"$t('Select Driver')\" :items=\"drivers\" item-text=\"label\" item-value=\"value\"\n              v-model=\"selectedDriver\" style=\"width: 150px; display: inline-block;\"></v-select>\n\n            <v-select v-if=\"CurrentDriverType === 'Mount' || CurrentDriverType === 'Focuser'\" :label=\"$t('Baud Rate')\"\n              :items=\"BaudRateItems\" item-text=\"label\" item-value=\"value\" v-model=\"BaudRateSelected\"\n              style=\"width: 150px; display: inline-block;\">\n            </v-select>\n\n            <v-row no-gutters>\n              <v-col cols=\"4\">\n                <button @click=\"clearDriver\" class=\"btn-confirm\" style=\"display: inline-block;\">\n                  <div style=\"display: flex; justify-content: center; align-items: center;\">\n                    <img src=\"@/assets/images/svg/ui/delete.svg\" height=\"20px\"\n                      style=\"min-height: 20px; pointer-events: none;\"></img>\n                  </div>\n                </button>\n              </v-col>\n              <v-col cols=\"4\">\n                <button v-if=\"!isConnecting\" @click=\"connectDriver(selectedDriver)\" class=\"btn-confirm\"\n                  style=\"display: inline-block; background-color: green;\">\n                  <div style=\"display: flex; justify-content: center; align-items: center;\">\n                    <v-icon color=\"white\">mdi-link</v-icon>\n                  </div>\n                </button>\n                <v-progress-circular v-else indeterminate color=\"green\" size=\"24\"></v-progress-circular>\n              </v-col>\n              <v-col cols=\"4\">\n                <button @click=\"confirmDriver\" class=\"btn-confirm\" style=\"display: inline-block;\">\n                  <template>\n                    <v-icon color=\"rgba(255, 255, 255)\">mdi-check-bold</v-icon>\n                  </template>\n                </button>\n              </v-col>\n            </v-row>\n          </div>\n\n          <!-- <div v-show=\"!DeviceIsConnected\" style=\"text-align: center;\">\n            <span style=\"display: inline-block; font-size: 15px; color: rgba(255, 255, 255, 0.5); user-select: none;\">\n              {{ $t('Device Connection') }}\n            </span>\n            <v-select :label=\"$t('Select Driver')\" :items=\"drivers\" item-text=\"label\" item-value=\"value\"\n              v-model=\"selectedDriver\" style=\"width: 150px; display: inline-block;\"></v-select>\n            <v-row no-gutters>\n              <v-col cols=\"6\">\n                <button @click=\"clearDriver\" class=\"btn-confirm\" style=\"display: inline-block;\">\n                  <div style=\"display: flex; justify-content: center; align-items: center;\">\n                    <img src=\"@/assets/images/svg/ui/delete.svg\" height=\"20px\"\n                      style=\"min-height: 20px; pointer-events: none;\"></img>\n                  </div>\n                </button>\n              </v-col>\n              <v-col cols=\"6\">\n                <button @click=\"confirmDriver\" class=\"btn-confirm\" style=\"display: inline-block;\">\n                  <template>\n                    <v-icon color=\"rgba(255, 255, 255)\">mdi-check-bold</v-icon>\n                  </template>\n                </button>\n              </v-col>\n            </v-row>\n\n          </div> -->\n\n          <div v-show=\"DeviceIsConnected\" v-for=\"(item, index) in CurrentConfigItems()\" :key=\"index\"\n            style=\"text-align: center; width: 200px;\">\n            <span v-if=\"index === 0\"\n              style=\"display: inline-block; font-size: 15px; color: rgba(255, 255, 255, 0.5); user-select: none;\">\n              {{ $t('Device Config Items') }}\n            </span>\n            <v-card-text>\n              <v-text-field v-if=\"item.inputType === 'text'\" v-model=\"item.value\" :label=\"item.label\"\n                style=\"width: 150px; display: inline-block;\"></v-text-field>\n\n              <div v-if=\"item.inputType === 'slider'\"\n                style=\"text-align: left; height: 30px; width: 150px; display: inline-block; margin-bottom: 20px;\">\n                <span\n                  style=\"display: inline-block; font-size: 15px; color: rgba(255, 255, 255, 0.5); user-select: none;\">{{\n                    item.label }}: {{ item.value }}</span>\n                <div>\n                  <button @click=\"decrement(item)\" class=\"get-click btn-slider\"\n                    style=\"position: absolute; left: 25px; transform: translateY(5px); user-select: none; font-size: 5px;\">\n                    <div style=\"display: flex; justify-content: center; align-items: center;\">\n                      <img src=\"@/assets/images/svg/ui/Minus.svg\" height=\"10px\"\n                        style=\"min-height: 10px; pointer-events: none;\"></img>\n                    </div>\n                  </button>\n                  <v-slider v-model=\"item.value\" :step=\"item.inputStep\" :max=\"item.inputMax\" :min=\"item.inputMin\"\n                    color=\"white\" class=\"align-center\"\n                    style=\"position: absolute; left: 45px; width: calc(100% - 90px);\"></v-slider>\n                  <button @click=\"increment(item)\" class=\"get-click btn-slider\"\n                    style=\"position: absolute; right: 25px; transform: translateY(5px); user-select: none; font-size: 5px;\">\n                    <div style=\"display: flex; justify-content: center; align-items: center;\">\n                      <img src=\"@/assets/images/svg/ui/Plus.svg\" height=\"10px\"\n                        style=\"min-height: 10px; pointer-events: none;\"></img>\n                    </div>\n                  </button>\n                </div>\n              </div>\n\n              <v-select v-if=\"item.inputType === 'select'\" v-model=\"item.value\" :label=\"item.label\"\n                :items=\"item.selectValue\" style=\"width: 150px; display: inline-block;\"></v-select>\n              <v-switch v-if=\"item.inputType === 'switch'\" v-model=\"item.value\" :label=\"item.label\"\n                style=\"width: 170px; display: inline-block; margin-bottom: -35px; margin-top: -35px;\"></v-switch>\n            </v-card-text>\n          </div>\n\n        </div>\n\n        <div v-show=\"DeviceIsConnected\"\n          style=\"text-align: center; position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); display: flex; gap: 10px;\">\n          <button @click=\"confirmConfiguration(CurrentConfigItems())\" class=\"btn-confirm\"\n            style=\"display: inline-block; user-select: none;\">\n            <v-icon color=\"rgba(255, 255, 255)\">mdi-check-bold</v-icon>\n          </button>\n          <button @click=\"disconnectDriver\" class=\"btn-confirm\" style=\"display: inline-block; background-color: red;\">\n            <div style=\"display: flex; justify-content: center; align-items: center;\">\n              <v-icon color=\"white\">mdi-link-off</v-icon>\n            </div>\n          </button>s\n        </div>\n\n        <!-- <div v-show=\"DeviceIsConnected\"\n          style=\"text-align: center; position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); display: flex; justify-content: center; width: 100%;\">\n          <button @click=\"confirmConfiguration(CurrentConfigItems())\" class=\"btn-confirm\"\n            style=\"display: inline-block; user-select: none;\">\n            <v-icon color=\"rgba(255, 255, 255)\">mdi-check-bold</v-icon>\n          </button>\n        </div> -->\n\n      </div>\n\n      <div v-show=\"isOpenPowerPage\">\n        <span\n          style=\"position: absolute; top: 0px; left: 50%; transform: translateX(-50%); font-size: 26px; color: rgba(255, 255, 255, 0.5); user-select: none; white-space: nowrap; \">\n          {{ $t('Power Management') }}\n          <v-divider></v-divider>\n        </span>\n\n        <div style=\"position: absolute; top: 50px; max-height: calc(100% - 50px); width: 200px; overflow-y: auto;\">\n          <v-list dense>\n\n            <v-list-item @click.stop=\"SwitchOutPutPower(1, OutPutPower_1_ON)\"\n              :style=\"{ height: '36px', marginBottom: '10px' }\">\n              <v-list-item-icon style=\"margin-right: 10px;\">\n                <div style=\"display: flex; justify-content: center; align-items: center;\">\n                  <img src=\"@/assets/images/svg/ui/OutPutPower.svg\" height=\"30px\"\n                    style=\"min-height: 30px; pointer-events: none;\"></img>\n                </div>\n              </v-list-item-icon>\n              <v-list-item-content>\n                <v-list-item-title>\n                  <span>\n                    <div :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('OutPut Power 1') }}\n                    </div>\n                    <div :style=\"{ fontSize: '7px' }\" :class=\"{ 'connected-device': OutPutPower_1_ON }\">{{\n                      OutPutPower_1_ON ?\n                        '[ON]' : '[OFF]' }}</div>\n                  </span>\n                </v-list-item-title>\n\n              </v-list-item-content>\n            </v-list-item>\n\n            <v-list-item @click.stop=\"SwitchOutPutPower(2, OutPutPower_2_ON)\"\n              :style=\"{ height: '36px', marginBottom: '10px' }\">\n              <v-list-item-icon style=\"margin-right: 10px;\">\n                <div style=\"display: flex; justify-content: center; align-items: center;\">\n                  <img src=\"@/assets/images/svg/ui/OutPutPower.svg\" height=\"30px\"\n                    style=\"min-height: 30px; pointer-events: none;\"></img>\n                </div>\n              </v-list-item-icon>\n              <v-list-item-content>\n                <v-list-item-title>\n                  <span>\n                    <div :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('OutPut Power 2') }}\n                    </div>\n                    <div :style=\"{ fontSize: '7px' }\" :class=\"{ 'connected-device': OutPutPower_2_ON }\">{{\n                      OutPutPower_2_ON ?\n                        '[ON]' : '[OFF]' }}</div>\n                  </span>\n                </v-list-item-title>\n\n              </v-list-item-content>\n            </v-list-item>\n\n            <v-divider :style=\"{ marginBottom: '10px' }\"></v-divider>\n\n            <v-list-item @click.stop=\"RestartRaspberryPi()\" :style=\"{ height: '36px', marginBottom: '10px' }\">\n              <v-list-item-icon style=\"margin-right: 10px;\">\n                <div style=\"display: flex; justify-content: center; align-items: center;\">\n                  <img src=\"@/assets/images/svg/ui/Reboot.svg\" height=\"30px\"\n                    style=\"min-height: 30px; pointer-events: none;\"></img>\n                </div>\n              </v-list-item-icon>\n              <v-list-item-content>\n                <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Restart')\n                  }}</v-list-item-title>\n              </v-list-item-content>\n            </v-list-item>\n\n            <v-list-item @click.stop=\"ShutdownRaspberryPi()\" :style=\"{ height: '36px', marginBottom: '10px' }\">\n              <v-list-item-icon style=\"margin-right: 10px;\">\n                <div style=\"display: flex; justify-content: center; align-items: center;\">\n                  <img src=\"@/assets/images/svg/ui/PowerOFF.svg\" height=\"30px\"\n                    style=\"min-height: 30px; pointer-events: none;\"></img>\n                </div>\n              </v-list-item-icon>\n              <v-list-item-content>\n                <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Shut Down')\n                  }}</v-list-item-title>\n              </v-list-item-content>\n            </v-list-item>\n\n          </v-list>\n        </div>\n\n      </div>\n\n    </v-navigation-drawer>\n\n    <v-navigation-drawer v-model=\"nav\" app :stateless=\"drawer_2\" temporary width=\"170\"\n      style=\"backdrop-filter: blur(5px); background-color: rgba(0, 0, 0, 0.1);\"> <!-- stateless temporary  -->\n      <v-layout column fill-height>\n        <v-list dense>\n          <template>\n            <div style=\"display: flex; justify-content: center; align-items: center;\">\n              <span style=\"font-size: 10px; color: rgba(255, 255, 255, 0.5); user-select: none; white-space: nowrap;\">\n                Client Version: {{ VueClientVersion }}\n              </span>\n            </div>\n            <div style=\"display: flex; justify-content: center; align-items: center;\">\n              <!-- <span style=\"font-size: 10px; color: getQTClientVersionColor,rgba(255, 255, 255, 0.5); user-select: none; white-space: nowrap;\">\n                Server Version: {{ QTClientVersion }}\n              </span> -->\n              <span :style=\"{\n                fontSize: '10px',\n                color: getQTClientVersionColor,\n                userSelect: 'none',\n                whiteSpace: 'nowrap'\n              }\">\n                Server Version: {{ QTClientVersion }}\n              </span>\n            </div>\n            <v-divider></v-divider>\n          </template>\n\n          <template>\n            <v-list-item @click.stop=\"QuitToMainApp()\" :style=\"{ height: '36px' }\">\n              <v-list-item-icon style=\"margin-right: 10px;\">\n                <div style=\"display: flex; justify-content: center; align-items: center;\">\n                  <img src=\"@/assets/images/svg/ui/Quit.svg\" height=\"30px\"\n                    style=\"min-height: 30px; pointer-events: none;\"></img>\n                </div>\n              </v-list-item-icon>\n              <v-list-item-content>\n                <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Quit')\n                }}</v-list-item-title>\n              </v-list-item-content>\n            </v-list-item>\n\n            <v-list-item @click.stop=\"toggleStoreValue('showViewSettingsDialog')\" :style=\"{ height: '36px' }\">\n              <v-list-item-icon style=\"margin-right: 10px;\">\n                <div style=\"display: flex; justify-content: center; align-items: center;\">\n                  <img src=\"@/assets/images/svg/ui/Setting.svg\" height=\"30px\"\n                    style=\"min-height: 30px; pointer-events: none;\"></img>\n                </div>\n              </v-list-item-icon>\n              <v-list-item-content>\n                <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('View Settings')\n                }}</v-list-item-title>\n              </v-list-item-content>\n            </v-list-item>\n            <v-divider></v-divider>\n          </template>\n\n          <v-list-item @click.stop=\"openPowerManagerPage()\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/Power.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Power Management')\n              }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <!-- <v-list-item :disabled=\"loadingConnectAllDevice\" @touchstart=\"startConnectBtnPress\"\n            @touchend=\"endConnectBtnPress\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/Connect.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px', userSelect: 'none' }\">{{\n                $t('Connect All') }}</v-list-item-title>\n              <v-progress-linear v-if=\"loadingConnectAllDevice\" indeterminate color=\"white\"\n                height=\"5\"></v-progress-linear>\n            </v-list-item-content>\n          </v-list-item> -->\n          <v-list-item :disabled=\"loadingConnectAllDevice\" @touchstart=\"startConnectBtnPress\"\n            @touchend=\"endConnectBtnPress\" @mousedown=\"startConnectBtnPress\" @mouseup=\"endConnectBtnPress\"\n            :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/Connect.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\">\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px', userSelect: 'none' }\">\n                {{ $t('Connect All') }}\n              </v-list-item-title>\n              <v-progress-linear v-if=\"loadingConnectAllDevice\" indeterminate color=\"white\"\n                height=\"5\"></v-progress-linear>\n            </v-list-item-content>\n          </v-list-item>\n\n          <v-list-item @click.stop=\"disconnectAllDevice(false)\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/DisConnect.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px', userSelect: 'none' }\">{{\n                $t('Disconnect All') }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <v-list-item @click.stop=\"DeviceAllocation()\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/Allocation.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{\n                $t('DeviceAllocation') }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <v-list-item @click.stop=\"CalibratePolarAxis()\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/PoleAxis.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{\n                $t('CalibratePolarAxis') }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <v-list-item @click.stop=\"OpenIamgeFolder()\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/FolderSwitch.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Image Files')\n              }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <v-list-item @click.stop=\"OpenDebugLog()\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/DebugLog.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Logs')\n              }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <v-divider></v-divider>\n\n          <v-list-item v-for=\"(device, index) in devices\" :key=\"index\" @click.stop=\"selectDevice(device)\"\n            :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img :src=\"require(`@/assets/images/svg/ui/${device.driverType}.svg`)\" height=\"30px\"\n                  style=\"min-height: 30px\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title>\n                <span>\n                  <div :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t(device.driverType) }}</div>\n                  <div :style=\"{ fontSize: '7px' }\" :class=\"{ 'connected-device': device.isConnected }\">{{ device.device}}\n                  </div>\n                </span>\n              </v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <v-divider></v-divider>\n\n          <v-list-item @click.stop=\"locationClicked()\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img :src=\"require(`@/assets/images/svg/ui/Location.svg`)\" height=\"30px\" style=\"min-height: 30px\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title>\n                <span>\n                  <div :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Lat & Long') }}</div>\n                  <div :style=\"{ fontSize: '7px' }\">{{ '(' + $store.state.currentLocation.lat + ', ' +\n                    $store.state.currentLocation.lng + ')' }}</div>\n                </span>\n              </v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <v-list-item @click.stop=\"ShowConfirmDialog('Confirm', $t('Are you sure you need to refresh?'), 'Refresh')\"\n            :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img :src=\"require(`@/assets/images/svg/ui/Refresh.svg`)\" height=\"30px\" style=\"min-height: 30px\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title>\n                <span>\n                  <div :style=\"{ fontSize: '10px' }\">{{ $t('Refresh Page') }}</div>\n                </span>\n              </v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <v-list-item @click.stop=\"toggleStoreValue('showDataCreditsDialog')\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/DataCredits.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Data Credits')\n              }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n        </v-list>\n      </v-layout>\n    </v-navigation-drawer>\n\n\n    <v-main>\n\n      <canvas v-show=false id=\"TestCanvas\" width=\"1920\" height=\"1080\"></canvas>\n\n      <v-container class=\"fill-height\" fluid style=\"padding: 0\">\n        <div id=\"stel\" v-bind:class=\"{ right_panel: $store.state.showSidePanel }\">\n          <div style=\"position: relative; width: 100%; height: 100%\">\n            <component v-bind:is=\"guiComponent\"></component>\n            <canvas id=\"stel-canvas\" ref='stelCanvas' :style=\"{ zIndex: canvasZIndexStel }\"></canvas>\n            <canvas ref=\"mainCanvas\" id=\"mainCamera-canvas\" :style=\"{ zIndex: canvasZIndexMainCamera }\"\n              @click=\"handleMainCanvasClick\" @touchstart=\"handleTouchStart\" @touchmove=\"handleTouchMove\"\n              @touchend=\"handleTouchEnd\" @mousedown=\"handleMouseDown\" @mouseup=\"handleMouseUp\"\n              @mousemove=\"handleMouseMove\" @wheel=\"handleWheel\">\n            </canvas>\n            <canvas ref=\"guiderCanvas\" id=\"guiderCamera-canvas\" :style=\"{ zIndex: canvasZIndexGuiderCamera }\"\n              @click=\"handleGuiderCanvasClick\"></canvas>\n            <!-- <img id=\"imageSrc\" alt=\"Source\" :src=\"imageSrc\" crossOrigin = \"\" /> -->\n\n          </div>\n        </div>\n\n\n      </v-container>\n    </v-main>\n\n    <v-dialog v-model=\"showDisconnectDialog\" persistent max-width=\"290\">\n      <v-card>\n        <v-card-title class=\"text-h5\">Confirm Action</v-card-title>\n        <v-card-text>Are you sure you want to disconnect the driver {{ currentDisconnectDriverName }}?</v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"red darken-1\" text @click=\"showDisconnectDialog = false\">Cancel</v-btn>\n          <v-btn color=\"green darken-1\" text @click=\"confirmDisconnect\">Confirm</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n  </v-app>\n\n</template>\n\n<script>\nimport _ from 'lodash'\nimport Gui from '@/components/gui.vue'\nimport GuiLoader from '@/components/gui-loader.vue'\nimport swh from '@/assets/sw_helpers.js'\nimport Moment from 'moment'\nimport BackgroundImage from '@/assets/images/svg/ui/Background.svg';\nimport ErrorImage from '@/assets/images/svg/ui/errorImage.svg';\n\nlet glTestCircle;\nlet glLayer;\nlet glStel;\n\nexport default {\n  data(context) {\n    return {\n      menuItems: [\n        { title: this.$t('View Settings'), icon: 'mdi-settings', store_var_name: 'showViewSettingsDialog', store_show_menu_item: 'showViewSettingsMenuItem' },\n        { title: this.$t('Planets Tonight'), icon: 'mdi-panorama-fisheye', store_var_name: 'showPlanetsVisibilityDialog', store_show_menu_item: 'showPlanetsVisibilityMenuItem' },\n        { divider: true }\n      ].concat(this.getPluginsMenuItems()).concat([\n        { title: this.$t('Data Credits'), footer: true, icon: 'mdi-copyright', store_var_name: 'showDataCreditsDialog' }\n      ]),\n      menuComponents: [].concat(this.getPluginsMenuComponents()),\n      guiComponent: 'GuiLoader',\n      startTimeIsSet: false,\n      initDone: false,\n      dataSourceInitDone: false,\n      imageSrc: 'https://i.imgur.com/egA5FIv.jpeg', // 替换为你的图像路径\n      cvReady: false,\n      canvasZIndexStel: -10,\n      canvasZIndexMainCamera: -11,\n      canvasZIndexGuiderCamera: -12,\n      currentcanvas: 'Stel',\n\n      WebSocketUrl: '',\n\n      websocket: null,\n      message: '',\n      receivedMessages: [],// 存储接收到的消息\n      sentMessages: [], // 存储已发送的消息\n      messageCounter: 0, // 用于生成唯一的消息ID\n      websocketState: 'disconnected', // 添加WebSocket连接状态\n      networkDisconnected: false, // 添加网络连接状态\n\n      QTClientVersion: 'Not connected',\n      VueClientVersion: process.env.VUE_APP_VERSION,\n\n      // isMessageBoxShow: false,\n\n      CurrentDriverType: '',\n      DeviceIsConnected: null,\n      confirmDriverType: '',\n\n      MainCameraOffsetMin: 0,\n      MainCameraOffsetMax: 0,\n\n      MainCameraGainMin: 0,\n      MainCameraGainMax: 0,\n\n      devices: [\n        { name: '导星镜', driverType: 'Guider', type: 'CCDs', ListNum: \"1\", isget: false, device: '', BaudRate: 9600, driverName: '', isConnected: false, dialogStateVar: 'showDeviceSettingsDialog_Guider' },\n        { name: '主相机', driverType: 'MainCamera', type: 'CCDs', ListNum: \"20\", isget: false, device: '', BaudRate: 9600, driverName: '', isConnected: false, dialogStateVar: 'showDeviceSettingsDialog_MainCamera' },\n        { name: '赤道仪', driverType: 'Mount', type: 'Telescopes', ListNum: \"0\", isget: false, device: '', BaudRate: 9600, driverName: '', isConnected: false, dialogStateVar: 'showDeviceSettingsDialog_Mount' },\n        { name: '望远镜', driverType: 'Telescopes', device: '', isConnected: false },\n        { name: '电动调焦器', driverType: 'Focuser', type: 'Focusers', ListNum: \"22\", isget: false, device: '', BaudRate: 9600, driverName: '', isConnected: false, dialogStateVar: 'showDeviceSettingsDialog_Focuser' },\n        { name: '电子极轴镜', driverType: 'PoleCamera', type: 'CCDs', ListNum: \"2\", isget: false, device: '', BaudRate: 9600, driverName: '', isConnected: false, dialogStateVar: 'showDeviceSettingsDialog_PoleCamera' },\n        { name: '滤镜轮', driverType: 'CFW', type: 'Filter Wheels', ListNum: \"21\", isget: false, device: '', BaudRate: 9600, driverName: '', isConnected: false, dialogStateVar: 'showDeviceSettingsDialog_CFW' },\n      ],\n\n      // Changing the label name also requires changing the emit signal name\n      GuiderConfigItems: [\n        { driverType: 'Guider', label: 'Guider Focal Length (mm)', value: '', inputType: 'text' },\n        { driverType: 'Guider', label: 'Multi Star Guider', value: false, inputType: 'switch' },\n        // { driverType: 'Guider', label: 'Guider Pixel size', value: '', inputType: 'text'},\n        { driverType: 'Guider', label: 'Guider Gain', value: '', inputType: 'slider', inputMin: 0, inputMax: 100, inputStep: 1 },\n        { driverType: 'Guider', label: 'Calibration step (ms)', value: '', inputType: 'text' },\n        { driverType: 'Guider', label: 'Ra Aggression', value: '', inputType: 'slider', inputMin: 0, inputMax: 100, inputStep: 1 },\n        { driverType: 'Guider', label: 'Dec Aggression', value: '', inputType: 'slider', inputMin: 0, inputMax: 100, inputStep: 1 },\n\n      ],\n\n      MainCameraConfigItems: [\n        // vue处理参数\n        { driverType: 'MainCamera', label: 'ImageGainR', value: '1', inputType: 'slider', inputMin: 0, inputMax: 3, inputStep: 0.01 },\n        { driverType: 'MainCamera', label: 'ImageGainB', value: '1', inputType: 'slider', inputMin: 0, inputMax: 3, inputStep: 0.01 },\n        { driverType: 'MainCamera', label: 'ImageOffset', value: '', inputType: 'slider', inputMin: 0, inputMax: 255, inputStep: 0.1},\n        { driverType: 'MainCamera', label: 'ImageCFA', value: '', inputType: 'select', selectValue: ['GR', 'GB', 'BG', 'RGGB'] },\n        // 硬件处理参数\n        { driverType: 'MainCamera', label: 'Binning', value: '', inputType: 'slider', inputMin: 1, inputMax: 4, inputStep: 1 },\n        { driverType: 'MainCamera', label: 'Temperature', value: '', inputType: 'slider', inputMin: -50, inputMax: 30, inputStep: 1 },\n        { driverType: 'MainCamera', label: 'Gain', value: '', inputType: 'slider', inputMin: 0, inputMax: 0, inputStep: 1 },\n        { driverType: 'MainCamera', label: 'Offset', value: '', inputType: 'slider', inputMin: 0, inputMax: 0, inputStep: 1 },\n        // { driverType: 'MainCamera', label: 'RedBox Side Length (px)', value: '', inputType: 'text' },\n        { driverType: 'MainCamera', label: 'ExpTime [1]', value: '', inputType: 'text' },\n        { driverType: 'MainCamera', label: 'ExpTime [2]', value: '', inputType: 'text' },\n        { driverType: 'MainCamera', label: 'ExpTime [3]', value: '', inputType: 'text' },\n        { driverType: 'MainCamera', label: 'ExpTime [4]', value: '', inputType: 'text' },\n        { driverType: 'MainCamera', label: 'ExpTime [5]', value: '', inputType: 'text' },\n        { driverType: 'MainCamera', label: 'ExpTime [6]', value: '', inputType: 'text' },\n        { driverType: 'MainCamera', label: 'ExpTime [7]', value: '', inputType: 'text' },\n        { driverType: 'MainCamera', label: 'ExpTime [8]', value: '', inputType: 'text' },\n        { driverType: 'MainCamera', label: 'ExpTime [9]', value: '', inputType: 'text' },\n        // 在这里添加更多的配置项\n      ],\n\n      MountConfigItems: [\n\n      ],\n\n      TelescopesConfigItems: [\n        { driverType: 'Telescopes', num: 1, label: 'Focal Length (mm)', value: '', inputType: 'text' },\n      ],\n\n      FocuserConfigItems: [\n        // { driverType: 'Focuser', num: 1, label: 'RedBox Side Length (px)', value: '', inputType: 'text'},\n        { driverType: 'Focuser', num: 2, label: 'Min Step', value: '', inputType: 'text' },\n        { driverType: 'Focuser', num: 2, label: 'Sync Focuser Step', value: '', inputType: 'text' },\n\n      ],\n\n      PoleCameraConfigItems: [\n\n      ],\n\n      CFWConfigItems: [\n\n      ],\n\n      BeforeChangeConfigItems: [],\n\n\n\n      imageData: null,\n\n      histogramImage: null,\n      histogram_min: 0,    // 直方图自动拉伸的最小值\n      histogram_max: 255,  // 直方图自动拉伸的最大值\n\n      currentHistogramMin: 0,\n      currentHistogramMax: 255,\n\n      ImageGainR: 1,\n      ImageGainB: 1,\n\n      ImageOffset: 0,\n\n      ImageCFA: 'BG',\n\n      CanvasWidth: 1920,  // 主画布宽度\n      CanvasHeight: 1080, // 主画布高度\n\n      scale: 1, // 缩放比例\n      translateX: 0, // 平移x坐标\n      translateY: 0, // 平移y坐标\n      bufferCanvas: null, // 存储画布\n      bufferCtx: null, // 存储画布上下文\n      tempCanvas: null, // 临时画布\n      tempCtx: null, // 临时画布上下文\n\n      visibleWidth: 0, // 可见区域宽度\n      visibleHeight: 0, // 可见区域高度\n      visibleX: 0, // 可见区域x坐标\n      visibleY: 0, // 可见区域y坐标\n      isDragging: false, // 标记画布是否正在拖动\n      pendingScaleChange: false, // 标记画布是否正在缩放\n\n      touchStartX: 0, // 触摸开始x坐标\n      touchStartY: 0, // 触摸开始y坐标\n      startDistance: 0, // 触摸开始距离\n\n      moveIntervalId: null, // 拖动定时器\n      zoomIntervalId: null, // 缩放定时器\n\n\n      imageWidth: 0, // 图像宽度\n      imageHeight: 0, // 图像高度\n      drawImgData: null,\n      OriginalImage: null,\n      detectStarsImg: null,\n\n      isNotDrawStars: true,\n\n      mainCameraSizeX: 0,\n      mainCameraSizeY: 0,\n\n      ImageProportion: 0,\n\n      DetectedStarsList: [],\n      DetectedStarsFinish: false,\n\n      CartesianList: [],\n\n      PolarPoint_Altitude: 0,\n\n      LastPoint_AzAlt: null,\n\n      MarkCircleNum: 0,\n\n      LastCircle_RaDec: null,\n      LastCircle_AzAlt: null,\n\n      Circles: [],\n\n      drawer_2: null,    // 设置侧边栏的显示与隐藏\n\n      drivers: [], // 驱动选项数组\n      selectedDriver: null, // 选中的驱动\n\n      devicesList: [], // 设备选项数组\n      selectedDevice: null, // 选中的设备\n      ToBeConnectDevice: [],\n\n      loadingSelectDriver: false,\n      loadingConnectAllDevice: false,\n\n      CurrentLocationLng: 0,\n      CurrentLocationLat: 0,\n\n      histogramData: [],\n\n      ImageArrayBuffer: null,\n\n      isOpenDevicePage: false, // 设置设备页面是否打开\n      isOpenPowerPage: false, // 设置电源页面是否打开\n\n      OutPutPower_1_ON: true,\n      OutPutPower_2_ON: false,\n\n      isPolarAxisMode: false,\n\n      isTouching: false, // 标记是否正在处理触摸事件\n      ConnectBtnPressTimer: null,\n      ConnectBtnlongPressThreshold: 1000,\n      isConnectBtnLongPress: false, // 标记是否为长按\n      ConnectBtnCanClick: true,\n\n\n      haveDeviceConnect: false,\n      isConnecting: false, // 添加连接状态\n\n      disconnectTimeoutTriggered: false,\n      disconnectTimeout: null,\n\n      isDownloadingImage: false,\n      isDownloadingImageName: '',\n      isWaitingLogged: false, // 添加等待日志标志\n\n      showDisconnectDialog: false,\n      currentDisconnectDriverName: '',\n\n      enableMainCanvasClick: false, // 控制画布是否可以点击，用来移动调焦选择框和选星\n\n      lastImageProcessParams: { // 最后处理图像的参数\n        gainR: 1,\n        gainB: 1,\n        offset: 0,\n        CFA: 'BG',\n        mode: 1,\n        B: 0,\n        W: 65535,\n        cvmode: 0,\n      },\n      focuserPictureFileName: '',  // 焦距图片文件名\n      isProcessingImage: false,   // 控制是否正在处理图像\n      isFocusLoopShooting: false,  // 控制是否进行ROi循环拍摄\n      // focuserROIStarsList: [],  // 用来保存ROI区域的星点列表，分别保存x,y,HFR\n      selectStarX: -1,\n      selectStarY: -1,\n      DrawSelectStarX: -1,\n      DrawSelectStarY: -1,\n      DrawSelectStarHFR: -1,\n      ROI_x: -1,    // 用来保存ROI区域的x坐标\n      ROI_y: -1,    // 用来保存ROI区域的y坐标\n      ROI_length: 300, // 用来保存ROI区域的长度\n      showSelectStar: false,\n\n      isOneTouch: false,\n      currentTouchX: [0, 0],\n      currentTouchY: [0, 0],\n      startTouchX: [0, 0],\n      startTouchY: [0, 0],\n      startTouchDistance: 0,\n\n      // 定义波特率选项\n      BaudRateItems: [\n        { label: '9600', value: 9600 },\n        { label: '19200', value: 19200 },\n        { label: '38400', value: 38400 },\n        { label: '57600', value: 57600 },\n        { label: '115200', value: 115200 },\n        { label: '230400', value: 230400 },\n      ],\n      BaudRateSelected: 9600, // 波特率选择\n      cpuTemp: null,  // CPU温度\n      cpuUsage: null, // CPU使用率\n    }\n  },\n  components: {\n    Gui,\n    GuiLoader,\n    // MessageBox,\n  },\n  created() {\n    this.$bus.$on('AppSendMessage', this.sendMessage);\n    this.$bus.$on('AppUpdateDevices', this.updateDevices);\n    this.$bus.$on('Switch-MainPage', this.handleButtonTestClick);\n    this.$bus.$on('AutoHistogramNum', this.setAutoHistogramNum);\n    this.$bus.$on('HandleHistogramNum', this.applyHistStretch);\n    this.$bus.$on('ImageGainR', this.ImageGainSet);\n    this.$bus.$on('ImageGainB', this.ImageGainSet);\n    this.$bus.$on('Offset', this.ImageOffsetSet);\n    this.$bus.$on('Binning', this.BinningSet);\n    this.$bus.$on('Gain', this.GainSet);\n    this.$bus.$on('Offset', this.OffsetSet);\n    this.$bus.$on('ImageCFA', this.ImageCFASet);\n    this.$bus.$on('Temperature', this.CameraTemperatureSet);\n    this.$bus.$on('Focal Length (mm)', this.FocalLengthSet);\n    this.$bus.$on('Guider Focal Length (mm)', this.GuiderFocalLengthSet);\n    this.$bus.$on('Multi Star Guider', this.MultiStarGuiderSet);\n    this.$bus.$on('Guider Pixel size', this.GuiderPixelSizeSet);\n    this.$bus.$on('Guider Gain', this.GuiderGainSet);\n    this.$bus.$on('Calibration step (ms)', this.CalibrationDurationSet);\n    this.$bus.$on('Ra Aggression', this.RaAggressionSet);\n    this.$bus.$on('Dec Aggression', this.DecAggressionSet);\n    this.$bus.$on('Sync Focuser Step', this.SyncFocuserStep);\n    this.$bus.$on('ImageProportion', this.setImageProportion);\n    this.$bus.$on('MountGoto', this.lookatcircle);\n    this.$bus.$on('SwitchImageToShow', this.SwitchImageToShow);\n    this.$bus.$on('PolarPointAltitude', this.setPolarPointAltitude);\n    this.$bus.$on('showStelCanvas', this.showStelCanvas);\n    this.$bus.$on('RecalibratePolarAxis', this.RecalibratePolarAxis);\n    this.$bus.$on('CurrentExpTimeList', this.CurrentExpTimeList);\n    this.$bus.$on('disconnectAllDevice', this.disconnectAllDevice);\n    this.$bus.$on('GetConnectedDevices', this.ReturnConnectedDevices);\n    this.$bus.$on('CurrentCFWList', this.CurrentCFWList);\n    this.$bus.$on('calcWhiteBalanceGains', this.calcWhiteBalanceGains);\n    this.$bus.$on('SwitchOutPutPower', this.SwitchOutPutPower);\n    this.$bus.$on('PolarAxisMode', this.PolarAxisMode);\n    this.$bus.$on('SendConsoleLogMsg', this.SendConsoleLogMsg);\n    // this.$bus.$on('DisconnectDriverSuccess', this.disconnectDriversuccess);\n    this.$bus.$on('UnBindingDevice', this.UnBindingDevice);\n    this.$bus.$on('CloseWebView', this.QuitToMainApp)\n    this.$bus.$on('RedBoxSizeChange', this.RedBoxSizeChange);\n    this.$bus.$on('setFocuserState', this.setFocuserState);  // 设置调焦状态和进度\n    this.$bus.$on('setShowSelectStar', this.setShowSelectStar);  // 设置是否显示选择星点\n    this.$bus.$on('ScaleChange', this.ScaleChange);\n  },\n  methods: {\n    getLocationHostName() {\n      const hostname = window.location.hostname;\n      const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';\n      const port = window.location.protocol === 'https:' ? '8601' : '8600';\n      this.SendConsoleLogMsg('location hostname:' + hostname, 'info');\n      this.WebSocketUrl = `${protocol}//${hostname}:${port}`;\n      console.log('WebSocketUrl:', this.WebSocketUrl);\n    },\n    getQTClientVersion() {\n      this.sendMessage('Vue_Command', 'getQTClientVersion');\n    },\n    connect() {\n      // 替换为你的 WebSocket 服务器地址\n      // this.websocket = new WebSocket('ws://192.168.2.31:8600');  // process.env.VUE_APP_WEBSOCKET\n      // this.websocket = new WebSocket(process.env.VUE_APP_WEBSOCKET);\n      const wsOptions = {\n        rejectUnauthorized: false  // 禁用证书验证\n      };\n      this.websocket = new WebSocket(this.WebSocketUrl, [], wsOptions);\n\n      this.websocket.onopen = () => {\n        this.websocketState = 'connected';\n        this.networkDisconnected = false; // WebSocket连接成功时重置网络连接状态\n        if (this.disconnectTimeoutTriggered) {\n          this.callShowMessageBox('WebSocket connected', 'success');\n        }\n        this.$bus.$emit('ShowNetStatus', 'true');\n        this.StatusRecovery();\n        console.log('process.env.NODE_ENV:', process.env.NODE_ENV);\n      };\n      \n      this.websocket.onmessage = (message) => {\n        // console.log('QHYCCD | Received message:', message.data);\n\n        const data = JSON.parse(message.data);\n\n        if (data.type === 'QT_Return') {\n          const parts = data.message.split(':');\n          let messageType;\n          if (parts.length > 0) {\n            messageType = parts[0];\n            // console.log('QHYCCD | 获得信息('+messageType+'):', parts);\n          }\n          else {\n            console.error('消息格式错误，无法分割:', data.message);\n            return;\n          }\n          let acceptMessage = false;\n          if (data.message.startsWith('StagingScheduleData:')) {\n            console.log('------------------------------');\n            acceptMessage = true;\n            const parts = data.message.split('[');\n\n            if (parts.length > 0) {\n              console.log('parts.length: ', parts.length);\n              this.$bus.$emit('StagingScheduleData', data.message);\n            }\n            console.log('------------------------------');\n          }\n\n          if (data.message.startsWith('SendDebugMessage|')) {\n            acceptMessage = true;\n            const parts = data.message.split('|');\n            if (parts.length === 3) {\n              const type = parts[1];\n              const message = parts[2];\n              this.$bus.$emit('SendDebugMessage', type, message);\n            }\n          }\n\n          if (!acceptMessage) {\n            switch (messageType) {\n              case 'AddDriver':\n                if (parts.length === 3) {\n                  const label = parts[1];\n                  const value = parts[2];\n                  const type = this.CurrentDriverType;\n                  // 创建一个驱动对象\n                  const driver = { type, label, value };\n\n                  // if (type === 'MainCamera' && label === \"QHY CCD2\") {\n                  //   break;\n                  // }\n                  // if (type === 'Guider' && label === \"QHY CCD\") {\n                  //   break;\n                  // }\n\n                  // 检查label是否为\"QHY CCD\"或\"QFocuser\"，如果是，则插入到数组首位\n                  if (label === \"QHY CCD\" || label === \"QFocuser\" || label === \"QHY CCD2\") {\n                    this.drivers.unshift(driver); // 将新驱动添加到数组的开始位置\n                  } else {\n                    this.drivers.push(driver); // 将新驱动添加到数组的末尾\n                  }\n                }\n                break;\n\n              case 'AddDevice':\n                if (parts.length === 2) {\n                  const label = parts[1];\n                  console.log('QHYCCD | AddDevice: ', label);\n                  // const value = parts[2];\n                  const type = this.confirmDriverType;\n                  // 创建一个驱动对象\n                  const device = { type, label, label };\n                  console.log('QHYCCD | AddDevice: ', device);\n                  // this.$bus.$emit('add-device', device);\n                  this.devicesList.push(device);\n\n                  this.ToBeConnectDevice = [];\n                  this.devicesList.forEach(devicesList => {\n                    if (devicesList.type === this.CurrentDriverType) {\n                      this.ToBeConnectDevice.push(devicesList);\n                    }\n                  });\n\n                  this.loadingSelectDriver = false;\n                }\n                break;\n\n              case 'updateDevices_':\n                if (parts.length === 3) {\n                  const ListNum = parts[1];\n                  const name = parts[2];\n                  this.updateDevices_(ListNum, name);\n                }\n                break;\n\n              case 'ConnectSuccess':\n                if (parts.length === 4) {\n                  const type = parts[1];\n                  const deviceName = parts[2];\n                  const driverName = parts[3];\n\n                  if (deviceName != '') {\n                    this.updateDevicesConnect(type, deviceName, driverName, true);\n                  } else {\n                    this.updateDevicesConnect(type, deviceName, driverName, false);\n                  }\n                }\n                break;\n\n              case 'ConnectFailed':\n                if (parts.length === 2) {\n                  const reason = parts[1];\n                  this.callShowMessageBox(reason, 'error');\n                  this.loadingConnectAllDevice = false;\n                }\n                break;\n\n              case 'ScanFailed':\n                if (parts.length === 2) {\n                  const reason = parts[1];\n                  this.callShowMessageBox(reason, 'error');\n                  this.loadingSelectDriver = false;\n                }\n                break;\n\n              case 'AddDeviceType':\n                if (parts.length === 2) {\n                  const DeviceType = parts[1];\n                  this.$bus.$emit('AddDeviceType', DeviceType);\n                }\n                break;\n\n              case 'DeviceToBeAllocated':\n                if (parts.length === 4) {\n                  const DeviceType = parts[1];\n                  const DeviceIndex = parts[2];\n                  const DeviceName = parts[3];\n                  this.$bus.$emit('DeviceToBeAllocated', DeviceIndex, DeviceName);\n                }\n                break;\n\n              case 'ShowDeviceAllocationWindow':\n                this.$bus.$emit('toggleDeviceAllocationPanel');\n                this.nav = false;\n                break;\n\n              case 'ExposureCompleted':\n                this.$bus.$emit('ExposureCompleted');\n                break;\n\n              case 'SaveJpgSuccess':\n                if (parts.length === 4) {\n                  const fileName = parts[1];\n                  const roi_x = parts[2];\n                  const roi_y = parts[3];\n                  // this.$bus.$emit('showRoiImage', fileName);\n                  this.showRoiImage(fileName, roi_x, roi_y);\n                }\n                break;\n\n              case 'SaveBinSuccess':\n                if (parts.length === 2) {\n                  const fileName = parts[1];\n                  this.readBinFile('img/' + fileName);\n                  this.DetectedStarsFinish = false;\n                }\n                break;\n\n              case 'SaveGuiderImageSuccess':\n                if (parts.length === 2) {\n                  const fileName = parts[1];\n                  this.loadAndDisplayImage('img/' + fileName);\n                }\n                break;\n\n              case 'AddScatterChartData':\n                if (parts.length === 3) {\n                  const Data_x = parts[1];\n                  const Data_y = parts[2];\n                  const newDataPoint = [Data_x, Data_y];\n                  this.$bus.$emit('AddScatterChartData', newDataPoint);\n                }\n                break;\n\n              case 'AddLineChartData':\n                if (parts.length === 4) {\n                  const Data_x = parts[1];\n                  const Data_Ra = parts[2];\n                  const Data_Dec = parts[3];\n                  const newDataPoint_Ra = [Data_x, Data_Ra];\n                  const newDataPoint_Dec = [Data_x, Data_Dec];\n                  this.$bus.$emit('AddLineChartData', newDataPoint_Ra, newDataPoint_Dec);\n                }\n                break;\n\n              case 'SetLineChartRange':\n                if (parts.length === 3) {\n                  const min = parts[1];\n                  const max = parts[2];\n                  this.$bus.$emit('SetLineChartRange', min, max);\n                }\n                break;\n\n              case 'GuiderStatus':\n                if (parts.length === 2) {\n                  const status = parts[1];\n                  this.$bus.$emit('GuiderStatus', status);\n                }\n                break;\n\n              case 'FocusChangeSpeedSuccess':\n                if (parts.length === 2) {\n                  const Speed = parts[1];\n                  this.$bus.$emit('FocusChangeSpeedSuccess', Speed);\n                }\n                break;\n\n\n              case 'FocusPosition':\n                if (parts.length === 3) {\n                  const CurrentPosition = parts[1];\n                  const TargetPosition = parts[2];\n                  this.$bus.$emit('FocusPosition', CurrentPosition, TargetPosition);\n                }\n                break;\n\n              case 'FocusMoveDone':\n                if (parts.length === 3) {\n                  const CurrentPosition = parts[1];\n                  const FWHM = parts[2];\n                  this.$bus.$emit('UpdateFWHM',CurrentPosition, FWHM);\n                  this.$bus.$emit('addData_Point', CurrentPosition, FWHM);\n                }\n                break;\n\n              case 'addMinPointData_Point':\n                if (parts.length === 3) {\n                  const x = parseInt(parts[1]);\n                  const y = parseFloat(parts[2]);\n                  this.$bus.$emit('addMinPointData_Point', x, y);\n                }\n                break;\n              case 'addLineData_Point':\n                if (parts.length === 2) {\n                    const dataList = parts[1].split(',');  // 将字符串分割成数组\n                    const coordinates = [];\n                    for (let i = 0; i < dataList.length-1; i += 2) {\n                        const x = parseInt(dataList[i]);\n                        const y = parseFloat(dataList[i + 1]);\n                        const coordinate = [x, y];\n                        coordinates.push(coordinate);\n                    }\n                    this.$bus.$emit('addLineData_Point', coordinates);\n                }\n                break;\n              case 'MainCameraSize':\n                if (parts.length === 3) {\n                  const SizeX = parts[1];\n                  const SizeY = parts[2];\n                  this.$bus.$emit('MainCameraSize', SizeX, SizeY);\n                  this.mainCameraSizeX = SizeX;\n                  this.mainCameraSizeY = SizeY;\n                }\n                break;\n\n              case 'MainCameraBinning':\n                if (parts.length === 2) {\n                  const bin = parseInt(parts[1]);\n                  this.$bus.$emit('MainCameraBinning', bin);\n                }\n                break;\n\n              case 'fitQuadraticCurve':\n                this.$bus.$emit('ClearfitQuadraticCurve');\n                for (let x = 0; x <= 601; x += 1) {\n                  const a = parts[x];\n                  const b = a.split('|');\n                  if (b.length === 2) {\n                    const x = b[0];\n                    const y = b[1];\n                    this.$bus.$emit('fitQuadraticCurve', x, y);\n                  }\n                }\n                break;\n\n              case 'fitQuadraticCurve_minPoint':\n                const x = parts[1];\n                const y = parts[2];\n                this.$bus.$emit('fitQuadraticCurve_minPoint', x, y);\n                break;\n\n\n              case 'TelescopePark':\n                if (parts.length === 2) {\n                  const Switch = parts[1];\n                  this.$bus.$emit('MountParkSwitch', Switch);\n                }\n                break;\n\n              case 'TelescopeTrack':\n                if (parts.length === 2) {\n                  const Switch = parts[1];\n                  this.$bus.$emit('MountTrackSwitch', Switch);\n                }\n                break;\n\n              case 'MountSetSpeedSuccess':\n                if (parts.length === 2) {\n                  const num = parts[1];\n                  this.$bus.$emit('newMountSlewRate', num);\n                }\n                break;\n\n\n              case 'TelescopePierSide':\n                if (parts.length === 2) {\n                  const Side = parts[1];\n                  this.$bus.$emit('updateMountPierSide', Side);\n                }\n                break;\n\n              case 'TelescopeTotalSlewRate':\n                if (parts.length === 2) {\n                  const num = parts[1];\n                  this.$bus.$emit('MountTotalSlewRate', num);\n                }\n                break;\n\n\n              case 'UpdateScheduleProcess':\n                if (parts.length === 3) {\n                  const RowNum = parts[1];\n                  const Process = parts[2];\n                  this.$bus.$emit('UpdateScheduleProcess', RowNum, Process);\n                }\n                break;\n\n              case 'ExpTimeList':\n                if (parts.length === 2) {\n                  this.$bus.$emit('initExpTimeList', parts[1]);\n                }\n                break;\n\n\n              case 'CameraInExposuring':\n                if (parts.length === 2) {\n                  const status = parts[1];\n                  this.$bus.$emit('CameraInExposuring', status);\n                }\n                break;\n\n              case 'AutoFocusOver':\n                this.$bus.$emit('AutoFocusOver');\n                break;\n\n              case 'CFWPositionMax':\n                if (parts.length === 2) {\n                  this.$bus.$emit('SetCFWPositionMax', parts[1]);\n\n                  for (let i = 1; i <= parts[1]; i++) {\n                    this.CFWConfigItems.push({ driverType: 'CFW', label: `CFW [${i}]`, value: '', inputType: 'text' });\n                  }\n\n                  this.$bus.$emit('AppSendMessage', 'Vue_Command', 'getCFWList');\n                }\n                break;\n\n\n              case 'SetCFWPositionSuccess':\n                if (parts.length === 2) {\n                  this.$bus.$emit('SetCFWPositionSuccess', parts[1]);\n                }\n                break;\n\n              case 'getCFWList':\n                if (parts.length === 2) {\n                  this.$bus.$emit('initCFWList', parts[1]);\n                }\n                break;\n\n              case 'GuiderSwitchStatus':\n                if (parts.length === 2) {\n                  this.$bus.$emit('GuiderSwitchStatus', parts[1]);\n                }\n                break;\n\n              case 'GuiderLoopExpStatus':\n                if (parts.length === 2) {\n                  this.$bus.$emit('GuiderLoopExpStatus', parts[1]);\n                }\n                break;\n\n              case 'TelescopeRADEC':\n                if (parts.length === 3) {\n                  this.UpdateCirclePos(parts[1], parts[2]);\n                }\n                break;\n\n\n              case 'TelescopeStatus':\n                if (parts.length === 2) {\n                  this.UpdateTelescopeStatus(parts[1]);\n                }\n                break;\n\n              case 'MainCameraStatus':\n                if (parts.length === 2) {\n                  this.UpdateMainCameraStatus(parts[1]);\n                }\n                break;\n\n\n              case 'MainCameraTemperature':\n                if (parts.length === 2) {\n                  this.UpdateMainCameraTemperature(parts[1]);\n                }\n                break;\n\n\n              case 'ShowAllImageFolder':\n                if (parts.length === 3) {\n                  this.$bus.$emit('ShowAllImageFolder', parts[1], parts[2]);\n                }\n                break;\n\n\n              case 'ImageFilesName':\n                if (parts.length === 2) {\n                  this.$bus.$emit('ImageFilesName', parts[1]);\n                }\n                break;\n\n\n              case 'USBCheck':\n                if (parts.length === 2) {\n                  const USBdata = parts[1].split(',');\n                  console.log('USB name: ', USBdata[0]);\n                  console.log('USB space: ', USBdata[1]);\n                  this.SendConsoleLogMsg('USB name:' + USBdata[0], 'info');\n                  this.SendConsoleLogMsg('USB space:' + USBdata[1], 'info');\n\n                  this.$bus.$emit('USB_Name_Sapce', USBdata[0], USBdata[1]);\n                }\n                break;\n\n              case 'ImageSaveErroe':\n                if (parts.length === 2) {\n                  const Erroe = parts[1];\n                  if (Erroe === 'USB-Null') {\n                    this.callShowMessageBox('No USB Drive Detected.', 'error');\n                  } else if (Erroe === 'USB-Multiple') {\n                    this.callShowMessageBox('Multiple USB drives detected, please remove excess USB drives.', 'error');\n                  }\n                }\n                break;\n\n              case 'DetectedStars':\n                console.log('Detected', parts.length, 'stars.');\n                this.SendConsoleLogMsg('Detected ' + parts.length + ' stars.', 'info');\n                this.DetectedStarsList = [];\n                for (let i = 0; i < parts.length; i++) {\n                  const a = parts[i];\n                  const b = a.split('|');\n                  if (b.length === 3) {\n                    const x = b[0];\n                    const y = b[1];\n                    const hfr = b[2];\n                    // console.log('Stars at(', x, ',', y, ') with HFR:', hfr);\n                    this.DetectedStarsList.push({ x: x, y: y, hfr: hfr });\n                  }\n                }\n                this.DetectedStarsFinish = true;\n                break;\n\n              case 'SolveImageResult':\n                if (parts.length === 5) {\n                  // this.UpdateCirclePos(parts[1], parts[2]);\n                  console.log('Solve Image Result(RA_Degree, DEC_Degree, Azimuth, Altitude):', parts[1], ',', parts[2], ',', parts[3], ',', parts[4]);\n                  this.SendConsoleLogMsg('Solve Image Result(RA_Degree, DEC_Degree, Azimuth, Altitude):' + parts[1] + ',' + parts[2] + ',' + parts[3] + ',' + parts[4], 'info');\n                  this.SolveResultMark(parts[1], parts[2], parts[3], parts[4]);\n                  this.$bus.$emit(\"ImageSolveFinished\", true);\n                  this.$bus.$emit('setParsingProgress', false);\n                }\n                break;\n\n              case 'SolveFovResult':\n                if (parts.length === 9) {\n                  const RaDec = [\n                    { Ra: parts[1], Dec: parts[2] },\n                    { Ra: parts[3], Dec: parts[4] },\n                    { Ra: parts[5], Dec: parts[6] },\n                    { Ra: parts[7], Dec: parts[8] },\n                  ];\n                  this.SolveFovMark(RaDec);\n                }\n                break;\n\n              case 'RealTimeSolveImageResult':\n                if (parts.length === 5) {\n                  console.log('Solve Image Result(RA_Degree, DEC_Degree, Azimuth, Altitude):', parts[1], ',', parts[2], ',', parts[3], ',', parts[4]);\n                  this.SendConsoleLogMsg('Solve Image Result(RA_Degree, DEC_Degree, Azimuth, Altitude):' + parts[1] + ',' + parts[2] + ',' + parts[3] + ',' + parts[4], 'info');\n                  const result = this.SolveResultMark_RealTime(parts[1], parts[2], parts[3], parts[4])\n                }\n                break;\n\n              case 'SolveImagefailed':\n                this.callShowMessageBox('Solve image faild...', 'error');\n                this.$bus.$emit(\"ImageSolveFinished\", false);\n                this.$bus.$emit('setParsingProgress', false);\n                break;\n\n              case 'MainCameraOffsetRange':\n                if (parts.length === 3) {\n                  console.log('MainCameraOffsetRange:', parts[1], ',', parts[2]);\n                  this.SendConsoleLogMsg('MainCameraOffsetRange:' + parts[1] + ',' + parts[2], 'info');\n                  this.MainCameraOffsetMin = parts[1];\n                  this.MainCameraOffsetMax = parts[2];\n\n                  const OffsetItem = this.MainCameraConfigItems.find(item => item.label === 'Offset');\n                  if (OffsetItem) {\n                    console.log('MainCameraOffsetRange:', parseInt(this.MainCameraOffsetMin, 10), ',', parseInt(this.MainCameraOffsetMax, 10));\n                    OffsetItem.inputMin = parseInt(this.MainCameraOffsetMin, 10);\n                    OffsetItem.inputMax = parseInt(this.MainCameraOffsetMax, 10);\n                  }\n                }\n                break;\n\n              case 'MainCameraGainRange':\n                if (parts.length === 3) {\n                  console.log('MainCameraGainRange:', parts[1], ',', parts[2]);\n                  this.SendConsoleLogMsg('MainCameraGainRange:' + parts[1] + ',' + parts[2], 'info');\n                  this.MainCameraGainMin = parts[1];\n                  this.MainCameraGainMax = parts[2];\n\n                  const gainItem = this.MainCameraConfigItems.find(item => item.label === 'Gain');\n                  if (gainItem) {\n                    console.log('MainCameraGainRange:', parseInt(this.MainCameraGainMin, 10), ',', parseInt(this.MainCameraGainMax, 10));\n                    gainItem.inputMin = parseInt(this.MainCameraGainMin, 10);\n                    gainItem.inputMax = parseInt(this.MainCameraGainMax, 10);\n                  }\n                }\n                break;\n\n              case 'OutputPowerStatus':\n                if (parts.length === 3) {\n                  const index = parseInt(parts[1], 10);\n                  const value = parseInt(parts[2], 10);\n\n                  if (index === 1) {\n                    this.OutPutPower_1_ON = value === 1;\n                  } else if (index === 2) {\n                    this.OutPutPower_2_ON = value === 1;\n                  }\n                }\n                break;\n\n              case 'PHD2StarBoxView':\n                if (parts.length === 2) {\n                  const view = parts[1];\n                  this.$bus.$emit('PHD2StarBoxView', view);\n                }\n                break;\n\n              case 'PHD2StarCrossView':\n                if (parts.length === 2) {\n                  const view = parts[1];\n                  this.$bus.$emit('PHD2StarCrossView', view);\n                }\n                break;\n\n              case 'PHD2StarBoxPosition':\n                if (parts.length === 5) {\n                  const PHD2ImageSize_X = parseInt(parts[1], 10);\n                  const PHD2ImageSize_Y = parseInt(parts[2], 10);\n                  const Box_X = parseInt(parts[3], 10);\n                  const Box_Y = parseInt(parts[4], 10);\n                  this.DrawPHD2Box(PHD2ImageSize_X, PHD2ImageSize_Y, Box_X, Box_Y);\n                }\n                break;\n\n              case 'PHD2MultiStarsPosition':\n                if (parts.length === 5) {\n                  const PHD2ImageSize_X = parseInt(parts[1], 10);\n                  const PHD2ImageSize_Y = parseInt(parts[2], 10);\n                  const Box_X = parseInt(parts[3], 10);\n                  const Box_Y = parseInt(parts[4], 10);\n                  this.DrawPHD2MultiStars(PHD2ImageSize_X, PHD2ImageSize_Y, Box_X, Box_Y);\n                }\n                break;\n\n              case 'ClearPHD2MultiStars':\n                this.$bus.$emit('ClearPHD2MultiStars');\n                break;\n\n              case 'PHD2StarCrossPosition':\n                if (parts.length === 5) {\n                  const PHD2ImageSize_X = parseInt(parts[1], 10);\n                  const PHD2ImageSize_Y = parseInt(parts[2], 10);\n                  const Cross_X = parseInt(parts[3], 10);\n                  const Cross_Y = parseInt(parts[4], 10);\n                  this.DrawPHD2Cross(PHD2ImageSize_X, PHD2ImageSize_Y, Cross_X, Cross_Y);\n                }\n                break;\n\n              case 'QTClientVersion':\n                if (parts.length === 2) {\n                  this.QTClientVersion = parts[1];\n                }\n                break;\n\n\n              case 'CaptureImageSaveStatus':\n                if (parts.length === 2) {\n                  const status = parts[1];\n                  if (status === 'Repeat') {\n                    this.callShowMessageBox(this.$t('There is no need to save it again'), 'error');\n                  } else if (status === 'Success') {\n                    this.callShowMessageBox(this.$t('Image saved successfully'), 'success');\n                  } else if (status === 'Null') {\n                    this.callShowMessageBox(this.$t('No images to save'), 'error');\n                  }\n                }\n                break;\n\n              case 'INDIServerDebug':\n                if (parts.length === 2) {\n                  const message = parts[1];\n                  this.$bus.$emit('INDIServerDebug', message);\n                }\n                break;\n\n              case 'HotspotName':\n                if (parts.length === 2) {\n                  const Name = parts[1];\n                  this.$bus.$emit('HotspotName', Name);\n                }\n                break;\n\n              case 'EditHotspotNameSuccess':\n                this.$bus.$emit('EditHotspotNameSuccess');\n                break;\n\n              case 'DSLRsSetup':\n                if (parts.length === 2) {\n                  const Name = parts[1];\n                  this.$bus.$emit('ShowDSLRsSetup', Name);\n                }\n                break;\n\n              case 'ConfigureRecovery':\n                if (parts.length === 3) {\n                  const ConfigName = parts[1];\n                  const ConfigValue = parts[2];\n                  console.log('Configure:', ConfigName, ',', ConfigValue);\n                  this.SendConsoleLogMsg('Configure Recovery:' + parts[1] + ',' + parts[2], 'info');\n                  this.$bus.$emit(ConfigName, ConfigValue);\n\n                  if (parts[1] === 'FocalLength') {\n                    this.TelescopesConfigItems[0].value = parts[2];\n                    for (const device of this.devices) {\n                      if (device.driverType === 'Telescopes') {\n                        if (parts[2] === '' || parts[2] === NaN) {\n                          device.device = '';\n                        }else{\n                          device.device = parts[2] + ' mm';\n                        }\n                      }\n                    }\n                  }\n\n                  if (parts[1] === 'GuiderFocalLength') {\n                    this.GuiderConfigItems[0].value = parts[2];\n                    this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GuiderFocalLength:' + parts[2]);\n                  }\n\n                  if (parts[1] === 'Coordinates') {\n                    const [lat, lng] = parts[2].split(',').map(coord => parseFloat(coord.trim()));\n                    this.SetCurrentLocation(lat, lng);\n                  }\n\n                  if (parts[1] === 'MultiStarGuider') {\n                    this.GuiderConfigItems[1].value = (parts[2] === 'true');\n                    this.$bus.$emit('AppSendMessage', 'Vue_Command', 'MultiStarGuider:' + parts[2]);\n                  }\n\n                  if (parts[1] === 'GuiderGain') {\n                    this.GuiderConfigItems[2].value = parts[2];\n                    this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GuiderGain:' + parts[2]);\n                  }\n\n                  if (parts[1] === 'CalibrationDuration') {\n                    this.GuiderConfigItems[3].value = parts[2];\n                    this.$bus.$emit('AppSendMessage', 'Vue_Command', 'CalibrationDuration:' + parts[2]);\n                  }\n\n                  if (parts[1] === 'RaAggression') {\n                    this.GuiderConfigItems[4].value = parts[2];\n                    this.$bus.$emit('AppSendMessage', 'Vue_Command', 'RaAggression:' + parts[2]);\n                  }\n\n                  if (parts[1] === 'DecAggression') {\n                    this.GuiderConfigItems[5].value = parts[2];\n                    this.$bus.$emit('AppSendMessage', 'Vue_Command', 'DecAggression:' + parts[2]);\n                  }\n                }\n                break;\n\n\n              case 'ConnectDriverSuccess':\n                if (parts.length === 2) {\n                  const device = parts[1];\n                  this.connectDriverSuccess(device);\n                }\n                break;\n\n              case 'ConnectDriverFailed':\n                if (parts.length === 2) {\n                  const message = parts[1];\n                  this.connectDriverFailed(message);\n                }\n                break;\n\n              case 'DisconnectDriverSuccess':\n                if (parts.length === 2) {\n                  const device = parts[1];\n                  this.disconnectDriversuccess(device);\n                }\n                break;\n\n              case 'DisconnectDriverFail':\n                if (parts.length === 2) {\n                  const driver = parts[1];\n                  this.disconnectDriverFail(device)\n                }\n\n              case 'SelectedDriverList':\n                if (parts.length >= 3) {\n                  const deviceObjects = parts.slice(1).reduce((acc, part, index, array) => {\n                    if (index % 2 === 0) {\n                      acc.push({ [array[index]]: array[index + 1] });\n                    }\n                    return acc;\n                  }, []);\n                  this.loadSelectedDriverList(deviceObjects);\n                }\n                break;\n\n\n              case 'BindDeviceList':\n                if (parts.length >= 3) {\n                  const deviceObjects = parts.slice(1).reduce((acc, part, index, array) => {\n                    if (index % 2 === 0) {\n                      acc.push({ [array[index]]: array[index + 1] });\n                    }\n                    return acc;\n                  }, []);\n                  this.loadBindDeviceList(deviceObjects);\n                }\n                break;\n\n\n              case 'BindDeviceTypeList':\n                if (parts.length >= 5) { // 确保至少有五个参数加上前缀\n                  const deviceTypeObjects = [];\n                  for (let i = 1; i < parts.length; i += 4) {\n                    const deviceTypeObject = {\n                      Type: parts[i],\n                      DeviceName: parts[i + 1],\n                      DriverName: parts[i + 2],\n                      isbind: parts[i + 3] == \"true\" ? true : false,\n                    };\n                    deviceTypeObjects.push(deviceTypeObject);\n                  }\n                  this.loadBindDeviceTypeList(deviceTypeObjects);\n                }\n                break;\n\n              case 'deleteDeviceAllocationList':\n                if (parts.length === 2) {\n                  const deviceName = parts[1];\n                  this.deleteDeviceAllocationList(deviceName);\n                }\n                break;\n\n              case 'deleteDeviceTypeAllocationList':\n                if (parts.length === 2) {\n                  const deviceType = parts[1];\n                  if (deviceType != '') {\n                    this.$bus.$emit('deleteDeviceTypeAllocationList', deviceType);\n                  }\n                  if (deviceType == 'CFW') {\n                    for (let i = 0; i < this.devices.length; i++) {\n                      if (this.devices[i].driverType == 'CFW') {\n                        this.devices[i].isConnected = false;\n                        this.devices[i].device = '';\n                        this.devices[i].driverName = '';\n                        this.devices[i].BaudRate = 9600;\n                        this.$bus.$emit('CFWConnected', 0);\n                      }\n                    }\n                  }\n                }\n                break;\n\n              case 'ParseInfoEmitted':\n                if (parts.length === 2) {\n                  const progress = parts[1];\n                  this.$bus.$emit('ParseInfoEmitted', progress);\n                }\n                break;\n\n              case 'GuiderUpdateStatus':\n                if (parts.length === 2) {\n                  const status = parts[1];\n                  this.$bus.$emit('GuiderUpdateStatus', parseInt(status, 10));\n                }\n                break;\n\n              case 'LoopSolveImageFinished':\n                this.$bus.$emit('LoopSolveImageFinished');\n                break;\n\n              case 'disconnectDevicehasortherdevice':\n                if (parts.length === 2) {\n                  const drivername = parts[1];\n                  this.showSelectdisconnectDriver(drivername);\n                }\n                break;\n\n              case 'getFocuserMoveState':\n                this.$bus.$emit('getFocuserMoveState');\n                break;\n\n              case 'FocusMoveToLimit':\n                if (parts.length === 2) {\n                  const errorlog = parts[1];\n                  this.callShowMessageBox(errorlog, 'error');\n                }\n                break;\n\n              case 'startFocusLoopSjootingfile':\n                if (parts.length === 2) {\n                  const message = parts[1];\n                  this.$bus.$emit('startFocusLoopSjootingfile', message);\n                }\n                break;\n\n              case 'setFocuserLoopingState':\n                if (parts.length === 2) {\n                  const message = parts[1];\n                  this.$bus.$emit('setFocuserLoopingState', message);\n                  if (message == 'true') {\n                    this.isFocusLoopShooting = true;\n                  } else {\n                    this.isFocusLoopShooting = false;\n                  }\n                }\n                break;\n\n              // case 'focuserROIStarsList':\n              //   if (parts.length === 4) {\n              //     const x = parts[1];\n              //     const y = parts[2];\n              //     const HFR = parts[3];\n              //     this.focuserROIStarsList.push({ x, y, HFR });\n              //   }\n              //   break;\n\n              // case 'clearFocuserROIStarsList':\n              //   this.focuserROIStarsList = [];\n              //   break;\n\n              case 'setSelectStarPosition':\n                if (parts.length === 4) {\n                  this.DrawSelectStarX = parseFloat(parts[1]);\n                  this.DrawSelectStarY = parseFloat(parts[2]);\n                  this.DrawSelectStarHFR = parseFloat(parts[3]);\n                }\n                break;\n\n              case 'SetRedBoxState':\n                if (parts.length === 4) {\n                  const length = parts[1];\n                  this.ROI_x = parseFloat(parts[2]);\n                  this.ROI_y = parseFloat(parts[3]);\n                  this.setRedBoxState(length, this.ROI_x, this.ROI_y);\n                  console.log('设置红色ROI框: ', length, this.ROI_x, this.ROI_y);\n                }\n                break;\n\n              case 'SetVisibleArea':\n                if (parts.length === 4) {\n                  this.visibleX = parseFloat(parts[1]);\n                  this.visibleY = parseFloat(parts[2]);\n                  this.scale = parseFloat(parts[3]);\n                  this.$bus.$emit('setScale', this.scale);\n                  console.log('设置可见区域: ', this.visibleX, this.visibleY, this.scale);\n                  this.SendConsoleLogMsg('update VisibleArea x=' + this.visibleX + ', y=' + this.visibleY + ', scale=' + this.scale, 'info');\n                }\n                break;\n\n              case 'SetSelectStars':\n                if (parts.length === 3) {\n                  this.selectStarX = parseFloat(parts[1]);\n                  this.selectStarY = parseFloat(parts[2]);\n                  this.SendConsoleLogMsg('update SelectStars x=' + this.selectStarX + ', y=' + this.selectStarY, 'info');\n                }\n                break;\n\n              case 'updateCPUInfo':\n                if (parts.length === 3) {\n                  let cpuTemp = parseFloat(parts[1]);\n                  let cpuUsage = parseFloat(parts[2]);\n                  this.cpuTemp = isNaN(cpuTemp) ? null : (cpuTemp % 1 === 0 ? cpuTemp : cpuTemp.toFixed(1));  // 如果 cpuTemp 是 NaN，设置为 null，否则如果 cpuTemp 是整数，就不保留小数，否则保留一位小数\n                  this.cpuUsage = isNaN(cpuUsage) ? null : (cpuUsage % 1 === 0 ? cpuUsage : cpuUsage.toFixed(1));  // 如果 cpuUsage 是 NaN，设置为 null，否则如果 cpuUsage 是整数，就不保留小数，否则保留一位小数\n                  this.$bus.$emit('updateCPUInfo', this.cpuTemp, this.cpuUsage);\n                }\n                break;\n\n              case 'TianWen':\n                if (parts.length === 4) {\n                  const notice_type = parts[1];\n                  const ra = parts[2];\n                  const dec = parts[3];\n                  this.$bus.$emit('TianWen', notice_type, ra, dec);\n                }\n                break;\n\n              case 'setMainCameraParameters':\n                if (parts.length >= 3) {\n                  let parameters = {};\n                  for (let i = 1; i < parts.length; i += 2) {\n                    const parameter = parts[i];\n                    const value = parts[i + 1];\n                    parameters[parameter] = value;\n                  }\n                  this.setMainCameraParameters(parameters);\n                }\n                break;\n\n              case 'localMessage':\n                if (parts.length === 4) {\n                  const lat = parts[1];\n                  const lon = parts[2];\n                  const language = parts[3];\n                  this.SendConsoleLogMsg('localMessage: ' + lat + ',' + lon + ',' + language, 'info');\n                  if (language == 'zh') {\n                    this.$bus.$emit('ClientLanguage', 'cn');\n                  } else {\n                    this.$bus.$emit('ClientLanguage', 'en');\n                  }\n                  this.$bus.$emit('setLocationLatAndLon', lat, lon);\n                }\n                break;\n\n              default:\n                console.warn('未处理命令: ', data.message);\n                break;\n            }\n          }\n        }\n        else if (data.type === 'QT_Confirm') {\n          // 处理确认消息\n          const messageId = data.msgid;\n          this.handleMessageResponse(messageId);\n        }else if (data.type === 'Process_Command') {\n          // 处理返回消息\n          const parts = data.message.split(':');\n          if (parts[0] === 'qtServerIsOver') {\n            this.callShowMessageBox('QT Server is over', 'error');\n            this.ShowConfirmDialog('restart', 'QT server encountered a segmentation fault or is frozen, please restart or exit!','restartQtServer');\n          }\n        }\n\n        this.receivedMessages.push(data.message); // 将接收到的消息添加到数组中\n      };\n\n      this.websocket.onerror = (error) => {\n        const errorDetails = {\n          type: error.type,\n          timestamp: new Date().toISOString(),\n          url: this.WebSocketUrl,\n          readyState: this.websocket.readyState,\n          protocol: this.websocket.protocol,\n          extensions: this.websocket.extensions\n        };\n        console.error('WebSocket Error Details:', errorDetails);\n        this.SendConsoleLogMsg('WebSocket Error: ' + JSON.stringify(errorDetails), 'error');\n        this.websocketState = 'error';\n        this.networkDisconnected = true;\n      };\n\n      this.websocket.onclose = () => {\n        console.log('QHYCCD | WebSocket disconnected');\n        this.websocketState = 'disconnected';\n        this.networkDisconnected = true; // WebSocket连接关闭时设置网络连接状态\n        console.log('QHYCCD | WebSocket disconnected');\n        this.$bus.$emit('ShowNetStatus', 'false');\n\n        // 设置一个定时器，1秒后检查网络状态\n        this.disconnectTimeout = setTimeout(() => {\n          if (this.networkDisconnected) { // 如果1秒后仍然断开\n            this.callShowMessageBox('WebSocket disconnected', 'error');\n            this.disconnectTimeoutTriggered = true;\n          }\n        }, 1000); // 1秒后执行\n\n        // 启动自动重连\n        this.reconnectWebSocket();\n      };\n    },\n\n    // 自动重连\n    reconnectWebSocket() {\n      setTimeout(() => {\n        console.log('QHYCCD | WebSocket reconnected');\n        this.SendConsoleLogMsg('WebSocket reconnected.', 'info');\n        this.connect();\n      }, 2000); // 2秒后尝试重新连接\n    },\n    // 自动重连\n\n    //监听网络连接状态\n    setupNetworkStatusListener() {\n      window.addEventListener('online', () => {\n        // 检查断开连接的定时器是否已经触发\n        if (this.disconnectTimeoutTriggered) {\n          this.callShowMessageBox('WebSocket connected', 'success');\n        }\n        clearTimeout(this.disconnectTimeout); // 清除断开连接的定时器\n        this.networkDisconnected = false; // 网络恢复时重置网络连接状态\n        this.$bus.$emit('ShowNetStatus', 'true');\n        this.StatusRecovery();\n        this.reconnectWebSocket(); // 网络恢复后自动重连WebSocket\n      });\n\n      window.addEventListener('offline', () => {\n        this.networkDisconnected = true; // 网络断开时设置网络连接状态\n        this.$bus.$emit('ShowNetStatus', 'false');\n        this.disconnectTimeoutTriggered = false; // 初始化断开连接定时器触发标志\n        // 设置一个定时器，1秒后检查网络状态\n        this.disconnectTimeout = setTimeout(() => {\n          if (this.networkDisconnected) { // 如果1秒后仍然断开\n            this.disconnectTimeoutTriggered = true; // 标记定时器已触发\n            this.callShowMessageBox('WebSocket disconnected', 'error');\n          }\n        }, 1000); // 1秒后执行\n      });\n    },\n    //监听网络连接状态\n\n    sendMessage(type, message) {\n      console.log(\"QHYCCD | sendMessage: \", message);\n\n      const messageId = this.generateMessageId(); // 生成唯一的消息ID\n      const messageObj = { type: type, msgid: messageId, message: message }; // 创建包含类型和消息的对象\n      const messageJson = JSON.stringify(messageObj); // 将消息对象转换为 JSON 字符串\n      const messageState = { msgid: messageId, text: messageJson, success: false }; // 创建包含消息和状态信息的对象\n\n      if (this.websocket.readyState === WebSocket.OPEN) {\n        this.websocket.send(messageJson);\n        // messageState.success = true; // 设置消息为成功\n      }\n      this.sentMessages.push(messageState); // 添加消息对象到已发送的消息数组\n    },\n\n    generateMessageId() {\n      // 使用时间戳和计数器生成唯一的消息ID\n      return Date.now() + \"-\" + (this.messageCounter++);\n    },\n\n    handleMessageResponse(messageId) {\n      // 根据返回的消息ID更新消息发送状态\n      const lastMessage = this.sentMessages[this.sentMessages.length - 1];\n      if (lastMessage && lastMessage.msgid === messageId) {\n        lastMessage.success = true;\n      }\n    },\n\n    // 消息框\n    callShowMessageBox(msg, type) {\n      console.log('QHYCCD | callShowMessageBox:', msg, type);\n      this.SendConsoleLogMsg(msg, type);\n      this.$bus.$emit('showMsgBox', msg, type);\n    },\n    // 消息框\n\n    locationClicked: function () {\n      this.$bus.$emit('Vue_Command', 'localMessage'); // 获取位置信息\n      this.$store.commit('toggleBool', 'showLocationDialog');\n\n      this.$bus.$emit('ResetTime');\n    },\n\n    SetCurrentLocation(lat, lng) {\n      console.log('SetCurrentLocation:', lat, ',', lng);\n      this.$bus.$emit('SendConsoleLogMsg', 'Set Current Location:' + lat + ',' + lng, 'info');\n      this.$bus.$emit('PolarPointAltitude', lat);\n      this.$bus.$emit('resetLocation', lat, lng);\n      const loc = {\n        short_name: 'Unknown',\n        country: 'Unknown',\n        lng: lng,\n        lat: lat,\n        alt: 0,\n        accuracy: 0,\n        street_address: ''\n      }\n      this.$store.commit('setCurrentLocation', loc);\n\n      this.$bus.$emit('ShowPositionInfo', lat, lng);\n\n      setTimeout(() => {\n        this.$bus.$emit('ResetTime');\n      }, 1000);\n    },\n    // 状态恢复\n    StatusRecovery() {\n      // this.sendMessage('SendConsoleLogMsg', '网络连接恢复，恢复当前状态!', 'warning');\n      this.getQTClientVersion();                // 获取QTClient版本\n      this.sendMessage('Vue_Command', 'getROIInfo'); // 获取ROI信息\n      this.sendMessage('Vue_Command', 'localMessage'); // 获取位置信息\n      this.sendMessage('Vue_Command', 'getMainCameraParameters'); // 获取主相机参数\n      this.RecalibratePolarAxis(); // 重新校准极轴\n      // this.sendMessage('Vue_Command', 'getStagingSolveResult'); // 获取定标结果\n      this.sendMessage('Vue_Command', 'getFocuserLoopingState'); // 获取焦距器循环状态\n      this.sendMessage('Vue_Command', 'getStagingScheduleData'); // 获取定标计划数据\n      this.sendMessage('Vue_Command', 'getStagingSolveResult'); // 获取定标结果\n      this.sendMessage('Vue_Command', 'getGPIOsStatus'); // 获取GPIO状态\n      this.sendMessage('Vue_Command', 'getStagingImage'); // 获取最后拍摄的图像\n\n      this.disconnectTimeoutTriggered = false;\n    },\n\n    openPowerManagerPage() {\n      this.isOpenDevicePage = false;\n      this.isOpenPowerPage = true;\n\n      this.drawer_2 = true;\n    },\n\n    QuitToMainApp() {\n      this.sendMessage('Broadcast_Msg', 'CloseWebView');\n    },\n\n    selectDevice(device) {\n      if (!this.haveDeviceConnect || (this.haveDeviceConnect) || device.driverType === 'Telescopes') {\n        this.isOpenDevicePage = true;\n        this.isOpenPowerPage = false;\n\n        if (device.isget === false) {\n          // device.isget = true;\n          this.sendMessage('Vue_Command', 'SelectIndiDriver:' + device.type + \":\" + device.ListNum);\n          this.drivers = [];\n        }\n\n        this.CurrentDriverType = device.driverType;\n        this.DeviceIsConnected = device.isConnected;\n        this.BaudRateSelected = device.BaudRate;\n        if (device.driverType === 'Telescopes') {\n          this.DeviceIsConnected = true;\n        }\n\n        this.drawer_2 = true;\n\n        this.ToBeConnectDevice = [];\n        this.devicesList.forEach(devicesList => {\n          if (devicesList.type === this.CurrentDriverType) {\n            this.ToBeConnectDevice.push(devicesList);\n          }\n        });\n      } else {\n        this.callShowMessageBox('The device is not connected.', 'error');\n      }\n\n    },\n\n    CurrentConfigItems() {\n      console.log('CurrentConfigItems: ', this.CurrentDriverType + 'ConfigItems');\n      switch (this.CurrentDriverType) {\n        case 'Guider':\n          return this.GuiderConfigItems;\n        case 'MainCamera':\n          return this.MainCameraConfigItems;\n        case 'Mount':\n          return this.MountConfigItems;\n        case 'Telescopes':\n          return this.TelescopesConfigItems;\n        case 'Focuser':\n          return this.FocuserConfigItems;\n        case 'PoleCamera':\n          return this.PoleCameraConfigItems;\n        case 'CFW':\n          return this.CFWConfigItems;\n        default:\n          return [];\n      }\n    },\n\n    confirmDriver() {\n      // 确定驱动的逻辑\n      console.log(\"QHYCCD | confirmDriver: \", this.selectedDriver);\n      this.SendConsoleLogMsg('Confirm Indi Driver:' + this.selectedDriver, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'ConfirmIndiDriver:' + this.selectedDriver + ':' + this.BaudRateSelected);\n      this.confirmDriverType = this.CurrentDriverType;\n      this.loadingSelectDriver = true;\n\n      this.devices.forEach(device => {\n        if (device.driverType === this.CurrentDriverType) {\n          device.device = this.selectedDriver;\n          device.driverName = this.selectedDriver;\n          device.BaudRate = this.BaudRateSelected;\n        }\n      });\n    },\n    clearDriver() {\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'ClearIndiDriver');\n      this.SendConsoleLogMsg('Clear Indi Driver', 'info');\n      this.devices.forEach(device => {\n        if (device.driverType === this.CurrentDriverType) {\n          device.device = '';\n          device.driverName = '';\n          device.BaudRate = 9600;\n        }\n      });\n    },\n    confirmDevice() {\n      // 确定设备的逻辑\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'ConfirmIndiDevice:' + this.selectedDevice + ':' + this.selectedDriver);\n      // this.$bus.$emit('AppUpdateDevices', this.CurrentDriverType, this.selectedDevice);\n      this.updateDevices(this.CurrentDriverType, this.selectedDevice);\n    },\n\n    updateDevices(driverType, newDevice) {    // 手动选择\n      this.devices.forEach(device => {\n        if (device.driverType === driverType) {\n          device.device = newDevice;\n        }\n      });\n    },\n\n    updateDevices_(ListNum, newDevice) {    // 从文件导入\n      this.devices.forEach(device => {\n        if (device.ListNum === ListNum) {\n          device.device = newDevice;\n        }\n      });\n      this.loadingConnectAllDevice = false;\n    },\n\n    updateDevicesConnect(type, DeviceName, DriverName, isBind = true) {    // 连接成功\n      this.SendConsoleLogMsg('updateDevicesConnect' + type + ' ' + DeviceName + ' ' + DriverName + ' ' + isBind, 'info');\n      this.devices.forEach(device => {\n        if (device.driverType === type) {\n          if (isBind == true) {\n            device.device = DeviceName;\n          } else {\n            device.device = \"Not Bind Device\";\n          }\n          device.driverName = DriverName;\n          device.isConnected = true;\n        }\n      });\n      this.callShowMessageBox(DeviceName + ' success connected', 'success');\n      this.haveDeviceConnect = true;\n      this.loadingConnectAllDevice = false;\n\n      if (type === 'MainCamera') {\n        this.$bus.$emit('MainCameraConnected', 1);\n        console.log('MainCamera is Connected.');\n      } else if (type === 'Mount') {\n        this.$bus.$emit('MountConnected', 1);\n        console.log('Mount is Connected.');\n      } else if (type === 'CFW') {\n        this.$bus.$emit('CFWConnected', 1);\n        console.log('Mount is Connected.');\n      } else if (type === 'Focuser') {\n        this.$bus.$emit('FocuserConnected', 1);\n        console.log('Focuser is Connected.');\n      } else if (type === 'Guider') {\n        this.$bus.$emit('GuiderConnected', 1);\n        console.log('Guider is Connected.');\n      }\n      console.log('updateDevicesConnect: ', type, DeviceName, DriverName, isBind);\n\n      this.$bus.$emit('DeviceConnectSuccess', type, DeviceName, DriverName, isBind);\n    },\n    startConnectBtnPress(event) {\n      // 如果是触摸事件，标记并处理\n      if (event.type === 'touchstart') {\n        this.isTouching = true;\n        this.isConnectBtnLongPress = false; // 重置长按标记\n        this.ConnectBtnPressTimer = setTimeout(() => {\n          this.isConnectBtnLongPress = true; // 标记为长按\n          this.handleConnectBtnLongPress();\n        }, this.ConnectBtnlongPressThreshold);\n      }\n      // 如果是鼠标事件，且没有正在进行的触摸事件，则处理\n      else if (event.type === 'mousedown' && !this.isTouching) {\n        this.isConnectBtnLongPress = false; // 重置长按标记\n        this.ConnectBtnPressTimer = setTimeout(() => {\n          this.isConnectBtnLongPress = true; // 标记为长按\n          this.handleConnectBtnLongPress();\n        }, this.ConnectBtnlongPressThreshold);\n      }\n    },\n    endConnectBtnPress(event) {\n      // 如果是触摸事件，处理并重置标记\n      if (event.type === 'touchend') {\n        clearTimeout(this.ConnectBtnPressTimer); // 清除定时器\n        if (!this.isConnectBtnLongPress) {\n          this.handleConnectBtnClick(); // 如果不是长按，则触发点击事件\n        }\n        this.ConnectBtnPressTimer = null; // 重置定时器\n        this.isTouching = false; // 重置触摸标记\n      }\n      // 如果是鼠标事件，且没有正在进行的触摸事件，则处理\n      else if (event.type === 'mouseup' && !this.isTouching) {\n        clearTimeout(this.ConnectBtnPressTimer); // 清除定时器\n        if (!this.isConnectBtnLongPress) {\n          this.handleConnectBtnClick(); // 如果不是长按，则触发点击事件\n        }\n        this.ConnectBtnPressTimer = null; // 重置定时器\n      }\n    },\n    handleConnectBtnClick() {\n      if (this.haveDeviceConnect) {\n        this.callShowMessageBox('Please disconnect all devices first.', 'error');\n        return;\n      }\n      if (!this.ConnectBtnCanClick) return; // 如果不可点击，直接返回\n      this.ConnectBtnCanClick = false; // 设置为不可点击\n      console.log(\"Connect Button clicked\");\n\n      this.connectAllDevice();\n\n      // 恢复点击权限\n      setTimeout(() => {\n        this.ConnectBtnCanClick = true;\n      }, 1000); // 1秒后恢复\n    },\n    handleConnectBtnLongPress() {\n      if (this.haveDeviceConnect) {\n        this.callShowMessageBox('Please disconnect all devices first.', 'error');\n        return;\n      }\n      // 长按事件的处理\n      console.log(\"Connect Button long pressed\");\n\n      this.autoConnectAllDevice();\n    },\n    connectAllDevice() {\n      console.log(\"QHYCCD | connectAllDevice.\");\n      this.SendConsoleLogMsg('Connect All Device', 'info');\n      this.sendMessage('Vue_Command', 'connectAllDevice');\n      this.loadingConnectAllDevice = true;\n    },\n    autoConnectAllDevice() {\n      console.log(\"QHYCCD | autoConnectAllDevice.\");\n      this.SendConsoleLogMsg('Auto Connect All Device', 'info');\n      this.sendMessage('Vue_Command', 'autoConnectAllDevice');\n      this.loadingConnectAllDevice = true;\n    },\n\n    // connectAllDevice() {\n    //   console.log(\"QHYCCD | connectAllDevice.\");\n    //   this.SendConsoleLogMsg('Connect All Device', 'info');\n    //   this.sendMessage('Vue_Command', 'connectAllDevice');\n    //   this.loadingConnectAllDevice = true;\n    // },\n\n    // autoConnectAllDevice() {\n    //   console.log(\"QHYCCD | autoConnectAllDevice.\");\n    //   this.SendConsoleLogMsg('Auto Connect All Device', 'info');\n    //   this.sendMessage('Vue_Command', 'autoConnectAllDevice');\n    //   this.loadingConnectAllDevice = true;\n    // },\n\n    // startConnectBtnPress() {\n    //   this.isConnectBtnLongPress = false; // 重置长按标记\n    //   this.ConnectBtnPressTimer = setTimeout(() => {\n    //     this.isConnectBtnLongPress = true; // 标记为长按\n    //     this.handleConnectBtnLongPress();\n    //   }, this.ConnectBtnlongPressThreshold);\n    // },\n    // endConnectBtnPress() {\n    //   clearTimeout(this.ConnectBtnPressTimer); // 清除定时器\n    //   if (!this.isConnectBtnLongPress) {\n    //     this.handleConnectBtnClick(); // 如果不是长按，则触发点击事件\n    //   }\n    //   this.ConnectBtnPressTimer = null; // 重置定时器\n    // },\n    // handleConnectBtnClick() {\n    //   if (this.haveDeviceConnect) {\n    //     this.callShowMessageBox('Please disconnect all devices first.', 'error');\n    //     return;\n    //   }\n    //   if (!this.ConnectBtnCanClick) return; // 如果不可点击，直接返回\n    //   this.ConnectBtnCanClick = false; // 设置为不可点击\n    //   console.log(\"Connect Button clicked\");\n\n    //   this.connectAllDevice();\n\n    //   // 恢复点击权限\n    //   setTimeout(() => {\n    //     this.ConnectBtnCanClick = true;\n    //   }, 1000); // 1秒后恢复\n    // },\n    // handleConnectBtnLongPress() {\n    //   if (this.haveDeviceConnect) {\n    //     this.callShowMessageBox('Please disconnect all devices first.', 'error');\n    //     return;\n    //   }\n    //   // 长按事件的处理\n    //   console.log(\"Connect Button long pressed\");\n\n    //   this.autoConnectAllDevice();\n    // },\n\n    disconnectAllDevice(confirm) {\n      // 检查是否有设备的 isConnected 属性为 true\n      // const hasConnectedDevices = this.devices.some(device => device.isConnected);\n\n      if (this.haveDeviceConnect) {\n        if (confirm === false) {\n          this.ShowConfirmDialog('Confirm', 'Are you sure you want to disconnect all devices?', 'disconnectAllDevice');\n        } else {\n          this.sendMessage('Vue_Command', 'disconnectAllDevice');\n          this.SendConsoleLogMsg('Disconnect All Device', 'info');\n          this.haveDeviceConnect = false;\n          // this.devices.forEach(device => {\n          //   device.isConnected = false;\n          //   // device.device = '';\n          // });\n\n          this.$bus.$emit('MainCameraConnected', 0);\n          this.$bus.$emit('MountConnected', 0);\n          this.$bus.$emit('CFWConnected', 0);\n          this.$bus.$emit('FocuserConnected', 0);\n          this.$bus.$emit('GuiderConnected', 0);\n          this.claerDeviceList();\n        }\n      } else {\n        this.callShowMessageBox('No devices have been connected.', 'error');\n      }\n    },\n\n    // claerDeviceList() {\n    //   this.devices.forEach(device => {\n    //     device.isConnected = false;\n    //     device.isget = false;\n    //     device.device = ''; \n    //     device.driverName = '';\n    //   });\n    //   this.ToBeConnectDevice = [];\n    //   this.devicesList = [];\n    //   this.drivers = [];\n    //   this.$bus.$emit('claerDeviceAllocationList');\n    // },\n\n    claerDeviceList() {\n      this.devices.forEach(device => {\n        device.device = \"\";\n        device.isConnected = false;\n        device.isget = false;\n        device.driverName = '';\n        device.BaudRate = 9600;\n      });\n      this.ToBeConnectDevice = [];\n      this.devicesList = [];\n      this.drivers = [];\n      this.$bus.$emit('claerDeviceAllocationList');\n    },\n\n    SwitchOutPutPower(index, isPowerON) {\n      if (isPowerON) {\n        this.drawer_2 = false;\n        this.ShowConfirmDialog('Output Power:' + index, 'Are you sure you want to turn off this output power?', 'SwitchOutPutPower');\n      } else {\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'SwitchOutPutPower:' + index);\n        this.SendConsoleLogMsg('Switch OutPutPower' + index, 'info');\n      }\n    },\n\n    RestartRaspberryPi() {\n      this.drawer_2 = false;\n      this.ShowConfirmDialog('Restart', 'Are you sure you want to restart the Raspberry Pi?', 'RestartRaspberryPi');\n    },\n\n    ShutdownRaspberryPi() {\n      this.drawer_2 = false;\n      this.ShowConfirmDialog('Shut Down', 'Are you sure you want to shut down the Raspberry Pi?', 'ShutdownRaspberryPi');\n    },\n\n    ReturnConnectedDevices() {\n      this.devices.forEach(device => {\n        if (device.driverType === 'MainCamera') {\n          if (device.isConnected === true) {\n            this.$bus.$emit('MainCameraConnected', 1);\n            console.log('MainCamera is Connected.');\n            this.SendConsoleLogMsg('MainCamera is Connected.', 'info');\n          }\n        } else if (device.driverType === 'Mount') {\n          if (device.isConnected === true) {\n            this.$bus.$emit('MountConnected', 1);\n            console.log('Mount is Connected.');\n            this.SendConsoleLogMsg('Mount is Connected.', 'info');\n          }\n        }\n      });\n      this.sendMessage('Vue_Command', 'loadSelectedDriverList');\n      this.sendMessage('Vue_Command', 'loadBindDeviceList');\n      this.sendMessage('Vue_Command', 'loadBindDeviceTypeList');\n    },\n\n    OpenIamgeFolder() {\n      this.$bus.$emit('ImageManagerPanelOpen');\n      this.nav = false;\n    },\n\n    OpenDebugLog() {\n      this.$bus.$emit('toggleINDIDebugDialog');\n      this.nav = false;\n    },\n\n    SendConsoleLogMsg(message, type) {\n      if (type == 'error') {\n        console.error('Error: ' + message);\n        this.$bus.$emit('SendConsoleLog', type, message);\n      } else if (type == 'info') {\n        console.log('Info: ' + message);\n        this.$bus.$emit('SendConsoleLog', type, message);\n      } else if (type == 'warning') {\n        console.warn('Warning: ' + message);\n        this.$bus.$emit('SendConsoleLog', type, message);\n      } else {\n        console.log('Debug: ' + message);\n      }\n    },\n\n    DeviceAllocation() {\n      this.$bus.$emit('toggleDeviceAllocationPanel');\n      this.nav = false;\n    },\n\n    CurrentExpTimeList(index, value) {\n      const expTimeIndex = this.MainCameraConfigItems.findIndex(item => item.label === 'ExpTime [' + (index + 1) + ']');\n      if (expTimeIndex !== -1) { // 确保找到了对应的配置项\n        // 更新 ExpTime1 配置项的值\n        this.MainCameraConfigItems[expTimeIndex].value = value;\n      } else {\n        console.error('ExpTime [' + index + '] configuration item not found.');\n      }\n    },\n\n    CurrentCFWList(index, value) {\n      const expTimeIndex = this.CFWConfigItems.findIndex(item => item.label === 'CFW [' + (index + 1) + ']');\n      if (expTimeIndex !== -1) { // 确保找到了对应的配置项\n        // 更新 ExpTime1 配置项的值\n        this.CFWConfigItems[expTimeIndex].value = value;\n      } else {\n        console.error('CFW [' + index + '] configuration item not found.');\n      }\n    },\n\n    // confirmConfiguration(item) {\n    //   console.log(`QHYCCD | confirmConfiguration: ${item.value}`);\n    //   switch (item.driverType) {\n    //     case 'Guider':\n\n    //     case 'MainCamera':\n    //       this.$bus.$emit(item.label, item.label + ':' + item.value);\n    //     case 'Mount':\n\n    //     case 'Telescope':\n\n    //     case 'Focuser':\n    //         this.$bus.$emit(item.label, item.value);  //RedBox Side Length (px)\n\n    //     case 'PoleCamera':\n\n    //     case 'CFW':\n    //       if (item.label.startsWith('CFW [')) {\n    //         this.$bus.$emit('CFWvalue', item.label+':'+item.value);\n    //       }\n    //       else {\n    //         this.$bus.$emit(item.label, item.label+':'+item.value);\n    //       }\n    //   }\n    // },\n\n    confirmConfiguration(List) {\n      List.forEach(item => {\n        if (item.value !== '') {\n          // console.log(item.label, item.value);\n          this.SendConsoleLogMsg(item.label + ':' + item.value, 'info');\n          this.$bus.$emit(item.label, item.label + ':' + item.value);\n        }else if (item.value == '' && item.label === 'Focal Length (mm)'){\n          this.SendConsoleLogMsg(item.label + 'is NULL', 'info');\n          this.$bus.$emit(item.label, item.label+ ':' );\n        }\n      });\n      this.callShowMessageBox('Configuration has been modified!', 'success');\n    },\n\n    loadAndDisplayImage(imagePath) {\n      const canvas = document.getElementById('guiderCamera-canvas');\n      // const canvas = document.getElementById('mainCamera-canvas');\n      if (canvas.getContext) {\n        const ctx = canvas.getContext('2d');\n        const img = new Image();\n\n        img.onload = () => {\n          canvas.width = img.width;\n          canvas.height = img.height;\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\n          ctx.drawImage(img, 0, 0);\n          // this.$bus.$emit('showSolveImage', img);\n        };\n\n        // 添加错误处理\n        img.onerror = (error) => {\n          console.log(`加载图像失败: ${imagePath}`);\n          this.SendConsoleLogMsg(`加载图像失败: ${imagePath}`, 'error');\n        };\n\n        img.src = imagePath;\n      }\n    },\n\n    ImageGainSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const doubleValue = parseFloat(value); // 将值转换为 double 类型\n\n      if (signal === 'ImageGainR') {\n        // 处理 ImageGainR 信号\n        this.ImageGainR = doubleValue;\n        this.SendConsoleLogMsg('ImageGainR is set to:' + doubleValue, 'info');\n        this.sendMessage('Vue_Command', 'ImageGainR:' + doubleValue);\n      } else if (signal === 'ImageGainB') {\n        // 处理 ImageGainB 信号\n        this.ImageGainB = doubleValue;\n        this.SendConsoleLogMsg('ImageGainB is set to:' + doubleValue, 'info');\n        this.sendMessage('Vue_Command', 'ImageGainB:' + doubleValue);\n      }\n    },\n\n    // CameraOffsetSet(payload) {\n    //   const [signal, value] = payload.split(':'); // 拆分信号和值\n    //   const doubleValue = parseFloat(value); // 将值转换为 double 类型\n\n    //   console.log('CameraOffset is set to:', doubleValue);\n    //   this.SendConsoleLogMsg('CameraOffset is set to:' + doubleValue, 'info');\n    // },\n\n    ImageOffsetSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const doubleValue = parseFloat(value); // 将值转换为 double 类型\n\n      this.ImageOffset = doubleValue;\n      console.log('Image Offset is set to:', doubleValue);\n      this.SendConsoleLogMsg('Image Offset is set to:' + doubleValue, 'info');\n      this.sendMessage('Vue_Command', 'ImageOffset:' + doubleValue);\n    },\n\n    BinningSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value); // 将值转换为 Int 类型\n\n      console.log('Image Binning is set to:', IntValue);\n      this.SendConsoleLogMsg('Image Binning is set to:' + IntValue, 'info');\n      this.sendMessage('Vue_Command', 'SetBinning:' + IntValue);\n      this.$bus.$emit('SetBinningNum', IntValue);\n    },\n\n    GainSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value); // 将值转换为 Int 类型\n\n      console.log('Camera Gain is set to:', IntValue);\n      this.SendConsoleLogMsg('Camera Gain is set to:' + IntValue, 'info');\n      this.sendMessage('Vue_Command', 'SetCameraGain:' + IntValue);\n    },\n\n    OffsetSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value); // 将值转换为 Int 类型\n\n      console.log('Camera Offset is set to:', IntValue);\n      this.SendConsoleLogMsg('Camera Offset is set to:' + IntValue, 'info');\n      this.sendMessage('Vue_Command', 'SetCameraOffset:' + IntValue);\n    },\n\n    ImageCFASet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n\n      if (['GR', 'GB', 'BG', 'RGGB'].includes(value)) {\n        this.ImageCFA = value;\n        console.log('ImageCFA is set to:', value);\n        this.SendConsoleLogMsg('ImageCFA is set to:' + value, 'info');\n        this.sendMessage('Vue_Command', 'ImageCFA:' + value);\n      } else {\n        console.log(`Invalid value for ImageCFA: '${value}'. Please set it to one of 'GR', 'GB', 'BG', 'RGGB'.`);\n        this.callShowMessageBox(`Invalid value for ImageCFA: '${value}'. Please set it to one of 'GR', 'GB', 'BG', 'RGGB'.`, 'error');\n      }\n    },\n\n    CameraTemperatureSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value); // 将值转换为 Int 类型\n\n      console.log('Camera Temperature is set to:', IntValue);\n      this.SendConsoleLogMsg('Camera Temperature is set to:' + IntValue, 'info');\n      this.sendMessage('Vue_Command', 'SetCameraTemperature:' + IntValue);\n    },\n\n    FocalLengthSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      \n      for (const device of this.devices) {\n        if (device.driverType === 'Telescopes') {\n          \n          if (value === '' || value === NaN) {\n            device.device = '';\n            this.SendConsoleLogMsg('Focal Length is set to:' + 0, 'info');\n            this.$bus.$emit('SetFocalLengthNum', '');\n          }else{\n            const IntValue = parseInt(value); // 将值转换为 Int 类型\n            device.device = value + ' mm';\n            this.SendConsoleLogMsg('Focal Length is set to:' + IntValue, 'info');\n            this.$bus.$emit('SetFocalLengthNum', IntValue);\n          }\n        }\n      }\n\n\n    },\n\n    GuiderFocalLengthSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value); // 将值转换为 Int 类型\n\n      \n      this.SendConsoleLogMsg('Guider Focal Length is set to:' + IntValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GuiderFocalLength:' + IntValue);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:GuiderFocalLength:' + IntValue);\n    },\n\n    MultiStarGuiderSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      this.SendConsoleLogMsg('Multi Star Guider is set to:' + value, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'MultiStarGuider:' + value);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:MultiStarGuider:' + value);\n    },\n\n    GuiderPixelSizeSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const doubleValue = parseFloat(value);\n      this.SendConsoleLogMsg('Guider Pixel size is set to:' + doubleValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GuiderPixelSize:' + doubleValue);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:GuiderPixelSize:' + doubleValue);\n    },\n\n    GuiderGainSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value);\n      this.SendConsoleLogMsg('Guider Gain is set to:' + IntValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GuiderGain:' + IntValue);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:GuiderGain:' + IntValue);\n    },\n\n    CalibrationDurationSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value);\n      this.SendConsoleLogMsg('Guider Calibration step is set to:' + IntValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'CalibrationDuration:' + IntValue);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:CalibrationDuration:' + IntValue);\n    },\n\n    RaAggressionSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value);\n      this.SendConsoleLogMsg('Ra Aggression is set to:' + IntValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'RaAggression:' + IntValue);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:RaAggression:' + IntValue);\n    },\n\n    DecAggressionSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value);\n      this.SendConsoleLogMsg('Dec Aggression is set to:' + IntValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'DecAggression:' + IntValue);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:DecAggression:' + IntValue);\n    },\n\n    SyncFocuserStep(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value);\n      this.SendConsoleLogMsg('Sync Focuser Step:' + IntValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'SyncFocuserStep:' + IntValue);\n    },\n\n    async readBinFile(fileName, retryCount = 1) {\n      while (this.isDownloadingImage) {\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        if (!this.isWaitingLogged) {\n          this.SendConsoleLogMsg('The image is already being processed. Please wait for the previous process to complete.', 'warning');\n          this.isWaitingLogged = true; // 确保只记录一次等待信息\n        }\n      }\n\n      if (this.isDownloadingImageName === fileName) {\n        this.SendConsoleLogMsg('The image(' + fileName + ') is already processed.', 'info');\n        return;\n      }\n\n      this.isDownloadingImage = true;\n      this.isWaitingLogged = false; // 重置等待日志标志\n      this.SendConsoleLogMsg('CaptureTestTime | Read image(' + fileName + ') data start.', 'info');\n\n      const startTime = new Date();\n      try {\n        // Check if the fileName is valid\n        if (!fileName || typeof fileName !== 'string') {\n          throw new Error('Invalid file name provided');\n        }\n\n        // Fetch with progress tracking\n        const response = await fetch(fileName, { cache: 'no-store' });\n        if (!response.ok) {\n          throw new Error(`Network response was not ok. Status: ${response.status}`);\n        }\n\n        const contentLength = response.headers.get('content-length');\n        if (!contentLength) {\n          throw new Error('Content-Length header is missing');\n        }\n\n        const total = parseInt(contentLength, 10);\n        if (isNaN(total) || total <= 0) {\n          throw new Error('Invalid content-length value');\n        }\n\n        let loaded = 0;\n\n        const reader = response.body.getReader();\n        const stream = new ReadableStream({\n          start: (controller) => {\n            const push = () => {\n              reader.read().then(({ done, value }) => {\n                if (done) {\n                  controller.close();\n                  return;\n                }\n                loaded += value.byteLength;\n                const percent = (loaded / total) * 100;\n                if (Math.round(percent) % 10 === 0) {\n                  this.SendConsoleLogMsg(`Progress: ${Math.round(percent)}%`, 'info');\n                  this.updateCaptureImageProgress(Math.round(percent));\n                }\n                this.SendConsoleLogMsg(`当前进度: ${Math.round(percent)}%`, 'info');\n                controller.enqueue(value);\n                push();\n              }).catch(error => {\n                console.error('Stream reading error:', error);\n                this.SendConsoleLogMsg('Stream reading error: ' + error.message, 'error');\n                controller.error(error);\n              });\n            };\n            push();\n          }\n        });\n\n        const newResponse = new Response(stream);\n        const blob = await newResponse.blob();\n\n        // FileReader with progress tracking\n        const fileReader = new FileReader();\n        fileReader.onload = () => {\n          this.ImageArrayBuffer = fileReader.result;\n\n          const endTime = new Date();\n          const elapsedTime = endTime.getTime() - startTime.getTime();\n          this.SendConsoleLogMsg('CaptureTestTime | Read image data end: ' + elapsedTime + ' ms', 'info');\n          if (!this.isPolarAxisMode) {\n            this.callShowMessageBox(`Read image data end: '${elapsedTime}' ms.`, 'info');\n          }\n          this.isDownloadingImageName = fileName;\n          this.processImage(this.ImageArrayBuffer);\n        };\n\n        fileReader.onerror = (error) => {\n          console.error('FileReader error:', error);\n          this.SendConsoleLogMsg('FileReader error: ' + error.message, 'error');\n        };\n\n        fileReader.readAsArrayBuffer(blob);\n      } catch (error) {\n        console.error('There was a problem with the fetch operation:', error);\n        this.SendConsoleLogMsg('There was a problem with the fetch operation: ' + error.message, 'error');\n\n        // 下载失败，重试\n        if (retryCount > 0) {\n          console.log('Retrying download...');\n          this.SendConsoleLogMsg('Retrying download...', 'warning');\n          this.isDownloadingImage = false;\n          this.updateCaptureImageProgress(100);\n          await this.readBinFile(fileName, retryCount - 1);\n        } else {\n          this.SendConsoleLogMsg('Max retries reached. Download failed.', 'error');\n        }\n      } finally {\n        this.isDownloadingImage = false; // 确保在任何情况下都重置状态\n      }\n    },\n    // async readBinFile(fileName, retryCount = 1) {\n    //   while (this.isDownloadingImage) {\n    //     await new Promise(resolve => setTimeout(resolve, 1000));\n    //     if (!this.isWaitingLogged) {\n    //       this.SendConsoleLogMsg('The image is already being processed. Please wait for the previous process to complete.', 'warning');\n    //       this.isWaitingLogged = true; // 确保只记录一次等待信息\n    //     }\n    //   }\n\n    //   if (this.isDownloadingImageName === fileName) {\n    //     this.SendConsoleLogMsg('The image(' + fileName + ') is already processed.', 'info');\n    //     return;\n    //   }\n\n    //   this.isDownloadingImage = true;\n    //   this.isWaitingLogged = false; // 重置等待日志标志\n    //   this.SendConsoleLogMsg('CaptureTestTime | Read image(' + fileName + ') data start.', 'info');\n\n    //   const startTime = new Date();\n    //   try {\n    //     // Fetch with progress tracking\n    //     const response = await fetch(fileName);\n    //     if (!response.ok) {\n    //       throw new Error('Network response was not ok');\n    //     }\n\n    //     const contentLength = response.headers.get('content-length');\n    //     if (!contentLength) {\n    //       throw new Error('Content-Length header is missing');\n    //     }\n\n    //     const total = parseInt(contentLength, 10);\n    //     let loaded = 0;\n\n    //     const reader = response.body.getReader();\n    //     const stream = new ReadableStream({\n    //       start: (controller) => {\n    //         const push = () => {\n    //           reader.read().then(({ done, value }) => {\n    //             if (done) {\n    //               controller.close();\n    //               return;\n    //             }\n    //             loaded += value.byteLength;\n    //             const percent = (loaded / total) * 100;\n    //             if (Math.round(percent) % 10 === 0) {\n    //               this.SendConsoleLogMsg(`Progress: ${Math.round(percent)}%`,'info');\n    //               this.updateCaptureImageProgress(Math.round(percent));\n    //             }\n    //             controller.enqueue(value);\n    //             push();\n    //           }).catch(error => {\n    //             console.error('Stream reading error:', error);\n    //             controller.error(error);\n    //           });\n    //         };\n    //         push();\n    //       }\n    //     });\n\n    //     const newResponse = new Response(stream);\n    //     const blob = await newResponse.blob();\n\n    //     // FileReader with progress tracking\n    //     const fileReader = new FileReader();\n    //     fileReader.onload = () => {\n    //       this.ImageArrayBuffer = fileReader.result;\n\n    //       const endTime = new Date();\n    //       const elapsedTime = endTime.getTime() - startTime.getTime();\n    //       this.SendConsoleLogMsg('CaptureTestTime | Read image data end: ' + elapsedTime + ' ms', 'info');\n    //       if (!this.isPolarAxisMode) {\n    //         this.callShowMessageBox(`Read image data end: '${elapsedTime}' ms.`, 'info');\n    //       }\n    //       this.isDownloadingImageName = fileName;\n    //       this.processImage(this.ImageArrayBuffer);\n    //     };\n\n    //     fileReader.onerror = (error) => {\n    //       console.error('FileReader error:', error);\n    //       this.SendConsoleLogMsg('FileReader error:' + error, 'error');\n    //     };\n\n    //     fileReader.readAsArrayBuffer(blob);\n    //   } catch (error) {\n    //     console.error('There was a problem with the fetch operation:', error);\n    //     this.SendConsoleLogMsg('There was a problem with the fetch operation:' + error, 'error');\n\n    //     // 下载失败，重试\n    //     if (retryCount > 0) {\n    //       console.log('Retrying download...');\n    //       this.SendConsoleLogMsg('Retrying download...', 'warning');\n    //       this.isDownloadingImage = false;\n    //       this.updateCaptureImageProgress(100);\n    //       await this.readBinFile(fileName, retryCount - 1);\n    //     }\n    //   } finally {\n    //     this.isDownloadingImage = false; // 确保在任何情况下都重置状态\n    //   }\n    // },\n\n    updateCaptureImageProgress(num) {\n      this.$bus.$emit('ShowCaptureImageProgress', num);\n    },\n\n    setImageProportion(value) {\n      this.ImageProportion = value;\n    },\n\n    // checkImageData(img) {\n    //   // 检查是否为 cv.Mat 类型\n    //   if (!(img instanceof cv.Mat)) {\n    //     this.SendConsoleLogMsg('The image is not a valid cv.Mat object.', 'error');\n    //     return false;\n    //   }\n\n    //   // 检查图像是否为空\n    //   if (img.empty()) {\n    //     this.SendConsoleLogMsg('The image is empty.', 'error');\n    //     return false;\n    //   }\n\n    //   // 检查图像深度是否为 8 位或 16 位\n    //   const depth = img.type() & cv.CV_MAT_DEPTH_MASK;\n    //   if (depth !== cv.CV_8U && depth !== cv.CV_16U) {\n    //     this.SendConsoleLogMsg('The image depth is not 8-bit or 16-bit.', 'error');\n    //     return false;\n    //   }\n\n    //   // 检查图像尺寸是否合理\n    //   if (img.rows <= 0 || img.cols <= 0) {\n    //     this.SendConsoleLogMsg('The image dimensions are not valid.', 'error');\n    //     return false;\n    //   }\n\n    //   // 检查图像数据是否超出范围或全为0\n    //   const data = img.data;\n    //   let isAllZero = true;\n    //   const maxValue = depth === cv.CV_8U ? 255 : 65535;\n\n    //   for (let i = 0; i < data.length; i++) {\n    //     if (data[i] < 0 || data[i] > maxValue) {\n    //       this.SendConsoleLogMsg('The image data contains out-of-range values.', 'error');\n    //       return false;\n    //     }\n    //     if (data[i] !== 0) {\n    //       isAllZero = false;\n    //     }\n    //   }\n\n    //   if (isAllZero) {\n    //     this.SendConsoleLogMsg('The image data is all zero.', 'error');\n    //     return false;\n    //   }\n    //   return true;\n    // },\n\n\n    processImage(imgArray) {\n      try {\n        const totalStartTime = new Date(); // 总开始时间\n\n        this.SendConsoleLogMsg('CaptureTestTime | Process image data start.', 'info');\n        const startTime = new Date();\n\n        const uint16Array = new Uint16Array(imgArray);\n\n        // 设置画布宽高常量\n        const canvasWidth = parseInt(this.mainCameraSizeX);\n        const canvasHeight = parseInt(this.mainCameraSizeY);\n\n        // 获取原始画布和修改后的画布以及对应上下文\n        const modifiedCanvas = document.getElementById('mainCamera-canvas');\n        const modifiedCtx = modifiedCanvas.getContext('2d');\n\n        modifiedCtx.clearRect(0, 0, modifiedCanvas.width, modifiedCanvas.height);\n\n        modifiedCanvas.width = canvasWidth;\n        modifiedCanvas.height = canvasHeight;\n\n        let mat = new cv.Mat(canvasHeight, canvasWidth, cv.CV_16UC1);\n        mat.data16U.set(uint16Array);\n\n        const matEndTime = new Date(); // mat 结束时间\n        this.SendConsoleLogMsg('CaptureTestTime | Mat creation time: ' + (matEndTime.getTime() - startTime.getTime()) + ' ms', 'info');\n\n        // 用户自定义参数\n        let gainR = this.ImageGainR;\n        let gainB = this.ImageGainB;\n        let offset = this.ImageOffset;\n        let CFA = this.ImageCFA;\n        let mode = 1;\n\n        // 参数\n        let B = 0;\n        let W = 65535;\n        let cvmode = 0;\n\n        const { blackLevel, whiteLevel } = this.GetAutoStretch(uint16Array, mode);\n        B = blackLevel;\n        W = whiteLevel;\n        const GetAutoStretchEndTime = new Date(); // GetAutoStretch 结束时间\n        this.SendConsoleLogMsg('CaptureTestTime | GetAutoStretch time: ' + (GetAutoStretchEndTime.getTime() - matEndTime.getTime()) + ' ms', 'info');\n\n        // 根据CFA设置颜色转换模式\n        if (CFA === 'GR') {\n          cvmode = cv.COLOR_BayerGR2RGBA;\n        } else if (CFA === 'GB') {\n          cvmode = cv.COLOR_BayerGB2RGBA;\n        } else if (CFA === 'BG') {\n          cvmode = cv.COLOR_BayerBG2RGBA;\n        } else if (CFA === 'RGGB') {\n          cvmode = cv.COLOR_BayerRG2RGBA;\n        }\n\n        // 对目标图像进行颜色转换\n        let dst = new cv.Mat();\n        try {\n          cv.cvtColor(mat, dst, cvmode);\n        } catch (error) {\n          this.handleError('cvtColor 出错', 'cvtColor', error);\n          mat.delete();\n          return;\n        }\n\n        const cvtColorEndTime = new Date(); // cvtColor 结束时间\n        this.SendConsoleLogMsg('CaptureTestTime | cvtColor time: ' + (cvtColorEndTime.getTime() - GetAutoStretchEndTime.getTime()) + ' ms', 'info');\n\n        mat.delete();\n\n        // 调整图像大小\n        // cv.resize(dst, resizeImg, new cv.Size(this.CanvasWidth, this.CanvasHeight), 0, 0, cv.INTER_LINEAR);\n        // dst.delete();\n\n        // let originalImg8 = this.Bit16To8_Stretch(resizeImg, B, W);\n        // resizeImg.delete();\n\n        let resizeImg = new cv.Mat(); // 用来存储调整后的图像\n        if (this.isPolarAxisMode) {\n          // 调整图像大小\n          cv.resize(dst, resizeImg, new cv.Size(this.CanvasWidth, this.CanvasHeight), 0, 0, cv.INTER_LINEAR);\n          dst.delete();\n\n          let originalImg8 = this.Bit16To8_Stretch(resizeImg, B, W);\n          resizeImg.delete();\n\n          const Bit16To8_StretchEndTime = new Date(); // Bit16To8_Stretch 结束时间\n          this.SendConsoleLogMsg('CaptureTestTime | Bit16To8_Stretch time: ' + (Bit16To8_StretchEndTime.getTime() - GetAutoStretchEndTime.getTime()) + ' ms', 'info');\n\n          let targetImg8 = this.ImageSoftAWB(originalImg8, gainR, gainB, offset);\n          this.$bus.$emit('showSolveImage', targetImg8);\n\n          const ImageSoftAWBEndTime = new Date(); // ImageSoftAWB 结束时间\n          this.SendConsoleLogMsg('CaptureTestTime | ImageSoftAWB time: ' + (ImageSoftAWBEndTime.getTime() - Bit16To8_StretchEndTime.getTime()) + ' ms', 'info');\n        } else {\n          cv.resize(dst, resizeImg, new cv.Size(this.CanvasWidth, this.CanvasHeight), 0, 0, cv.INTER_LINEAR);\n          console.log('resizeImg.data.length: ', resizeImg.data.length);\n          console.log('resizeImg.cols: ', resizeImg.cols);\n          console.log('resizeImg.rows: ', resizeImg.rows);\n          let originalResizeImg8 = this.Bit16To8_Stretch(resizeImg, B, W);\n          console.log('originalResizeImg8.data.length: ', originalResizeImg8.data.length);\n          console.log('originalResizeImg8.cols: ', originalResizeImg8.cols);\n          console.log('originalResizeImg8.rows: ', originalResizeImg8.rows);\n          this.OriginalImage = new ImageData(new Uint8ClampedArray(originalResizeImg8.data), originalResizeImg8.cols, originalResizeImg8.rows);\n          resizeImg.delete();\n          console.log('dst.data.length: ', dst.data.length);\n          console.log('dst.cols: ', dst.cols);\n          console.log('dst.rows: ', dst.rows);\n          let originalImg8 = this.Bit16To8_Stretch(dst, B, W);\n          dst.delete();\n\n          const Bit16To8_StretchEndTime = new Date(); // Bit16To8_Stretch 结束时间\n          this.SendConsoleLogMsg('CaptureTestTime | Bit16To8_Stretch time: ' + (Bit16To8_StretchEndTime.getTime() - GetAutoStretchEndTime.getTime()) + ' ms', 'info');\n\n          // let targetImg8 = this.ImageSoftAWB(originalImg8, gainR, gainB, offset);\n\n          // const ImageSoftAWBEndTime = new Date(); // ImageSoftAWB 结束时间\n          // this.SendConsoleLogMsg('CaptureTestTime | ImageSoftAWB time: ' + (ImageSoftAWBEndTime.getTime() - Bit16To8_StretchEndTime.getTime()) + ' ms', 'info');\n          \n          // originalImg8.delete();\n\n          this.lastImageProcessParams = {\n            gainR: gainR,\n            gainB: gainB,\n            offset: offset,\n            CFA: CFA,\n            mode: mode,\n            B: B,\n            W: W,\n            cvmode: cvmode,\n          };\n\n          modifiedCanvas.width = this.CanvasWidth;\n          modifiedCanvas.height = this.CanvasHeight;\n          let colorData = new ImageData(new Uint8ClampedArray(originalImg8.data), originalImg8.cols, originalImg8.rows);\n          this.drawImgData = colorData;\n          // 设置缓冲画布宽高\n          this.bufferCanvas.width = colorData.width;\n          this.bufferCanvas.height = colorData.height;\n          // 绘制缓存画布图像\n          this.bufferCtx.putImageData(colorData, 0, 0);\n          // 绘制主画布图像\n          this.drawImageData();\n\n          const DrawImageDataEndTime = new Date(); // DrawImageData 结束时间\n          this.SendConsoleLogMsg('CaptureTestTime | DrawImageData time: ' + (DrawImageDataEndTime.getTime() - Bit16To8_StretchEndTime.getTime()) + ' ms', 'info');\n\n          const endTime = new Date();\n          const elapsedTime = endTime.getTime() - startTime.getTime();\n          this.SendConsoleLogMsg('CaptureTestTime | Process image data end:' + elapsedTime + ' milliseconds', 'info');\n\n          // const totalEndTime = new Date(); // 总结束时间\n          // this.SendConsoleLogMsg('CaptureTestTime | Total process image data time: ' + (totalEndTime.getTime() - totalStartTime.getTime()) + ' ms', 'info');\n\n          this.$bus.$emit('showCaptureImage');\n          this.MakeHistogram(colorData);\n          this.histogramImage = colorData;\n\n          const checkDetectedStarsFinish = () => {\n            if (this.DetectedStarsFinish) {\n              this.detectStarsImg = this.DrawDetectStars(targetImg8, this.DetectedStarsList);\n              targetImg8.delete();\n              clearInterval(intervalId);\n            }\n          };\n\n          const intervalId = setInterval(checkDetectedStarsFinish, 1000);\n        }\n\n        // if (this.isNotDrawStars) {\n        //   this.drawImageData(this.drawImgData);\n        // } else {\n        //   if (this.detectStarsImg != null) {\n        //     this.drawImageData(this.detectStarsImg);\n        //   } else {\n        //     this.drawImageData(this.drawImgData);\n        //   }\n        // }\n\n        // const windowWidth = window.innerWidth;\n        // const windowHeight = window.innerHeight;\n\n        // const minTranslateX = this.imageWidth - this.CanvasWidth;\n        // const minTranslateY = this.imageHeight - this.CanvasHeight;\n\n        // // 计算初始的 ScaleImageSize_X 和 ScaleImageSize_Y\n        // this.ScaleImageSize_X = Math.floor(minTranslateX / this.CanvasWidth * windowWidth + windowWidth);\n        // this.ScaleImageSize_Y = Math.floor(minTranslateY / this.CanvasHeight * windowHeight + windowHeight);\n\n        // this.$bus.$emit('ScaleImageSize', this.ScaleImageSize_X, this.ScaleImageSize_Y);\n\n      } catch (error) {\n        this.handleError('Process image data error', 'processImage', error);\n        if (mat) {\n          mat.delete();\n        }\n        if (resizeImg) {\n          resizeImg.delete();\n        }\n        if (originalImg8) {\n          originalImg8.delete();\n        }\n        if (targetImg8) {\n          targetImg8.delete();\n        }\n      }\n    },\n\n    // histogramStretch(imageData, min, max) {\n    //   const startTime = new Date();\n    //   // Convert ImageData to cv.Mat\n    //   const image = cv.matFromImageData(imageData);\n    //   let Time1 = new Date();\n    //   this.SendConsoleLogMsg('histogramStretch | 转换图像数据时间: ' + (Time1.getTime() - startTime.getTime()) + ' ms', 'info');\n    //   // Perform the histogram stretch\n    //   const channels = new cv.MatVector();\n    //   cv.split(image, channels); // Split channels (BGR) into separate Mat objects\n    //   let Time2 = new Date();\n    //   this.SendConsoleLogMsg('histogramStretch | 分割通道时间: ' + (Time2.getTime() - Time1.getTime()) + ' ms', 'info');\n    //   // Calculate alpha and beta for each channel\n    //   let alpha = 255.0 / (max - min);\n    //   let beta = -min * alpha;\n\n    //   if (alpha < 0) {\n    //     alpha = 0;\n    //     beta = 0;\n    //   } else if (alpha > 255) {\n    //     alpha = 255;\n    //     beta = 0;\n    //   }\n    //   Time1 = new Date();\n    //   this.SendConsoleLogMsg('histogramStretch | 计算alpha和beta时间: ' + (Time1.getTime() - Time2.getTime()) + ' ms', 'info');\n    //   // Iterate over each channel and apply histogram stretching\n    //   for (let i = 0; i < channels.size(); i++) {\n    //     let channel = channels.get(i);\n\n\n    //     // Apply histogram stretching to the channel\n    //     channel.convertTo(channel, -1, alpha, beta);\n\n    //     // Release the memory of channel\n    //     channel.delete();\n    //   }\n    //   Time2 = new Date();\n    //   this.SendConsoleLogMsg('histogramStretch | 各通道拉伸时间: ' + (Time2.getTime() - Time1.getTime()) + ' ms', 'info');\n    //   // Merge the channels back into a single image\n    //   const stretchImage = new cv.Mat();\n    //   cv.merge(channels, stretchImage);\n    //   Time1 = new Date();\n    //   this.SendConsoleLogMsg('histogramStretch | 合并通道时间: ' + (Time1.getTime() - Time2.getTime()) + ' ms', 'info');\n    //   // Release the memory of channels and MatVector\n    //   channels.delete();\n\n    //   // Convert cv.Mat back to ImageData\n    //   const stretchedImageData = new ImageData(new Uint8ClampedArray(stretchImage.data), stretchImage.cols, stretchImage.rows);\n    //   Time2 = new Date();\n    //   this.SendConsoleLogMsg('histogramStretch | 转换图像数据时间: ' + (Time2.getTime() - Time1.getTime()) + ' ms', 'info');\n    //   // Clean up\n    //   image.delete();\n    //   stretchImage.delete();\n    //   Time1 = new Date();\n    //   this.SendConsoleLogMsg('histogramStretch | 释放内存时间: ' + (Time1.getTime() - Time2.getTime()) + ' ms', 'info');\n    //   this.SendConsoleLogMsg('histogramStretch | 总时间: ' + (Time1.getTime() - startTime.getTime()) + ' ms', 'info');\n    //   return stretchedImageData;\n    // },\n\n    histogramStretch(imageData, min, max) {\n      const startTime = new Date();\n      // Calculate alpha and beta\n      let alpha = 255.0 / (max - min);\n      let beta = -min * alpha;\n\n      if (alpha < 0) {\n        alpha = 0;\n        beta = 0;\n      } else if (alpha > 255) {\n        alpha = 255;\n        beta = 0;\n      }\n\n      // Apply histogram stretching directly on ImageData\n      for (let i = 0; i < imageData.data.length; i += 4) {\n        for (let j = 0; j < 3; j++) { // For each color channel\n          let value = imageData.data[i + j];\n          value = value * alpha + beta;\n          imageData.data[i + j] = Math.max(0, Math.min(255, value));\n        }\n      }\n\n      const endTime = new Date();\n      this.SendConsoleLogMsg('histogramStretch | 总时间: ' + (endTime.getTime() - startTime.getTime()) + ' ms', 'info');\n      return imageData;\n    },\n    localWhiteBalanceAdjustment(imageData, gainR, gainB, offset) {\n      // 分离通道\n      for (let i = 0; i < imageData.data.length; i += 4) {\n        for (let j = 0; j < 3; j++) { // For each color channel\n          if (j == 0) {\n            value = imageData.data[i + j];\n            value = value * gainB + offset;\n          } else if (j == 2) {\n            value = imageData.data[i + j];\n            value = value * gainR + offset;\n          } else {\n            value = imageData.data[i + j];\n            value = value * 1 + offset;\n          }\n          imageData.data[i + j] = Math.max(0, Math.min(255, value));\n        }\n      }\n\n\n      return imageData;\n    },\n\n    initCanvas() {\n      this.bufferCanvas = document.createElement('canvas');\n      this.bufferCtx = this.bufferCanvas.getContext('2d');\n\n      this.tempCanvas = document.createElement('canvas');\n      this.tempCtx = this.tempCanvas.getContext('2d');\n    },\n\n    //*/*/*/*/*/*/*/*/*/*/*/\n    SwitchImageToShow(isOriginal) {\n      // console.log('Show Original Image: ', isOriginal);\n      this.SendConsoleLogMsg('Show Original Image:' + isOriginal, 'info');\n      this.isNotDrawStars = isOriginal;\n      if (isOriginal) {\n        // document.removeEventListener('click', this.handleTouchOrMouseDown);\n        this.enableMainCanvasClick = false;\n        this.drawImageData();\n      } else {\n        // document.addEventListener('click', this.handleTouchOrMouseDown);\n        this.enableMainCanvasClick = true;\n        // this.drawImageData(this.detectStarsImg);\n      }\n    },\n\n    // drawImageData() {\n    //   if (this.bufferCanvas == null) {\n    //     this.SendConsoleLogMsg('drawImageData error: bufferCanvas is null or undefined.', 'error');\n    //     return;\n    //   }\n    //   // 可用相关参数\n    //   // window.innerWidth; // 窗口宽度\n    //   // window.innerHeight; // 窗口高度\n    //   // this.scale 缩放比例\n    //   // this.translateX 平移x坐标\n    //   // this.translateY 平移y坐标\n    //   // this.CanvasWidth 主画布宽度 1920\n    //   // this.CanvasHeight 主画布高度 1080\n    //   // this.mainCameraSizeX 原始图像宽度\n    //   // this.mainCameraSizeY 原始图像高度\n    //   // this.bufferCanvas.width 缓冲画布宽度\n    //   // this.bufferCanvas.height 缓冲画布高度\n    //   // this.ImageProportion 图像比例\n    //   // this.ROI_x ROI的x坐标\n    //   // this.ROI_y ROI的y坐标\n    //   // this.ROI_length ROI的长度\n\n    //   // console.log('当前画布参数:\\n bufferCanvas.width: ', this.bufferCanvas.width, '\\n bufferCanvas.height: ', this.bufferCanvas.height, '\\n ImageProportion: ', this.ImageProportion, '\\n scale: ', this.scale, '\\n visibleX: ', this.visibleX, '\\n visibleY: ', this.visibleY, '\\n visibleWidth: ', this.visibleWidth, '\\n visibleHeight: ', this.visibleHeight, '\\n ROI_x: ', this.ROI_x, '\\n ROI_y: ', this.ROI_y, '\\n ROI_length: ', this.ROI_length);\n\n    //   let startTime = new Date();\n    //   let Time1 = new Date();\n\n    //   // 计算可见区域\n    //   const newVisibleWidth = this.bufferCanvas.width * this.scale;\n    //   const newVisibleHeight = newVisibleWidth / this.ImageProportion;\n\n    //   // 计算可见区域x坐标\n    //   let newVisibleX = this.visibleX;\n    //   // 计算可见区域y坐标\n    //   let newVisibleY = this.visibleY;\n\n    //   // 避免图像越界\n    //   if (newVisibleX - newVisibleWidth / 2 < 0) {\n    //     newVisibleX = newVisibleWidth / 2;\n    //   } else if (newVisibleX + newVisibleWidth / 2 > this.bufferCanvas.width) {\n    //     newVisibleX = this.bufferCanvas.width - newVisibleWidth / 2;\n    //   }\n\n    //   if (newVisibleY - newVisibleHeight / 2 < 0) {\n    //     newVisibleY = newVisibleHeight / 2;\n    //   } else if (newVisibleY + newVisibleHeight / 2 > this.bufferCanvas.height) {\n    //     newVisibleY = this.bufferCanvas.height - newVisibleHeight / 2;\n    //   }\n\n    //   // 更新ROI区域\n    //   // 计算可见区域的边界\n    //   const visibleLeft = newVisibleX - newVisibleWidth / 2;\n    //   const visibleRight = newVisibleX + newVisibleWidth / 2;\n    //   const visibleTop = newVisibleY - newVisibleHeight / 2;\n    //   const visibleBottom = newVisibleY + newVisibleHeight / 2;\n\n    //   // 计算 ROI 区域的边界\n    //   const roiLeft = this.ROI_x;\n    //   const roiRight = this.ROI_x + this.ROI_length;\n    //   const roiTop = this.ROI_y;\n    //   const roiBottom = this.ROI_y + this.ROI_length;\n\n    //   // 判断 ROI 区域是否在可见区域内\n    //   const isRoiInVisible = roiRight >= visibleLeft && roiLeft <= visibleRight && roiBottom >= visibleTop && roiTop <= visibleBottom;\n\n    //   // 计算 ROI 区域在屏幕上的位置，中心点坐标\n    //   const roiScreenX = (this.ROI_x - visibleLeft) * (window.innerWidth / newVisibleWidth) + this.RedBoxSideLength * window.innerWidth / newVisibleWidth / 2;\n    //   const roiScreenY = (this.ROI_y - visibleTop) * (window.innerHeight / newVisibleHeight) + this.RedBoxSideLength * window.innerHeight / newVisibleHeight / 2;\n    //   // this.SendConsoleLogMsg('ROI 区域在屏幕上的位置: ' + roiScreenX + '*' + roiScreenY + '长度 ' + this.RedBoxSideLength * window.innerWidth / newVisibleWidth + '*' + this.RedBoxSideLength * window.innerHeight / newVisibleHeight, 'info');\n    //   this.$bus.$emit('setRedBoxLength', this.RedBoxSideLength * window.innerWidth / newVisibleWidth, this.RedBoxSideLength * window.innerHeight / newVisibleHeight);\n    //   this.$bus.$emit('setRedBoxPosition', roiScreenX, roiScreenY);\n    //   // if (isRoiInVisible) {\n    //   //   console.log('ROI 区域在可见区域内, RedBoxSideLength: ', this.RedBoxSideLength * window.innerWidth / newVisibleWidth, ', ', this.RedBoxSideLength * window.innerHeight / newVisibleHeight);\n    //   // } else {\n    //   //   console.log('ROI 区域不在可见区域内, RedBoxSideLength: ', this.RedBoxSideLength * window.innerWidth / newVisibleWidth, ', ', this.RedBoxSideLength * window.innerHeight / newVisibleHeight);\n    //   // }\n\n    //   let Time2 = new Date();\n    //   this.SendConsoleLogMsg('drawImageData | 计算相关参数时间: ' + (Time2.getTime() - Time1.getTime()) + ' ms', 'info');\n    //   // Draw buffer canvas on main canvas\n    //   const canvas = this.$refs.mainCanvas;\n    //   const ctx = canvas.getContext('2d');\n    //   ctx.clearRect(0, 0, canvas.width, canvas.height);\n    //   // 获取绘制的图像数据\n    //   let imageData = this.bufferCtx.getImageData(newVisibleX - newVisibleWidth / 2, newVisibleY - newVisibleHeight / 2, newVisibleWidth, newVisibleHeight);\n\n    //   Time1 = new Date();\n    //   this.SendConsoleLogMsg('drawImageData | 获取绘制的图像数据时间: ' + (Time1.getTime() - Time2.getTime()) + ' ms', 'info');\n\n    //   // if (this.currentHistogramMax != 255 || this.currentHistogramMin != 0) {\n    //   //   imageData = this.histogramStretch(imageData, this.currentHistogramMin, this.currentHistogramMax);\n    //   // }\n\n    //   Time2 = new Date();\n    //   this.SendConsoleLogMsg('drawImageData | 直方图拉伸时间: ' + (Time2.getTime() - Time1.getTime()) + ' ms', 'info');\n      \n      \n    //   // Create a temporary canvas to draw the ImageData\n    //   let tempCanvas = document.createElement('canvas');\n    //   tempCanvas.width = imageData.width;\n    //   tempCanvas.height = imageData.height;\n    //   let tempCtx = tempCanvas.getContext('2d');\n    //   tempCtx.putImageData(imageData, 0, 0);\n\n    //   Time1 = new Date();\n    //   this.SendConsoleLogMsg('drawImageData | 创建临时画布并绘制时间: ' + (Time1.getTime() - Time2.getTime()) + ' ms', 'info');\n\n    //   // Draw the ImageData on the main canvas\n    //   ctx.drawImage(tempCanvas, 0, 0, tempCanvas.width, tempCanvas.height, 0, 0, canvas.width, canvas.height);\n\n    //   Time2 = new Date();\n    //   this.SendConsoleLogMsg('drawImageData | 绘制图像时间: ' + (Time2.getTime() - Time1.getTime()) + ' ms', 'info');\n    //   // ctx.drawImage(this.bufferCanvas, newVisibleX - newVisibleWidth / 2, newVisibleY - newVisibleHeight / 2, newVisibleWidth, newVisibleHeight, 0, 0, canvas.width, canvas.height);\n    //   // this.SendConsoleLogMsg('绘制图像,可见区域:' + newVisibleX + ',' + newVisibleY + ',' + newVisibleWidth + ',' + newVisibleHeight, 'info');\n    //   this.visibleX = newVisibleX;\n    //   this.visibleY = newVisibleY;\n    //   this.visibleWidth = newVisibleWidth;\n    //   this.visibleHeight = newVisibleHeight;\n\n    //   this.$bus.$emit('setCurrentMainCanvasHasImage', true); // 发送给电调，用于判断是否可以进行循环拍摄\n    //   // 发送消息给QT客户端，用于信息图标\n    //   this.$bus.$emit('AppSendMessage', 'Vue_Command', 'sendRedBoxState:' + this.RedBoxSideLength + ':' + this.ROI_x + ':' + this.ROI_y);\n    //   this.$bus.$emit('AppSendMessage', 'Vue_Command', 'sendVisibleArea:' + this.visibleX + ':' + this.visibleY + ':' + this.scale);\n      \n    //   // 如果选择了星点，则根据选择位置，在ROI区域中绘制一个圆\n    //   if (this.DrawSelectStarX != -1 && this.DrawSelectStarY != -1 && this.showSelectStar) {\n    //     let radius, canvasStarX, canvasStarY, color;\n    //     // 如果有星点\n    //     if (this.DrawSelectStarHFR != -1) {\n    //       radius = this.DrawSelectStarHFR/this.scale*2;\n    //       canvasStarX = (this.DrawSelectStarX + this.ROI_x - visibleLeft) * ctx.canvas.width / newVisibleWidth;\n    //       canvasStarY = (this.DrawSelectStarY + this.ROI_y - visibleTop) * ctx.canvas.height / newVisibleHeight;\n    //       color = 'green'; // 有星点，绘制绿色的圆\n    //     } else {\n    //       // 否则，在选择的位置绘制一个圆\n    //       radius = 10/this.scale; // 你可以根据需要调整这个值\n    //       canvasStarX = (this.DrawSelectStarX + this.ROI_x - visibleLeft) * ctx.canvas.width / newVisibleWidth;\n    //       canvasStarY = (this.DrawSelectStarY + this.ROI_y - visibleTop) * ctx.canvas.height / newVisibleHeight;\n    //       color = 'red'; // 无星点，绘制红色的圆\n    //     }\n\n    //     // 获取绘制圆的位置的图像数据\n    //     const imageData = ctx.getImageData(canvasStarX - radius, canvasStarY - radius, 2 * radius, 2 * radius);\n    //     // 发送图像数据给显示框\n    //     this.$bus.$emit('selectStarImage', imageData);\n\n    //     // 在指定位置开始绘制圆\n    //     ctx.beginPath();\n    //     ctx.arc(canvasStarX, canvasStarY, radius, 0, 2 * Math.PI);\n    //     ctx.strokeStyle = color;\n    //     ctx.lineWidth = 3;\n    //     ctx.stroke();\n    //     ctx.closePath();\n    //   }\n\n    //   Time1 = new Date();\n    //   this.SendConsoleLogMsg('drawImageData | 绘制星点时间: ' + (Time1.getTime() - Time2.getTime()) + ' ms', 'info');\n\n    //   this.SendConsoleLogMsg('drawImageData | 总时间: ' + (Time1.getTime() - startTime.getTime()) + ' ms', 'info');\n    // },\n\n    \n   drawImageData() {\n      if (this.bufferCanvas == null) {\n        this.SendConsoleLogMsg('drawImageData error: bufferCanvas is null or undefined.', 'error');\n        return;\n      }\n      // 可用相关参数\n      // window.innerWidth; // 窗口宽度\n      // window.innerHeight; // 窗口高度\n      // this.scale 缩放比例\n      // this.translateX 平移x坐标\n      // this.translateY 平移y坐标\n      // this.CanvasWidth 主画布宽度 1920\n      // this.CanvasHeight 主画布高度 1080\n      // this.mainCameraSizeX 原始图像宽度\n      // this.mainCameraSizeY 原始图像高度\n      // this.bufferCanvas.width 缓冲画布宽度\n      // this.bufferCanvas.height 缓冲画布高度\n      // this.ImageProportion 图像比例\n      // this.ROI_x ROI的x坐标\n      // this.ROI_y ROI的y坐标\n      // this.ROI_length ROI的长度\n\n      // console.log('当前画布参数:\\n bufferCanvas.width: ', this.bufferCanvas.width, '\\n bufferCanvas.height: ', this.bufferCanvas.height, '\\n ImageProportion: ', this.ImageProportion, '\\n scale: ', this.scale, '\\n visibleX: ', this.visibleX, '\\n visibleY: ', this.visibleY, '\\n visibleWidth: ', this.visibleWidth, '\\n visibleHeight: ', this.visibleHeight, '\\n ROI_x: ', this.ROI_x, '\\n ROI_y: ', this.ROI_y, '\\n ROI_length: ', this.ROI_length);\n\n      let startTime = new Date();\n      let Time1 = new Date();\n\n      // 计算可见区域\n      const newVisibleWidth = this.bufferCanvas.width * this.scale;\n      const newVisibleHeight = newVisibleWidth / this.ImageProportion;\n\n      // 计算可见区域x坐标\n      let newVisibleX = this.visibleX;\n      // 计算可见区域y坐标\n      let newVisibleY = this.visibleY;\n\n      // 避免图像越界\n      if (newVisibleX - newVisibleWidth / 2 < 0) {\n        newVisibleX = newVisibleWidth / 2;\n      } else if (newVisibleX + newVisibleWidth / 2 > this.bufferCanvas.width) {\n        newVisibleX = this.bufferCanvas.width - newVisibleWidth / 2;\n      }\n\n      if (newVisibleY - newVisibleHeight / 2 < 0) {\n        newVisibleY = newVisibleHeight / 2;\n      } else if (newVisibleY + newVisibleHeight / 2 > this.bufferCanvas.height) {\n        newVisibleY = this.bufferCanvas.height - newVisibleHeight / 2;\n      }\n\n      // 更新ROI区域\n      // 计算可见区域的边界\n      const visibleLeft = newVisibleX - newVisibleWidth / 2;\n      const visibleRight = newVisibleX + newVisibleWidth / 2;\n      const visibleTop = newVisibleY - newVisibleHeight / 2;\n      const visibleBottom = newVisibleY + newVisibleHeight / 2;\n\n      // 计算 ROI 区域的边界\n      const roiLeft = this.ROI_x;\n      const roiRight = this.ROI_x + this.ROI_length;\n      const roiTop = this.ROI_y;\n      const roiBottom = this.ROI_y + this.ROI_length;\n\n      // 判断 ROI 区域是否在可见区域内\n      const isRoiInVisible = roiRight >= visibleLeft && roiLeft <= visibleRight && roiBottom >= visibleTop && roiTop <= visibleBottom;\n\n      // 计算 ROI 区域在屏幕上的位置，中心点坐标\n      const roiScreenX = (this.ROI_x - visibleLeft) * (window.innerWidth / newVisibleWidth) + this.RedBoxSideLength * window.innerWidth / newVisibleWidth / 2;\n      const roiScreenY = (this.ROI_y - visibleTop) * (window.innerHeight / newVisibleHeight) + this.RedBoxSideLength * window.innerHeight / newVisibleHeight / 2;\n      // this.SendConsoleLogMsg('ROI 区域在屏幕上的位置: ' + roiScreenX + '*' + roiScreenY + '长度 ' + this.RedBoxSideLength * window.innerWidth / newVisibleWidth + '*' + this.RedBoxSideLength * window.innerHeight / newVisibleHeight, 'info');\n      this.$bus.$emit('setRedBoxLength', this.RedBoxSideLength * window.innerWidth / newVisibleWidth, this.RedBoxSideLength * window.innerHeight / newVisibleHeight);\n      this.$bus.$emit('setRedBoxPosition', roiScreenX, roiScreenY);\n      // if (isRoiInVisible) {\n      //   console.log('ROI 区域在可见区域内, RedBoxSideLength: ', this.RedBoxSideLength * window.innerWidth / newVisibleWidth, ', ', this.RedBoxSideLength * window.innerHeight / newVisibleHeight);\n      // } else {\n      //   console.log('ROI 区域不在可见区域内, RedBoxSideLength: ', this.RedBoxSideLength * window.innerWidth / newVisibleWidth, ', ', this.RedBoxSideLength * window.innerHeight / newVisibleHeight);\n      // }\n\n      let Time2 = new Date();\n      this.SendConsoleLogMsg('drawImageData | 计算相关参数时间: ' + (Time2.getTime() - Time1.getTime()) + ' ms', 'info');\n      // Draw buffer canvas on main canvas\n      const canvas = this.$refs.mainCanvas;\n      const ctx = canvas.getContext('2d');\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      // 获取绘制的图像数据\n      // let imageData = this.bufferCtx.getImageData(newVisibleX - newVisibleWidth / 2, newVisibleY - newVisibleHeight / 2, newVisibleWidth, newVisibleHeight);\n\n      Time1 = new Date();\n      this.SendConsoleLogMsg('drawImageData | 获取绘制的图像数据时间: ' + (Time1.getTime() - Time2.getTime()) + ' ms', 'info');\n      \n      // Create a temporary canvas to draw the ImageData\n      this.tempCtx.clearRect(0, 0, this.tempCanvas.width, this.tempCanvas.height);\n      this.tempCanvas.width = canvas.width;\n      this.tempCanvas.height = canvas.height;\n      this.tempCtx.drawImage(this.bufferCanvas, newVisibleX - newVisibleWidth / 2, newVisibleY - newVisibleHeight / 2, newVisibleWidth, newVisibleHeight, 0, 0, canvas.width, canvas.height);\n\n      Time1 = new Date();\n      this.SendConsoleLogMsg('drawImageData | 创建临时画布并绘制时间: ' + (Time1.getTime() - Time2.getTime()) + ' ms', 'info');\n\n      let imageData = this.tempCtx.getImageData(0, 0, this.tempCanvas.width, this.tempCanvas.height);\n\n      if (this.currentHistogramMax != 255 || this.currentHistogramMin != 0) {\n        imageData = this.histogramStretch(imageData, this.currentHistogramMin, this.currentHistogramMax);\n      }\n\n      if (this.ImageGainR != 1 || this.ImageGainB != 1 || this.ImageOffset != 0) {\n        imageData = this.localWhiteBalanceAdjustment(imageData, this.ImageGainR, this.ImageGainB, this.ImageOffset);\n      }\n      this.tempCtx.putImageData(imageData, 0, 0);\n\n      Time2 = new Date();\n      this.SendConsoleLogMsg('drawImageData | 直方图拉伸时间: ' + (Time2.getTime() - Time1.getTime()) + ' ms', 'info');\n      // Draw the ImageData on the main canvas\n      ctx.drawImage(this.tempCanvas, 0, 0, this.tempCanvas.width, this.tempCanvas.height, 0, 0, canvas.width, canvas.height);\n\n      Time1 = new Date();\n      this.SendConsoleLogMsg('drawImageData | 绘制图像时间: ' + (Time1.getTime() - Time2.getTime()) + ' ms', 'info');\n      // ctx.drawImage(this.bufferCanvas, newVisibleX - newVisibleWidth / 2, newVisibleY - newVisibleHeight / 2, newVisibleWidth, newVisibleHeight, 0, 0, canvas.width, canvas.height);\n      // this.SendConsoleLogMsg('绘制图像,可见区域:' + newVisibleX + ',' + newVisibleY + ',' + newVisibleWidth + ',' + newVisibleHeight, 'info');\n      this.visibleX = newVisibleX;\n      this.visibleY = newVisibleY;\n      this.visibleWidth = newVisibleWidth;\n      this.visibleHeight = newVisibleHeight;\n\n      this.$bus.$emit('setCurrentMainCanvasHasImage', true); // 发送给电调，用于判断是否可以进行循环拍摄\n      // 发送消息给QT客户端，用于信息图标\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'sendRedBoxState:' + this.RedBoxSideLength + ':' + this.ROI_x + ':' + this.ROI_y);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'sendVisibleArea:' + this.visibleX + ':' + this.visibleY + ':' + this.scale);\n      \n      // 如果选择了星点，则根据选择位置，在ROI区域中绘制一个圆\n      if (this.DrawSelectStarX != -1 && this.DrawSelectStarY != -1 && this.showSelectStar) {\n        let radius, canvasStarX, canvasStarY, color;\n        // 如果有星点\n        if (this.DrawSelectStarHFR != -1) {\n          radius = this.DrawSelectStarHFR/this.scale*2;\n          canvasStarX = (this.DrawSelectStarX + this.ROI_x - visibleLeft) * ctx.canvas.width / newVisibleWidth;\n          canvasStarY = (this.DrawSelectStarY + this.ROI_y - visibleTop) * ctx.canvas.height / newVisibleHeight;\n          color = 'green'; // 有星点，绘制绿色的圆\n        } else {\n          // 否则，在选择的位置绘制一个圆\n          radius = 10/this.scale; // 你可以根据需要调整这个值\n          canvasStarX = (this.DrawSelectStarX + this.ROI_x - visibleLeft) * ctx.canvas.width / newVisibleWidth;\n          canvasStarY = (this.DrawSelectStarY + this.ROI_y - visibleTop) * ctx.canvas.height / newVisibleHeight;\n          color = 'red'; // 无星点，绘制红色的圆\n        }\n\n        // 获取绘制圆的位置的图像数据\n        const imageData = ctx.getImageData(canvasStarX - radius, canvasStarY - radius, 2 * radius, 2 * radius);\n        // 发送图像数据给显示框\n        this.$bus.$emit('selectStarImage', imageData);\n\n        // 在指定位置开始绘制圆\n        ctx.beginPath();\n        ctx.arc(canvasStarX, canvasStarY, radius, 0, 2 * Math.PI);\n        ctx.strokeStyle = color;\n        ctx.lineWidth = 3;\n        ctx.stroke();\n        ctx.closePath();\n      }\n\n      Time2 = new Date();\n      this.SendConsoleLogMsg('drawImageData | 绘制星点时间: ' + (Time2.getTime() - Time1.getTime()) + ' ms', 'info');\n\n      this.SendConsoleLogMsg('drawImageData | 总时间: ' + (Time2.getTime() - startTime.getTime()) + ' ms', 'info');\n    },\n\n    addEventListeners() {\n \n    },\n\n    // 节流函数\n    throttle(func, delay) {\n      let lastExecuted = 0;\n      return function (...args) {\n        const now = Date.now();\n        if (now - lastExecuted >= delay) {\n          func.apply(this, args);\n          lastExecuted = now;\n        }\n      };\n    },\n\n    ImageSoftAWB(img8, gainR, gainB, offset) {\n      // 分离通道\n      let channels = new cv.MatVector();\n      cv.split(img8, channels);\n\n      const b = channels.get(0);\n      const g = channels.get(1);\n      const r = channels.get(2);\n\n      // 自适应直方图均衡化\n      const clahe = new cv.CLAHE(2.0, new cv.Size(8, 8));\n      clahe.apply(b, b);\n      clahe.apply(g, g);\n      clahe.apply(r, r);\n\n      // 应用增益和偏置\n      r.convertTo(r, -1, gainR, offset);\n      b.convertTo(b, -1, gainB, offset);\n      g.convertTo(g, -1, 1, offset); // 对绿色通道应用偏置但不改变增益\n\n      // 更新 channels 中的通道数据\n      channels.set(0, b);\n      channels.set(1, g);\n      channels.set(2, r);\n\n      // 合并通道\n      let mergedImg = new cv.Mat();\n      cv.merge(channels, mergedImg);\n\n      // 释放资源\n      b.delete(); // 释放 b\n      g.delete(); // 释放 g\n      r.delete(); // 释放 r\n      channels.delete();\n      clahe.delete(); // 释放 clahe\n\n\n\n      return mergedImg;\n    },\n\n    // Bit16To8_Stretch(img16, B, W) {\n    //   console.log('Bit16To8_Stretch | B = ' + B + ', W = ' + W);\n    //   let img8 = new cv.Mat();\n    //   img8.create(img16.rows, img16.cols, cv.CV_8UC4);\n    //   img16.convertTo(img8, cv.CV_8U, 255.0 / (W - B), -B * 255.0 / (W - B));\n\n    //   const result = img8.clone(); // 克隆 img8 以返回结果\n    //   img8.delete(); // 释放 img8\n\n    //   return result;\n    // },\n    Bit16To8_Stretch(img16, B, W) {\n      console.log('Bit16To8_Stretch | B = ' + B + ', W = ' + W);\n      let img8 = new cv.Mat(img16.rows, img16.cols, cv.CV_8UC4);\n      img16.convertTo(img8, cv.CV_8U, 255.0 / (W - B), -B * 255.0 / (W - B));\n      return img8;\n    },\n\n    DrawDetectStars(image, Stars) {\n      console.log('Draw circle on the Capture Image(', image.cols, ',', image.rows, ').');\n      if (!(image instanceof cv.Mat)) {\n        throw new Error('Invalid image data');\n      }\n      Stars.forEach(star => {\n        let centerX = Math.round(star.x / (this.mainCameraSizeX / image.cols));\n        let centerY = Math.round(star.y / (this.mainCameraSizeY / image.rows));\n        let radius = Math.round(star.hfr);\n\n        console.log('Draw circle at(', centerX, ',', centerY, ') with radius:', radius);\n\n        let center = new cv.Point(centerX, centerY);\n        let color = new cv.Scalar(255, 0, 0, 255);\n        let thickness = 2; // 圆圈厚度\n\n        cv.circle(image, center, radius, color, thickness);\n\n        // 添加 hfr 值到圆的上方\n        // 确保 star.hfr 是一个数字\n        let hfrValue = parseFloat(star.hfr);\n        if (isNaN(hfrValue)) {\n          hfrValue = 0; // 如果 star.hfr 不能转换为数字，则默认值设为0\n        }\n\n        // 保留到小数点后2位\n        let text = hfrValue.toFixed(2);\n        let fontFace = cv.FONT_HERSHEY_SIMPLEX;\n        let fontScale = 1;\n        let textColor = new cv.Scalar(255, 0, 0, 255);\n        let textThickness = 2;\n\n        // 手动设置文本的位置，假设字体高度大约为10像素\n        let textX = centerX - (text.length * 10); // 估算每个字符宽度为5像素\n        let textY = centerY - radius - 3; // 圆的上方 3 像素\n\n        // 在图像上绘制文本\n        cv.putText(image, text, new cv.Point(textX, textY), fontFace, fontScale, textColor, textThickness);\n      });\n\n      const imageData = new ImageData(new Uint8ClampedArray(image.data), image.cols, image.rows);\n\n      return imageData;\n    },\n\n    DrawPHD2Box(PHD2ImageSize_X, PHD2ImageSize_Y, Box_X, Box_Y) {\n      const ratioZoomX = PHD2ImageSize_X / window.innerWidth;\n      const ratioZoomY = PHD2ImageSize_Y / window.innerHeight;\n\n      const BoxWidth = 20 / ratioZoomX;\n      const BoxHeight = 20 / ratioZoomY;\n\n      const BoxStartX = Box_X / ratioZoomX - BoxWidth / 2;\n      const BoxStartY = Box_Y / ratioZoomY - BoxHeight / 2;\n\n      this.$bus.$emit('PHD2BoxPosition', BoxStartX, BoxStartY, BoxWidth, BoxHeight);\n    },\n\n    DrawPHD2Cross(PHD2ImageSize_X, PHD2ImageSize_Y, Cross_X, Cross_Y) {\n      const ratioZoomX = PHD2ImageSize_X / window.innerWidth;\n      const ratioZoomY = PHD2ImageSize_Y / window.innerHeight;\n\n      const CrossStartX = Cross_X / ratioZoomX;\n      const CrossStartY = Cross_Y / ratioZoomY;\n\n      this.$bus.$emit('PHD2CrossPosition', CrossStartX, CrossStartY);\n    },\n\n    DrawPHD2MultiStars(PHD2ImageSize_X, PHD2ImageSize_Y, Star_X, Star_Y) {\n      const ratioZoomX = PHD2ImageSize_X / window.innerWidth;\n      const ratioZoomY = PHD2ImageSize_Y / window.innerHeight;\n\n      const StarStartX = Star_X / ratioZoomX - 12 / 2;\n      const StarStartY = Star_Y / ratioZoomY - 12 / 2;\n\n      this.$bus.$emit('PHD2MultiStarsPosition', StarStartX, StarStartY);\n    },\n\n    GetAutoStretch(imgData, mode) {\n      if (imgData.length === 0) {\n        return { blackLevel: 0, whiteLevel: 65535 };\n      }\n\n      const length = imgData.length;\n      let mean = 0;\n      let M2 = 0;\n\n      for (let i = 0; i < length; i++) {\n        const delta = imgData[i] - mean;\n        mean += delta / (i + 1);\n        M2 += delta * (imgData[i] - mean);\n      }\n\n      const variance = M2 / length;\n      const std = Math.sqrt(variance);\n\n      let a, b;\n      switch (mode) {\n        case 0:\n          a = 3;\n          b = 5;\n          break;\n        case 1:\n          a = 2;\n          b = 5;\n          break;\n        case 2:\n          a = 3;\n          b = 8;\n          break;\n        default:\n          a = 2;\n          b = 8;\n      }\n\n      let bx = Math.max(0, mean - std * a);\n      let wx = Math.min(65535, mean + std * b);\n\n      let blackLevel = Math.round(bx);\n      let whiteLevel = Math.round(wx);\n\n      if (blackLevel >= whiteLevel) {\n        blackLevel = whiteLevel - 1;\n      }\n\n      return { blackLevel, whiteLevel };\n    },\n\n    fetchImage(imagePath) {\n      const url = imagePath;\n      const xhr = new XMLHttpRequest();\n\n      xhr.responseType = 'blob'; // 设置响应类型为 blob\n\n      xhr.onload = () => {\n        if (xhr.status === 200) {\n          const imageUrl = URL.createObjectURL(xhr.response);\n          // 在这里，您可以将 imageUrl 设置到某个 <img> 元素上，或者做其他处理\n          this.$bus.$emit('showCaptureImage');\n          this.displayImageOnCanvas(imageUrl); // 将图像显示在Canvas上\n        } else {\n          console.error('Failed to fetch the image. Status:', xhr.status);\n        }\n      };\n\n      xhr.onerror = () => {\n        console.error('There was an error fetching the image.');\n      };\n\n      xhr.open('GET', url, true);\n      xhr.send();\n    },\n\n    displayImageOnCanvas(imageUrl) {\n      const showcanvas = document.getElementById('mainCamera-canvas');\n      const canvas = document.getElementById('TestCanvas');\n      const showctx = showcanvas.getContext('2d');\n      const ctx = canvas.getContext('2d');\n      showcanvas.width = this.CanvasWidth;\n      showcanvas.height = this.CanvasHeight;\n      console.log('QHYCCD | canvas size:', showcanvas.width, showcanvas.height);\n\n      const img = new Image();\n      img.setAttribute('crossOrigin', '');\n      img.onload = () => {\n        this.histogramImage = img;\n\n        // 计算图像的缩放比例以使其铺满固定大小的 Canvas\n        const scaleWidth = showcanvas.width / img.width;\n        const scaleHeight = showcanvas.height / img.height;\n\n        const width = img.width * scaleWidth;\n        const height = img.height * scaleHeight;\n\n        // 清空 Canvas\n        showctx.clearRect(0, 0, showcanvas.width, showcanvas.height);\n        ctx.clearRect(0, 0, showcanvas.width, showcanvas.height);\n\n        // 在 Canvas 上绘制图像\n        showctx.drawImage(img, 0, 0, width, height);\n        ctx.drawImage(img, 0, 0, width, height);\n        console.log('QHYCCD | crossOrigin:', img.crossOrigin);\n        this.imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        console.log('QHYCCD | imageData:', this.imageData);\n        this.MakeHistogram(this.imageData);\n      };\n      img.src = imageUrl;\n    },\n\n    MakeHistogram(imageData) {\n      console.log('MakeHistogram');\n\n      // 计算三个通道的直方图\n      this.histogramData = this.calculateHistogram(imageData);\n\n      this.$bus.$emit('showHistogram', this.histogramData);\n    },\n\n    calculateHistogram(imageData) {\n      console.log('QHYCCD | calculateHistogram');\n      const histogram = [\n        Array(256).fill(0), // 存储蓝色通道直方图\n        Array(256).fill(0), // 存储绿色通道直方图\n        Array(256).fill(0)  // 存储红色通道直方图\n      ];\n\n      // 分别计算三个通道的直方图\n      for (let i = 0; i < imageData.data.length; i += 4) {\n        const r = imageData.data[i];\n        const g = imageData.data[i + 1];\n        const b = imageData.data[i + 2];\n\n        // 更新每个通道的直方图\n        histogram[0][b]++;\n        histogram[1][g]++;\n        histogram[2][r]++;\n      }\n\n      return histogram;\n    },\n\n    applyHistStretch(Min, Max) {\n      this.currentHistogramMin = Min;\n      this.currentHistogramMax = Max;\n      this.drawImageData();\n      this.$bus.$emit('ChangeDialPosition', Min, Max);\n    },\n\n    setAutoHistogramNum(min, max) {\n      this.histogram_min = min;\n      this.histogram_max = max;\n      this.currentHistogramMin = min;\n      this.currentHistogramMax = max;\n    },\n\n    calcWhiteBalanceGains() {\n      // const Gains = this.calculateWhiteBalanceGains(this.histogramData, this.ImageOffset);\n      const startTime = new Date();\n      const Gains = this.calculateWhiteBalanceGains();\n      const endTime = new Date();\n      this.SendConsoleLogMsg('calcWhiteBalanceGains | 总时间: ' + (endTime.getTime() - startTime.getTime()) + ' ms', 'info');\n\n      this.ImageGainR = Gains.GainR;\n      this.ImageGainB = Gains.GainB;\n\n      const GainRIndex = this.MainCameraConfigItems.findIndex(item => item.label === 'ImageGainR');\n      if (GainRIndex !== -1) { // 确保找到了对应的配置项\n        // 更新 ExpTime1 配置项的值\n        this.MainCameraConfigItems[GainRIndex].value = this.ImageGainR;\n      } else {\n        console.error('ImageGainR configuration item not found.');\n      }\n\n      const GainBIndex = this.MainCameraConfigItems.findIndex(item => item.label === 'ImageGainB');\n      if (GainBIndex !== -1) { // 确保找到了对应的配置项\n        // 更新 ExpTime1 配置项的值\n        this.MainCameraConfigItems[GainBIndex].value = this.ImageGainB;\n      } else {\n        console.error('ImageGainB configuration item not found.');\n      }\n\n      this.drawImageData();\n      // this.processImage(this.ImageArrayBuffer);\n    },\n\n    // calculateWhiteBalanceGains(histogram, offset) {\n    //   let sumR = 0, sumG = 0, sumB = 0;\n    //   let countR = 0, countG = 0, countB = 0;\n\n    //   // for (let i = 0; i < 256; i++) {\n    //   //   sumR += histogram[2][i] * i;\n    //   //   sumG += histogram[1][i] * i;\n    //   //   sumB += histogram[0][i] * i;\n\n    //   //   countR += histogram[2][i];\n    //   //   countG += histogram[1][i];\n    //   //   countB += histogram[0][i];\n    //   // }\n\n    //   for (let i = 0; i < 256; i++) {\n    //     // Subtract offset from pixel value\n    //     const adjustedR = Math.max(i - offset, 0);\n    //     const adjustedG = Math.max(i - offset, 0);\n    //     const adjustedB = Math.max(i - offset, 0);\n\n    //     sumR += histogram[2][i] * adjustedR;\n    //     sumG += histogram[1][i] * adjustedG;\n    //     sumB += histogram[0][i] * adjustedB;\n\n    //     countR += histogram[2][i];\n    //     countG += histogram[1][i];\n    //     countB += histogram[0][i];\n    //   }\n\n    //   const meanR = sumR / countR;\n    //   const meanG = sumG / countG;\n    //   const meanB = sumB / countB;\n\n    //   // Calculate gains\n    //   const GainR = meanG / meanR;\n    //   const GainB = meanG / meanB;\n\n    //   console.log(`GainR: ${GainR}, GainB: ${GainB}`);\n    //   return { GainR, GainB };\n    // },\n\n    calculateWhiteBalanceGains() {\n      if (!(this.OriginalImage instanceof ImageData)) {\n        throw new Error('Invalid image data');\n      }\n\n      let time1 = new Date();\n      // 创建一个新的 cv.Mat 对象\n      let img8 = cv.matFromImageData(this.OriginalImage);\n      let time2 = new Date();\n      this.SendConsoleLogMsg('calcWhiteBalanceGains | 创建 cv.Mat 对象时间: ' + (time2.getTime() - time1.getTime()) + ' ms', 'info');\n\n      let gainR = this.ImageGainR;\n      let gainB = this.ImageGainB;\n      let offset = this.ImageOffset;\n\n      const channels = new cv.MatVector();\n      cv.split(img8, channels);\n      time1 = new Date();\n      this.SendConsoleLogMsg('calcWhiteBalanceGains | 分割通道时间: ' + (time1.getTime() - time2.getTime()) + ' ms', 'info');\n\n      const b = channels.get(0);\n      const g = channels.get(1);\n      const r = channels.get(2);\n      time2 = new Date();\n      this.SendConsoleLogMsg('calcWhiteBalanceGains | 获取通道时间: ' + (time2.getTime() - time1.getTime()) + ' ms', 'info');\n\n      // 自适应直方图均衡化\n      const clahe = new cv.CLAHE(2.0, new cv.Size(8, 8));\n      clahe.apply(b, b);\n      clahe.apply(g, g);\n      clahe.apply(r, r);\n      time1 = new Date();\n      this.SendConsoleLogMsg('calcWhiteBalanceGains | 自适应直方图均衡化时间: ' + (time1.getTime() - time2.getTime()) + ' ms', 'info');\n\n      // 使用中位数计算增益\n      const medianB = new cv.Mat();\n      const medianG = new cv.Mat();\n      const medianR = new cv.Mat();\n      cv.medianBlur(b, medianB, 5);\n      cv.medianBlur(g, medianG, 5);\n      cv.medianBlur(r, medianR, 5);\n      time2 = new Date();\n      this.SendConsoleLogMsg('calcWhiteBalanceGains | 中位数计算增益时间: ' + (time2.getTime() - time1.getTime()) + ' ms', 'info');\n\n      const avgB = cv.mean(medianB)[0];\n      const avgG = cv.mean(medianG)[0];\n      const avgR = cv.mean(medianR)[0];\n\n      time1 = new Date();\n      this.SendConsoleLogMsg('calcWhiteBalanceGains | 计算增益时间: ' + (time1.getTime() - time2.getTime()) + ' ms', 'info');\n\n      gainR = Math.min(Math.max(avgG / avgR, 0.1), 3);\n      gainB = Math.min(Math.max(avgG / avgB, 0.1), 3);\n\n      // 应用增益和偏置\n      r.convertTo(r, -1, gainR, offset);\n      b.convertTo(b, -1, gainB, offset);\n      g.convertTo(g, -1, 1, offset); // 对绿色通道应用偏置但不改变增益\n\n      time2 = new Date();\n      this.SendConsoleLogMsg('calcWhiteBalanceGains | 应用增益和偏置时间: ' + (time2.getTime() - time1.getTime()) + ' ms', 'info');\n\n      // 更新 channels 中的通道数据\n      channels.set(0, b);\n      channels.set(1, g);\n      channels.set(2, r);\n\n      time1 = new Date();\n      this.SendConsoleLogMsg('calcWhiteBalanceGains | 更新 channels 中的通道数据时间: ' + (time1.getTime() - time2.getTime()) + ' ms', 'info');\n\n      // 合并通道回 img8\n      cv.merge(channels, img8);\n\n      time2 = new Date();\n      this.SendConsoleLogMsg('calcWhiteBalanceGains | 合并通道时间: ' + (time2.getTime() - time1.getTime()) + ' ms', 'info');\n\n      b.delete();\n      g.delete();\n      r.delete();\n      medianB.delete();\n      medianG.delete();\n      medianR.delete();\n      channels.delete();\n\n      time1 = new Date();\n      this.SendConsoleLogMsg('calcWhiteBalanceGains | 删除通道时间: ' + (time1.getTime() - time2.getTime()) + ' ms', 'info');\n\n      // if (this.isPolarAxisMode) {\n      //   this.$bus.$emit('showSolveImage', img8);\n      // }\n      // else {\n      //   // 创建用于绘制的 ImageData 对象，并在修改后的画布上绘制图像\n      //   let colorData = new ImageData(new Uint8ClampedArray(img8.data), img8.cols, img8.rows);\n      //   img8.delete();\n      //   this.drawImgData = colorData;\n      //   this.drawImageData();\n\n      //   this.$bus.$emit('showCaptureImage');\n\n      //   this.MakeHistogram(colorData);\n      //   this.histogramImage = colorData;\n\n      // }\n      return { GainR: gainR, GainB: gainB };\n    },\n\n    loadOpenCv() {\n      return new Promise((resolve, reject) => {\n        if (typeof cv === 'undefined') {\n          // 如果 cv 未定义，尝试加载 OpenCV.js\n          const script = document.createElement('script');\n          script.src = '/opencv.js'; // 使用 public 文件夹中的路径\n          script.async = true;\n          script.onload = () => {\n            resolve();\n          };\n          script.onerror = (error) => {\n            reject(error);\n          };\n          document.head.appendChild(script);\n        } else {\n          // 如果 cv 已定义，直接解析\n          resolve();\n        }\n      });\n    },\n\n    // loadOpenCv() {\n    //   return new Promise((resolve, reject) => {\n    //     if (typeof cv === 'undefined') {\n    //       const script = document.createElement('script');\n    //       script.src = 'https://docs.opencv.org/4.5.5/opencv.js';\n    //       script.async = true;\n    //       script.onload = () => {\n    //         if (typeof cv !== 'undefined') {\n    //           resolve();\n    //         } else {\n    //           reject(new Error('Failed to load OpenCV.js'));\n    //         }\n    //       }\n    //       script.onerror = (error) => {\n    //         reject(error);\n    //       }\n    //       document.head.appendChild(script);\n    //     } else {\n    //       resolve();\n    //     }\n    //   });\n    // },\n\n    onCvReady() {\n\n      // Test if some of opencv method can work.\n      if (cv) {\n        console.log(\"QHYCCD | OpenCV.js is ready.\");\n        this.SendConsoleLogMsg('OpenCV.js is ready.', 'info');\n      } else {\n        console.log(\"QHYCCD | Failed to load OpenCV.js\");\n        this.SendConsoleLogMsg('Failed to load OpenCV.js.', 'error');\n      }\n\n      this.cvReady = true;\n    },\n\n\n    loadImageToCanvasMainCamera: function () {\n      const canvas = document.getElementById('mainCamera-canvas');\n      const ctx = canvas.getContext('2d');\n      const image = new Image();\n      image.onload = () => {\n        // 获取设备像素比\n        const devicePixelRatio = window.devicePixelRatio || 1;\n\n        // 调整画布尺寸以适应高清显示\n        canvas.width = image.width * devicePixelRatio;\n        canvas.height = image.height * devicePixelRatio;\n        ctx.scale(devicePixelRatio, devicePixelRatio); // 缩放ctx以适应高清画布\n\n        // 绘制图像\n        ctx.drawImage(image, 0, 0);\n      };\n      image.src = BackgroundImage;\n    },\n    loadImageToCanvasGuiderCamera: function () {\n      const canvas = document.getElementById('guiderCamera-canvas');\n      const ctx = canvas.getContext('2d');\n      const image = new Image();\n      image.onload = () => {\n        // 获取设备像素比\n        const devicePixelRatio = window.devicePixelRatio || 1;\n\n        // 调整画布尺寸以适应高清显示\n        canvas.width = image.width * devicePixelRatio;\n        canvas.height = image.height * devicePixelRatio;\n        ctx.scale(devicePixelRatio, devicePixelRatio); // 缩放ctx以适应高清画布\n\n        // 绘制图像\n        ctx.drawImage(image, 0, 0);\n      };\n      image.src = BackgroundImage;\n    },\n\n\n    showGuiderCameraCanvas() {\n      // 动态更新z-index\n      this.canvasZIndexStel = -10;\n      this.canvasZIndexMainCamera = -11;\n      this.canvasZIndexGuiderCamera = 0;\n      this.$bus.$emit('setParsingProgress', false);\n\n      // this.convertToGrayscale();\n    },\n\n    showStelCanvas() {\n      if (this.isPolarAxisMode) {\n        this.$bus.$emit('setParsingProgress', true);\n      } else {\n        this.$bus.$emit('setParsingProgress', false);\n      }\n      this.canvasZIndexStel = 0;\n      this.canvasZIndexMainCamera = -10;\n      this.canvasZIndexGuiderCamera = -11;\n    },\n\n    showMainCameraCanvas() {\n      this.canvasZIndexStel = -10;\n      this.canvasZIndexMainCamera = 0;\n      this.canvasZIndexGuiderCamera = -11;\n      this.$bus.$emit('setParsingProgress', false);\n    },\n\n\n    handleButtonTestClick() {\n      // this.changeOrder();\n      if (this.currentcanvas === 'Stel') {\n        this.currentcanvas = 'MainCamera';\n        this.showMainCameraCanvas();\n      }\n      else if (this.currentcanvas === 'MainCamera') {\n        this.currentcanvas = 'GuiderCamera';\n        this.showGuiderCameraCanvas();\n      }\n      else if (this.currentcanvas === 'GuiderCamera') {\n        this.currentcanvas = 'Stel';\n        this.showStelCanvas();\n      }\n    },\n\n    getPluginsMenuItems: function () {\n      let res = []\n      for (const i in this.$stellariumWebPlugins()) {\n        const plugin = this.$stellariumWebPlugins()[i]\n        if (plugin.menuItems) {\n          res = res.concat(plugin.menuItems)\n        }\n      }\n      return res\n    },\n    getPluginsMenuComponents: function () {\n      let res = []\n      for (const i in this.$stellariumWebPlugins()) {\n        const plugin = this.$stellariumWebPlugins()[i]\n        if (plugin.menuComponents) {\n          res = res.concat(plugin.menuComponents)\n        }\n      }\n      return res\n    },\n    toggleStoreValue: function (storeVarName) {\n      this.nav = false;\n      this.$store.commit('toggleBool', storeVarName)\n    },\n    getStoreValue: function (storeVarName) {\n      return _.get(this.$store.state, storeVarName)\n    },\n    setStateFromQueryArgs: function () {\n      // Check whether the observing panel must be displayed\n      this.$store.commit('setValue', { varName: 'showSidePanel', newValue: this.$route.path.startsWith('/p/') })\n\n      // Set the core's state from URL query arguments such\n      // as date, location, view direction & fov\n      let that = this\n\n      if (!this.initDone) {\n        this.$stel.core.time_speed = 1\n        let d = new Date()\n        if (this.$route.query.date) {\n          d = new Moment(this.$route.query.date).toDate()\n          this.$stel.core.observer.utc = d.getMJD()\n          this.startTimeIsSet = true\n        }\n\n        if (this.$route.query.lng && this.$route.query.lat) {\n          const pos = { lat: Number(this.$route.query.lat), lng: Number(this.$route.query.lng), alt: this.$route.query.elev ? Number(this.$route.query.elev) : 0, accuracy: 1 }\n          swh.geoCodePosition(pos, that).then((loc) => {\n            that.$store.commit('setCurrentLocation', loc)\n          }, (error) => { console.log(error) })\n        }\n\n        this.$stel.core.observer.yaw = this.$route.query.az ? Number(this.$route.query.az) * Math.PI / 180 : 0\n        this.$stel.core.observer.pitch = this.$route.query.alt ? Number(this.$route.query.alt) * Math.PI / 180 : 30 * Math.PI / 180\n        this.$stel.core.fov = this.$route.query.fov ? Number(this.$route.query.fov) * Math.PI / 180 : 120 * Math.PI / 180\n\n        this.initDone = true\n      }\n\n      if (this.$route.path.startsWith('/skysource/')) {\n        const name = decodeURIComponent(this.$route.path.substring(11))\n        console.log('Will select object: ' + name)\n        this.SendConsoleLogMsg('Will select object: ' + name, 'info');\n        return swh.lookupSkySourceByName(name).then(ss => {\n          if (!ss) {\n            return\n          }\n          let obj = swh.skySource2SweObj(ss)\n          if (!obj) {\n            obj = this.$stel.createObj(ss.model, ss)\n            this.$selectionLayer.add(obj)\n          }\n          if (!obj) {\n            console.warning(\"Can't find object in SWE: \" + ss.names[0])\n          }\n          swh.setSweObjAsSelection(obj)\n        }, err => {\n          console.log(err)\n          console.log(\"Couldn't find skysource for name: \" + name)\n          this.SendConsoleLogMsg(\"Couldn't find skysource for name: \" + name, 'error');\n        })\n      }\n    },\n\n    lookatcircle() {\n      // glStel.core.selection = glTestCircle;\n      glStel.pointAndLock(glTestCircle);\n    },\n\n    setGloabalStel: function (stel) {\n      return stel;\n    },\n\n    setGlobalLayer: function (stel) {\n      return stel.createLayer({ id: 'testLayerStars', z: 7, visible: true });\n    },\n\n    vec3_from_sphe: function (ra_degree, dec_degree, out) {\n      const cp = Math.cos(dec_degree * Math.PI / 180);\n      out[0] = Math.cos(ra_degree * Math.PI / 180) * cp;\n      out[1] = Math.sin(ra_degree * Math.PI / 180) * cp;\n      out[2] = Math.sin(dec_degree * Math.PI / 180);\n    },\n\n    testAddCircle: function (stel, layer) {\n      console.log(\"Add a circle star near polaris\");\n\n      let circle = stel.createObj('circle', { id: 'my circle  ', model_data: {} });\n\n      circle.update();\n      layer.add(circle);\n\n      // Select\n      stel.core.selection = circle;\n      stel.pointAndLock(circle);\n\n      // Circle Property\n      let mm = circle.pos;\n      this.vec3_from_sphe(2.52971, 89.2641, mm);\n      circle.pos = mm;\n      console.log(\"circle pos:\" + mm);\n      circle.label = \"\";\n      circle.frame = 1;\n      circle.size = [0.05, 0.05];\n      circle.color = [0, 1, 0, 0.25];\n      circle.border_color = [0, 1, 0, 1];\n\n      return circle;\n    },\n\n    UpdateCirclePos(Ra_degree, Dec_degree) {\n      let mm = glTestCircle.pos;\n      this.vec3_from_sphe(Ra_degree, Dec_degree, mm);\n      glTestCircle.pos = mm;\n    },\n\n    UpdateTelescopeStatus(status) {\n      this.$bus.$emit('MountStatus', status);\n      if (status === 'Slewing') {\n        glTestCircle.color = [1, 0, 0, 0.25];\n        glTestCircle.border_color = [1, 0, 0, 1];\n      }\n      else {\n        glTestCircle.color = [0, 1, 0, 0.25];\n        glTestCircle.border_color = [0, 1, 0, 1];\n      }\n    },\n\n    UpdateMainCameraStatus(status) {\n      this.$bus.$emit('MainCameraStatus', status);\n      if (status === 'Exposuring') {\n\n      }\n      else {\n\n      }\n    },\n\n    UpdateMainCameraTemperature(value) {\n      // console.log('Main Camera Temperature:', value + '°');\n      this.$bus.$emit('MainCameraTemperature', value);\n    },\n\n    setPolarPointAltitude(Altitude) {\n      this.PolarPoint_Altitude = Altitude;\n      console.log('Polar Point Altitude:', this.PolarPoint_Altitude);\n      this.SendConsoleLogMsg('Polar Point Altitude:' + this.PolarPoint_Altitude, 'info');\n    },\n\n    AddMarkCircle: function (stel, layer, frame, label) {\n      let circle = stel.createObj('circle', { id: 'my circle  ', model_data: {} });\n\n      circle.update();\n      layer.add(circle);\n\n      // Select\n      stel.core.selection = circle;\n      stel.pointAndLock(circle);\n\n      // Circle Property\n      let mm = circle.pos;\n      this.vec3_from_sphe(2.52971, 89.2641, mm);\n      circle.pos = mm;\n      circle.label = label;\n      circle.frame = frame;\n      circle.size = [0.04, 0.04];\n      circle.color = [1, 1, 1, 0.5];\n      circle.border_color = [1, 1, 1, 1];\n\n      return circle;\n    },\n\n    AddMarkRectangle: function (stel, layer, RaDec) {\n      let line = stel.createObj('geojson', {\n        data: {\n          \"type\": \"FeatureCollection\",\n          \"features\": [\n            {\n              \"type\": \"Feature\",\n              \"properties\": {\n                \"stroke\": \"#FFFFFF\",\n                \"stroke-opacity\": 1,\n                \"fill\": \"#1E90FF\",\n                \"fill-opacity\": 0.25\n              },\n              \"geometry\": {\n                \"type\": \"Polygon\",\n                \"coordinates\": [\n                  [\n                    // [139.76, 35.52], [139.32, 33.41], [140.92, 33.08], [141.35, 35.19], [139.76, 35.52]\n                    [parseFloat(RaDec[0].Ra), parseFloat(RaDec[0].Dec)], [parseFloat(RaDec[1].Ra), parseFloat(RaDec[1].Dec)],\n                    [parseFloat(RaDec[2].Ra), parseFloat(RaDec[2].Dec)], [parseFloat(RaDec[3].Ra), parseFloat(RaDec[3].Dec)],\n                    [parseFloat(RaDec[0].Ra), parseFloat(RaDec[0].Dec)]\n                  ]\n                ]\n              }\n            },\n          ]\n        }\n      });\n\n      line.update();\n      layer.add(line);\n\n      return line;\n    },\n\n    getCiecleAzAlt(Circle) {\n      let obs = this.$stel.core.observer;\n      let cirs = this.$stel.convertFrame(obs, 'ICRF', 'CIRS', Circle.getInfo('radec'));\n      let observed = this.$stel.convertFrame(obs, 'CIRS', 'OBSERVED', cirs);\n      // const azalt = this.$stel.c2s(this.$stel.convertFrame(this.$stel.core.observer, 'ICRF', 'OBSERVED', obj.getInfo('radec')))\n      let azalt = this.$stel.c2s(observed);\n      let az = this.$stel.anp(azalt[0]);\n      let alt = this.$stel.anp(azalt[1]);\n\n      const az_raf = this.$stel.a2af(az, 1);\n      const Az_degree = (az_raf.degrees < 0 ? az_raf.degrees + 180 : az_raf.degrees) + az_raf.arcminutes / 60 + az_raf.arcseconds / 3600;\n\n      const alt_raf = this.$stel.a2af(alt, 1);\n      const Alt_degree = alt_raf.degrees + alt_raf.arcminutes / 60 + alt_raf.arcseconds / 3600;\n\n      console.log('AzAlt:', Az_degree, Alt_degree);\n\n      return { Az_degree, Alt_degree };\n    },\n\n    SolveResultMark(RaDegree, DecDegree, Azimuth, Altitude) {\n      let MarkCircle_RaDec = this.AddMarkCircle(this.$stel, glLayer, 1, \"RaDec\");\n      let mm = MarkCircle_RaDec.pos;\n      this.vec3_from_sphe(RaDegree, DecDegree, mm);\n      MarkCircle_RaDec.pos = mm;\n      console.log(\"RaDec circle coordinates:\" + mm);\n\n      const AzAlt = this.getCiecleAzAlt(MarkCircle_RaDec);\n      glLayer.remove(MarkCircle_RaDec);\n\n      this.MarkCircleNum++;\n      let Label = \"AzAlt_Vue_\" + this.MarkCircleNum;\n\n      let MarkCircle_AltAz = this.AddMarkCircle(this.$stel, glLayer, 4, Label);\n      mm = MarkCircle_AltAz.pos;\n      this.vec3_from_sphe(AzAlt.Az_degree, AzAlt.Alt_degree, mm);\n      MarkCircle_AltAz.pos = mm;\n      console.log(\"AzAlt_Vue circle coordinates:\" + mm);\n\n      console.log(\"AzAlt_Vue circle x:\" + mm[0]);\n      console.log(\"AzAlt_Vue circle y:\" + mm[1]);\n      console.log(\"AzAlt_Vue circle z:\" + mm[2]);\n\n      this.LastPoint_AzAlt = this.getCiecleAzAlt(MarkCircle_AltAz);\n\n      this.CalculationPolarPoint(mm);\n\n      // 将创建的圆存储到数组中\n      // this.Circles.push(MarkCircle_RaDec);\n      this.Circles.push(MarkCircle_AltAz);\n\n    },\n\n    RemoveAllCircles() {\n      this.Circles.forEach(circle => {\n        glLayer.remove(circle);\n      });\n      this.Circles = [];\n    },\n\n    SolveResultMark_RealTime(RaDegree, DecDegree, Azimuth, Altitude) {\n      this.LastCircle_RaDec = this.AddMarkCircle(this.$stel, glLayer, 1, \"RaDec\");\n      let mm = this.LastCircle_RaDec.pos;\n      this.vec3_from_sphe(RaDegree, DecDegree, mm);\n      this.LastCircle_RaDec.pos = mm;\n      console.log(\"RaDec circle coordinates:\" + mm);\n\n      const AzAlt = this.getCiecleAzAlt(this.LastCircle_RaDec);\n      glLayer.remove(this.LastCircle_RaDec);\n\n      if (this.LastCircle_AzAlt !== null && this.LastCircle_AzAlt !== undefined) {\n        glLayer.remove(this.LastCircle_AzAlt);\n      }\n      this.LastCircle_AzAlt = this.AddMarkCircle(this.$stel, glLayer, 4, 'Current');\n      mm = this.LastCircle_AzAlt.pos;\n      this.vec3_from_sphe(AzAlt.Az_degree, AzAlt.Alt_degree, mm);\n      this.LastCircle_AzAlt.pos = mm;\n      this.LastCircle_AzAlt.color = [0, 1, 1, 0.25];\n      console.log(\"AzAlt_Vue circle coordinates:\" + mm);\n\n      console.log(\"AzAlt_Vue circle x:\" + mm[0]);\n      console.log(\"AzAlt_Vue circle y:\" + mm[1]);\n      console.log(\"AzAlt_Vue circle z:\" + mm[2]);\n\n      this.Current_AzAlt = this.getCiecleAzAlt(this.LastCircle_AzAlt);\n      console.log(\"Current AzAlt:\", this.Current_AzAlt.Az_degree, this.Current_AzAlt.Alt_degree);\n      this.$bus.$emit('ShowCurrentAzAltText', this.Current_AzAlt.Az_degree, this.Current_AzAlt.Alt_degree);\n    },\n\n\n    CalculationPolarPoint(coordinate) {\n      this.CartesianList.push(coordinate);\n\n      if (this.CartesianList.length < 3) {\n        return;\n      }\n\n      this.$bus.$emit('HideSingleSolveBtn');\n\n      // 获取三个点的坐标\n      const p1 = this.CartesianList[0];\n      const p2 = this.CartesianList[1];\n      const p3 = this.CartesianList[2];\n\n      // 计算两个向量\n      const v1 = [\n        p2[0] - p1[0],\n        p2[1] - p1[1],\n        p2[2] - p1[2]\n      ];\n\n      const v2 = [\n        p3[0] - p1[0],\n        p3[1] - p1[1],\n        p3[2] - p1[2]\n      ];\n\n      // 计算法向量\n      const normal = [\n        v1[1] * v2[2] - v1[2] * v2[1],\n        v1[2] * v2[0] - v1[0] * v2[2],\n        v1[0] * v2[1] - v1[1] * v2[0]\n      ];\n\n      // 计算法向量的长度\n      const normalLength = Math.sqrt(normal[0] ** 2 + normal[1] ** 2 + normal[2] ** 2);\n\n      // 归一化法向量\n      const unitNormal = [\n        normal[0] / normalLength,\n        normal[1] / normalLength,\n        normal[2] / normalLength\n      ];\n\n      // 假设球的半径为r，圆心为(0, 0, 0)\n      const r = 1; // 根据你的实际情况调整\n\n      // 计算与球面的交点\n      const intersection1 = [\n        unitNormal[0] * r,\n        unitNormal[1] * r,\n        unitNormal[2] * r\n      ];\n\n      const intersection2 = [\n        -unitNormal[0] * r,\n        -unitNormal[1] * r,\n        -unitNormal[2] * r\n      ];\n\n      console.log('Intersection Points:', intersection1, intersection2);\n\n      // 选择离(0,0,1)更近的交点\n      const closerIntersection = intersection1[2] > 0 ? intersection1 : intersection2;\n\n      let MarkCircle_FakePolarPoint = this.AddMarkCircle(this.$stel, glLayer, 4, \"FakePolarPoint\");\n      let mm = MarkCircle_FakePolarPoint.pos;\n      mm[0] = closerIntersection[0];\n      mm[1] = closerIntersection[1];\n      mm[2] = closerIntersection[2];\n      MarkCircle_FakePolarPoint.pos = mm;\n      console.log(\"FakePolarPoint circle coordinates:\" + mm);\n\n      const AzAlt_FakePolarPoint = this.getCiecleAzAlt(MarkCircle_FakePolarPoint);\n\n      console.log(\"Fake Polar Point AzAlt:\", AzAlt_FakePolarPoint.Az_degree, ',', AzAlt_FakePolarPoint.Alt_degree);\n\n      this.Circles.push(MarkCircle_FakePolarPoint);\n\n      let AzAlt_PolarPoint = {\n        Az_degree: 0,\n        Alt_degree: this.PolarPoint_Altitude\n      };\n\n      // console.log(\"Real Polar Point AzAlt:\", AzAlt_PolarPoint.Az_degree, ',', AzAlt_PolarPoint.Alt_degree);\n      this.SendConsoleLogMsg('Real Polar Point AzAlt:' + AzAlt_PolarPoint.Az_degree + ',' + AzAlt_PolarPoint.Alt_degree, 'info');\n      // console.log(\"Last Point AzAlt:\", this.LastPoint_AzAlt.Az_degree, this.LastPoint_AzAlt.Alt_degree);\n      this.SendConsoleLogMsg('Last Point AzAlt:' + this.LastPoint_AzAlt.Az_degree + ',' + this.LastPoint_AzAlt.Alt_degree, 'info');\n\n      ////////////////////////////////////////////////\n\n      // // 将球坐标转换为笛卡尔坐标\n      // let fakePolarPoint = this.sphericalToCartesian(AzAlt_FakePolarPoint.Az_degree, AzAlt_FakePolarPoint.Alt_degree);\n      // let polarPoint = this.sphericalToCartesian(AzAlt_PolarPoint.Az_degree, AzAlt_PolarPoint.Alt_degree);\n      // let lastPoint = this.sphericalToCartesian(this.LastPoint_AzAlt.Az_degree, this.LastPoint_AzAlt.Alt_degree);\n\n      // // 计算旋转四元数\n      // let quaternion = this.computeQuaternion(fakePolarPoint, polarPoint);\n\n      // // 应用旋转\n      // let fourthPoint = this.applyQuaternion(lastPoint, quaternion);\n\n      // // 将结果转换回球坐标\n      // let fourthPointAzAlt = this.cartesianToSpherical(fourthPoint);\n      // console.log(\"Fourth Point AzAlt:\", fourthPointAzAlt.Az_degree, ',', fourthPointAzAlt.Alt_degree);\n\n      ////////////////////////////////////////////////\n\n      // 计算角度差值，考虑角度的循环性质\n      function calculateAngleDifference(angle1, angle2) {\n        let difference = angle2 - angle1;\n        while (difference > 180) difference -= 360;\n        while (difference < -180) difference += 360;\n        return difference;\n      }\n\n      let azimuthDifference = calculateAngleDifference(AzAlt_FakePolarPoint.Az_degree, AzAlt_PolarPoint.Az_degree);\n      let altitudeDifference = AzAlt_PolarPoint.Alt_degree - AzAlt_FakePolarPoint.Alt_degree;\n\n      // 应用差值到LastPoint\n      let fourthPointAzAlt = {\n        Az_degree: this.LastPoint_AzAlt.Az_degree + azimuthDifference,\n        Alt_degree: this.LastPoint_AzAlt.Alt_degree + altitudeDifference\n      };\n\n      // 确保方位角在0到360度之间\n      fourthPointAzAlt.Az_degree = (fourthPointAzAlt.Az_degree + 360) % 360;\n\n      // 确保高度角在-90到90度之间\n      fourthPointAzAlt.Alt_degree = Math.max(Math.min(fourthPointAzAlt.Alt_degree, 90), -90);\n\n      console.log(\"Fourth Point AzAlt:\", fourthPointAzAlt.Az_degree, ',', fourthPointAzAlt.Alt_degree);\n\n      this.$bus.$emit('ShowAzAltText', azimuthDifference, altitudeDifference, fourthPointAzAlt.Az_degree, fourthPointAzAlt.Alt_degree);\n\n      ////////////////////////////////////////////////\n\n      // 将角度转换为弧度\n      function degreesToRadians(degrees) {\n        return degrees * Math.PI / 180;\n      }\n\n      // 将球坐标转换为笛卡尔坐标\n      function sphericalToCartesian(azimuth, altitude) {\n        let az = degreesToRadians(azimuth);\n        let alt = degreesToRadians(altitude);\n        let x = Math.cos(alt) * Math.cos(az);\n        let y = Math.cos(alt) * Math.sin(az);\n        let z = Math.sin(alt);\n        return { x: x, y: y, z: z };\n      }\n\n      // 将第四个点转换为笛卡尔坐标\n      let fourthPointCartesian = sphericalToCartesian(fourthPointAzAlt.Az_degree, fourthPointAzAlt.Alt_degree);\n      console.log(\"Fourth Point Cartesian:\", fourthPointCartesian.x, ',', fourthPointCartesian.y, ',', fourthPointCartesian.z);\n\n      let MarkCircle_fourthPoint = this.AddMarkCircle(this.$stel, glLayer, 4, \"Target Point\");\n      mm = MarkCircle_fourthPoint.pos;\n      mm[0] = fourthPointCartesian.x;\n      mm[1] = fourthPointCartesian.y;\n      mm[2] = fourthPointCartesian.z;\n      MarkCircle_fourthPoint.pos = mm;\n      MarkCircle_fourthPoint.color = [1, 0, 0, 0.25];\n\n      this.Circles.push(MarkCircle_fourthPoint);\n\n      // 清空列表，准备下次计算\n      this.CartesianList = [];\n      this.MarkCircleNum = 0;\n    },\n\n    // 将角度转换为弧度\n    degreesToRadians(degrees) {\n      return degrees * Math.PI / 180;\n    },\n\n    // 将球坐标转换为笛卡尔坐标\n    sphericalToCartesian(azimuth, altitude) {\n      let az = this.degreesToRadians(azimuth);\n      let alt = this.degreesToRadians(altitude);\n      let x = Math.cos(alt) * Math.cos(az);\n      let y = Math.cos(alt) * Math.sin(az);\n      let z = Math.sin(alt);\n      return { x: x, y: y, z: z };\n    },\n\n    // 计算旋转四元数\n    computeQuaternion(from, to) {\n      let w = from.x * to.x + from.y * to.y + from.z * to.z + 1;\n      let x = from.y * to.z - from.z * to.y;\n      let y = from.z * to.x - from.x * to.z;\n      let z = from.x * to.y - from.y * to.x;\n\n      let norm = Math.sqrt(w * w + x * x + y * y + z * z);\n      return { w: w / norm, x: x / norm, y: y / norm, z: z / norm };\n    },\n\n    // 应用四元数旋转\n    applyQuaternion(point, quat) {\n      let x = quat.w * quat.w * point.x + 2 * quat.y * quat.w * point.z - 2 * quat.z * quat.w * point.y + quat.x * quat.x * point.x + 2 * quat.y * quat.x * point.y + 2 * quat.z * quat.x * point.z - quat.z * quat.z * point.x - quat.y * quat.y * point.x;\n      let y = 2 * quat.x * quat.y * point.x + quat.y * quat.y * point.y + 2 * quat.z * quat.y * point.z + 2 * quat.w * quat.z * point.x - quat.z * quat.z * point.y + quat.w * quat.w * point.y - 2 * quat.x * quat.w * point.z - quat.x * quat.x * point.y;\n      let z = 2 * quat.x * quat.z * point.x + 2 * quat.y * quat.z * point.y + quat.z * quat.z * point.z - 2 * quat.w * quat.y * point.x - quat.y * quat.y * point.z + 2 * quat.w * quat.x * point.y - quat.x * quat.x * point.z + quat.w * quat.w * point.z;\n      return { x: x, y: y, z: z };\n    },\n\n    // 将笛卡尔坐标转换回球坐标\n    cartesianToSpherical(cartesian) {\n      let r = Math.sqrt(cartesian.x ** 2 + cartesian.y ** 2 + cartesian.z ** 2);\n      let azimuth = Math.atan2(cartesian.y, cartesian.x);\n      let altitude = Math.asin(cartesian.z / r);\n      return {\n        Az_degree: azimuth * 180 / Math.PI,\n        Alt_degree: altitude * 180 / Math.PI\n      };\n    },\n\n    SolveFovMark(RaDec) {\n      console.log('RaDec[4]:', RaDec);\n\n      let rectangle = this.AddMarkRectangle(this.$stel, glLayer, RaDec);\n\n      this.Circles.push(rectangle);\n\n    },\n\n    CalibratePolarAxis() {\n      this.$bus.$emit('CalibratePolarAxisMode');\n      // this.$bus.$emit('AppSendMessage', 'Vue_Command', 'StartLoopCapture');\n      this.nav = false;\n    },\n\n    RecalibratePolarAxis() {\n      // 清空列表，准备下次计算\n      this.CartesianList = [];\n      this.MarkCircleNum = 0;\n      this.RemoveAllCircles();\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'ClearSloveResultList');\n    },\n\n    ShowConfirmDialog(Title, Text, ToDo) {\n      // window.location.reload();\n      this.nav = false;\n      this.$bus.$emit('ShowConfirmDialog', Title, Text, ToDo);\n    },\n\n    decrement(item) {\n      console.log('decrement:', item.value);\n      if (item.value > item.inputMin) {\n        item.value -= item.inputStep;\n      }\n    },\n\n    increment(item) {\n      console.log('increment:', item.value);\n      if (item.value < item.inputMax) {\n        item.value += item.inputStep;\n      }\n    },\n\n    PolarAxisMode(bool) {\n      this.isPolarAxisMode = bool;\n    },\n\n    handleGuiderCanvasClick(event) {\n      const canvas = this.$refs.guiderCanvas;\n      const rect = canvas.getBoundingClientRect();\n      const x = event.clientX - rect.left; // 点击坐标X\n      const y = event.clientY - rect.top;  // 点击坐标Y\n      console.log(`Clicked at: (${x}, ${y})`);\n      const CanvasWidth = window.innerWidth;\n      const CanvasHeight = window.innerHeight;\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GuiderCanvasClick:' + CanvasWidth + ':' + CanvasHeight + ':' + x + ':' + y);\n    },\n    connectDriver() {\n      this.isConnecting = true;\n      // this.isOpenDevicePage = false;\n      this.startLoading();\n      const DeviceType = this.CurrentDriverType;\n      for (const device of this.devices) {\n        if (device.driverType === DeviceType && device.isConnected == false) {\n          const DriverName = device.driverName;\n          if (DriverName == '') {\n            this.SendConsoleLogMsg('No driver selected', 'warning');\n            this.isConnecting = false;\n            return;\n          }\n          this.$bus.$emit('AppSendMessage', 'Vue_Command', 'ConnectDriver:' + DriverName + ':' + DeviceType);\n          this.SendConsoleLogMsg('Start Connecting driver:' + DeviceType + ' ' + DriverName, 'info');\n          return;\n        }\n      }\n    },\n    connectDriverSuccess(devicetype) {\n      console.log('connectDriverSuccess:', devicetype);\n      this.SendConsoleLogMsg(\"connectDriverSuccess:\" + devicetype, 'info');\n      this.isConnecting = false;\n      if (this.drawer_2 == true) {\n        this.drawer_2 = false\n      }\n\n      this.stopLoading();\n    },\n    connectDriverFailed(message) {\n      console.log('connectDriverFailed:', message);\n      this.SendConsoleLogMsg(\"connectDriverFailed:\" + message, 'error');\n      this.isConnecting = false;\n      this.stopLoading();\n    },\n    disconnectDriver() {\n      const DeviceType = this.CurrentDriverType;\n      for (const device of this.devices) {\n        if (device.driverType === DeviceType && device.isConnected) {\n          this.$bus.$emit('AppSendMessage', 'Vue_Command', 'DisconnectDevice:' + device.device + \":\" + DeviceType);\n        }\n      }\n    },\n    disconnectDriversuccess(devicetype) {\n      console.log('disconnectDevicesuccess:', devicetype);\n      this.drawer_2 = false\n      if (devicetype == \"all\") {\n        this.sendMessage('Vue_Command', 'disconnectAllDevice');\n        this.SendConsoleLogMsg('Disconnect All Device', 'info');\n        this.haveDeviceConnect = false;\n        this.$bus.$emit('MainCameraConnected', 0);\n        this.$bus.$emit('MountConnected', 0);\n        this.$bus.$emit('CFWConnected', 0);\n        this.$bus.$emit('GuiderConnected', 0);\n        this.claerDeviceList();\n        this.$bus.$emit('deleteDeviceTypeAllocationList', 'all');\n        return;\n      };\n\n      for (const device of this.devices) {\n        if (device.driverType === devicetype && device.isConnected) {\n          device.isConnected = false;\n          device.isget = false;\n          device.device = device.driverName;\n        }\n      }\n      for (const device of this.ToBeConnectDevice) {\n        if (device.driverType === devicetype) {\n          device.isConnected = false;\n          device.isget = false;\n          device.device = device.driverName;\n        }\n      }\n\n      this.$bus.$emit('deleteDeviceTypeAllocationList', devicetype);\n      if (devicetype == \"MainCamera\") {\n        this.$bus.$emit('MainCameraConnected', 0);\n      } else if (devicetype == \"Mount\") {\n        this.$bus.$emit('MountConnected', 0);\n      } else if (devicetype == \"CFW\") {\n        this.$bus.$emit('CFWConnected', 0);\n      } else if (devicetype == \"Guider\") {\n        this.$bus.$emit('GuiderConnected', 0);\n      }\n    },\n\n    disconnectDriverFail(devicetype) {\n      console.log('disconnectDeviceFail:', devicetype);\n      this.drawer_2 = false\n      if (devicetype == \"all\") {\n        this.sendMessage('Vue_Command', 'disconnectAllDevice');\n        this.SendConsoleLogMsg('Disconnect All Device', 'info');\n        this.haveDeviceConnect = false;\n        this.$bus.$emit('MainCameraConnected', 0);\n        this.$bus.$emit('MountConnected', 0);\n        this.$bus.$emit('CFWConnected', 0);\n        this.$bus.$emit('GuiderConnected', 0);\n        this.claerDeviceList();\n        this.$bus.$emit('deleteDeviceTypeAllocationList', 'all');\n        return;\n      };\n\n      for (const device of this.devices) {\n        if (device.driverType === devicetype && device.isConnected) {\n          device.isConnected = false;\n          device.isget = false;\n          device.device = device.driverName;\n        }\n      }\n      for (const device of this.ToBeConnectDevice) {\n        if (device.driverType === devicetype) {\n          device.isConnected = false;\n          device.isget = false;\n          device.device = device.driverName;\n        }\n      }\n\n      this.$bus.$emit('deleteDeviceTypeAllocationList', devicetype);\n      if (devicetype == \"MainCamera\") {\n        this.$bus.$emit('MainCameraConnected', 0);\n      } else if (devicetype == \"Mount\") {\n        this.$bus.$emit('MountConnected', 0);\n      } else if (devicetype == \"CFW\") {\n        this.$bus.$emit('CFWConnected', 0);\n      } else if (devicetype == \"Guider\") {\n        this.$bus.$emit('GuiderConnected', 0);\n      }\n    },\n    loadSelectedDriverList(deviceObject) {\n      console.log('loadSelectedDriverList:', deviceObject);\n      deviceObject.forEach(device => {\n        // 假设你想要打印每个设备对象的键值对\n        for (const [driverType, driverName] of Object.entries(device)) {\n          this.devices.forEach(device => {\n            if (device.driverType === driverType && device.isConnected == false) {\n              device.device = driverName;\n              device.driverName = driverName;\n            }\n          });\n        }\n      });\n    },\n    loadBindDeviceList(deviceObject) {\n      console.log('loadBindDeviceList:', deviceObject);\n      this.$bus.$emit('loadBindDeviceList', deviceObject);\n\n    },\n    loadBindDeviceTypeList(deviceTypeObject) {\n      console.log('loadBindDeviceTypeList:', deviceTypeObject);\n      this.$bus.$emit('loadBindDeviceTypeList', deviceTypeObject);\n      deviceTypeObject.forEach(deviceType => {\n        const { Type, DeviceName, DriverName, isbind } = deviceType;\n        this.updateDevicesConnect(Type, DeviceName, DriverName, isbind);\n      });\n    },\n    updateSelectedDriver(driverType) {\n\n      this.selectedDriver = null;\n      this.devices.forEach(device => {\n        if (device.driverType === driverType) {\n          this.selectedDriver = device.driverName\n        }\n      });\n      console.log('Current drivers:', this.selectedDriver);\n    },\n    startLoading() {\n      this.loadingDeviceSelection = true;\n    },\n    stopLoading() {\n      this.loadingDeviceSelection = false;\n    },\n    deleteDeviceAllocationList(deviceName) {\n      console.log('deleteDeviceAllocationList:', deviceName);\n      this.$bus.$emit('deleteDeviceAllocationList', deviceName);\n    },\n    UnBindingDevice(type, name, driverName) {\n      console.log('UnBindingDevice:', type, name, driverName);\n      this.updateDevicesConnect(type, name, driverName, false);\n    },\n\n    displayErrorImage() {\n      console.error(\"image is error, load errorImage.svg\");\n      const canvas = document.getElementById('mainCamera-canvas');\n      const ctx = canvas.getContext('2d');\n      const image = new Image();\n\n      image.onload = () => {\n        // 获取设备像素比\n        const devicePixelRatio = window.devicePixelRatio || 1;\n\n        // 调整画布尺寸以适应高清显示\n        canvas.width = image.width * devicePixelRatio;\n        canvas.height = image.height * devicePixelRatio;\n        ctx.scale(devicePixelRatio, devicePixelRatio); // 缩放ctx以适应高清画布\n\n        // 绘制图像\n        ctx.drawImage(image, 0, 0);\n      };\n\n      image.onerror = () => {\n        console.error(\"Failed to load image from \" + image.src);\n        // 可以在这里添加备用图像或其他错误处理逻辑\n      };\n\n      // 确保ErrorImage是有效的URL\n      image.src = ErrorImage; // 请替换为实际的图像路径\n    },\n    handleError(message, location, error = null) {\n      const errorMsg = error ? `${message} at ${location}: ${error}` : `${message} at ${location}`;\n      console.error(errorMsg);\n      this.SendConsoleLogMsg(errorMsg, 'error');\n      this.displayErrorImage(); // 显示错误图像\n    },\n    showSelectdisconnectDriver(drivername) {\n      this.showDisconnectDialog = true;\n      this.currentDisconnectDriverName = drivername;\n    },\n    confirmDisconnect() {\n      this.sendMessage('Vue_Command', 'disconnectSelectDriver:' + this.currentDisconnectDriverName);\n      this.showDisconnectDialog = false;\n    },\n\n    // 主画布点击事件\n    handleMainCanvasClick(event) {\n      // this.SendConsoleLogMsg('触发鼠标点击事件:', 'info');\n      if (!this.enableMainCanvasClick || this.isDragging || this.drawImgData == null) return; // 如果画布不可点击，则不处理点击事件\n      // console.log('触发鼠标点击事件:', event);\n      const canvas = this.$refs.mainCanvas;\n      if (!canvas) return; // 确保 canvas 元素存在\n      const rect = canvas.getBoundingClientRect();// 获取 canvas 元素的边界矩形\n      const x = event.clientX - rect.left;\n      const y = event.clientY - rect.top;\n      console.log('Mouse clicked at:', x, y);\n      if (!this.isFocusLoopShooting) {\n        this.ROI_x = (x / window.innerWidth * this.visibleWidth - this.RedBoxSideLength / 2) + this.visibleX - this.visibleWidth / 2;  // 计算ROI的x坐标\n        this.ROI_y = (y / window.innerHeight * this.visibleHeight - this.RedBoxSideLength / 2) + this.visibleY - this.visibleHeight / 2; // 计算ROI的y坐标\n        // this.$bus.$emit('setRedBoxPosition', x, y, this.ROI_x, this.ROI_y);\n      } else {\n        this.selectStarX = (x / window.innerWidth * this.visibleWidth) + this.visibleX - this.visibleWidth / 2 - this.ROI_x; // 计算选择位置的x坐标\n        this.selectStarY = (y / window.innerHeight * this.visibleHeight) + this.visibleY - this.visibleHeight / 2 - this.ROI_y; // 计算选择位置的y坐标\n\n        if (this.selectStarX >= 0 && this.selectStarX < this.RedBoxSideLength &&\n          this.selectStarY >= 0 && this.selectStarY < this.RedBoxSideLength) {\n          this.SendConsoleLogMsg('Select Star is in ROI', 'info');\n        } else {\n          this.SendConsoleLogMsg('Select Star is not in ROI', 'error');\n          this.selectStarX = -1;\n          this.selectStarY = -1;\n        }\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'sendSelectStars:' + this.selectStarX + ':' + this.selectStarY);\n      }\n      this.drawImageData();\n    },\n\n    // 主画布拖动\n    handleMouseDown(event) {\n      // this.SendConsoleLogMsg('触发鼠标按下事件:', 'info');\n      if (this.isDragging || this.drawImgData == null) return;\n      this.isDragging = true;\n      this.startX = event.clientX;\n      this.startY = event.clientY;\n      this.currentX = event.clientX;\n      this.currentY = event.clientY;\n\n      // 设置一个定时器，每100ms执行一次鼠标移动的逻辑\n      this.moveIntervalId = setInterval(() => {\n        if (!this.isDragging) return;\n\n        const dx = this.startX - this.currentX;\n        const dy = this.startY - this.currentY;\n        if (isNaN(dx) || isNaN(dy)) {\n          return;\n        }\n        let newVisibleX = this.visibleX + dx / window.innerWidth * this.visibleWidth;\n        let newVisibleY = this.visibleY + dy / window.innerHeight * this.visibleHeight;\n        if (newVisibleX < 0) {\n          newVisibleX = 0;\n        }\n        if (newVisibleY < 0) {\n          newVisibleY = 0;\n        }\n        if (newVisibleX > this.mainCameraSizeX) {\n          newVisibleX = this.mainCameraSizeX;\n        }\n        if (newVisibleY > this.mainCameraSizeY) {\n          newVisibleY = this.mainCameraSizeY;\n        }\n\n        this.visibleX = newVisibleX;\n        this.visibleY = newVisibleY;\n\n        this.startX = this.currentX;\n        this.startY = this.currentY;\n        this.drawImageData();\n        // this.SendConsoleLogMsg('拖动事件,拖动距离:' + dx + ',' + dy, 'info');\n      }, 100);\n    },\n    handleMouseMove(event) {\n      // this.SendConsoleLogMsg('触发鼠标移动事件:', 'info');\n      if (!this.isDragging) return;\n      this.currentX = event.clientX;\n      this.currentY = event.clientY;\n    },\n    handleMouseUp(event) {\n      // this.SendConsoleLogMsg('触发鼠标抬起事件:', 'info');\n      this.isDragging = false;\n\n      // 清除定时器\n      clearInterval(this.moveIntervalId);\n      this.moveIntervalId = null;\n    },\n    handleWheel(event) {\n      // this.SendConsoleLogMsg('触发鼠标滚轮事件:', 'info');\n      if (this.drawImgData == null) return;\n      const scaleChange = event.deltaY > 0 ? 0.1 : -0.1; // 根据滚轮的滚动方向，计算缩放比例的变化量\n      let newScale = this.scale + scaleChange; // 更新缩放比例\n      if (newScale < 0.1) {\n        newScale = 0.1;\n      }\n      if (newScale > 1) {\n        newScale = 1;\n      }\n\n      // 如果已经有一个待执行的缩放操作，则直接返回\n      if (this.pendingScaleChange) {\n        return;\n      }\n\n      // 标记有一个待执行的缩放操作\n      this.pendingScaleChange = true;\n\n      // 使用 requestAnimationFrame 来控制缩放操作的执行频率\n      requestAnimationFrame(() => {\n        if (newScale != this.scale) {\n          this.scale = newScale; // 更新缩放比例\n          this.$bus.$emit('setScale', this.scale);\n          this.drawImageData();\n          this.SendConsoleLogMsg('缩放比例变化,缩放比例:' + newScale, 'info');\n        } else {\n          this.SendConsoleLogMsg('缩放比例没有变化,缩放比例:' + this.scale, 'info');\n        }\n        this.pendingScaleChange = false; // 清除待执行的缩放操作标记\n      });\n    },\n\n    handleMainCanvasTouch(event) {\n      // this.SendConsoleLogMsg('触发触摸事件:', 'info');\n      if (!this.enableMainCanvasClick || this.isDragging || this.drawImgData == null) return; // 如果画布不可点击，则不处理点击事件\n      // console.log('触发触摸事件:', event);\n      if (!this.enableMainCanvasClick || !event.touches || event.touches.length === 0) return;\n      const canvas = this.$refs.mainCanvas;\n      if (!canvas) return; // 确保 canvas 元素存在\n      const touch = event.touches[0];\n      const rect = canvas.getBoundingClientRect();// 获取 canvas 元素的边界矩形\n      const x = touch.clientX - rect.left;\n      const y = touch.clientY - rect.top;\n      console.log('Touch at:', x, y);\n      event.preventDefault();// 阻止默认事件，如页面滚动\n      if (!this.isFocusLoopShooting) {\n        this.ROI_x = (x / window.innerWidth * this.visibleWidth - this.RedBoxSideLength / 2) + this.visibleX - this.visibleWidth / 2 - this.ROI_x;  // 计算ROI的x坐标\n        this.ROI_y = (y / window.innerHeight * this.visibleHeight - this.RedBoxSideLength / 2) + this.visibleY - this.visibleHeight / 2 - this.ROI_y; // 计算ROI的y坐标\n        // this.$bus.$emit('setRedBoxPosition', x, y, this.ROI_x, this.ROI_y);\n      } else {\n        this.selectStarX = (x / window.innerWidth * this.visibleWidth) + this.visibleX - this.visibleWidth / 2 - this.ROI_x; // 计算选择位置的x坐标\n        this.selectStarY = (y / window.innerHeight * this.visibleHeight) + this.visibleY - this.visibleHeight / 2 - this.ROI_y; // 计算选择位置的y坐标\n\n        if (this.selectStarX >= 0 && this.selectStarX < this.RedBoxSideLength &&\n          this.selectStarY >= 0 && this.selectStarY < this.RedBoxSideLength) {\n          this.SendConsoleLogMsg('Select Star is in ROI', 'info');\n        } else {\n          this.SendConsoleLogMsg('Select Star is not in ROI', 'error');\n          this.selectStarX = -1;\n          this.selectStarY = -1;\n        }\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'sendSelectStars:' + this.selectStarX + ':' + this.selectStarY);\n      }\n      this.drawImageData();\n    },\n    handleTouchStart(event) {\n      if (this.drawImgData == null) return;\n      // this.SendConsoleLogMsg('触发触摸开始事件:', 'info');\n      if (event.touches.length === 1) { // 单指触摸，开始拖动\n        this.isOneTouch = true;\n        // this.SendConsoleLogMsg('触发单指触摸事件', 'info');\n        this.isDragging = true;\n        this.startTouchX[0] = event.touches[0].clientX;\n        this.startTouchY[0] = event.touches[0].clientY;\n        this.currentTouchX[0] = event.touches[0].clientX;\n        this.currentTouchY[0] = event.touches[0].clientY;\n        // 清除可能存在的双指触摸的定时器\n        if (this.zoomIntervalId) {\n          clearInterval(this.zoomIntervalId);\n          this.zoomIntervalId = null;\n        }\n\n\n        this.handleMainCanvasTouch(event);\n      } else if (event.touches.length >= 2) { // 双指触摸，开始缩放\n        this.isOneTouch = false;\n        // this.SendConsoleLogMsg('触发双指触摸事件', 'info');\n        this.isDragging = true;\n        // 计算两个触摸点之间的距离\n        const dx = this.currentTouchX[0] - this.currentTouchX[1];\n        const dy = this.currentTouchY[0] - this.currentTouchY[1];\n        this.startTouchDistance = Math.sqrt(dx * dx + dy * dy);\n        // 清除可能存在的单指触摸的定时器\n        if (this.moveIntervalId) {\n          clearInterval(this.moveIntervalId);\n          this.moveIntervalId = null;\n        }\n\n\n      } else {\n        // this.SendConsoleLogMsg('触发多指触摸事件，获取当前触摸点数量:' + event.touches.length, 'info');\n      }\n      \n    },\n\n    handleTouchMove(event) {\n      // this.SendConsoleLogMsg('触发触摸移动事件:', 'info');\n      if (!this.isDragging || this.drawImgData == null) return;\n      if (event.touches.length == 1) {\n        this.currentTouchX[0] = event.touches[0].clientX;\n        this.currentTouchY[0] = event.touches[0].clientY;\n        if (this.zoomIntervalId) {\n          clearInterval(this.zoomIntervalId);\n          this.zoomIntervalId = null;\n        }\n        if (this.moveIntervalId != null) {\n          return;\n        }\n        // 设置一个定时器，每100ms执行一次触摸移动的逻辑\n        this.moveIntervalId = setInterval(() => {\n          // console.log('执行触摸移动!');\n          if (!this.isDragging || !this.isOneTouch) return;\n\n          const dx = this.startTouchX[0] - this.currentTouchX[0];\n          const dy = this.startTouchY[0] - this.currentTouchY[0];\n          if (isNaN(dx) || isNaN(dy)) {\n            return;\n          }\n          if (dx == 0 && dy == 0) {\n            return;\n          }\n\n          let newVisibleX = this.visibleX + dx / window.innerWidth * this.visibleWidth;\n          let newVisibleY = this.visibleY + dy / window.innerHeight * this.visibleHeight;\n          if (newVisibleX < 0) {\n            newVisibleX = 0;\n          }\n          if (newVisibleY < 0) {\n            newVisibleY = 0;\n          }\n          if (newVisibleX > this.mainCameraSizeX) {\n            newVisibleX = this.mainCameraSizeX;\n          }\n          if (newVisibleY > this.mainCameraSizeY) {\n            newVisibleY = this.mainCameraSizeY;\n          }\n\n          this.visibleX = newVisibleX;\n          this.visibleY = newVisibleY;\n\n          this.startTouchX[0] = this.currentTouchX[0];\n          this.startTouchY[0] = this.currentTouchY[0];\n\n          this.drawImageData();\n        }, 100);\n\n      } else if (event.touches.length >= 2) {\n        this.currentTouchX[0] = event.touches[0].clientX;\n        this.currentTouchY[0] = event.touches[0].clientY;\n        this.currentTouchX[1] = event.touches[1].clientX;\n        this.currentTouchY[1] = event.touches[1].clientY;\n\n        // 清除可能存在的单指触摸的定时器\n        if (this.moveIntervalId) {\n          clearInterval(this.moveIntervalId);\n          this.moveIntervalId = null;\n        }\n        if (this.zoomIntervalId != null) {\n          return;\n        }\n        // 设置一个定时器，每100ms执行一次缩放逻辑\n        this.zoomIntervalId = setInterval(() => {\n          if (!this.isDragging || !this.isOneTouch) return;\n          const dx = this.currentTouchX[0] - this.currentTouchX[1];\n          const dy = this.currentTouchY[0] - this.currentTouchY[1];\n          const distance = Math.sqrt(dx * dx + dy * dy);\n          this.SendConsoleLogMsg('距离变化 distance:' + distance, 'info');\n          if (this.startTouchDistance == 0) {\n            this.startTouchDistance = distance;\n          }\n          // 计算缩放比例的变化量\n          const scaleChange = distance / this.startTouchDistance;\n          this.SendConsoleLogMsg('距离变化比例 scaleChange:' + scaleChange, 'info');\n          let newScale = this.scale * scaleChange; // 更新缩放比例\n          if (newScale < 0.1) {\n            newScale = 0.1;\n          }\n          if (newScale > 1) {\n            newScale = 1;\n          }\n          if (newScale != this.scale) {\n            this.SendConsoleLogMsg('缩放比例变化,缩放比例:' + newScale, 'info');\n            this.scale = newScale; // 更新缩放比例\n            this.$bus.$emit('setScale', this.scale);\n            this.drawImageData();\n          } else {\n            this.SendConsoleLogMsg('缩放比例没有变化,缩放比例:' + this.scale, 'info');\n          }\n          this.startTouchDistance = distance; // 更新两个触摸点之间的距离\n        }, 100);\n      } else {\n        this.SendConsoleLogMsg('触发多指触摸事件，获取当前触摸点数量:' + event.touches.length, 'info');\n      }\n    },\n\n    handleTouchEnd(event) {\n      // this.SendConsoleLogMsg('触发触摸结束事件:', 'info');\n      this.isDragging = false; // 停止拖动\n      // 清除定时器\n      if (this.moveIntervalId) {\n        clearInterval(this.moveIntervalId);\n        this.moveIntervalId = null;\n      }\n      if (this.zoomIntervalId) {\n        clearInterval(this.zoomIntervalId);\n        this.zoomIntervalId = null;\n      }\n    },\n\n    ScaleChange(type) {\n      if (this.drawImgData == null) return;\n      if (type == '+') {\n        this.scale -= 0.1;\n      } else if (type == '-') {\n        this.scale += 0.1;\n      }\n      if (this.scale < 0.1) {\n        this.scale = 0.1;\n      }\n      if (this.scale > 1) {\n        this.scale = 1;\n      }\n      this.$bus.$emit('setScale', this.scale);\n      this.drawImageData();\n    },\n\n    // 显示ROI图像\n    showRoiImage(fileName, destX, destY) {\n      if (this.RedBoxSideLength == 0 || this.RedBoxSideLength == null) {\n        this.SendConsoleLogMsg('RedBoxSideLength is 0 or null', 'error');\n        return;\n      }\n      if (this.isProcessingImage) {\n        this.SendConsoleLogMsg('Image is being transmitted, current processing is slow, skipping one frame.', 'warning');\n        return;\n      }\n      this.isProcessingImage = true;\n      const imagePath = 'img/' + fileName;\n      // 创建一个AbortController实例来取消fetch请求\n      const fetchController = new AbortController();\n      const fetchSignal = fetchController.signal;\n\n      // 使用 fetch API 获取二进制数据\n      fetch(imagePath, { cache: 'no-store', signal: fetchSignal })\n        .then(response => response.arrayBuffer())\n        .then(buffer => {\n          let src, originalImg8, imgData, awbImg;\n          try {\n            const uint16Array = new Uint16Array(buffer);\n            // 创建一个空的 Mat 对象\n            src = new cv.Mat(this.RedBoxSideLength, this.RedBoxSideLength, cv.CV_16UC1);\n            src.data16U.set(uint16Array);\n            cv.cvtColor(src, src, this.lastImageProcessParams.cvmode);\n            originalImg8 = this.Bit16To8_Stretch(src, this.lastImageProcessParams.B, this.lastImageProcessParams.W);\n\n            src.delete(); // 释放原始的 Mat 对象\n            src = null; // 添加这行代码，确保 src 对象被清理\n\n            awbImg = this.ImageSoftAWB(originalImg8, this.lastImageProcessParams.gainR, this.lastImageProcessParams.gainB, this.lastImageProcessParams.offset);\n            originalImg8.delete(); // 释放 Mat 对象\n            originalImg8 = null; // 添加这行代码，确保 originalImg8 对象被清理\n\n            // 将 Mat 对象转换回 ImageData 对象\n            imgData = new ImageData(new Uint8ClampedArray(awbImg.data), awbImg.cols, awbImg.rows);\n            awbImg.delete(); // 释放 Mat 对象\n            awbImg = null; // 添加这行代码，确保 awbImg 对象被清理\n            // 在指定位置开始绘制图像\n            this.bufferCtx.clearRect(this.ROI_x, this.ROI_y, this.RedBoxSideLength, this.RedBoxSideLength);\n            this.bufferCtx.putImageData(imgData, this.ROI_x, this.ROI_y);\n            // this.SendConsoleLogMsg('绘制一次ROI数据:' + fileName + ':' + this.ROI_x + ':' + this.ROI_y, 'info');\n            this.drawImageData();\n            this.focuserPictureFileName = fileName;\n\n          } catch (error) {\n            console.error(`处理图像失败: ${imagePath}`, error);\n          } finally {\n            // 确保 Mat 对象和 ImageData 对象被删除\n            if (src && !src.isDeleted()) {\n              src.delete();\n              src = null; // 添加这行代码，确保 src 对象被清理\n            }\n            if (originalImg8 && !originalImg8.isDeleted()) {\n              originalImg8.delete();\n              originalImg8 = null; // 添加这行代码，确保 originalImg8 对象被清理\n            }\n            if (awbImg && !awbImg.isDeleted()) {\n              awbImg.delete();\n              awbImg = null; // 添加这行代码，确保 awbImg 对象被清理\n            }\n            // 确保 buffer 被清理\n            buffer = null;\n            this.isProcessingImage = false;\n          }\n        })\n        .catch(error => {\n          if (error.name === 'AbortError') {\n            console.log('Fetch request cancelled');\n          } else {\n            console.error(`获取图像失败: ${imagePath}`, error);\n          }\n          this.isProcessingImage = false;\n        });\n\n      // 在组件卸载时取消 fetch 请求\n      this.$once('hook:beforeDestroy', () => {\n        fetchController.abort();\n      });\n    },\n    setRedBoxState(length, x, y) {\n      this.SendConsoleLogMsg('setRedBoxState:' + length + ',' + x + ',' + y, 'info');\n      this.$bus.$emit('setRedBoxPosition', x, y);\n      this.$bus.$emit('setRedBoxSideLength', length);\n    },\n    setFocuserState(state) {\n      if (state === 'selectstars') {\n        this.isFocusLoopShooting = true;\n      } else {\n        this.isFocusLoopShooting = false;\n      }\n    },\n    setShowSelectStar(state) {\n      this.showSelectStar = state;\n    },\n    RedBoxSizeChange(length) {\n      this.RedBoxSideLength = parseInt(length);\n    },\n    setMainCameraParameters(parameters) {\n      for (const parameter in parameters) {\n        const item = this.MainCameraConfigItems.find(item => item.label === parameter);\n        if (item) {\n          item.value = parameters[parameter];\n        } else {\n          if (parameter == 'RedBoxSize') {\n            this.$bus.$emit('setRedBoxSideLength', parameters[parameter]);\n          } else {\n            console.error(`未找到参数：${parameter}`);\n          }\n        }\n      }\n      this.confirmConfiguration(this.MainCameraConfigItems);\n    },\n  },\n  computed: {\n    nav: {\n      get: function () {\n        console.log('nav:', this.$store.state.showNavigationDrawer);\n        return this.$store.state.showNavigationDrawer\n      },\n      set: function (v) {\n        if (this.$store.state.showNavigationDrawer !== v) {\n          console.log('nav:', this.$store.state.showNavigationDrawer);\n          this.$store.commit('toggleBool', 'showNavigationDrawer')\n        }\n      }\n    },\n    storeCurrentLocation: function () {\n      return this.$store.state.currentLocation\n    },\n    getQTClientVersionColor() {\n      if (this.QTClientVersion === 'Not connected') {\n        return 'rgba(255, 0, 0, 0.5)'; // 红色，透明度 0.5\n      } else {\n        return 'rgba(255, 255, 255, 0.5)'; // 默认白色，透明度 0.5\n      }\n    },\n\n  },\n  watch: {\n    storeCurrentLocation: function (loc) {\n      const DD2R = Math.PI / 180\n      this.$stel.core.observer.latitude = loc.lat * DD2R\n      this.$stel.core.observer.longitude = loc.lng * DD2R\n      this.$stel.core.observer.elevation = loc.alt\n\n      // At startup, we need to wait for the location to be set before deciding which\n      // startup time to set so that it's night time.\n      if (!this.startTimeIsSet) {\n        this.$stel.core.observer.utc = swh.getTimeAfterSunset(this.$stel)\n        this.startTimeIsSet = true\n      }\n      // Init of time and date is complete\n      this.$store.commit('setValue', { varName: 'initComplete', newValue: true })\n    },\n    $route: function () {\n      // react to route changes...\n      this.setStateFromQueryArgs()\n    },\n    CurrentDriverType(newVal) {\n      // 当 CurrentDriverType 变化时，更新 selectedDriver\n      this.updateSelectedDriver(newVal);\n    }\n  },\n  mounted: function () {\n    let that = this\n\n    this.getLocationHostName();\n\n    this.loadImageToCanvasMainCamera();\n    this.loadImageToCanvasGuiderCamera();\n\n    this.initCanvas();\n    this.addEventListeners();\n\n    for (const i in this.$stellariumWebPlugins()) {\n      const plugin = this.$stellariumWebPlugins()[i]\n      if (plugin.onAppMounted) {\n        plugin.onAppMounted(that)\n      }\n    }\n\n    this.connect();\n    this.setupNetworkStatusListener();\n\n    // 使用 Promise 检查 OpenCV.js 是否加载完成\n    this.loadOpenCv().then(() => {\n      if (!this._isDestroyed) { // 检查组件是否已销毁\n        console.log('OpenCV.js is ready');\n        this.onCvReady();  // 调用 OpenCV 准备好的回调\n      }\n    }).catch(error => {\n      console.error('Error loading OpenCV.js:', error);\n    });\n\n    // const script = document.createElement('script');\n    // script.src = 'https://docs.opencv.org/4.5.5/opencv.js';\n    // script.async = true;\n    // script.onload = () => this.onCvReady();\n    // document.head.appendChild(script);\n\n    import('@/assets/js/stellarium-web-engine.wasm').then(f => {\n      if (!this._isDestroyed) { // 再次检查组件是否已销毁\n        // Initialize the StelWebEngine viewer singleton\n        // After this call, the StelWebEngine state will always be available in vuex store\n        // in the $store.stel object in a reactive way (useful for vue components).\n        // To modify the state of the StelWebEngine, it's enough to call/set values directly on the $stel object\n        try {\n          swh.initStelWebEngine(that.$store, f.default, that.$refs.stelCanvas, function () {\n            // Start auto location detection (even if we don't use it)\n            swh.getGeolocation().then(p => swh.geoCodePosition(p, that)).then((loc) => {\n              that.$store.commit('setAutoDetectedLocation', loc)\n            }, (error) => { console.log(error) })\n\n            that.$stel.setFont('regular', process.env.BASE_URL + 'fonts/Roboto-Regular.ttf', 1.38)\n            that.$stel.setFont('bold', process.env.BASE_URL + 'fonts/Roboto-Bold.ttf', 1.38)\n            that.$stel.core.constellations.show_only_pointed = false\n\n            that.setStateFromQueryArgs()\n            that.guiComponent = 'Gui'\n            for (const i in that.$stellariumWebPlugins()) {\n              const plugin = that.$stellariumWebPlugins()[i]\n              if (plugin.onEngineReady) {\n                plugin.onEngineReady(that)\n              }\n            }\n\n            if (!that.dataSourceInitDone) {\n              // Set all default data sources\n              const core = that.$stel.core\n              core.stars.addDataSource({ url: process.env.BASE_URL + 'skydata/stars' })\n\n              // Allow to specify a custom path for sky culture data\n              if (that.$route.query.sc) {\n                const key = that.$route.query.sc.substring(that.$route.query.sc.lastIndexOf('/') + 1)\n                core.skycultures.addDataSource({ url: that.$route.query.sc, key: key })\n                core.skycultures.current_id = key\n              } else {\n                core.skycultures.addDataSource({ url: process.env.BASE_URL + 'skydata/skycultures/western', key: 'western' })\n              }\n\n              core.dsos.addDataSource({ url: process.env.BASE_URL + 'skydata/dso' })\n              core.landscapes.addDataSource({ url: process.env.BASE_URL + 'skydata/landscapes/guereins', key: 'guereins' })\n              core.milkyway.addDataSource({ url: process.env.BASE_URL + 'skydata/surveys/milkyway' })\n              // core.dss.addDataSource({ url: process.env.BASE_URL + 'skydata/surveys/dss' })\n              core.minor_planets.addDataSource({ url: process.env.BASE_URL + 'skydata/mpcorb.dat', key: 'mpc_asteroids' })\n              core.planets.addDataSource({ url: process.env.BASE_URL + 'skydata/surveys/sso/moon', key: 'moon' })\n              core.planets.addDataSource({ url: process.env.BASE_URL + 'skydata/surveys/sso/sun', key: 'sun' })\n              core.planets.addDataSource({ url: process.env.BASE_URL + 'skydata/surveys/sso/moon', key: 'default' })\n              core.comets.addDataSource({ url: process.env.BASE_URL + 'skydata/CometEls.txt', key: 'mpc_comets' })\n              core.satellites.addDataSource({ url: process.env.BASE_URL + 'skydata/tle_satellite.jsonl.gz', key: 'jsonl/sat' })\n\n              // Mount Pointing\n              glStel = that.setGloabalStel(that.$stel);\n              glLayer = that.setGlobalLayer(that.$stel);\n              glTestCircle = that.testAddCircle(that.$stel, glLayer);\n\n            }\n          })\n        } catch (e) {\n          this.$store.commit('setValue', { varName: 'wasmSupport', newValue: false })\n        }\n      }\n    });\n\n  }\n}\n</script>\n\n<style>\nbody {\n  background-color: black;\n  -webkit-touch-callout: none;\n  /* iOS */\n  -webkit-user-select: none;\n  /* 所有WebKit浏览器 */\n  user-select: none;\n}\n\na {\n  color: #82b1ff;\n}\n\na:link {\n  text-decoration-line: none;\n}\n\n.divider_menu {\n  margin-top: 8px;\n  margin-bottom: 8px;\n}\n\nhtml {\n  overflow-y: visible;\n}\n\nhtml,\nbody,\n#app {\n  overflow-y: visible !important;\n  overflow-x: visible;\n  position: fixed !important;\n  width: 100%;\n  height: 100%;\n  padding: 0 !important;\n  font-size: 10px;\n}\n\n.fullscreen {\n  overflow-y: hidden;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  padding: 0 !important;\n}\n\n.click-through {\n  pointer-events: none;\n}\n\n.get-click {\n  pointer-events: all;\n}\n\n.dialog {\n  background: transparent;\n}\n\n.menu__content {\n  background-color: transparent !important;\n}\n\n#stel {\n  height: 100%;\n  width: 100%;\n  position: absolute;\n}\n\n#stel-canvas {\n  width: 100%;\n  height: 100%;\n}\n\n#mainCamera-canvas {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n#guiderCamera-canvas {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.right_panel {\n  padding-right: 400px;\n}\n\n.v-btn {\n  margin-left: 8px;\n  margin-right: 8px;\n  margin-top: 6px;\n  margin-bottom: 6px;\n}\n\n.v-application--wrap {\n  min-height: 100% !important;\n}\n\n\n.my-custom-button {\n  background-color: #4CAF50;\n  /* 绿色背景 */\n  color: white;\n  /* 白色文字 */\n  padding: 15px 32px;\n  /* 内边距 */\n  text-align: center;\n  /* 文字居中 */\n  text-decoration: none;\n  /* 无文本装饰 */\n  display: inline-block;\n  /* 行内块显示 */\n  font-size: 16px;\n  /* 字体大小 */\n  margin: 4px 2px;\n  /* 外边距 */\n  cursor: pointer;\n  /* 鼠标样式 */\n  border: none;\n  /* 无边框 */\n}\n\n.connected-device {\n  color: #4dc251;\n}\n\n.btn-confirm {\n  width: 60px;\n  height: 30px;\n  background-color: rgba(255, 255, 255, 0.1);\n  border-radius: 10px;\n}\n\n.btn-slider {\n  width: 20px;\n  height: 20px;\n  background-color: rgba(255, 255, 255, 0.1);\n  border-radius: 10px;\n}\n\n.btn-confirm:active,\n.btn-slider:active {\n  transform: scale(0.95);\n  background-color: rgba(255, 255, 255, 0.5);\n}\n</style>\n"],"sourceRoot":"src"}]}