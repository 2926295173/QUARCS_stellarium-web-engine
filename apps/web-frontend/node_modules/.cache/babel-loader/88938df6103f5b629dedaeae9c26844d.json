{"remainingRequest":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/components/LocationFocalInputs.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/components/LocationFocalInputs.vue","mtime":1749716594068},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js","mtime":1707125450000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvY2F0aW9uRm9jYWxJbnB1dHMnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb25naXR1ZGU6ICcwJywKICAgICAgbGF0aXR1ZGU6ICcwJywKICAgICAgZm9jYWxMZW5ndGg6ICcwJywKICAgICAgaXNFeHBhbmRlZDogZmFsc2UKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgLy8g55uR5ZCs57uP57qs5bqm5pu05paw5L+h5Y+3CiAgICB0aGlzLiRidXMuJG9uKCd1cGRhdGUtbG9jYXRpb24nLCB0aGlzLmhhbmRsZUxvY2F0aW9uVXBkYXRlKTsgLy8g55uR5ZCs54Sm6Led5pu05paw5L+h5Y+3CgogICAgdGhpcy4kYnVzLiRvbigndXBkYXRlLWZvY2FsLWxlbmd0aCcsIHRoaXMuaGFuZGxlRm9jYWxMZW5ndGhVcGRhdGUpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIC8vIOe7hOS7tumUgOavgeWJjeenu+mZpOS6i+S7tuebkeWQrAogICAgdGhpcy4kYnVzLiRvZmYoJ3VwZGF0ZS1sb2NhdGlvbicsIHRoaXMuaGFuZGxlTG9jYXRpb25VcGRhdGUpOwogICAgdGhpcy4kYnVzLiRvZmYoJ3VwZGF0ZS1mb2NhbC1sZW5ndGgnLCB0aGlzLmhhbmRsZUZvY2FsTGVuZ3RoVXBkYXRlKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGV4cGFuZElucHV0czogZnVuY3Rpb24gZXhwYW5kSW5wdXRzKCkgewogICAgICB0aGlzLmlzRXhwYW5kZWQgPSB0cnVlOwogICAgfSwKICAgIGNvbGxhcHNlSW5wdXRzOiBmdW5jdGlvbiBjb2xsYXBzZUlucHV0cygpIHsKICAgICAgdGhpcy5pc0V4cGFuZGVkID0gZmFsc2U7CiAgICB9LAogICAgaGFuZGxlSW5wdXQ6IGZ1bmN0aW9uIGhhbmRsZUlucHV0KCkgewogICAgICAvLyDnoa7kv53lgLzmmK/mlbDlrZcKICAgICAgdmFyIGxvbmdpdHVkZSA9IHBhcnNlRmxvYXQodGhpcy5sb25naXR1ZGUpIHx8IDA7CiAgICAgIHZhciBsYXRpdHVkZSA9IHBhcnNlRmxvYXQodGhpcy5sYXRpdHVkZSkgfHwgMDsKICAgICAgdmFyIGZvY2FsTGVuZ3RoID0gcGFyc2VGbG9hdCh0aGlzLmZvY2FsTGVuZ3RoKSB8fCAwOyAvLyDpqozor4HojIPlm7QKCiAgICAgIGlmIChsb25naXR1ZGUgPCAtMTgwIHx8IGxvbmdpdHVkZSA+IDE4MCkgewogICAgICAgIHRoaXMubG9uZ2l0dWRlID0gJyc7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAobGF0aXR1ZGUgPCAtOTAgfHwgbGF0aXR1ZGUgPiA5MCkgewogICAgICAgIHRoaXMubGF0aXR1ZGUgPSAnJzsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChmb2NhbExlbmd0aCA8IDApIHsKICAgICAgICB0aGlzLmZvY2FsTGVuZ3RoID0gJyc7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIOWPkemAgeabtOaWsOS6i+S7tgoKCiAgICAgIHRoaXMuJGVtaXQoJ2xvY2F0aW9uLXVwZGF0ZScsIHsKICAgICAgICBsb25naXR1ZGU6IGxvbmdpdHVkZSwKICAgICAgICBsYXRpdHVkZTogbGF0aXR1ZGUsCiAgICAgICAgZm9jYWxMZW5ndGg6IGZvY2FsTGVuZ3RoCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWkhOeQhue7j+e6rOW6puabtOaWsAogICAgaGFuZGxlTG9jYXRpb25VcGRhdGU6IGZ1bmN0aW9uIGhhbmRsZUxvY2F0aW9uVXBkYXRlKGxvbmdpdHVkZSwgbGF0aXR1ZGUpIHsKICAgICAgaWYgKGxvbmdpdHVkZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5sb25naXR1ZGUgPSBsb25naXR1ZGUudG9TdHJpbmcoKTsKICAgICAgfQoKICAgICAgaWYgKGxhdGl0dWRlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLmxhdGl0dWRlID0gbGF0aXR1ZGUudG9TdHJpbmcoKTsKICAgICAgfSAvLyDop6blj5HovpPlhaXlpITnkIYKCgogICAgICB0aGlzLmhhbmRsZUlucHV0KCk7CiAgICB9LAogICAgLy8g5aSE55CG54Sm6Led5pu05pawCiAgICBoYW5kbGVGb2NhbExlbmd0aFVwZGF0ZTogZnVuY3Rpb24gaGFuZGxlRm9jYWxMZW5ndGhVcGRhdGUoZm9jYWxMZW5ndGgpIHsKICAgICAgaWYgKGZvY2FsTGVuZ3RoICE9PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLmZvY2FsTGVuZ3RoID0gZm9jYWxMZW5ndGgudG9TdHJpbmcoKTsgLy8g6Kem5Y+R6L6T5YWl5aSE55CGCgogICAgICAgIHRoaXMuaGFuZGxlSW5wdXQoKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["LocationFocalInputs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,eAAA;AACA,EAAA,IAAA,EAAA,qBADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,GADA;AAEA,MAAA,QAAA,EAAA,GAFA;AAGA,MAAA,WAAA,EAAA,GAHA;AAIA,MAAA,UAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,OAVA,qBAUA;AACA;AACA,SAAA,IAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,KAAA,oBAAA,EAFA,CAGA;;AACA,SAAA,IAAA,CAAA,GAAA,CAAA,qBAAA,EAAA,KAAA,uBAAA;AACA,GAfA;AAgBA,EAAA,aAhBA,2BAgBA;AACA;AACA,SAAA,IAAA,CAAA,IAAA,CAAA,iBAAA,EAAA,KAAA,oBAAA;AACA,SAAA,IAAA,CAAA,IAAA,CAAA,qBAAA,EAAA,KAAA,uBAAA;AACA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,WAAA,UAAA,GAAA,IAAA;AACA,KAHA;AAIA,IAAA,cAJA,4BAIA;AACA,WAAA,UAAA,GAAA,KAAA;AACA,KANA;AAOA,IAAA,WAPA,yBAOA;AACA;AACA,UAAA,SAAA,GAAA,UAAA,CAAA,KAAA,SAAA,CAAA,IAAA,CAAA;AACA,UAAA,QAAA,GAAA,UAAA,CAAA,KAAA,QAAA,CAAA,IAAA,CAAA;AACA,UAAA,WAAA,GAAA,UAAA,CAAA,KAAA,WAAA,CAAA,IAAA,CAAA,CAJA,CAMA;;AACA,UAAA,SAAA,GAAA,CAAA,GAAA,IAAA,SAAA,GAAA,GAAA,EAAA;AACA,aAAA,SAAA,GAAA,EAAA;AACA;AACA;;AACA,UAAA,QAAA,GAAA,CAAA,EAAA,IAAA,QAAA,GAAA,EAAA,EAAA;AACA,aAAA,QAAA,GAAA,EAAA;AACA;AACA;;AACA,UAAA,WAAA,GAAA,CAAA,EAAA;AACA,aAAA,WAAA,GAAA,EAAA;AACA;AACA,OAlBA,CAoBA;;;AACA,WAAA,KAAA,CAAA,iBAAA,EAAA;AACA,QAAA,SAAA,EAAA,SADA;AAEA,QAAA,QAAA,EAAA,QAFA;AAGA,QAAA,WAAA,EAAA;AAHA,OAAA;AAKA,KAjCA;AAkCA;AACA,IAAA,oBAnCA,gCAmCA,SAnCA,EAmCA,QAnCA,EAmCA;AACA,UAAA,SAAA,KAAA,SAAA,EAAA;AACA,aAAA,SAAA,GAAA,SAAA,CAAA,QAAA,EAAA;AACA;;AACA,UAAA,QAAA,KAAA,SAAA,EAAA;AACA,aAAA,QAAA,GAAA,QAAA,CAAA,QAAA,EAAA;AACA,OANA,CAOA;;;AACA,WAAA,WAAA;AACA,KA5CA;AA6CA;AACA,IAAA,uBA9CA,mCA8CA,WA9CA,EA8CA;AACA,UAAA,WAAA,KAAA,SAAA,EAAA;AACA,aAAA,WAAA,GAAA,WAAA,CAAA,QAAA,EAAA,CADA,CAEA;;AACA,aAAA,WAAA;AACA;AACA;AApDA;AArBA,CAAA","sourcesContent":["<template>\n    <div class=\"location-inputs\">\n        <!-- 小尺寸显示 -->\n        <div v-if=\"!isExpanded\" class=\"compact-view\" @click=\"expandInputs\">\n            <div class=\"compact-info\">\n                <span>{{ $t('longitude') }}: {{ longitude || '--' }}°</span>\n                <span>{{ $t('latitude') }}: {{ latitude || '--' }}°</span>\n                <span>{{ $t('focalLength') }}: {{ focalLength || '--' }}mm</span>\n            </div>\n        </div>\n\n        <!-- 展开后的输入框 -->\n        <div v-if=\"isExpanded\" class=\"expanded-view\">\n            <div class=\"input-container\">\n                <v-text-field v-model=\"longitude\" :label=\"$t('longitude')\" outlined dense hide-details\n                    class=\"custom-input\" type=\"number\" suffix=\"°\" @input=\"handleInput\" @touchstart.stop @touchmove.stop\n                    @touchend.stop></v-text-field>\n                <v-text-field v-model=\"latitude\" :label=\"$t('latitude')\" outlined dense hide-details\n                    class=\"custom-input\" type=\"number\" suffix=\"°\" @input=\"handleInput\" @touchstart.stop @touchmove.stop\n                    @touchend.stop></v-text-field>\n                <v-text-field v-model=\"focalLength\" :label=\"$t('focalLength')\" outlined dense hide-details\n                    class=\"custom-input\" type=\"number\" suffix=\"mm\" @input=\"handleInput\" @touchstart.stop @touchmove.stop\n                    @touchend.stop></v-text-field>\n                <v-btn class=\"close-btn\" icon @click=\"collapseInputs\">\n                    <v-icon>mdi-close</v-icon>\n                </v-btn>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'LocationFocalInputs',\n    data() {\n        return {\n            longitude: '0',\n            latitude: '0',\n            focalLength: '0',\n            isExpanded: false\n        }\n    },\n    created() {\n        // 监听经纬度更新信号\n        this.$bus.$on('update-location', this.handleLocationUpdate);\n        // 监听焦距更新信号\n        this.$bus.$on('update-focal-length', this.handleFocalLengthUpdate);\n    },\n    beforeDestroy() {\n        // 组件销毁前移除事件监听\n        this.$bus.$off('update-location', this.handleLocationUpdate);\n        this.$bus.$off('update-focal-length', this.handleFocalLengthUpdate);\n    },\n    methods: {\n        expandInputs() {\n            this.isExpanded = true;\n        },\n        collapseInputs() {\n            this.isExpanded = false;\n        },\n        handleInput() {\n            // 确保值是数字\n            const longitude = parseFloat(this.longitude) || 0;\n            const latitude = parseFloat(this.latitude) || 0;\n            const focalLength = parseFloat(this.focalLength) || 0;\n\n            // 验证范围\n            if (longitude < -180 || longitude > 180) {\n                this.longitude = '';\n                return;\n            }\n            if (latitude < -90 || latitude > 90) {\n                this.latitude = '';\n                return;\n            }\n            if (focalLength < 0) {\n                this.focalLength = '';\n                return;\n            }\n\n            // 发送更新事件\n            this.$emit('location-update', {\n                longitude,\n                latitude,\n                focalLength\n            });\n        },\n        // 处理经纬度更新\n        handleLocationUpdate(longitude, latitude) {\n            if (longitude !== undefined) {\n                this.longitude = longitude.toString();\n            }\n            if (latitude !== undefined) {\n                this.latitude = latitude.toString();\n            }\n            // 触发输入处理\n            this.handleInput();\n        },\n        // 处理焦距更新\n        handleFocalLengthUpdate(focalLength) {\n            if (focalLength !== undefined) {\n                this.focalLength = focalLength.toString();\n                // 触发输入处理\n                this.handleInput();\n            }\n        }\n    }\n}\n</script>\n\n\n<style scoped>\n.location-inputs {\n    pointer-events: auto;\n    z-index: 1000;\n    max-width: 100px;\n}\n\n/* 紧凑视图样式 */\n.compact-view {\n    position: relative;\n    background-color: rgba(0, 0, 0, 0.1);\n    padding: 8px 12px;\n    border-radius: 6px;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    pointer-events: auto !important;\n    min-width: 20px;\n    max-width: 100%;\n}\n\n.compact-view:hover {\n    background-color: rgba(0, 0, 0, 0.5);\n}\n\n.compact-info {\n    display: flex;\n    flex-direction: column;\n    gap: 2px;\n    font-size: 12px;\n    color: rgba(255, 255, 255, 0.8);\n    text-shadow: 0 0 2px rgba(0, 0, 0, 0.5);\n}\n\n/* 展开视图样式 */\n.expanded-view {\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 2000;\n    background-color: rgba(0, 0, 0, 0.8);\n    padding: 25px;\n    border-radius: 12px;\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);\n    pointer-events: auto !important;\n    max-width: 90vw;\n    max-height: 90vh;\n    overflow-y: auto;\n}\n\n.input-container {\n    display: flex;\n    flex-direction: column;\n    gap: 15px;\n    position: relative;\n    pointer-events: auto !important;\n    background-color: rgba(0, 0, 0, 0.8);\n    max-width: 100%;\n}\n\n.custom-input {\n    width: 100%;\n    max-width: 400px;\n}\n\n.close-btn {\n    position: absolute;\n    top: -10px;\n    right: -10px;\n    background-color: rgba(255, 255, 255, 0.1) !important;\n}\n\n:deep(.v-text-field) {\n    background-color: rgba(255, 255, 255, 0.1);\n}\n\n:deep(.v-text-field .v-input__control) {\n    color: white;\n}\n\n:deep(.v-text-field .v-label) {\n    color: rgba(255, 255, 255, 0.7);\n}\n\n:deep(.v-text-field .v-input__slot) {\n    border: 1px solid rgba(255, 255, 255, 0.3);\n}\n\n:deep(.v-text-field input) {\n    color: white;\n    -webkit-tap-highlight-color: transparent;\n}\n\n/* 添加动画效果 */\n.expanded-view {\n    animation: expand 0.3s ease;\n}\n\n@keyframes expand {\n    from {\n        opacity: 0;\n        transform: translate(-50%, -50%) scale(0.8);\n    }\n\n    to {\n        opacity: 1;\n        transform: translate(-50%, -50%) scale(1);\n    }\n}\n</style>"],"sourceRoot":"src/components"}]}