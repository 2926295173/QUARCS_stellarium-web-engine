{"remainingRequest":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/eslint-loader/index.js??ref--14-0!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/assets/js/stellarium-web-engine.js","dependencies":[{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/assets/js/stellarium-web-engine.js","mtime":1761024860793},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/eslint-loader/index.js","mtime":1707125436000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL3F1YXJjcy93b3Jrc3BhY2UvUVVBUkNTL1FVQVJDU19zdGVsbGFyaXVtLXdlYi1lbmdpbmUvYXBwcy93ZWItZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwppbXBvcnQgX3R5cGVvZiBmcm9tICIvaG9tZS9xdWFyY3Mvd29ya3NwYWNlL1FVQVJDUy9RVUFSQ1Nfc3RlbGxhcml1bS13ZWItZW5naW5lL2FwcHMvd2ViLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmZsYWdzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWF0aC5zaWduLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDgtYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5jb3B5LXdpdGhpbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmV2ZXJ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubGFzdC1pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS1yaWdodC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJldmVyc2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc3ViYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1sb2NhbGUtc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5ibGluay5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy53ZWFrLW1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbnQ4LWFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW50MTYtYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbnQzMi1hcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnVpbnQxNi1hcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnVpbnQzMi1hcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZsb2F0MzItYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5mbG9hdDY0LWFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmltbWVkaWF0ZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb3B5LXdpdGhpbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hdGguY2x6MzIuanMiOwoKdmFyIFN0ZWxXZWJFbmdpbmUgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIF9zY3JpcHREaXIgPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQgPyBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYyA6IHVuZGVmaW5lZDsKCiAgaWYgKHR5cGVvZiBfX2ZpbGVuYW1lICE9PSAndW5kZWZpbmVkJykgX3NjcmlwdERpciA9IF9zY3JpcHREaXIgfHwgX19maWxlbmFtZTsKICByZXR1cm4gZnVuY3Rpb24gKFN0ZWxXZWJFbmdpbmUpIHsKICAgIFN0ZWxXZWJFbmdpbmUgPSBTdGVsV2ViRW5naW5lIHx8IHt9OwogICAgdmFyIE1vZHVsZSA9IHR5cGVvZiBTdGVsV2ViRW5naW5lICE9PSAidW5kZWZpbmVkIiA/IFN0ZWxXZWJFbmdpbmUgOiB7fTsKICAgIHZhciByZWFkeVByb21pc2VSZXNvbHZlLCByZWFkeVByb21pc2VSZWplY3Q7CiAgICBNb2R1bGVbInJlYWR5Il0gPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHJlYWR5UHJvbWlzZVJlc29sdmUgPSByZXNvbHZlOwogICAgICByZWFkeVByb21pc2VSZWplY3QgPSByZWplY3Q7CiAgICB9KTsKCiAgICBNb2R1bGVbImxvY2F0ZUZpbGUiXSA9IGZ1bmN0aW9uIChwYXRoKSB7CiAgICAgIGlmIChwYXRoID09PSAic3RlbGxhcml1bS13ZWItZW5naW5lLndhc20iKSByZXR1cm4gTW9kdWxlLndhc21GaWxlOwogICAgICByZXR1cm4gcGF0aDsKICAgIH07CgogICAgTW9kdWxlWyJvblJ1bnRpbWVJbml0aWFsaXplZCJdID0gZnVuY3Rpb24gKCkgewogICAgICBpZiAoTW9kdWxlLmNhbnZhc0VsZW1lbnQpIE1vZHVsZS5jYW52YXMgPSBNb2R1bGUuY2FudmFzRWxlbWVudDsKCiAgICAgIGlmIChNb2R1bGUuY2FudmFzKSB7CiAgICAgICAgdmFyIGNvbnRleHRBdHRyaWJ1dGVzID0ge307CiAgICAgICAgY29udGV4dEF0dHJpYnV0ZXMuYWxwaGEgPSBmYWxzZTsKICAgICAgICBjb250ZXh0QXR0cmlidXRlcy5kZXB0aCA9IHRydWU7CiAgICAgICAgY29udGV4dEF0dHJpYnV0ZXMuc3RlbmNpbCA9IHRydWU7CiAgICAgICAgY29udGV4dEF0dHJpYnV0ZXMuYW50aWFsaWFzID0gdHJ1ZTsKICAgICAgICBjb250ZXh0QXR0cmlidXRlcy5wcmVtdWx0aXBsaWVkQWxwaGEgPSB0cnVlOwogICAgICAgIGNvbnRleHRBdHRyaWJ1dGVzLnByZXNlcnZlRHJhd2luZ0J1ZmZlciA9IGZhbHNlOwogICAgICAgIGNvbnRleHRBdHRyaWJ1dGVzLnByZWZlckxvd1Bvd2VyVG9IaWdoUGVyZm9ybWFuY2UgPSBmYWxzZTsKICAgICAgICBjb250ZXh0QXR0cmlidXRlcy5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0ID0gZmFsc2U7CiAgICAgICAgY29udGV4dEF0dHJpYnV0ZXMubWFqb3JWZXJzaW9uID0gMTsKICAgICAgICBjb250ZXh0QXR0cmlidXRlcy5taW5vclZlcnNpb24gPSAwOwogICAgICAgIHZhciBjdHggPSBNb2R1bGUuR0wuY3JlYXRlQ29udGV4dChNb2R1bGUuY2FudmFzLCBjb250ZXh0QXR0cmlidXRlcyk7CiAgICAgICAgTW9kdWxlLkdMLm1ha2VDb250ZXh0Q3VycmVudChjdHgpOwogICAgICB9CgogICAgICBNb2R1bGVbIl9zZXRWYWx1ZSJdID0gTW9kdWxlWyJzZXRWYWx1ZSJdOwogICAgICBNb2R1bGVbIl9nZXRWYWx1ZSJdID0gTW9kdWxlWyJnZXRWYWx1ZSJdOwoKICAgICAgZm9yICh2YXIgaSBpbiBNb2R1bGUuZXh0ZW5kRm5zKSB7CiAgICAgICAgTW9kdWxlLmV4dGVuZEZuc1tpXSgpOwogICAgICB9CgogICAgICBNb2R1bGUuX2NvcmVfaW5pdCgwLCAwLCAxKTsKCiAgICAgIE1vZHVsZS5jb3JlID0gTW9kdWxlLmdldE1vZHVsZSgiY29yZSIpOwogICAgICBNb2R1bGUub2JzZXJ2ZXIgPSBNb2R1bGUuY29yZS5vYnNlcnZlcjsKCiAgICAgIGlmIChNb2R1bGUudHJhbnNsYXRlRm4pIHsKICAgICAgICBNb2R1bGUudHJhbnNsYXRpb25zQ2FjaGUgPSB7fTsKICAgICAgICB2YXIgY2FsbGJhY2sgPSBNb2R1bGUuYWRkRnVuY3Rpb24oZnVuY3Rpb24gKHVzZXIsIGRvbWFpbiwgc3RyKSB7CiAgICAgICAgICBkb21haW4gPSBNb2R1bGUuVVRGOFRvU3RyaW5nKGRvbWFpbik7CiAgICAgICAgICBzdHIgPSBNb2R1bGUuVVRGOFRvU3RyaW5nKHN0cik7CiAgICAgICAgICBzdHIgPSBNb2R1bGUudHJhbnNsYXRlRm4oZG9tYWluLCBzdHIpOwogICAgICAgICAgdmFyIHZhbHVlID0gTW9kdWxlLnRyYW5zbGF0aW9uc0NhY2hlW3N0cl07CiAgICAgICAgICBpZiAodmFsdWUpIHJldHVybiB2YWx1ZTsKICAgICAgICAgIHZhciBzaXplID0gTW9kdWxlLmxlbmd0aEJ5dGVzVVRGOChzdHIpICsgMTsKICAgICAgICAgIHZhbHVlID0gTW9kdWxlLl9tYWxsb2Moc2l6ZSk7CiAgICAgICAgICBNb2R1bGUuc3RyaW5nVG9VVEY4KHN0ciwgdmFsdWUsIHNpemUpOwogICAgICAgICAgTW9kdWxlLnRyYW5zbGF0aW9uc0NhY2hlW3N0cl0gPSB2YWx1ZTsKICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICB9LCAiaWlpaSIpOwoKICAgICAgICBNb2R1bGUuX3N5c19zZXRfdHJhbnNsYXRlX2Z1bmN0aW9uKGNhbGxiYWNrKTsKICAgICAgfQoKICAgICAgaWYgKE1vZHVsZS5vblJlYWR5KSBNb2R1bGUub25SZWFkeShNb2R1bGUpOwogICAgfTsKCiAgICBNb2R1bGVbImV4dGVuZEZucyJdID0gW107CgogICAgTW9kdWxlWyJhZnRlckluaXQiXSA9IGZ1bmN0aW9uIChmKSB7CiAgICAgIE1vZHVsZS5leHRlbmRGbnMucHVzaChmKTsKICAgIH07CgogICAgTW9kdWxlWyJEMlIiXSA9IE1hdGguUEkgLyAxODA7CiAgICBNb2R1bGVbIlIyRCJdID0gMTgwIC8gTWF0aC5QSTsKICAgIE1vZHVsZVsiRlJBTUVfQVNUUk9NIl0gPSAwOwogICAgTW9kdWxlWyJGUkFNRV9JQ1JGIl0gPSAxOwogICAgTW9kdWxlWyJGUkFNRV9DSVJTIl0gPSAyOwogICAgTW9kdWxlWyJGUkFNRV9KTk9XIl0gPSAzOwogICAgTW9kdWxlWyJGUkFNRV9PQlNFUlZFRF9HRU9NIl0gPSA0OwogICAgTW9kdWxlWyJGUkFNRV9PQlNFUlZFRCJdID0gNTsKICAgIE1vZHVsZVsiRlJBTUVfTU9VTlQiXSA9IDY7CiAgICBNb2R1bGVbIkZSQU1FX1ZJRVciXSA9IDc7CiAgICBNb2R1bGVbIkZSQU1FX0VDTElQVElDIl0gPSA4OwoKICAgIE1vZHVsZVsiTUpEMmRhdGUiXSA9IGZ1bmN0aW9uICh2KSB7CiAgICAgIHJldHVybiBuZXcgRGF0ZShNYXRoLnJvdW5kKCh2ICsgMjQwMDAwMC41IC0gMjQ0MDU4Ny41KSAqIDg2NGU1KSk7CiAgICB9OwoKICAgIE1vZHVsZVsiZGF0ZTJNSkQiXSA9IGZ1bmN0aW9uIChkYXRlKSB7CiAgICAgIHJldHVybiBkYXRlIC8gODY0ZTUgLSAyNDAwMDAwLjUgKyAyNDQwNTg3LjU7CiAgICB9OwoKICAgIE1vZHVsZVsiYTJ0ZiJdID0gZnVuY3Rpb24gKGFuZ2xlLCByZXNvbHV0aW9uKSB7CiAgICAgIHJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IDA7CiAgICAgIHZhciBhMnRmX2pzb24gPSBNb2R1bGUuY3dyYXAoImEydGZfanNvbiIsICJudW1iZXIiLCBbIm51bWJlciIsICJudW1iZXIiXSk7CiAgICAgIHZhciBjcmV0ID0gYTJ0Zl9qc29uKHJlc29sdXRpb24sIGFuZ2xlKTsKICAgICAgdmFyIHJldCA9IE1vZHVsZS5VVEY4VG9TdHJpbmcoY3JldCk7CgogICAgICBNb2R1bGUuX2ZyZWUoY3JldCk7CgogICAgICByZXQgPSBKU09OLnBhcnNlKHJldCk7CiAgICAgIHJldHVybiByZXQ7CiAgICB9OwoKICAgIE1vZHVsZVsiYTJhZiJdID0gZnVuY3Rpb24gKGFuZ2xlLCByZXNvbHV0aW9uKSB7CiAgICAgIHJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IDA7CiAgICAgIHZhciBhMmFmX2pzb24gPSBNb2R1bGUuY3dyYXAoImEyYWZfanNvbiIsICJudW1iZXIiLCBbIm51bWJlciIsICJudW1iZXIiXSk7CiAgICAgIHZhciBjcmV0ID0gYTJhZl9qc29uKHJlc29sdXRpb24sIGFuZ2xlKTsKICAgICAgdmFyIHJldCA9IE1vZHVsZS5VVEY4VG9TdHJpbmcoY3JldCk7CgogICAgICBNb2R1bGUuX2ZyZWUoY3JldCk7CgogICAgICByZXQgPSBKU09OLnBhcnNlKHJldCk7CiAgICAgIHJldHVybiByZXQ7CiAgICB9OwoKICAgIE1vZHVsZVsiY2FsZW5kYXIiXSA9IGZ1bmN0aW9uIChhcmdzKSB7CiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDMpIHsKICAgICAgICBhcmdzID0gewogICAgICAgICAgc3RhcnQ6IGFyZ3VtZW50c1swXSwKICAgICAgICAgIGVuZDogYXJndW1lbnRzWzFdLAogICAgICAgICAgb25FdmVudDogZnVuY3Rpb24gb25FdmVudChldikgewogICAgICAgICAgICBhcmd1bWVudHNbMl0oZXYudGltZSwgZXYudHlwZSwgZXYuZGVzYywgZXYuZmxhZ3MsIGV2Lm8xLCBldi5vMik7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgdmFyIHN0YXJ0ID0gYXJncy5zdGFydCAvIDg2NGU1ICsgMjQ0MDU4Ny41IC0gMjQwMDAwMC41OwogICAgICB2YXIgZW5kID0gYXJncy5lbmQgLyA4NjRlNSArIDI0NDA1ODcuNSAtIDI0MDAwMDAuNTsKCiAgICAgIHZhciBnZXRDYWxsYmFjayA9IGZ1bmN0aW9uIGdldENhbGxiYWNrKCkgewogICAgICAgIHJldHVybiBNb2R1bGUuYWRkRnVuY3Rpb24oZnVuY3Rpb24gKHRpbWUsIHR5cGUsIGRlc2MsIGZsYWdzLCBvMSwgbzIsIHVzZXIpIHsKICAgICAgICAgIHZhciBldiA9IHsKICAgICAgICAgICAgdGltZTogTW9kdWxlLk1KRDJkYXRlKHRpbWUpLAogICAgICAgICAgICB0eXBlOiBNb2R1bGUuVVRGOFRvU3RyaW5nKHR5cGUpLAogICAgICAgICAgICBkZXNjOiBNb2R1bGUuVVRGOFRvU3RyaW5nKGRlc2MpLAogICAgICAgICAgICBvMTogbzEgPyBuZXcgTW9kdWxlLlN3ZU9iaihvMSkgOiBudWxsLAogICAgICAgICAgICBvMjogbzIgPyBuZXcgTW9kdWxlLlN3ZU9iaihvMikgOiBudWxsCiAgICAgICAgICB9OwogICAgICAgICAgYXJncy5vbkV2ZW50KGV2KTsKICAgICAgICB9LCAiaWRpaWlpaWkiKTsKICAgICAgfTsKCiAgICAgIGlmIChhcmdzLml0ZXJhdG9yKSB7CiAgICAgICAgdmFyIGNhbCA9IE1vZHVsZS5fY2FsZW5kYXJfY3JlYXRlKHRoaXMub2JzZXJ2ZXIudiwgc3RhcnQsIGVuZCwgMSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgcmV0ID0gTW9kdWxlLl9jYWxlbmRhcl9jb21wdXRlKGNhbCk7CgogICAgICAgICAgaWYgKCFyZXQpIHsKICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gZ2V0Q2FsbGJhY2soKTsKCiAgICAgICAgICAgIE1vZHVsZS5fY2FsZW5kYXJfZ2V0X3Jlc3VsdHNfY2FsbGJhY2soY2FsLCAwLCBjYWxsYmFjayk7CgogICAgICAgICAgICBNb2R1bGUucmVtb3ZlRnVuY3Rpb24oY2FsbGJhY2spOwoKICAgICAgICAgICAgTW9kdWxlLl9jYWxlbmRhcl9kZWxldGUoY2FsKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gcmV0OwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHZhciBjYWxsYmFjayA9IGdldENhbGxiYWNrKCk7CgogICAgICBNb2R1bGUuX2NhbGVuZGFyX2dldCh0aGlzLm9ic2VydmVyLnYsIHN0YXJ0LCBlbmQsIDEsIDAsIGNhbGxiYWNrKTsKCiAgICAgIE1vZHVsZS5yZW1vdmVGdW5jdGlvbihjYWxsYmFjayk7CiAgICB9OwoKICAgIE1vZHVsZVsiZGVzaWduYXRpb25DbGVhbnVwIl0gPSBmdW5jdGlvbiAoZCwgZmxhZ3MpIHsKICAgICAgdmFyIGRlc2lnbmF0aW9uX2NsZWFudXAgPSBNb2R1bGUuY3dyYXAoImRlc2lnbmF0aW9uX2NsZWFudXAiLCBudWxsLCBbInN0cmluZyIsICJudW1iZXIiLCAibnVtYmVyIiwgIm51bWJlciJdKTsKCiAgICAgIHZhciBjYnVmID0gTW9kdWxlLl9tYWxsb2MoMjU2KTsKCiAgICAgIGRlc2lnbmF0aW9uX2NsZWFudXAoZCwgY2J1ZiwgMjU2LCBmbGFncyk7CiAgICAgIHZhciByZXQgPSBNb2R1bGUuVVRGOFRvU3RyaW5nKGNidWYpOwoKICAgICAgTW9kdWxlLl9mcmVlKG91dCk7CgogICAgICByZXR1cm4gcmV0OwogICAgfTsKCiAgICBNb2R1bGVbImMycyJdID0gZnVuY3Rpb24gKHYpIHsKICAgICAgdmFyIHggPSB2WzBdOwogICAgICB2YXIgeSA9IHZbMV07CiAgICAgIHZhciB6ID0gdlsyXTsKICAgICAgdmFyIGQyID0geCAqIHggKyB5ICogeTsKICAgICAgdmFyIHRoZXRhID0gZDIgPT0gMCA/IDAgOiBNYXRoLmF0YW4yKHksIHgpOwogICAgICB2YXIgcGhpID0geiA9PT0gMCA/IDAgOiBNYXRoLmF0YW4yKHosIE1hdGguc3FydChkMikpOwogICAgICByZXR1cm4gW3RoZXRhLCBwaGldOwogICAgfTsKCiAgICBNb2R1bGVbInMyYyJdID0gZnVuY3Rpb24gKHRoZXRhLCBwaGkpIHsKICAgICAgdmFyIGNwID0gTWF0aC5jb3MocGhpKTsKICAgICAgcmV0dXJuIFtNYXRoLmNvcyh0aGV0YSkgKiBjcCwgTWF0aC5zaW4odGhldGEpICogY3AsIE1hdGguc2luKHBoaSldOwogICAgfTsKCiAgICBNb2R1bGVbImFucCJdID0gZnVuY3Rpb24gKGEpIHsKICAgICAgdmFyIHYgPSBhICUgKDIgKiBNYXRoLlBJKTsKICAgICAgaWYgKHYgPCAwKSB2ICs9IDIgKiBNYXRoLlBJOwogICAgICByZXR1cm4gdjsKICAgIH07CgogICAgTW9kdWxlWyJhbnBtIl0gPSBmdW5jdGlvbiAoYSkgewogICAgICB2YXIgdiA9IGEgJSAoMiAqIE1hdGguUEkpOwogICAgICBpZiAoTWF0aC5hYnModikgPj0gTWF0aC5QSSkgdiAtPSAyICogTWF0aC5QSSAqIE1hdGguc2lnbihhKTsKICAgICAgcmV0dXJuIHY7CiAgICB9OwoKICAgIHZhciBhc0ZyYW1lID0gZnVuY3Rpb24gYXNGcmFtZShmKSB7CiAgICAgIGlmIChmID09PSAiQVNUUk9NIikgcmV0dXJuIE1vZHVsZS5GUkFNRV9BU1RST007CiAgICAgIGlmIChmID09PSAiSUNSRiIpIHJldHVybiBNb2R1bGUuRlJBTUVfSUNSRjsKICAgICAgaWYgKGYgPT09ICJDSVJTIikgcmV0dXJuIE1vZHVsZS5GUkFNRV9DSVJTOwogICAgICBpZiAoZiA9PT0gIkpOT1ciKSByZXR1cm4gTW9kdWxlLkZSQU1FX0pOT1c7CiAgICAgIGlmIChmID09PSAiT0JTRVJWRUQiKSByZXR1cm4gTW9kdWxlLkZSQU1FX09CU0VSVkVEOwogICAgICBpZiAoZiA9PT0gIk9CU0VSVkVEX0dFT00iKSByZXR1cm4gTW9kdWxlLkZSQU1FX09CU0VSVkVEX0dFT007CiAgICAgIGlmIChmID09PSAiTU9VTlQiKSByZXR1cm4gTW9kdWxlLkZSQU1FX01PVU5UOwogICAgICBpZiAoZiA9PT0gIlZJRVciKSByZXR1cm4gTW9kdWxlLkZSQU1FX1ZJRVc7CiAgICAgIGFzc2VydCh0eXBlb2YgZiA9PT0gIm51bWJlciIpOwogICAgICByZXR1cm4gZjsKICAgIH07CgogICAgTW9kdWxlWyJjb252ZXJ0RnJhbWUiXSA9IGZ1bmN0aW9uIChvYnMsIG9yaWdpbiwgZGVzdCwgdikgewogICAgICBvcmlnaW4gPSBhc0ZyYW1lKG9yaWdpbik7CiAgICAgIGRlc3QgPSBhc0ZyYW1lKGRlc3QpOwogICAgICB2YXIgdjQgPSBbdlswXSwgdlsxXSwgdlsyXSwgdlszXSB8fCAwXTsKCiAgICAgIHZhciBwdHIgPSBNb2R1bGUuX21hbGxvYyg4ICogOCk7CgogICAgICB2YXIgaTsKCiAgICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpKyspIHsKICAgICAgICBNb2R1bGUuX3NldFZhbHVlKHB0ciArIGkgKiA4LCB2NFtpXSwgImRvdWJsZSIpOwogICAgICB9CgogICAgICBNb2R1bGUuX2NvbnZlcnRfZnJhbWV2NChvYnMudiwgb3JpZ2luLCBkZXN0LCBwdHIsIHB0ciArIDQgKiA4KTsKCiAgICAgIHZhciByZXQgPSBuZXcgQXJyYXkoNCk7CgogICAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7CiAgICAgICAgcmV0W2ldID0gTW9kdWxlLl9nZXRWYWx1ZShwdHIgKyAoNCArIGkpICogOCwgImRvdWJsZSIpOwogICAgICB9CgogICAgICBNb2R1bGUuX2ZyZWUocHRyKTsKCiAgICAgIHJldHVybiByZXQ7CiAgICB9OwoKICAgIE1vZHVsZVsibG9va0F0Il0gPSBmdW5jdGlvbiAocG9zLCBkdXJhdGlvbikgewogICAgICBpZiAoZHVyYXRpb24gPT09IHVuZGVmaW5lZCkgZHVyYXRpb24gPSAxOwoKICAgICAgdmFyIHYgPSBNb2R1bGUuX21hbGxvYygzICogOCk7CgogICAgICB2YXIgaTsKCiAgICAgIGZvciAoaSA9IDA7IGkgPCAzOyBpKyspIHsKICAgICAgICBNb2R1bGUuX3NldFZhbHVlKHYgKyBpICogOCwgcG9zW2ldLCAiZG91YmxlIik7CiAgICAgIH0KCiAgICAgIE1vZHVsZS5fY29yZV9sb29rYXQodiwgZHVyYXRpb24pOwoKICAgICAgTW9kdWxlLl9mcmVlKHYpOwogICAgfTsKCiAgICBNb2R1bGVbInBvaW50QW5kTG9jayJdID0gZnVuY3Rpb24gKHRhcmdldCwgZHVyYXRpb24pIHsKICAgICAgaWYgKGR1cmF0aW9uID09PSB1bmRlZmluZWQpIGR1cmF0aW9uID0gMTsKCiAgICAgIE1vZHVsZS5fY29yZV9wb2ludF9hbmRfbG9jayh0YXJnZXQudiwgZHVyYXRpb24pOwogICAgfTsKCiAgICBNb2R1bGVbInpvb21UbyJdID0gZnVuY3Rpb24gKGZvdiwgZHVyYXRpb24pIHsKICAgICAgaWYgKGR1cmF0aW9uID09PSB1bmRlZmluZWQpIGR1cmF0aW9uID0gMTsKCiAgICAgIE1vZHVsZS5fY29yZV96b29tdG8oZm92LCBkdXJhdGlvbik7CiAgICB9OwoKICAgIE1vZHVsZVsib3R5cGVUb1N0ciJdID0gZnVuY3Rpb24gKG90eXBlKSB7CiAgICAgIHZhciBvdHlwZV90b19zdHIgPSBNb2R1bGUuY3dyYXAoIm90eXBlX3RvX3N0ciIsICJudW1iZXIiLCBbInN0cmluZyJdKTsKICAgICAgdmFyIGNyZXQgPSBvdHlwZV90b19zdHIob3R5cGUpOwogICAgICByZXR1cm4gTW9kdWxlLlVURjhUb1N0cmluZyhjcmV0KTsKICAgIH07CgogICAgdmFyIG9uQ2xpY2tDYWxsYmFjazsKICAgIHZhciBvbkNsaWNrRm47CiAgICB2YXIgb25SZWN0Q2FsbGJhY2s7CiAgICB2YXIgb25SZWN0Rm47CgogICAgTW9kdWxlWyJvbiJdID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gImNsaWNrIikgewogICAgICAgIGlmICghb25DbGlja0ZuKSB7CiAgICAgICAgICBvbkNsaWNrRm4gPSBNb2R1bGUuYWRkRnVuY3Rpb24oZnVuY3Rpb24gKHgsIHkpIHsKICAgICAgICAgICAgcmV0dXJuIG9uQ2xpY2tDYWxsYmFjayh7CiAgICAgICAgICAgICAgcG9pbnQ6IHsKICAgICAgICAgICAgICAgIHg6IHgsCiAgICAgICAgICAgICAgICB5OiB5CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sICJpZGQiKTsKICAgICAgICB9CgogICAgICAgIG9uQ2xpY2tDYWxsYmFjayA9IGNhbGxiYWNrOwogICAgICAgIE1vZHVsZS5jb3JlLm9uX2NsaWNrID0gb25DbGlja0ZuOwogICAgICB9CgogICAgICBpZiAoZXZlbnROYW1lID09PSAicmVjdFNlbGVjdGlvbiIpIHsKICAgICAgICBvblJlY3RGbiA9IE1vZHVsZS5hZGRGdW5jdGlvbihmdW5jdGlvbiAoeDEsIHkxLCB4MiwgeTIpIHsKICAgICAgICAgIHJldHVybiBvblJlY3RDYWxsYmFjayh7CiAgICAgICAgICAgIHJlY3Q6IFt7CiAgICAgICAgICAgICAgeDogeDEsCiAgICAgICAgICAgICAgeTogeTEKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIHg6IHgyLAogICAgICAgICAgICAgIHk6IHkyCiAgICAgICAgICAgIH1dCiAgICAgICAgICB9KTsKICAgICAgICB9LCAiaWRkZGQiKTsKICAgICAgICBvblJlY3RDYWxsYmFjayA9IGNhbGxiYWNrOwogICAgICAgIE1vZHVsZS5jb3JlLm9uX3JlY3QgPSBvblJlY3RGbjsKICAgICAgfQogICAgfTsKCiAgICBNb2R1bGVbInNldEZvbnQiXSA9IGZ1bmN0aW9uIChmb250LCB1cmwpIHsKICAgICAgcmV0dXJuIGZldGNoKHVybCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBnZXQgIi5jb25jYXQodXJsKSk7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7CgogICAgICAgIHZhciBwdHIgPSBNb2R1bGUuX21hbGxvYyhkYXRhLmxlbmd0aCk7CgogICAgICAgIE1vZHVsZS53cml0ZUFycmF5VG9NZW1vcnkoZGF0YSwgcHRyKTsKICAgICAgICBNb2R1bGUuY2NhbGwoImNvcmVfYWRkX2ZvbnQiLCBudWxsLCBbIm51bWJlciIsICJzdHJpbmciLCAic3RyaW5nIiwgIm51bWJlciIsICJudW1iZXIiLCAibnVtYmVyIl0sIFswLCBmb250LCBudWxsLCBwdHIsIGRhdGEubGVuZ3RoXSk7CiAgICAgICAgdmFyIHVybCA9IGZvbnQgPT09ICJyZWd1bGFyIiA/ICJhc3NldDovL2ZvbnQvTm90b1NhbnMtUmVndWxhci50dGYiIDogImFzc2V0Oi8vZm9udC9Ob3RvU2Fucy1Cb2xkLnR0ZiI7CiAgICAgICAgTW9kdWxlLmNjYWxsKCJjb3JlX2FkZF9mb250IiwgbnVsbCwgWyJudW1iZXIiLCAic3RyaW5nIiwgInN0cmluZyIsICJudW1iZXIiLCAibnVtYmVyIiwgIm51bWJlciJdLCBbMCwgZm9udCwgdXJsLCAwLCAwXSk7CiAgICAgIH0pOwogICAgfTsKCiAgICBNb2R1bGUuYWZ0ZXJJbml0KGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG9ial9jYWxsX2pzb25fc3RyID0gTW9kdWxlLmN3cmFwKCJvYmpfY2FsbF9qc29uX3N0ciIsICJudW1iZXIiLCBbIm51bWJlciIsICJzdHJpbmciLCAic3RyaW5nIl0pOwogICAgICB2YXIgY29yZV9zZWFyY2ggPSBNb2R1bGUuY3dyYXAoImNvcmVfc2VhcmNoIiwgIm51bWJlciIsIFsic3RyaW5nIl0pOwogICAgICB2YXIgb2JqX2dldF9pZCA9IE1vZHVsZS5jd3JhcCgib2JqX2dldF9pZCIsICJzdHJpbmciLCBbIm51bWJlciJdKTsKICAgICAgdmFyIG1vZHVsZV9hZGQgPSBNb2R1bGUuY3dyYXAoIm1vZHVsZV9hZGQiLCBudWxsLCBbIm51bWJlciIsICJudW1iZXIiXSk7CiAgICAgIHZhciBtb2R1bGVfcmVtb3ZlID0gTW9kdWxlLmN3cmFwKCJtb2R1bGVfcmVtb3ZlIiwgbnVsbCwgWyJudW1iZXIiLCAibnVtYmVyIl0pOwogICAgICB2YXIgbW9kdWxlX2dldF90cmVlID0gTW9kdWxlLmN3cmFwKCJtb2R1bGVfZ2V0X3RyZWUiLCAibnVtYmVyIiwgWyJudW1iZXIiLCAibnVtYmVyIl0pOwogICAgICB2YXIgbW9kdWxlX2dldF9wYXRoID0gTW9kdWxlLmN3cmFwKCJtb2R1bGVfZ2V0X3BhdGgiLCAibnVtYmVyIiwgWyJudW1iZXIiLCAibnVtYmVyIl0pOwogICAgICB2YXIgb2JqX2NyZWF0ZV9zdHIgPSBNb2R1bGUuY3dyYXAoIm9ial9jcmVhdGVfc3RyIiwgIm51bWJlciIsIFsic3RyaW5nIiwgInN0cmluZyJdKTsKICAgICAgdmFyIG1vZHVsZV9nZXRfY2hpbGQgPSBNb2R1bGUuY3dyYXAoIm1vZHVsZV9nZXRfY2hpbGQiLCAibnVtYmVyIiwgWyJudW1iZXIiLCAic3RyaW5nIl0pOwogICAgICB2YXIgY29yZV9nZXRfbW9kdWxlID0gTW9kdWxlLmN3cmFwKCJjb3JlX2dldF9tb2R1bGUiLCAibnVtYmVyIiwgWyJzdHJpbmciXSk7CiAgICAgIHZhciBvYmpfZ2V0X2luZm9fanNvbiA9IE1vZHVsZS5jd3JhcCgib2JqX2dldF9pbmZvX2pzb24iLCAibnVtYmVyIiwgWyJudW1iZXIiLCAibnVtYmVyIiwgInN0cmluZyJdKTsKICAgICAgdmFyIG9ial9nZXRfanNvbl9kYXRhX3N0ciA9IE1vZHVsZS5jd3JhcCgib2JqX2dldF9qc29uX2RhdGFfc3RyIiwgIm51bWJlciIsIFsibnVtYmVyIl0pOwogICAgICB2YXIgZ19saXN0ZW5lcnMgPSBbXTsKICAgICAgdmFyIGdfcmV0OwogICAgICB2YXIgZ19vYmpfZm9yZWFjaF9hdHRyX2NhbGxiYWNrID0gTW9kdWxlLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uIChhdHRyLCBpc1Byb3AsIHVzZXIpIHsKICAgICAgICBnX3JldC5wdXNoKFthdHRyLCBpc1Byb3BdKTsKICAgICAgfSwgInZpaWkiKTsKICAgICAgdmFyIGdfb2JqX2ZvcmVhY2hfY2hpbGRfY2FsbGJhY2sgPSBNb2R1bGUuYWRkRnVuY3Rpb24oZnVuY3Rpb24gKGlkKSB7CiAgICAgICAgZ19yZXQucHVzaChpZCk7CiAgICAgIH0sICJ2aSIpOwogICAgICB2YXIgZ19vYmpfZ2V0X2Rlc2lnbmF0aW9uc19jYWxsYmFjayA9IE1vZHVsZS5hZGRGdW5jdGlvbihmdW5jdGlvbiAobywgdSwgdikgewogICAgICAgIGdfcmV0LnB1c2godik7CiAgICAgIH0sICJ2aWlpIik7CiAgICAgIHZhciBnX21vZHVsZV9saXN0X29iajIgPSBNb2R1bGUuYWRkRnVuY3Rpb24oZnVuY3Rpb24gKHVzZXIsIG9iaikgewogICAgICAgIGdfcmV0LnB1c2gob2JqKTsKICAgICAgICByZXR1cm4gMDsKICAgICAgfSwgImlpaSIpOwoKICAgICAgdmFyIFN3ZU9iaiA9IGZ1bmN0aW9uIFN3ZU9iaih2KSB7CiAgICAgICAgYXNzZXJ0KHR5cGVvZiB2ID09PSAibnVtYmVyIik7CiAgICAgICAgdGhpcy52ID0gdjsKICAgICAgICB0aGlzLnN3ZV8gPSAxOwogICAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgICBnX3JldCA9IFtdOwoKICAgICAgICBNb2R1bGUuX29ial9mb3JlYWNoX2F0dHIodGhpcy52LCAwLCBnX29ial9mb3JlYWNoX2F0dHJfY2FsbGJhY2spOwoKICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChfaSkgewogICAgICAgICAgdmFyIGF0dHIgPSBnX3JldFtfaV1bMF07CiAgICAgICAgICB2YXIgaXNQcm9wID0gZ19yZXRbX2ldWzFdOwogICAgICAgICAgdmFyIG5hbWUgPSBNb2R1bGUuVVRGOFRvU3RyaW5nKGF0dHIpOwoKICAgICAgICAgIGlmICghaXNQcm9wKSB7CiAgICAgICAgICAgIHRoYXRbbmFtZV0gPSBmdW5jdGlvbiAoYXJncykgewogICAgICAgICAgICAgIHJldHVybiB0aGF0Ll9jYWxsKG5hbWUsIGFyZ3MpOwogICAgICAgICAgICB9OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoYXQsIG5hbWUsIHsKICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGF0Ll9jYWxsKG5hbWUpOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodikgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoYXQuX2NhbGwobmFtZSwgdik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZ19yZXQubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgICBfbG9vcChfaSk7CiAgICAgICAgfQoKICAgICAgICBnX3JldCA9IFtdOwoKICAgICAgICBNb2R1bGUuX29ial9mb3JlYWNoX2NoaWxkKHRoaXMudiwgZ19vYmpfZm9yZWFjaF9jaGlsZF9jYWxsYmFjayk7CgogICAgICAgIHZhciBfbG9vcDIgPSBmdW5jdGlvbiBfbG9vcDIoX2kyKSB7CiAgICAgICAgICB2YXIgaWQgPSBNb2R1bGUuVVRGOFRvU3RyaW5nKGdfcmV0W19pMl0pOwogICAgICAgICAgaWYgKCFpZCkgcmV0dXJuIHsKICAgICAgICAgICAgdjogdm9pZCAwCiAgICAgICAgICB9OwogICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoYXQsIGlkLCB7CiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgICAgIHZhciBvYmogPSBtb2R1bGVfZ2V0X2NoaWxkKHRoYXQudiwgaWQpOwogICAgICAgICAgICAgIHJldHVybiBvYmogPyBuZXcgU3dlT2JqKG9iaikgOiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBnX3JldC5sZW5ndGg7IF9pMisrKSB7CiAgICAgICAgICB2YXIgX3JldCA9IF9sb29wMihfaTIpOwoKICAgICAgICAgIGlmIChfdHlwZW9mKF9yZXQpID09PSAib2JqZWN0IikgcmV0dXJuIF9yZXQudjsKICAgICAgICB9CiAgICAgIH07CgogICAgICBTd2VPYmoucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaWQ7CiAgICAgIH07CgogICAgICBTd2VPYmoucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBNb2R1bGUuX21vZHVsZV91cGRhdGUodGhpcy52LCAwKTsKICAgICAgfTsKCiAgICAgIFN3ZU9iai5wcm90b3R5cGUuZ2V0SW5mbyA9IGZ1bmN0aW9uIChpbmZvLCBvYnMpIHsKICAgICAgICBpZiAob2JzID09PSB1bmRlZmluZWQpIG9icyA9IE1vZHVsZS5vYnNlcnZlcjsKCiAgICAgICAgTW9kdWxlLl9vYnNlcnZlcl91cGRhdGUob2JzLnYsIHRydWUpOwoKICAgICAgICB2YXIgY3JldCA9IG9ial9nZXRfaW5mb19qc29uKHRoaXMudiwgb2JzLnYsIGluZm8pOwogICAgICAgIGlmIChjcmV0ID09PSAwKSByZXR1cm4gdW5kZWZpbmVkOwogICAgICAgIHZhciByZXQgPSBNb2R1bGUuVVRGOFRvU3RyaW5nKGNyZXQpOwoKICAgICAgICBNb2R1bGUuX2ZyZWUoY3JldCk7CgogICAgICAgIHJldCA9IEpTT04ucGFyc2UocmV0KTsKICAgICAgICBpZiAoIXJldC5zd2VfKSByZXR1cm4gcmV0OwogICAgICAgIHJldHVybiByZXQudjsKICAgICAgfTsKCiAgICAgIFN3ZU9iai5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIG5ldyBTd2VPYmooTW9kdWxlLl9vYmpfY2xvbmUodGhpcy52KSk7CiAgICAgIH07CgogICAgICBTd2VPYmoucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgTW9kdWxlLl9vYmpfcmVsZWFzZSh0aGlzLnYpOwogICAgICB9OwoKICAgICAgU3dlT2JqLnByb3RvdHlwZS5yZXRhaW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgTW9kdWxlLl9vYmpfcmV0YWluKHRoaXMudik7CiAgICAgIH07CgogICAgICBTd2VPYmoucHJvdG90eXBlLmNoYW5nZSA9IGZ1bmN0aW9uIChhdHRyLCBjYWxsYmFjaywgY29udGV4dCkgewogICAgICAgIGdfbGlzdGVuZXJzLnB1c2goewogICAgICAgICAgIm9iaiI6IHRoaXMudiwKICAgICAgICAgICJjdHgiOiBjb250ZXh0ID8gY29udGV4dCA6IHRoaXMsCiAgICAgICAgICAiYXR0ciI6IGF0dHIsCiAgICAgICAgICAiY2FsbGJhY2siOiBjYWxsYmFjawogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgU3dlT2JqLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodHlwZSwgYXJncykgewogICAgICAgIGlmIChhcmdzID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHZhciBvYmogPSB0eXBlOwogICAgICAgICAgbW9kdWxlX2FkZCh0aGlzLnYsIG9iai52KTsKICAgICAgICAgIHJldHVybiBvYmo7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBfb2JqID0gTW9kdWxlLmNyZWF0ZU9iaih0eXBlLCBhcmdzKTsKCiAgICAgICAgICB0aGlzLmFkZChfb2JqKTsKICAgICAgICAgIHJldHVybiBfb2JqOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIFN3ZU9iai5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKG9iaikgewogICAgICAgIG1vZHVsZV9yZW1vdmUodGhpcy52LCBvYmoudik7CiAgICAgIH07CgogICAgICBTd2VPYmoucHJvdG90eXBlLmRlc2lnbmF0aW9ucyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBnX3JldCA9IFtdOwoKICAgICAgICBNb2R1bGUuX29ial9nZXRfZGVzaWduYXRpb25zKHRoaXMudiwgMCwgZ19vYmpfZ2V0X2Rlc2lnbmF0aW9uc19jYWxsYmFjayk7CgogICAgICAgIHZhciByZXQgPSBnX3JldC5tYXAoZnVuY3Rpb24gKHYpIHsKICAgICAgICAgIHJldHVybiBNb2R1bGUuVVRGOFRvU3RyaW5nKHYpOwogICAgICAgIH0pOwogICAgICAgIHJldCA9IHJldC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIHBvcywgc2VsZikgewogICAgICAgICAgcmV0dXJuIHNlbGYuaW5kZXhPZihpdGVtKSA9PSBwb3M7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHJldDsKICAgICAgfTsKCiAgICAgIFN3ZU9iai5wcm90b3R5cGUuY3VsdHVyYWxEZXNpZ25hdGlvbnMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHJldCA9IE1vZHVsZS5fc2t5Y3VsdHVyZXNfZ2V0X2N1bHR1cmFsX25hbWVzX2pzb24odGhpcy52KTsKCiAgICAgICAgcmV0ID0gTW9kdWxlLlVURjhUb1N0cmluZyhyZXQpOwoKICAgICAgICBNb2R1bGUuX2ZyZWUocmV0KTsKCiAgICAgICAgcmV0ID0gSlNPTi5wYXJzZShyZXQpOwogICAgICAgIHJldHVybiByZXQ7CiAgICAgIH07CgogICAgICBTd2VPYmoucHJvdG90eXBlLmxpc3RPYmpzID0gZnVuY3Rpb24gKG9icywgbWF4TWFnLCBmaWx0ZXIpIHsKICAgICAgICB2YXIgcmV0ID0gW107CiAgICAgICAgZ19yZXQgPSBbXTsKCiAgICAgICAgTW9kdWxlLl9tb2R1bGVfbGlzdF9vYmpzMih0aGlzLnYsIG9icy52LCBtYXhNYWcsIDAsIGdfbW9kdWxlX2xpc3Rfb2JqMik7CgogICAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IGdfcmV0Lmxlbmd0aDsgX2kzKyspIHsKICAgICAgICAgIHZhciBvYmogPSBuZXcgU3dlT2JqKGdfcmV0W19pM10pOwoKICAgICAgICAgIGlmIChmaWx0ZXIob2JqKSkgewogICAgICAgICAgICBvYmoucmV0YWluKCk7CiAgICAgICAgICAgIHJldC5wdXNoKG9iaik7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmV0OwogICAgICB9OwoKICAgICAgU3dlT2JqLnByb3RvdHlwZS5nZXRUcmVlID0gZnVuY3Rpb24gKGRldGFpbGVkKSB7CiAgICAgICAgZGV0YWlsZWQgPSBkZXRhaWxlZCAhPT0gdW5kZWZpbmVkID8gZGV0YWlsZWQgOiBmYWxzZTsKICAgICAgICB2YXIgY3JldCA9IG1vZHVsZV9nZXRfdHJlZSh0aGlzLnYsIGRldGFpbGVkKTsKICAgICAgICB2YXIgcmV0ID0gTW9kdWxlLlVURjhUb1N0cmluZyhjcmV0KTsKCiAgICAgICAgTW9kdWxlLl9mcmVlKGNyZXQpOwoKICAgICAgICByZXQgPSBKU09OLnBhcnNlKHJldCk7CiAgICAgICAgcmV0dXJuIHJldDsKICAgICAgfTsKCiAgICAgIFN3ZU9iai5wcm90b3R5cGUuY29tcHV0ZVZpc2liaWxpdHkgPSBmdW5jdGlvbiAoYXJncykgewogICAgICAgIGFyZ3MgPSBhcmdzIHx8IHt9OwogICAgICAgIHZhciBvYnMgPSBhcmdzLm9icyB8fCBNb2R1bGUuY29yZS5vYnNlcnZlcjsKICAgICAgICB2YXIgc3RhcnRUaW1lID0gYXJncy5zdGFydFRpbWUgfHwgb2JzLnR0IC0gMSAvIDI7CiAgICAgICAgdmFyIGVuZFRpbWUgPSBhcmdzLmVuZFRpbWUgfHwgb2JzLnR0ICsgMSAvIDI7CiAgICAgICAgdmFyIHByZWNpc2lvbiA9IDEgLyAyNCAvIDYwIC8gMjsKICAgICAgICB2YXIgcmlzZSA9IE1vZHVsZS5fY29tcHV0ZV9ldmVudChvYnMudiwgdGhpcy52LCAxLCBzdGFydFRpbWUsIGVuZFRpbWUsIHByZWNpc2lvbikgfHwgbnVsbDsKICAgICAgICB2YXIgc2V0ID0gTW9kdWxlLl9jb21wdXRlX2V2ZW50KG9icy52LCB0aGlzLnYsIDIsIHN0YXJ0VGltZSwgZW5kVGltZSwgcHJlY2lzaW9uKSB8fCBudWxsOwoKICAgICAgICBpZiAocmlzZSA9PT0gbnVsbCAmJiBzZXQgPT09IG51bGwpIHsKICAgICAgICAgIHZhciBwID0gdGhpcy5nZXRJbmZvKCJyYWRlYyIsIG9icyk7CiAgICAgICAgICBwID0gTW9kdWxlLmNvbnZlcnRGcmFtZShvYnMsICJJQ1JGIiwgIk9CU0VSVkVEIiwgcCk7CiAgICAgICAgICBpZiAocFsyXSA8IDApIHJldHVybiBbXTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBbewogICAgICAgICAgInJpc2UiOiByaXNlLAogICAgICAgICAgInNldCI6IHNldAogICAgICAgIH1dOwogICAgICB9OwoKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN3ZU9iai5wcm90b3R5cGUsICJpZCIsIHsKICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgIHZhciByZXQgPSBvYmpfZ2V0X2lkKHRoaXMudik7CiAgICAgICAgICBpZiAocmV0KSByZXR1cm4gcmV0OwogICAgICAgICAgcmV0dXJuIHRoaXMuZGVzaWduYXRpb25zKClbMF07CiAgICAgICAgfQogICAgICB9KTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN3ZU9iai5wcm90b3R5cGUsICJwYXRoIiwgewogICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgaWYgKHRoaXMudiA9PT0gTW9kdWxlLmNvcmUudikgcmV0dXJuICJjb3JlIjsKICAgICAgICAgIHZhciBjcmV0ID0gbW9kdWxlX2dldF9wYXRoKHRoaXMudiwgTW9kdWxlLmNvcmUudik7CiAgICAgICAgICB2YXIgcmV0ID0gTW9kdWxlLlVURjhUb1N0cmluZyhjcmV0KTsKCiAgICAgICAgICBNb2R1bGUuX2ZyZWUoY3JldCk7CgogICAgICAgICAgcmV0dXJuICJjb3JlLiIgKyByZXQ7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN3ZU9iai5wcm90b3R5cGUsICJqc29uRGF0YSIsIHsKICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgIHZhciBjcmV0ID0gb2JqX2dldF9qc29uX2RhdGFfc3RyKHRoaXMudik7CiAgICAgICAgICB2YXIgcmV0ID0gTW9kdWxlLlVURjhUb1N0cmluZyhjcmV0KTsKCiAgICAgICAgICBNb2R1bGUuX2ZyZWUoY3JldCk7CgogICAgICAgICAgcmV0dXJuIHJldCA/IEpTT04ucGFyc2UocmV0KSA6IHVuZGVmaW5lZDsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3dlT2JqLnByb3RvdHlwZSwgImljcnMiLCB7CiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5yYWRlYzsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgU3dlT2JqLnByb3RvdHlwZS5fY2FsbCA9IGZ1bmN0aW9uIChhdHRyLCBhcmcpIHsKICAgICAgICBpZiAoYXJnID09PSB1bmRlZmluZWQgfHwgYXJnID09PSBudWxsKSBhcmcgPSAwO2Vsc2UgYXJnID0gSlNPTi5zdHJpbmdpZnkoYXJnKTsKICAgICAgICB2YXIgY3JldCA9IG9ial9jYWxsX2pzb25fc3RyKHRoaXMudiwgYXR0ciwgYXJnKTsKICAgICAgICB2YXIgcmV0ID0gTW9kdWxlLlVURjhUb1N0cmluZyhjcmV0KTsKCiAgICAgICAgTW9kdWxlLl9mcmVlKGNyZXQpOwoKICAgICAgICBpZiAoIXJldCkgcmV0dXJuIG51bGw7CiAgICAgICAgcmV0ID0gSlNPTi5wYXJzZShyZXQpOwogICAgICAgIGlmICghcmV0LnN3ZV8pIHJldHVybiByZXQ7CgogICAgICAgIGlmIChyZXQudHlwZSA9PT0gIm9iaiIpIHsKICAgICAgICAgIHZhciB2ID0gcGFyc2VJbnQocmV0LnYpOwogICAgICAgICAgcmV0dXJuIHYgPyBuZXcgU3dlT2JqKHYpIDogbnVsbDsKICAgICAgICB9CgogICAgICAgIHJldHVybiByZXQudjsKICAgICAgfTsKCiAgICAgIFN3ZU9iai5wcm90b3R5cGUuYWRkRGF0YVNvdXJjZSA9IGZ1bmN0aW9uIChhcmdzKSB7CiAgICAgICAgdmFyIGFkZF9kYXRhX3NvdXJjZSA9IE1vZHVsZS5jd3JhcCgibW9kdWxlX2FkZF9kYXRhX3NvdXJjZSIsICJudW1iZXIiLCBbIm51bWJlciIsICJzdHJpbmciLCAic3RyaW5nIl0pOwogICAgICAgIGFkZF9kYXRhX3NvdXJjZSh0aGlzLnYsIGFyZ3MudXJsLCBhcmdzLmtleSB8fCAwKTsKICAgICAgfTsKCiAgICAgIE1vZHVsZVsiZ2V0TW9kdWxlIl0gPSBmdW5jdGlvbiAobmFtZSkgewogICAgICAgIHZhciBvYmogPSBjb3JlX2dldF9tb2R1bGUobmFtZSk7CiAgICAgICAgcmV0dXJuIG9iaiA/IG5ldyBTd2VPYmoob2JqKSA6IG51bGw7CiAgICAgIH07CgogICAgICBNb2R1bGVbImdldE9iaiJdID0gZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICBhc3NlcnQodHlwZW9mIG5hbWUgPT0gInN0cmluZyIpOwogICAgICAgIHZhciBvYmogPSBjb3JlX3NlYXJjaChuYW1lKTsKICAgICAgICByZXR1cm4gb2JqID8gbmV3IFN3ZU9iaihvYmopIDogbnVsbDsKICAgICAgfTsKCiAgICAgIE1vZHVsZVsiY2hhbmdlIl0gPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGNvbnRleHQpIHsKICAgICAgICBnX2xpc3RlbmVycy5wdXNoKHsKICAgICAgICAgICJvYmoiOiBudWxsLAogICAgICAgICAgImN0eCI6IGNvbnRleHQgPyBjb250ZXh0IDogbnVsbCwKICAgICAgICAgICJhdHRyIjogbnVsbCwKICAgICAgICAgICJjYWxsYmFjayI6IGNhbGxiYWNrCiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICBNb2R1bGVbImdldFRyZWUiXSA9IGZ1bmN0aW9uIChkZXRhaWxlZCkgewogICAgICAgIHJldHVybiBNb2R1bGUuY29yZS5nZXRUcmVlKGRldGFpbGVkKTsKICAgICAgfTsKCiAgICAgIE1vZHVsZVsiY3JlYXRlTGF5ZXIiXSA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIE1vZHVsZS5jb3JlLmFkZCgibGF5ZXIiLCBkYXRhKTsKICAgICAgfTsKCiAgICAgIGZ1bmN0aW9uIHN0cmluZ1RvQyhzdHIpIHsKICAgICAgICB2YXIgc2l6ZSA9IE1vZHVsZS5sZW5ndGhCeXRlc1VURjgoc3RyKTsKCiAgICAgICAgdmFyIHB0ciA9IE1vZHVsZS5fbWFsbG9jKHNpemUgKyAxKTsKCiAgICAgICAgTW9kdWxlLndyaXRlQXNjaWlUb01lbW9yeShzdHIsIHB0ciwgZmFsc2UpOwogICAgICAgIHJldHVybiBwdHI7CiAgICAgIH0KCiAgICAgIE1vZHVsZVsiY3JlYXRlT2JqIl0gPSBmdW5jdGlvbiAodHlwZSwgYXJncykgewogICAgICAgIGFyZ3MgPSBhcmdzID8gc3RyaW5nVG9DKEpTT04uc3RyaW5naWZ5KGFyZ3MpKSA6IDA7CiAgICAgICAgdmFyIGN0eXBlID0gc3RyaW5nVG9DKHR5cGUpOwoKICAgICAgICB2YXIgcmV0ID0gTW9kdWxlLl9vYmpfY3JlYXRlX3N0cihjdHlwZSwgYXJncyk7CgogICAgICAgIE1vZHVsZS5fZnJlZSh0eXBlKTsKCiAgICAgICAgTW9kdWxlLl9mcmVlKGFyZ3MpOwoKICAgICAgICByZXQgPSByZXQgPyBuZXcgU3dlT2JqKHJldCkgOiBudWxsOwogICAgICAgIGlmICh0eXBlID09PSAiZ2VvanNvbiIpIE1vZHVsZS5vbkdlb2pzb25PYmoocmV0KTsKICAgICAgICBpZiAodHlwZSA9PT0gImdlb2pzb24tc3VydmV5IikgTW9kdWxlLm9uR2VvanNvblN1cnZleU9iaihyZXQpOwogICAgICAgIHJldHVybiByZXQ7CiAgICAgIH07CgogICAgICB2YXIgb25PYmpDaGFuZ2VkID0gTW9kdWxlLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uIChvYmpQdHIsIGF0dHIpIHsKICAgICAgICBhdHRyID0gTW9kdWxlLlVURjhUb1N0cmluZyhhdHRyKTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnX2xpc3RlbmVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIGxpc3RlbmVyID0gZ19saXN0ZW5lcnNbaV07CgogICAgICAgICAgaWYgKChsaXN0ZW5lci5vYmogPT09IG51bGwgfHwgbGlzdGVuZXIub2JqID09PSBvYmpQdHIpICYmIChsaXN0ZW5lci5hdHRyID09PSBudWxsIHx8IGxpc3RlbmVyLmF0dHIgPT09IGF0dHIpKSB7CiAgICAgICAgICAgIHZhciBvYmogPSBuZXcgU3dlT2JqKG9ialB0cik7CiAgICAgICAgICAgIGxpc3RlbmVyLmNhbGxiYWNrLmFwcGx5KGxpc3RlbmVyLmN0eCwgW29iaiwgYXR0cl0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgInZpaSIpOwoKICAgICAgTW9kdWxlLl9tb2R1bGVfYWRkX2dsb2JhbF9saXN0ZW5lcihvbk9iakNoYW5nZWQpOwoKICAgICAgTW9kdWxlWyJnZXRUcmVlIl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIE1vZHVsZS5jb3JlLmdldFRyZWUoKTsKICAgICAgfTsKCiAgICAgIE1vZHVsZVsiZ2V0VmFsdWUiXSA9IGZ1bmN0aW9uIChwYXRoKSB7CiAgICAgICAgdmFyIGVsZW1zID0gcGF0aC5zcGxpdCgiLiIpOwogICAgICAgIHZhciBhdHRyID0gZWxlbXMucG9wKCk7CiAgICAgICAgdmFyIG9ialBhdGggPSBlbGVtcy5qb2luKCIuIik7CiAgICAgICAgdmFyIG9iaiA9IE1vZHVsZS5jb3JlW29ialBhdGhdIHx8IE1vZHVsZS5nZXRNb2R1bGUoImNvcmUuIiArIG9ialBhdGgpOwogICAgICAgIHZhciB2YWx1ZSA9IG9ialthdHRyXTsKICAgICAgICBpZiAodmFsdWUgJiYgX3R5cGVvZih2YWx1ZSkgPT09ICJvYmplY3QiICYmIHZhbHVlLnN3ZV8pIHZhbHVlID0gdmFsdWUudjsKICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgIH07CgogICAgICBNb2R1bGVbIl9zZXRWYWx1ZSJdID0gTW9kdWxlLnNldFZhbHVlOwoKICAgICAgTW9kdWxlWyJzZXRWYWx1ZSJdID0gZnVuY3Rpb24gKHBhdGgsIHZhbHVlKSB7CiAgICAgICAgdmFyIGVsZW1zID0gcGF0aC5zcGxpdCgiLiIpOwogICAgICAgIHZhciBhdHRyID0gZWxlbXMucG9wKCk7CiAgICAgICAgdmFyIG9ialBhdGggPSBlbGVtcy5qb2luKCIuIik7CiAgICAgICAgdmFyIG9iaiA9IE1vZHVsZS5jb3JlW29ialBhdGhdIHx8IE1vZHVsZS5nZXRNb2R1bGUoImNvcmUuIiArIG9ialBhdGgpOwogICAgICAgIG9ialthdHRyXSA9IHZhbHVlOwogICAgICB9OwoKICAgICAgTW9kdWxlWyJvblZhbHVlQ2hhbmdlZCJdID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgTW9kdWxlLmNoYW5nZShmdW5jdGlvbiAob2JqLCBhdHRyKSB7CiAgICAgICAgICB2YXIgcGF0aCA9IG9iai5wYXRoICsgIi4iICsgYXR0cjsKICAgICAgICAgIHZhciB2YWx1ZSA9IG9ialthdHRyXTsKICAgICAgICAgIGlmICh2YWx1ZSAmJiBfdHlwZW9mKHZhbHVlKSA9PT0gIm9iamVjdCIgJiYgdmFsdWUuc3dlXykgdmFsdWUgPSB2YWx1ZS52OwogICAgICAgICAgcGF0aCA9IHBhdGguc3Vic3RyKDUpOwogICAgICAgICAgY2FsbGJhY2socGF0aCwgdmFsdWUpOwogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgTW9kdWxlWyJTd2VPYmoiXSA9IFN3ZU9iajsKICAgIH0pOwoKICAgIGZ1bmN0aW9uIGZpbGxDb2xvclB0cihjb2xvciwgcHRyKSB7CiAgICAgIE1vZHVsZS5fZ2VvanNvbl9zZXRfY29sb3JfcHRyXyhwdHIsIGNvbG9yWzBdLCBjb2xvclsxXSwgY29sb3JbMl0sIGNvbG9yWzNdKTsKICAgIH0KCiAgICBmdW5jdGlvbiBmaWxsQm9vbFB0cih2YWx1ZSwgcHRyKSB7CiAgICAgIE1vZHVsZS5fZ2VvanNvbl9zZXRfYm9vbF9wdHJfKHB0ciwgdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldERhdGEob2JqLCBkYXRhKSB7CiAgICAgIE1vZHVsZS5fZ2VvanNvbl9yZW1vdmVfYWxsX2ZlYXR1cmVzKG9iai52KTsKCiAgICAgIG9iai5fZmVhdHVyZXMgPSBkYXRhLmZlYXR1cmVzOwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGRhdGEuZmVhdHVyZXMpLAogICAgICAgICAgX3N0ZXA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgZmVhdHVyZSA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgdmFyIGdlbyA9IGZlYXR1cmUuZ2VvbWV0cnk7CgogICAgICAgICAgaWYgKGdlby50eXBlICE9PSAiUG9seWdvbiIpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigiT25seSBzdXBwb3J0IHBvbHlnb24gZ2VvbWV0cnkiKTsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGdlby5jb29yZGluYXRlcy5sZW5ndGggIT0gMSkgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCJPbmx5IHN1cHBvcnQgc2luZ2xlIHJpbmcgcG9seWdvbnMiKTsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGNvb3JkaW5hdGVzID0gZ2VvLmNvb3JkaW5hdGVzWzBdOwogICAgICAgICAgdmFyIHNpemUgPSBjb29yZGluYXRlcy5sZW5ndGg7CgogICAgICAgICAgdmFyIHB0ciA9IE1vZHVsZS5fbWFsbG9jKHNpemUgKiAxNik7CgogICAgICAgICAgZm9yICh2YXIgX2k0ID0gMDsgX2k0IDwgc2l6ZTsgX2k0KyspIHsKICAgICAgICAgICAgTW9kdWxlLl9zZXRWYWx1ZShwdHIgKyBfaTQgKiAxNiArIDAsIGNvb3JkaW5hdGVzW19pNF1bMF0sICJkb3VibGUiKTsKCiAgICAgICAgICAgIE1vZHVsZS5fc2V0VmFsdWUocHRyICsgX2k0ICogMTYgKyA4LCBjb29yZGluYXRlc1tfaTRdWzFdLCAiZG91YmxlIik7CiAgICAgICAgICB9CgogICAgICAgICAgTW9kdWxlLl9nZW9qc29uX2FkZF9wb2x5X2ZlYXR1cmUob2JqLnYsIHNpemUsIHB0cik7CgogICAgICAgICAgTW9kdWxlLl9mcmVlKHB0cik7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBmaWx0ZXJBbGwob2JqLCBjYWxsYmFjaykgewogICAgICB2YXIgZmVhdHVyZXMgPSBvYmouX2ZlYXR1cmVzOwogICAgICB2YXIgZm4gPSBNb2R1bGUuYWRkRnVuY3Rpb24oZnVuY3Rpb24gKGlkeCwgZmlsbFB0ciwgc3Ryb2tlUHRyKSB7CiAgICAgICAgdmFyIHIgPSBjYWxsYmFjayhpZHgsIGZlYXR1cmVzW2lkeF0pOwogICAgICAgIGlmIChyID09PSBmYWxzZSkgcmV0dXJuIDA7CiAgICAgICAgaWYgKHIgPT09IHRydWUpIHJldHVybiAxOwogICAgICAgIGlmIChyLmZpbGwpIGZpbGxDb2xvclB0cihyLmZpbGwsIGZpbGxQdHIpOwogICAgICAgIGlmIChyLnN0cm9rZSkgZmlsbENvbG9yUHRyKHIuc3Ryb2tlLCBzdHJva2VQdHIpOwogICAgICAgIHZhciByZXQgPSByLnZpc2libGUgPT09IGZhbHNlID8gMCA6IDE7CiAgICAgICAgaWYgKHIuYmxpbmsgPT09IHRydWUpIHJldCB8PSAyOwogICAgICAgIHJldHVybiByZXQ7CiAgICAgIH0sICJpaWlpIik7CgogICAgICBNb2R1bGUuX2dlb2pzb25fZmlsdGVyX2FsbChvYmoudiwgZm4pOwoKICAgICAgTW9kdWxlLnJlbW92ZUZ1bmN0aW9uKGZuKTsKICAgIH0KCiAgICBmdW5jdGlvbiBxdWVyeVJlbmRlcmVkRmVhdHVyZUlkcyhvYmosIHBvaW50KSB7CiAgICAgIGlmIChfdHlwZW9mKHBvaW50KSA9PT0gIm9iamVjdCIpIHsKICAgICAgICBwb2ludCA9IFtwb2ludC54LCBwb2ludC55XTsKICAgICAgfQoKICAgICAgdmFyIHBvaW50UHRyID0gTW9kdWxlLl9tYWxsb2MoMTYpOwoKICAgICAgTW9kdWxlLl9zZXRWYWx1ZShwb2ludFB0ciArIDAsIHBvaW50WzBdLCAiZG91YmxlIik7CgogICAgICBNb2R1bGUuX3NldFZhbHVlKHBvaW50UHRyICsgOCwgcG9pbnRbMV0sICJkb3VibGUiKTsKCiAgICAgIHZhciBzaXplID0gMTI4OwoKICAgICAgdmFyIHJldFB0ciA9IE1vZHVsZS5fbWFsbG9jKDQgKiBzaXplKTsKCiAgICAgIHZhciBuYiA9IE1vZHVsZS5fZ2VvanNvbl9xdWVyeV9yZW5kZXJlZF9mZWF0dXJlcyhvYmoudiwgcG9pbnRQdHIsIHNpemUsIHJldFB0cik7CgogICAgICB2YXIgcmV0ID0gW107CgogICAgICBmb3IgKHZhciBfaTUgPSAwOyBfaTUgPCBuYjsgX2k1KyspIHsKICAgICAgICByZXQucHVzaChNb2R1bGUuX2dldFZhbHVlKHJldFB0ciArIF9pNSAqIDQsICJpMzIiKSk7CiAgICAgIH0KCiAgICAgIE1vZHVsZS5fZnJlZShwb2ludFB0cik7CgogICAgICBNb2R1bGUuX2ZyZWUocmV0UHRyKTsKCiAgICAgIHJldHVybiByZXQ7CiAgICB9CgogICAgTW9kdWxlWyJvbkdlb2pzb25PYmoiXSA9IGZ1bmN0aW9uIChvYmopIHsKICAgICAgdmFyIGZpbHRlckZuID0gbnVsbDsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgImZpbHRlciIsIHsKICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChmaWx0ZXIpIHsKICAgICAgICAgIGlmIChmaWx0ZXJGbikgTW9kdWxlLnJlbW92ZUZ1bmN0aW9uKGZpbHRlckZuKTsKICAgICAgICAgIGZpbHRlckZuID0gTW9kdWxlLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uIChpbWcsIGlkLCBmaWxsUHRyLCBzdHJva2VQdHIsIGJsaW5rUHRyLCBoaWRkZW5QdHIpIHsKICAgICAgICAgICAgdmFyIHIgPSBmaWx0ZXIoaWQpOwogICAgICAgICAgICBpZiAoci5maWxsKSBmaWxsQ29sb3JQdHIoci5maWxsLCBmaWxsUHRyKTsKICAgICAgICAgICAgaWYgKHIuc3Ryb2tlKSBmaWxsQ29sb3JQdHIoci5zdHJva2UsIHN0cm9rZVB0cik7CiAgICAgICAgICAgIGlmIChyLnN0cm9rZSkgZmlsbENvbG9yUHRyKHIuc3Ryb2tlLCBzdHJva2VQdHIpOwogICAgICAgICAgICBpZiAoci5ibGluayAhPT0gdW5kZWZpbmVkKSBmaWxsQm9vbFB0cihyLmJsaW5rLCBibGlua1B0cik7CiAgICAgICAgICAgIGlmIChyLmhpZGRlbiAhPT0gdW5kZWZpbmVkKSBmaWxsQm9vbFB0cihyLmhpZGRlbiwgaGlkZGVuUHRyKTsKICAgICAgICAgIH0sICJ2aWlpaWlpIik7CgogICAgICAgICAgb2JqLl9jYWxsKCJmaWx0ZXIiLCBmaWx0ZXJGbik7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIG9iai5zZXREYXRhID0gZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBzZXREYXRhKG9iaiwgZGF0YSk7CiAgICAgIH07CgogICAgICBvYmouZmlsdGVyQWxsID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgZmlsdGVyQWxsKG9iaiwgY2FsbGJhY2spOwogICAgICB9OwoKICAgICAgb2JqLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlSWRzID0gZnVuY3Rpb24gKHBvaW50KSB7CiAgICAgICAgcmV0dXJuIHF1ZXJ5UmVuZGVyZWRGZWF0dXJlSWRzKG9iaiwgcG9pbnQpOwogICAgICB9OwogICAgfTsKCiAgICB2YXIgZ190aWxlcyA9IHt9OwoKICAgIGZ1bmN0aW9uIGFzQm94KGJveCkgewogICAgICBpZiAoIShib3ggaW5zdGFuY2VvZiBBcnJheSkpIHsKICAgICAgICByZXR1cm4gW1tib3gueCwgYm94LnldLCBbYm94LngsIGJveC55XV07CiAgICAgIH0KCiAgICAgIGFzc2VydChib3ggaW5zdGFuY2VvZiBBcnJheSk7CiAgICAgIHJldHVybiBib3gubWFwKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgaWYgKCEodiBpbnN0YW5jZW9mIEFycmF5KSkgewogICAgICAgICAgcmV0dXJuIFt2LngsIHYueV07CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdjsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gc3VydmV5UXVlcnlSZW5kZXJlZEZlYXR1cmVzKG9iaiwgYm94KSB7CiAgICAgIGJveCA9IGFzQm94KGJveCk7CgogICAgICB2YXIgYm94UHRyID0gTW9kdWxlLl9tYWxsb2MoMzIpOwoKICAgICAgTW9kdWxlLl9zZXRWYWx1ZShib3hQdHIgKyAwLCBib3hbMF1bMF0sICJkb3VibGUiKTsKCiAgICAgIE1vZHVsZS5fc2V0VmFsdWUoYm94UHRyICsgOCwgYm94WzBdWzFdLCAiZG91YmxlIik7CgogICAgICBNb2R1bGUuX3NldFZhbHVlKGJveFB0ciArIDE2LCBib3hbMV1bMF0sICJkb3VibGUiKTsKCiAgICAgIE1vZHVsZS5fc2V0VmFsdWUoYm94UHRyICsgMjQsIGJveFsxXVsxXSwgImRvdWJsZSIpOwoKICAgICAgdmFyIHNpemUgPSAxMDI0OwoKICAgICAgdmFyIHRpbGVzUHRyID0gTW9kdWxlLl9tYWxsb2MoNCAqIHNpemUpOwoKICAgICAgdmFyIGluZGV4UHRyID0gTW9kdWxlLl9tYWxsb2MoNCAqIHNpemUpOwoKICAgICAgdmFyIG5iID0gTW9kdWxlLl9nZW9qc29uX3N1cnZleV9xdWVyeV9yZW5kZXJlZF9mZWF0dXJlcyhvYmoudiwgYm94UHRyLCBzaXplLCB0aWxlc1B0ciwgaW5kZXhQdHIpOwoKICAgICAgdmFyIHJldCA9IFtdOwoKICAgICAgZm9yICh2YXIgX2k2ID0gMDsgX2k2IDwgbmI7IF9pNisrKSB7CiAgICAgICAgdmFyIHRpbGUgPSBNb2R1bGUuX2dldFZhbHVlKHRpbGVzUHRyICsgX2k2ICogNCwgImkzMioiKTsKCiAgICAgICAgdmFyIGlkeCA9IE1vZHVsZS5fZ2V0VmFsdWUoaW5kZXhQdHIgKyBfaTYgKiA0LCAiaTMyIik7CgogICAgICAgIHJldC5wdXNoKGdfdGlsZXNbdGlsZV1baWR4XSk7CiAgICAgIH0KCiAgICAgIE1vZHVsZS5fZnJlZShib3hQdHIpOwoKICAgICAgTW9kdWxlLl9mcmVlKGluZGV4UHRyKTsKCiAgICAgIE1vZHVsZS5fZnJlZSh0aWxlc1B0cik7CgogICAgICByZXR1cm4gcmV0OwogICAgfQoKICAgIHZhciBvbk5ld1RpbGUgPSBmdW5jdGlvbiBvbk5ld1RpbGUoaW1nLCBqc29uKSB7CiAgICAgIGpzb24gPSBNb2R1bGUuVVRGOFRvU3RyaW5nKGpzb24pOwogICAgICBqc29uID0gSlNPTi5wYXJzZShqc29uKTsKICAgICAgZ190aWxlc1tpbWddID0ganNvbi5mZWF0dXJlczsKICAgIH07CgogICAgdmFyIG9uTmV3VGlsZVNldCA9IGZhbHNlOwoKICAgIE1vZHVsZVsib25HZW9qc29uU3VydmV5T2JqIl0gPSBmdW5jdGlvbiAob2JqKSB7CiAgICAgIGlmICghb25OZXdUaWxlU2V0KSB7CiAgICAgICAgTW9kdWxlLl9nZW9qc29uX3NldF9vbl9uZXdfdGlsZV9jYWxsYmFjayhNb2R1bGUuYWRkRnVuY3Rpb24ob25OZXdUaWxlLCAidmlpIikpOwoKICAgICAgICBvbk5ld1RpbGVTZXQgPSB0cnVlOwogICAgICB9CgogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAiZmlsdGVyIiwgewogICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGZpbHRlcikgewogICAgICAgICAgaWYgKG9iai5fZmlsdGVyRm4pIE1vZHVsZS5yZW1vdmVGdW5jdGlvbihvYmouX2ZpbHRlckZuKTsKICAgICAgICAgIG9iai5fZmlsdGVyRm4gPSBNb2R1bGUuYWRkRnVuY3Rpb24oZnVuY3Rpb24gKGltZywgaWQsIGZpbGxQdHIsIHN0cm9rZVB0ciwgYmxpbmtQdHIsIGhpZGRlblB0cikgewogICAgICAgICAgICB2YXIgZmVhdHVyZXMgPSBnX3RpbGVzW2ltZ107CiAgICAgICAgICAgIHZhciByID0gZmlsdGVyKGZlYXR1cmVzW2lkXSk7CiAgICAgICAgICAgIGlmIChyLmZpbGwpIGZpbGxDb2xvclB0cihyLmZpbGwsIGZpbGxQdHIpOwogICAgICAgICAgICBpZiAoci5zdHJva2UpIGZpbGxDb2xvclB0cihyLnN0cm9rZSwgc3Ryb2tlUHRyKTsKICAgICAgICAgICAgaWYgKHIuYmxpbmsgIT09IHVuZGVmaW5lZCkgZmlsbEJvb2xQdHIoci5ibGluaywgYmxpbmtQdHIpOwogICAgICAgICAgICBpZiAoci5oaWRkZW4gIT09IHVuZGVmaW5lZCkgZmlsbEJvb2xQdHIoci5oaWRkZW4sIGhpZGRlblB0cik7CiAgICAgICAgICB9LCAidmlpaWlpaSIpOwoKICAgICAgICAgIG9iai5fY2FsbCgiZmlsdGVyIiwgb2JqLl9maWx0ZXJGbik7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIG9iai5xdWVyeVJlbmRlcmVkRmVhdHVyZXMgPSBmdW5jdGlvbiAocG9pbnQpIHsKICAgICAgICByZXR1cm4gc3VydmV5UXVlcnlSZW5kZXJlZEZlYXR1cmVzKG9iaiwgcG9pbnQpOwogICAgICB9OwogICAgfTsKCiAgICB2YXIgaGlnaGZyYW1lUmF0ZSA9IGZhbHNlOwogICAgTW9kdWxlLmFmdGVySW5pdChmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghTW9kdWxlLmNhbnZhcykgcmV0dXJuOwogICAgICB2YXIgbW91c2VEb3duID0gZmFsc2U7CiAgICAgIHZhciBtb3VzZUJ1dHRvbnMgPSAwOwogICAgICB2YXIgbW91c2VQb3M7CgogICAgICB2YXIgcmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKHRpbWVzdGFtcCkgewogICAgICAgIGlmIChtb3VzZURvd24pIE1vZHVsZS5fY29yZV9vbl9tb3VzZSgwLCAxLCBtb3VzZVBvcy54LCBtb3VzZVBvcy55LCBtb3VzZUJ1dHRvbnMpOwogICAgICAgIHZhciBjYW52YXMgPSBNb2R1bGUuY2FudmFzOwogICAgICAgIHZhciBkcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxOwogICAgICAgIHZhciByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIHZhciBkaXNwbGF5V2lkdGggPSByZWN0LndpZHRoOwogICAgICAgIHZhciBkaXNwbGF5SGVpZ2h0ID0gcmVjdC5oZWlnaHQ7CiAgICAgICAgdmFyIHNpemVDaGFuZ2VkID0gY2FudmFzLndpZHRoICE9PSBkaXNwbGF5V2lkdGggfHwgY2FudmFzLmhlaWdodCAhPT0gZGlzcGxheUhlaWdodDsKCiAgICAgICAgaWYgKHNpemVDaGFuZ2VkKSB7CiAgICAgICAgICBjYW52YXMud2lkdGggPSBkaXNwbGF5V2lkdGggKiBkcHI7CiAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gZGlzcGxheUhlaWdodCAqIGRwcjsKICAgICAgICB9CgogICAgICAgIE1vZHVsZS5fY29yZV91cGRhdGUoKTsKCiAgICAgICAgTW9kdWxlLl9jb3JlX3JlbmRlcihkaXNwbGF5V2lkdGgsIGRpc3BsYXlIZWlnaHQsIGRwcik7CgogICAgICAgIGlmIChoaWdoZnJhbWVSYXRlKSB7CiAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7CiAgICAgICAgICB9LCAxZTMgLyAxOCk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgdmFyIGZpeFBhZ2VYWSA9IGZ1bmN0aW9uIGZpeFBhZ2VYWShlKSB7CiAgICAgICAgaWYgKGUucGFnZVggPT0gbnVsbCAmJiBlLmNsaWVudFggIT0gbnVsbCkgewogICAgICAgICAgdmFyIGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CiAgICAgICAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7CiAgICAgICAgICBlLnBhZ2VYID0gZS5jbGllbnRYICsgKGh0bWwuc2Nyb2xsTGVmdCB8fCBib2R5ICYmIGJvZHkuc2Nyb2xsTGVmdCB8fCAwKTsKICAgICAgICAgIGUucGFnZVggLT0gaHRtbC5jbGllbnRMZWZ0IHx8IDA7CiAgICAgICAgICBlLnBhZ2VZID0gZS5jbGllbnRZICsgKGh0bWwuc2Nyb2xsVG9wIHx8IGJvZHkgJiYgYm9keS5zY3JvbGxUb3AgfHwgMCk7CiAgICAgICAgICBlLnBhZ2VZIC09IGh0bWwuY2xpZW50VG9wIHx8IDA7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgdmFyIHNldHVwTW91c2UgPSBmdW5jdGlvbiBzZXR1cE1vdXNlKCkgewogICAgICAgIHZhciBjYW52YXMgPSBNb2R1bGUuY2FudmFzOwoKICAgICAgICBmdW5jdGlvbiBnZXRNb3VzZVBvcyhldnQpIHsKICAgICAgICAgIHZhciByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgeDogZXZ0LmNsaWVudFggLSByZWN0LmxlZnQsCiAgICAgICAgICAgIHk6IGV2dC5jbGllbnRZIC0gcmVjdC50b3AKICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgICAgIGUgPSBlIHx8IGV2ZW50OwogICAgICAgICAgZml4UGFnZVhZKGUpOwogICAgICAgICAgbW91c2VEb3duID0gdHJ1ZTsKICAgICAgICAgIG1vdXNlUG9zID0gZ2V0TW91c2VQb3MoZSk7CiAgICAgICAgICBtb3VzZUJ1dHRvbnMgPSBlLmJ1dHRvbnM7CgogICAgICAgICAgZG9jdW1lbnQub25tb3VzZXVwID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgZSA9IGUgfHwgZXZlbnQ7CiAgICAgICAgICAgIGZpeFBhZ2VYWShlKTsKICAgICAgICAgICAgbW91c2VEb3duID0gZmFsc2U7CiAgICAgICAgICAgIG1vdXNlUG9zID0gZ2V0TW91c2VQb3MoZSk7CgogICAgICAgICAgICBNb2R1bGUuX2NvcmVfb25fbW91c2UoMCwgMCwgbW91c2VQb3MueCwgbW91c2VQb3MueSwgbW91c2VCdXR0b25zKTsKICAgICAgICAgIH07CgogICAgICAgICAgZG9jdW1lbnQub25tb3VzZWxlYXZlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgbW91c2VEb3duID0gZmFsc2U7CiAgICAgICAgICB9OwoKICAgICAgICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgZSA9IGUgfHwgZXZlbnQ7CiAgICAgICAgICAgIGZpeFBhZ2VYWShlKTsKICAgICAgICAgICAgbW91c2VQb3MgPSBnZXRNb3VzZVBvcyhlKTsKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoc3RhcnQiLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CgogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlLmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBpZCA9IGUuY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcjsKICAgICAgICAgICAgdmFyIHJlbFggPSBlLmNoYW5nZWRUb3VjaGVzW2ldLnBhZ2VYIC0gcmVjdC5sZWZ0OwogICAgICAgICAgICB2YXIgcmVsWSA9IGUuY2hhbmdlZFRvdWNoZXNbaV0ucGFnZVkgLSByZWN0LnRvcDsKCiAgICAgICAgICAgIE1vZHVsZS5fY29yZV9vbl9tb3VzZShpZCwgMSwgcmVsWCwgcmVsWSwgMSk7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgcGFzc2l2ZTogdHJ1ZQogICAgICAgIH0pOwogICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaG1vdmUiLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgdmFyIHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CgogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlLmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBpZCA9IGUuY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcjsKICAgICAgICAgICAgdmFyIHJlbFggPSBlLmNoYW5nZWRUb3VjaGVzW2ldLnBhZ2VYIC0gcmVjdC5sZWZ0OwogICAgICAgICAgICB2YXIgcmVsWSA9IGUuY2hhbmdlZFRvdWNoZXNbaV0ucGFnZVkgLSByZWN0LnRvcDsKCiAgICAgICAgICAgIE1vZHVsZS5fY29yZV9vbl9tb3VzZShpZCwgLTEsIHJlbFgsIHJlbFksIDEpOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIHBhc3NpdmU6IGZhbHNlCiAgICAgICAgfSk7CiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoZW5kIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgaWQgPSBlLmNoYW5nZWRUb3VjaGVzW2ldLmlkZW50aWZpZXI7CiAgICAgICAgICAgIHZhciByZWxYID0gZS5jaGFuZ2VkVG91Y2hlc1tpXS5wYWdlWCAtIHJlY3QubGVmdDsKICAgICAgICAgICAgdmFyIHJlbFkgPSBlLmNoYW5nZWRUb3VjaGVzW2ldLnBhZ2VZIC0gcmVjdC50b3A7CgogICAgICAgICAgICBNb2R1bGUuX2NvcmVfb25fbW91c2UoaWQsIDAsIHJlbFgsIHJlbFksIDEpOwogICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBmdW5jdGlvbiBnZXRNb3VzZVdoZWVsRGVsdGEoZXZlbnQpIHsKICAgICAgICAgIHZhciBkZWx0YSA9IDA7CgogICAgICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7CiAgICAgICAgICAgIGNhc2UgIkRPTU1vdXNlU2Nyb2xsIjoKICAgICAgICAgICAgICBkZWx0YSA9IC1ldmVudC5kZXRhaWw7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlICJtb3VzZXdoZWVsIjoKICAgICAgICAgICAgICBkZWx0YSA9IGV2ZW50LndoZWVsRGVsdGEgLyAxMjA7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgIHRocm93ICJ1bnJlY29nbml6ZWQgbW91c2Ugd2hlZWwgZXZlbnQ6ICIgKyBldmVudC50eXBlOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBkZWx0YTsKICAgICAgICB9CgogICAgICAgIHZhciBvbldoZWVsRXZlbnQgPSBmdW5jdGlvbiBvbldoZWVsRXZlbnQoZSkgewogICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgZml4UGFnZVhZKGUpOwogICAgICAgICAgdmFyIHBvcyA9IGdldE1vdXNlUG9zKGUpOwogICAgICAgICAgdmFyIHpvb21fZmFjdG9yID0gMS4wNTsKICAgICAgICAgIHZhciBkZWx0YSA9IGdldE1vdXNlV2hlZWxEZWx0YShlKSAqIDI7CgogICAgICAgICAgTW9kdWxlLl9jb3JlX29uX3pvb20oTWF0aC5wb3coem9vbV9mYWN0b3IsIGRlbHRhKSwgcG9zLngsIHBvcy55KTsKCiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfTsKCiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNld2hlZWwiLCBvbldoZWVsRXZlbnQsIHsKICAgICAgICAgIHBhc3NpdmU6IGZhbHNlCiAgICAgICAgfSk7CiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIkRPTU1vdXNlU2Nyb2xsIiwgb25XaGVlbEV2ZW50LCB7CiAgICAgICAgICBwYXNzaXZlOiBmYWxzZQogICAgICAgIH0pOwoKICAgICAgICBjYW52YXMub25jb250ZXh0bWVudSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgIH07CiAgICAgIH07CgogICAgICBzZXR1cE1vdXNlKCk7CiAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKTsKICAgIH0pOwoKICAgIHdpbmRvdy5zZXRIaWdoRnJhbWVSYXRlID0gZnVuY3Rpb24gKG5ld0ZyYW1lUmF0ZSkgewogICAgICBoaWdoZnJhbWVSYXRlID0gbmV3RnJhbWVSYXRlOwogICAgfTsKCiAgICB3aW5kb3cuZ2V0SGlnaEZyYW1lUmF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGhpZ2hmcmFtZVJhdGU7CiAgICB9OwoKICAgIHZhciBtb2R1bGVPdmVycmlkZXMgPSB7fTsKICAgIHZhciBrZXk7CgogICAgZm9yIChrZXkgaW4gTW9kdWxlKSB7CiAgICAgIGlmIChNb2R1bGUuaGFzT3duUHJvcGVydHkoa2V5KSkgewogICAgICAgIG1vZHVsZU92ZXJyaWRlc1trZXldID0gTW9kdWxlW2tleV07CiAgICAgIH0KICAgIH0KCiAgICB2YXIgYXJndW1lbnRzXyA9IFtdOwogICAgdmFyIHRoaXNQcm9ncmFtID0gIi4vdGhpcy5wcm9ncmFtIjsKCiAgICB2YXIgcXVpdF8gPSBmdW5jdGlvbiBxdWl0XyhzdGF0dXMsIHRvVGhyb3cpIHsKICAgICAgdGhyb3cgdG9UaHJvdzsKICAgIH07CgogICAgdmFyIEVOVklST05NRU5UX0lTX1dFQiA9IGZhbHNlOwogICAgdmFyIEVOVklST05NRU5UX0lTX1dPUktFUiA9IGZhbHNlOwogICAgdmFyIEVOVklST05NRU5UX0lTX05PREUgPSBmYWxzZTsKICAgIHZhciBFTlZJUk9OTUVOVF9JU19TSEVMTCA9IGZhbHNlOwogICAgRU5WSVJPTk1FTlRfSVNfV0VCID0gKHR5cGVvZiB3aW5kb3cgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKHdpbmRvdykpID09PSAib2JqZWN0IjsKICAgIEVOVklST05NRU5UX0lTX1dPUktFUiA9IHR5cGVvZiBpbXBvcnRTY3JpcHRzID09PSAiZnVuY3Rpb24iOwogICAgRU5WSVJPTk1FTlRfSVNfTk9ERSA9ICh0eXBlb2YgcHJvY2VzcyA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YocHJvY2VzcykpID09PSAib2JqZWN0IiAmJiBfdHlwZW9mKHByb2Nlc3MudmVyc2lvbnMpID09PSAib2JqZWN0IiAmJiB0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlID09PSAic3RyaW5nIjsKICAgIEVOVklST05NRU5UX0lTX1NIRUxMID0gIUVOVklST05NRU5UX0lTX1dFQiAmJiAhRU5WSVJPTk1FTlRfSVNfTk9ERSAmJiAhRU5WSVJPTk1FTlRfSVNfV09SS0VSOwogICAgdmFyIHNjcmlwdERpcmVjdG9yeSA9ICIiOwoKICAgIGZ1bmN0aW9uIGxvY2F0ZUZpbGUocGF0aCkgewogICAgICBpZiAoTW9kdWxlWyJsb2NhdGVGaWxlIl0pIHsKICAgICAgICByZXR1cm4gTW9kdWxlWyJsb2NhdGVGaWxlIl0ocGF0aCwgc2NyaXB0RGlyZWN0b3J5KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNjcmlwdERpcmVjdG9yeSArIHBhdGg7CiAgICB9CgogICAgdmFyIHJlYWRfLCByZWFkQXN5bmMsIHJlYWRCaW5hcnksIHNldFdpbmRvd1RpdGxlOwogICAgdmFyIG5vZGVGUzsKICAgIHZhciBub2RlUGF0aDsKCiAgICBpZiAoRU5WSVJPTk1FTlRfSVNfTk9ERSkgewogICAgICBpZiAoRU5WSVJPTk1FTlRfSVNfV09SS0VSKSB7CiAgICAgICAgc2NyaXB0RGlyZWN0b3J5ID0gcmVxdWlyZSgicGF0aCIpLmRpcm5hbWUoc2NyaXB0RGlyZWN0b3J5KSArICIvIjsKICAgICAgfSBlbHNlIHsKICAgICAgICBzY3JpcHREaXJlY3RvcnkgPSBfX2Rpcm5hbWUgKyAiLyI7CiAgICAgIH0KCiAgICAgIHJlYWRfID0gZnVuY3Rpb24gc2hlbGxfcmVhZChmaWxlbmFtZSwgYmluYXJ5KSB7CiAgICAgICAgaWYgKCFub2RlRlMpIG5vZGVGUyA9IHJlcXVpcmUoImZzIik7CiAgICAgICAgaWYgKCFub2RlUGF0aCkgbm9kZVBhdGggPSByZXF1aXJlKCJwYXRoIik7CiAgICAgICAgZmlsZW5hbWUgPSBub2RlUGF0aFsibm9ybWFsaXplIl0oZmlsZW5hbWUpOwogICAgICAgIHJldHVybiBub2RlRlNbInJlYWRGaWxlU3luYyJdKGZpbGVuYW1lLCBiaW5hcnkgPyBudWxsIDogInV0ZjgiKTsKICAgICAgfTsKCiAgICAgIHJlYWRCaW5hcnkgPSBmdW5jdGlvbiByZWFkQmluYXJ5KGZpbGVuYW1lKSB7CiAgICAgICAgdmFyIHJldCA9IHJlYWRfKGZpbGVuYW1lLCB0cnVlKTsKCiAgICAgICAgaWYgKCFyZXQuYnVmZmVyKSB7CiAgICAgICAgICByZXQgPSBuZXcgVWludDhBcnJheShyZXQpOwogICAgICAgIH0KCiAgICAgICAgYXNzZXJ0KHJldC5idWZmZXIpOwogICAgICAgIHJldHVybiByZXQ7CiAgICAgIH07CgogICAgICBpZiAocHJvY2Vzc1siYXJndiJdLmxlbmd0aCA+IDEpIHsKICAgICAgICB0aGlzUHJvZ3JhbSA9IHByb2Nlc3NbImFyZ3YiXVsxXS5yZXBsYWNlKC9cXC9nLCAiLyIpOwogICAgICB9CgogICAgICBhcmd1bWVudHNfID0gcHJvY2Vzc1siYXJndiJdLnNsaWNlKDIpOwogICAgICBwcm9jZXNzWyJvbiJdKCJ1bmNhdWdodEV4Y2VwdGlvbiIsIGZ1bmN0aW9uIChleCkgewogICAgICAgIGlmICghKGV4IGluc3RhbmNlb2YgRXhpdFN0YXR1cykpIHsKICAgICAgICAgIHRocm93IGV4OwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHByb2Nlc3NbIm9uIl0oInVuaGFuZGxlZFJlamVjdGlvbiIsIGFib3J0KTsKCiAgICAgIHF1aXRfID0gZnVuY3Rpb24gcXVpdF8oc3RhdHVzKSB7CiAgICAgICAgcHJvY2Vzc1siZXhpdCJdKHN0YXR1cyk7CiAgICAgIH07CgogICAgICBNb2R1bGVbImluc3BlY3QiXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gIltFbXNjcmlwdGVuIE1vZHVsZSBvYmplY3RdIjsKICAgICAgfTsKICAgIH0gZWxzZSBpZiAoRU5WSVJPTk1FTlRfSVNfU0hFTEwpIHsKICAgICAgaWYgKHR5cGVvZiByZWFkICE9ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgcmVhZF8gPSBmdW5jdGlvbiBzaGVsbF9yZWFkKGYpIHsKICAgICAgICAgIHJldHVybiByZWFkKGYpOwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHJlYWRCaW5hcnkgPSBmdW5jdGlvbiByZWFkQmluYXJ5KGYpIHsKICAgICAgICB2YXIgZGF0YTsKCiAgICAgICAgaWYgKHR5cGVvZiByZWFkYnVmZmVyID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkocmVhZGJ1ZmZlcihmKSk7CiAgICAgICAgfQoKICAgICAgICBkYXRhID0gcmVhZChmLCAiYmluYXJ5Iik7CiAgICAgICAgYXNzZXJ0KF90eXBlb2YoZGF0YSkgPT09ICJvYmplY3QiKTsKICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgfTsKCiAgICAgIGlmICh0eXBlb2Ygc2NyaXB0QXJncyAhPSAidW5kZWZpbmVkIikgewogICAgICAgIGFyZ3VtZW50c18gPSBzY3JpcHRBcmdzOwogICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhcmd1bWVudHMgIT0gInVuZGVmaW5lZCIpIHsKICAgICAgICBhcmd1bWVudHNfID0gYXJndW1lbnRzOwogICAgICB9CgogICAgICBpZiAodHlwZW9mIHF1aXQgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICBxdWl0XyA9IGZ1bmN0aW9uIHF1aXRfKHN0YXR1cykgewogICAgICAgICAgcXVpdChzdGF0dXMpOwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIGlmICh0eXBlb2YgcHJpbnQgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlID09PSAidW5kZWZpbmVkIikgY29uc29sZSA9IHt9OwogICAgICAgIGNvbnNvbGUubG9nID0gcHJpbnQ7CiAgICAgICAgY29uc29sZS53YXJuID0gY29uc29sZS5lcnJvciA9IHR5cGVvZiBwcmludEVyciAhPT0gInVuZGVmaW5lZCIgPyBwcmludEVyciA6IHByaW50OwogICAgICB9CiAgICB9IGVsc2UgaWYgKEVOVklST05NRU5UX0lTX1dFQiB8fCBFTlZJUk9OTUVOVF9JU19XT1JLRVIpIHsKICAgICAgaWYgKEVOVklST05NRU5UX0lTX1dPUktFUikgewogICAgICAgIHNjcmlwdERpcmVjdG9yeSA9IHNlbGYubG9jYXRpb24uaHJlZjsKICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KSB7CiAgICAgICAgc2NyaXB0RGlyZWN0b3J5ID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7CiAgICAgIH0KCiAgICAgIGlmIChfc2NyaXB0RGlyKSB7CiAgICAgICAgc2NyaXB0RGlyZWN0b3J5ID0gX3NjcmlwdERpcjsKICAgICAgfQoKICAgICAgaWYgKHNjcmlwdERpcmVjdG9yeS5pbmRleE9mKCJibG9iOiIpICE9PSAwKSB7CiAgICAgICAgc2NyaXB0RGlyZWN0b3J5ID0gc2NyaXB0RGlyZWN0b3J5LnN1YnN0cigwLCBzY3JpcHREaXJlY3RvcnkubGFzdEluZGV4T2YoIi8iKSArIDEpOwogICAgICB9IGVsc2UgewogICAgICAgIHNjcmlwdERpcmVjdG9yeSA9ICIiOwogICAgICB9CgogICAgICB7CiAgICAgICAgcmVhZF8gPSBmdW5jdGlvbiBzaGVsbF9yZWFkKHVybCkgewogICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgICAgeGhyLm9wZW4oIkdFVCIsIHVybCwgZmFsc2UpOwogICAgICAgICAgeGhyLnNlbmQobnVsbCk7CiAgICAgICAgICByZXR1cm4geGhyLnJlc3BvbnNlVGV4dDsKICAgICAgICB9OwoKICAgICAgICBpZiAoRU5WSVJPTk1FTlRfSVNfV09SS0VSKSB7CiAgICAgICAgICByZWFkQmluYXJ5ID0gZnVuY3Rpb24gcmVhZEJpbmFyeSh1cmwpIHsKICAgICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgICAgICB4aHIub3BlbigiR0VUIiwgdXJsLCBmYWxzZSk7CiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAiYXJyYXlidWZmZXIiOwogICAgICAgICAgICB4aHIuc2VuZChudWxsKTsKICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHhoci5yZXNwb25zZSk7CiAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgcmVhZEFzeW5jID0gZnVuY3Rpb24gcmVhZEFzeW5jKHVybCwgb25sb2FkLCBvbmVycm9yKSB7CiAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgICB4aHIub3BlbigiR0VUIiwgdXJsLCB0cnVlKTsKICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAiYXJyYXlidWZmZXIiOwoKICAgICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiB4aHJfb25sb2FkKCkgewogICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PSAyMDAgfHwgeGhyLnN0YXR1cyA9PSAwICYmIHhoci5yZXNwb25zZSkgewogICAgICAgICAgICAgIG9ubG9hZCh4aHIucmVzcG9uc2UpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgb25lcnJvcigpOwogICAgICAgICAgfTsKCiAgICAgICAgICB4aHIub25lcnJvciA9IG9uZXJyb3I7CiAgICAgICAgICB4aHIuc2VuZChudWxsKTsKICAgICAgICB9OwogICAgICB9CgogICAgICBzZXRXaW5kb3dUaXRsZSA9IGZ1bmN0aW9uIHNldFdpbmRvd1RpdGxlKHRpdGxlKSB7CiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSB0aXRsZTsKICAgICAgfTsKICAgIH0gZWxzZSB7fQoKICAgIHZhciBvdXQgPSBNb2R1bGVbInByaW50Il0gfHwgY29uc29sZS5sb2cuYmluZChjb25zb2xlKTsKICAgIHZhciBlcnIgPSBNb2R1bGVbInByaW50RXJyIl0gfHwgY29uc29sZS53YXJuLmJpbmQoY29uc29sZSk7CgogICAgZm9yIChrZXkgaW4gbW9kdWxlT3ZlcnJpZGVzKSB7CiAgICAgIGlmIChtb2R1bGVPdmVycmlkZXMuaGFzT3duUHJvcGVydHkoa2V5KSkgewogICAgICAgIE1vZHVsZVtrZXldID0gbW9kdWxlT3ZlcnJpZGVzW2tleV07CiAgICAgIH0KICAgIH0KCiAgICBtb2R1bGVPdmVycmlkZXMgPSBudWxsOwogICAgaWYgKE1vZHVsZVsiYXJndW1lbnRzIl0pIGFyZ3VtZW50c18gPSBNb2R1bGVbImFyZ3VtZW50cyJdOwogICAgaWYgKE1vZHVsZVsidGhpc1Byb2dyYW0iXSkgdGhpc1Byb2dyYW0gPSBNb2R1bGVbInRoaXNQcm9ncmFtIl07CiAgICBpZiAoTW9kdWxlWyJxdWl0Il0pIHF1aXRfID0gTW9kdWxlWyJxdWl0Il07CgogICAgZnVuY3Rpb24gZHluYW1pY0FsbG9jKHNpemUpIHsKICAgICAgdmFyIHJldCA9IEhFQVAzMltEWU5BTUlDVE9QX1BUUiA+PiAyXTsKICAgICAgdmFyIGVuZCA9IHJldCArIHNpemUgKyAxNSAmIC0xNjsKICAgICAgSEVBUDMyW0RZTkFNSUNUT1BfUFRSID4+IDJdID0gZW5kOwogICAgICByZXR1cm4gcmV0OwogICAgfQoKICAgIGZ1bmN0aW9uIGdldE5hdGl2ZVR5cGVTaXplKHR5cGUpIHsKICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgY2FzZSAiaTEiOgogICAgICAgIGNhc2UgImk4IjoKICAgICAgICAgIHJldHVybiAxOwoKICAgICAgICBjYXNlICJpMTYiOgogICAgICAgICAgcmV0dXJuIDI7CgogICAgICAgIGNhc2UgImkzMiI6CiAgICAgICAgICByZXR1cm4gNDsKCiAgICAgICAgY2FzZSAiaTY0IjoKICAgICAgICAgIHJldHVybiA4OwoKICAgICAgICBjYXNlICJmbG9hdCI6CiAgICAgICAgICByZXR1cm4gNDsKCiAgICAgICAgY2FzZSAiZG91YmxlIjoKICAgICAgICAgIHJldHVybiA4OwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgewogICAgICAgICAgICBpZiAodHlwZVt0eXBlLmxlbmd0aCAtIDFdID09PSAiKiIpIHsKICAgICAgICAgICAgICByZXR1cm4gNDsKICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlWzBdID09PSAiaSIpIHsKICAgICAgICAgICAgICB2YXIgYml0cyA9IE51bWJlcih0eXBlLnN1YnN0cigxKSk7CiAgICAgICAgICAgICAgYXNzZXJ0KGJpdHMgJSA4ID09PSAwLCAiZ2V0TmF0aXZlVHlwZVNpemUgaW52YWxpZCBiaXRzICIgKyBiaXRzICsgIiwgdHlwZSAiICsgdHlwZSk7CiAgICAgICAgICAgICAgcmV0dXJuIGJpdHMgLyA4OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiB3YXJuT25jZSh0ZXh0KSB7CiAgICAgIGlmICghd2Fybk9uY2Uuc2hvd24pIHdhcm5PbmNlLnNob3duID0ge307CgogICAgICBpZiAoIXdhcm5PbmNlLnNob3duW3RleHRdKSB7CiAgICAgICAgd2Fybk9uY2Uuc2hvd25bdGV4dF0gPSAxOwogICAgICAgIGVycih0ZXh0KTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGNvbnZlcnRKc0Z1bmN0aW9uVG9XYXNtKGZ1bmMsIHNpZykgewogICAgICBpZiAodHlwZW9mIFdlYkFzc2VtYmx5LkZ1bmN0aW9uID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgdmFyIHR5cGVOYW1lcyA9IHsKICAgICAgICAgICJpIjogImkzMiIsCiAgICAgICAgICAiaiI6ICJpNjQiLAogICAgICAgICAgImYiOiAiZjMyIiwKICAgICAgICAgICJkIjogImY2NCIKICAgICAgICB9OwogICAgICAgIHZhciB0eXBlID0gewogICAgICAgICAgcGFyYW1ldGVyczogW10sCiAgICAgICAgICByZXN1bHRzOiBzaWdbMF0gPT0gInYiID8gW10gOiBbdHlwZU5hbWVzW3NpZ1swXV1dCiAgICAgICAgfTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBzaWcubGVuZ3RoOyArK2kpIHsKICAgICAgICAgIHR5cGUucGFyYW1ldGVycy5wdXNoKHR5cGVOYW1lc1tzaWdbaV1dKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBuZXcgV2ViQXNzZW1ibHkuRnVuY3Rpb24odHlwZSwgZnVuYyk7CiAgICAgIH0KCiAgICAgIHZhciB0eXBlU2VjdGlvbiA9IFsxLCAwLCAxLCA5Nl07CiAgICAgIHZhciBzaWdSZXQgPSBzaWcuc2xpY2UoMCwgMSk7CiAgICAgIHZhciBzaWdQYXJhbSA9IHNpZy5zbGljZSgxKTsKICAgICAgdmFyIHR5cGVDb2RlcyA9IHsKICAgICAgICAiaSI6IDEyNywKICAgICAgICAiaiI6IDEyNiwKICAgICAgICAiZiI6IDEyNSwKICAgICAgICAiZCI6IDEyNAogICAgICB9OwogICAgICB0eXBlU2VjdGlvbi5wdXNoKHNpZ1BhcmFtLmxlbmd0aCk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpZ1BhcmFtLmxlbmd0aDsgKytpKSB7CiAgICAgICAgdHlwZVNlY3Rpb24ucHVzaCh0eXBlQ29kZXNbc2lnUGFyYW1baV1dKTsKICAgICAgfQoKICAgICAgaWYgKHNpZ1JldCA9PSAidiIpIHsKICAgICAgICB0eXBlU2VjdGlvbi5wdXNoKDApOwogICAgICB9IGVsc2UgewogICAgICAgIHR5cGVTZWN0aW9uID0gdHlwZVNlY3Rpb24uY29uY2F0KFsxLCB0eXBlQ29kZXNbc2lnUmV0XV0pOwogICAgICB9CgogICAgICB0eXBlU2VjdGlvblsxXSA9IHR5cGVTZWN0aW9uLmxlbmd0aCAtIDI7CiAgICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KFswLCA5NywgMTE1LCAxMDksIDEsIDAsIDAsIDBdLmNvbmNhdCh0eXBlU2VjdGlvbiwgWzIsIDcsIDEsIDEsIDEwMSwgMSwgMTAyLCAwLCAwLCA3LCA1LCAxLCAxLCAxMDIsIDAsIDBdKSk7CiAgICAgIHZhciBtb2R1bGUgPSBuZXcgV2ViQXNzZW1ibHkuTW9kdWxlKGJ5dGVzKTsKICAgICAgdmFyIGluc3RhbmNlID0gbmV3IFdlYkFzc2VtYmx5Lkluc3RhbmNlKG1vZHVsZSwgewogICAgICAgICJlIjogewogICAgICAgICAgImYiOiBmdW5jCiAgICAgICAgfQogICAgICB9KTsKICAgICAgdmFyIHdyYXBwZWRGdW5jID0gaW5zdGFuY2UuZXhwb3J0c1siZiJdOwogICAgICByZXR1cm4gd3JhcHBlZEZ1bmM7CiAgICB9CgogICAgdmFyIGZyZWVUYWJsZUluZGV4ZXMgPSBbXTsKICAgIHZhciBmdW5jdGlvbnNJblRhYmxlTWFwOwoKICAgIGZ1bmN0aW9uIGFkZEZ1bmN0aW9uV2FzbShmdW5jLCBzaWcpIHsKICAgICAgdmFyIHRhYmxlID0gd2FzbVRhYmxlOwoKICAgICAgaWYgKCFmdW5jdGlvbnNJblRhYmxlTWFwKSB7CiAgICAgICAgZnVuY3Rpb25zSW5UYWJsZU1hcCA9IG5ldyBXZWFrTWFwKCk7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFibGUubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBpdGVtID0gdGFibGUuZ2V0KGkpOwoKICAgICAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgICAgIGZ1bmN0aW9uc0luVGFibGVNYXAuc2V0KGl0ZW0sIGkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGZ1bmN0aW9uc0luVGFibGVNYXAuaGFzKGZ1bmMpKSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uc0luVGFibGVNYXAuZ2V0KGZ1bmMpOwogICAgICB9CgogICAgICB2YXIgcmV0OwoKICAgICAgaWYgKGZyZWVUYWJsZUluZGV4ZXMubGVuZ3RoKSB7CiAgICAgICAgcmV0ID0gZnJlZVRhYmxlSW5kZXhlcy5wb3AoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXQgPSB0YWJsZS5sZW5ndGg7CgogICAgICAgIHRyeSB7CiAgICAgICAgICB0YWJsZS5ncm93KDEpOwogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgaWYgKCEoZXJyIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpIHsKICAgICAgICAgICAgdGhyb3cgZXJyOwogICAgICAgICAgfQoKICAgICAgICAgIHRocm93ICJVbmFibGUgdG8gZ3JvdyB3YXNtIHRhYmxlLiBTZXQgQUxMT1dfVEFCTEVfR1JPV1RILiI7CiAgICAgICAgfQogICAgICB9CgogICAgICB0cnkgewogICAgICAgIHRhYmxlLnNldChyZXQsIGZ1bmMpOwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBpZiAoIShlcnIgaW5zdGFuY2VvZiBUeXBlRXJyb3IpKSB7CiAgICAgICAgICB0aHJvdyBlcnI7CiAgICAgICAgfQoKICAgICAgICB2YXIgd3JhcHBlZCA9IGNvbnZlcnRKc0Z1bmN0aW9uVG9XYXNtKGZ1bmMsIHNpZyk7CiAgICAgICAgdGFibGUuc2V0KHJldCwgd3JhcHBlZCk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uc0luVGFibGVNYXAuc2V0KGZ1bmMsIHJldCk7CiAgICAgIHJldHVybiByZXQ7CiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlRnVuY3Rpb25XYXNtKGluZGV4KSB7CiAgICAgIGZ1bmN0aW9uc0luVGFibGVNYXAuZGVsZXRlKHdhc21UYWJsZS5nZXQoaW5kZXgpKTsKICAgICAgZnJlZVRhYmxlSW5kZXhlcy5wdXNoKGluZGV4KTsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGRGdW5jdGlvbihmdW5jLCBzaWcpIHsKICAgICAgcmV0dXJuIGFkZEZ1bmN0aW9uV2FzbShmdW5jLCBzaWcpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlbW92ZUZ1bmN0aW9uKGluZGV4KSB7CiAgICAgIHJlbW92ZUZ1bmN0aW9uV2FzbShpbmRleCk7CiAgICB9CgogICAgdmFyIHRlbXBSZXQwID0gMDsKCiAgICB2YXIgc2V0VGVtcFJldDAgPSBmdW5jdGlvbiBzZXRUZW1wUmV0MCh2YWx1ZSkgewogICAgICB0ZW1wUmV0MCA9IHZhbHVlOwogICAgfTsKCiAgICB2YXIgZ2V0VGVtcFJldDAgPSBmdW5jdGlvbiBnZXRUZW1wUmV0MCgpIHsKICAgICAgcmV0dXJuIHRlbXBSZXQwOwogICAgfTsKCiAgICB2YXIgd2FzbUJpbmFyeTsKICAgIGlmIChNb2R1bGVbIndhc21CaW5hcnkiXSkgd2FzbUJpbmFyeSA9IE1vZHVsZVsid2FzbUJpbmFyeSJdOwogICAgdmFyIG5vRXhpdFJ1bnRpbWU7CiAgICBpZiAoTW9kdWxlWyJub0V4aXRSdW50aW1lIl0pIG5vRXhpdFJ1bnRpbWUgPSBNb2R1bGVbIm5vRXhpdFJ1bnRpbWUiXTsKCiAgICBpZiAoKHR5cGVvZiBXZWJBc3NlbWJseSA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YoV2ViQXNzZW1ibHkpKSAhPT0gIm9iamVjdCIpIHsKICAgICAgZXJyKCJubyBuYXRpdmUgd2FzbSBzdXBwb3J0IGRldGVjdGVkIik7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0VmFsdWUocHRyLCB2YWx1ZSwgdHlwZSwgbm9TYWZlKSB7CiAgICAgIHR5cGUgPSB0eXBlIHx8ICJpOCI7CiAgICAgIGlmICh0eXBlLmNoYXJBdCh0eXBlLmxlbmd0aCAtIDEpID09PSAiKiIpIHR5cGUgPSAiaTMyIjsKCiAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgIGNhc2UgImkxIjoKICAgICAgICAgIEhFQVA4W3B0ciA+PiAwXSA9IHZhbHVlOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgImk4IjoKICAgICAgICAgIEhFQVA4W3B0ciA+PiAwXSA9IHZhbHVlOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgImkxNiI6CiAgICAgICAgICBIRUFQMTZbcHRyID4+IDFdID0gdmFsdWU7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiaTMyIjoKICAgICAgICAgIEhFQVAzMltwdHIgPj4gMl0gPSB2YWx1ZTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJpNjQiOgogICAgICAgICAgdGVtcEk2NCA9IFt2YWx1ZSA+Pj4gMCwgKHRlbXBEb3VibGUgPSB2YWx1ZSwgK01hdGhfYWJzKHRlbXBEb3VibGUpID49IDEgPyB0ZW1wRG91YmxlID4gMCA/IChNYXRoX21pbigrTWF0aF9mbG9vcih0ZW1wRG91YmxlIC8gNDI5NDk2NzI5NiksIDQyOTQ5NjcyOTUpIHwgMCkgPj4+IDAgOiB+fitNYXRoX2NlaWwoKHRlbXBEb3VibGUgLSArKH5+dGVtcERvdWJsZSA+Pj4gMCkpIC8gNDI5NDk2NzI5NikgPj4+IDAgOiAwKV0sIEhFQVAzMltwdHIgPj4gMl0gPSB0ZW1wSTY0WzBdLCBIRUFQMzJbcHRyICsgNCA+PiAyXSA9IHRlbXBJNjRbMV07CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiZmxvYXQiOgogICAgICAgICAgSEVBUEYzMltwdHIgPj4gMl0gPSB2YWx1ZTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJkb3VibGUiOgogICAgICAgICAgSEVBUEY2NFtwdHIgPj4gM10gPSB2YWx1ZTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgYWJvcnQoImludmFsaWQgdHlwZSBmb3Igc2V0VmFsdWU6ICIgKyB0eXBlKTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGdldFZhbHVlKHB0ciwgdHlwZSwgbm9TYWZlKSB7CiAgICAgIHR5cGUgPSB0eXBlIHx8ICJpOCI7CiAgICAgIGlmICh0eXBlLmNoYXJBdCh0eXBlLmxlbmd0aCAtIDEpID09PSAiKiIpIHR5cGUgPSAiaTMyIjsKCiAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgIGNhc2UgImkxIjoKICAgICAgICAgIHJldHVybiBIRUFQOFtwdHIgPj4gMF07CgogICAgICAgIGNhc2UgImk4IjoKICAgICAgICAgIHJldHVybiBIRUFQOFtwdHIgPj4gMF07CgogICAgICAgIGNhc2UgImkxNiI6CiAgICAgICAgICByZXR1cm4gSEVBUDE2W3B0ciA+PiAxXTsKCiAgICAgICAgY2FzZSAiaTMyIjoKICAgICAgICAgIHJldHVybiBIRUFQMzJbcHRyID4+IDJdOwoKICAgICAgICBjYXNlICJpNjQiOgogICAgICAgICAgcmV0dXJuIEhFQVAzMltwdHIgPj4gMl07CgogICAgICAgIGNhc2UgImZsb2F0IjoKICAgICAgICAgIHJldHVybiBIRUFQRjMyW3B0ciA+PiAyXTsKCiAgICAgICAgY2FzZSAiZG91YmxlIjoKICAgICAgICAgIHJldHVybiBIRUFQRjY0W3B0ciA+PiAzXTsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGFib3J0KCJpbnZhbGlkIHR5cGUgZm9yIGdldFZhbHVlOiAiICsgdHlwZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIHZhciB3YXNtTWVtb3J5OwogICAgdmFyIHdhc21UYWJsZSA9IG5ldyBXZWJBc3NlbWJseS5UYWJsZSh7CiAgICAgICJpbml0aWFsIjogNDQ4LAogICAgICAiZWxlbWVudCI6ICJhbnlmdW5jIgogICAgfSk7CiAgICB2YXIgQUJPUlQgPSBmYWxzZTsKICAgIHZhciBFWElUU1RBVFVTID0gMDsKCiAgICBmdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLCB0ZXh0KSB7CiAgICAgIGlmICghY29uZGl0aW9uKSB7CiAgICAgICAgYWJvcnQoIkFzc2VydGlvbiBmYWlsZWQ6ICIgKyB0ZXh0KTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGdldENGdW5jKGlkZW50KSB7CiAgICAgIHZhciBmdW5jID0gTW9kdWxlWyJfIiArIGlkZW50XTsKICAgICAgYXNzZXJ0KGZ1bmMsICJDYW5ub3QgY2FsbCB1bmtub3duIGZ1bmN0aW9uICIgKyBpZGVudCArICIsIG1ha2Ugc3VyZSBpdCBpcyBleHBvcnRlZCIpOwogICAgICByZXR1cm4gZnVuYzsKICAgIH0KCiAgICBmdW5jdGlvbiBjY2FsbChpZGVudCwgcmV0dXJuVHlwZSwgYXJnVHlwZXMsIGFyZ3MsIG9wdHMpIHsKICAgICAgdmFyIHRvQyA9IHsKICAgICAgICAic3RyaW5nIjogZnVuY3Rpb24gc3RyaW5nKHN0cikgewogICAgICAgICAgdmFyIHJldCA9IDA7CgogICAgICAgICAgaWYgKHN0ciAhPT0gbnVsbCAmJiBzdHIgIT09IHVuZGVmaW5lZCAmJiBzdHIgIT09IDApIHsKICAgICAgICAgICAgdmFyIGxlbiA9IChzdHIubGVuZ3RoIDw8IDIpICsgMTsKICAgICAgICAgICAgcmV0ID0gc3RhY2tBbGxvYyhsZW4pOwogICAgICAgICAgICBzdHJpbmdUb1VURjgoc3RyLCByZXQsIGxlbik7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHJldDsKICAgICAgICB9LAogICAgICAgICJhcnJheSI6IGZ1bmN0aW9uIGFycmF5KGFycikgewogICAgICAgICAgdmFyIHJldCA9IHN0YWNrQWxsb2MoYXJyLmxlbmd0aCk7CiAgICAgICAgICB3cml0ZUFycmF5VG9NZW1vcnkoYXJyLCByZXQpOwogICAgICAgICAgcmV0dXJuIHJldDsKICAgICAgICB9CiAgICAgIH07CgogICAgICBmdW5jdGlvbiBjb252ZXJ0UmV0dXJuVmFsdWUocmV0KSB7CiAgICAgICAgaWYgKHJldHVyblR5cGUgPT09ICJzdHJpbmciKSByZXR1cm4gVVRGOFRvU3RyaW5nKHJldCk7CiAgICAgICAgaWYgKHJldHVyblR5cGUgPT09ICJib29sZWFuIikgcmV0dXJuIEJvb2xlYW4ocmV0KTsKICAgICAgICByZXR1cm4gcmV0OwogICAgICB9CgogICAgICB2YXIgZnVuYyA9IGdldENGdW5jKGlkZW50KTsKICAgICAgdmFyIGNBcmdzID0gW107CiAgICAgIHZhciBzdGFjayA9IDA7CgogICAgICBpZiAoYXJncykgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIGNvbnZlcnRlciA9IHRvQ1thcmdUeXBlc1tpXV07CgogICAgICAgICAgaWYgKGNvbnZlcnRlcikgewogICAgICAgICAgICBpZiAoc3RhY2sgPT09IDApIHN0YWNrID0gc3RhY2tTYXZlKCk7CiAgICAgICAgICAgIGNBcmdzW2ldID0gY29udmVydGVyKGFyZ3NbaV0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY0FyZ3NbaV0gPSBhcmdzW2ldOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIHJldCA9IGZ1bmMuYXBwbHkobnVsbCwgY0FyZ3MpOwogICAgICByZXQgPSBjb252ZXJ0UmV0dXJuVmFsdWUocmV0KTsKICAgICAgaWYgKHN0YWNrICE9PSAwKSBzdGFja1Jlc3RvcmUoc3RhY2spOwogICAgICByZXR1cm4gcmV0OwogICAgfQoKICAgIGZ1bmN0aW9uIGN3cmFwKGlkZW50LCByZXR1cm5UeXBlLCBhcmdUeXBlcywgb3B0cykgewogICAgICBhcmdUeXBlcyA9IGFyZ1R5cGVzIHx8IFtdOwogICAgICB2YXIgbnVtZXJpY0FyZ3MgPSBhcmdUeXBlcy5ldmVyeShmdW5jdGlvbiAodHlwZSkgewogICAgICAgIHJldHVybiB0eXBlID09PSAibnVtYmVyIjsKICAgICAgfSk7CiAgICAgIHZhciBudW1lcmljUmV0ID0gcmV0dXJuVHlwZSAhPT0gInN0cmluZyI7CgogICAgICBpZiAobnVtZXJpY1JldCAmJiBudW1lcmljQXJncyAmJiAhb3B0cykgewogICAgICAgIHJldHVybiBnZXRDRnVuYyhpZGVudCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGNjYWxsKGlkZW50LCByZXR1cm5UeXBlLCBhcmdUeXBlcywgYXJndW1lbnRzLCBvcHRzKTsKICAgICAgfTsKICAgIH0KCiAgICB2YXIgQUxMT0NfTk9STUFMID0gMDsKICAgIHZhciBBTExPQ19OT05FID0gMzsKCiAgICBmdW5jdGlvbiBhbGxvY2F0ZShzbGFiLCB0eXBlcywgYWxsb2NhdG9yLCBwdHIpIHsKICAgICAgdmFyIHplcm9pbml0LCBzaXplOwoKICAgICAgaWYgKHR5cGVvZiBzbGFiID09PSAibnVtYmVyIikgewogICAgICAgIHplcm9pbml0ID0gdHJ1ZTsKICAgICAgICBzaXplID0gc2xhYjsKICAgICAgfSBlbHNlIHsKICAgICAgICB6ZXJvaW5pdCA9IGZhbHNlOwogICAgICAgIHNpemUgPSBzbGFiLmxlbmd0aDsKICAgICAgfQoKICAgICAgdmFyIHNpbmdsZVR5cGUgPSB0eXBlb2YgdHlwZXMgPT09ICJzdHJpbmciID8gdHlwZXMgOiBudWxsOwogICAgICB2YXIgcmV0OwoKICAgICAgaWYgKGFsbG9jYXRvciA9PSBBTExPQ19OT05FKSB7CiAgICAgICAgcmV0ID0gcHRyOwogICAgICB9IGVsc2UgewogICAgICAgIHJldCA9IFtfbWFsbG9jLCBzdGFja0FsbG9jLCBkeW5hbWljQWxsb2NdW2FsbG9jYXRvcl0oTWF0aC5tYXgoc2l6ZSwgc2luZ2xlVHlwZSA/IDEgOiB0eXBlcy5sZW5ndGgpKTsKICAgICAgfQoKICAgICAgaWYgKHplcm9pbml0KSB7CiAgICAgICAgdmFyIHN0b3A7CiAgICAgICAgcHRyID0gcmV0OwogICAgICAgIGFzc2VydCgocmV0ICYgMykgPT0gMCk7CiAgICAgICAgc3RvcCA9IHJldCArIChzaXplICYgfjMpOwoKICAgICAgICBmb3IgKDsgcHRyIDwgc3RvcDsgcHRyICs9IDQpIHsKICAgICAgICAgIEhFQVAzMltwdHIgPj4gMl0gPSAwOwogICAgICAgIH0KCiAgICAgICAgc3RvcCA9IHJldCArIHNpemU7CgogICAgICAgIHdoaWxlIChwdHIgPCBzdG9wKSB7CiAgICAgICAgICBIRUFQOFtwdHIrKyA+PiAwXSA9IDA7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmV0OwogICAgICB9CgogICAgICBpZiAoc2luZ2xlVHlwZSA9PT0gImk4IikgewogICAgICAgIGlmIChzbGFiLnN1YmFycmF5IHx8IHNsYWIuc2xpY2UpIHsKICAgICAgICAgIEhFQVBVOC5zZXQoc2xhYiwgcmV0KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgSEVBUFU4LnNldChuZXcgVWludDhBcnJheShzbGFiKSwgcmV0KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiByZXQ7CiAgICAgIH0KCiAgICAgIHZhciBpID0gMCwKICAgICAgICAgIHR5cGUsCiAgICAgICAgICB0eXBlU2l6ZSwKICAgICAgICAgIHByZXZpb3VzVHlwZTsKCiAgICAgIHdoaWxlIChpIDwgc2l6ZSkgewogICAgICAgIHZhciBjdXJyID0gc2xhYltpXTsKICAgICAgICB0eXBlID0gc2luZ2xlVHlwZSB8fCB0eXBlc1tpXTsKCiAgICAgICAgaWYgKHR5cGUgPT09IDApIHsKICAgICAgICAgIGkrKzsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKHR5cGUgPT0gImk2NCIpIHR5cGUgPSAiaTMyIjsKICAgICAgICBzZXRWYWx1ZShyZXQgKyBpLCBjdXJyLCB0eXBlKTsKCiAgICAgICAgaWYgKHByZXZpb3VzVHlwZSAhPT0gdHlwZSkgewogICAgICAgICAgdHlwZVNpemUgPSBnZXROYXRpdmVUeXBlU2l6ZSh0eXBlKTsKICAgICAgICAgIHByZXZpb3VzVHlwZSA9IHR5cGU7CiAgICAgICAgfQoKICAgICAgICBpICs9IHR5cGVTaXplOwogICAgICB9CgogICAgICByZXR1cm4gcmV0OwogICAgfQoKICAgIHZhciBVVEY4RGVjb2RlciA9IHR5cGVvZiBUZXh0RGVjb2RlciAhPT0gInVuZGVmaW5lZCIgPyBuZXcgVGV4dERlY29kZXIoInV0ZjgiKSA6IHVuZGVmaW5lZDsKCiAgICBmdW5jdGlvbiBVVEY4QXJyYXlUb1N0cmluZyhoZWFwLCBpZHgsIG1heEJ5dGVzVG9SZWFkKSB7CiAgICAgIHZhciBlbmRJZHggPSBpZHggKyBtYXhCeXRlc1RvUmVhZDsKICAgICAgdmFyIGVuZFB0ciA9IGlkeDsKCiAgICAgIHdoaWxlIChoZWFwW2VuZFB0cl0gJiYgIShlbmRQdHIgPj0gZW5kSWR4KSkgewogICAgICAgICsrZW5kUHRyOwogICAgICB9CgogICAgICBpZiAoZW5kUHRyIC0gaWR4ID4gMTYgJiYgaGVhcC5zdWJhcnJheSAmJiBVVEY4RGVjb2RlcikgewogICAgICAgIHJldHVybiBVVEY4RGVjb2Rlci5kZWNvZGUoaGVhcC5zdWJhcnJheShpZHgsIGVuZFB0cikpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBzdHIgPSAiIjsKCiAgICAgICAgd2hpbGUgKGlkeCA8IGVuZFB0cikgewogICAgICAgICAgdmFyIHUwID0gaGVhcFtpZHgrK107CgogICAgICAgICAgaWYgKCEodTAgJiAxMjgpKSB7CiAgICAgICAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHUwKTsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIHUxID0gaGVhcFtpZHgrK10gJiA2MzsKCiAgICAgICAgICBpZiAoKHUwICYgMjI0KSA9PSAxOTIpIHsKICAgICAgICAgICAgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKHUwICYgMzEpIDw8IDYgfCB1MSk7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciB1MiA9IGhlYXBbaWR4KytdICYgNjM7CgogICAgICAgICAgaWYgKCh1MCAmIDI0MCkgPT0gMjI0KSB7CiAgICAgICAgICAgIHUwID0gKHUwICYgMTUpIDw8IDEyIHwgdTEgPDwgNiB8IHUyOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdTAgPSAodTAgJiA3KSA8PCAxOCB8IHUxIDw8IDEyIHwgdTIgPDwgNiB8IGhlYXBbaWR4KytdICYgNjM7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHUwIDwgNjU1MzYpIHsKICAgICAgICAgICAgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodTApOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFyIGNoID0gdTAgLSA2NTUzNjsKICAgICAgICAgICAgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTYgfCBjaCA+PiAxMCwgNTYzMjAgfCBjaCAmIDEwMjMpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHN0cjsKICAgIH0KCiAgICBmdW5jdGlvbiBVVEY4VG9TdHJpbmcocHRyLCBtYXhCeXRlc1RvUmVhZCkgewogICAgICByZXR1cm4gcHRyID8gVVRGOEFycmF5VG9TdHJpbmcoSEVBUFU4LCBwdHIsIG1heEJ5dGVzVG9SZWFkKSA6ICIiOwogICAgfQoKICAgIGZ1bmN0aW9uIHN0cmluZ1RvVVRGOEFycmF5KHN0ciwgaGVhcCwgb3V0SWR4LCBtYXhCeXRlc1RvV3JpdGUpIHsKICAgICAgaWYgKCEobWF4Qnl0ZXNUb1dyaXRlID4gMCkpIHJldHVybiAwOwogICAgICB2YXIgc3RhcnRJZHggPSBvdXRJZHg7CiAgICAgIHZhciBlbmRJZHggPSBvdXRJZHggKyBtYXhCeXRlc1RvV3JpdGUgLSAxOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHsKICAgICAgICB2YXIgdSA9IHN0ci5jaGFyQ29kZUF0KGkpOwoKICAgICAgICBpZiAodSA+PSA1NTI5NiAmJiB1IDw9IDU3MzQzKSB7CiAgICAgICAgICB2YXIgdTEgPSBzdHIuY2hhckNvZGVBdCgrK2kpOwogICAgICAgICAgdSA9IDY1NTM2ICsgKCh1ICYgMTAyMykgPDwgMTApIHwgdTEgJiAxMDIzOwogICAgICAgIH0KCiAgICAgICAgaWYgKHUgPD0gMTI3KSB7CiAgICAgICAgICBpZiAob3V0SWR4ID49IGVuZElkeCkgYnJlYWs7CiAgICAgICAgICBoZWFwW291dElkeCsrXSA9IHU7CiAgICAgICAgfSBlbHNlIGlmICh1IDw9IDIwNDcpIHsKICAgICAgICAgIGlmIChvdXRJZHggKyAxID49IGVuZElkeCkgYnJlYWs7CiAgICAgICAgICBoZWFwW291dElkeCsrXSA9IDE5MiB8IHUgPj4gNjsKICAgICAgICAgIGhlYXBbb3V0SWR4KytdID0gMTI4IHwgdSAmIDYzOwogICAgICAgIH0gZWxzZSBpZiAodSA8PSA2NTUzNSkgewogICAgICAgICAgaWYgKG91dElkeCArIDIgPj0gZW5kSWR4KSBicmVhazsKICAgICAgICAgIGhlYXBbb3V0SWR4KytdID0gMjI0IHwgdSA+PiAxMjsKICAgICAgICAgIGhlYXBbb3V0SWR4KytdID0gMTI4IHwgdSA+PiA2ICYgNjM7CiAgICAgICAgICBoZWFwW291dElkeCsrXSA9IDEyOCB8IHUgJiA2MzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKG91dElkeCArIDMgPj0gZW5kSWR4KSBicmVhazsKICAgICAgICAgIGhlYXBbb3V0SWR4KytdID0gMjQwIHwgdSA+PiAxODsKICAgICAgICAgIGhlYXBbb3V0SWR4KytdID0gMTI4IHwgdSA+PiAxMiAmIDYzOwogICAgICAgICAgaGVhcFtvdXRJZHgrK10gPSAxMjggfCB1ID4+IDYgJiA2MzsKICAgICAgICAgIGhlYXBbb3V0SWR4KytdID0gMTI4IHwgdSAmIDYzOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaGVhcFtvdXRJZHhdID0gMDsKICAgICAgcmV0dXJuIG91dElkeCAtIHN0YXJ0SWR4OwogICAgfQoKICAgIGZ1bmN0aW9uIHN0cmluZ1RvVVRGOChzdHIsIG91dFB0ciwgbWF4Qnl0ZXNUb1dyaXRlKSB7CiAgICAgIHJldHVybiBzdHJpbmdUb1VURjhBcnJheShzdHIsIEhFQVBVOCwgb3V0UHRyLCBtYXhCeXRlc1RvV3JpdGUpOwogICAgfQoKICAgIGZ1bmN0aW9uIGxlbmd0aEJ5dGVzVVRGOChzdHIpIHsKICAgICAgdmFyIGxlbiA9IDA7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkgewogICAgICAgIHZhciB1ID0gc3RyLmNoYXJDb2RlQXQoaSk7CiAgICAgICAgaWYgKHUgPj0gNTUyOTYgJiYgdSA8PSA1NzM0MykgdSA9IDY1NTM2ICsgKCh1ICYgMTAyMykgPDwgMTApIHwgc3RyLmNoYXJDb2RlQXQoKytpKSAmIDEwMjM7CiAgICAgICAgaWYgKHUgPD0gMTI3KSArK2xlbjtlbHNlIGlmICh1IDw9IDIwNDcpIGxlbiArPSAyO2Vsc2UgaWYgKHUgPD0gNjU1MzUpIGxlbiArPSAzO2Vsc2UgbGVuICs9IDQ7CiAgICAgIH0KCiAgICAgIHJldHVybiBsZW47CiAgICB9CgogICAgZnVuY3Rpb24gd3JpdGVBcnJheVRvTWVtb3J5KGFycmF5LCBidWZmZXIpIHsKICAgICAgSEVBUDguc2V0KGFycmF5LCBidWZmZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIHdyaXRlQXNjaWlUb01lbW9yeShzdHIsIGJ1ZmZlciwgZG9udEFkZE51bGwpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHsKICAgICAgICBIRUFQOFtidWZmZXIrKyA+PiAwXSA9IHN0ci5jaGFyQ29kZUF0KGkpOwogICAgICB9CgogICAgICBpZiAoIWRvbnRBZGROdWxsKSBIRUFQOFtidWZmZXIgPj4gMF0gPSAwOwogICAgfQoKICAgIHZhciBXQVNNX1BBR0VfU0laRSA9IDY1NTM2OwoKICAgIGZ1bmN0aW9uIGFsaWduVXAoeCwgbXVsdGlwbGUpIHsKICAgICAgaWYgKHggJSBtdWx0aXBsZSA+IDApIHsKICAgICAgICB4ICs9IG11bHRpcGxlIC0geCAlIG11bHRpcGxlOwogICAgICB9CgogICAgICByZXR1cm4geDsKICAgIH0KCiAgICB2YXIgYnVmZmVyLCBIRUFQOCwgSEVBUFU4LCBIRUFQMTYsIEhFQVBVMTYsIEhFQVAzMiwgSEVBUFUzMiwgSEVBUEYzMiwgSEVBUEY2NDsKCiAgICBmdW5jdGlvbiB1cGRhdGVHbG9iYWxCdWZmZXJBbmRWaWV3cyhidWYpIHsKICAgICAgYnVmZmVyID0gYnVmOwogICAgICBNb2R1bGVbIkhFQVA4Il0gPSBIRUFQOCA9IG5ldyBJbnQ4QXJyYXkoYnVmKTsKICAgICAgTW9kdWxlWyJIRUFQMTYiXSA9IEhFQVAxNiA9IG5ldyBJbnQxNkFycmF5KGJ1Zik7CiAgICAgIE1vZHVsZVsiSEVBUDMyIl0gPSBIRUFQMzIgPSBuZXcgSW50MzJBcnJheShidWYpOwogICAgICBNb2R1bGVbIkhFQVBVOCJdID0gSEVBUFU4ID0gbmV3IFVpbnQ4QXJyYXkoYnVmKTsKICAgICAgTW9kdWxlWyJIRUFQVTE2Il0gPSBIRUFQVTE2ID0gbmV3IFVpbnQxNkFycmF5KGJ1Zik7CiAgICAgIE1vZHVsZVsiSEVBUFUzMiJdID0gSEVBUFUzMiA9IG5ldyBVaW50MzJBcnJheShidWYpOwogICAgICBNb2R1bGVbIkhFQVBGMzIiXSA9IEhFQVBGMzIgPSBuZXcgRmxvYXQzMkFycmF5KGJ1Zik7CiAgICAgIE1vZHVsZVsiSEVBUEY2NCJdID0gSEVBUEY2NCA9IG5ldyBGbG9hdDY0QXJyYXkoYnVmKTsKICAgIH0KCiAgICB2YXIgRFlOQU1JQ19CQVNFID0gNTgwNzA4OCwKICAgICAgICBEWU5BTUlDVE9QX1BUUiA9IDU2NDA0ODsKICAgIHZhciBJTklUSUFMX0lOSVRJQUxfTUVNT1JZID0gTW9kdWxlWyJJTklUSUFMX01FTU9SWSJdIHx8IDE2Nzc3MjE2OwoKICAgIGlmIChNb2R1bGVbIndhc21NZW1vcnkiXSkgewogICAgICB3YXNtTWVtb3J5ID0gTW9kdWxlWyJ3YXNtTWVtb3J5Il07CiAgICB9IGVsc2UgewogICAgICB3YXNtTWVtb3J5ID0gbmV3IFdlYkFzc2VtYmx5Lk1lbW9yeSh7CiAgICAgICAgImluaXRpYWwiOiBJTklUSUFMX0lOSVRJQUxfTUVNT1JZIC8gV0FTTV9QQUdFX1NJWkUsCiAgICAgICAgIm1heGltdW0iOiAyMTQ3NDgzNjQ4IC8gV0FTTV9QQUdFX1NJWkUKICAgICAgfSk7CiAgICB9CgogICAgaWYgKHdhc21NZW1vcnkpIHsKICAgICAgYnVmZmVyID0gd2FzbU1lbW9yeS5idWZmZXI7CiAgICB9CgogICAgSU5JVElBTF9JTklUSUFMX01FTU9SWSA9IGJ1ZmZlci5ieXRlTGVuZ3RoOwogICAgdXBkYXRlR2xvYmFsQnVmZmVyQW5kVmlld3MoYnVmZmVyKTsKICAgIEhFQVAzMltEWU5BTUlDVE9QX1BUUiA+PiAyXSA9IERZTkFNSUNfQkFTRTsKCiAgICBmdW5jdGlvbiBjYWxsUnVudGltZUNhbGxiYWNrcyhjYWxsYmFja3MpIHsKICAgICAgd2hpbGUgKGNhbGxiYWNrcy5sZW5ndGggPiAwKSB7CiAgICAgICAgdmFyIGNhbGxiYWNrID0gY2FsbGJhY2tzLnNoaWZ0KCk7CgogICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgY2FsbGJhY2soTW9kdWxlKTsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KCiAgICAgICAgdmFyIGZ1bmMgPSBjYWxsYmFjay5mdW5jOwoKICAgICAgICBpZiAodHlwZW9mIGZ1bmMgPT09ICJudW1iZXIiKSB7CiAgICAgICAgICBpZiAoY2FsbGJhY2suYXJnID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgTW9kdWxlWyJkeW5DYWxsX3YiXShmdW5jKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIE1vZHVsZVsiZHluQ2FsbF92aSJdKGZ1bmMsIGNhbGxiYWNrLmFyZyk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZ1bmMoY2FsbGJhY2suYXJnID09PSB1bmRlZmluZWQgPyBudWxsIDogY2FsbGJhY2suYXJnKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICB2YXIgX19BVFBSRVJVTl9fID0gW107CiAgICB2YXIgX19BVElOSVRfXyA9IFtdOwogICAgdmFyIF9fQVRNQUlOX18gPSBbXTsKICAgIHZhciBfX0FUUE9TVFJVTl9fID0gW107CiAgICB2YXIgcnVudGltZUluaXRpYWxpemVkID0gZmFsc2U7CiAgICB2YXIgcnVudGltZUV4aXRlZCA9IGZhbHNlOwoKICAgIGZ1bmN0aW9uIHByZVJ1bigpIHsKICAgICAgaWYgKE1vZHVsZVsicHJlUnVuIl0pIHsKICAgICAgICBpZiAodHlwZW9mIE1vZHVsZVsicHJlUnVuIl0gPT0gImZ1bmN0aW9uIikgTW9kdWxlWyJwcmVSdW4iXSA9IFtNb2R1bGVbInByZVJ1biJdXTsKCiAgICAgICAgd2hpbGUgKE1vZHVsZVsicHJlUnVuIl0ubGVuZ3RoKSB7CiAgICAgICAgICBhZGRPblByZVJ1bihNb2R1bGVbInByZVJ1biJdLnNoaWZ0KCkpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgY2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVFBSRVJVTl9fKTsKICAgIH0KCiAgICBmdW5jdGlvbiBpbml0UnVudGltZSgpIHsKICAgICAgcnVudGltZUluaXRpYWxpemVkID0gdHJ1ZTsKICAgICAgY2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVElOSVRfXyk7CiAgICB9CgogICAgZnVuY3Rpb24gcHJlTWFpbigpIHsKICAgICAgY2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVE1BSU5fXyk7CiAgICB9CgogICAgZnVuY3Rpb24gZXhpdFJ1bnRpbWUoKSB7CiAgICAgIHJ1bnRpbWVFeGl0ZWQgPSB0cnVlOwogICAgfQoKICAgIGZ1bmN0aW9uIHBvc3RSdW4oKSB7CiAgICAgIGlmIChNb2R1bGVbInBvc3RSdW4iXSkgewogICAgICAgIGlmICh0eXBlb2YgTW9kdWxlWyJwb3N0UnVuIl0gPT0gImZ1bmN0aW9uIikgTW9kdWxlWyJwb3N0UnVuIl0gPSBbTW9kdWxlWyJwb3N0UnVuIl1dOwoKICAgICAgICB3aGlsZSAoTW9kdWxlWyJwb3N0UnVuIl0ubGVuZ3RoKSB7CiAgICAgICAgICBhZGRPblBvc3RSdW4oTW9kdWxlWyJwb3N0UnVuIl0uc2hpZnQoKSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBjYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUUE9TVFJVTl9fKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGRPblByZVJ1bihjYikgewogICAgICBfX0FUUFJFUlVOX18udW5zaGlmdChjYik7CiAgICB9CgogICAgZnVuY3Rpb24gYWRkT25Qb3N0UnVuKGNiKSB7CiAgICAgIF9fQVRQT1NUUlVOX18udW5zaGlmdChjYik7CiAgICB9CgogICAgdmFyIE1hdGhfYWJzID0gTWF0aC5hYnM7CiAgICB2YXIgTWF0aF9jZWlsID0gTWF0aC5jZWlsOwogICAgdmFyIE1hdGhfZmxvb3IgPSBNYXRoLmZsb29yOwogICAgdmFyIE1hdGhfbWluID0gTWF0aC5taW47CiAgICB2YXIgcnVuRGVwZW5kZW5jaWVzID0gMDsKICAgIHZhciBydW5EZXBlbmRlbmN5V2F0Y2hlciA9IG51bGw7CiAgICB2YXIgZGVwZW5kZW5jaWVzRnVsZmlsbGVkID0gbnVsbDsKCiAgICBmdW5jdGlvbiBnZXRVbmlxdWVSdW5EZXBlbmRlbmN5KGlkKSB7CiAgICAgIHJldHVybiBpZDsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGRSdW5EZXBlbmRlbmN5KGlkKSB7CiAgICAgIHJ1bkRlcGVuZGVuY2llcysrOwoKICAgICAgaWYgKE1vZHVsZVsibW9uaXRvclJ1bkRlcGVuZGVuY2llcyJdKSB7CiAgICAgICAgTW9kdWxlWyJtb25pdG9yUnVuRGVwZW5kZW5jaWVzIl0ocnVuRGVwZW5kZW5jaWVzKTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHJlbW92ZVJ1bkRlcGVuZGVuY3koaWQpIHsKICAgICAgcnVuRGVwZW5kZW5jaWVzLS07CgogICAgICBpZiAoTW9kdWxlWyJtb25pdG9yUnVuRGVwZW5kZW5jaWVzIl0pIHsKICAgICAgICBNb2R1bGVbIm1vbml0b3JSdW5EZXBlbmRlbmNpZXMiXShydW5EZXBlbmRlbmNpZXMpOwogICAgICB9CgogICAgICBpZiAocnVuRGVwZW5kZW5jaWVzID09IDApIHsKICAgICAgICBpZiAocnVuRGVwZW5kZW5jeVdhdGNoZXIgIT09IG51bGwpIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwocnVuRGVwZW5kZW5jeVdhdGNoZXIpOwogICAgICAgICAgcnVuRGVwZW5kZW5jeVdhdGNoZXIgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgaWYgKGRlcGVuZGVuY2llc0Z1bGZpbGxlZCkgewogICAgICAgICAgdmFyIGNhbGxiYWNrID0gZGVwZW5kZW5jaWVzRnVsZmlsbGVkOwogICAgICAgICAgZGVwZW5kZW5jaWVzRnVsZmlsbGVkID0gbnVsbDsKICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgTW9kdWxlWyJwcmVsb2FkZWRJbWFnZXMiXSA9IHt9OwogICAgTW9kdWxlWyJwcmVsb2FkZWRBdWRpb3MiXSA9IHt9OwoKICAgIGZ1bmN0aW9uIGFib3J0KHdoYXQpIHsKICAgICAgaWYgKE1vZHVsZVsib25BYm9ydCJdKSB7CiAgICAgICAgTW9kdWxlWyJvbkFib3J0Il0od2hhdCk7CiAgICAgIH0KCiAgICAgIHdoYXQgKz0gIiI7CiAgICAgIG91dCh3aGF0KTsKICAgICAgZXJyKHdoYXQpOwogICAgICBBQk9SVCA9IHRydWU7CiAgICAgIEVYSVRTVEFUVVMgPSAxOwogICAgICB3aGF0ID0gImFib3J0KCIgKyB3aGF0ICsgIikuIEJ1aWxkIHdpdGggLXMgQVNTRVJUSU9OUz0xIGZvciBtb3JlIGluZm8uIjsKICAgICAgdGhyb3cgbmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcih3aGF0KTsKICAgIH0KCiAgICBmdW5jdGlvbiBoYXNQcmVmaXgoc3RyLCBwcmVmaXgpIHsKICAgICAgcmV0dXJuIFN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aCA/IHN0ci5zdGFydHNXaXRoKHByZWZpeCkgOiBzdHIuaW5kZXhPZihwcmVmaXgpID09PSAwOwogICAgfQoKICAgIHZhciBkYXRhVVJJUHJlZml4ID0gImRhdGE6YXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtO2Jhc2U2NCwiOwoKICAgIGZ1bmN0aW9uIGlzRGF0YVVSSShmaWxlbmFtZSkgewogICAgICByZXR1cm4gaGFzUHJlZml4KGZpbGVuYW1lLCBkYXRhVVJJUHJlZml4KTsKICAgIH0KCiAgICB2YXIgZmlsZVVSSVByZWZpeCA9ICJmaWxlOi8vIjsKCiAgICBmdW5jdGlvbiBpc0ZpbGVVUkkoZmlsZW5hbWUpIHsKICAgICAgcmV0dXJuIGhhc1ByZWZpeChmaWxlbmFtZSwgZmlsZVVSSVByZWZpeCk7CiAgICB9CgogICAgdmFyIHdhc21CaW5hcnlGaWxlID0gInN0ZWxsYXJpdW0td2ViLWVuZ2luZS53YXNtIjsKCiAgICBpZiAoIWlzRGF0YVVSSSh3YXNtQmluYXJ5RmlsZSkpIHsKICAgICAgd2FzbUJpbmFyeUZpbGUgPSBsb2NhdGVGaWxlKHdhc21CaW5hcnlGaWxlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRCaW5hcnkoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgaWYgKHdhc21CaW5hcnkpIHsKICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh3YXNtQmluYXJ5KTsKICAgICAgICB9CgogICAgICAgIGlmIChyZWFkQmluYXJ5KSB7CiAgICAgICAgICByZXR1cm4gcmVhZEJpbmFyeSh3YXNtQmluYXJ5RmlsZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93ICJib3RoIGFzeW5jIGFuZCBzeW5jIGZldGNoaW5nIG9mIHRoZSB3YXNtIGZhaWxlZCI7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBhYm9ydChlcnIpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0QmluYXJ5UHJvbWlzZSgpIHsKICAgICAgaWYgKCF3YXNtQmluYXJ5ICYmIChFTlZJUk9OTUVOVF9JU19XRUIgfHwgRU5WSVJPTk1FTlRfSVNfV09SS0VSKSAmJiB0eXBlb2YgZmV0Y2ggPT09ICJmdW5jdGlvbiIgJiYgIWlzRmlsZVVSSSh3YXNtQmluYXJ5RmlsZSkpIHsKICAgICAgICByZXR1cm4gZmV0Y2god2FzbUJpbmFyeUZpbGUsIHsKICAgICAgICAgIGNyZWRlbnRpYWxzOiAic2FtZS1vcmlnaW4iCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmICghcmVzcG9uc2VbIm9rIl0pIHsKICAgICAgICAgICAgdGhyb3cgImZhaWxlZCB0byBsb2FkIHdhc20gYmluYXJ5IGZpbGUgYXQgJyIgKyB3YXNtQmluYXJ5RmlsZSArICInIjsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gcmVzcG9uc2VbImFycmF5QnVmZmVyIl0oKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gZ2V0QmluYXJ5KCk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgcmVzb2x2ZShnZXRCaW5hcnkoKSk7CiAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIGNyZWF0ZVdhc20oKSB7CiAgICAgIHZhciBpbmZvID0gewogICAgICAgICJhIjogYXNtTGlicmFyeUFyZwogICAgICB9OwoKICAgICAgZnVuY3Rpb24gcmVjZWl2ZUluc3RhbmNlKGluc3RhbmNlLCBtb2R1bGUpIHsKICAgICAgICB2YXIgZXhwb3J0cyA9IGluc3RhbmNlLmV4cG9ydHM7CiAgICAgICAgTW9kdWxlWyJhc20iXSA9IGV4cG9ydHM7CiAgICAgICAgcmVtb3ZlUnVuRGVwZW5kZW5jeSgid2FzbS1pbnN0YW50aWF0ZSIpOwogICAgICB9CgogICAgICBhZGRSdW5EZXBlbmRlbmN5KCJ3YXNtLWluc3RhbnRpYXRlIik7CgogICAgICBmdW5jdGlvbiByZWNlaXZlSW5zdGFudGlhdGVkU291cmNlKG91dHB1dCkgewogICAgICAgIHJlY2VpdmVJbnN0YW5jZShvdXRwdXRbImluc3RhbmNlIl0pOwogICAgICB9CgogICAgICBmdW5jdGlvbiBpbnN0YW50aWF0ZUFycmF5QnVmZmVyKHJlY2VpdmVyKSB7CiAgICAgICAgcmV0dXJuIGdldEJpbmFyeVByb21pc2UoKS50aGVuKGZ1bmN0aW9uIChiaW5hcnkpIHsKICAgICAgICAgIHJldHVybiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShiaW5hcnksIGluZm8pOwogICAgICAgIH0pLnRoZW4ocmVjZWl2ZXIsIGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgIGVycigiZmFpbGVkIHRvIGFzeW5jaHJvbm91c2x5IHByZXBhcmUgd2FzbTogIiArIHJlYXNvbik7CiAgICAgICAgICBhYm9ydChyZWFzb24pOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBmdW5jdGlvbiBpbnN0YW50aWF0ZUFzeW5jKCkgewogICAgICAgIGlmICghd2FzbUJpbmFyeSAmJiB0eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcgPT09ICJmdW5jdGlvbiIgJiYgIWlzRGF0YVVSSSh3YXNtQmluYXJ5RmlsZSkgJiYgIWlzRmlsZVVSSSh3YXNtQmluYXJ5RmlsZSkgJiYgdHlwZW9mIGZldGNoID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICBmZXRjaCh3YXNtQmluYXJ5RmlsZSwgewogICAgICAgICAgICBjcmVkZW50aWFsczogInNhbWUtb3JpZ2luIgogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKHJlc3BvbnNlLCBpbmZvKTsKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKHJlY2VpdmVJbnN0YW50aWF0ZWRTb3VyY2UsIGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgICAgICBlcnIoIndhc20gc3RyZWFtaW5nIGNvbXBpbGUgZmFpbGVkOiAiICsgcmVhc29uKTsKICAgICAgICAgICAgICBlcnIoImZhbGxpbmcgYmFjayB0byBBcnJheUJ1ZmZlciBpbnN0YW50aWF0aW9uIik7CiAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbnRpYXRlQXJyYXlCdWZmZXIocmVjZWl2ZUluc3RhbnRpYXRlZFNvdXJjZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBpbnN0YW50aWF0ZUFycmF5QnVmZmVyKHJlY2VpdmVJbnN0YW50aWF0ZWRTb3VyY2UpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKE1vZHVsZVsiaW5zdGFudGlhdGVXYXNtIl0pIHsKICAgICAgICB0cnkgewogICAgICAgICAgdmFyIGV4cG9ydHMgPSBNb2R1bGVbImluc3RhbnRpYXRlV2FzbSJdKGluZm8sIHJlY2VpdmVJbnN0YW5jZSk7CiAgICAgICAgICByZXR1cm4gZXhwb3J0czsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICBlcnIoIk1vZHVsZS5pbnN0YW50aWF0ZVdhc20gY2FsbGJhY2sgZmFpbGVkIHdpdGggZXJyb3I6ICIgKyBlKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGluc3RhbnRpYXRlQXN5bmMoKTsKICAgICAgcmV0dXJuIHt9OwogICAgfQoKICAgIHZhciB0ZW1wRG91YmxlOwogICAgdmFyIHRlbXBJNjQ7CgogICAgX19BVElOSVRfXy5wdXNoKHsKICAgICAgZnVuYzogZnVuY3Rpb24gZnVuYygpIHsKICAgICAgICBfX193YXNtX2NhbGxfY3RvcnMoKTsKICAgICAgfQogICAgfSk7CgogICAgZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fc2V0X21haW5fbG9vcF90aW1pbmcobW9kZSwgdmFsdWUpIHsKICAgICAgQnJvd3Nlci5tYWluTG9vcC50aW1pbmdNb2RlID0gbW9kZTsKICAgICAgQnJvd3Nlci5tYWluTG9vcC50aW1pbmdWYWx1ZSA9IHZhbHVlOwoKICAgICAgaWYgKCFCcm93c2VyLm1haW5Mb29wLmZ1bmMpIHsKICAgICAgICByZXR1cm4gMTsKICAgICAgfQoKICAgICAgaWYgKG1vZGUgPT0gMCkgewogICAgICAgIEJyb3dzZXIubWFpbkxvb3Auc2NoZWR1bGVyID0gZnVuY3Rpb24gQnJvd3Nlcl9tYWluTG9vcF9zY2hlZHVsZXJfc2V0VGltZW91dCgpIHsKICAgICAgICAgIHZhciB0aW1lVW50aWxOZXh0VGljayA9IE1hdGgubWF4KDAsIEJyb3dzZXIubWFpbkxvb3AudGlja1N0YXJ0VGltZSArIHZhbHVlIC0gX2Vtc2NyaXB0ZW5fZ2V0X25vdygpKSB8IDA7CiAgICAgICAgICBzZXRUaW1lb3V0KEJyb3dzZXIubWFpbkxvb3AucnVubmVyLCB0aW1lVW50aWxOZXh0VGljayk7CiAgICAgICAgfTsKCiAgICAgICAgQnJvd3Nlci5tYWluTG9vcC5tZXRob2QgPSAidGltZW91dCI7CiAgICAgIH0gZWxzZSBpZiAobW9kZSA9PSAxKSB7CiAgICAgICAgQnJvd3Nlci5tYWluTG9vcC5zY2hlZHVsZXIgPSBmdW5jdGlvbiBCcm93c2VyX21haW5Mb29wX3NjaGVkdWxlcl9yQUYoKSB7CiAgICAgICAgICBCcm93c2VyLnJlcXVlc3RBbmltYXRpb25GcmFtZShCcm93c2VyLm1haW5Mb29wLnJ1bm5lcik7CiAgICAgICAgfTsKCiAgICAgICAgQnJvd3Nlci5tYWluTG9vcC5tZXRob2QgPSAickFGIjsKICAgICAgfSBlbHNlIGlmIChtb2RlID09IDIpIHsKICAgICAgICBpZiAodHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgIHZhciBzZXRJbW1lZGlhdGVzID0gW107CiAgICAgICAgICB2YXIgZW1zY3JpcHRlbk1haW5Mb29wTWVzc2FnZUlkID0gInNldGltbWVkaWF0ZSI7CgogICAgICAgICAgdmFyIEJyb3dzZXJfc2V0SW1tZWRpYXRlX21lc3NhZ2VIYW5kbGVyID0gZnVuY3Rpb24gQnJvd3Nlcl9zZXRJbW1lZGlhdGVfbWVzc2FnZUhhbmRsZXIoZXZlbnQpIHsKICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEgPT09IGVtc2NyaXB0ZW5NYWluTG9vcE1lc3NhZ2VJZCB8fCBldmVudC5kYXRhLnRhcmdldCA9PT0gZW1zY3JpcHRlbk1haW5Mb29wTWVzc2FnZUlkKSB7CiAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlcy5zaGlmdCgpKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH07CgogICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsIEJyb3dzZXJfc2V0SW1tZWRpYXRlX21lc3NhZ2VIYW5kbGVyLCB0cnVlKTsKCiAgICAgICAgICBzZXRJbW1lZGlhdGUgPSBmdW5jdGlvbiBCcm93c2VyX2VtdWxhdGVkX3NldEltbWVkaWF0ZShmdW5jKSB7CiAgICAgICAgICAgIHNldEltbWVkaWF0ZXMucHVzaChmdW5jKTsKCiAgICAgICAgICAgIGlmIChFTlZJUk9OTUVOVF9JU19XT1JLRVIpIHsKICAgICAgICAgICAgICBpZiAoTW9kdWxlWyJzZXRJbW1lZGlhdGVzIl0gPT09IHVuZGVmaW5lZCkgTW9kdWxlWyJzZXRJbW1lZGlhdGVzIl0gPSBbXTsKICAgICAgICAgICAgICBNb2R1bGVbInNldEltbWVkaWF0ZXMiXS5wdXNoKGZ1bmMpOwogICAgICAgICAgICAgIHBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICAgIHRhcmdldDogZW1zY3JpcHRlbk1haW5Mb29wTWVzc2FnZUlkCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBwb3N0TWVzc2FnZShlbXNjcmlwdGVuTWFpbkxvb3BNZXNzYWdlSWQsICIqIik7CiAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgQnJvd3Nlci5tYWluTG9vcC5zY2hlZHVsZXIgPSBmdW5jdGlvbiBCcm93c2VyX21haW5Mb29wX3NjaGVkdWxlcl9zZXRJbW1lZGlhdGUoKSB7CiAgICAgICAgICBzZXRJbW1lZGlhdGUoQnJvd3Nlci5tYWluTG9vcC5ydW5uZXIpOwogICAgICAgIH07CgogICAgICAgIEJyb3dzZXIubWFpbkxvb3AubWV0aG9kID0gImltbWVkaWF0ZSI7CiAgICAgIH0KCiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIHZhciBfZW1zY3JpcHRlbl9nZXRfbm93OwoKICAgIGlmIChFTlZJUk9OTUVOVF9JU19OT0RFKSB7CiAgICAgIF9lbXNjcmlwdGVuX2dldF9ub3cgPSBmdW5jdGlvbiBfZW1zY3JpcHRlbl9nZXRfbm93KCkgewogICAgICAgIHZhciB0ID0gcHJvY2Vzc1siaHJ0aW1lIl0oKTsKICAgICAgICByZXR1cm4gdFswXSAqIDFlMyArIHRbMV0gLyAxZTY7CiAgICAgIH07CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRlTm93ICE9PSAidW5kZWZpbmVkIikgewogICAgICBfZW1zY3JpcHRlbl9nZXRfbm93ID0gZGF0ZU5vdzsKICAgIH0gZWxzZSBfZW1zY3JpcHRlbl9nZXRfbm93ID0gZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fZ2V0X25vdygpIHsKICAgICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpOwogICAgfTsKCiAgICBmdW5jdGlvbiBfZW1zY3JpcHRlbl9zZXRfbWFpbl9sb29wKGZ1bmMsIGZwcywgc2ltdWxhdGVJbmZpbml0ZUxvb3AsIGFyZywgbm9TZXRUaW1pbmcpIHsKICAgICAgbm9FeGl0UnVudGltZSA9IHRydWU7CiAgICAgIGFzc2VydCghQnJvd3Nlci5tYWluTG9vcC5mdW5jLCAiZW1zY3JpcHRlbl9zZXRfbWFpbl9sb29wOiB0aGVyZSBjYW4gb25seSBiZSBvbmUgbWFpbiBsb29wIGZ1bmN0aW9uIGF0IG9uY2U6IGNhbGwgZW1zY3JpcHRlbl9jYW5jZWxfbWFpbl9sb29wIHRvIGNhbmNlbCB0aGUgcHJldmlvdXMgb25lIGJlZm9yZSBzZXR0aW5nIGEgbmV3IG9uZSB3aXRoIGRpZmZlcmVudCBwYXJhbWV0ZXJzLiIpOwogICAgICBCcm93c2VyLm1haW5Mb29wLmZ1bmMgPSBmdW5jOwogICAgICBCcm93c2VyLm1haW5Mb29wLmFyZyA9IGFyZzsKICAgICAgdmFyIGJyb3dzZXJJdGVyYXRpb25GdW5jOwoKICAgICAgaWYgKHR5cGVvZiBhcmcgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgYnJvd3Nlckl0ZXJhdGlvbkZ1bmMgPSBmdW5jdGlvbiBicm93c2VySXRlcmF0aW9uRnVuYygpIHsKICAgICAgICAgIE1vZHVsZVsiZHluQ2FsbF92aSJdKGZ1bmMsIGFyZyk7CiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICBicm93c2VySXRlcmF0aW9uRnVuYyA9IGZ1bmN0aW9uIGJyb3dzZXJJdGVyYXRpb25GdW5jKCkgewogICAgICAgICAgTW9kdWxlWyJkeW5DYWxsX3YiXShmdW5jKTsKICAgICAgICB9OwogICAgICB9CgogICAgICB2YXIgdGhpc01haW5Mb29wSWQgPSBCcm93c2VyLm1haW5Mb29wLmN1cnJlbnRseVJ1bm5pbmdNYWlubG9vcDsKCiAgICAgIEJyb3dzZXIubWFpbkxvb3AucnVubmVyID0gZnVuY3Rpb24gQnJvd3Nlcl9tYWluTG9vcF9ydW5uZXIoKSB7CiAgICAgICAgaWYgKEFCT1JUKSByZXR1cm47CgogICAgICAgIGlmIChCcm93c2VyLm1haW5Mb29wLnF1ZXVlLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHZhciBzdGFydCA9IERhdGUubm93KCk7CiAgICAgICAgICB2YXIgYmxvY2tlciA9IEJyb3dzZXIubWFpbkxvb3AucXVldWUuc2hpZnQoKTsKICAgICAgICAgIGJsb2NrZXIuZnVuYyhibG9ja2VyLmFyZyk7CgogICAgICAgICAgaWYgKEJyb3dzZXIubWFpbkxvb3AucmVtYWluaW5nQmxvY2tlcnMpIHsKICAgICAgICAgICAgdmFyIHJlbWFpbmluZyA9IEJyb3dzZXIubWFpbkxvb3AucmVtYWluaW5nQmxvY2tlcnM7CiAgICAgICAgICAgIHZhciBuZXh0ID0gcmVtYWluaW5nICUgMSA9PSAwID8gcmVtYWluaW5nIC0gMSA6IE1hdGguZmxvb3IocmVtYWluaW5nKTsKCiAgICAgICAgICAgIGlmIChibG9ja2VyLmNvdW50ZWQpIHsKICAgICAgICAgICAgICBCcm93c2VyLm1haW5Mb29wLnJlbWFpbmluZ0Jsb2NrZXJzID0gbmV4dDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBuZXh0ID0gbmV4dCArIC41OwogICAgICAgICAgICAgIEJyb3dzZXIubWFpbkxvb3AucmVtYWluaW5nQmxvY2tlcnMgPSAoOCAqIHJlbWFpbmluZyArIG5leHQpIC8gOTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGNvbnNvbGUubG9nKCdtYWluIGxvb3AgYmxvY2tlciAiJyArIGJsb2NrZXIubmFtZSArICciIHRvb2sgJyArIChEYXRlLm5vdygpIC0gc3RhcnQpICsgIiBtcyIpOwogICAgICAgICAgQnJvd3Nlci5tYWluTG9vcC51cGRhdGVTdGF0dXMoKTsKICAgICAgICAgIGlmICh0aGlzTWFpbkxvb3BJZCA8IEJyb3dzZXIubWFpbkxvb3AuY3VycmVudGx5UnVubmluZ01haW5sb29wKSByZXR1cm47CiAgICAgICAgICBzZXRUaW1lb3V0KEJyb3dzZXIubWFpbkxvb3AucnVubmVyLCAwKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzTWFpbkxvb3BJZCA8IEJyb3dzZXIubWFpbkxvb3AuY3VycmVudGx5UnVubmluZ01haW5sb29wKSByZXR1cm47CiAgICAgICAgQnJvd3Nlci5tYWluTG9vcC5jdXJyZW50RnJhbWVOdW1iZXIgPSBCcm93c2VyLm1haW5Mb29wLmN1cnJlbnRGcmFtZU51bWJlciArIDEgfCAwOwoKICAgICAgICBpZiAoQnJvd3Nlci5tYWluTG9vcC50aW1pbmdNb2RlID09IDEgJiYgQnJvd3Nlci5tYWluTG9vcC50aW1pbmdWYWx1ZSA+IDEgJiYgQnJvd3Nlci5tYWluTG9vcC5jdXJyZW50RnJhbWVOdW1iZXIgJSBCcm93c2VyLm1haW5Mb29wLnRpbWluZ1ZhbHVlICE9IDApIHsKICAgICAgICAgIEJyb3dzZXIubWFpbkxvb3Auc2NoZWR1bGVyKCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIGlmIChCcm93c2VyLm1haW5Mb29wLnRpbWluZ01vZGUgPT0gMCkgewogICAgICAgICAgQnJvd3Nlci5tYWluTG9vcC50aWNrU3RhcnRUaW1lID0gX2Vtc2NyaXB0ZW5fZ2V0X25vdygpOwogICAgICAgIH0KCiAgICAgICAgQnJvd3Nlci5tYWluTG9vcC5ydW5JdGVyKGJyb3dzZXJJdGVyYXRpb25GdW5jKTsKICAgICAgICBpZiAodGhpc01haW5Mb29wSWQgPCBCcm93c2VyLm1haW5Mb29wLmN1cnJlbnRseVJ1bm5pbmdNYWlubG9vcCkgcmV0dXJuOwogICAgICAgIGlmICgodHlwZW9mIFNETCA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YoU0RMKSkgPT09ICJvYmplY3QiICYmIFNETC5hdWRpbyAmJiBTREwuYXVkaW8ucXVldWVOZXdBdWRpb0RhdGEpIFNETC5hdWRpby5xdWV1ZU5ld0F1ZGlvRGF0YSgpOwogICAgICAgIEJyb3dzZXIubWFpbkxvb3Auc2NoZWR1bGVyKCk7CiAgICAgIH07CgogICAgICBpZiAoIW5vU2V0VGltaW5nKSB7CiAgICAgICAgaWYgKGZwcyAmJiBmcHMgPiAwKSBfZW1zY3JpcHRlbl9zZXRfbWFpbl9sb29wX3RpbWluZygwLCAxZTMgLyBmcHMpO2Vsc2UgX2Vtc2NyaXB0ZW5fc2V0X21haW5fbG9vcF90aW1pbmcoMSwgMSk7CiAgICAgICAgQnJvd3Nlci5tYWluTG9vcC5zY2hlZHVsZXIoKTsKICAgICAgfQoKICAgICAgaWYgKHNpbXVsYXRlSW5maW5pdGVMb29wKSB7CiAgICAgICAgdGhyb3cgInVud2luZCI7CiAgICAgIH0KICAgIH0KCiAgICB2YXIgQnJvd3NlciA9IHsKICAgICAgbWFpbkxvb3A6IHsKICAgICAgICBzY2hlZHVsZXI6IG51bGwsCiAgICAgICAgbWV0aG9kOiAiIiwKICAgICAgICBjdXJyZW50bHlSdW5uaW5nTWFpbmxvb3A6IDAsCiAgICAgICAgZnVuYzogbnVsbCwKICAgICAgICBhcmc6IDAsCiAgICAgICAgdGltaW5nTW9kZTogMCwKICAgICAgICB0aW1pbmdWYWx1ZTogMCwKICAgICAgICBjdXJyZW50RnJhbWVOdW1iZXI6IDAsCiAgICAgICAgcXVldWU6IFtdLAogICAgICAgIHBhdXNlOiBmdW5jdGlvbiBwYXVzZSgpIHsKICAgICAgICAgIEJyb3dzZXIubWFpbkxvb3Auc2NoZWR1bGVyID0gbnVsbDsKICAgICAgICAgIEJyb3dzZXIubWFpbkxvb3AuY3VycmVudGx5UnVubmluZ01haW5sb29wKys7CiAgICAgICAgfSwKICAgICAgICByZXN1bWU6IGZ1bmN0aW9uIHJlc3VtZSgpIHsKICAgICAgICAgIEJyb3dzZXIubWFpbkxvb3AuY3VycmVudGx5UnVubmluZ01haW5sb29wKys7CiAgICAgICAgICB2YXIgdGltaW5nTW9kZSA9IEJyb3dzZXIubWFpbkxvb3AudGltaW5nTW9kZTsKICAgICAgICAgIHZhciB0aW1pbmdWYWx1ZSA9IEJyb3dzZXIubWFpbkxvb3AudGltaW5nVmFsdWU7CiAgICAgICAgICB2YXIgZnVuYyA9IEJyb3dzZXIubWFpbkxvb3AuZnVuYzsKICAgICAgICAgIEJyb3dzZXIubWFpbkxvb3AuZnVuYyA9IG51bGw7CgogICAgICAgICAgX2Vtc2NyaXB0ZW5fc2V0X21haW5fbG9vcChmdW5jLCAwLCBmYWxzZSwgQnJvd3Nlci5tYWluTG9vcC5hcmcsIHRydWUpOwoKICAgICAgICAgIF9lbXNjcmlwdGVuX3NldF9tYWluX2xvb3BfdGltaW5nKHRpbWluZ01vZGUsIHRpbWluZ1ZhbHVlKTsKCiAgICAgICAgICBCcm93c2VyLm1haW5Mb29wLnNjaGVkdWxlcigpOwogICAgICAgIH0sCiAgICAgICAgdXBkYXRlU3RhdHVzOiBmdW5jdGlvbiB1cGRhdGVTdGF0dXMoKSB7CiAgICAgICAgICBpZiAoTW9kdWxlWyJzZXRTdGF0dXMiXSkgewogICAgICAgICAgICB2YXIgbWVzc2FnZSA9IE1vZHVsZVsic3RhdHVzTWVzc2FnZSJdIHx8ICJQbGVhc2Ugd2FpdC4uLiI7CiAgICAgICAgICAgIHZhciByZW1haW5pbmcgPSBCcm93c2VyLm1haW5Mb29wLnJlbWFpbmluZ0Jsb2NrZXJzOwogICAgICAgICAgICB2YXIgZXhwZWN0ZWQgPSBCcm93c2VyLm1haW5Mb29wLmV4cGVjdGVkQmxvY2tlcnM7CgogICAgICAgICAgICBpZiAocmVtYWluaW5nKSB7CiAgICAgICAgICAgICAgaWYgKHJlbWFpbmluZyA8IGV4cGVjdGVkKSB7CiAgICAgICAgICAgICAgICBNb2R1bGVbInNldFN0YXR1cyJdKG1lc3NhZ2UgKyAiICgiICsgKGV4cGVjdGVkIC0gcmVtYWluaW5nKSArICIvIiArIGV4cGVjdGVkICsgIikiKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgTW9kdWxlWyJzZXRTdGF0dXMiXShtZXNzYWdlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgTW9kdWxlWyJzZXRTdGF0dXMiXSgiIik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHJ1bkl0ZXI6IGZ1bmN0aW9uIHJ1bkl0ZXIoZnVuYykgewogICAgICAgICAgaWYgKEFCT1JUKSByZXR1cm47CgogICAgICAgICAgaWYgKE1vZHVsZVsicHJlTWFpbkxvb3AiXSkgewogICAgICAgICAgICB2YXIgcHJlUmV0ID0gTW9kdWxlWyJwcmVNYWluTG9vcCJdKCk7CgogICAgICAgICAgICBpZiAocHJlUmV0ID09PSBmYWxzZSkgewogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZ1bmMoKTsKICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBFeGl0U3RhdHVzKSB7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGlmIChlICYmIF90eXBlb2YoZSkgPT09ICJvYmplY3QiICYmIGUuc3RhY2spIGVycigiZXhjZXB0aW9uIHRocm93bjogIiArIFtlLCBlLnN0YWNrXSk7CiAgICAgICAgICAgICAgdGhyb3cgZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmIChNb2R1bGVbInBvc3RNYWluTG9vcCJdKSBNb2R1bGVbInBvc3RNYWluTG9vcCJdKCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBpc0Z1bGxzY3JlZW46IGZhbHNlLAogICAgICBwb2ludGVyTG9jazogZmFsc2UsCiAgICAgIG1vZHVsZUNvbnRleHRDcmVhdGVkQ2FsbGJhY2tzOiBbXSwKICAgICAgd29ya2VyczogW10sCiAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgICAgaWYgKCFNb2R1bGVbInByZWxvYWRQbHVnaW5zIl0pIE1vZHVsZVsicHJlbG9hZFBsdWdpbnMiXSA9IFtdOwogICAgICAgIGlmIChCcm93c2VyLmluaXR0ZWQpIHJldHVybjsKICAgICAgICBCcm93c2VyLmluaXR0ZWQgPSB0cnVlOwoKICAgICAgICB0cnkgewogICAgICAgICAgbmV3IEJsb2IoKTsKICAgICAgICAgIEJyb3dzZXIuaGFzQmxvYkNvbnN0cnVjdG9yID0gdHJ1ZTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICBCcm93c2VyLmhhc0Jsb2JDb25zdHJ1Y3RvciA9IGZhbHNlOwogICAgICAgICAgY29uc29sZS5sb2coIndhcm5pbmc6IG5vIGJsb2IgY29uc3RydWN0b3IsIGNhbm5vdCBjcmVhdGUgYmxvYnMgd2l0aCBtaW1ldHlwZXMiKTsKICAgICAgICB9CgogICAgICAgIEJyb3dzZXIuQmxvYkJ1aWxkZXIgPSB0eXBlb2YgTW96QmxvYkJ1aWxkZXIgIT0gInVuZGVmaW5lZCIgPyBNb3pCbG9iQnVpbGRlciA6IHR5cGVvZiBXZWJLaXRCbG9iQnVpbGRlciAhPSAidW5kZWZpbmVkIiA/IFdlYktpdEJsb2JCdWlsZGVyIDogIUJyb3dzZXIuaGFzQmxvYkNvbnN0cnVjdG9yID8gY29uc29sZS5sb2coIndhcm5pbmc6IG5vIEJsb2JCdWlsZGVyIikgOiBudWxsOwogICAgICAgIEJyb3dzZXIuVVJMT2JqZWN0ID0gdHlwZW9mIHdpbmRvdyAhPSAidW5kZWZpbmVkIiA/IHdpbmRvdy5VUkwgPyB3aW5kb3cuVVJMIDogd2luZG93LndlYmtpdFVSTCA6IHVuZGVmaW5lZDsKCiAgICAgICAgaWYgKCFNb2R1bGUubm9JbWFnZURlY29kaW5nICYmIHR5cGVvZiBCcm93c2VyLlVSTE9iamVjdCA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJ3YXJuaW5nOiBCcm93c2VyIGRvZXMgbm90IHN1cHBvcnQgY3JlYXRpbmcgb2JqZWN0IFVSTHMuIEJ1aWx0LWluIGJyb3dzZXIgaW1hZ2UgZGVjb2Rpbmcgd2lsbCBub3QgYmUgYXZhaWxhYmxlLiIpOwogICAgICAgICAgTW9kdWxlLm5vSW1hZ2VEZWNvZGluZyA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICB2YXIgaW1hZ2VQbHVnaW4gPSB7fTsKCiAgICAgICAgaW1hZ2VQbHVnaW5bImNhbkhhbmRsZSJdID0gZnVuY3Rpb24gaW1hZ2VQbHVnaW5fY2FuSGFuZGxlKG5hbWUpIHsKICAgICAgICAgIHJldHVybiAhTW9kdWxlLm5vSW1hZ2VEZWNvZGluZyAmJiAvXC4oanBnfGpwZWd8cG5nfGJtcCkkL2kudGVzdChuYW1lKTsKICAgICAgICB9OwoKICAgICAgICBpbWFnZVBsdWdpblsiaGFuZGxlIl0gPSBmdW5jdGlvbiBpbWFnZVBsdWdpbl9oYW5kbGUoYnl0ZUFycmF5LCBuYW1lLCBvbmxvYWQsIG9uZXJyb3IpIHsKICAgICAgICAgIHZhciBiID0gbnVsbDsKCiAgICAgICAgICBpZiAoQnJvd3Nlci5oYXNCbG9iQ29uc3RydWN0b3IpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBiID0gbmV3IEJsb2IoW2J5dGVBcnJheV0sIHsKICAgICAgICAgICAgICAgIHR5cGU6IEJyb3dzZXIuZ2V0TWltZXR5cGUobmFtZSkKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgaWYgKGIuc2l6ZSAhPT0gYnl0ZUFycmF5Lmxlbmd0aCkgewogICAgICAgICAgICAgICAgYiA9IG5ldyBCbG9iKFtuZXcgVWludDhBcnJheShieXRlQXJyYXkpLmJ1ZmZlcl0sIHsKICAgICAgICAgICAgICAgICAgdHlwZTogQnJvd3Nlci5nZXRNaW1ldHlwZShuYW1lKQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgd2Fybk9uY2UoIkJsb2IgY29uc3RydWN0b3IgcHJlc2VudCBidXQgZmFpbHM6ICIgKyBlICsgIjsgZmFsbGluZyBiYWNrIHRvIGJsb2IgYnVpbGRlciIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKCFiKSB7CiAgICAgICAgICAgIHZhciBiYiA9IG5ldyBCcm93c2VyLkJsb2JCdWlsZGVyKCk7CiAgICAgICAgICAgIGJiLmFwcGVuZChuZXcgVWludDhBcnJheShieXRlQXJyYXkpLmJ1ZmZlcik7CiAgICAgICAgICAgIGIgPSBiYi5nZXRCbG9iKCk7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIHVybCA9IEJyb3dzZXIuVVJMT2JqZWN0LmNyZWF0ZU9iamVjdFVSTChiKTsKICAgICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTsKCiAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gaW1nX29ubG9hZCgpIHsKICAgICAgICAgICAgYXNzZXJ0KGltZy5jb21wbGV0ZSwgIkltYWdlICIgKyBuYW1lICsgIiBjb3VsZCBub3QgYmUgZGVjb2RlZCIpOwogICAgICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7CiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGltZy53aWR0aDsKICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGltZy5oZWlnaHQ7CiAgICAgICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApOwogICAgICAgICAgICBNb2R1bGVbInByZWxvYWRlZEltYWdlcyJdW25hbWVdID0gY2FudmFzOwogICAgICAgICAgICBCcm93c2VyLlVSTE9iamVjdC5yZXZva2VPYmplY3RVUkwodXJsKTsKICAgICAgICAgICAgaWYgKG9ubG9hZCkgb25sb2FkKGJ5dGVBcnJheSk7CiAgICAgICAgICB9OwoKICAgICAgICAgIGltZy5vbmVycm9yID0gZnVuY3Rpb24gaW1nX29uZXJyb3IoZXZlbnQpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coIkltYWdlICIgKyB1cmwgKyAiIGNvdWxkIG5vdCBiZSBkZWNvZGVkIik7CiAgICAgICAgICAgIGlmIChvbmVycm9yKSBvbmVycm9yKCk7CiAgICAgICAgICB9OwoKICAgICAgICAgIGltZy5zcmMgPSB1cmw7CiAgICAgICAgfTsKCiAgICAgICAgTW9kdWxlWyJwcmVsb2FkUGx1Z2lucyJdLnB1c2goaW1hZ2VQbHVnaW4pOwogICAgICAgIHZhciBhdWRpb1BsdWdpbiA9IHt9OwoKICAgICAgICBhdWRpb1BsdWdpblsiY2FuSGFuZGxlIl0gPSBmdW5jdGlvbiBhdWRpb1BsdWdpbl9jYW5IYW5kbGUobmFtZSkgewogICAgICAgICAgcmV0dXJuICFNb2R1bGUubm9BdWRpb0RlY29kaW5nICYmIG5hbWUuc3Vic3RyKC00KSBpbiB7CiAgICAgICAgICAgICIub2dnIjogMSwKICAgICAgICAgICAgIi53YXYiOiAxLAogICAgICAgICAgICAiLm1wMyI6IDEKICAgICAgICAgIH07CiAgICAgICAgfTsKCiAgICAgICAgYXVkaW9QbHVnaW5bImhhbmRsZSJdID0gZnVuY3Rpb24gYXVkaW9QbHVnaW5faGFuZGxlKGJ5dGVBcnJheSwgbmFtZSwgb25sb2FkLCBvbmVycm9yKSB7CiAgICAgICAgICB2YXIgZG9uZSA9IGZhbHNlOwoKICAgICAgICAgIGZ1bmN0aW9uIGZpbmlzaChhdWRpbykgewogICAgICAgICAgICBpZiAoZG9uZSkgcmV0dXJuOwogICAgICAgICAgICBkb25lID0gdHJ1ZTsKICAgICAgICAgICAgTW9kdWxlWyJwcmVsb2FkZWRBdWRpb3MiXVtuYW1lXSA9IGF1ZGlvOwogICAgICAgICAgICBpZiAob25sb2FkKSBvbmxvYWQoYnl0ZUFycmF5KTsKICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jdGlvbiBmYWlsKCkgewogICAgICAgICAgICBpZiAoZG9uZSkgcmV0dXJuOwogICAgICAgICAgICBkb25lID0gdHJ1ZTsKICAgICAgICAgICAgTW9kdWxlWyJwcmVsb2FkZWRBdWRpb3MiXVtuYW1lXSA9IG5ldyBBdWRpbygpOwogICAgICAgICAgICBpZiAob25lcnJvcikgb25lcnJvcigpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChCcm93c2VyLmhhc0Jsb2JDb25zdHJ1Y3RvcikgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIHZhciBiID0gbmV3IEJsb2IoW2J5dGVBcnJheV0sIHsKICAgICAgICAgICAgICAgIHR5cGU6IEJyb3dzZXIuZ2V0TWltZXR5cGUobmFtZSkKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgIHJldHVybiBmYWlsKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciB1cmwgPSBCcm93c2VyLlVSTE9iamVjdC5jcmVhdGVPYmplY3RVUkwoYik7CiAgICAgICAgICAgIHZhciBhdWRpbyA9IG5ldyBBdWRpbygpOwogICAgICAgICAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKCJjYW5wbGF5dGhyb3VnaCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBmaW5pc2goYXVkaW8pOwogICAgICAgICAgICB9LCBmYWxzZSk7CgogICAgICAgICAgICBhdWRpby5vbmVycm9yID0gZnVuY3Rpb24gYXVkaW9fb25lcnJvcihldmVudCkgewogICAgICAgICAgICAgIGlmIChkb25lKSByZXR1cm47CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIndhcm5pbmc6IGJyb3dzZXIgY291bGQgbm90IGZ1bGx5IGRlY29kZSBhdWRpbyAiICsgbmFtZSArICIsIHRyeWluZyBzbG93ZXIgYmFzZTY0IGFwcHJvYWNoIik7CgogICAgICAgICAgICAgIGZ1bmN0aW9uIGVuY29kZTY0KGRhdGEpIHsKICAgICAgICAgICAgICAgIHZhciBCQVNFID0gIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iOwogICAgICAgICAgICAgICAgdmFyIFBBRCA9ICI9IjsKICAgICAgICAgICAgICAgIHZhciByZXQgPSAiIjsKICAgICAgICAgICAgICAgIHZhciBsZWZ0Y2hhciA9IDA7CiAgICAgICAgICAgICAgICB2YXIgbGVmdGJpdHMgPSAwOwoKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICBsZWZ0Y2hhciA9IGxlZnRjaGFyIDw8IDggfCBkYXRhW2ldOwogICAgICAgICAgICAgICAgICBsZWZ0Yml0cyArPSA4OwoKICAgICAgICAgICAgICAgICAgd2hpbGUgKGxlZnRiaXRzID49IDYpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgY3VyciA9IGxlZnRjaGFyID4+IGxlZnRiaXRzIC0gNiAmIDYzOwogICAgICAgICAgICAgICAgICAgIGxlZnRiaXRzIC09IDY7CiAgICAgICAgICAgICAgICAgICAgcmV0ICs9IEJBU0VbY3Vycl07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAobGVmdGJpdHMgPT0gMikgewogICAgICAgICAgICAgICAgICByZXQgKz0gQkFTRVsobGVmdGNoYXIgJiAzKSA8PCA0XTsKICAgICAgICAgICAgICAgICAgcmV0ICs9IFBBRCArIFBBRDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGVmdGJpdHMgPT0gNCkgewogICAgICAgICAgICAgICAgICByZXQgKz0gQkFTRVsobGVmdGNoYXIgJiAxNSkgPDwgMl07CiAgICAgICAgICAgICAgICAgIHJldCArPSBQQUQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGF1ZGlvLnNyYyA9ICJkYXRhOmF1ZGlvL3gtIiArIG5hbWUuc3Vic3RyKC0zKSArICI7YmFzZTY0LCIgKyBlbmNvZGU2NChieXRlQXJyYXkpOwogICAgICAgICAgICAgIGZpbmlzaChhdWRpbyk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICBhdWRpby5zcmMgPSB1cmw7CiAgICAgICAgICAgIEJyb3dzZXIuc2FmZVNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGZpbmlzaChhdWRpbyk7CiAgICAgICAgICAgIH0sIDFlNCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFpbCgpOwogICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIE1vZHVsZVsicHJlbG9hZFBsdWdpbnMiXS5wdXNoKGF1ZGlvUGx1Z2luKTsKCiAgICAgICAgZnVuY3Rpb24gcG9pbnRlckxvY2tDaGFuZ2UoKSB7CiAgICAgICAgICBCcm93c2VyLnBvaW50ZXJMb2NrID0gZG9jdW1lbnRbInBvaW50ZXJMb2NrRWxlbWVudCJdID09PSBNb2R1bGVbImNhbnZhcyJdIHx8IGRvY3VtZW50WyJtb3pQb2ludGVyTG9ja0VsZW1lbnQiXSA9PT0gTW9kdWxlWyJjYW52YXMiXSB8fCBkb2N1bWVudFsid2Via2l0UG9pbnRlckxvY2tFbGVtZW50Il0gPT09IE1vZHVsZVsiY2FudmFzIl0gfHwgZG9jdW1lbnRbIm1zUG9pbnRlckxvY2tFbGVtZW50Il0gPT09IE1vZHVsZVsiY2FudmFzIl07CiAgICAgICAgfQoKICAgICAgICB2YXIgY2FudmFzID0gTW9kdWxlWyJjYW52YXMiXTsKCiAgICAgICAgaWYgKGNhbnZhcykgewogICAgICAgICAgY2FudmFzLnJlcXVlc3RQb2ludGVyTG9jayA9IGNhbnZhc1sicmVxdWVzdFBvaW50ZXJMb2NrIl0gfHwgY2FudmFzWyJtb3pSZXF1ZXN0UG9pbnRlckxvY2siXSB8fCBjYW52YXNbIndlYmtpdFJlcXVlc3RQb2ludGVyTG9jayJdIHx8IGNhbnZhc1sibXNSZXF1ZXN0UG9pbnRlckxvY2siXSB8fCBmdW5jdGlvbiAoKSB7fTsKCiAgICAgICAgICBjYW52YXMuZXhpdFBvaW50ZXJMb2NrID0gZG9jdW1lbnRbImV4aXRQb2ludGVyTG9jayJdIHx8IGRvY3VtZW50WyJtb3pFeGl0UG9pbnRlckxvY2siXSB8fCBkb2N1bWVudFsid2Via2l0RXhpdFBvaW50ZXJMb2NrIl0gfHwgZG9jdW1lbnRbIm1zRXhpdFBvaW50ZXJMb2NrIl0gfHwgZnVuY3Rpb24gKCkge307CgogICAgICAgICAgY2FudmFzLmV4aXRQb2ludGVyTG9jayA9IGNhbnZhcy5leGl0UG9pbnRlckxvY2suYmluZChkb2N1bWVudCk7CiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVybG9ja2NoYW5nZSIsIHBvaW50ZXJMb2NrQ2hhbmdlLCBmYWxzZSk7CiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3pwb2ludGVybG9ja2NoYW5nZSIsIHBvaW50ZXJMb2NrQ2hhbmdlLCBmYWxzZSk7CiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJ3ZWJraXRwb2ludGVybG9ja2NoYW5nZSIsIHBvaW50ZXJMb2NrQ2hhbmdlLCBmYWxzZSk7CiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtc3BvaW50ZXJsb2NrY2hhbmdlIiwgcG9pbnRlckxvY2tDaGFuZ2UsIGZhbHNlKTsKCiAgICAgICAgICBpZiAoTW9kdWxlWyJlbGVtZW50UG9pbnRlckxvY2siXSkgewogICAgICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbiAoZXYpIHsKICAgICAgICAgICAgICBpZiAoIUJyb3dzZXIucG9pbnRlckxvY2sgJiYgTW9kdWxlWyJjYW52YXMiXS5yZXF1ZXN0UG9pbnRlckxvY2spIHsKICAgICAgICAgICAgICAgIE1vZHVsZVsiY2FudmFzIl0ucmVxdWVzdFBvaW50ZXJMb2NrKCk7CiAgICAgICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgZmFsc2UpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgY3JlYXRlQ29udGV4dDogZnVuY3Rpb24gY3JlYXRlQ29udGV4dChjYW52YXMsIHVzZVdlYkdMLCBzZXRJbk1vZHVsZSwgd2ViR0xDb250ZXh0QXR0cmlidXRlcykgewogICAgICAgIGlmICh1c2VXZWJHTCAmJiBNb2R1bGUuY3R4ICYmIGNhbnZhcyA9PSBNb2R1bGUuY2FudmFzKSByZXR1cm4gTW9kdWxlLmN0eDsKICAgICAgICB2YXIgY3R4OwogICAgICAgIHZhciBjb250ZXh0SGFuZGxlOwoKICAgICAgICBpZiAodXNlV2ViR0wpIHsKICAgICAgICAgIHZhciBjb250ZXh0QXR0cmlidXRlcyA9IHsKICAgICAgICAgICAgYW50aWFsaWFzOiBmYWxzZSwKICAgICAgICAgICAgYWxwaGE6IGZhbHNlLAogICAgICAgICAgICBtYWpvclZlcnNpb246IHR5cGVvZiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0ICE9PSAidW5kZWZpbmVkIiA/IDIgOiAxCiAgICAgICAgICB9OwoKICAgICAgICAgIGlmICh3ZWJHTENvbnRleHRBdHRyaWJ1dGVzKSB7CiAgICAgICAgICAgIGZvciAodmFyIGF0dHJpYnV0ZSBpbiB3ZWJHTENvbnRleHRBdHRyaWJ1dGVzKSB7CiAgICAgICAgICAgICAgY29udGV4dEF0dHJpYnV0ZXNbYXR0cmlidXRlXSA9IHdlYkdMQ29udGV4dEF0dHJpYnV0ZXNbYXR0cmlidXRlXTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmICh0eXBlb2YgR0wgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgIGNvbnRleHRIYW5kbGUgPSBHTC5jcmVhdGVDb250ZXh0KGNhbnZhcywgY29udGV4dEF0dHJpYnV0ZXMpOwoKICAgICAgICAgICAgaWYgKGNvbnRleHRIYW5kbGUpIHsKICAgICAgICAgICAgICBjdHggPSBHTC5nZXRDb250ZXh0KGNvbnRleHRIYW5kbGUpLkdMY3R4OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFjdHgpIHJldHVybiBudWxsOwoKICAgICAgICBpZiAoc2V0SW5Nb2R1bGUpIHsKICAgICAgICAgIGlmICghdXNlV2ViR0wpIGFzc2VydCh0eXBlb2YgR0xjdHggPT09ICJ1bmRlZmluZWQiLCAiY2Fubm90IHNldCBpbiBtb2R1bGUgaWYgR0xjdHggaXMgdXNlZCwgYnV0IHdlIGFyZSBhIG5vbi1HTCBjb250ZXh0IHRoYXQgd291bGQgcmVwbGFjZSBpdCIpOwogICAgICAgICAgTW9kdWxlLmN0eCA9IGN0eDsKICAgICAgICAgIGlmICh1c2VXZWJHTCkgR0wubWFrZUNvbnRleHRDdXJyZW50KGNvbnRleHRIYW5kbGUpOwogICAgICAgICAgTW9kdWxlLnVzZVdlYkdMID0gdXNlV2ViR0w7CiAgICAgICAgICBCcm93c2VyLm1vZHVsZUNvbnRleHRDcmVhdGVkQ2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICB9KTsKICAgICAgICAgIEJyb3dzZXIuaW5pdCgpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGN0eDsKICAgICAgfSwKICAgICAgZGVzdHJveUNvbnRleHQ6IGZ1bmN0aW9uIGRlc3Ryb3lDb250ZXh0KGNhbnZhcywgdXNlV2ViR0wsIHNldEluTW9kdWxlKSB7fSwKICAgICAgZnVsbHNjcmVlbkhhbmRsZXJzSW5zdGFsbGVkOiBmYWxzZSwKICAgICAgbG9ja1BvaW50ZXI6IHVuZGVmaW5lZCwKICAgICAgcmVzaXplQ2FudmFzOiB1bmRlZmluZWQsCiAgICAgIHJlcXVlc3RGdWxsc2NyZWVuOiBmdW5jdGlvbiByZXF1ZXN0RnVsbHNjcmVlbihsb2NrUG9pbnRlciwgcmVzaXplQ2FudmFzKSB7CiAgICAgICAgQnJvd3Nlci5sb2NrUG9pbnRlciA9IGxvY2tQb2ludGVyOwogICAgICAgIEJyb3dzZXIucmVzaXplQ2FudmFzID0gcmVzaXplQ2FudmFzOwogICAgICAgIGlmICh0eXBlb2YgQnJvd3Nlci5sb2NrUG9pbnRlciA9PT0gInVuZGVmaW5lZCIpIEJyb3dzZXIubG9ja1BvaW50ZXIgPSB0cnVlOwogICAgICAgIGlmICh0eXBlb2YgQnJvd3Nlci5yZXNpemVDYW52YXMgPT09ICJ1bmRlZmluZWQiKSBCcm93c2VyLnJlc2l6ZUNhbnZhcyA9IGZhbHNlOwogICAgICAgIHZhciBjYW52YXMgPSBNb2R1bGVbImNhbnZhcyJdOwoKICAgICAgICBmdW5jdGlvbiBmdWxsc2NyZWVuQ2hhbmdlKCkgewogICAgICAgICAgQnJvd3Nlci5pc0Z1bGxzY3JlZW4gPSBmYWxzZTsKICAgICAgICAgIHZhciBjYW52YXNDb250YWluZXIgPSBjYW52YXMucGFyZW50Tm9kZTsKCiAgICAgICAgICBpZiAoKGRvY3VtZW50WyJmdWxsc2NyZWVuRWxlbWVudCJdIHx8IGRvY3VtZW50WyJtb3pGdWxsU2NyZWVuRWxlbWVudCJdIHx8IGRvY3VtZW50WyJtc0Z1bGxzY3JlZW5FbGVtZW50Il0gfHwgZG9jdW1lbnRbIndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50Il0gfHwgZG9jdW1lbnRbIndlYmtpdEN1cnJlbnRGdWxsU2NyZWVuRWxlbWVudCJdKSA9PT0gY2FudmFzQ29udGFpbmVyKSB7CiAgICAgICAgICAgIGNhbnZhcy5leGl0RnVsbHNjcmVlbiA9IEJyb3dzZXIuZXhpdEZ1bGxzY3JlZW47CiAgICAgICAgICAgIGlmIChCcm93c2VyLmxvY2tQb2ludGVyKSBjYW52YXMucmVxdWVzdFBvaW50ZXJMb2NrKCk7CiAgICAgICAgICAgIEJyb3dzZXIuaXNGdWxsc2NyZWVuID0gdHJ1ZTsKCiAgICAgICAgICAgIGlmIChCcm93c2VyLnJlc2l6ZUNhbnZhcykgewogICAgICAgICAgICAgIEJyb3dzZXIuc2V0RnVsbHNjcmVlbkNhbnZhc1NpemUoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBCcm93c2VyLnVwZGF0ZUNhbnZhc0RpbWVuc2lvbnMoY2FudmFzKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2FudmFzQ29udGFpbmVyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGNhbnZhcywgY2FudmFzQ29udGFpbmVyKTsKICAgICAgICAgICAgY2FudmFzQ29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2FudmFzQ29udGFpbmVyKTsKCiAgICAgICAgICAgIGlmIChCcm93c2VyLnJlc2l6ZUNhbnZhcykgewogICAgICAgICAgICAgIEJyb3dzZXIuc2V0V2luZG93ZWRDYW52YXNTaXplKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgQnJvd3Nlci51cGRhdGVDYW52YXNEaW1lbnNpb25zKGNhbnZhcyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoTW9kdWxlWyJvbkZ1bGxTY3JlZW4iXSkgTW9kdWxlWyJvbkZ1bGxTY3JlZW4iXShCcm93c2VyLmlzRnVsbHNjcmVlbik7CiAgICAgICAgICBpZiAoTW9kdWxlWyJvbkZ1bGxzY3JlZW4iXSkgTW9kdWxlWyJvbkZ1bGxzY3JlZW4iXShCcm93c2VyLmlzRnVsbHNjcmVlbik7CiAgICAgICAgfQoKICAgICAgICBpZiAoIUJyb3dzZXIuZnVsbHNjcmVlbkhhbmRsZXJzSW5zdGFsbGVkKSB7CiAgICAgICAgICBCcm93c2VyLmZ1bGxzY3JlZW5IYW5kbGVyc0luc3RhbGxlZCA9IHRydWU7CiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJmdWxsc2NyZWVuY2hhbmdlIiwgZnVsbHNjcmVlbkNoYW5nZSwgZmFsc2UpOwogICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW96ZnVsbHNjcmVlbmNoYW5nZSIsIGZ1bGxzY3JlZW5DaGFuZ2UsIGZhbHNlKTsKICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UiLCBmdWxsc2NyZWVuQ2hhbmdlLCBmYWxzZSk7CiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJNU0Z1bGxzY3JlZW5DaGFuZ2UiLCBmdWxsc2NyZWVuQ2hhbmdlLCBmYWxzZSk7CiAgICAgICAgfQoKICAgICAgICB2YXIgY2FudmFzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgY2FudmFzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGNhbnZhc0NvbnRhaW5lciwgY2FudmFzKTsKICAgICAgICBjYW52YXNDb250YWluZXIuYXBwZW5kQ2hpbGQoY2FudmFzKTsKICAgICAgICBjYW52YXNDb250YWluZXIucmVxdWVzdEZ1bGxzY3JlZW4gPSBjYW52YXNDb250YWluZXJbInJlcXVlc3RGdWxsc2NyZWVuIl0gfHwgY2FudmFzQ29udGFpbmVyWyJtb3pSZXF1ZXN0RnVsbFNjcmVlbiJdIHx8IGNhbnZhc0NvbnRhaW5lclsibXNSZXF1ZXN0RnVsbHNjcmVlbiJdIHx8IChjYW52YXNDb250YWluZXJbIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuIl0gPyBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBjYW52YXNDb250YWluZXJbIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuIl0oRWxlbWVudFsiQUxMT1dfS0VZQk9BUkRfSU5QVVQiXSk7CiAgICAgICAgfSA6IG51bGwpIHx8IChjYW52YXNDb250YWluZXJbIndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuIl0gPyBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBjYW52YXNDb250YWluZXJbIndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuIl0oRWxlbWVudFsiQUxMT1dfS0VZQk9BUkRfSU5QVVQiXSk7CiAgICAgICAgfSA6IG51bGwpOwogICAgICAgIGNhbnZhc0NvbnRhaW5lci5yZXF1ZXN0RnVsbHNjcmVlbigpOwogICAgICB9LAogICAgICBleGl0RnVsbHNjcmVlbjogZnVuY3Rpb24gZXhpdEZ1bGxzY3JlZW4oKSB7CiAgICAgICAgaWYgKCFCcm93c2VyLmlzRnVsbHNjcmVlbikgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgdmFyIENGUyA9IGRvY3VtZW50WyJleGl0RnVsbHNjcmVlbiJdIHx8IGRvY3VtZW50WyJjYW5jZWxGdWxsU2NyZWVuIl0gfHwgZG9jdW1lbnRbIm1vekNhbmNlbEZ1bGxTY3JlZW4iXSB8fCBkb2N1bWVudFsibXNFeGl0RnVsbHNjcmVlbiJdIHx8IGRvY3VtZW50WyJ3ZWJraXRDYW5jZWxGdWxsU2NyZWVuIl0gfHwgZnVuY3Rpb24gKCkge307CgogICAgICAgIENGUy5hcHBseShkb2N1bWVudCwgW10pOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9LAogICAgICBuZXh0UkFGOiAwLAogICAgICBmYWtlUmVxdWVzdEFuaW1hdGlvbkZyYW1lOiBmdW5jdGlvbiBmYWtlUmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmMpIHsKICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTsKCiAgICAgICAgaWYgKEJyb3dzZXIubmV4dFJBRiA9PT0gMCkgewogICAgICAgICAgQnJvd3Nlci5uZXh0UkFGID0gbm93ICsgMWUzIC8gNjA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHdoaWxlIChub3cgKyAyID49IEJyb3dzZXIubmV4dFJBRikgewogICAgICAgICAgICBCcm93c2VyLm5leHRSQUYgKz0gMWUzIC8gNjA7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgZGVsYXkgPSBNYXRoLm1heChCcm93c2VyLm5leHRSQUYgLSBub3csIDApOwogICAgICAgIHNldFRpbWVvdXQoZnVuYywgZGVsYXkpOwogICAgICB9LAogICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWU6IGZ1bmN0aW9uIChfcmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7CiAgICAgICAgZnVuY3Rpb24gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlcXVlc3RBbmltYXRpb25GcmFtZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH0KCiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUudG9TdHJpbmcoKTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lOwogICAgICB9KGZ1bmN0aW9uIChmdW5jKSB7CiAgICAgICAgaWYgKHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciBSQUYgPSBCcm93c2VyLmZha2VSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7CiAgICAgICAgUkFGKGZ1bmMpOwogICAgICB9KSwKICAgICAgc2FmZUNhbGxiYWNrOiBmdW5jdGlvbiBzYWZlQ2FsbGJhY2soZnVuYykgewogICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoIUFCT1JUKSByZXR1cm4gZnVuYy5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgICAgIH07CiAgICAgIH0sCiAgICAgIGFsbG93QXN5bmNDYWxsYmFja3M6IHRydWUsCiAgICAgIHF1ZXVlZEFzeW5jQ2FsbGJhY2tzOiBbXSwKICAgICAgcGF1c2VBc3luY0NhbGxiYWNrczogZnVuY3Rpb24gcGF1c2VBc3luY0NhbGxiYWNrcygpIHsKICAgICAgICBCcm93c2VyLmFsbG93QXN5bmNDYWxsYmFja3MgPSBmYWxzZTsKICAgICAgfSwKICAgICAgcmVzdW1lQXN5bmNDYWxsYmFja3M6IGZ1bmN0aW9uIHJlc3VtZUFzeW5jQ2FsbGJhY2tzKCkgewogICAgICAgIEJyb3dzZXIuYWxsb3dBc3luY0NhbGxiYWNrcyA9IHRydWU7CgogICAgICAgIGlmIChCcm93c2VyLnF1ZXVlZEFzeW5jQ2FsbGJhY2tzLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHZhciBjYWxsYmFja3MgPSBCcm93c2VyLnF1ZXVlZEFzeW5jQ2FsbGJhY2tzOwogICAgICAgICAgQnJvd3Nlci5xdWV1ZWRBc3luY0NhbGxiYWNrcyA9IFtdOwogICAgICAgICAgY2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGZ1bmMpIHsKICAgICAgICAgICAgZnVuYygpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBzYWZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lOiBmdW5jdGlvbiBzYWZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmMpIHsKICAgICAgICByZXR1cm4gQnJvd3Nlci5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKEFCT1JUKSByZXR1cm47CgogICAgICAgICAgaWYgKEJyb3dzZXIuYWxsb3dBc3luY0NhbGxiYWNrcykgewogICAgICAgICAgICBmdW5jKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBCcm93c2VyLnF1ZXVlZEFzeW5jQ2FsbGJhY2tzLnB1c2goZnVuYyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHNhZmVTZXRUaW1lb3V0OiBmdW5jdGlvbiBzYWZlU2V0VGltZW91dChmdW5jLCB0aW1lb3V0KSB7CiAgICAgICAgbm9FeGl0UnVudGltZSA9IHRydWU7CiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKEFCT1JUKSByZXR1cm47CgogICAgICAgICAgaWYgKEJyb3dzZXIuYWxsb3dBc3luY0NhbGxiYWNrcykgewogICAgICAgICAgICBmdW5jKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBCcm93c2VyLnF1ZXVlZEFzeW5jQ2FsbGJhY2tzLnB1c2goZnVuYyk7CiAgICAgICAgICB9CiAgICAgICAgfSwgdGltZW91dCk7CiAgICAgIH0sCiAgICAgIHNhZmVTZXRJbnRlcnZhbDogZnVuY3Rpb24gc2FmZVNldEludGVydmFsKGZ1bmMsIHRpbWVvdXQpIHsKICAgICAgICBub0V4aXRSdW50aW1lID0gdHJ1ZTsKICAgICAgICByZXR1cm4gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKEFCT1JUKSByZXR1cm47CgogICAgICAgICAgaWYgKEJyb3dzZXIuYWxsb3dBc3luY0NhbGxiYWNrcykgewogICAgICAgICAgICBmdW5jKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgdGltZW91dCk7CiAgICAgIH0sCiAgICAgIGdldE1pbWV0eXBlOiBmdW5jdGlvbiBnZXRNaW1ldHlwZShuYW1lKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICJqcGciOiAiaW1hZ2UvanBlZyIsCiAgICAgICAgICAianBlZyI6ICJpbWFnZS9qcGVnIiwKICAgICAgICAgICJwbmciOiAiaW1hZ2UvcG5nIiwKICAgICAgICAgICJibXAiOiAiaW1hZ2UvYm1wIiwKICAgICAgICAgICJvZ2ciOiAiYXVkaW8vb2dnIiwKICAgICAgICAgICJ3YXYiOiAiYXVkaW8vd2F2IiwKICAgICAgICAgICJtcDMiOiAiYXVkaW8vbXBlZyIKICAgICAgICB9W25hbWUuc3Vic3RyKG5hbWUubGFzdEluZGV4T2YoIi4iKSArIDEpXTsKICAgICAgfSwKICAgICAgZ2V0VXNlck1lZGlhOiBmdW5jdGlvbiBnZXRVc2VyTWVkaWEoZnVuYykgewogICAgICAgIGlmICghd2luZG93LmdldFVzZXJNZWRpYSkgewogICAgICAgICAgd2luZG93LmdldFVzZXJNZWRpYSA9IG5hdmlnYXRvclsiZ2V0VXNlck1lZGlhIl0gfHwgbmF2aWdhdG9yWyJtb3pHZXRVc2VyTWVkaWEiXTsKICAgICAgICB9CgogICAgICAgIHdpbmRvdy5nZXRVc2VyTWVkaWEoZnVuYyk7CiAgICAgIH0sCiAgICAgIGdldE1vdmVtZW50WDogZnVuY3Rpb24gZ2V0TW92ZW1lbnRYKGV2ZW50KSB7CiAgICAgICAgcmV0dXJuIGV2ZW50WyJtb3ZlbWVudFgiXSB8fCBldmVudFsibW96TW92ZW1lbnRYIl0gfHwgZXZlbnRbIndlYmtpdE1vdmVtZW50WCJdIHx8IDA7CiAgICAgIH0sCiAgICAgIGdldE1vdmVtZW50WTogZnVuY3Rpb24gZ2V0TW92ZW1lbnRZKGV2ZW50KSB7CiAgICAgICAgcmV0dXJuIGV2ZW50WyJtb3ZlbWVudFkiXSB8fCBldmVudFsibW96TW92ZW1lbnRZIl0gfHwgZXZlbnRbIndlYmtpdE1vdmVtZW50WSJdIHx8IDA7CiAgICAgIH0sCiAgICAgIGdldE1vdXNlV2hlZWxEZWx0YTogZnVuY3Rpb24gZ2V0TW91c2VXaGVlbERlbHRhKGV2ZW50KSB7CiAgICAgICAgdmFyIGRlbHRhID0gMDsKCiAgICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7CiAgICAgICAgICBjYXNlICJET01Nb3VzZVNjcm9sbCI6CiAgICAgICAgICAgIGRlbHRhID0gZXZlbnQuZGV0YWlsIC8gMzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAibW91c2V3aGVlbCI6CiAgICAgICAgICAgIGRlbHRhID0gZXZlbnQud2hlZWxEZWx0YSAvIDEyMDsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAid2hlZWwiOgogICAgICAgICAgICBkZWx0YSA9IGV2ZW50LmRlbHRhWTsKCiAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQuZGVsdGFNb2RlKSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZGVsdGEgLz0gMTAwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgIGRlbHRhIC89IDM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZGVsdGEgKj0gODA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIHRocm93ICJ1bnJlY29nbml6ZWQgbW91c2Ugd2hlZWwgZGVsdGEgbW9kZTogIiArIGV2ZW50LmRlbHRhTW9kZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgdGhyb3cgInVucmVjb2duaXplZCBtb3VzZSB3aGVlbCBldmVudDogIiArIGV2ZW50LnR5cGU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZGVsdGE7CiAgICAgIH0sCiAgICAgIG1vdXNlWDogMCwKICAgICAgbW91c2VZOiAwLAogICAgICBtb3VzZU1vdmVtZW50WDogMCwKICAgICAgbW91c2VNb3ZlbWVudFk6IDAsCiAgICAgIHRvdWNoZXM6IHt9LAogICAgICBsYXN0VG91Y2hlczoge30sCiAgICAgIGNhbGN1bGF0ZU1vdXNlRXZlbnQ6IGZ1bmN0aW9uIGNhbGN1bGF0ZU1vdXNlRXZlbnQoZXZlbnQpIHsKICAgICAgICBpZiAoQnJvd3Nlci5wb2ludGVyTG9jaykgewogICAgICAgICAgaWYgKGV2ZW50LnR5cGUgIT0gIm1vdXNlbW92ZSIgJiYgIm1vek1vdmVtZW50WCIgaW4gZXZlbnQpIHsKICAgICAgICAgICAgQnJvd3Nlci5tb3VzZU1vdmVtZW50WCA9IEJyb3dzZXIubW91c2VNb3ZlbWVudFkgPSAwOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgQnJvd3Nlci5tb3VzZU1vdmVtZW50WCA9IEJyb3dzZXIuZ2V0TW92ZW1lbnRYKGV2ZW50KTsKICAgICAgICAgICAgQnJvd3Nlci5tb3VzZU1vdmVtZW50WSA9IEJyb3dzZXIuZ2V0TW92ZW1lbnRZKGV2ZW50KTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodHlwZW9mIFNETCAhPSAidW5kZWZpbmVkIikgewogICAgICAgICAgICBCcm93c2VyLm1vdXNlWCA9IFNETC5tb3VzZVggKyBCcm93c2VyLm1vdXNlTW92ZW1lbnRYOwogICAgICAgICAgICBCcm93c2VyLm1vdXNlWSA9IFNETC5tb3VzZVkgKyBCcm93c2VyLm1vdXNlTW92ZW1lbnRZOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgQnJvd3Nlci5tb3VzZVggKz0gQnJvd3Nlci5tb3VzZU1vdmVtZW50WDsKICAgICAgICAgICAgQnJvd3Nlci5tb3VzZVkgKz0gQnJvd3Nlci5tb3VzZU1vdmVtZW50WTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIHJlY3QgPSBNb2R1bGVbImNhbnZhcyJdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgdmFyIGN3ID0gTW9kdWxlWyJjYW52YXMiXS53aWR0aDsKICAgICAgICAgIHZhciBjaCA9IE1vZHVsZVsiY2FudmFzIl0uaGVpZ2h0OwogICAgICAgICAgdmFyIHNjcm9sbFggPSB0eXBlb2Ygd2luZG93LnNjcm9sbFggIT09ICJ1bmRlZmluZWQiID8gd2luZG93LnNjcm9sbFggOiB3aW5kb3cucGFnZVhPZmZzZXQ7CiAgICAgICAgICB2YXIgc2Nyb2xsWSA9IHR5cGVvZiB3aW5kb3cuc2Nyb2xsWSAhPT0gInVuZGVmaW5lZCIgPyB3aW5kb3cuc2Nyb2xsWSA6IHdpbmRvdy5wYWdlWU9mZnNldDsKCiAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gInRvdWNoc3RhcnQiIHx8IGV2ZW50LnR5cGUgPT09ICJ0b3VjaGVuZCIgfHwgZXZlbnQudHlwZSA9PT0gInRvdWNobW92ZSIpIHsKICAgICAgICAgICAgdmFyIHRvdWNoID0gZXZlbnQudG91Y2g7CgogICAgICAgICAgICBpZiAodG91Y2ggPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIGFkanVzdGVkWCA9IHRvdWNoLnBhZ2VYIC0gKHNjcm9sbFggKyByZWN0LmxlZnQpOwogICAgICAgICAgICB2YXIgYWRqdXN0ZWRZID0gdG91Y2gucGFnZVkgLSAoc2Nyb2xsWSArIHJlY3QudG9wKTsKICAgICAgICAgICAgYWRqdXN0ZWRYID0gYWRqdXN0ZWRYICogKGN3IC8gcmVjdC53aWR0aCk7CiAgICAgICAgICAgIGFkanVzdGVkWSA9IGFkanVzdGVkWSAqIChjaCAvIHJlY3QuaGVpZ2h0KTsKICAgICAgICAgICAgdmFyIGNvb3JkcyA9IHsKICAgICAgICAgICAgICB4OiBhZGp1c3RlZFgsCiAgICAgICAgICAgICAgeTogYWRqdXN0ZWRZCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gInRvdWNoc3RhcnQiKSB7CiAgICAgICAgICAgICAgQnJvd3Nlci5sYXN0VG91Y2hlc1t0b3VjaC5pZGVudGlmaWVyXSA9IGNvb3JkczsKICAgICAgICAgICAgICBCcm93c2VyLnRvdWNoZXNbdG91Y2guaWRlbnRpZmllcl0gPSBjb29yZHM7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gInRvdWNoZW5kIiB8fCBldmVudC50eXBlID09PSAidG91Y2htb3ZlIikgewogICAgICAgICAgICAgIHZhciBsYXN0ID0gQnJvd3Nlci50b3VjaGVzW3RvdWNoLmlkZW50aWZpZXJdOwogICAgICAgICAgICAgIGlmICghbGFzdCkgbGFzdCA9IGNvb3JkczsKICAgICAgICAgICAgICBCcm93c2VyLmxhc3RUb3VjaGVzW3RvdWNoLmlkZW50aWZpZXJdID0gbGFzdDsKICAgICAgICAgICAgICBCcm93c2VyLnRvdWNoZXNbdG91Y2guaWRlbnRpZmllcl0gPSBjb29yZHM7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgeCA9IGV2ZW50LnBhZ2VYIC0gKHNjcm9sbFggKyByZWN0LmxlZnQpOwogICAgICAgICAgdmFyIHkgPSBldmVudC5wYWdlWSAtIChzY3JvbGxZICsgcmVjdC50b3ApOwogICAgICAgICAgeCA9IHggKiAoY3cgLyByZWN0LndpZHRoKTsKICAgICAgICAgIHkgPSB5ICogKGNoIC8gcmVjdC5oZWlnaHQpOwogICAgICAgICAgQnJvd3Nlci5tb3VzZU1vdmVtZW50WCA9IHggLSBCcm93c2VyLm1vdXNlWDsKICAgICAgICAgIEJyb3dzZXIubW91c2VNb3ZlbWVudFkgPSB5IC0gQnJvd3Nlci5tb3VzZVk7CiAgICAgICAgICBCcm93c2VyLm1vdXNlWCA9IHg7CiAgICAgICAgICBCcm93c2VyLm1vdXNlWSA9IHk7CiAgICAgICAgfQogICAgICB9LAogICAgICBhc3luY0xvYWQ6IGZ1bmN0aW9uIGFzeW5jTG9hZCh1cmwsIG9ubG9hZCwgb25lcnJvciwgbm9SdW5EZXApIHsKICAgICAgICB2YXIgZGVwID0gIW5vUnVuRGVwID8gZ2V0VW5pcXVlUnVuRGVwZW5kZW5jeSgiYWwgIiArIHVybCkgOiAiIjsKICAgICAgICByZWFkQXN5bmModXJsLCBmdW5jdGlvbiAoYXJyYXlCdWZmZXIpIHsKICAgICAgICAgIGFzc2VydChhcnJheUJ1ZmZlciwgJ0xvYWRpbmcgZGF0YSBmaWxlICInICsgdXJsICsgJyIgZmFpbGVkIChubyBhcnJheUJ1ZmZlcikuJyk7CiAgICAgICAgICBvbmxvYWQobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTsKICAgICAgICAgIGlmIChkZXApIHJlbW92ZVJ1bkRlcGVuZGVuY3koZGVwKTsKICAgICAgICB9LCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgIGlmIChvbmVycm9yKSB7CiAgICAgICAgICAgIG9uZXJyb3IoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRocm93ICdMb2FkaW5nIGRhdGEgZmlsZSAiJyArIHVybCArICciIGZhaWxlZC4nOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGlmIChkZXApIGFkZFJ1bkRlcGVuZGVuY3koZGVwKTsKICAgICAgfSwKICAgICAgcmVzaXplTGlzdGVuZXJzOiBbXSwKICAgICAgdXBkYXRlUmVzaXplTGlzdGVuZXJzOiBmdW5jdGlvbiB1cGRhdGVSZXNpemVMaXN0ZW5lcnMoKSB7CiAgICAgICAgdmFyIGNhbnZhcyA9IE1vZHVsZVsiY2FudmFzIl07CiAgICAgICAgQnJvd3Nlci5yZXNpemVMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHsKICAgICAgICAgIGxpc3RlbmVyKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHNldENhbnZhc1NpemU6IGZ1bmN0aW9uIHNldENhbnZhc1NpemUod2lkdGgsIGhlaWdodCwgbm9VcGRhdGVzKSB7CiAgICAgICAgdmFyIGNhbnZhcyA9IE1vZHVsZVsiY2FudmFzIl07CiAgICAgICAgQnJvd3Nlci51cGRhdGVDYW52YXNEaW1lbnNpb25zKGNhbnZhcywgd2lkdGgsIGhlaWdodCk7CiAgICAgICAgaWYgKCFub1VwZGF0ZXMpIEJyb3dzZXIudXBkYXRlUmVzaXplTGlzdGVuZXJzKCk7CiAgICAgIH0sCiAgICAgIHdpbmRvd2VkV2lkdGg6IDAsCiAgICAgIHdpbmRvd2VkSGVpZ2h0OiAwLAogICAgICBzZXRGdWxsc2NyZWVuQ2FudmFzU2l6ZTogZnVuY3Rpb24gc2V0RnVsbHNjcmVlbkNhbnZhc1NpemUoKSB7CiAgICAgICAgaWYgKHR5cGVvZiBTREwgIT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgIHZhciBmbGFncyA9IEhFQVBVMzJbU0RMLnNjcmVlbiA+PiAyXTsKICAgICAgICAgIGZsYWdzID0gZmxhZ3MgfCA4Mzg4NjA4OwogICAgICAgICAgSEVBUDMyW1NETC5zY3JlZW4gPj4gMl0gPSBmbGFnczsKICAgICAgICB9CgogICAgICAgIEJyb3dzZXIudXBkYXRlQ2FudmFzRGltZW5zaW9ucyhNb2R1bGVbImNhbnZhcyJdKTsKICAgICAgICBCcm93c2VyLnVwZGF0ZVJlc2l6ZUxpc3RlbmVycygpOwogICAgICB9LAogICAgICBzZXRXaW5kb3dlZENhbnZhc1NpemU6IGZ1bmN0aW9uIHNldFdpbmRvd2VkQ2FudmFzU2l6ZSgpIHsKICAgICAgICBpZiAodHlwZW9mIFNETCAhPSAidW5kZWZpbmVkIikgewogICAgICAgICAgdmFyIGZsYWdzID0gSEVBUFUzMltTREwuc2NyZWVuID4+IDJdOwogICAgICAgICAgZmxhZ3MgPSBmbGFncyAmIH44Mzg4NjA4OwogICAgICAgICAgSEVBUDMyW1NETC5zY3JlZW4gPj4gMl0gPSBmbGFnczsKICAgICAgICB9CgogICAgICAgIEJyb3dzZXIudXBkYXRlQ2FudmFzRGltZW5zaW9ucyhNb2R1bGVbImNhbnZhcyJdKTsKICAgICAgICBCcm93c2VyLnVwZGF0ZVJlc2l6ZUxpc3RlbmVycygpOwogICAgICB9LAogICAgICB1cGRhdGVDYW52YXNEaW1lbnNpb25zOiBmdW5jdGlvbiB1cGRhdGVDYW52YXNEaW1lbnNpb25zKGNhbnZhcywgd05hdGl2ZSwgaE5hdGl2ZSkgewogICAgICAgIGlmICh3TmF0aXZlICYmIGhOYXRpdmUpIHsKICAgICAgICAgIGNhbnZhcy53aWR0aE5hdGl2ZSA9IHdOYXRpdmU7CiAgICAgICAgICBjYW52YXMuaGVpZ2h0TmF0aXZlID0gaE5hdGl2ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgd05hdGl2ZSA9IGNhbnZhcy53aWR0aE5hdGl2ZTsKICAgICAgICAgIGhOYXRpdmUgPSBjYW52YXMuaGVpZ2h0TmF0aXZlOwogICAgICAgIH0KCiAgICAgICAgdmFyIHcgPSB3TmF0aXZlOwogICAgICAgIHZhciBoID0gaE5hdGl2ZTsKCiAgICAgICAgaWYgKE1vZHVsZVsiZm9yY2VkQXNwZWN0UmF0aW8iXSAmJiBNb2R1bGVbImZvcmNlZEFzcGVjdFJhdGlvIl0gPiAwKSB7CiAgICAgICAgICBpZiAodyAvIGggPCBNb2R1bGVbImZvcmNlZEFzcGVjdFJhdGlvIl0pIHsKICAgICAgICAgICAgdyA9IE1hdGgucm91bmQoaCAqIE1vZHVsZVsiZm9yY2VkQXNwZWN0UmF0aW8iXSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBoID0gTWF0aC5yb3VuZCh3IC8gTW9kdWxlWyJmb3JjZWRBc3BlY3RSYXRpbyJdKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICgoZG9jdW1lbnRbImZ1bGxzY3JlZW5FbGVtZW50Il0gfHwgZG9jdW1lbnRbIm1vekZ1bGxTY3JlZW5FbGVtZW50Il0gfHwgZG9jdW1lbnRbIm1zRnVsbHNjcmVlbkVsZW1lbnQiXSB8fCBkb2N1bWVudFsid2Via2l0RnVsbHNjcmVlbkVsZW1lbnQiXSB8fCBkb2N1bWVudFsid2Via2l0Q3VycmVudEZ1bGxTY3JlZW5FbGVtZW50Il0pID09PSBjYW52YXMucGFyZW50Tm9kZSAmJiB0eXBlb2Ygc2NyZWVuICE9ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICB2YXIgZmFjdG9yID0gTWF0aC5taW4oc2NyZWVuLndpZHRoIC8gdywgc2NyZWVuLmhlaWdodCAvIGgpOwogICAgICAgICAgdyA9IE1hdGgucm91bmQodyAqIGZhY3Rvcik7CiAgICAgICAgICBoID0gTWF0aC5yb3VuZChoICogZmFjdG9yKTsKICAgICAgICB9CgogICAgICAgIGlmIChCcm93c2VyLnJlc2l6ZUNhbnZhcykgewogICAgICAgICAgaWYgKGNhbnZhcy53aWR0aCAhPSB3KSBjYW52YXMud2lkdGggPSB3OwogICAgICAgICAgaWYgKGNhbnZhcy5oZWlnaHQgIT0gaCkgY2FudmFzLmhlaWdodCA9IGg7CgogICAgICAgICAgaWYgKHR5cGVvZiBjYW52YXMuc3R5bGUgIT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgY2FudmFzLnN0eWxlLnJlbW92ZVByb3BlcnR5KCJ3aWR0aCIpOwogICAgICAgICAgICBjYW52YXMuc3R5bGUucmVtb3ZlUHJvcGVydHkoImhlaWdodCIpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoY2FudmFzLndpZHRoICE9IHdOYXRpdmUpIGNhbnZhcy53aWR0aCA9IHdOYXRpdmU7CiAgICAgICAgICBpZiAoY2FudmFzLmhlaWdodCAhPSBoTmF0aXZlKSBjYW52YXMuaGVpZ2h0ID0gaE5hdGl2ZTsKCiAgICAgICAgICBpZiAodHlwZW9mIGNhbnZhcy5zdHlsZSAhPSAidW5kZWZpbmVkIikgewogICAgICAgICAgICBpZiAodyAhPSB3TmF0aXZlIHx8IGggIT0gaE5hdGl2ZSkgewogICAgICAgICAgICAgIGNhbnZhcy5zdHlsZS5zZXRQcm9wZXJ0eSgid2lkdGgiLCB3ICsgInB4IiwgImltcG9ydGFudCIpOwogICAgICAgICAgICAgIGNhbnZhcy5zdHlsZS5zZXRQcm9wZXJ0eSgiaGVpZ2h0IiwgaCArICJweCIsICJpbXBvcnRhbnQiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBjYW52YXMuc3R5bGUucmVtb3ZlUHJvcGVydHkoIndpZHRoIik7CiAgICAgICAgICAgICAgY2FudmFzLnN0eWxlLnJlbW92ZVByb3BlcnR5KCJoZWlnaHQiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgd2dldFJlcXVlc3RzOiB7fSwKICAgICAgbmV4dFdnZXRSZXF1ZXN0SGFuZGxlOiAwLAogICAgICBnZXROZXh0V2dldFJlcXVlc3RIYW5kbGU6IGZ1bmN0aW9uIGdldE5leHRXZ2V0UmVxdWVzdEhhbmRsZSgpIHsKICAgICAgICB2YXIgaGFuZGxlID0gQnJvd3Nlci5uZXh0V2dldFJlcXVlc3RIYW5kbGU7CiAgICAgICAgQnJvd3Nlci5uZXh0V2dldFJlcXVlc3RIYW5kbGUrKzsKICAgICAgICByZXR1cm4gaGFuZGxlOwogICAgICB9CiAgICB9OwoKICAgIGZ1bmN0aW9uIF9lbXNjcmlwdGVuX2FzeW5jX3dnZXQyX2Fib3J0KGhhbmRsZSkgewogICAgICB2YXIgaHR0cCA9IEJyb3dzZXIud2dldFJlcXVlc3RzW2hhbmRsZV07CgogICAgICBpZiAoaHR0cCkgewogICAgICAgIGh0dHAuYWJvcnQoKTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIF9lbXNjcmlwdGVuX2FzeW5jX3dnZXQyX2RhdGEodXJsLCByZXF1ZXN0LCBwYXJhbSwgYXJnLCBmcmVlLCBvbmxvYWQsIG9uZXJyb3IsIG9ucHJvZ3Jlc3MpIHsKICAgICAgdmFyIF91cmwgPSBVVEY4VG9TdHJpbmcodXJsKTsKCiAgICAgIHZhciBfcmVxdWVzdCA9IFVURjhUb1N0cmluZyhyZXF1ZXN0KTsKCiAgICAgIHZhciBfcGFyYW0gPSBVVEY4VG9TdHJpbmcocGFyYW0pOwoKICAgICAgdmFyIGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgaHR0cC5vcGVuKF9yZXF1ZXN0LCBfdXJsLCB0cnVlKTsKICAgICAgaHR0cC5yZXNwb25zZVR5cGUgPSAiYXJyYXlidWZmZXIiOwogICAgICB2YXIgaGFuZGxlID0gQnJvd3Nlci5nZXROZXh0V2dldFJlcXVlc3RIYW5kbGUoKTsKCiAgICAgIGh0dHAub25sb2FkID0gZnVuY3Rpb24gaHR0cF9vbmxvYWQoZSkgewogICAgICAgIGlmIChodHRwLnN0YXR1cyA+PSAyMDAgJiYgaHR0cC5zdGF0dXMgPCAzMDAgfHwgaHR0cC5zdGF0dXMgPT09IDAgJiYgX3VybC5zdWJzdHIoMCwgNCkudG9Mb3dlckNhc2UoKSAhPSAiaHR0cCIpIHsKICAgICAgICAgIHZhciBieXRlQXJyYXkgPSBuZXcgVWludDhBcnJheShodHRwLnJlc3BvbnNlKTsKCiAgICAgICAgICB2YXIgYnVmZmVyID0gX21hbGxvYyhieXRlQXJyYXkubGVuZ3RoKTsKCiAgICAgICAgICBIRUFQVTguc2V0KGJ5dGVBcnJheSwgYnVmZmVyKTsKICAgICAgICAgIGlmIChvbmxvYWQpIGR5bkNhbGxfdmlpaWkob25sb2FkLCBoYW5kbGUsIGFyZywgYnVmZmVyLCBieXRlQXJyYXkubGVuZ3RoKTsKICAgICAgICAgIGlmIChmcmVlKSBfZnJlZShidWZmZXIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAob25lcnJvcikgZHluQ2FsbF92aWlpaShvbmVycm9yLCBoYW5kbGUsIGFyZywgaHR0cC5zdGF0dXMsIGh0dHAuc3RhdHVzVGV4dCk7CiAgICAgICAgfQoKICAgICAgICBkZWxldGUgQnJvd3Nlci53Z2V0UmVxdWVzdHNbaGFuZGxlXTsKICAgICAgfTsKCiAgICAgIGh0dHAub25lcnJvciA9IGZ1bmN0aW9uIGh0dHBfb25lcnJvcihlKSB7CiAgICAgICAgaWYgKG9uZXJyb3IpIHsKICAgICAgICAgIGR5bkNhbGxfdmlpaWkob25lcnJvciwgaGFuZGxlLCBhcmcsIGh0dHAuc3RhdHVzLCBodHRwLnN0YXR1c1RleHQpOwogICAgICAgIH0KCiAgICAgICAgZGVsZXRlIEJyb3dzZXIud2dldFJlcXVlc3RzW2hhbmRsZV07CiAgICAgIH07CgogICAgICBodHRwLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiBodHRwX29ucHJvZ3Jlc3MoZSkgewogICAgICAgIGlmIChvbnByb2dyZXNzKSBkeW5DYWxsX3ZpaWlpKG9ucHJvZ3Jlc3MsIGhhbmRsZSwgYXJnLCBlLmxvYWRlZCwgZS5sZW5ndGhDb21wdXRhYmxlIHx8IGUubGVuZ3RoQ29tcHV0YWJsZSA9PT0gdW5kZWZpbmVkID8gZS50b3RhbCA6IDApOwogICAgICB9OwoKICAgICAgaHR0cC5vbmFib3J0ID0gZnVuY3Rpb24gaHR0cF9vbmFib3J0KGUpIHsKICAgICAgICBkZWxldGUgQnJvd3Nlci53Z2V0UmVxdWVzdHNbaGFuZGxlXTsKICAgICAgfTsKCiAgICAgIGlmIChfcmVxdWVzdCA9PSAiUE9TVCIpIHsKICAgICAgICBodHRwLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtdHlwZSIsICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKTsKICAgICAgICBodHRwLnNlbmQoX3BhcmFtKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBodHRwLnNlbmQobnVsbCk7CiAgICAgIH0KCiAgICAgIEJyb3dzZXIud2dldFJlcXVlc3RzW2hhbmRsZV0gPSBodHRwOwogICAgICByZXR1cm4gaGFuZGxlOwogICAgfQoKICAgIGZ1bmN0aW9uIF9sb25nam1wKGVudiwgdmFsdWUpIHsKICAgICAgX3NldFRocmV3KGVudiwgdmFsdWUgfHwgMSk7CgogICAgICB0aHJvdyAibG9uZ2ptcCI7CiAgICB9CgogICAgZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fbG9uZ2ptcChlbnYsIHZhbHVlKSB7CiAgICAgIF9sb25nam1wKGVudiwgdmFsdWUpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9lbXNjcmlwdGVuX21lbWNweV9iaWcoZGVzdCwgc3JjLCBudW0pIHsKICAgICAgSEVBUFU4LmNvcHlXaXRoaW4oZGVzdCwgc3JjLCBzcmMgKyBudW0pOwogICAgfQoKICAgIGZ1bmN0aW9uIF9lbXNjcmlwdGVuX2dldF9oZWFwX3NpemUoKSB7CiAgICAgIHJldHVybiBIRUFQVTgubGVuZ3RoOwogICAgfQoKICAgIGZ1bmN0aW9uIGVtc2NyaXB0ZW5fcmVhbGxvY19idWZmZXIoc2l6ZSkgewogICAgICB0cnkgewogICAgICAgIHdhc21NZW1vcnkuZ3JvdyhzaXplIC0gYnVmZmVyLmJ5dGVMZW5ndGggKyA2NTUzNSA+Pj4gMTYpOwogICAgICAgIHVwZGF0ZUdsb2JhbEJ1ZmZlckFuZFZpZXdzKHdhc21NZW1vcnkuYnVmZmVyKTsKICAgICAgICByZXR1cm4gMTsKICAgICAgfSBjYXRjaCAoZSkge30KICAgIH0KCiAgICBmdW5jdGlvbiBfZW1zY3JpcHRlbl9yZXNpemVfaGVhcChyZXF1ZXN0ZWRTaXplKSB7CiAgICAgIHJlcXVlc3RlZFNpemUgPSByZXF1ZXN0ZWRTaXplID4+PiAwOwoKICAgICAgdmFyIG9sZFNpemUgPSBfZW1zY3JpcHRlbl9nZXRfaGVhcF9zaXplKCk7CgogICAgICB2YXIgUEFHRV9NVUxUSVBMRSA9IDY1NTM2OwogICAgICB2YXIgbWF4SGVhcFNpemUgPSAyMTQ3NDgzNjQ4OwoKICAgICAgaWYgKHJlcXVlc3RlZFNpemUgPiBtYXhIZWFwU2l6ZSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgdmFyIG1pbkhlYXBTaXplID0gMTY3NzcyMTY7CgogICAgICBmb3IgKHZhciBjdXREb3duID0gMTsgY3V0RG93biA8PSA0OyBjdXREb3duICo9IDIpIHsKICAgICAgICB2YXIgb3Zlckdyb3duSGVhcFNpemUgPSBvbGRTaXplICogKDEgKyAuMiAvIGN1dERvd24pOwogICAgICAgIG92ZXJHcm93bkhlYXBTaXplID0gTWF0aC5taW4ob3Zlckdyb3duSGVhcFNpemUsIHJlcXVlc3RlZFNpemUgKyAxMDA2NjMyOTYpOwogICAgICAgIHZhciBuZXdTaXplID0gTWF0aC5taW4obWF4SGVhcFNpemUsIGFsaWduVXAoTWF0aC5tYXgobWluSGVhcFNpemUsIHJlcXVlc3RlZFNpemUsIG92ZXJHcm93bkhlYXBTaXplKSwgUEFHRV9NVUxUSVBMRSkpOwogICAgICAgIHZhciByZXBsYWNlbWVudCA9IGVtc2NyaXB0ZW5fcmVhbGxvY19idWZmZXIobmV3U2l6ZSk7CgogICAgICAgIGlmIChyZXBsYWNlbWVudCkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgZnVuY3Rpb24gX2V4aXQoc3RhdHVzKSB7CiAgICAgIGV4aXQoc3RhdHVzKTsKICAgIH0KCiAgICB2YXIgUEFUSCA9IHsKICAgICAgc3BsaXRQYXRoOiBmdW5jdGlvbiBzcGxpdFBhdGgoZmlsZW5hbWUpIHsKICAgICAgICB2YXIgc3BsaXRQYXRoUmUgPSAvXihcLz98KShbXHNcU10qPykoKD86XC57MSwyfXxbXlwvXSs/fCkoXC5bXi5cL10qfCkpKD86W1wvXSopJC87CiAgICAgICAgcmV0dXJuIHNwbGl0UGF0aFJlLmV4ZWMoZmlsZW5hbWUpLnNsaWNlKDEpOwogICAgICB9LAogICAgICBub3JtYWxpemVBcnJheTogZnVuY3Rpb24gbm9ybWFsaXplQXJyYXkocGFydHMsIGFsbG93QWJvdmVSb290KSB7CiAgICAgICAgdmFyIHVwID0gMDsKCiAgICAgICAgZm9yICh2YXIgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICB2YXIgbGFzdCA9IHBhcnRzW2ldOwoKICAgICAgICAgIGlmIChsYXN0ID09PSAiLiIpIHsKICAgICAgICAgICAgcGFydHMuc3BsaWNlKGksIDEpOwogICAgICAgICAgfSBlbHNlIGlmIChsYXN0ID09PSAiLi4iKSB7CiAgICAgICAgICAgIHBhcnRzLnNwbGljZShpLCAxKTsKICAgICAgICAgICAgdXArKzsKICAgICAgICAgIH0gZWxzZSBpZiAodXApIHsKICAgICAgICAgICAgcGFydHMuc3BsaWNlKGksIDEpOwogICAgICAgICAgICB1cC0tOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGFsbG93QWJvdmVSb290KSB7CiAgICAgICAgICBmb3IgKDsgdXA7IHVwLS0pIHsKICAgICAgICAgICAgcGFydHMudW5zaGlmdCgiLi4iKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBwYXJ0czsKICAgICAgfSwKICAgICAgbm9ybWFsaXplOiBmdW5jdGlvbiBub3JtYWxpemUocGF0aCkgewogICAgICAgIHZhciBpc0Fic29sdXRlID0gcGF0aC5jaGFyQXQoMCkgPT09ICIvIiwKICAgICAgICAgICAgdHJhaWxpbmdTbGFzaCA9IHBhdGguc3Vic3RyKC0xKSA9PT0gIi8iOwogICAgICAgIHBhdGggPSBQQVRILm5vcm1hbGl6ZUFycmF5KHBhdGguc3BsaXQoIi8iKS5maWx0ZXIoZnVuY3Rpb24gKHApIHsKICAgICAgICAgIHJldHVybiAhIXA7CiAgICAgICAgfSksICFpc0Fic29sdXRlKS5qb2luKCIvIik7CgogICAgICAgIGlmICghcGF0aCAmJiAhaXNBYnNvbHV0ZSkgewogICAgICAgICAgcGF0aCA9ICIuIjsKICAgICAgICB9CgogICAgICAgIGlmIChwYXRoICYmIHRyYWlsaW5nU2xhc2gpIHsKICAgICAgICAgIHBhdGggKz0gIi8iOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIChpc0Fic29sdXRlID8gIi8iIDogIiIpICsgcGF0aDsKICAgICAgfSwKICAgICAgZGlybmFtZTogZnVuY3Rpb24gZGlybmFtZShwYXRoKSB7CiAgICAgICAgdmFyIHJlc3VsdCA9IFBBVEguc3BsaXRQYXRoKHBhdGgpLAogICAgICAgICAgICByb290ID0gcmVzdWx0WzBdLAogICAgICAgICAgICBkaXIgPSByZXN1bHRbMV07CgogICAgICAgIGlmICghcm9vdCAmJiAhZGlyKSB7CiAgICAgICAgICByZXR1cm4gIi4iOwogICAgICAgIH0KCiAgICAgICAgaWYgKGRpcikgewogICAgICAgICAgZGlyID0gZGlyLnN1YnN0cigwLCBkaXIubGVuZ3RoIC0gMSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcm9vdCArIGRpcjsKICAgICAgfSwKICAgICAgYmFzZW5hbWU6IGZ1bmN0aW9uIGJhc2VuYW1lKHBhdGgpIHsKICAgICAgICBpZiAocGF0aCA9PT0gIi8iKSByZXR1cm4gIi8iOwogICAgICAgIHZhciBsYXN0U2xhc2ggPSBwYXRoLmxhc3RJbmRleE9mKCIvIik7CiAgICAgICAgaWYgKGxhc3RTbGFzaCA9PT0gLTEpIHJldHVybiBwYXRoOwogICAgICAgIHJldHVybiBwYXRoLnN1YnN0cihsYXN0U2xhc2ggKyAxKTsKICAgICAgfSwKICAgICAgZXh0bmFtZTogZnVuY3Rpb24gZXh0bmFtZShwYXRoKSB7CiAgICAgICAgcmV0dXJuIFBBVEguc3BsaXRQYXRoKHBhdGgpWzNdOwogICAgICB9LAogICAgICBqb2luOiBmdW5jdGlvbiBqb2luKCkgewogICAgICAgIHZhciBwYXRocyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7CiAgICAgICAgcmV0dXJuIFBBVEgubm9ybWFsaXplKHBhdGhzLmpvaW4oIi8iKSk7CiAgICAgIH0sCiAgICAgIGpvaW4yOiBmdW5jdGlvbiBqb2luMihsLCByKSB7CiAgICAgICAgcmV0dXJuIFBBVEgubm9ybWFsaXplKGwgKyAiLyIgKyByKTsKICAgICAgfQogICAgfTsKICAgIHZhciBTWVNDQUxMUyA9IHsKICAgICAgbWFwcGluZ3M6IHt9LAogICAgICBidWZmZXJzOiBbbnVsbCwgW10sIFtdXSwKICAgICAgcHJpbnRDaGFyOiBmdW5jdGlvbiBwcmludENoYXIoc3RyZWFtLCBjdXJyKSB7CiAgICAgICAgdmFyIGJ1ZmZlciA9IFNZU0NBTExTLmJ1ZmZlcnNbc3RyZWFtXTsKCiAgICAgICAgaWYgKGN1cnIgPT09IDAgfHwgY3VyciA9PT0gMTApIHsKICAgICAgICAgIChzdHJlYW0gPT09IDEgPyBvdXQgOiBlcnIpKFVURjhBcnJheVRvU3RyaW5nKGJ1ZmZlciwgMCkpOwogICAgICAgICAgYnVmZmVyLmxlbmd0aCA9IDA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGJ1ZmZlci5wdXNoKGN1cnIpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdmFyYXJnczogdW5kZWZpbmVkLAogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICBTWVNDQUxMUy52YXJhcmdzICs9IDQ7CiAgICAgICAgdmFyIHJldCA9IEhFQVAzMltTWVNDQUxMUy52YXJhcmdzIC0gNCA+PiAyXTsKICAgICAgICByZXR1cm4gcmV0OwogICAgICB9LAogICAgICBnZXRTdHI6IGZ1bmN0aW9uIGdldFN0cihwdHIpIHsKICAgICAgICB2YXIgcmV0ID0gVVRGOFRvU3RyaW5nKHB0cik7CiAgICAgICAgcmV0dXJuIHJldDsKICAgICAgfSwKICAgICAgZ2V0NjQ6IGZ1bmN0aW9uIGdldDY0KGxvdywgaGlnaCkgewogICAgICAgIHJldHVybiBsb3c7CiAgICAgIH0KICAgIH07CgogICAgZnVuY3Rpb24gX2ZkX2Nsb3NlKGZkKSB7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGZ1bmN0aW9uIF9mZF9yZWFkKGZkLCBpb3YsIGlvdmNudCwgcG51bSkgewogICAgICB2YXIgc3RyZWFtID0gU1lTQ0FMTFMuZ2V0U3RyZWFtRnJvbUZEKGZkKTsKICAgICAgdmFyIG51bSA9IFNZU0NBTExTLmRvUmVhZHYoc3RyZWFtLCBpb3YsIGlvdmNudCk7CiAgICAgIEhFQVAzMltwbnVtID4+IDJdID0gbnVtOwogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICBmdW5jdGlvbiBfZmRfc2VlayhmZCwgb2Zmc2V0X2xvdywgb2Zmc2V0X2hpZ2gsIHdoZW5jZSwgbmV3T2Zmc2V0KSB7fQoKICAgIGZ1bmN0aW9uIF9mZF93cml0ZShmZCwgaW92LCBpb3ZjbnQsIHBudW0pIHsKICAgICAgdmFyIG51bSA9IDA7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlvdmNudDsgaSsrKSB7CiAgICAgICAgdmFyIHB0ciA9IEhFQVAzMltpb3YgKyBpICogOCA+PiAyXTsKICAgICAgICB2YXIgbGVuID0gSEVBUDMyW2lvdiArIChpICogOCArIDQpID4+IDJdOwoKICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxlbjsgaisrKSB7CiAgICAgICAgICBTWVNDQUxMUy5wcmludENoYXIoZmQsIEhFQVBVOFtwdHIgKyBqXSk7CiAgICAgICAgfQoKICAgICAgICBudW0gKz0gbGVuOwogICAgICB9CgogICAgICBIRUFQMzJbcG51bSA+PiAyXSA9IG51bTsKICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgZnVuY3Rpb24gX2dldFRlbXBSZXQwKCkgewogICAgICByZXR1cm4gZ2V0VGVtcFJldDAoKSB8IDA7CiAgICB9CgogICAgZnVuY3Rpb24gX2dldHRpbWVvZmRheShwdHIpIHsKICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7CiAgICAgIEhFQVAzMltwdHIgPj4gMl0gPSBub3cgLyAxZTMgfCAwOwogICAgICBIRUFQMzJbcHRyICsgNCA+PiAyXSA9IG5vdyAlIDFlMyAqIDFlMyB8IDA7CiAgICAgIHJldHVybiAwOwogICAgfQoKICAgIGZ1bmN0aW9uIF9fd2ViZ2xfZW5hYmxlX0FOR0xFX2luc3RhbmNlZF9hcnJheXMoY3R4KSB7CiAgICAgIHZhciBleHQgPSBjdHguZ2V0RXh0ZW5zaW9uKCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIik7CgogICAgICBpZiAoZXh0KSB7CiAgICAgICAgY3R4WyJ2ZXJ0ZXhBdHRyaWJEaXZpc29yIl0gPSBmdW5jdGlvbiAoaW5kZXgsIGRpdmlzb3IpIHsKICAgICAgICAgIGV4dFsidmVydGV4QXR0cmliRGl2aXNvckFOR0xFIl0oaW5kZXgsIGRpdmlzb3IpOwogICAgICAgIH07CgogICAgICAgIGN0eFsiZHJhd0FycmF5c0luc3RhbmNlZCJdID0gZnVuY3Rpb24gKG1vZGUsIGZpcnN0LCBjb3VudCwgcHJpbWNvdW50KSB7CiAgICAgICAgICBleHRbImRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRSJdKG1vZGUsIGZpcnN0LCBjb3VudCwgcHJpbWNvdW50KTsKICAgICAgICB9OwoKICAgICAgICBjdHhbImRyYXdFbGVtZW50c0luc3RhbmNlZCJdID0gZnVuY3Rpb24gKG1vZGUsIGNvdW50LCB0eXBlLCBpbmRpY2VzLCBwcmltY291bnQpIHsKICAgICAgICAgIGV4dFsiZHJhd0VsZW1lbnRzSW5zdGFuY2VkQU5HTEUiXShtb2RlLCBjb3VudCwgdHlwZSwgaW5kaWNlcywgcHJpbWNvdW50KTsKICAgICAgICB9OwoKICAgICAgICByZXR1cm4gMTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIF9fd2ViZ2xfZW5hYmxlX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0KGN0eCkgewogICAgICB2YXIgZXh0ID0gY3R4LmdldEV4dGVuc2lvbigiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiKTsKCiAgICAgIGlmIChleHQpIHsKICAgICAgICBjdHhbImNyZWF0ZVZlcnRleEFycmF5Il0gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gZXh0WyJjcmVhdGVWZXJ0ZXhBcnJheU9FUyJdKCk7CiAgICAgICAgfTsKCiAgICAgICAgY3R4WyJkZWxldGVWZXJ0ZXhBcnJheSJdID0gZnVuY3Rpb24gKHZhbykgewogICAgICAgICAgZXh0WyJkZWxldGVWZXJ0ZXhBcnJheU9FUyJdKHZhbyk7CiAgICAgICAgfTsKCiAgICAgICAgY3R4WyJiaW5kVmVydGV4QXJyYXkiXSA9IGZ1bmN0aW9uICh2YW8pIHsKICAgICAgICAgIGV4dFsiYmluZFZlcnRleEFycmF5T0VTIl0odmFvKTsKICAgICAgICB9OwoKICAgICAgICBjdHhbImlzVmVydGV4QXJyYXkiXSA9IGZ1bmN0aW9uICh2YW8pIHsKICAgICAgICAgIHJldHVybiBleHRbImlzVmVydGV4QXJyYXlPRVMiXSh2YW8pOwogICAgICAgIH07CgogICAgICAgIHJldHVybiAxOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gX193ZWJnbF9lbmFibGVfV0VCR0xfZHJhd19idWZmZXJzKGN0eCkgewogICAgICB2YXIgZXh0ID0gY3R4LmdldEV4dGVuc2lvbigiV0VCR0xfZHJhd19idWZmZXJzIik7CgogICAgICBpZiAoZXh0KSB7CiAgICAgICAgY3R4WyJkcmF3QnVmZmVycyJdID0gZnVuY3Rpb24gKG4sIGJ1ZnMpIHsKICAgICAgICAgIGV4dFsiZHJhd0J1ZmZlcnNXRUJHTCJdKG4sIGJ1ZnMpOwogICAgICAgIH07CgogICAgICAgIHJldHVybiAxOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gX193ZWJnbF9lbmFibGVfV0VCR0xfZHJhd19pbnN0YW5jZWRfYmFzZV92ZXJ0ZXhfYmFzZV9pbnN0YW5jZShjdHgpIHsKICAgICAgcmV0dXJuICEhKGN0eC5kaWJ2YmkgPSBjdHguZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kcmF3X2luc3RhbmNlZF9iYXNlX3ZlcnRleF9iYXNlX2luc3RhbmNlIikpOwogICAgfQoKICAgIHZhciBHTCA9IHsKICAgICAgY291bnRlcjogMSwKICAgICAgYnVmZmVyczogW10sCiAgICAgIHByb2dyYW1zOiBbXSwKICAgICAgZnJhbWVidWZmZXJzOiBbXSwKICAgICAgcmVuZGVyYnVmZmVyczogW10sCiAgICAgIHRleHR1cmVzOiBbXSwKICAgICAgdW5pZm9ybXM6IFtdLAogICAgICBzaGFkZXJzOiBbXSwKICAgICAgdmFvczogW10sCiAgICAgIGNvbnRleHRzOiBbXSwKICAgICAgb2Zmc2NyZWVuQ2FudmFzZXM6IHt9LAogICAgICB0aW1lclF1ZXJpZXNFWFQ6IFtdLAogICAgICBxdWVyaWVzOiBbXSwKICAgICAgc2FtcGxlcnM6IFtdLAogICAgICB0cmFuc2Zvcm1GZWVkYmFja3M6IFtdLAogICAgICBzeW5jczogW10sCiAgICAgIHByb2dyYW1JbmZvczoge30sCiAgICAgIHN0cmluZ0NhY2hlOiB7fSwKICAgICAgc3RyaW5naUNhY2hlOiB7fSwKICAgICAgdW5wYWNrQWxpZ25tZW50OiA0LAogICAgICByZWNvcmRFcnJvcjogZnVuY3Rpb24gcmVjb3JkRXJyb3IoZXJyb3JDb2RlKSB7CiAgICAgICAgaWYgKCFHTC5sYXN0RXJyb3IpIHsKICAgICAgICAgIEdMLmxhc3RFcnJvciA9IGVycm9yQ29kZTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGdldE5ld0lkOiBmdW5jdGlvbiBnZXROZXdJZCh0YWJsZSkgewogICAgICAgIHZhciByZXQgPSBHTC5jb3VudGVyKys7CgogICAgICAgIGZvciAodmFyIGkgPSB0YWJsZS5sZW5ndGg7IGkgPCByZXQ7IGkrKykgewogICAgICAgICAgdGFibGVbaV0gPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJldDsKICAgICAgfSwKICAgICAgZ2V0U291cmNlOiBmdW5jdGlvbiBnZXRTb3VyY2Uoc2hhZGVyLCBjb3VudCwgc3RyaW5nLCBsZW5ndGgpIHsKICAgICAgICB2YXIgc291cmNlID0gIiI7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7ICsraSkgewogICAgICAgICAgdmFyIGxlbiA9IGxlbmd0aCA/IEhFQVAzMltsZW5ndGggKyBpICogNCA+PiAyXSA6IC0xOwogICAgICAgICAgc291cmNlICs9IFVURjhUb1N0cmluZyhIRUFQMzJbc3RyaW5nICsgaSAqIDQgPj4gMl0sIGxlbiA8IDAgPyB1bmRlZmluZWQgOiBsZW4pOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHNvdXJjZTsKICAgICAgfSwKICAgICAgY3JlYXRlQ29udGV4dDogZnVuY3Rpb24gY3JlYXRlQ29udGV4dChjYW52YXMsIHdlYkdMQ29udGV4dEF0dHJpYnV0ZXMpIHsKICAgICAgICB2YXIgY3R4ID0gd2ViR0xDb250ZXh0QXR0cmlidXRlcy5tYWpvclZlcnNpb24gPiAxID8gY2FudmFzLmdldENvbnRleHQoIndlYmdsMiIsIHdlYkdMQ29udGV4dEF0dHJpYnV0ZXMpIDogY2FudmFzLmdldENvbnRleHQoIndlYmdsIiwgd2ViR0xDb250ZXh0QXR0cmlidXRlcyk7CiAgICAgICAgaWYgKCFjdHgpIHJldHVybiAwOwogICAgICAgIHZhciBoYW5kbGUgPSBHTC5yZWdpc3RlckNvbnRleHQoY3R4LCB3ZWJHTENvbnRleHRBdHRyaWJ1dGVzKTsKICAgICAgICByZXR1cm4gaGFuZGxlOwogICAgICB9LAogICAgICByZWdpc3RlckNvbnRleHQ6IGZ1bmN0aW9uIHJlZ2lzdGVyQ29udGV4dChjdHgsIHdlYkdMQ29udGV4dEF0dHJpYnV0ZXMpIHsKICAgICAgICB2YXIgaGFuZGxlID0gR0wuZ2V0TmV3SWQoR0wuY29udGV4dHMpOwogICAgICAgIHZhciBjb250ZXh0ID0gewogICAgICAgICAgaGFuZGxlOiBoYW5kbGUsCiAgICAgICAgICBhdHRyaWJ1dGVzOiB3ZWJHTENvbnRleHRBdHRyaWJ1dGVzLAogICAgICAgICAgdmVyc2lvbjogd2ViR0xDb250ZXh0QXR0cmlidXRlcy5tYWpvclZlcnNpb24sCiAgICAgICAgICBHTGN0eDogY3R4CiAgICAgICAgfTsKICAgICAgICBpZiAoY3R4LmNhbnZhcykgY3R4LmNhbnZhcy5HTGN0eE9iamVjdCA9IGNvbnRleHQ7CiAgICAgICAgR0wuY29udGV4dHNbaGFuZGxlXSA9IGNvbnRleHQ7CgogICAgICAgIGlmICh0eXBlb2Ygd2ViR0xDb250ZXh0QXR0cmlidXRlcy5lbmFibGVFeHRlbnNpb25zQnlEZWZhdWx0ID09PSAidW5kZWZpbmVkIiB8fCB3ZWJHTENvbnRleHRBdHRyaWJ1dGVzLmVuYWJsZUV4dGVuc2lvbnNCeURlZmF1bHQpIHsKICAgICAgICAgIEdMLmluaXRFeHRlbnNpb25zKGNvbnRleHQpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGhhbmRsZTsKICAgICAgfSwKICAgICAgbWFrZUNvbnRleHRDdXJyZW50OiBmdW5jdGlvbiBtYWtlQ29udGV4dEN1cnJlbnQoY29udGV4dEhhbmRsZSkgewogICAgICAgIEdMLmN1cnJlbnRDb250ZXh0ID0gR0wuY29udGV4dHNbY29udGV4dEhhbmRsZV07CiAgICAgICAgTW9kdWxlLmN0eCA9IEdMY3R4ID0gR0wuY3VycmVudENvbnRleHQgJiYgR0wuY3VycmVudENvbnRleHQuR0xjdHg7CiAgICAgICAgcmV0dXJuICEoY29udGV4dEhhbmRsZSAmJiAhR0xjdHgpOwogICAgICB9LAogICAgICBnZXRDb250ZXh0OiBmdW5jdGlvbiBnZXRDb250ZXh0KGNvbnRleHRIYW5kbGUpIHsKICAgICAgICByZXR1cm4gR0wuY29udGV4dHNbY29udGV4dEhhbmRsZV07CiAgICAgIH0sCiAgICAgIGRlbGV0ZUNvbnRleHQ6IGZ1bmN0aW9uIGRlbGV0ZUNvbnRleHQoY29udGV4dEhhbmRsZSkgewogICAgICAgIGlmIChHTC5jdXJyZW50Q29udGV4dCA9PT0gR0wuY29udGV4dHNbY29udGV4dEhhbmRsZV0pIEdMLmN1cnJlbnRDb250ZXh0ID0gbnVsbDsKICAgICAgICBpZiAoKHR5cGVvZiBKU0V2ZW50cyA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YoSlNFdmVudHMpKSA9PT0gIm9iamVjdCIpIEpTRXZlbnRzLnJlbW92ZUFsbEhhbmRsZXJzT25UYXJnZXQoR0wuY29udGV4dHNbY29udGV4dEhhbmRsZV0uR0xjdHguY2FudmFzKTsKICAgICAgICBpZiAoR0wuY29udGV4dHNbY29udGV4dEhhbmRsZV0gJiYgR0wuY29udGV4dHNbY29udGV4dEhhbmRsZV0uR0xjdHguY2FudmFzKSBHTC5jb250ZXh0c1tjb250ZXh0SGFuZGxlXS5HTGN0eC5jYW52YXMuR0xjdHhPYmplY3QgPSB1bmRlZmluZWQ7CiAgICAgICAgR0wuY29udGV4dHNbY29udGV4dEhhbmRsZV0gPSBudWxsOwogICAgICB9LAogICAgICBpbml0RXh0ZW5zaW9uczogZnVuY3Rpb24gaW5pdEV4dGVuc2lvbnMoY29udGV4dCkgewogICAgICAgIGlmICghY29udGV4dCkgY29udGV4dCA9IEdMLmN1cnJlbnRDb250ZXh0OwogICAgICAgIGlmIChjb250ZXh0LmluaXRFeHRlbnNpb25zRG9uZSkgcmV0dXJuOwogICAgICAgIGNvbnRleHQuaW5pdEV4dGVuc2lvbnNEb25lID0gdHJ1ZTsKICAgICAgICB2YXIgR0xjdHggPSBjb250ZXh0LkdMY3R4OwoKICAgICAgICBfX3dlYmdsX2VuYWJsZV9BTkdMRV9pbnN0YW5jZWRfYXJyYXlzKEdMY3R4KTsKCiAgICAgICAgX193ZWJnbF9lbmFibGVfT0VTX3ZlcnRleF9hcnJheV9vYmplY3QoR0xjdHgpOwoKICAgICAgICBfX3dlYmdsX2VuYWJsZV9XRUJHTF9kcmF3X2J1ZmZlcnMoR0xjdHgpOwoKICAgICAgICBfX3dlYmdsX2VuYWJsZV9XRUJHTF9kcmF3X2luc3RhbmNlZF9iYXNlX3ZlcnRleF9iYXNlX2luc3RhbmNlKEdMY3R4KTsKCiAgICAgICAgR0xjdHguZGlzam9pbnRUaW1lclF1ZXJ5RXh0ID0gR0xjdHguZ2V0RXh0ZW5zaW9uKCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnkiKTsKICAgICAgICB2YXIgYXV0b21hdGljYWxseUVuYWJsZWRFeHRlbnNpb25zID0gWyJPRVNfdGV4dHVyZV9mbG9hdCIsICJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0IiwgIk9FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyIsICJPRVNfdmVydGV4X2FycmF5X29iamVjdCIsICJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyIsICJXRUJHTF9kZXB0aF90ZXh0dXJlIiwgIk9FU19lbGVtZW50X2luZGV4X3VpbnQiLCAiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIiwgIkVYVF9mcmFnX2RlcHRoIiwgIldFQkdMX2RyYXdfYnVmZmVycyIsICJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIiwgIk9FU190ZXh0dXJlX2Zsb2F0X2xpbmVhciIsICJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhciIsICJFWFRfYmxlbmRfbWlubWF4IiwgIkVYVF9zaGFkZXJfdGV4dHVyZV9sb2QiLCAiRVhUX3RleHR1cmVfbm9ybTE2IiwgIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIsICJFWFRfY29sb3JfYnVmZmVyX2hhbGZfZmxvYXQiLCAiV0VCR0xfY29sb3JfYnVmZmVyX2Zsb2F0IiwgIkVYVF9zUkdCIiwgIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMxIiwgIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeSIsICJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjIiwgIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjIiwgIkVYVF9jb2xvcl9idWZmZXJfZmxvYXQiLCAiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYiIsICJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnlfd2ViZ2wyIiwgIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMiXTsKICAgICAgICB2YXIgZXh0cyA9IEdMY3R4LmdldFN1cHBvcnRlZEV4dGVuc2lvbnMoKSB8fCBbXTsKICAgICAgICBleHRzLmZvckVhY2goZnVuY3Rpb24gKGV4dCkgewogICAgICAgICAgaWYgKGF1dG9tYXRpY2FsbHlFbmFibGVkRXh0ZW5zaW9ucy5pbmRleE9mKGV4dCkgIT0gLTEpIHsKICAgICAgICAgICAgR0xjdHguZ2V0RXh0ZW5zaW9uKGV4dCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHBvcHVsYXRlVW5pZm9ybVRhYmxlOiBmdW5jdGlvbiBwb3B1bGF0ZVVuaWZvcm1UYWJsZShwcm9ncmFtKSB7CiAgICAgICAgdmFyIHAgPSBHTC5wcm9ncmFtc1twcm9ncmFtXTsKICAgICAgICB2YXIgcHRhYmxlID0gR0wucHJvZ3JhbUluZm9zW3Byb2dyYW1dID0gewogICAgICAgICAgdW5pZm9ybXM6IHt9LAogICAgICAgICAgbWF4VW5pZm9ybUxlbmd0aDogMCwKICAgICAgICAgIG1heEF0dHJpYnV0ZUxlbmd0aDogLTEsCiAgICAgICAgICBtYXhVbmlmb3JtQmxvY2tOYW1lTGVuZ3RoOiAtMQogICAgICAgIH07CiAgICAgICAgdmFyIHV0YWJsZSA9IHB0YWJsZS51bmlmb3JtczsKICAgICAgICB2YXIgbnVtVW5pZm9ybXMgPSBHTGN0eC5nZXRQcm9ncmFtUGFyYW1ldGVyKHAsIDM1NzE4KTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1Vbmlmb3JtczsgKytpKSB7CiAgICAgICAgICB2YXIgdSA9IEdMY3R4LmdldEFjdGl2ZVVuaWZvcm0ocCwgaSk7CiAgICAgICAgICB2YXIgbmFtZSA9IHUubmFtZTsKICAgICAgICAgIHB0YWJsZS5tYXhVbmlmb3JtTGVuZ3RoID0gTWF0aC5tYXgocHRhYmxlLm1heFVuaWZvcm1MZW5ndGgsIG5hbWUubGVuZ3RoICsgMSk7CgogICAgICAgICAgaWYgKG5hbWUuc2xpY2UoLTEpID09ICJdIikgewogICAgICAgICAgICBuYW1lID0gbmFtZS5zbGljZSgwLCBuYW1lLmxhc3RJbmRleE9mKCJbIikpOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBsb2MgPSBHTGN0eC5nZXRVbmlmb3JtTG9jYXRpb24ocCwgbmFtZSk7CgogICAgICAgICAgaWYgKGxvYykgewogICAgICAgICAgICB2YXIgaWQgPSBHTC5nZXROZXdJZChHTC51bmlmb3Jtcyk7CiAgICAgICAgICAgIHV0YWJsZVtuYW1lXSA9IFt1LnNpemUsIGlkXTsKICAgICAgICAgICAgR0wudW5pZm9ybXNbaWRdID0gbG9jOwoKICAgICAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCB1LnNpemU7ICsraikgewogICAgICAgICAgICAgIHZhciBuID0gbmFtZSArICJbIiArIGogKyAiXSI7CiAgICAgICAgICAgICAgbG9jID0gR0xjdHguZ2V0VW5pZm9ybUxvY2F0aW9uKHAsIG4pOwogICAgICAgICAgICAgIGlkID0gR0wuZ2V0TmV3SWQoR0wudW5pZm9ybXMpOwogICAgICAgICAgICAgIEdMLnVuaWZvcm1zW2lkXSA9IGxvYzsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfTsKCiAgICBmdW5jdGlvbiBfZ2xBY3RpdmVUZXh0dXJlKHgwKSB7CiAgICAgIEdMY3R4WyJhY3RpdmVUZXh0dXJlIl0oeDApOwogICAgfQoKICAgIGZ1bmN0aW9uIF9nbEF0dGFjaFNoYWRlcihwcm9ncmFtLCBzaGFkZXIpIHsKICAgICAgR0xjdHguYXR0YWNoU2hhZGVyKEdMLnByb2dyYW1zW3Byb2dyYW1dLCBHTC5zaGFkZXJzW3NoYWRlcl0pOwogICAgfQoKICAgIGZ1bmN0aW9uIF9nbEJpbmRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBpbmRleCwgbmFtZSkgewogICAgICBHTGN0eC5iaW5kQXR0cmliTG9jYXRpb24oR0wucHJvZ3JhbXNbcHJvZ3JhbV0sIGluZGV4LCBVVEY4VG9TdHJpbmcobmFtZSkpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9nbEJpbmRCdWZmZXIodGFyZ2V0LCBidWZmZXIpIHsKICAgICAgaWYgKHRhcmdldCA9PSAzNTA1MSkgewogICAgICAgIEdMY3R4LmN1cnJlbnRQaXhlbFBhY2tCdWZmZXJCaW5kaW5nID0gYnVmZmVyOwogICAgICB9IGVsc2UgaWYgKHRhcmdldCA9PSAzNTA1MikgewogICAgICAgIEdMY3R4LmN1cnJlbnRQaXhlbFVucGFja0J1ZmZlckJpbmRpbmcgPSBidWZmZXI7CiAgICAgIH0KCiAgICAgIEdMY3R4LmJpbmRCdWZmZXIodGFyZ2V0LCBHTC5idWZmZXJzW2J1ZmZlcl0pOwogICAgfQoKICAgIGZ1bmN0aW9uIF9nbEJpbmRUZXh0dXJlKHRhcmdldCwgdGV4dHVyZSkgewogICAgICBHTGN0eC5iaW5kVGV4dHVyZSh0YXJnZXQsIEdMLnRleHR1cmVzW3RleHR1cmVdKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xCbGVuZENvbG9yKHgwLCB4MSwgeDIsIHgzKSB7CiAgICAgIEdMY3R4WyJibGVuZENvbG9yIl0oeDAsIHgxLCB4MiwgeDMpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9nbEJsZW5kRnVuYyh4MCwgeDEpIHsKICAgICAgR0xjdHhbImJsZW5kRnVuYyJdKHgwLCB4MSk7CiAgICB9CgogICAgZnVuY3Rpb24gX2dsQmxlbmRGdW5jU2VwYXJhdGUoeDAsIHgxLCB4MiwgeDMpIHsKICAgICAgR0xjdHhbImJsZW5kRnVuY1NlcGFyYXRlIl0oeDAsIHgxLCB4MiwgeDMpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9nbEJ1ZmZlckRhdGEodGFyZ2V0LCBzaXplLCBkYXRhLCB1c2FnZSkgewogICAgICBpZiAoR0wuY3VycmVudENvbnRleHQudmVyc2lvbiA+PSAyKSB7CiAgICAgICAgaWYgKGRhdGEpIHsKICAgICAgICAgIEdMY3R4LmJ1ZmZlckRhdGEodGFyZ2V0LCBIRUFQVTgsIHVzYWdlLCBkYXRhLCBzaXplKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgR0xjdHguYnVmZmVyRGF0YSh0YXJnZXQsIHNpemUsIHVzYWdlKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgR0xjdHguYnVmZmVyRGF0YSh0YXJnZXQsIGRhdGEgPyBIRUFQVTguc3ViYXJyYXkoZGF0YSwgZGF0YSArIHNpemUpIDogc2l6ZSwgdXNhZ2UpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gX2dsQ2xlYXIoeDApIHsKICAgICAgR0xjdHhbImNsZWFyIl0oeDApOwogICAgfQoKICAgIGZ1bmN0aW9uIF9nbENsZWFyQ29sb3IoeDAsIHgxLCB4MiwgeDMpIHsKICAgICAgR0xjdHhbImNsZWFyQ29sb3IiXSh4MCwgeDEsIHgyLCB4Myk7CiAgICB9CgogICAgZnVuY3Rpb24gX2dsQ29sb3JNYXNrKHJlZCwgZ3JlZW4sIGJsdWUsIGFscGhhKSB7CiAgICAgIEdMY3R4LmNvbG9yTWFzayghIXJlZCwgISFncmVlbiwgISFibHVlLCAhIWFscGhhKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xDb21waWxlU2hhZGVyKHNoYWRlcikgewogICAgICBHTGN0eC5jb21waWxlU2hhZGVyKEdMLnNoYWRlcnNbc2hhZGVyXSk7CiAgICB9CgogICAgZnVuY3Rpb24gX2dsQ3JlYXRlUHJvZ3JhbSgpIHsKICAgICAgdmFyIGlkID0gR0wuZ2V0TmV3SWQoR0wucHJvZ3JhbXMpOwogICAgICB2YXIgcHJvZ3JhbSA9IEdMY3R4LmNyZWF0ZVByb2dyYW0oKTsKICAgICAgcHJvZ3JhbS5uYW1lID0gaWQ7CiAgICAgIEdMLnByb2dyYW1zW2lkXSA9IHByb2dyYW07CiAgICAgIHJldHVybiBpZDsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xDcmVhdGVTaGFkZXIoc2hhZGVyVHlwZSkgewogICAgICB2YXIgaWQgPSBHTC5nZXROZXdJZChHTC5zaGFkZXJzKTsKICAgICAgR0wuc2hhZGVyc1tpZF0gPSBHTGN0eC5jcmVhdGVTaGFkZXIoc2hhZGVyVHlwZSk7CiAgICAgIHJldHVybiBpZDsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xDdWxsRmFjZSh4MCkgewogICAgICBHTGN0eFsiY3VsbEZhY2UiXSh4MCk7CiAgICB9CgogICAgZnVuY3Rpb24gX2dsRGVsZXRlQnVmZmVycyhuLCBidWZmZXJzKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgdmFyIGlkID0gSEVBUDMyW2J1ZmZlcnMgKyBpICogNCA+PiAyXTsKICAgICAgICB2YXIgYnVmZmVyID0gR0wuYnVmZmVyc1tpZF07CiAgICAgICAgaWYgKCFidWZmZXIpIGNvbnRpbnVlOwogICAgICAgIEdMY3R4LmRlbGV0ZUJ1ZmZlcihidWZmZXIpOwogICAgICAgIGJ1ZmZlci5uYW1lID0gMDsKICAgICAgICBHTC5idWZmZXJzW2lkXSA9IG51bGw7CiAgICAgICAgaWYgKGlkID09IEdMY3R4LmN1cnJlbnRQaXhlbFBhY2tCdWZmZXJCaW5kaW5nKSBHTGN0eC5jdXJyZW50UGl4ZWxQYWNrQnVmZmVyQmluZGluZyA9IDA7CiAgICAgICAgaWYgKGlkID09IEdMY3R4LmN1cnJlbnRQaXhlbFVucGFja0J1ZmZlckJpbmRpbmcpIEdMY3R4LmN1cnJlbnRQaXhlbFVucGFja0J1ZmZlckJpbmRpbmcgPSAwOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gX2dsRGVsZXRlUHJvZ3JhbShpZCkgewogICAgICBpZiAoIWlkKSByZXR1cm47CiAgICAgIHZhciBwcm9ncmFtID0gR0wucHJvZ3JhbXNbaWRdOwoKICAgICAgaWYgKCFwcm9ncmFtKSB7CiAgICAgICAgR0wucmVjb3JkRXJyb3IoMTI4MSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBHTGN0eC5kZWxldGVQcm9ncmFtKHByb2dyYW0pOwogICAgICBwcm9ncmFtLm5hbWUgPSAwOwogICAgICBHTC5wcm9ncmFtc1tpZF0gPSBudWxsOwogICAgICBHTC5wcm9ncmFtSW5mb3NbaWRdID0gbnVsbDsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xEZWxldGVTaGFkZXIoaWQpIHsKICAgICAgaWYgKCFpZCkgcmV0dXJuOwogICAgICB2YXIgc2hhZGVyID0gR0wuc2hhZGVyc1tpZF07CgogICAgICBpZiAoIXNoYWRlcikgewogICAgICAgIEdMLnJlY29yZEVycm9yKDEyODEpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgR0xjdHguZGVsZXRlU2hhZGVyKHNoYWRlcik7CiAgICAgIEdMLnNoYWRlcnNbaWRdID0gbnVsbDsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xEZWxldGVUZXh0dXJlcyhuLCB0ZXh0dXJlcykgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgIHZhciBpZCA9IEhFQVAzMlt0ZXh0dXJlcyArIGkgKiA0ID4+IDJdOwogICAgICAgIHZhciB0ZXh0dXJlID0gR0wudGV4dHVyZXNbaWRdOwogICAgICAgIGlmICghdGV4dHVyZSkgY29udGludWU7CiAgICAgICAgR0xjdHguZGVsZXRlVGV4dHVyZSh0ZXh0dXJlKTsKICAgICAgICB0ZXh0dXJlLm5hbWUgPSAwOwogICAgICAgIEdMLnRleHR1cmVzW2lkXSA9IG51bGw7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xEZXB0aEZ1bmMoeDApIHsKICAgICAgR0xjdHhbImRlcHRoRnVuYyJdKHgwKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xEZXB0aE1hc2soZmxhZykgewogICAgICBHTGN0eC5kZXB0aE1hc2soISFmbGFnKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xEaXNhYmxlKHgwKSB7CiAgICAgIEdMY3R4WyJkaXNhYmxlIl0oeDApOwogICAgfQoKICAgIGZ1bmN0aW9uIF9nbERpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShpbmRleCkgewogICAgICBHTGN0eC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoaW5kZXgpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9nbERyYXdBcnJheXMobW9kZSwgZmlyc3QsIGNvdW50KSB7CiAgICAgIEdMY3R4LmRyYXdBcnJheXMobW9kZSwgZmlyc3QsIGNvdW50KTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xEcmF3RWxlbWVudHMobW9kZSwgY291bnQsIHR5cGUsIGluZGljZXMpIHsKICAgICAgR0xjdHguZHJhd0VsZW1lbnRzKG1vZGUsIGNvdW50LCB0eXBlLCBpbmRpY2VzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xFbmFibGUoeDApIHsKICAgICAgR0xjdHhbImVuYWJsZSJdKHgwKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xFbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShpbmRleCkgewogICAgICBHTGN0eC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShpbmRleCk7CiAgICB9CgogICAgZnVuY3Rpb24gX2dsRmluaXNoKCkgewogICAgICBHTGN0eFsiZmluaXNoIl0oKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xGcm9udEZhY2UoeDApIHsKICAgICAgR0xjdHhbImZyb250RmFjZSJdKHgwKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfX2dsR2VuT2JqZWN0KG4sIGJ1ZmZlcnMsIGNyZWF0ZUZ1bmN0aW9uLCBvYmplY3RUYWJsZSkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykgewogICAgICAgIHZhciBidWZmZXIgPSBHTGN0eFtjcmVhdGVGdW5jdGlvbl0oKTsKICAgICAgICB2YXIgaWQgPSBidWZmZXIgJiYgR0wuZ2V0TmV3SWQob2JqZWN0VGFibGUpOwoKICAgICAgICBpZiAoYnVmZmVyKSB7CiAgICAgICAgICBidWZmZXIubmFtZSA9IGlkOwogICAgICAgICAgb2JqZWN0VGFibGVbaWRdID0gYnVmZmVyOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBHTC5yZWNvcmRFcnJvcigxMjgyKTsKICAgICAgICB9CgogICAgICAgIEhFQVAzMltidWZmZXJzICsgaSAqIDQgPj4gMl0gPSBpZDsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIF9nbEdlbkJ1ZmZlcnMobiwgYnVmZmVycykgewogICAgICBfX2dsR2VuT2JqZWN0KG4sIGJ1ZmZlcnMsICJjcmVhdGVCdWZmZXIiLCBHTC5idWZmZXJzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xHZW5UZXh0dXJlcyhuLCB0ZXh0dXJlcykgewogICAgICBfX2dsR2VuT2JqZWN0KG4sIHRleHR1cmVzLCAiY3JlYXRlVGV4dHVyZSIsIEdMLnRleHR1cmVzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xHZW5lcmF0ZU1pcG1hcCh4MCkgewogICAgICBHTGN0eFsiZ2VuZXJhdGVNaXBtYXAiXSh4MCk7CiAgICB9CgogICAgZnVuY3Rpb24gX19nbEdldEFjdGl2ZUF0dHJpYk9yVW5pZm9ybShmdW5jTmFtZSwgcHJvZ3JhbSwgaW5kZXgsIGJ1ZlNpemUsIGxlbmd0aCwgc2l6ZSwgdHlwZSwgbmFtZSkgewogICAgICBwcm9ncmFtID0gR0wucHJvZ3JhbXNbcHJvZ3JhbV07CiAgICAgIHZhciBpbmZvID0gR0xjdHhbZnVuY05hbWVdKHByb2dyYW0sIGluZGV4KTsKCiAgICAgIGlmIChpbmZvKSB7CiAgICAgICAgdmFyIG51bUJ5dGVzV3JpdHRlbkV4Y2xOdWxsID0gbmFtZSAmJiBzdHJpbmdUb1VURjgoaW5mby5uYW1lLCBuYW1lLCBidWZTaXplKTsKICAgICAgICBpZiAobGVuZ3RoKSBIRUFQMzJbbGVuZ3RoID4+IDJdID0gbnVtQnl0ZXNXcml0dGVuRXhjbE51bGw7CiAgICAgICAgaWYgKHNpemUpIEhFQVAzMltzaXplID4+IDJdID0gaW5mby5zaXplOwogICAgICAgIGlmICh0eXBlKSBIRUFQMzJbdHlwZSA+PiAyXSA9IGluZm8udHlwZTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIF9nbEdldEFjdGl2ZVVuaWZvcm0ocHJvZ3JhbSwgaW5kZXgsIGJ1ZlNpemUsIGxlbmd0aCwgc2l6ZSwgdHlwZSwgbmFtZSkgewogICAgICBfX2dsR2V0QWN0aXZlQXR0cmliT3JVbmlmb3JtKCJnZXRBY3RpdmVVbmlmb3JtIiwgcHJvZ3JhbSwgaW5kZXgsIGJ1ZlNpemUsIGxlbmd0aCwgc2l6ZSwgdHlwZSwgbmFtZSk7CiAgICB9CgogICAgZnVuY3Rpb24gX2dsR2V0RXJyb3IoKSB7CiAgICAgIHZhciBlcnJvciA9IEdMY3R4LmdldEVycm9yKCkgfHwgR0wubGFzdEVycm9yOwogICAgICBHTC5sYXN0RXJyb3IgPSAwOwogICAgICByZXR1cm4gZXJyb3I7CiAgICB9CgogICAgZnVuY3Rpb24gd3JpdGVJNTNUb0k2NChwdHIsIG51bSkgewogICAgICBIRUFQVTMyW3B0ciA+PiAyXSA9IG51bTsKICAgICAgSEVBUFUzMltwdHIgKyA0ID4+IDJdID0gKG51bSAtIEhFQVBVMzJbcHRyID4+IDJdKSAvIDQyOTQ5NjcyOTY7CiAgICB9CgogICAgZnVuY3Rpb24gZW1zY3JpcHRlbldlYkdMR2V0KG5hbWVfLCBwLCB0eXBlKSB7CiAgICAgIGlmICghcCkgewogICAgICAgIEdMLnJlY29yZEVycm9yKDEyODEpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIHJldCA9IHVuZGVmaW5lZDsKCiAgICAgIHN3aXRjaCAobmFtZV8pIHsKICAgICAgICBjYXNlIDM2MzQ2OgogICAgICAgICAgcmV0ID0gMTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDM2MzQ0OgogICAgICAgICAgaWYgKHR5cGUgIT0gMCAmJiB0eXBlICE9IDEpIHsKICAgICAgICAgICAgR0wucmVjb3JkRXJyb3IoMTI4MCk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuOwoKICAgICAgICBjYXNlIDM0ODE0OgogICAgICAgIGNhc2UgMzYzNDU6CiAgICAgICAgICByZXQgPSAwOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMzQ0NjY6CiAgICAgICAgICB2YXIgZm9ybWF0cyA9IEdMY3R4LmdldFBhcmFtZXRlcigzNDQ2Nyk7CiAgICAgICAgICByZXQgPSBmb3JtYXRzID8gZm9ybWF0cy5sZW5ndGggOiAwOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMzMzMDk6CiAgICAgICAgICBpZiAoR0wuY3VycmVudENvbnRleHQudmVyc2lvbiA8IDIpIHsKICAgICAgICAgICAgR0wucmVjb3JkRXJyb3IoMTI4Mik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgZXh0cyA9IEdMY3R4LmdldFN1cHBvcnRlZEV4dGVuc2lvbnMoKSB8fCBbXTsKICAgICAgICAgIHJldCA9IDIgKiBleHRzLmxlbmd0aDsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDMzMzA3OgogICAgICAgIGNhc2UgMzMzMDg6CiAgICAgICAgICBpZiAoR0wuY3VycmVudENvbnRleHQudmVyc2lvbiA8IDIpIHsKICAgICAgICAgICAgR0wucmVjb3JkRXJyb3IoMTI4MCk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICByZXQgPSBuYW1lXyA9PSAzMzMwNyA/IDMgOiAwOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIGlmIChyZXQgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHZhciByZXN1bHQgPSBHTGN0eC5nZXRQYXJhbWV0ZXIobmFtZV8pOwoKICAgICAgICBzd2l0Y2ggKF90eXBlb2YocmVzdWx0KSkgewogICAgICAgICAgY2FzZSAibnVtYmVyIjoKICAgICAgICAgICAgcmV0ID0gcmVzdWx0OwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICJib29sZWFuIjoKICAgICAgICAgICAgcmV0ID0gcmVzdWx0ID8gMSA6IDA7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgInN0cmluZyI6CiAgICAgICAgICAgIEdMLnJlY29yZEVycm9yKDEyODApOwogICAgICAgICAgICByZXR1cm47CgogICAgICAgICAgY2FzZSAib2JqZWN0IjoKICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCkgewogICAgICAgICAgICAgIHN3aXRjaCAobmFtZV8pIHsKICAgICAgICAgICAgICAgIGNhc2UgMzQ5NjQ6CiAgICAgICAgICAgICAgICBjYXNlIDM1NzI1OgogICAgICAgICAgICAgICAgY2FzZSAzNDk2NToKICAgICAgICAgICAgICAgIGNhc2UgMzYwMDY6CiAgICAgICAgICAgICAgICBjYXNlIDM2MDA3OgogICAgICAgICAgICAgICAgY2FzZSAzMjg3MzoKICAgICAgICAgICAgICAgIGNhc2UgMzQyMjk6CiAgICAgICAgICAgICAgICBjYXNlIDM2NjYyOgogICAgICAgICAgICAgICAgY2FzZSAzNjY2MzoKICAgICAgICAgICAgICAgIGNhc2UgMzUwNTM6CiAgICAgICAgICAgICAgICBjYXNlIDM1MDU1OgogICAgICAgICAgICAgICAgY2FzZSAzNjAxMDoKICAgICAgICAgICAgICAgIGNhc2UgMzUwOTc6CiAgICAgICAgICAgICAgICBjYXNlIDM1ODY5OgogICAgICAgICAgICAgICAgY2FzZSAzMjg3NDoKICAgICAgICAgICAgICAgIGNhc2UgMzYzODk6CiAgICAgICAgICAgICAgICBjYXNlIDM1OTgzOgogICAgICAgICAgICAgICAgY2FzZSAzNTM2ODoKICAgICAgICAgICAgICAgIGNhc2UgMzQwNjg6CiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICByZXQgPSAwOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIEdMLnJlY29yZEVycm9yKDEyODApOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgfHwgcmVzdWx0IGluc3RhbmNlb2YgVWludDMyQXJyYXkgfHwgcmVzdWx0IGluc3RhbmNlb2YgSW50MzJBcnJheSB8fCByZXN1bHQgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgIEhFQVAzMltwICsgaSAqIDQgPj4gMl0gPSByZXN1bHRbaV07CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgSEVBUEYzMltwICsgaSAqIDQgPj4gMl0gPSByZXN1bHRbaV07CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgSEVBUDhbcCArIGkgPj4gMF0gPSByZXN1bHRbaV0gPyAxIDogMDsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgcmV0ID0gcmVzdWx0Lm5hbWUgfCAwOwogICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIEdMLnJlY29yZEVycm9yKDEyODApOwogICAgICAgICAgICAgICAgZXJyKCJHTF9JTlZBTElEX0VOVU0gaW4gZ2xHZXQiICsgdHlwZSArICJ2OiBVbmtub3duIG9iamVjdCByZXR1cm5lZCBmcm9tIFdlYkdMIGdldFBhcmFtZXRlcigiICsgbmFtZV8gKyAiKSEgKGVycm9yOiAiICsgZSArICIpIik7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBHTC5yZWNvcmRFcnJvcigxMjgwKTsKICAgICAgICAgICAgZXJyKCJHTF9JTlZBTElEX0VOVU0gaW4gZ2xHZXQiICsgdHlwZSArICJ2OiBOYXRpdmUgY29kZSBjYWxsaW5nIGdsR2V0IiArIHR5cGUgKyAidigiICsgbmFtZV8gKyAiKSBhbmQgaXQgcmV0dXJucyAiICsgcmVzdWx0ICsgIiBvZiB0eXBlICIgKyBfdHlwZW9mKHJlc3VsdCkgKyAiISIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CgogICAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICB3cml0ZUk1M1RvSTY0KHAsIHJldCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAwOgogICAgICAgICAgSEVBUDMyW3AgPj4gMl0gPSByZXQ7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgSEVBUEYzMltwID4+IDJdID0gcmV0OwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgNDoKICAgICAgICAgIEhFQVA4W3AgPj4gMF0gPSByZXQgPyAxIDogMDsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gX2dsR2V0SW50ZWdlcnYobmFtZV8sIHApIHsKICAgICAgZW1zY3JpcHRlbldlYkdMR2V0KG5hbWVfLCBwLCAwKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xHZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtLCBtYXhMZW5ndGgsIGxlbmd0aCwgaW5mb0xvZykgewogICAgICB2YXIgbG9nID0gR0xjdHguZ2V0UHJvZ3JhbUluZm9Mb2coR0wucHJvZ3JhbXNbcHJvZ3JhbV0pOwogICAgICBpZiAobG9nID09PSBudWxsKSBsb2cgPSAiKHVua25vd24gZXJyb3IpIjsKICAgICAgdmFyIG51bUJ5dGVzV3JpdHRlbkV4Y2xOdWxsID0gbWF4TGVuZ3RoID4gMCAmJiBpbmZvTG9nID8gc3RyaW5nVG9VVEY4KGxvZywgaW5mb0xvZywgbWF4TGVuZ3RoKSA6IDA7CiAgICAgIGlmIChsZW5ndGgpIEhFQVAzMltsZW5ndGggPj4gMl0gPSBudW1CeXRlc1dyaXR0ZW5FeGNsTnVsbDsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xHZXRQcm9ncmFtaXYocHJvZ3JhbSwgcG5hbWUsIHApIHsKICAgICAgaWYgKCFwKSB7CiAgICAgICAgR0wucmVjb3JkRXJyb3IoMTI4MSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAocHJvZ3JhbSA+PSBHTC5jb3VudGVyKSB7CiAgICAgICAgR0wucmVjb3JkRXJyb3IoMTI4MSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgcHRhYmxlID0gR0wucHJvZ3JhbUluZm9zW3Byb2dyYW1dOwoKICAgICAgaWYgKCFwdGFibGUpIHsKICAgICAgICBHTC5yZWNvcmRFcnJvcigxMjgyKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChwbmFtZSA9PSAzNTcxNikgewogICAgICAgIHZhciBsb2cgPSBHTGN0eC5nZXRQcm9ncmFtSW5mb0xvZyhHTC5wcm9ncmFtc1twcm9ncmFtXSk7CiAgICAgICAgaWYgKGxvZyA9PT0gbnVsbCkgbG9nID0gIih1bmtub3duIGVycm9yKSI7CiAgICAgICAgSEVBUDMyW3AgPj4gMl0gPSBsb2cubGVuZ3RoICsgMTsKICAgICAgfSBlbHNlIGlmIChwbmFtZSA9PSAzNTcxOSkgewogICAgICAgIEhFQVAzMltwID4+IDJdID0gcHRhYmxlLm1heFVuaWZvcm1MZW5ndGg7CiAgICAgIH0gZWxzZSBpZiAocG5hbWUgPT0gMzU3MjIpIHsKICAgICAgICBpZiAocHRhYmxlLm1heEF0dHJpYnV0ZUxlbmd0aCA9PSAtMSkgewogICAgICAgICAgcHJvZ3JhbSA9IEdMLnByb2dyYW1zW3Byb2dyYW1dOwogICAgICAgICAgdmFyIG51bUF0dHJpYnMgPSBHTGN0eC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIDM1NzIxKTsKICAgICAgICAgIHB0YWJsZS5tYXhBdHRyaWJ1dGVMZW5ndGggPSAwOwoKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtQXR0cmliczsgKytpKSB7CiAgICAgICAgICAgIHZhciBhY3RpdmVBdHRyaWIgPSBHTGN0eC5nZXRBY3RpdmVBdHRyaWIocHJvZ3JhbSwgaSk7CiAgICAgICAgICAgIHB0YWJsZS5tYXhBdHRyaWJ1dGVMZW5ndGggPSBNYXRoLm1heChwdGFibGUubWF4QXR0cmlidXRlTGVuZ3RoLCBhY3RpdmVBdHRyaWIubmFtZS5sZW5ndGggKyAxKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIEhFQVAzMltwID4+IDJdID0gcHRhYmxlLm1heEF0dHJpYnV0ZUxlbmd0aDsKICAgICAgfSBlbHNlIGlmIChwbmFtZSA9PSAzNTM4MSkgewogICAgICAgIGlmIChwdGFibGUubWF4VW5pZm9ybUJsb2NrTmFtZUxlbmd0aCA9PSAtMSkgewogICAgICAgICAgcHJvZ3JhbSA9IEdMLnByb2dyYW1zW3Byb2dyYW1dOwogICAgICAgICAgdmFyIG51bUJsb2NrcyA9IEdMY3R4LmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgMzUzODIpOwogICAgICAgICAgcHRhYmxlLm1heFVuaWZvcm1CbG9ja05hbWVMZW5ndGggPSAwOwoKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtQmxvY2tzOyArK2kpIHsKICAgICAgICAgICAgdmFyIGFjdGl2ZUJsb2NrTmFtZSA9IEdMY3R4LmdldEFjdGl2ZVVuaWZvcm1CbG9ja05hbWUocHJvZ3JhbSwgaSk7CiAgICAgICAgICAgIHB0YWJsZS5tYXhVbmlmb3JtQmxvY2tOYW1lTGVuZ3RoID0gTWF0aC5tYXgocHRhYmxlLm1heFVuaWZvcm1CbG9ja05hbWVMZW5ndGgsIGFjdGl2ZUJsb2NrTmFtZS5sZW5ndGggKyAxKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIEhFQVAzMltwID4+IDJdID0gcHRhYmxlLm1heFVuaWZvcm1CbG9ja05hbWVMZW5ndGg7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgSEVBUDMyW3AgPj4gMl0gPSBHTGN0eC5nZXRQcm9ncmFtUGFyYW1ldGVyKEdMLnByb2dyYW1zW3Byb2dyYW1dLCBwbmFtZSk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xHZXRTaGFkZXJJbmZvTG9nKHNoYWRlciwgbWF4TGVuZ3RoLCBsZW5ndGgsIGluZm9Mb2cpIHsKICAgICAgdmFyIGxvZyA9IEdMY3R4LmdldFNoYWRlckluZm9Mb2coR0wuc2hhZGVyc1tzaGFkZXJdKTsKICAgICAgaWYgKGxvZyA9PT0gbnVsbCkgbG9nID0gIih1bmtub3duIGVycm9yKSI7CiAgICAgIHZhciBudW1CeXRlc1dyaXR0ZW5FeGNsTnVsbCA9IG1heExlbmd0aCA+IDAgJiYgaW5mb0xvZyA/IHN0cmluZ1RvVVRGOChsb2csIGluZm9Mb2csIG1heExlbmd0aCkgOiAwOwogICAgICBpZiAobGVuZ3RoKSBIRUFQMzJbbGVuZ3RoID4+IDJdID0gbnVtQnl0ZXNXcml0dGVuRXhjbE51bGw7CiAgICB9CgogICAgZnVuY3Rpb24gX2dsR2V0U2hhZGVyaXYoc2hhZGVyLCBwbmFtZSwgcCkgewogICAgICBpZiAoIXApIHsKICAgICAgICBHTC5yZWNvcmRFcnJvcigxMjgxKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChwbmFtZSA9PSAzNTcxNikgewogICAgICAgIHZhciBsb2cgPSBHTGN0eC5nZXRTaGFkZXJJbmZvTG9nKEdMLnNoYWRlcnNbc2hhZGVyXSk7CiAgICAgICAgaWYgKGxvZyA9PT0gbnVsbCkgbG9nID0gIih1bmtub3duIGVycm9yKSI7CiAgICAgICAgSEVBUDMyW3AgPj4gMl0gPSBsb2cubGVuZ3RoICsgMTsKICAgICAgfSBlbHNlIGlmIChwbmFtZSA9PSAzNTcyMCkgewogICAgICAgIHZhciBzb3VyY2UgPSBHTGN0eC5nZXRTaGFkZXJTb3VyY2UoR0wuc2hhZGVyc1tzaGFkZXJdKTsKICAgICAgICB2YXIgc291cmNlTGVuZ3RoID0gc291cmNlID09PSBudWxsIHx8IHNvdXJjZS5sZW5ndGggPT0gMCA/IDAgOiBzb3VyY2UubGVuZ3RoICsgMTsKICAgICAgICBIRUFQMzJbcCA+PiAyXSA9IHNvdXJjZUxlbmd0aDsKICAgICAgfSBlbHNlIHsKICAgICAgICBIRUFQMzJbcCA+PiAyXSA9IEdMY3R4LmdldFNoYWRlclBhcmFtZXRlcihHTC5zaGFkZXJzW3NoYWRlcl0sIHBuYW1lKTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGpzdG9pX3Eoc3RyKSB7CiAgICAgIHJldHVybiBwYXJzZUludChzdHIpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9nbEdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCBuYW1lKSB7CiAgICAgIG5hbWUgPSBVVEY4VG9TdHJpbmcobmFtZSk7CiAgICAgIHZhciBhcnJheUluZGV4ID0gMDsKCiAgICAgIGlmIChuYW1lW25hbWUubGVuZ3RoIC0gMV0gPT0gIl0iKSB7CiAgICAgICAgdmFyIGxlZnRCcmFjZSA9IG5hbWUubGFzdEluZGV4T2YoIlsiKTsKICAgICAgICBhcnJheUluZGV4ID0gbmFtZVtsZWZ0QnJhY2UgKyAxXSAhPSAiXSIgPyBqc3RvaV9xKG5hbWUuc2xpY2UobGVmdEJyYWNlICsgMSkpIDogMDsKICAgICAgICBuYW1lID0gbmFtZS5zbGljZSgwLCBsZWZ0QnJhY2UpOwogICAgICB9CgogICAgICB2YXIgdW5pZm9ybUluZm8gPSBHTC5wcm9ncmFtSW5mb3NbcHJvZ3JhbV0gJiYgR0wucHJvZ3JhbUluZm9zW3Byb2dyYW1dLnVuaWZvcm1zW25hbWVdOwoKICAgICAgaWYgKHVuaWZvcm1JbmZvICYmIGFycmF5SW5kZXggPj0gMCAmJiBhcnJheUluZGV4IDwgdW5pZm9ybUluZm9bMF0pIHsKICAgICAgICByZXR1cm4gdW5pZm9ybUluZm9bMV0gKyBhcnJheUluZGV4OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAtMTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIF9nbExpbmVXaWR0aCh4MCkgewogICAgICBHTGN0eFsibGluZVdpZHRoIl0oeDApOwogICAgfQoKICAgIGZ1bmN0aW9uIF9nbExpbmtQcm9ncmFtKHByb2dyYW0pIHsKICAgICAgR0xjdHgubGlua1Byb2dyYW0oR0wucHJvZ3JhbXNbcHJvZ3JhbV0pOwogICAgICBHTC5wb3B1bGF0ZVVuaWZvcm1UYWJsZShwcm9ncmFtKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xQaXhlbFN0b3JlaShwbmFtZSwgcGFyYW0pIHsKICAgICAgaWYgKHBuYW1lID09IDMzMTcpIHsKICAgICAgICBHTC51bnBhY2tBbGlnbm1lbnQgPSBwYXJhbTsKICAgICAgfQoKICAgICAgR0xjdHgucGl4ZWxTdG9yZWkocG5hbWUsIHBhcmFtKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xTaGFkZXJTb3VyY2Uoc2hhZGVyLCBjb3VudCwgc3RyaW5nLCBsZW5ndGgpIHsKICAgICAgdmFyIHNvdXJjZSA9IEdMLmdldFNvdXJjZShzaGFkZXIsIGNvdW50LCBzdHJpbmcsIGxlbmd0aCk7CiAgICAgIEdMY3R4LnNoYWRlclNvdXJjZShHTC5zaGFkZXJzW3NoYWRlcl0sIHNvdXJjZSk7CiAgICB9CgogICAgZnVuY3Rpb24gX2dsU3RlbmNpbEZ1bmMoeDAsIHgxLCB4MikgewogICAgICBHTGN0eFsic3RlbmNpbEZ1bmMiXSh4MCwgeDEsIHgyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xTdGVuY2lsTWFzayh4MCkgewogICAgICBHTGN0eFsic3RlbmNpbE1hc2siXSh4MCk7CiAgICB9CgogICAgZnVuY3Rpb24gX2dsU3RlbmNpbE9wKHgwLCB4MSwgeDIpIHsKICAgICAgR0xjdHhbInN0ZW5jaWxPcCJdKHgwLCB4MSwgeDIpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9nbFN0ZW5jaWxPcFNlcGFyYXRlKHgwLCB4MSwgeDIsIHgzKSB7CiAgICAgIEdMY3R4WyJzdGVuY2lsT3BTZXBhcmF0ZSJdKHgwLCB4MSwgeDIsIHgzKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfX2NvbXB1dGVVbnBhY2tBbGlnbmVkSW1hZ2VTaXplKHdpZHRoLCBoZWlnaHQsIHNpemVQZXJQaXhlbCwgYWxpZ25tZW50KSB7CiAgICAgIGZ1bmN0aW9uIHJvdW5kZWRUb05leHRNdWx0aXBsZU9mKHgsIHkpIHsKICAgICAgICByZXR1cm4geCArIHkgLSAxICYgLXk7CiAgICAgIH0KCiAgICAgIHZhciBwbGFpblJvd1NpemUgPSB3aWR0aCAqIHNpemVQZXJQaXhlbDsKICAgICAgdmFyIGFsaWduZWRSb3dTaXplID0gcm91bmRlZFRvTmV4dE11bHRpcGxlT2YocGxhaW5Sb3dTaXplLCBhbGlnbm1lbnQpOwogICAgICByZXR1cm4gaGVpZ2h0ICogYWxpZ25lZFJvd1NpemU7CiAgICB9CgogICAgZnVuY3Rpb24gX19jb2xvckNoYW5uZWxzSW5HbFRleHR1cmVGb3JtYXQoZm9ybWF0KSB7CiAgICAgIHZhciBjb2xvckNoYW5uZWxzID0gewogICAgICAgIDU6IDMsCiAgICAgICAgNjogNCwKICAgICAgICA4OiAyLAogICAgICAgIDI5NTAyOiAzLAogICAgICAgIDI5NTA0OiA0LAogICAgICAgIDI2OTE3OiAyLAogICAgICAgIDI2OTE4OiAyLAogICAgICAgIDI5ODQ2OiAzLAogICAgICAgIDI5ODQ3OiA0CiAgICAgIH07CiAgICAgIHJldHVybiBjb2xvckNoYW5uZWxzW2Zvcm1hdCAtIDY0MDJdIHx8IDE7CiAgICB9CgogICAgZnVuY3Rpb24gX19oZWFwT2JqZWN0Rm9yV2ViR0xUeXBlKHR5cGUpIHsKICAgICAgdHlwZSAtPSA1MTIwOwogICAgICBpZiAodHlwZSA9PSAwKSByZXR1cm4gSEVBUDg7CiAgICAgIGlmICh0eXBlID09IDEpIHJldHVybiBIRUFQVTg7CiAgICAgIGlmICh0eXBlID09IDIpIHJldHVybiBIRUFQMTY7CiAgICAgIGlmICh0eXBlID09IDQpIHJldHVybiBIRUFQMzI7CiAgICAgIGlmICh0eXBlID09IDYpIHJldHVybiBIRUFQRjMyOwogICAgICBpZiAodHlwZSA9PSA1IHx8IHR5cGUgPT0gMjg5MjIgfHwgdHlwZSA9PSAyODUyMCB8fCB0eXBlID09IDMwNzc5IHx8IHR5cGUgPT0gMzA3ODIpIHJldHVybiBIRUFQVTMyOwogICAgICByZXR1cm4gSEVBUFUxNjsKICAgIH0KCiAgICBmdW5jdGlvbiBfX2hlYXBBY2Nlc3NTaGlmdEZvcldlYkdMSGVhcChoZWFwKSB7CiAgICAgIHJldHVybiAzMSAtIE1hdGguY2x6MzIoaGVhcC5CWVRFU19QRVJfRUxFTUVOVCk7CiAgICB9CgogICAgZnVuY3Rpb24gZW1zY3JpcHRlbldlYkdMR2V0VGV4UGl4ZWxEYXRhKHR5cGUsIGZvcm1hdCwgd2lkdGgsIGhlaWdodCwgcGl4ZWxzLCBpbnRlcm5hbEZvcm1hdCkgewogICAgICB2YXIgaGVhcCA9IF9faGVhcE9iamVjdEZvcldlYkdMVHlwZSh0eXBlKTsKCiAgICAgIHZhciBzaGlmdCA9IF9faGVhcEFjY2Vzc1NoaWZ0Rm9yV2ViR0xIZWFwKGhlYXApOwoKICAgICAgdmFyIGJ5dGVTaXplID0gMSA8PCBzaGlmdDsKICAgICAgdmFyIHNpemVQZXJQaXhlbCA9IF9fY29sb3JDaGFubmVsc0luR2xUZXh0dXJlRm9ybWF0KGZvcm1hdCkgKiBieXRlU2l6ZTsKCiAgICAgIHZhciBieXRlcyA9IF9fY29tcHV0ZVVucGFja0FsaWduZWRJbWFnZVNpemUod2lkdGgsIGhlaWdodCwgc2l6ZVBlclBpeGVsLCBHTC51bnBhY2tBbGlnbm1lbnQpOwoKICAgICAgcmV0dXJuIGhlYXAuc3ViYXJyYXkocGl4ZWxzID4+IHNoaWZ0LCBwaXhlbHMgKyBieXRlcyA+PiBzaGlmdCk7CiAgICB9CgogICAgZnVuY3Rpb24gX2dsVGV4SW1hZ2UyRCh0YXJnZXQsIGxldmVsLCBpbnRlcm5hbEZvcm1hdCwgd2lkdGgsIGhlaWdodCwgYm9yZGVyLCBmb3JtYXQsIHR5cGUsIHBpeGVscykgewogICAgICBpZiAoR0wuY3VycmVudENvbnRleHQudmVyc2lvbiA+PSAyKSB7CiAgICAgICAgaWYgKEdMY3R4LmN1cnJlbnRQaXhlbFVucGFja0J1ZmZlckJpbmRpbmcpIHsKICAgICAgICAgIEdMY3R4LnRleEltYWdlMkQodGFyZ2V0LCBsZXZlbCwgaW50ZXJuYWxGb3JtYXQsIHdpZHRoLCBoZWlnaHQsIGJvcmRlciwgZm9ybWF0LCB0eXBlLCBwaXhlbHMpOwogICAgICAgIH0gZWxzZSBpZiAocGl4ZWxzKSB7CiAgICAgICAgICB2YXIgaGVhcCA9IF9faGVhcE9iamVjdEZvcldlYkdMVHlwZSh0eXBlKTsKCiAgICAgICAgICBHTGN0eC50ZXhJbWFnZTJEKHRhcmdldCwgbGV2ZWwsIGludGVybmFsRm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCBib3JkZXIsIGZvcm1hdCwgdHlwZSwgaGVhcCwgcGl4ZWxzID4+IF9faGVhcEFjY2Vzc1NoaWZ0Rm9yV2ViR0xIZWFwKGhlYXApKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgR0xjdHgudGV4SW1hZ2UyRCh0YXJnZXQsIGxldmVsLCBpbnRlcm5hbEZvcm1hdCwgd2lkdGgsIGhlaWdodCwgYm9yZGVyLCBmb3JtYXQsIHR5cGUsIG51bGwpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBHTGN0eC50ZXhJbWFnZTJEKHRhcmdldCwgbGV2ZWwsIGludGVybmFsRm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCBib3JkZXIsIGZvcm1hdCwgdHlwZSwgcGl4ZWxzID8gZW1zY3JpcHRlbldlYkdMR2V0VGV4UGl4ZWxEYXRhKHR5cGUsIGZvcm1hdCwgd2lkdGgsIGhlaWdodCwgcGl4ZWxzLCBpbnRlcm5hbEZvcm1hdCkgOiBudWxsKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xUZXhQYXJhbWV0ZXJmKHgwLCB4MSwgeDIpIHsKICAgICAgR0xjdHhbInRleFBhcmFtZXRlcmYiXSh4MCwgeDEsIHgyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xUZXhQYXJhbWV0ZXJpKHgwLCB4MSwgeDIpIHsKICAgICAgR0xjdHhbInRleFBhcmFtZXRlcmkiXSh4MCwgeDEsIHgyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xUZXhTdWJJbWFnZTJEKHRhcmdldCwgbGV2ZWwsIHhvZmZzZXQsIHlvZmZzZXQsIHdpZHRoLCBoZWlnaHQsIGZvcm1hdCwgdHlwZSwgcGl4ZWxzKSB7CiAgICAgIGlmIChHTC5jdXJyZW50Q29udGV4dC52ZXJzaW9uID49IDIpIHsKICAgICAgICBpZiAoR0xjdHguY3VycmVudFBpeGVsVW5wYWNrQnVmZmVyQmluZGluZykgewogICAgICAgICAgR0xjdHgudGV4U3ViSW1hZ2UyRCh0YXJnZXQsIGxldmVsLCB4b2Zmc2V0LCB5b2Zmc2V0LCB3aWR0aCwgaGVpZ2h0LCBmb3JtYXQsIHR5cGUsIHBpeGVscyk7CiAgICAgICAgfSBlbHNlIGlmIChwaXhlbHMpIHsKICAgICAgICAgIHZhciBoZWFwID0gX19oZWFwT2JqZWN0Rm9yV2ViR0xUeXBlKHR5cGUpOwoKICAgICAgICAgIEdMY3R4LnRleFN1YkltYWdlMkQodGFyZ2V0LCBsZXZlbCwgeG9mZnNldCwgeW9mZnNldCwgd2lkdGgsIGhlaWdodCwgZm9ybWF0LCB0eXBlLCBoZWFwLCBwaXhlbHMgPj4gX19oZWFwQWNjZXNzU2hpZnRGb3JXZWJHTEhlYXAoaGVhcCkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBHTGN0eC50ZXhTdWJJbWFnZTJEKHRhcmdldCwgbGV2ZWwsIHhvZmZzZXQsIHlvZmZzZXQsIHdpZHRoLCBoZWlnaHQsIGZvcm1hdCwgdHlwZSwgbnVsbCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBwaXhlbERhdGEgPSBudWxsOwogICAgICBpZiAocGl4ZWxzKSBwaXhlbERhdGEgPSBlbXNjcmlwdGVuV2ViR0xHZXRUZXhQaXhlbERhdGEodHlwZSwgZm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCBwaXhlbHMsIDApOwogICAgICBHTGN0eC50ZXhTdWJJbWFnZTJEKHRhcmdldCwgbGV2ZWwsIHhvZmZzZXQsIHlvZmZzZXQsIHdpZHRoLCBoZWlnaHQsIGZvcm1hdCwgdHlwZSwgcGl4ZWxEYXRhKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xVbmlmb3JtMWYobG9jYXRpb24sIHYwKSB7CiAgICAgIEdMY3R4LnVuaWZvcm0xZihHTC51bmlmb3Jtc1tsb2NhdGlvbl0sIHYwKTsKICAgIH0KCiAgICB2YXIgX19taW5pVGVtcFdlYkdMRmxvYXRCdWZmZXJzID0gW107CgogICAgZnVuY3Rpb24gX2dsVW5pZm9ybTFmdihsb2NhdGlvbiwgY291bnQsIHZhbHVlKSB7CiAgICAgIGlmIChHTC5jdXJyZW50Q29udGV4dC52ZXJzaW9uID49IDIpIHsKICAgICAgICBHTGN0eC51bmlmb3JtMWZ2KEdMLnVuaWZvcm1zW2xvY2F0aW9uXSwgSEVBUEYzMiwgdmFsdWUgPj4gMiwgY291bnQpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKGNvdW50IDw9IDI4OCkgewogICAgICAgIHZhciB2aWV3ID0gX19taW5pVGVtcFdlYkdMRmxvYXRCdWZmZXJzW2NvdW50IC0gMV07CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7ICsraSkgewogICAgICAgICAgdmlld1tpXSA9IEhFQVBGMzJbdmFsdWUgKyA0ICogaSA+PiAyXTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHZpZXcgPSBIRUFQRjMyLnN1YmFycmF5KHZhbHVlID4+IDIsIHZhbHVlICsgY291bnQgKiA0ID4+IDIpOwogICAgICB9CgogICAgICBHTGN0eC51bmlmb3JtMWZ2KEdMLnVuaWZvcm1zW2xvY2F0aW9uXSwgdmlldyk7CiAgICB9CgogICAgZnVuY3Rpb24gX2dsVW5pZm9ybTFpKGxvY2F0aW9uLCB2MCkgewogICAgICBHTGN0eC51bmlmb3JtMWkoR0wudW5pZm9ybXNbbG9jYXRpb25dLCB2MCk7CiAgICB9CgogICAgZnVuY3Rpb24gX2dsVW5pZm9ybTJmdihsb2NhdGlvbiwgY291bnQsIHZhbHVlKSB7CiAgICAgIGlmIChHTC5jdXJyZW50Q29udGV4dC52ZXJzaW9uID49IDIpIHsKICAgICAgICBHTGN0eC51bmlmb3JtMmZ2KEdMLnVuaWZvcm1zW2xvY2F0aW9uXSwgSEVBUEYzMiwgdmFsdWUgPj4gMiwgY291bnQgKiAyKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChjb3VudCA8PSAxNDQpIHsKICAgICAgICB2YXIgdmlldyA9IF9fbWluaVRlbXBXZWJHTEZsb2F0QnVmZmVyc1syICogY291bnQgLSAxXTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyICogY291bnQ7IGkgKz0gMikgewogICAgICAgICAgdmlld1tpXSA9IEhFQVBGMzJbdmFsdWUgKyA0ICogaSA+PiAyXTsKICAgICAgICAgIHZpZXdbaSArIDFdID0gSEVBUEYzMlt2YWx1ZSArICg0ICogaSArIDQpID4+IDJdOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgdmlldyA9IEhFQVBGMzIuc3ViYXJyYXkodmFsdWUgPj4gMiwgdmFsdWUgKyBjb3VudCAqIDggPj4gMik7CiAgICAgIH0KCiAgICAgIEdMY3R4LnVuaWZvcm0yZnYoR0wudW5pZm9ybXNbbG9jYXRpb25dLCB2aWV3KTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xVbmlmb3JtM2Z2KGxvY2F0aW9uLCBjb3VudCwgdmFsdWUpIHsKICAgICAgaWYgKEdMLmN1cnJlbnRDb250ZXh0LnZlcnNpb24gPj0gMikgewogICAgICAgIEdMY3R4LnVuaWZvcm0zZnYoR0wudW5pZm9ybXNbbG9jYXRpb25dLCBIRUFQRjMyLCB2YWx1ZSA+PiAyLCBjb3VudCAqIDMpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKGNvdW50IDw9IDk2KSB7CiAgICAgICAgdmFyIHZpZXcgPSBfX21pbmlUZW1wV2ViR0xGbG9hdEJ1ZmZlcnNbMyAqIGNvdW50IC0gMV07CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMyAqIGNvdW50OyBpICs9IDMpIHsKICAgICAgICAgIHZpZXdbaV0gPSBIRUFQRjMyW3ZhbHVlICsgNCAqIGkgPj4gMl07CiAgICAgICAgICB2aWV3W2kgKyAxXSA9IEhFQVBGMzJbdmFsdWUgKyAoNCAqIGkgKyA0KSA+PiAyXTsKICAgICAgICAgIHZpZXdbaSArIDJdID0gSEVBUEYzMlt2YWx1ZSArICg0ICogaSArIDgpID4+IDJdOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgdmlldyA9IEhFQVBGMzIuc3ViYXJyYXkodmFsdWUgPj4gMiwgdmFsdWUgKyBjb3VudCAqIDEyID4+IDIpOwogICAgICB9CgogICAgICBHTGN0eC51bmlmb3JtM2Z2KEdMLnVuaWZvcm1zW2xvY2F0aW9uXSwgdmlldyk7CiAgICB9CgogICAgZnVuY3Rpb24gX2dsVW5pZm9ybTRmdihsb2NhdGlvbiwgY291bnQsIHZhbHVlKSB7CiAgICAgIGlmIChHTC5jdXJyZW50Q29udGV4dC52ZXJzaW9uID49IDIpIHsKICAgICAgICBHTGN0eC51bmlmb3JtNGZ2KEdMLnVuaWZvcm1zW2xvY2F0aW9uXSwgSEVBUEYzMiwgdmFsdWUgPj4gMiwgY291bnQgKiA0KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChjb3VudCA8PSA3MikgewogICAgICAgIHZhciB2aWV3ID0gX19taW5pVGVtcFdlYkdMRmxvYXRCdWZmZXJzWzQgKiBjb3VudCAtIDFdOwogICAgICAgIHZhciBoZWFwID0gSEVBUEYzMjsKICAgICAgICB2YWx1ZSA+Pj0gMjsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0ICogY291bnQ7IGkgKz0gNCkgewogICAgICAgICAgdmFyIGRzdCA9IHZhbHVlICsgaTsKICAgICAgICAgIHZpZXdbaV0gPSBoZWFwW2RzdF07CiAgICAgICAgICB2aWV3W2kgKyAxXSA9IGhlYXBbZHN0ICsgMV07CiAgICAgICAgICB2aWV3W2kgKyAyXSA9IGhlYXBbZHN0ICsgMl07CiAgICAgICAgICB2aWV3W2kgKyAzXSA9IGhlYXBbZHN0ICsgM107CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHZhciB2aWV3ID0gSEVBUEYzMi5zdWJhcnJheSh2YWx1ZSA+PiAyLCB2YWx1ZSArIGNvdW50ICogMTYgPj4gMik7CiAgICAgIH0KCiAgICAgIEdMY3R4LnVuaWZvcm00ZnYoR0wudW5pZm9ybXNbbG9jYXRpb25dLCB2aWV3KTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xVbmlmb3JtTWF0cml4M2Z2KGxvY2F0aW9uLCBjb3VudCwgdHJhbnNwb3NlLCB2YWx1ZSkgewogICAgICBpZiAoR0wuY3VycmVudENvbnRleHQudmVyc2lvbiA+PSAyKSB7CiAgICAgICAgR0xjdHgudW5pZm9ybU1hdHJpeDNmdihHTC51bmlmb3Jtc1tsb2NhdGlvbl0sICEhdHJhbnNwb3NlLCBIRUFQRjMyLCB2YWx1ZSA+PiAyLCBjb3VudCAqIDkpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKGNvdW50IDw9IDMyKSB7CiAgICAgICAgdmFyIHZpZXcgPSBfX21pbmlUZW1wV2ViR0xGbG9hdEJ1ZmZlcnNbOSAqIGNvdW50IC0gMV07CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgOSAqIGNvdW50OyBpICs9IDkpIHsKICAgICAgICAgIHZpZXdbaV0gPSBIRUFQRjMyW3ZhbHVlICsgNCAqIGkgPj4gMl07CiAgICAgICAgICB2aWV3W2kgKyAxXSA9IEhFQVBGMzJbdmFsdWUgKyAoNCAqIGkgKyA0KSA+PiAyXTsKICAgICAgICAgIHZpZXdbaSArIDJdID0gSEVBUEYzMlt2YWx1ZSArICg0ICogaSArIDgpID4+IDJdOwogICAgICAgICAgdmlld1tpICsgM10gPSBIRUFQRjMyW3ZhbHVlICsgKDQgKiBpICsgMTIpID4+IDJdOwogICAgICAgICAgdmlld1tpICsgNF0gPSBIRUFQRjMyW3ZhbHVlICsgKDQgKiBpICsgMTYpID4+IDJdOwogICAgICAgICAgdmlld1tpICsgNV0gPSBIRUFQRjMyW3ZhbHVlICsgKDQgKiBpICsgMjApID4+IDJdOwogICAgICAgICAgdmlld1tpICsgNl0gPSBIRUFQRjMyW3ZhbHVlICsgKDQgKiBpICsgMjQpID4+IDJdOwogICAgICAgICAgdmlld1tpICsgN10gPSBIRUFQRjMyW3ZhbHVlICsgKDQgKiBpICsgMjgpID4+IDJdOwogICAgICAgICAgdmlld1tpICsgOF0gPSBIRUFQRjMyW3ZhbHVlICsgKDQgKiBpICsgMzIpID4+IDJdOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgdmlldyA9IEhFQVBGMzIuc3ViYXJyYXkodmFsdWUgPj4gMiwgdmFsdWUgKyBjb3VudCAqIDM2ID4+IDIpOwogICAgICB9CgogICAgICBHTGN0eC51bmlmb3JtTWF0cml4M2Z2KEdMLnVuaWZvcm1zW2xvY2F0aW9uXSwgISF0cmFuc3Bvc2UsIHZpZXcpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9nbFVuaWZvcm1NYXRyaXg0ZnYobG9jYXRpb24sIGNvdW50LCB0cmFuc3Bvc2UsIHZhbHVlKSB7CiAgICAgIGlmIChHTC5jdXJyZW50Q29udGV4dC52ZXJzaW9uID49IDIpIHsKICAgICAgICBHTGN0eC51bmlmb3JtTWF0cml4NGZ2KEdMLnVuaWZvcm1zW2xvY2F0aW9uXSwgISF0cmFuc3Bvc2UsIEhFQVBGMzIsIHZhbHVlID4+IDIsIGNvdW50ICogMTYpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKGNvdW50IDw9IDE4KSB7CiAgICAgICAgdmFyIHZpZXcgPSBfX21pbmlUZW1wV2ViR0xGbG9hdEJ1ZmZlcnNbMTYgKiBjb3VudCAtIDFdOwogICAgICAgIHZhciBoZWFwID0gSEVBUEYzMjsKICAgICAgICB2YWx1ZSA+Pj0gMjsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNiAqIGNvdW50OyBpICs9IDE2KSB7CiAgICAgICAgICB2YXIgZHN0ID0gdmFsdWUgKyBpOwogICAgICAgICAgdmlld1tpXSA9IGhlYXBbZHN0XTsKICAgICAgICAgIHZpZXdbaSArIDFdID0gaGVhcFtkc3QgKyAxXTsKICAgICAgICAgIHZpZXdbaSArIDJdID0gaGVhcFtkc3QgKyAyXTsKICAgICAgICAgIHZpZXdbaSArIDNdID0gaGVhcFtkc3QgKyAzXTsKICAgICAgICAgIHZpZXdbaSArIDRdID0gaGVhcFtkc3QgKyA0XTsKICAgICAgICAgIHZpZXdbaSArIDVdID0gaGVhcFtkc3QgKyA1XTsKICAgICAgICAgIHZpZXdbaSArIDZdID0gaGVhcFtkc3QgKyA2XTsKICAgICAgICAgIHZpZXdbaSArIDddID0gaGVhcFtkc3QgKyA3XTsKICAgICAgICAgIHZpZXdbaSArIDhdID0gaGVhcFtkc3QgKyA4XTsKICAgICAgICAgIHZpZXdbaSArIDldID0gaGVhcFtkc3QgKyA5XTsKICAgICAgICAgIHZpZXdbaSArIDEwXSA9IGhlYXBbZHN0ICsgMTBdOwogICAgICAgICAgdmlld1tpICsgMTFdID0gaGVhcFtkc3QgKyAxMV07CiAgICAgICAgICB2aWV3W2kgKyAxMl0gPSBoZWFwW2RzdCArIDEyXTsKICAgICAgICAgIHZpZXdbaSArIDEzXSA9IGhlYXBbZHN0ICsgMTNdOwogICAgICAgICAgdmlld1tpICsgMTRdID0gaGVhcFtkc3QgKyAxNF07CiAgICAgICAgICB2aWV3W2kgKyAxNV0gPSBoZWFwW2RzdCArIDE1XTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHZpZXcgPSBIRUFQRjMyLnN1YmFycmF5KHZhbHVlID4+IDIsIHZhbHVlICsgY291bnQgKiA2NCA+PiAyKTsKICAgICAgfQoKICAgICAgR0xjdHgudW5pZm9ybU1hdHJpeDRmdihHTC51bmlmb3Jtc1tsb2NhdGlvbl0sICEhdHJhbnNwb3NlLCB2aWV3KTsKICAgIH0KCiAgICBmdW5jdGlvbiBfZ2xVc2VQcm9ncmFtKHByb2dyYW0pIHsKICAgICAgR0xjdHgudXNlUHJvZ3JhbShHTC5wcm9ncmFtc1twcm9ncmFtXSk7CiAgICB9CgogICAgZnVuY3Rpb24gX2dsVmVydGV4QXR0cmliUG9pbnRlcihpbmRleCwgc2l6ZSwgdHlwZSwgbm9ybWFsaXplZCwgc3RyaWRlLCBwdHIpIHsKICAgICAgR0xjdHgudmVydGV4QXR0cmliUG9pbnRlcihpbmRleCwgc2l6ZSwgdHlwZSwgISFub3JtYWxpemVkLCBzdHJpZGUsIHB0cik7CiAgICB9CgogICAgZnVuY3Rpb24gX2dsVmlld3BvcnQoeDAsIHgxLCB4MiwgeDMpIHsKICAgICAgR0xjdHhbInZpZXdwb3J0Il0oeDAsIHgxLCB4MiwgeDMpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9yb3VuZChkKSB7CiAgICAgIGQgPSArZDsKICAgICAgcmV0dXJuIGQgPj0gKzAgPyArTWF0aF9mbG9vcihkICsgKy41KSA6ICtNYXRoX2NlaWwoZCAtICsuNSk7CiAgICB9CgogICAgZnVuY3Rpb24gX3JvdW5kZihkKSB7CiAgICAgIGQgPSArZDsKICAgICAgcmV0dXJuIGQgPj0gKzAgPyArTWF0aF9mbG9vcihkICsgKy41KSA6ICtNYXRoX2NlaWwoZCAtICsuNSk7CiAgICB9CgogICAgZnVuY3Rpb24gX3NldFRlbXBSZXQwKCRpKSB7CiAgICAgIHNldFRlbXBSZXQwKCRpIHwgMCk7CiAgICB9CgogICAgTW9kdWxlWyJyZXF1ZXN0RnVsbHNjcmVlbiJdID0gZnVuY3Rpb24gTW9kdWxlX3JlcXVlc3RGdWxsc2NyZWVuKGxvY2tQb2ludGVyLCByZXNpemVDYW52YXMpIHsKICAgICAgQnJvd3Nlci5yZXF1ZXN0RnVsbHNjcmVlbihsb2NrUG9pbnRlciwgcmVzaXplQ2FudmFzKTsKICAgIH07CgogICAgTW9kdWxlWyJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiXSA9IGZ1bmN0aW9uIE1vZHVsZV9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuYykgewogICAgICBCcm93c2VyLnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jKTsKICAgIH07CgogICAgTW9kdWxlWyJzZXRDYW52YXNTaXplIl0gPSBmdW5jdGlvbiBNb2R1bGVfc2V0Q2FudmFzU2l6ZSh3aWR0aCwgaGVpZ2h0LCBub1VwZGF0ZXMpIHsKICAgICAgQnJvd3Nlci5zZXRDYW52YXNTaXplKHdpZHRoLCBoZWlnaHQsIG5vVXBkYXRlcyk7CiAgICB9OwoKICAgIE1vZHVsZVsicGF1c2VNYWluTG9vcCJdID0gZnVuY3Rpb24gTW9kdWxlX3BhdXNlTWFpbkxvb3AoKSB7CiAgICAgIEJyb3dzZXIubWFpbkxvb3AucGF1c2UoKTsKICAgIH07CgogICAgTW9kdWxlWyJyZXN1bWVNYWluTG9vcCJdID0gZnVuY3Rpb24gTW9kdWxlX3Jlc3VtZU1haW5Mb29wKCkgewogICAgICBCcm93c2VyLm1haW5Mb29wLnJlc3VtZSgpOwogICAgfTsKCiAgICBNb2R1bGVbImdldFVzZXJNZWRpYSJdID0gZnVuY3Rpb24gTW9kdWxlX2dldFVzZXJNZWRpYSgpIHsKICAgICAgQnJvd3Nlci5nZXRVc2VyTWVkaWEoKTsKICAgIH07CgogICAgTW9kdWxlWyJjcmVhdGVDb250ZXh0Il0gPSBmdW5jdGlvbiBNb2R1bGVfY3JlYXRlQ29udGV4dChjYW52YXMsIHVzZVdlYkdMLCBzZXRJbk1vZHVsZSwgd2ViR0xDb250ZXh0QXR0cmlidXRlcykgewogICAgICByZXR1cm4gQnJvd3Nlci5jcmVhdGVDb250ZXh0KGNhbnZhcywgdXNlV2ViR0wsIHNldEluTW9kdWxlLCB3ZWJHTENvbnRleHRBdHRyaWJ1dGVzKTsKICAgIH07CgogICAgdmFyIEdMY3R4OwoKICAgIHZhciBfX21pbmlUZW1wV2ViR0xGbG9hdEJ1ZmZlcnNTdG9yYWdlID0gbmV3IEZsb2F0MzJBcnJheSgyODgpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjg4OyArK2kpIHsKICAgICAgX19taW5pVGVtcFdlYkdMRmxvYXRCdWZmZXJzW2ldID0gX19taW5pVGVtcFdlYkdMRmxvYXRCdWZmZXJzU3RvcmFnZS5zdWJhcnJheSgwLCBpICsgMSk7CiAgICB9CgogICAgZnVuY3Rpb24gaW50QXJyYXlGcm9tU3RyaW5nKHN0cmluZ3ksIGRvbnRBZGROdWxsLCBsZW5ndGgpIHsKICAgICAgdmFyIGxlbiA9IGxlbmd0aCA+IDAgPyBsZW5ndGggOiBsZW5ndGhCeXRlc1VURjgoc3RyaW5neSkgKyAxOwogICAgICB2YXIgdThhcnJheSA9IG5ldyBBcnJheShsZW4pOwogICAgICB2YXIgbnVtQnl0ZXNXcml0dGVuID0gc3RyaW5nVG9VVEY4QXJyYXkoc3RyaW5neSwgdThhcnJheSwgMCwgdThhcnJheS5sZW5ndGgpOwogICAgICBpZiAoZG9udEFkZE51bGwpIHU4YXJyYXkubGVuZ3RoID0gbnVtQnl0ZXNXcml0dGVuOwogICAgICByZXR1cm4gdThhcnJheTsKICAgIH0KCiAgICB2YXIgYXNtTGlicmFyeUFyZyA9IHsKICAgICAgImthIjogX2Vtc2NyaXB0ZW5fYXN5bmNfd2dldDJfYWJvcnQsCiAgICAgICJqYSI6IF9lbXNjcmlwdGVuX2FzeW5jX3dnZXQyX2RhdGEsCiAgICAgICJlIjogX2Vtc2NyaXB0ZW5fbG9uZ2ptcCwKICAgICAgImZhIjogX2Vtc2NyaXB0ZW5fbWVtY3B5X2JpZywKICAgICAgImdhIjogX2Vtc2NyaXB0ZW5fcmVzaXplX2hlYXAsCiAgICAgICJhIjogX2V4aXQsCiAgICAgICJpYSI6IF9mZF9jbG9zZSwKICAgICAgImhhIjogX2ZkX3JlYWQsCiAgICAgICJlYSI6IF9mZF9zZWVrLAogICAgICAiVCI6IF9mZF93cml0ZSwKICAgICAgImkiOiBfZ2V0VGVtcFJldDAsCiAgICAgICJIIjogX2dldHRpbWVvZmRheSwKICAgICAgIm8iOiBfZ2xBY3RpdmVUZXh0dXJlLAogICAgICAieiI6IF9nbEF0dGFjaFNoYWRlciwKICAgICAgIkkiOiBfZ2xCaW5kQXR0cmliTG9jYXRpb24sCiAgICAgICJ0IjogX2dsQmluZEJ1ZmZlciwKICAgICAgImQiOiBfZ2xCaW5kVGV4dHVyZSwKICAgICAgIloiOiBfZ2xCbGVuZENvbG9yLAogICAgICAiQyI6IF9nbEJsZW5kRnVuYywKICAgICAgImwiOiBfZ2xCbGVuZEZ1bmNTZXBhcmF0ZSwKICAgICAgInciOiBfZ2xCdWZmZXJEYXRhLAogICAgICAiXyI6IF9nbENsZWFyLAogICAgICAieWEiOiBfZ2xDbGVhckNvbG9yLAogICAgICAibSI6IF9nbENvbG9yTWFzaywKICAgICAgIksiOiBfZ2xDb21waWxlU2hhZGVyLAogICAgICAiWSI6IF9nbENyZWF0ZVByb2dyYW0sCiAgICAgICJCIjogX2dsQ3JlYXRlU2hhZGVyLAogICAgICAibiI6IF9nbEN1bGxGYWNlLAogICAgICAidiI6IF9nbERlbGV0ZUJ1ZmZlcnMsCiAgICAgICJ6YSI6IF9nbERlbGV0ZVByb2dyYW0sCiAgICAgICIkIjogX2dsRGVsZXRlU2hhZGVyLAogICAgICAiUiI6IF9nbERlbGV0ZVRleHR1cmVzLAogICAgICAid2EiOiBfZ2xEZXB0aEZ1bmMsCiAgICAgICJzIjogX2dsRGVwdGhNYXNrLAogICAgICAiYyI6IF9nbERpc2FibGUsCiAgICAgICJOIjogX2dsRGlzYWJsZVZlcnRleEF0dHJpYkFycmF5LAogICAgICAiaCI6IF9nbERyYXdBcnJheXMsCiAgICAgICJyYSI6IF9nbERyYXdFbGVtZW50cywKICAgICAgImIiOiBfZ2xFbmFibGUsCiAgICAgICJRIjogX2dsRW5hYmxlVmVydGV4QXR0cmliQXJyYXksCiAgICAgICJDYSI6IF9nbEZpbmlzaCwKICAgICAgIkFhIjogX2dsRnJvbnRGYWNlLAogICAgICAieCI6IF9nbEdlbkJ1ZmZlcnMsCiAgICAgICJGIjogX2dsR2VuVGV4dHVyZXMsCiAgICAgICJkYSI6IF9nbEdlbmVyYXRlTWlwbWFwLAogICAgICAicWEiOiBfZ2xHZXRBY3RpdmVVbmlmb3JtLAogICAgICAiZiI6IF9nbEdldEVycm9yLAogICAgICAidGEiOiBfZ2xHZXRJbnRlZ2VydiwKICAgICAgIlciOiBfZ2xHZXRQcm9ncmFtSW5mb0xvZywKICAgICAgInkiOiBfZ2xHZXRQcm9ncmFtaXYsCiAgICAgICJKIjogX2dsR2V0U2hhZGVySW5mb0xvZywKICAgICAgIkEiOiBfZ2xHZXRTaGFkZXJpdiwKICAgICAgIkciOiBfZ2xHZXRVbmlmb3JtTG9jYXRpb24sCiAgICAgICJ1YSI6IF9nbExpbmVXaWR0aCwKICAgICAgIlgiOiBfZ2xMaW5rUHJvZ3JhbSwKICAgICAgIkUiOiBfZ2xQaXhlbFN0b3JlaSwKICAgICAgIkwiOiBfZ2xTaGFkZXJTb3VyY2UsCiAgICAgICJwIjogX2dsU3RlbmNpbEZ1bmMsCiAgICAgICJEIjogX2dsU3RlbmNpbE1hc2ssCiAgICAgICJxIjogX2dsU3RlbmNpbE9wLAogICAgICAiYWEiOiBfZ2xTdGVuY2lsT3BTZXBhcmF0ZSwKICAgICAgIlMiOiBfZ2xUZXhJbWFnZTJELAogICAgICAiVSI6IF9nbFRleFBhcmFtZXRlcmYsCiAgICAgICJ1IjogX2dsVGV4UGFyYW1ldGVyaSwKICAgICAgIkJhIjogX2dsVGV4U3ViSW1hZ2UyRCwKICAgICAgIm5hIjogX2dsVW5pZm9ybTFmLAogICAgICAibWEiOiBfZ2xVbmlmb3JtMWZ2LAogICAgICAiY2EiOiBfZ2xVbmlmb3JtMWksCiAgICAgICJiYSI6IF9nbFVuaWZvcm0yZnYsCiAgICAgICJwYSI6IF9nbFVuaWZvcm0zZnYsCiAgICAgICJPIjogX2dsVW5pZm9ybTRmdiwKICAgICAgImxhIjogX2dsVW5pZm9ybU1hdHJpeDNmdiwKICAgICAgIlYiOiBfZ2xVbmlmb3JtTWF0cml4NGZ2LAogICAgICAiaiI6IF9nbFVzZVByb2dyYW0sCiAgICAgICJQIjogX2dsVmVydGV4QXR0cmliUG9pbnRlciwKICAgICAgInhhIjogX2dsVmlld3BvcnQsCiAgICAgICJ2YSI6IGludm9rZV9paSwKICAgICAgInNhIjogaW52b2tlX2lpaSwKICAgICAgInIiOiBpbnZva2VfdmlpLAogICAgICAib2EiOiBpbnZva2VfdmlpaWlpLAogICAgICAibWVtb3J5Ijogd2FzbU1lbW9yeSwKICAgICAgImsiOiBfcm91bmQsCiAgICAgICJNIjogX3JvdW5kZiwKICAgICAgImciOiBfc2V0VGVtcFJldDAsCiAgICAgICJ0YWJsZSI6IHdhc21UYWJsZQogICAgfTsKICAgIHZhciBhc20gPSBjcmVhdGVXYXNtKCk7CgogICAgdmFyIF9fX3dhc21fY2FsbF9jdG9ycyA9IE1vZHVsZVsiX19fd2FzbV9jYWxsX2N0b3JzIl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoX19fd2FzbV9jYWxsX2N0b3JzID0gTW9kdWxlWyJfX193YXNtX2NhbGxfY3RvcnMiXSA9IE1vZHVsZVsiYXNtIl1bIkRhIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBfZnJlZSA9IE1vZHVsZVsiX2ZyZWUiXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChfZnJlZSA9IE1vZHVsZVsiX2ZyZWUiXSA9IE1vZHVsZVsiYXNtIl1bIkVhIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBfbWFsbG9jID0gTW9kdWxlWyJfbWFsbG9jIl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoX21hbGxvYyA9IE1vZHVsZVsiX21hbGxvYyJdID0gTW9kdWxlWyJhc20iXVsiRmEiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIF9vYnNlcnZlcl91cGRhdGUgPSBNb2R1bGVbIl9vYnNlcnZlcl91cGRhdGUiXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChfb2JzZXJ2ZXJfdXBkYXRlID0gTW9kdWxlWyJfb2JzZXJ2ZXJfdXBkYXRlIl0gPSBNb2R1bGVbImFzbSJdWyJHYSJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICB2YXIgX2NvbnZlcnRfZnJhbWUgPSBNb2R1bGVbIl9jb252ZXJ0X2ZyYW1lIl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoX2NvbnZlcnRfZnJhbWUgPSBNb2R1bGVbIl9jb252ZXJ0X2ZyYW1lIl0gPSBNb2R1bGVbImFzbSJdWyJIYSJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICB2YXIgX2NvbnZlcnRfZnJhbWV2NCA9IE1vZHVsZVsiX2NvbnZlcnRfZnJhbWV2NCJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKF9jb252ZXJ0X2ZyYW1ldjQgPSBNb2R1bGVbIl9jb252ZXJ0X2ZyYW1ldjQiXSA9IE1vZHVsZVsiYXNtIl1bIklhIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBfc3lzX3NldF90cmFuc2xhdGVfZnVuY3Rpb24gPSBNb2R1bGVbIl9zeXNfc2V0X3RyYW5zbGF0ZV9mdW5jdGlvbiJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKF9zeXNfc2V0X3RyYW5zbGF0ZV9mdW5jdGlvbiA9IE1vZHVsZVsiX3N5c19zZXRfdHJhbnNsYXRlX2Z1bmN0aW9uIl0gPSBNb2R1bGVbImFzbSJdWyJKYSJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICB2YXIgX2Rlc2lnbmF0aW9uX2NsZWFudXAgPSBNb2R1bGVbIl9kZXNpZ25hdGlvbl9jbGVhbnVwIl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoX2Rlc2lnbmF0aW9uX2NsZWFudXAgPSBNb2R1bGVbIl9kZXNpZ25hdGlvbl9jbGVhbnVwIl0gPSBNb2R1bGVbImFzbSJdWyJLYSJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICB2YXIgX29ial9yZWxlYXNlID0gTW9kdWxlWyJfb2JqX3JlbGVhc2UiXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChfb2JqX3JlbGVhc2UgPSBNb2R1bGVbIl9vYmpfcmVsZWFzZSJdID0gTW9kdWxlWyJhc20iXVsiTGEiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIF9vYmpfY3JlYXRlX3N0ciA9IE1vZHVsZVsiX29ial9jcmVhdGVfc3RyIl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoX29ial9jcmVhdGVfc3RyID0gTW9kdWxlWyJfb2JqX2NyZWF0ZV9zdHIiXSA9IE1vZHVsZVsiYXNtIl1bIk1hIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBfb2JqX3JldGFpbiA9IE1vZHVsZVsiX29ial9yZXRhaW4iXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChfb2JqX3JldGFpbiA9IE1vZHVsZVsiX29ial9yZXRhaW4iXSA9IE1vZHVsZVsiYXNtIl1bIk5hIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBfb2JqX2Nsb25lID0gTW9kdWxlWyJfb2JqX2Nsb25lIl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoX29ial9jbG9uZSA9IE1vZHVsZVsiX29ial9jbG9uZSJdID0gTW9kdWxlWyJhc20iXVsiT2EiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIF9vYmpfZ2V0X2Rlc2lnbmF0aW9ucyA9IE1vZHVsZVsiX29ial9nZXRfZGVzaWduYXRpb25zIl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoX29ial9nZXRfZGVzaWduYXRpb25zID0gTW9kdWxlWyJfb2JqX2dldF9kZXNpZ25hdGlvbnMiXSA9IE1vZHVsZVsiYXNtIl1bIlBhIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBfb2JqX2dldF9pbmZvX2pzb24gPSBNb2R1bGVbIl9vYmpfZ2V0X2luZm9fanNvbiJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKF9vYmpfZ2V0X2luZm9fanNvbiA9IE1vZHVsZVsiX29ial9nZXRfaW5mb19qc29uIl0gPSBNb2R1bGVbImFzbSJdWyJRYSJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICB2YXIgX29ial9nZXRfaWQgPSBNb2R1bGVbIl9vYmpfZ2V0X2lkIl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoX29ial9nZXRfaWQgPSBNb2R1bGVbIl9vYmpfZ2V0X2lkIl0gPSBNb2R1bGVbImFzbSJdWyJSYSJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICB2YXIgX29ial9nZXRfanNvbl9kYXRhX3N0ciA9IE1vZHVsZVsiX29ial9nZXRfanNvbl9kYXRhX3N0ciJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKF9vYmpfZ2V0X2pzb25fZGF0YV9zdHIgPSBNb2R1bGVbIl9vYmpfZ2V0X2pzb25fZGF0YV9zdHIiXSA9IE1vZHVsZVsiYXNtIl1bIlNhIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBfb2JqX2dldF9hdHRyXyA9IE1vZHVsZVsiX29ial9nZXRfYXR0cl8iXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChfb2JqX2dldF9hdHRyXyA9IE1vZHVsZVsiX29ial9nZXRfYXR0cl8iXSA9IE1vZHVsZVsiYXNtIl1bIlRhIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBfb2JqX2ZvcmVhY2hfYXR0ciA9IE1vZHVsZVsiX29ial9mb3JlYWNoX2F0dHIiXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChfb2JqX2ZvcmVhY2hfYXR0ciA9IE1vZHVsZVsiX29ial9mb3JlYWNoX2F0dHIiXSA9IE1vZHVsZVsiYXNtIl1bIlVhIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBfb2JqX2ZvcmVhY2hfY2hpbGQgPSBNb2R1bGVbIl9vYmpfZm9yZWFjaF9jaGlsZCJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKF9vYmpfZm9yZWFjaF9jaGlsZCA9IE1vZHVsZVsiX29ial9mb3JlYWNoX2NoaWxkIl0gPSBNb2R1bGVbImFzbSJdWyJWYSJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICB2YXIgX29ial9jYWxsX2pzb25fc3RyID0gTW9kdWxlWyJfb2JqX2NhbGxfanNvbl9zdHIiXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChfb2JqX2NhbGxfanNvbl9zdHIgPSBNb2R1bGVbIl9vYmpfY2FsbF9qc29uX3N0ciJdID0gTW9kdWxlWyJhc20iXVsiV2EiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIF9tb2R1bGVfZ2V0X2NoaWxkID0gTW9kdWxlWyJfbW9kdWxlX2dldF9jaGlsZCJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKF9tb2R1bGVfZ2V0X2NoaWxkID0gTW9kdWxlWyJfbW9kdWxlX2dldF9jaGlsZCJdID0gTW9kdWxlWyJhc20iXVsiWGEiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIF9jb3JlX2FkZF9mb250ID0gTW9kdWxlWyJfY29yZV9hZGRfZm9udCJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKF9jb3JlX2FkZF9mb250ID0gTW9kdWxlWyJfY29yZV9hZGRfZm9udCJdID0gTW9kdWxlWyJhc20iXVsiWWEiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIF9tb2R1bGVfdXBkYXRlID0gTW9kdWxlWyJfbW9kdWxlX3VwZGF0ZSJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKF9tb2R1bGVfdXBkYXRlID0gTW9kdWxlWyJfbW9kdWxlX3VwZGF0ZSJdID0gTW9kdWxlWyJhc20iXVsiWmEiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIF9tb2R1bGVfbGlzdF9vYmpzMiA9IE1vZHVsZVsiX21vZHVsZV9saXN0X29ianMyIl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoX21vZHVsZV9saXN0X29ianMyID0gTW9kdWxlWyJfbW9kdWxlX2xpc3Rfb2JqczIiXSA9IE1vZHVsZVsiYXNtIl1bIl9hIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBfbW9kdWxlX2FkZF9kYXRhX3NvdXJjZSA9IE1vZHVsZVsiX21vZHVsZV9hZGRfZGF0YV9zb3VyY2UiXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChfbW9kdWxlX2FkZF9kYXRhX3NvdXJjZSA9IE1vZHVsZVsiX21vZHVsZV9hZGRfZGF0YV9zb3VyY2UiXSA9IE1vZHVsZVsiYXNtIl1bIiRhIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBfbW9kdWxlX2FkZF9nbG9iYWxfbGlzdGVuZXIgPSBNb2R1bGVbIl9tb2R1bGVfYWRkX2dsb2JhbF9saXN0ZW5lciJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKF9tb2R1bGVfYWRkX2dsb2JhbF9saXN0ZW5lciA9IE1vZHVsZVsiX21vZHVsZV9hZGRfZ2xvYmFsX2xpc3RlbmVyIl0gPSBNb2R1bGVbImFzbSJdWyJhYiJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICB2YXIgX21vZHVsZV9hZGQgPSBNb2R1bGVbIl9tb2R1bGVfYWRkIl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoX21vZHVsZV9hZGQgPSBNb2R1bGVbIl9tb2R1bGVfYWRkIl0gPSBNb2R1bGVbImFzbSJdWyJiYiJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICB2YXIgX21vZHVsZV9hZGRfbmV3ID0gTW9kdWxlWyJfbW9kdWxlX2FkZF9uZXciXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChfbW9kdWxlX2FkZF9uZXcgPSBNb2R1bGVbIl9tb2R1bGVfYWRkX25ldyJdID0gTW9kdWxlWyJhc20iXVsiY2IiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIF9tb2R1bGVfcmVtb3ZlID0gTW9kdWxlWyJfbW9kdWxlX3JlbW92ZSJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKF9tb2R1bGVfcmVtb3ZlID0gTW9kdWxlWyJfbW9kdWxlX3JlbW92ZSJdID0gTW9kdWxlWyJhc20iXVsiZGIiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIF9tb2R1bGVfZ2V0X3RyZWUgPSBNb2R1bGVbIl9tb2R1bGVfZ2V0X3RyZWUiXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChfbW9kdWxlX2dldF90cmVlID0gTW9kdWxlWyJfbW9kdWxlX2dldF90cmVlIl0gPSBNb2R1bGVbImFzbSJdWyJlYiJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICB2YXIgX21vZHVsZV9nZXRfcGF0aCA9IE1vZHVsZVsiX21vZHVsZV9nZXRfcGF0aCJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKF9tb2R1bGVfZ2V0X3BhdGggPSBNb2R1bGVbIl9tb2R1bGVfZ2V0X3BhdGgiXSA9IE1vZHVsZVsiYXNtIl1bImZiIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBfY29yZV9nZXRfbW9kdWxlID0gTW9kdWxlWyJfY29yZV9nZXRfbW9kdWxlIl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoX2NvcmVfZ2V0X21vZHVsZSA9IE1vZHVsZVsiX2NvcmVfZ2V0X21vZHVsZSJdID0gTW9kdWxlWyJhc20iXVsiZ2IiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIF9jb3JlX2luaXQgPSBNb2R1bGVbIl9jb3JlX2luaXQiXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChfY29yZV9pbml0ID0gTW9kdWxlWyJfY29yZV9pbml0Il0gPSBNb2R1bGVbImFzbSJdWyJoYiJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICB2YXIgX2NvcmVfdXBkYXRlID0gTW9kdWxlWyJfY29yZV91cGRhdGUiXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChfY29yZV91cGRhdGUgPSBNb2R1bGVbIl9jb3JlX3VwZGF0ZSJdID0gTW9kdWxlWyJhc20iXVsiaWIiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIF9jb3JlX3JlbmRlciA9IE1vZHVsZVsiX2NvcmVfcmVuZGVyIl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoX2NvcmVfcmVuZGVyID0gTW9kdWxlWyJfY29yZV9yZW5kZXIiXSA9IE1vZHVsZVsiYXNtIl1bImpiIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBfY29yZV9vbl9tb3VzZSA9IE1vZHVsZVsiX2NvcmVfb25fbW91c2UiXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChfY29yZV9vbl9tb3VzZSA9IE1vZHVsZVsiX2NvcmVfb25fbW91c2UiXSA9IE1vZHVsZVsiYXNtIl1bImtiIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBfY29yZV9vbl9waW5jaCA9IE1vZHVsZVsiX2NvcmVfb25fcGluY2giXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChfY29yZV9vbl9waW5jaCA9IE1vZHVsZVsiX2NvcmVfb25fcGluY2giXSA9IE1vZHVsZVsiYXNtIl1bImxiIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBfY29yZV9vbl9rZXkgPSBNb2R1bGVbIl9jb3JlX29uX2tleSJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKF9jb3JlX29uX2tleSA9IE1vZHVsZVsiX2NvcmVfb25fa2V5Il0gPSBNb2R1bGVbImFzbSJdWyJtYiJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICB2YXIgX2NvcmVfb25fem9vbSA9IE1vZHVsZVsiX2NvcmVfb25fem9vbSJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKF9jb3JlX29uX3pvb20gPSBNb2R1bGVbIl9jb3JlX29uX3pvb20iXSA9IE1vZHVsZVsiYXNtIl1bIm5iIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBfY29yZV9sb29rYXQgPSBNb2R1bGVbIl9jb3JlX2xvb2thdCJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKF9jb3JlX2xvb2thdCA9IE1vZHVsZVsiX2NvcmVfbG9va2F0Il0gPSBNb2R1bGVbImFzbSJdWyJvYiJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICB2YXIgX2NvcmVfcG9pbnRfYW5kX2xvY2sgPSBNb2R1bGVbIl9jb3JlX3BvaW50X2FuZF9sb2NrIl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoX2NvcmVfcG9pbnRfYW5kX2xvY2sgPSBNb2R1bGVbIl9jb3JlX3BvaW50X2FuZF9sb2NrIl0gPSBNb2R1bGVbImFzbSJdWyJwYiJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICB2YXIgX2NvcmVfem9vbXRvID0gTW9kdWxlWyJfY29yZV96b29tdG8iXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChfY29yZV96b29tdG8gPSBNb2R1bGVbIl9jb3JlX3pvb210byJdID0gTW9kdWxlWyJhc20iXVsicWIiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIF9jb3JlX3NldF90aW1lID0gTW9kdWxlWyJfY29yZV9zZXRfdGltZSJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKF9jb3JlX3NldF90aW1lID0gTW9kdWxlWyJfY29yZV9zZXRfdGltZSJdID0gTW9kdWxlWyJhc20iXVsicmIiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIF9vdHlwZV90b19zdHIgPSBNb2R1bGVbIl9vdHlwZV90b19zdHIiXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChfb3R5cGVfdG9fc3RyID0gTW9kdWxlWyJfb3R5cGVfdG9fc3RyIl0gPSBNb2R1bGVbImFzbSJdWyJzYiJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICB2YXIgX2NvcmVfc2VhcmNoID0gTW9kdWxlWyJfY29yZV9zZWFyY2giXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChfY29yZV9zZWFyY2ggPSBNb2R1bGVbIl9jb3JlX3NlYXJjaCJdID0gTW9kdWxlWyJhc20iXVsidGIiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIF9jb21wdXRlX2V2ZW50ID0gTW9kdWxlWyJfY29tcHV0ZV9ldmVudCJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKF9jb21wdXRlX2V2ZW50ID0gTW9kdWxlWyJfY29tcHV0ZV9ldmVudCJdID0gTW9kdWxlWyJhc20iXVsidWIiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIF9nZXRfY29tcGlsZXJfc3RyID0gTW9kdWxlWyJfZ2V0X2NvbXBpbGVyX3N0ciJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKF9nZXRfY29tcGlsZXJfc3RyID0gTW9kdWxlWyJfZ2V0X2NvbXBpbGVyX3N0ciJdID0gTW9kdWxlWyJhc20iXVsidmIiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIF9hMnRmX2pzb24gPSBNb2R1bGVbIl9hMnRmX2pzb24iXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChfYTJ0Zl9qc29uID0gTW9kdWxlWyJfYTJ0Zl9qc29uIl0gPSBNb2R1bGVbImFzbSJdWyJ3YiJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICB2YXIgX2EyYWZfanNvbiA9IE1vZHVsZVsiX2EyYWZfanNvbiJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKF9hMmFmX2pzb24gPSBNb2R1bGVbIl9hMmFmX2pzb24iXSA9IE1vZHVsZVsiYXNtIl1bInhiIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBfZ2VvanNvbl9zZXRfYm9vbF9wdHJfID0gTW9kdWxlWyJfZ2VvanNvbl9zZXRfYm9vbF9wdHJfIl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoX2dlb2pzb25fc2V0X2Jvb2xfcHRyXyA9IE1vZHVsZVsiX2dlb2pzb25fc2V0X2Jvb2xfcHRyXyJdID0gTW9kdWxlWyJhc20iXVsieWIiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIF9nZW9qc29uX3NldF9jb2xvcl9wdHJfID0gTW9kdWxlWyJfZ2VvanNvbl9zZXRfY29sb3JfcHRyXyJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKF9nZW9qc29uX3NldF9jb2xvcl9wdHJfID0gTW9kdWxlWyJfZ2VvanNvbl9zZXRfY29sb3JfcHRyXyJdID0gTW9kdWxlWyJhc20iXVsiemIiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIF9nZW9qc29uX3JlbW92ZV9hbGxfZmVhdHVyZXMgPSBNb2R1bGVbIl9nZW9qc29uX3JlbW92ZV9hbGxfZmVhdHVyZXMiXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChfZ2VvanNvbl9yZW1vdmVfYWxsX2ZlYXR1cmVzID0gTW9kdWxlWyJfZ2VvanNvbl9yZW1vdmVfYWxsX2ZlYXR1cmVzIl0gPSBNb2R1bGVbImFzbSJdWyJBYiJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICB2YXIgX2dlb2pzb25fZmlsdGVyX2FsbCA9IE1vZHVsZVsiX2dlb2pzb25fZmlsdGVyX2FsbCJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKF9nZW9qc29uX2ZpbHRlcl9hbGwgPSBNb2R1bGVbIl9nZW9qc29uX2ZpbHRlcl9hbGwiXSA9IE1vZHVsZVsiYXNtIl1bIkJiIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBfZ2VvanNvbl9hZGRfcG9seV9mZWF0dXJlID0gTW9kdWxlWyJfZ2VvanNvbl9hZGRfcG9seV9mZWF0dXJlIl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoX2dlb2pzb25fYWRkX3BvbHlfZmVhdHVyZSA9IE1vZHVsZVsiX2dlb2pzb25fYWRkX3BvbHlfZmVhdHVyZSJdID0gTW9kdWxlWyJhc20iXVsiQ2IiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIF9nZW9qc29uX3F1ZXJ5X3JlbmRlcmVkX2ZlYXR1cmVzID0gTW9kdWxlWyJfZ2VvanNvbl9xdWVyeV9yZW5kZXJlZF9mZWF0dXJlcyJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKF9nZW9qc29uX3F1ZXJ5X3JlbmRlcmVkX2ZlYXR1cmVzID0gTW9kdWxlWyJfZ2VvanNvbl9xdWVyeV9yZW5kZXJlZF9mZWF0dXJlcyJdID0gTW9kdWxlWyJhc20iXVsiRGIiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIF9nZW9qc29uX3NldF9vbl9uZXdfdGlsZV9jYWxsYmFjayA9IE1vZHVsZVsiX2dlb2pzb25fc2V0X29uX25ld190aWxlX2NhbGxiYWNrIl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoX2dlb2pzb25fc2V0X29uX25ld190aWxlX2NhbGxiYWNrID0gTW9kdWxlWyJfZ2VvanNvbl9zZXRfb25fbmV3X3RpbGVfY2FsbGJhY2siXSA9IE1vZHVsZVsiYXNtIl1bIkViIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBfZ2VvanNvbl9zdXJ2ZXlfcXVlcnlfcmVuZGVyZWRfZmVhdHVyZXMgPSBNb2R1bGVbIl9nZW9qc29uX3N1cnZleV9xdWVyeV9yZW5kZXJlZF9mZWF0dXJlcyJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKF9nZW9qc29uX3N1cnZleV9xdWVyeV9yZW5kZXJlZF9mZWF0dXJlcyA9IE1vZHVsZVsiX2dlb2pzb25fc3VydmV5X3F1ZXJ5X3JlbmRlcmVkX2ZlYXR1cmVzIl0gPSBNb2R1bGVbImFzbSJdWyJGYiJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICB2YXIgX3NreWN1bHR1cmVzX2dldF9kZXNpZ25hdGlvbnMgPSBNb2R1bGVbIl9za3ljdWx0dXJlc19nZXRfZGVzaWduYXRpb25zIl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoX3NreWN1bHR1cmVzX2dldF9kZXNpZ25hdGlvbnMgPSBNb2R1bGVbIl9za3ljdWx0dXJlc19nZXRfZGVzaWduYXRpb25zIl0gPSBNb2R1bGVbImFzbSJdWyJHYiJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICB2YXIgX3NreWN1bHR1cmVzX2dldF9jdWx0dXJhbF9uYW1lc19qc29uID0gTW9kdWxlWyJfc2t5Y3VsdHVyZXNfZ2V0X2N1bHR1cmFsX25hbWVzX2pzb24iXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChfc2t5Y3VsdHVyZXNfZ2V0X2N1bHR1cmFsX25hbWVzX2pzb24gPSBNb2R1bGVbIl9za3ljdWx0dXJlc19nZXRfY3VsdHVyYWxfbmFtZXNfanNvbiJdID0gTW9kdWxlWyJhc20iXVsiSGIiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIF9zZXRUaHJldyA9IE1vZHVsZVsiX3NldFRocmV3Il0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoX3NldFRocmV3ID0gTW9kdWxlWyJfc2V0VGhyZXciXSA9IE1vZHVsZVsiYXNtIl1bIkliIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBzdGFja1NhdmUgPSBNb2R1bGVbInN0YWNrU2F2ZSJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKHN0YWNrU2F2ZSA9IE1vZHVsZVsic3RhY2tTYXZlIl0gPSBNb2R1bGVbImFzbSJdWyJKYiJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICB2YXIgc3RhY2tSZXN0b3JlID0gTW9kdWxlWyJzdGFja1Jlc3RvcmUiXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChzdGFja1Jlc3RvcmUgPSBNb2R1bGVbInN0YWNrUmVzdG9yZSJdID0gTW9kdWxlWyJhc20iXVsiS2IiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIHN0YWNrQWxsb2MgPSBNb2R1bGVbInN0YWNrQWxsb2MiXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChzdGFja0FsbG9jID0gTW9kdWxlWyJzdGFja0FsbG9jIl0gPSBNb2R1bGVbImFzbSJdWyJMYiJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICB2YXIgZHluQ2FsbF92aSA9IE1vZHVsZVsiZHluQ2FsbF92aSJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKGR5bkNhbGxfdmkgPSBNb2R1bGVbImR5bkNhbGxfdmkiXSA9IE1vZHVsZVsiYXNtIl1bIk1iIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBkeW5DYWxsX3ZpaSA9IE1vZHVsZVsiZHluQ2FsbF92aWkiXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChkeW5DYWxsX3ZpaSA9IE1vZHVsZVsiZHluQ2FsbF92aWkiXSA9IE1vZHVsZVsiYXNtIl1bIk5iIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBkeW5DYWxsX3ZpaWlpaSA9IE1vZHVsZVsiZHluQ2FsbF92aWlpaWkiXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChkeW5DYWxsX3ZpaWlpaSA9IE1vZHVsZVsiZHluQ2FsbF92aWlpaWkiXSA9IE1vZHVsZVsiYXNtIl1bIk9iIl0pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7CiAgICB9OwoKICAgIHZhciBkeW5DYWxsX2lpID0gTW9kdWxlWyJkeW5DYWxsX2lpIl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoZHluQ2FsbF9paSA9IE1vZHVsZVsiZHluQ2FsbF9paSJdID0gTW9kdWxlWyJhc20iXVsiUGIiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIGR5bkNhbGxfaWlpID0gTW9kdWxlWyJkeW5DYWxsX2lpaSJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKGR5bkNhbGxfaWlpID0gTW9kdWxlWyJkeW5DYWxsX2lpaSJdID0gTW9kdWxlWyJhc20iXVsiUWIiXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH07CgogICAgdmFyIGR5bkNhbGxfdmlpaWkgPSBNb2R1bGVbImR5bkNhbGxfdmlpaWkiXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIChkeW5DYWxsX3ZpaWlpID0gTW9kdWxlWyJkeW5DYWxsX3ZpaWlpIl0gPSBNb2R1bGVbImFzbSJdWyJSYiJdKS5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfTsKCiAgICBmdW5jdGlvbiBpbnZva2VfdmlpKGluZGV4LCBhMSwgYTIpIHsKICAgICAgdmFyIHNwID0gc3RhY2tTYXZlKCk7CgogICAgICB0cnkgewogICAgICAgIGR5bkNhbGxfdmlpKGluZGV4LCBhMSwgYTIpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgc3RhY2tSZXN0b3JlKHNwKTsKICAgICAgICBpZiAoZSAhPT0gZSArIDAgJiYgZSAhPT0gImxvbmdqbXAiKSB0aHJvdyBlOwoKICAgICAgICBfc2V0VGhyZXcoMSwgMCk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBpbnZva2VfaWkoaW5kZXgsIGExKSB7CiAgICAgIHZhciBzcCA9IHN0YWNrU2F2ZSgpOwoKICAgICAgdHJ5IHsKICAgICAgICByZXR1cm4gZHluQ2FsbF9paShpbmRleCwgYTEpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgc3RhY2tSZXN0b3JlKHNwKTsKICAgICAgICBpZiAoZSAhPT0gZSArIDAgJiYgZSAhPT0gImxvbmdqbXAiKSB0aHJvdyBlOwoKICAgICAgICBfc2V0VGhyZXcoMSwgMCk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBpbnZva2VfaWlpKGluZGV4LCBhMSwgYTIpIHsKICAgICAgdmFyIHNwID0gc3RhY2tTYXZlKCk7CgogICAgICB0cnkgewogICAgICAgIHJldHVybiBkeW5DYWxsX2lpaShpbmRleCwgYTEsIGEyKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHN0YWNrUmVzdG9yZShzcCk7CiAgICAgICAgaWYgKGUgIT09IGUgKyAwICYmIGUgIT09ICJsb25nam1wIikgdGhyb3cgZTsKCiAgICAgICAgX3NldFRocmV3KDEsIDApOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gaW52b2tlX3ZpaWlpaShpbmRleCwgYTEsIGEyLCBhMywgYTQsIGE1KSB7CiAgICAgIHZhciBzcCA9IHN0YWNrU2F2ZSgpOwoKICAgICAgdHJ5IHsKICAgICAgICBkeW5DYWxsX3ZpaWlpaShpbmRleCwgYTEsIGEyLCBhMywgYTQsIGE1KTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHN0YWNrUmVzdG9yZShzcCk7CiAgICAgICAgaWYgKGUgIT09IGUgKyAwICYmIGUgIT09ICJsb25nam1wIikgdGhyb3cgZTsKCiAgICAgICAgX3NldFRocmV3KDEsIDApOwogICAgICB9CiAgICB9CgogICAgTW9kdWxlWyJpbnRBcnJheUZyb21TdHJpbmciXSA9IGludEFycmF5RnJvbVN0cmluZzsKICAgIE1vZHVsZVsiY2NhbGwiXSA9IGNjYWxsOwogICAgTW9kdWxlWyJjd3JhcCJdID0gY3dyYXA7CiAgICBNb2R1bGVbInNldFZhbHVlIl0gPSBzZXRWYWx1ZTsKICAgIE1vZHVsZVsiZ2V0VmFsdWUiXSA9IGdldFZhbHVlOwogICAgTW9kdWxlWyJhbGxvY2F0ZSJdID0gYWxsb2NhdGU7CiAgICBNb2R1bGVbIlVURjhUb1N0cmluZyJdID0gVVRGOFRvU3RyaW5nOwogICAgTW9kdWxlWyJzdHJpbmdUb1VURjgiXSA9IHN0cmluZ1RvVVRGODsKICAgIE1vZHVsZVsibGVuZ3RoQnl0ZXNVVEY4Il0gPSBsZW5ndGhCeXRlc1VURjg7CiAgICBNb2R1bGVbIndyaXRlQXJyYXlUb01lbW9yeSJdID0gd3JpdGVBcnJheVRvTWVtb3J5OwogICAgTW9kdWxlWyJ3cml0ZUFzY2lpVG9NZW1vcnkiXSA9IHdyaXRlQXNjaWlUb01lbW9yeTsKICAgIE1vZHVsZVsiYWRkRnVuY3Rpb24iXSA9IGFkZEZ1bmN0aW9uOwogICAgTW9kdWxlWyJyZW1vdmVGdW5jdGlvbiJdID0gcmVtb3ZlRnVuY3Rpb247CiAgICBNb2R1bGVbIkdMIl0gPSBHTDsKICAgIE1vZHVsZVsiQUxMT0NfTk9STUFMIl0gPSBBTExPQ19OT1JNQUw7CiAgICB2YXIgY2FsbGVkUnVuOwoKICAgIGZ1bmN0aW9uIEV4aXRTdGF0dXMoc3RhdHVzKSB7CiAgICAgIHRoaXMubmFtZSA9ICJFeGl0U3RhdHVzIjsKICAgICAgdGhpcy5tZXNzYWdlID0gIlByb2dyYW0gdGVybWluYXRlZCB3aXRoIGV4aXQoIiArIHN0YXR1cyArICIpIjsKICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7CiAgICB9CgogICAgZGVwZW5kZW5jaWVzRnVsZmlsbGVkID0gZnVuY3Rpb24gcnVuQ2FsbGVyKCkgewogICAgICBpZiAoIWNhbGxlZFJ1bikgcnVuKCk7CiAgICAgIGlmICghY2FsbGVkUnVuKSBkZXBlbmRlbmNpZXNGdWxmaWxsZWQgPSBydW5DYWxsZXI7CiAgICB9OwoKICAgIGZ1bmN0aW9uIHJ1bihhcmdzKSB7CiAgICAgIGFyZ3MgPSBhcmdzIHx8IGFyZ3VtZW50c187CgogICAgICBpZiAocnVuRGVwZW5kZW5jaWVzID4gMCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgcHJlUnVuKCk7CiAgICAgIGlmIChydW5EZXBlbmRlbmNpZXMgPiAwKSByZXR1cm47CgogICAgICBmdW5jdGlvbiBkb1J1bigpIHsKICAgICAgICBpZiAoY2FsbGVkUnVuKSByZXR1cm47CiAgICAgICAgY2FsbGVkUnVuID0gdHJ1ZTsKICAgICAgICBNb2R1bGVbImNhbGxlZFJ1biJdID0gdHJ1ZTsKICAgICAgICBpZiAoQUJPUlQpIHJldHVybjsKICAgICAgICBpbml0UnVudGltZSgpOwogICAgICAgIHByZU1haW4oKTsKICAgICAgICByZWFkeVByb21pc2VSZXNvbHZlKE1vZHVsZSk7CiAgICAgICAgaWYgKE1vZHVsZVsib25SdW50aW1lSW5pdGlhbGl6ZWQiXSkgTW9kdWxlWyJvblJ1bnRpbWVJbml0aWFsaXplZCJdKCk7CiAgICAgICAgcG9zdFJ1bigpOwogICAgICB9CgogICAgICBpZiAoTW9kdWxlWyJzZXRTdGF0dXMiXSkgewogICAgICAgIE1vZHVsZVsic2V0U3RhdHVzIl0oIlJ1bm5pbmcuLi4iKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBNb2R1bGVbInNldFN0YXR1cyJdKCIiKTsKICAgICAgICAgIH0sIDEpOwogICAgICAgICAgZG9SdW4oKTsKICAgICAgICB9LCAxKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkb1J1bigpOwogICAgICB9CiAgICB9CgogICAgTW9kdWxlWyJydW4iXSA9IHJ1bjsKCiAgICBmdW5jdGlvbiBleGl0KHN0YXR1cywgaW1wbGljaXQpIHsKICAgICAgaWYgKGltcGxpY2l0ICYmIG5vRXhpdFJ1bnRpbWUgJiYgc3RhdHVzID09PSAwKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAobm9FeGl0UnVudGltZSkge30gZWxzZSB7CiAgICAgICAgQUJPUlQgPSB0cnVlOwogICAgICAgIEVYSVRTVEFUVVMgPSBzdGF0dXM7CiAgICAgICAgZXhpdFJ1bnRpbWUoKTsKICAgICAgICBpZiAoTW9kdWxlWyJvbkV4aXQiXSkgTW9kdWxlWyJvbkV4aXQiXShzdGF0dXMpOwogICAgICB9CgogICAgICBxdWl0XyhzdGF0dXMsIG5ldyBFeGl0U3RhdHVzKHN0YXR1cykpOwogICAgfQoKICAgIGlmIChNb2R1bGVbInByZUluaXQiXSkgewogICAgICBpZiAodHlwZW9mIE1vZHVsZVsicHJlSW5pdCJdID09ICJmdW5jdGlvbiIpIE1vZHVsZVsicHJlSW5pdCJdID0gW01vZHVsZVsicHJlSW5pdCJdXTsKCiAgICAgIHdoaWxlIChNb2R1bGVbInByZUluaXQiXS5sZW5ndGggPiAwKSB7CiAgICAgICAgTW9kdWxlWyJwcmVJbml0Il0ucG9wKCkoKTsKICAgICAgfQogICAgfQoKICAgIG5vRXhpdFJ1bnRpbWUgPSB0cnVlOwogICAgcnVuKCk7CiAgICByZXR1cm4gU3RlbFdlYkVuZ2luZS5yZWFkeTsKICB9Owp9KCk7CgpleHBvcnQgZGVmYXVsdCBTdGVsV2ViRW5naW5lOw=="},{"version":3,"sources":["/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/assets/js/stellarium-web-engine.js"],"names":["StelWebEngine","_scriptDir","document","currentScript","src","undefined","__filename","Module","readyPromiseResolve","readyPromiseReject","Promise","resolve","reject","path","wasmFile","canvasElement","canvas","contextAttributes","alpha","depth","stencil","antialias","premultipliedAlpha","preserveDrawingBuffer","preferLowPowerToHighPerformance","failIfMajorPerformanceCaveat","majorVersion","minorVersion","ctx","GL","createContext","makeContextCurrent","i","extendFns","_core_init","core","getModule","observer","translateFn","translationsCache","callback","addFunction","user","domain","str","UTF8ToString","value","size","lengthBytesUTF8","_malloc","stringToUTF8","_sys_set_translate_function","onReady","f","push","Math","PI","v","Date","round","date","angle","resolution","a2tf_json","cwrap","cret","ret","_free","JSON","parse","a2af_json","args","arguments","length","start","end","onEvent","ev","time","type","desc","flags","o1","o2","getCallback","MJD2date","SweObj","iterator","cal","_calendar_create","_calendar_compute","_calendar_get_results_callback","removeFunction","_calendar_delete","_calendar_get","d","designation_cleanup","cbuf","out","x","y","z","d2","theta","atan2","phi","sqrt","cp","cos","sin","a","abs","sign","asFrame","FRAME_ASTROM","FRAME_ICRF","FRAME_CIRS","FRAME_JNOW","FRAME_OBSERVED","FRAME_OBSERVED_GEOM","FRAME_MOUNT","FRAME_VIEW","assert","obs","origin","dest","v4","ptr","_setValue","_convert_framev4","Array","_getValue","pos","duration","_core_lookat","target","_core_point_and_lock","fov","_core_zoomto","otype","otype_to_str","onClickCallback","onClickFn","onRectCallback","onRectFn","eventName","point","on_click","x1","y1","x2","y2","rect","on_rect","font","url","fetch","then","response","ok","Error","arrayBuffer","data","Uint8Array","writeArrayToMemory","ccall","afterInit","obj_call_json_str","core_search","obj_get_id","module_add","module_remove","module_get_tree","module_get_path","obj_create_str","module_get_child","core_get_module","obj_get_info_json","obj_get_json_data_str","g_listeners","g_ret","g_obj_foreach_attr_callback","attr","isProp","g_obj_foreach_child_callback","id","g_obj_get_designations_callback","o","u","g_module_list_obj2","obj","swe_","that","_obj_foreach_attr","name","_call","Object","defineProperty","configurable","enumerable","get","set","_obj_foreach_child","prototype","valueOf","update","_module_update","getInfo","info","_observer_update","clone","_obj_clone","destroy","_obj_release","retain","_obj_retain","change","context","add","createObj","remove","designations","_obj_get_designations","map","filter","item","self","indexOf","culturalDesignations","_skycultures_get_cultural_names_json","listObjs","maxMag","_module_list_objs2","getTree","detailed","computeVisibility","startTime","tt","endTime","precision","rise","_compute_event","p","convertFrame","radec","arg","stringify","parseInt","addDataSource","add_data_source","key","stringToC","writeAsciiToMemory","ctype","_obj_create_str","onGeojsonObj","onGeojsonSurveyObj","onObjChanged","objPtr","listener","apply","_module_add_global_listener","elems","split","pop","objPath","join","setValue","substr","fillColorPtr","color","_geojson_set_color_ptr_","fillBoolPtr","_geojson_set_bool_ptr_","setData","_geojson_remove_all_features","_features","features","feature","geo","geometry","console","error","coordinates","_geojson_add_poly_feature","filterAll","fn","idx","fillPtr","strokePtr","r","fill","stroke","visible","blink","_geojson_filter_all","queryRenderedFeatureIds","pointPtr","retPtr","nb","_geojson_query_rendered_features","filterFn","img","blinkPtr","hiddenPtr","hidden","g_tiles","asBox","box","surveyQueryRenderedFeatures","boxPtr","tilesPtr","indexPtr","_geojson_survey_query_rendered_features","tile","onNewTile","json","onNewTileSet","_geojson_set_on_new_tile_callback","_filterFn","queryRenderedFeatures","highframeRate","mouseDown","mouseButtons","mousePos","render","timestamp","_core_on_mouse","dpr","window","devicePixelRatio","getBoundingClientRect","displayWidth","width","displayHeight","height","sizeChanged","_core_update","_core_render","requestAnimationFrame","setTimeout","fixPageXY","e","pageX","clientX","html","documentElement","body","scrollLeft","clientLeft","pageY","clientY","scrollTop","clientTop","setupMouse","getMousePos","evt","left","top","addEventListener","event","buttons","onmouseup","onmouseleave","onmousemove","changedTouches","identifier","relX","relY","passive","preventDefault","getMouseWheelDelta","delta","detail","wheelDelta","onWheelEvent","zoom_factor","_core_on_zoom","pow","oncontextmenu","stopPropagation","setHighFrameRate","newFrameRate","getHighFrameRate","moduleOverrides","hasOwnProperty","arguments_","thisProgram","quit_","status","toThrow","ENVIRONMENT_IS_WEB","ENVIRONMENT_IS_WORKER","ENVIRONMENT_IS_NODE","ENVIRONMENT_IS_SHELL","importScripts","process","versions","node","scriptDirectory","locateFile","read_","readAsync","readBinary","setWindowTitle","nodeFS","nodePath","require","dirname","__dirname","shell_read","filename","binary","buffer","replace","slice","ex","ExitStatus","abort","read","readbuffer","scriptArgs","quit","print","log","warn","printErr","location","href","lastIndexOf","xhr","XMLHttpRequest","open","send","responseText","responseType","onload","onerror","xhr_onload","title","bind","err","dynamicAlloc","HEAP32","DYNAMICTOP_PTR","getNativeTypeSize","bits","Number","warnOnce","text","shown","convertJsFunctionToWasm","func","sig","WebAssembly","Function","typeNames","parameters","results","typeSection","sigRet","sigParam","typeCodes","concat","bytes","module","instance","Instance","wrappedFunc","exports","freeTableIndexes","functionsInTableMap","addFunctionWasm","table","wasmTable","WeakMap","has","grow","RangeError","TypeError","wrapped","removeFunctionWasm","index","delete","tempRet0","setTempRet0","getTempRet0","wasmBinary","noExitRuntime","noSafe","charAt","HEAP8","HEAP16","tempI64","tempDouble","Math_abs","Math_min","Math_floor","Math_ceil","HEAPF32","HEAPF64","getValue","wasmMemory","Table","ABORT","EXITSTATUS","condition","getCFunc","ident","returnType","argTypes","opts","toC","len","stackAlloc","arr","convertReturnValue","Boolean","cArgs","stack","converter","stackSave","stackRestore","numericArgs","every","numericRet","ALLOC_NORMAL","ALLOC_NONE","allocate","slab","types","allocator","zeroinit","singleType","max","stop","subarray","HEAPU8","typeSize","previousType","curr","UTF8Decoder","TextDecoder","UTF8ArrayToString","heap","maxBytesToRead","endIdx","endPtr","decode","u0","String","fromCharCode","u1","u2","ch","stringToUTF8Array","outIdx","maxBytesToWrite","startIdx","charCodeAt","outPtr","array","dontAddNull","WASM_PAGE_SIZE","alignUp","multiple","HEAPU16","HEAPU32","updateGlobalBufferAndViews","buf","Int8Array","Int16Array","Int32Array","Uint16Array","Uint32Array","Float32Array","Float64Array","DYNAMIC_BASE","INITIAL_INITIAL_MEMORY","Memory","byteLength","callRuntimeCallbacks","callbacks","shift","__ATPRERUN__","__ATINIT__","__ATMAIN__","__ATPOSTRUN__","runtimeInitialized","runtimeExited","preRun","addOnPreRun","initRuntime","preMain","exitRuntime","postRun","addOnPostRun","cb","unshift","ceil","floor","min","runDependencies","runDependencyWatcher","dependenciesFulfilled","getUniqueRunDependency","addRunDependency","removeRunDependency","clearInterval","what","RuntimeError","hasPrefix","prefix","startsWith","dataURIPrefix","isDataURI","fileURIPrefix","isFileURI","wasmBinaryFile","getBinary","getBinaryPromise","credentials","catch","createWasm","asmLibraryArg","receiveInstance","receiveInstantiatedSource","output","instantiateArrayBuffer","receiver","instantiate","reason","instantiateAsync","instantiateStreaming","result","___wasm_call_ctors","_emscripten_set_main_loop_timing","mode","Browser","mainLoop","timingMode","timingValue","scheduler","Browser_mainLoop_scheduler_setTimeout","timeUntilNextTick","tickStartTime","_emscripten_get_now","runner","method","Browser_mainLoop_scheduler_rAF","setImmediate","setImmediates","emscriptenMainLoopMessageId","Browser_setImmediate_messageHandler","Browser_emulated_setImmediate","postMessage","Browser_mainLoop_scheduler_setImmediate","t","dateNow","performance","now","_emscripten_set_main_loop","fps","simulateInfiniteLoop","noSetTiming","browserIterationFunc","thisMainLoopId","currentlyRunningMainloop","Browser_mainLoop_runner","queue","blocker","remainingBlockers","remaining","next","counted","updateStatus","currentFrameNumber","runIter","SDL","audio","queueNewAudioData","pause","resume","message","expected","expectedBlockers","preRet","isFullscreen","pointerLock","moduleContextCreatedCallbacks","workers","init","initted","Blob","hasBlobConstructor","BlobBuilder","MozBlobBuilder","WebKitBlobBuilder","URLObject","URL","webkitURL","noImageDecoding","imagePlugin","imagePlugin_canHandle","test","imagePlugin_handle","byteArray","b","getMimetype","bb","append","getBlob","createObjectURL","Image","img_onload","complete","createElement","getContext","drawImage","revokeObjectURL","img_onerror","audioPlugin","audioPlugin_canHandle","noAudioDecoding","audioPlugin_handle","done","finish","fail","Audio","audio_onerror","encode64","BASE","PAD","leftchar","leftbits","safeSetTimeout","pointerLockChange","requestPointerLock","exitPointerLock","useWebGL","setInModule","webGLContextAttributes","contextHandle","WebGL2RenderingContext","attribute","GLctx","forEach","destroyContext","fullscreenHandlersInstalled","lockPointer","resizeCanvas","requestFullscreen","fullscreenChange","canvasContainer","parentNode","exitFullscreen","setFullscreenCanvasSize","updateCanvasDimensions","insertBefore","removeChild","setWindowedCanvasSize","appendChild","Element","CFS","nextRAF","fakeRequestAnimationFrame","delay","RAF","safeCallback","allowAsyncCallbacks","queuedAsyncCallbacks","pauseAsyncCallbacks","resumeAsyncCallbacks","safeRequestAnimationFrame","timeout","safeSetInterval","setInterval","getUserMedia","navigator","getMovementX","getMovementY","deltaY","deltaMode","mouseX","mouseY","mouseMovementX","mouseMovementY","touches","lastTouches","calculateMouseEvent","cw","scrollX","pageXOffset","scrollY","pageYOffset","touch","adjustedX","adjustedY","coords","last","asyncLoad","noRunDep","dep","resizeListeners","updateResizeListeners","setCanvasSize","noUpdates","windowedWidth","windowedHeight","screen","wNative","hNative","widthNative","heightNative","w","h","factor","style","removeProperty","setProperty","wgetRequests","nextWgetRequestHandle","getNextWgetRequestHandle","handle","_emscripten_async_wget2_abort","http","_emscripten_async_wget2_data","request","param","free","onprogress","_url","_request","_param","http_onload","toLowerCase","dynCall_viiii","statusText","http_onerror","http_onprogress","loaded","lengthComputable","total","onabort","http_onabort","setRequestHeader","_longjmp","env","_setThrew","_emscripten_longjmp","_emscripten_memcpy_big","num","copyWithin","_emscripten_get_heap_size","emscripten_realloc_buffer","_emscripten_resize_heap","requestedSize","oldSize","PAGE_MULTIPLE","maxHeapSize","minHeapSize","cutDown","overGrownHeapSize","newSize","replacement","_exit","exit","PATH","splitPath","splitPathRe","exec","normalizeArray","parts","allowAboveRoot","up","splice","normalize","isAbsolute","trailingSlash","root","dir","basename","lastSlash","extname","paths","call","join2","l","SYSCALLS","mappings","buffers","printChar","stream","varargs","getStr","get64","low","high","_fd_close","fd","_fd_read","iov","iovcnt","pnum","getStreamFromFD","doReadv","_fd_seek","offset_low","offset_high","whence","newOffset","_fd_write","j","_getTempRet0","_gettimeofday","__webgl_enable_ANGLE_instanced_arrays","ext","getExtension","divisor","first","count","primcount","indices","__webgl_enable_OES_vertex_array_object","vao","__webgl_enable_WEBGL_draw_buffers","n","bufs","__webgl_enable_WEBGL_draw_instanced_base_vertex_base_instance","dibvbi","counter","programs","framebuffers","renderbuffers","textures","uniforms","shaders","vaos","contexts","offscreenCanvases","timerQueriesEXT","queries","samplers","transformFeedbacks","syncs","programInfos","stringCache","stringiCache","unpackAlignment","recordError","errorCode","lastError","getNewId","getSource","shader","string","source","registerContext","attributes","version","GLctxObject","enableExtensionsByDefault","initExtensions","currentContext","deleteContext","JSEvents","removeAllHandlersOnTarget","initExtensionsDone","disjointTimerQueryExt","automaticallyEnabledExtensions","exts","getSupportedExtensions","populateUniformTable","program","ptable","maxUniformLength","maxAttributeLength","maxUniformBlockNameLength","utable","numUniforms","getProgramParameter","getActiveUniform","loc","getUniformLocation","_glActiveTexture","x0","_glAttachShader","attachShader","_glBindAttribLocation","bindAttribLocation","_glBindBuffer","currentPixelPackBufferBinding","currentPixelUnpackBufferBinding","bindBuffer","_glBindTexture","texture","bindTexture","_glBlendColor","x3","_glBlendFunc","_glBlendFuncSeparate","_glBufferData","usage","bufferData","_glClear","_glClearColor","_glColorMask","red","green","blue","colorMask","_glCompileShader","compileShader","_glCreateProgram","createProgram","_glCreateShader","shaderType","createShader","_glCullFace","_glDeleteBuffers","deleteBuffer","_glDeleteProgram","deleteProgram","_glDeleteShader","deleteShader","_glDeleteTextures","deleteTexture","_glDepthFunc","_glDepthMask","flag","depthMask","_glDisable","_glDisableVertexAttribArray","disableVertexAttribArray","_glDrawArrays","drawArrays","_glDrawElements","drawElements","_glEnable","_glEnableVertexAttribArray","enableVertexAttribArray","_glFinish","_glFrontFace","__glGenObject","createFunction","objectTable","_glGenBuffers","_glGenTextures","_glGenerateMipmap","__glGetActiveAttribOrUniform","funcName","bufSize","numBytesWrittenExclNull","_glGetActiveUniform","_glGetError","getError","writeI53ToI64","emscriptenWebGLGet","name_","formats","getParameter","_glGetIntegerv","_glGetProgramInfoLog","maxLength","infoLog","getProgramInfoLog","_glGetProgramiv","pname","numAttribs","activeAttrib","getActiveAttrib","numBlocks","activeBlockName","getActiveUniformBlockName","_glGetShaderInfoLog","getShaderInfoLog","_glGetShaderiv","getShaderSource","sourceLength","getShaderParameter","jstoi_q","_glGetUniformLocation","arrayIndex","leftBrace","uniformInfo","_glLineWidth","_glLinkProgram","linkProgram","_glPixelStorei","pixelStorei","_glShaderSource","shaderSource","_glStencilFunc","_glStencilMask","_glStencilOp","_glStencilOpSeparate","__computeUnpackAlignedImageSize","sizePerPixel","alignment","roundedToNextMultipleOf","plainRowSize","alignedRowSize","__colorChannelsInGlTextureFormat","format","colorChannels","__heapObjectForWebGLType","__heapAccessShiftForWebGLHeap","clz32","BYTES_PER_ELEMENT","emscriptenWebGLGetTexPixelData","pixels","internalFormat","byteSize","_glTexImage2D","level","border","texImage2D","_glTexParameterf","_glTexParameteri","_glTexSubImage2D","xoffset","yoffset","texSubImage2D","pixelData","_glUniform1f","v0","uniform1f","__miniTempWebGLFloatBuffers","_glUniform1fv","uniform1fv","view","_glUniform1i","uniform1i","_glUniform2fv","uniform2fv","_glUniform3fv","uniform3fv","_glUniform4fv","uniform4fv","dst","_glUniformMatrix3fv","transpose","uniformMatrix3fv","_glUniformMatrix4fv","uniformMatrix4fv","_glUseProgram","useProgram","_glVertexAttribPointer","normalized","stride","vertexAttribPointer","_glViewport","_round","_roundf","_setTempRet0","$i","Module_requestFullscreen","Module_requestAnimationFrame","Module_setCanvasSize","Module_pauseMainLoop","Module_resumeMainLoop","Module_getUserMedia","Module_createContext","__miniTempWebGLFloatBuffersStorage","intArrayFromString","stringy","u8array","numBytesWritten","invoke_ii","invoke_iii","invoke_vii","invoke_viiiii","asm","_convert_frame","_designation_cleanup","_obj_get_info_json","_obj_get_id","_obj_get_json_data_str","_obj_get_attr_","_obj_call_json_str","_module_get_child","_core_add_font","_module_add_data_source","_module_add","_module_add_new","_module_remove","_module_get_tree","_module_get_path","_core_get_module","_core_on_pinch","_core_on_key","_core_set_time","_otype_to_str","_core_search","_get_compiler_str","_a2tf_json","_a2af_json","_skycultures_get_designations","dynCall_vi","dynCall_vii","dynCall_viiiii","dynCall_ii","dynCall_iii","a1","a2","sp","a3","a4","a5","calledRun","runCaller","run","doRun","implicit","ready"],"mappings":"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","sourcesContent":["\nvar StelWebEngine = (function() {\n  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;\n  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;\n  return (\nfunction(StelWebEngine) {\n  StelWebEngine = StelWebEngine || {};\n\nvar Module=typeof StelWebEngine!==\"undefined\"?StelWebEngine:{};var readyPromiseResolve,readyPromiseReject;Module[\"ready\"]=new Promise(function(resolve,reject){readyPromiseResolve=resolve;readyPromiseReject=reject});Module[\"locateFile\"]=function(path){if(path===\"stellarium-web-engine.wasm\")return Module.wasmFile;return path};Module[\"onRuntimeInitialized\"]=function(){if(Module.canvasElement)Module.canvas=Module.canvasElement;if(Module.canvas){var contextAttributes={};contextAttributes.alpha=false;contextAttributes.depth=true;contextAttributes.stencil=true;contextAttributes.antialias=true;contextAttributes.premultipliedAlpha=true;contextAttributes.preserveDrawingBuffer=false;contextAttributes.preferLowPowerToHighPerformance=false;contextAttributes.failIfMajorPerformanceCaveat=false;contextAttributes.majorVersion=1;contextAttributes.minorVersion=0;var ctx=Module.GL.createContext(Module.canvas,contextAttributes);Module.GL.makeContextCurrent(ctx)}Module[\"_setValue\"]=Module[\"setValue\"];Module[\"_getValue\"]=Module[\"getValue\"];for(var i in Module.extendFns){Module.extendFns[i]()}Module._core_init(0,0,1);Module.core=Module.getModule(\"core\");Module.observer=Module.core.observer;if(Module.translateFn){Module.translationsCache={};let callback=Module.addFunction(function(user,domain,str){domain=Module.UTF8ToString(domain);str=Module.UTF8ToString(str);str=Module.translateFn(domain,str);let value=Module.translationsCache[str];if(value)return value;let size=Module.lengthBytesUTF8(str)+1;value=Module._malloc(size);Module.stringToUTF8(str,value,size);Module.translationsCache[str]=value;return value},\"iiii\");Module._sys_set_translate_function(callback)}if(Module.onReady)Module.onReady(Module)};Module[\"extendFns\"]=[];Module[\"afterInit\"]=function(f){Module.extendFns.push(f)};Module[\"D2R\"]=Math.PI/180;Module[\"R2D\"]=180/Math.PI;Module[\"FRAME_ASTROM\"]=0;Module[\"FRAME_ICRF\"]=1;Module[\"FRAME_CIRS\"]=2;Module[\"FRAME_JNOW\"]=3;Module[\"FRAME_OBSERVED_GEOM\"]=4;Module[\"FRAME_OBSERVED\"]=5;Module[\"FRAME_MOUNT\"]=6;Module[\"FRAME_VIEW\"]=7;Module[\"FRAME_ECLIPTIC\"]=8;Module[\"MJD2date\"]=function(v){return new Date(Math.round((v+2400000.5-2440587.5)*864e5))};Module[\"date2MJD\"]=function(date){return date/864e5-2400000.5+2440587.5};Module[\"a2tf\"]=function(angle,resolution){resolution=resolution||0;var a2tf_json=Module.cwrap(\"a2tf_json\",\"number\",[\"number\",\"number\"]);var cret=a2tf_json(resolution,angle);var ret=Module.UTF8ToString(cret);Module._free(cret);ret=JSON.parse(ret);return ret};Module[\"a2af\"]=function(angle,resolution){resolution=resolution||0;var a2af_json=Module.cwrap(\"a2af_json\",\"number\",[\"number\",\"number\"]);var cret=a2af_json(resolution,angle);var ret=Module.UTF8ToString(cret);Module._free(cret);ret=JSON.parse(ret);return ret};Module[\"calendar\"]=function(args){if(arguments.length==3){args={start:arguments[0],end:arguments[1],onEvent:function(ev){arguments[2](ev.time,ev.type,ev.desc,ev.flags,ev.o1,ev.o2)}}}var start=args.start/864e5+2440587.5-2400000.5;var end=args.end/864e5+2440587.5-2400000.5;var getCallback=function(){return Module.addFunction(function(time,type,desc,flags,o1,o2,user){var ev={time:Module.MJD2date(time),type:Module.UTF8ToString(type),desc:Module.UTF8ToString(desc),o1:o1?new Module.SweObj(o1):null,o2:o2?new Module.SweObj(o2):null};args.onEvent(ev)},\"idiiiiii\")};if(args.iterator){var cal=Module._calendar_create(this.observer.v,start,end,1);return function(){var ret=Module._calendar_compute(cal);if(!ret){var callback=getCallback();Module._calendar_get_results_callback(cal,0,callback);Module.removeFunction(callback);Module._calendar_delete(cal)}return ret}}var callback=getCallback();Module._calendar_get(this.observer.v,start,end,1,0,callback);Module.removeFunction(callback)};Module[\"designationCleanup\"]=function(d,flags){const designation_cleanup=Module.cwrap(\"designation_cleanup\",null,[\"string\",\"number\",\"number\",\"number\"]);const cbuf=Module._malloc(256);designation_cleanup(d,cbuf,256,flags);const ret=Module.UTF8ToString(cbuf);Module._free(out);return ret};Module[\"c2s\"]=function(v){var x=v[0];var y=v[1];var z=v[2];var d2=x*x+y*y;var theta=d2==0?0:Math.atan2(y,x);var phi=z===0?0:Math.atan2(z,Math.sqrt(d2));return[theta,phi]};Module[\"s2c\"]=function(theta,phi){var cp=Math.cos(phi);return[Math.cos(theta)*cp,Math.sin(theta)*cp,Math.sin(phi)]};Module[\"anp\"]=function(a){var v=a%(2*Math.PI);if(v<0)v+=2*Math.PI;return v};Module[\"anpm\"]=function(a){var v=a%(2*Math.PI);if(Math.abs(v)>=Math.PI)v-=2*Math.PI*Math.sign(a);return v};const asFrame=function(f){if(f===\"ASTROM\")return Module.FRAME_ASTROM;if(f===\"ICRF\")return Module.FRAME_ICRF;if(f===\"CIRS\")return Module.FRAME_CIRS;if(f===\"JNOW\")return Module.FRAME_JNOW;if(f===\"OBSERVED\")return Module.FRAME_OBSERVED;if(f===\"OBSERVED_GEOM\")return Module.FRAME_OBSERVED_GEOM;if(f===\"MOUNT\")return Module.FRAME_MOUNT;if(f===\"VIEW\")return Module.FRAME_VIEW;assert(typeof f===\"number\");return f};Module[\"convertFrame\"]=function(obs,origin,dest,v){origin=asFrame(origin);dest=asFrame(dest);var v4=[v[0],v[1],v[2],v[3]||0];var ptr=Module._malloc(8*8);var i;for(i=0;i<4;i++)Module._setValue(ptr+i*8,v4[i],\"double\");Module._convert_framev4(obs.v,origin,dest,ptr,ptr+4*8);var ret=new Array(4);for(i=0;i<4;i++)ret[i]=Module._getValue(ptr+(4+i)*8,\"double\");Module._free(ptr);return ret};Module[\"lookAt\"]=function(pos,duration){if(duration===undefined)duration=1;var v=Module._malloc(3*8);var i;for(i=0;i<3;i++)Module._setValue(v+i*8,pos[i],\"double\");Module._core_lookat(v,duration);Module._free(v)};Module[\"pointAndLock\"]=function(target,duration){if(duration===undefined)duration=1;Module._core_point_and_lock(target.v,duration)};Module[\"zoomTo\"]=function(fov,duration){if(duration===undefined)duration=1;Module._core_zoomto(fov,duration)};Module[\"otypeToStr\"]=function(otype){var otype_to_str=Module.cwrap(\"otype_to_str\",\"number\",[\"string\"]);var cret=otype_to_str(otype);return Module.UTF8ToString(cret)};let onClickCallback;let onClickFn;let onRectCallback;let onRectFn;Module[\"on\"]=function(eventName,callback){if(eventName===\"click\"){if(!onClickFn){onClickFn=Module.addFunction(function(x,y){return onClickCallback({point:{x:x,y:y}})},\"idd\")}onClickCallback=callback;Module.core.on_click=onClickFn}if(eventName===\"rectSelection\"){onRectFn=Module.addFunction(function(x1,y1,x2,y2){return onRectCallback({rect:[{x:x1,y:y1},{x:x2,y:y2}]})},\"idddd\");onRectCallback=callback;Module.core.on_rect=onRectFn}};Module[\"setFont\"]=function(font,url){return fetch(url).then(function(response){if(!response.ok)throw new Error(`Cannot get ${url}`);return response.arrayBuffer()}).then(function(data){data=new Uint8Array(data);let ptr=Module._malloc(data.length);Module.writeArrayToMemory(data,ptr);Module.ccall(\"core_add_font\",null,[\"number\",\"string\",\"string\",\"number\",\"number\",\"number\"],[0,font,null,ptr,data.length]);let url=font===\"regular\"?\"asset://font/NotoSans-Regular.ttf\":\"asset://font/NotoSans-Bold.ttf\";Module.ccall(\"core_add_font\",null,[\"number\",\"string\",\"string\",\"number\",\"number\",\"number\"],[0,font,url,0,0])})};Module.afterInit(function(){var obj_call_json_str=Module.cwrap(\"obj_call_json_str\",\"number\",[\"number\",\"string\",\"string\"]);var core_search=Module.cwrap(\"core_search\",\"number\",[\"string\"]);var obj_get_id=Module.cwrap(\"obj_get_id\",\"string\",[\"number\"]);var module_add=Module.cwrap(\"module_add\",null,[\"number\",\"number\"]);var module_remove=Module.cwrap(\"module_remove\",null,[\"number\",\"number\"]);var module_get_tree=Module.cwrap(\"module_get_tree\",\"number\",[\"number\",\"number\"]);var module_get_path=Module.cwrap(\"module_get_path\",\"number\",[\"number\",\"number\"]);var obj_create_str=Module.cwrap(\"obj_create_str\",\"number\",[\"string\",\"string\"]);var module_get_child=Module.cwrap(\"module_get_child\",\"number\",[\"number\",\"string\"]);var core_get_module=Module.cwrap(\"core_get_module\",\"number\",[\"string\"]);var obj_get_info_json=Module.cwrap(\"obj_get_info_json\",\"number\",[\"number\",\"number\",\"string\"]);var obj_get_json_data_str=Module.cwrap(\"obj_get_json_data_str\",\"number\",[\"number\"]);var g_listeners=[];let g_ret;let g_obj_foreach_attr_callback=Module.addFunction(function(attr,isProp,user){g_ret.push([attr,isProp])},\"viii\");let g_obj_foreach_child_callback=Module.addFunction(function(id){g_ret.push(id)},\"vi\");let g_obj_get_designations_callback=Module.addFunction(function(o,u,v){g_ret.push(v)},\"viii\");let g_module_list_obj2=Module.addFunction(function(user,obj){g_ret.push(obj);return 0},\"iii\");var SweObj=function(v){assert(typeof v===\"number\");this.v=v;this.swe_=1;var that=this;g_ret=[];Module._obj_foreach_attr(this.v,0,g_obj_foreach_attr_callback);for(let i=0;i<g_ret.length;i++){let attr=g_ret[i][0];let isProp=g_ret[i][1];let name=Module.UTF8ToString(attr);if(!isProp){that[name]=function(args){return that._call(name,args)}}else{Object.defineProperty(that,name,{configurable:true,enumerable:true,get:function(){return that._call(name)},set:function(v){return that._call(name,v)}})}}g_ret=[];Module._obj_foreach_child(this.v,g_obj_foreach_child_callback);for(let i=0;i<g_ret.length;i++){let id=Module.UTF8ToString(g_ret[i]);if(!id)return;Object.defineProperty(that,id,{enumerable:true,get:function(){var obj=module_get_child(that.v,id);return obj?new SweObj(obj):null}})}};SweObj.prototype.valueOf=function(){return this.id};SweObj.prototype.update=function(){Module._module_update(this.v,0)};SweObj.prototype.getInfo=function(info,obs){if(obs===undefined)obs=Module.observer;Module._observer_update(obs.v,true);var cret=obj_get_info_json(this.v,obs.v,info);if(cret===0)return undefined;var ret=Module.UTF8ToString(cret);Module._free(cret);ret=JSON.parse(ret);if(!ret.swe_)return ret;return ret.v};SweObj.prototype.clone=function(){return new SweObj(Module._obj_clone(this.v))};SweObj.prototype.destroy=function(){Module._obj_release(this.v)};SweObj.prototype.retain=function(){Module._obj_retain(this.v)};SweObj.prototype.change=function(attr,callback,context){g_listeners.push({\"obj\":this.v,\"ctx\":context?context:this,\"attr\":attr,\"callback\":callback})};SweObj.prototype.add=function(type,args){if(args===undefined){var obj=type;module_add(this.v,obj.v);return obj}else{let obj=Module.createObj(type,args);this.add(obj);return obj}};SweObj.prototype.remove=function(obj){module_remove(this.v,obj.v)};SweObj.prototype.designations=function(){g_ret=[];Module._obj_get_designations(this.v,0,g_obj_get_designations_callback);let ret=g_ret.map(function(v){return Module.UTF8ToString(v)});ret=ret.filter(function(item,pos,self){return self.indexOf(item)==pos});return ret};SweObj.prototype.culturalDesignations=function(){let ret=Module._skycultures_get_cultural_names_json(this.v);ret=Module.UTF8ToString(ret);Module._free(ret);ret=JSON.parse(ret);return ret};SweObj.prototype.listObjs=function(obs,maxMag,filter){let ret=[];g_ret=[];Module._module_list_objs2(this.v,obs.v,maxMag,0,g_module_list_obj2);for(let i=0;i<g_ret.length;i++){let obj=new SweObj(g_ret[i]);if(filter(obj)){obj.retain();ret.push(obj)}}return ret};SweObj.prototype.getTree=function(detailed){detailed=detailed!==undefined?detailed:false;var cret=module_get_tree(this.v,detailed);var ret=Module.UTF8ToString(cret);Module._free(cret);ret=JSON.parse(ret);return ret};SweObj.prototype.computeVisibility=function(args){args=args||{};var obs=args.obs||Module.core.observer;var startTime=args.startTime||obs.tt-1/2;var endTime=args.endTime||obs.tt+1/2;var precision=1/24/60/2;var rise=Module._compute_event(obs.v,this.v,1,startTime,endTime,precision)||null;var set=Module._compute_event(obs.v,this.v,2,startTime,endTime,precision)||null;if(rise===null&&set===null){var p=this.getInfo(\"radec\",obs);p=Module.convertFrame(obs,\"ICRF\",\"OBSERVED\",p);if(p[2]<0)return[]}return[{\"rise\":rise,\"set\":set}]};Object.defineProperty(SweObj.prototype,\"id\",{get:function(){var ret=obj_get_id(this.v);if(ret)return ret;return this.designations()[0]}});Object.defineProperty(SweObj.prototype,\"path\",{get:function(){if(this.v===Module.core.v)return\"core\";var cret=module_get_path(this.v,Module.core.v);var ret=Module.UTF8ToString(cret);Module._free(cret);return\"core.\"+ret}});Object.defineProperty(SweObj.prototype,\"jsonData\",{get:function(){var cret=obj_get_json_data_str(this.v);var ret=Module.UTF8ToString(cret);Module._free(cret);return ret?JSON.parse(ret):undefined}});Object.defineProperty(SweObj.prototype,\"icrs\",{get:function(){return this.radec}});SweObj.prototype._call=function(attr,arg){if(arg===undefined||arg===null)arg=0;else arg=JSON.stringify(arg);var cret=obj_call_json_str(this.v,attr,arg);var ret=Module.UTF8ToString(cret);Module._free(cret);if(!ret)return null;ret=JSON.parse(ret);if(!ret.swe_)return ret;if(ret.type===\"obj\"){let v=parseInt(ret.v);return v?new SweObj(v):null}return ret.v};SweObj.prototype.addDataSource=function(args){var add_data_source=Module.cwrap(\"module_add_data_source\",\"number\",[\"number\",\"string\",\"string\"]);add_data_source(this.v,args.url,args.key||0)};Module[\"getModule\"]=function(name){var obj=core_get_module(name);return obj?new SweObj(obj):null};Module[\"getObj\"]=function(name){assert(typeof name==\"string\");var obj=core_search(name);return obj?new SweObj(obj):null};Module[\"change\"]=function(callback,context){g_listeners.push({\"obj\":null,\"ctx\":context?context:null,\"attr\":null,\"callback\":callback})};Module[\"getTree\"]=function(detailed){return Module.core.getTree(detailed)};Module[\"createLayer\"]=function(data){return Module.core.add(\"layer\",data)};function stringToC(str){let size=Module.lengthBytesUTF8(str);let ptr=Module._malloc(size+1);Module.writeAsciiToMemory(str,ptr,false);return ptr}Module[\"createObj\"]=function(type,args){args=args?stringToC(JSON.stringify(args)):0;const ctype=stringToC(type);let ret=Module._obj_create_str(ctype,args);Module._free(type);Module._free(args);ret=ret?new SweObj(ret):null;if(type===\"geojson\")Module.onGeojsonObj(ret);if(type===\"geojson-survey\")Module.onGeojsonSurveyObj(ret);return ret};var onObjChanged=Module.addFunction(function(objPtr,attr){attr=Module.UTF8ToString(attr);for(var i=0;i<g_listeners.length;i++){var listener=g_listeners[i];if((listener.obj===null||listener.obj===objPtr)&&(listener.attr===null||listener.attr===attr)){var obj=new SweObj(objPtr);listener.callback.apply(listener.ctx,[obj,attr])}}},\"vii\");Module._module_add_global_listener(onObjChanged);Module[\"getTree\"]=function(){return Module.core.getTree()};Module[\"getValue\"]=function(path){var elems=path.split(\".\");var attr=elems.pop();var objPath=elems.join(\".\");let obj=Module.core[objPath]||Module.getModule(\"core.\"+objPath);var value=obj[attr];if(value&&typeof value===\"object\"&&value.swe_)value=value.v;return value};Module[\"_setValue\"]=Module.setValue;Module[\"setValue\"]=function(path,value){var elems=path.split(\".\");var attr=elems.pop();var objPath=elems.join(\".\");let obj=Module.core[objPath]||Module.getModule(\"core.\"+objPath);obj[attr]=value};Module[\"onValueChanged\"]=function(callback){Module.change(function(obj,attr){var path=obj.path+\".\"+attr;var value=obj[attr];if(value&&typeof value===\"object\"&&value.swe_)value=value.v;path=path.substr(5);callback(path,value)})};Module[\"SweObj\"]=SweObj});function fillColorPtr(color,ptr){Module._geojson_set_color_ptr_(ptr,color[0],color[1],color[2],color[3])}function fillBoolPtr(value,ptr){Module._geojson_set_bool_ptr_(ptr,value)}function setData(obj,data){Module._geojson_remove_all_features(obj.v);obj._features=data.features;for(const feature of data.features){const geo=feature.geometry;if(geo.type!==\"Polygon\"){console.error(\"Only support polygon geometry\");continue}if(geo.coordinates.length!=1){console.error(\"Only support single ring polygons\");continue}const coordinates=geo.coordinates[0];const size=coordinates.length;const ptr=Module._malloc(size*16);for(let i=0;i<size;i++){Module._setValue(ptr+i*16+0,coordinates[i][0],\"double\");Module._setValue(ptr+i*16+8,coordinates[i][1],\"double\")}Module._geojson_add_poly_feature(obj.v,size,ptr);Module._free(ptr)}}function filterAll(obj,callback){const features=obj._features;const fn=Module.addFunction(function(idx,fillPtr,strokePtr){const r=callback(idx,features[idx]);if(r===false)return 0;if(r===true)return 1;if(r.fill)fillColorPtr(r.fill,fillPtr);if(r.stroke)fillColorPtr(r.stroke,strokePtr);let ret=r.visible===false?0:1;if(r.blink===true)ret|=2;return ret},\"iiii\");Module._geojson_filter_all(obj.v,fn);Module.removeFunction(fn)}function queryRenderedFeatureIds(obj,point){if(typeof point===\"object\"){point=[point.x,point.y]}const pointPtr=Module._malloc(16);Module._setValue(pointPtr+0,point[0],\"double\");Module._setValue(pointPtr+8,point[1],\"double\");const size=128;const retPtr=Module._malloc(4*size);const nb=Module._geojson_query_rendered_features(obj.v,pointPtr,size,retPtr);let ret=[];for(let i=0;i<nb;i++){ret.push(Module._getValue(retPtr+i*4,\"i32\"))}Module._free(pointPtr);Module._free(retPtr);return ret}Module[\"onGeojsonObj\"]=function(obj){let filterFn=null;Object.defineProperty(obj,\"filter\",{set:function(filter){if(filterFn)Module.removeFunction(filterFn);filterFn=Module.addFunction(function(img,id,fillPtr,strokePtr,blinkPtr,hiddenPtr){const r=filter(id);if(r.fill)fillColorPtr(r.fill,fillPtr);if(r.stroke)fillColorPtr(r.stroke,strokePtr);if(r.stroke)fillColorPtr(r.stroke,strokePtr);if(r.blink!==undefined)fillBoolPtr(r.blink,blinkPtr);if(r.hidden!==undefined)fillBoolPtr(r.hidden,hiddenPtr)},\"viiiiii\");obj._call(\"filter\",filterFn)}});obj.setData=function(data){setData(obj,data)};obj.filterAll=function(callback){filterAll(obj,callback)};obj.queryRenderedFeatureIds=function(point){return queryRenderedFeatureIds(obj,point)}};let g_tiles={};function asBox(box){if(!(box instanceof Array)){return[[box.x,box.y],[box.x,box.y]]}assert(box instanceof Array);return box.map(function(v){if(!(v instanceof Array)){return[v.x,v.y]}return v})}function surveyQueryRenderedFeatures(obj,box){box=asBox(box);const boxPtr=Module._malloc(32);Module._setValue(boxPtr+0,box[0][0],\"double\");Module._setValue(boxPtr+8,box[0][1],\"double\");Module._setValue(boxPtr+16,box[1][0],\"double\");Module._setValue(boxPtr+24,box[1][1],\"double\");const size=1024;const tilesPtr=Module._malloc(4*size);const indexPtr=Module._malloc(4*size);const nb=Module._geojson_survey_query_rendered_features(obj.v,boxPtr,size,tilesPtr,indexPtr);let ret=[];for(let i=0;i<nb;i++){const tile=Module._getValue(tilesPtr+i*4,\"i32*\");const idx=Module._getValue(indexPtr+i*4,\"i32\");ret.push(g_tiles[tile][idx])}Module._free(boxPtr);Module._free(indexPtr);Module._free(tilesPtr);return ret}let onNewTile=function(img,json){json=Module.UTF8ToString(json);json=JSON.parse(json);g_tiles[img]=json.features};let onNewTileSet=false;Module[\"onGeojsonSurveyObj\"]=function(obj){if(!onNewTileSet){Module._geojson_set_on_new_tile_callback(Module.addFunction(onNewTile,\"vii\"));onNewTileSet=true}Object.defineProperty(obj,\"filter\",{set:function(filter){if(obj._filterFn)Module.removeFunction(obj._filterFn);obj._filterFn=Module.addFunction(function(img,id,fillPtr,strokePtr,blinkPtr,hiddenPtr){let features=g_tiles[img];const r=filter(features[id]);if(r.fill)fillColorPtr(r.fill,fillPtr);if(r.stroke)fillColorPtr(r.stroke,strokePtr);if(r.blink!==undefined)fillBoolPtr(r.blink,blinkPtr);if(r.hidden!==undefined)fillBoolPtr(r.hidden,hiddenPtr)},\"viiiiii\");obj._call(\"filter\",obj._filterFn)}});obj.queryRenderedFeatures=function(point){return surveyQueryRenderedFeatures(obj,point)}};var highframeRate=false;Module.afterInit(function(){if(!Module.canvas)return;var mouseDown=false;var mouseButtons=0;var mousePos;var render=function(timestamp){if(mouseDown)Module._core_on_mouse(0,1,mousePos.x,mousePos.y,mouseButtons);var canvas=Module.canvas;var dpr=window.devicePixelRatio||1;var rect=canvas.getBoundingClientRect();var displayWidth=rect.width;var displayHeight=rect.height;var sizeChanged=canvas.width!==displayWidth||canvas.height!==displayHeight;if(sizeChanged){canvas.width=displayWidth*dpr;canvas.height=displayHeight*dpr}Module._core_update();Module._core_render(displayWidth,displayHeight,dpr);if(highframeRate){window.requestAnimationFrame(render)}else{setTimeout(function(){window.requestAnimationFrame(render)},1e3/18)}};var fixPageXY=function(e){if(e.pageX==null&&e.clientX!=null){var html=document.documentElement;var body=document.body;e.pageX=e.clientX+(html.scrollLeft||body&&body.scrollLeft||0);e.pageX-=html.clientLeft||0;e.pageY=e.clientY+(html.scrollTop||body&&body.scrollTop||0);e.pageY-=html.clientTop||0}};var setupMouse=function(){var canvas=Module.canvas;function getMousePos(evt){var rect=canvas.getBoundingClientRect();return{x:evt.clientX-rect.left,y:evt.clientY-rect.top}}canvas.addEventListener(\"mousedown\",function(e){var that=this;e=e||event;fixPageXY(e);mouseDown=true;mousePos=getMousePos(e);mouseButtons=e.buttons;document.onmouseup=function(e){e=e||event;fixPageXY(e);mouseDown=false;mousePos=getMousePos(e);Module._core_on_mouse(0,0,mousePos.x,mousePos.y,mouseButtons)};document.onmouseleave=function(e){mouseDown=false};document.onmousemove=function(e){e=e||event;fixPageXY(e);mousePos=getMousePos(e)}});canvas.addEventListener(\"touchstart\",function(e){var rect=canvas.getBoundingClientRect();for(var i=0;i<e.changedTouches.length;i++){var id=e.changedTouches[i].identifier;var relX=e.changedTouches[i].pageX-rect.left;var relY=e.changedTouches[i].pageY-rect.top;Module._core_on_mouse(id,1,relX,relY,1)}},{passive:true});canvas.addEventListener(\"touchmove\",function(e){e.preventDefault();var rect=canvas.getBoundingClientRect();for(var i=0;i<e.changedTouches.length;i++){var id=e.changedTouches[i].identifier;var relX=e.changedTouches[i].pageX-rect.left;var relY=e.changedTouches[i].pageY-rect.top;Module._core_on_mouse(id,-1,relX,relY,1)}},{passive:false});canvas.addEventListener(\"touchend\",function(e){var rect=canvas.getBoundingClientRect();for(var i=0;i<e.changedTouches.length;i++){var id=e.changedTouches[i].identifier;var relX=e.changedTouches[i].pageX-rect.left;var relY=e.changedTouches[i].pageY-rect.top;Module._core_on_mouse(id,0,relX,relY,1)}});function getMouseWheelDelta(event){var delta=0;switch(event.type){case\"DOMMouseScroll\":delta=-event.detail;break;case\"mousewheel\":delta=event.wheelDelta/120;break;default:throw\"unrecognized mouse wheel event: \"+event.type}return delta}var onWheelEvent=function(e){e.preventDefault();fixPageXY(e);var pos=getMousePos(e);var zoom_factor=1.05;var delta=getMouseWheelDelta(e)*2;Module._core_on_zoom(Math.pow(zoom_factor,delta),pos.x,pos.y);return false};canvas.addEventListener(\"mousewheel\",onWheelEvent,{passive:false});canvas.addEventListener(\"DOMMouseScroll\",onWheelEvent,{passive:false});canvas.oncontextmenu=function(e){e.preventDefault();e.stopPropagation()}};setupMouse();window.requestAnimationFrame(render)});window.setHighFrameRate=function(newFrameRate){highframeRate=newFrameRate};window.getHighFrameRate=function(){return highframeRate};var moduleOverrides={};var key;for(key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}var arguments_=[];var thisProgram=\"./this.program\";var quit_=function(status,toThrow){throw toThrow};var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;ENVIRONMENT_IS_WEB=typeof window===\"object\";ENVIRONMENT_IS_WORKER=typeof importScripts===\"function\";ENVIRONMENT_IS_NODE=typeof process===\"object\"&&typeof process.versions===\"object\"&&typeof process.versions.node===\"string\";ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;var scriptDirectory=\"\";function locateFile(path){if(Module[\"locateFile\"]){return Module[\"locateFile\"](path,scriptDirectory)}return scriptDirectory+path}var read_,readAsync,readBinary,setWindowTitle;var nodeFS;var nodePath;if(ENVIRONMENT_IS_NODE){if(ENVIRONMENT_IS_WORKER){scriptDirectory=require(\"path\").dirname(scriptDirectory)+\"/\"}else{scriptDirectory=__dirname+\"/\"}read_=function shell_read(filename,binary){if(!nodeFS)nodeFS=require(\"fs\");if(!nodePath)nodePath=require(\"path\");filename=nodePath[\"normalize\"](filename);return nodeFS[\"readFileSync\"](filename,binary?null:\"utf8\")};readBinary=function readBinary(filename){var ret=read_(filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}assert(ret.buffer);return ret};if(process[\"argv\"].length>1){thisProgram=process[\"argv\"][1].replace(/\\\\/g,\"/\")}arguments_=process[\"argv\"].slice(2);process[\"on\"](\"uncaughtException\",function(ex){if(!(ex instanceof ExitStatus)){throw ex}});process[\"on\"](\"unhandledRejection\",abort);quit_=function(status){process[\"exit\"](status)};Module[\"inspect\"]=function(){return\"[Emscripten Module object]\"}}else if(ENVIRONMENT_IS_SHELL){if(typeof read!=\"undefined\"){read_=function shell_read(f){return read(f)}}readBinary=function readBinary(f){var data;if(typeof readbuffer===\"function\"){return new Uint8Array(readbuffer(f))}data=read(f,\"binary\");assert(typeof data===\"object\");return data};if(typeof scriptArgs!=\"undefined\"){arguments_=scriptArgs}else if(typeof arguments!=\"undefined\"){arguments_=arguments}if(typeof quit===\"function\"){quit_=function(status){quit(status)}}if(typeof print!==\"undefined\"){if(typeof console===\"undefined\")console={};console.log=print;console.warn=console.error=typeof printErr!==\"undefined\"?printErr:print}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(document.currentScript){scriptDirectory=document.currentScript.src}if(_scriptDir){scriptDirectory=_scriptDir}if(scriptDirectory.indexOf(\"blob:\")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.lastIndexOf(\"/\")+1)}else{scriptDirectory=\"\"}{read_=function shell_read(url){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){readBinary=function readBinary(url){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,false);xhr.responseType=\"arraybuffer\";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,true);xhr.responseType=\"arraybuffer\";xhr.onload=function xhr_onload(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()};xhr.onerror=onerror;xhr.send(null)}}setWindowTitle=function(title){document.title=title}}else{}var out=Module[\"print\"]||console.log.bind(console);var err=Module[\"printErr\"]||console.warn.bind(console);for(key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=null;if(Module[\"arguments\"])arguments_=Module[\"arguments\"];if(Module[\"thisProgram\"])thisProgram=Module[\"thisProgram\"];if(Module[\"quit\"])quit_=Module[\"quit\"];function dynamicAlloc(size){var ret=HEAP32[DYNAMICTOP_PTR>>2];var end=ret+size+15&-16;HEAP32[DYNAMICTOP_PTR>>2]=end;return ret}function getNativeTypeSize(type){switch(type){case\"i1\":case\"i8\":return 1;case\"i16\":return 2;case\"i32\":return 4;case\"i64\":return 8;case\"float\":return 4;case\"double\":return 8;default:{if(type[type.length-1]===\"*\"){return 4}else if(type[0]===\"i\"){var bits=Number(type.substr(1));assert(bits%8===0,\"getNativeTypeSize invalid bits \"+bits+\", type \"+type);return bits/8}else{return 0}}}}function warnOnce(text){if(!warnOnce.shown)warnOnce.shown={};if(!warnOnce.shown[text]){warnOnce.shown[text]=1;err(text)}}function convertJsFunctionToWasm(func,sig){if(typeof WebAssembly.Function===\"function\"){var typeNames={\"i\":\"i32\",\"j\":\"i64\",\"f\":\"f32\",\"d\":\"f64\"};var type={parameters:[],results:sig[0]==\"v\"?[]:[typeNames[sig[0]]]};for(var i=1;i<sig.length;++i){type.parameters.push(typeNames[sig[i]])}return new WebAssembly.Function(type,func)}var typeSection=[1,0,1,96];var sigRet=sig.slice(0,1);var sigParam=sig.slice(1);var typeCodes={\"i\":127,\"j\":126,\"f\":125,\"d\":124};typeSection.push(sigParam.length);for(var i=0;i<sigParam.length;++i){typeSection.push(typeCodes[sigParam[i]])}if(sigRet==\"v\"){typeSection.push(0)}else{typeSection=typeSection.concat([1,typeCodes[sigRet]])}typeSection[1]=typeSection.length-2;var bytes=new Uint8Array([0,97,115,109,1,0,0,0].concat(typeSection,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0]));var module=new WebAssembly.Module(bytes);var instance=new WebAssembly.Instance(module,{\"e\":{\"f\":func}});var wrappedFunc=instance.exports[\"f\"];return wrappedFunc}var freeTableIndexes=[];var functionsInTableMap;function addFunctionWasm(func,sig){var table=wasmTable;if(!functionsInTableMap){functionsInTableMap=new WeakMap;for(var i=0;i<table.length;i++){var item=table.get(i);if(item){functionsInTableMap.set(item,i)}}}if(functionsInTableMap.has(func)){return functionsInTableMap.get(func)}var ret;if(freeTableIndexes.length){ret=freeTableIndexes.pop()}else{ret=table.length;try{table.grow(1)}catch(err){if(!(err instanceof RangeError)){throw err}throw\"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.\"}}try{table.set(ret,func)}catch(err){if(!(err instanceof TypeError)){throw err}var wrapped=convertJsFunctionToWasm(func,sig);table.set(ret,wrapped)}functionsInTableMap.set(func,ret);return ret}function removeFunctionWasm(index){functionsInTableMap.delete(wasmTable.get(index));freeTableIndexes.push(index)}function addFunction(func,sig){return addFunctionWasm(func,sig)}function removeFunction(index){removeFunctionWasm(index)}var tempRet0=0;var setTempRet0=function(value){tempRet0=value};var getTempRet0=function(){return tempRet0};var wasmBinary;if(Module[\"wasmBinary\"])wasmBinary=Module[\"wasmBinary\"];var noExitRuntime;if(Module[\"noExitRuntime\"])noExitRuntime=Module[\"noExitRuntime\"];if(typeof WebAssembly!==\"object\"){err(\"no native wasm support detected\")}function setValue(ptr,value,type,noSafe){type=type||\"i8\";if(type.charAt(type.length-1)===\"*\")type=\"i32\";switch(type){case\"i1\":HEAP8[ptr>>0]=value;break;case\"i8\":HEAP8[ptr>>0]=value;break;case\"i16\":HEAP16[ptr>>1]=value;break;case\"i32\":HEAP32[ptr>>2]=value;break;case\"i64\":tempI64=[value>>>0,(tempDouble=value,+Math_abs(tempDouble)>=1?tempDouble>0?(Math_min(+Math_floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[ptr>>2]=tempI64[0],HEAP32[ptr+4>>2]=tempI64[1];break;case\"float\":HEAPF32[ptr>>2]=value;break;case\"double\":HEAPF64[ptr>>3]=value;break;default:abort(\"invalid type for setValue: \"+type)}}function getValue(ptr,type,noSafe){type=type||\"i8\";if(type.charAt(type.length-1)===\"*\")type=\"i32\";switch(type){case\"i1\":return HEAP8[ptr>>0];case\"i8\":return HEAP8[ptr>>0];case\"i16\":return HEAP16[ptr>>1];case\"i32\":return HEAP32[ptr>>2];case\"i64\":return HEAP32[ptr>>2];case\"float\":return HEAPF32[ptr>>2];case\"double\":return HEAPF64[ptr>>3];default:abort(\"invalid type for getValue: \"+type)}return null}var wasmMemory;var wasmTable=new WebAssembly.Table({\"initial\":448,\"element\":\"anyfunc\"});var ABORT=false;var EXITSTATUS=0;function assert(condition,text){if(!condition){abort(\"Assertion failed: \"+text)}}function getCFunc(ident){var func=Module[\"_\"+ident];assert(func,\"Cannot call unknown function \"+ident+\", make sure it is exported\");return func}function ccall(ident,returnType,argTypes,args,opts){var toC={\"string\":function(str){var ret=0;if(str!==null&&str!==undefined&&str!==0){var len=(str.length<<2)+1;ret=stackAlloc(len);stringToUTF8(str,ret,len)}return ret},\"array\":function(arr){var ret=stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret}};function convertReturnValue(ret){if(returnType===\"string\")return UTF8ToString(ret);if(returnType===\"boolean\")return Boolean(ret);return ret}var func=getCFunc(ident);var cArgs=[];var stack=0;if(args){for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];if(converter){if(stack===0)stack=stackSave();cArgs[i]=converter(args[i])}else{cArgs[i]=args[i]}}}var ret=func.apply(null,cArgs);ret=convertReturnValue(ret);if(stack!==0)stackRestore(stack);return ret}function cwrap(ident,returnType,argTypes,opts){argTypes=argTypes||[];var numericArgs=argTypes.every(function(type){return type===\"number\"});var numericRet=returnType!==\"string\";if(numericRet&&numericArgs&&!opts){return getCFunc(ident)}return function(){return ccall(ident,returnType,argTypes,arguments,opts)}}var ALLOC_NORMAL=0;var ALLOC_NONE=3;function allocate(slab,types,allocator,ptr){var zeroinit,size;if(typeof slab===\"number\"){zeroinit=true;size=slab}else{zeroinit=false;size=slab.length}var singleType=typeof types===\"string\"?types:null;var ret;if(allocator==ALLOC_NONE){ret=ptr}else{ret=[_malloc,stackAlloc,dynamicAlloc][allocator](Math.max(size,singleType?1:types.length))}if(zeroinit){var stop;ptr=ret;assert((ret&3)==0);stop=ret+(size&~3);for(;ptr<stop;ptr+=4){HEAP32[ptr>>2]=0}stop=ret+size;while(ptr<stop){HEAP8[ptr++>>0]=0}return ret}if(singleType===\"i8\"){if(slab.subarray||slab.slice){HEAPU8.set(slab,ret)}else{HEAPU8.set(new Uint8Array(slab),ret)}return ret}var i=0,type,typeSize,previousType;while(i<size){var curr=slab[i];type=singleType||types[i];if(type===0){i++;continue}if(type==\"i64\")type=\"i32\";setValue(ret+i,curr,type);if(previousType!==type){typeSize=getNativeTypeSize(type);previousType=type}i+=typeSize}return ret}var UTF8Decoder=typeof TextDecoder!==\"undefined\"?new TextDecoder(\"utf8\"):undefined;function UTF8ArrayToString(heap,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heap[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heap.subarray&&UTF8Decoder){return UTF8Decoder.decode(heap.subarray(idx,endPtr))}else{var str=\"\";while(idx<endPtr){var u0=heap[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heap[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heap[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u0=(u0&7)<<18|u1<<12|u2<<6|heap[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}return str}function UTF8ToString(ptr,maxBytesToRead){return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):\"\"}function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}}heap[outIdx]=0;return outIdx-startIdx}function stringToUTF8(str,outPtr,maxBytesToWrite){return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)}function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((u&1023)<<10)|str.charCodeAt(++i)&1023;if(u<=127)++len;else if(u<=2047)len+=2;else if(u<=65535)len+=3;else len+=4}return len}function writeArrayToMemory(array,buffer){HEAP8.set(array,buffer)}function writeAsciiToMemory(str,buffer,dontAddNull){for(var i=0;i<str.length;++i){HEAP8[buffer++>>0]=str.charCodeAt(i)}if(!dontAddNull)HEAP8[buffer>>0]=0}var WASM_PAGE_SIZE=65536;function alignUp(x,multiple){if(x%multiple>0){x+=multiple-x%multiple}return x}var buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBufferAndViews(buf){buffer=buf;Module[\"HEAP8\"]=HEAP8=new Int8Array(buf);Module[\"HEAP16\"]=HEAP16=new Int16Array(buf);Module[\"HEAP32\"]=HEAP32=new Int32Array(buf);Module[\"HEAPU8\"]=HEAPU8=new Uint8Array(buf);Module[\"HEAPU16\"]=HEAPU16=new Uint16Array(buf);Module[\"HEAPU32\"]=HEAPU32=new Uint32Array(buf);Module[\"HEAPF32\"]=HEAPF32=new Float32Array(buf);Module[\"HEAPF64\"]=HEAPF64=new Float64Array(buf)}var DYNAMIC_BASE=5807088,DYNAMICTOP_PTR=564048;var INITIAL_INITIAL_MEMORY=Module[\"INITIAL_MEMORY\"]||16777216;if(Module[\"wasmMemory\"]){wasmMemory=Module[\"wasmMemory\"]}else{wasmMemory=new WebAssembly.Memory({\"initial\":INITIAL_INITIAL_MEMORY/WASM_PAGE_SIZE,\"maximum\":2147483648/WASM_PAGE_SIZE})}if(wasmMemory){buffer=wasmMemory.buffer}INITIAL_INITIAL_MEMORY=buffer.byteLength;updateGlobalBufferAndViews(buffer);HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE;function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback==\"function\"){callback(Module);continue}var func=callback.func;if(typeof func===\"number\"){if(callback.arg===undefined){Module[\"dynCall_v\"](func)}else{Module[\"dynCall_vi\"](func,callback.arg)}}else{func(callback.arg===undefined?null:callback.arg)}}}var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeExited=false;function preRun(){if(Module[\"preRun\"]){if(typeof Module[\"preRun\"]==\"function\")Module[\"preRun\"]=[Module[\"preRun\"]];while(Module[\"preRun\"].length){addOnPreRun(Module[\"preRun\"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){runtimeExited=true}function postRun(){if(Module[\"postRun\"]){if(typeof Module[\"postRun\"]==\"function\")Module[\"postRun\"]=[Module[\"postRun\"]];while(Module[\"postRun\"].length){addOnPostRun(Module[\"postRun\"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}var Math_abs=Math.abs;var Math_ceil=Math.ceil;var Math_floor=Math.floor;var Math_min=Math.min;var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function getUniqueRunDependency(id){return id}function addRunDependency(id){runDependencies++;if(Module[\"monitorRunDependencies\"]){Module[\"monitorRunDependencies\"](runDependencies)}}function removeRunDependency(id){runDependencies--;if(Module[\"monitorRunDependencies\"]){Module[\"monitorRunDependencies\"](runDependencies)}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module[\"preloadedImages\"]={};Module[\"preloadedAudios\"]={};function abort(what){if(Module[\"onAbort\"]){Module[\"onAbort\"](what)}what+=\"\";out(what);err(what);ABORT=true;EXITSTATUS=1;what=\"abort(\"+what+\"). Build with -s ASSERTIONS=1 for more info.\";throw new WebAssembly.RuntimeError(what)}function hasPrefix(str,prefix){return String.prototype.startsWith?str.startsWith(prefix):str.indexOf(prefix)===0}var dataURIPrefix=\"data:application/octet-stream;base64,\";function isDataURI(filename){return hasPrefix(filename,dataURIPrefix)}var fileURIPrefix=\"file://\";function isFileURI(filename){return hasPrefix(filename,fileURIPrefix)}var wasmBinaryFile=\"stellarium-web-engine.wasm\";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile)}function getBinary(){try{if(wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(wasmBinaryFile)}else{throw\"both async and sync fetching of the wasm failed\"}}catch(err){abort(err)}}function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&typeof fetch===\"function\"&&!isFileURI(wasmBinaryFile)){return fetch(wasmBinaryFile,{credentials:\"same-origin\"}).then(function(response){if(!response[\"ok\"]){throw\"failed to load wasm binary file at '\"+wasmBinaryFile+\"'\"}return response[\"arrayBuffer\"]()}).catch(function(){return getBinary()})}return new Promise(function(resolve,reject){resolve(getBinary())})}function createWasm(){var info={\"a\":asmLibraryArg};function receiveInstance(instance,module){var exports=instance.exports;Module[\"asm\"]=exports;removeRunDependency(\"wasm-instantiate\")}addRunDependency(\"wasm-instantiate\");function receiveInstantiatedSource(output){receiveInstance(output[\"instance\"])}function instantiateArrayBuffer(receiver){return getBinaryPromise().then(function(binary){return WebAssembly.instantiate(binary,info)}).then(receiver,function(reason){err(\"failed to asynchronously prepare wasm: \"+reason);abort(reason)})}function instantiateAsync(){if(!wasmBinary&&typeof WebAssembly.instantiateStreaming===\"function\"&&!isDataURI(wasmBinaryFile)&&!isFileURI(wasmBinaryFile)&&typeof fetch===\"function\"){fetch(wasmBinaryFile,{credentials:\"same-origin\"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,info);return result.then(receiveInstantiatedSource,function(reason){err(\"wasm streaming compile failed: \"+reason);err(\"falling back to ArrayBuffer instantiation\");return instantiateArrayBuffer(receiveInstantiatedSource)})})}else{return instantiateArrayBuffer(receiveInstantiatedSource)}}if(Module[\"instantiateWasm\"]){try{var exports=Module[\"instantiateWasm\"](info,receiveInstance);return exports}catch(e){err(\"Module.instantiateWasm callback failed with error: \"+e);return false}}instantiateAsync();return{}}var tempDouble;var tempI64;__ATINIT__.push({func:function(){___wasm_call_ctors()}});function _emscripten_set_main_loop_timing(mode,value){Browser.mainLoop.timingMode=mode;Browser.mainLoop.timingValue=value;if(!Browser.mainLoop.func){return 1}if(mode==0){Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_setTimeout(){var timeUntilNextTick=Math.max(0,Browser.mainLoop.tickStartTime+value-_emscripten_get_now())|0;setTimeout(Browser.mainLoop.runner,timeUntilNextTick)};Browser.mainLoop.method=\"timeout\"}else if(mode==1){Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_rAF(){Browser.requestAnimationFrame(Browser.mainLoop.runner)};Browser.mainLoop.method=\"rAF\"}else if(mode==2){if(typeof setImmediate===\"undefined\"){var setImmediates=[];var emscriptenMainLoopMessageId=\"setimmediate\";var Browser_setImmediate_messageHandler=function(event){if(event.data===emscriptenMainLoopMessageId||event.data.target===emscriptenMainLoopMessageId){event.stopPropagation();setImmediates.shift()()}};addEventListener(\"message\",Browser_setImmediate_messageHandler,true);setImmediate=function Browser_emulated_setImmediate(func){setImmediates.push(func);if(ENVIRONMENT_IS_WORKER){if(Module[\"setImmediates\"]===undefined)Module[\"setImmediates\"]=[];Module[\"setImmediates\"].push(func);postMessage({target:emscriptenMainLoopMessageId})}else postMessage(emscriptenMainLoopMessageId,\"*\")}}Browser.mainLoop.scheduler=function Browser_mainLoop_scheduler_setImmediate(){setImmediate(Browser.mainLoop.runner)};Browser.mainLoop.method=\"immediate\"}return 0}var _emscripten_get_now;if(ENVIRONMENT_IS_NODE){_emscripten_get_now=function(){var t=process[\"hrtime\"]();return t[0]*1e3+t[1]/1e6}}else if(typeof dateNow!==\"undefined\"){_emscripten_get_now=dateNow}else _emscripten_get_now=function(){return performance.now()};function _emscripten_set_main_loop(func,fps,simulateInfiniteLoop,arg,noSetTiming){noExitRuntime=true;assert(!Browser.mainLoop.func,\"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters.\");Browser.mainLoop.func=func;Browser.mainLoop.arg=arg;var browserIterationFunc;if(typeof arg!==\"undefined\"){browserIterationFunc=function(){Module[\"dynCall_vi\"](func,arg)}}else{browserIterationFunc=function(){Module[\"dynCall_v\"](func)}}var thisMainLoopId=Browser.mainLoop.currentlyRunningMainloop;Browser.mainLoop.runner=function Browser_mainLoop_runner(){if(ABORT)return;if(Browser.mainLoop.queue.length>0){var start=Date.now();var blocker=Browser.mainLoop.queue.shift();blocker.func(blocker.arg);if(Browser.mainLoop.remainingBlockers){var remaining=Browser.mainLoop.remainingBlockers;var next=remaining%1==0?remaining-1:Math.floor(remaining);if(blocker.counted){Browser.mainLoop.remainingBlockers=next}else{next=next+.5;Browser.mainLoop.remainingBlockers=(8*remaining+next)/9}}console.log('main loop blocker \"'+blocker.name+'\" took '+(Date.now()-start)+\" ms\");Browser.mainLoop.updateStatus();if(thisMainLoopId<Browser.mainLoop.currentlyRunningMainloop)return;setTimeout(Browser.mainLoop.runner,0);return}if(thisMainLoopId<Browser.mainLoop.currentlyRunningMainloop)return;Browser.mainLoop.currentFrameNumber=Browser.mainLoop.currentFrameNumber+1|0;if(Browser.mainLoop.timingMode==1&&Browser.mainLoop.timingValue>1&&Browser.mainLoop.currentFrameNumber%Browser.mainLoop.timingValue!=0){Browser.mainLoop.scheduler();return}else if(Browser.mainLoop.timingMode==0){Browser.mainLoop.tickStartTime=_emscripten_get_now()}Browser.mainLoop.runIter(browserIterationFunc);if(thisMainLoopId<Browser.mainLoop.currentlyRunningMainloop)return;if(typeof SDL===\"object\"&&SDL.audio&&SDL.audio.queueNewAudioData)SDL.audio.queueNewAudioData();Browser.mainLoop.scheduler()};if(!noSetTiming){if(fps&&fps>0)_emscripten_set_main_loop_timing(0,1e3/fps);else _emscripten_set_main_loop_timing(1,1);Browser.mainLoop.scheduler()}if(simulateInfiniteLoop){throw\"unwind\"}}var Browser={mainLoop:{scheduler:null,method:\"\",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Browser.mainLoop.scheduler=null;Browser.mainLoop.currentlyRunningMainloop++},resume:function(){Browser.mainLoop.currentlyRunningMainloop++;var timingMode=Browser.mainLoop.timingMode;var timingValue=Browser.mainLoop.timingValue;var func=Browser.mainLoop.func;Browser.mainLoop.func=null;_emscripten_set_main_loop(func,0,false,Browser.mainLoop.arg,true);_emscripten_set_main_loop_timing(timingMode,timingValue);Browser.mainLoop.scheduler()},updateStatus:function(){if(Module[\"setStatus\"]){var message=Module[\"statusMessage\"]||\"Please wait...\";var remaining=Browser.mainLoop.remainingBlockers;var expected=Browser.mainLoop.expectedBlockers;if(remaining){if(remaining<expected){Module[\"setStatus\"](message+\" (\"+(expected-remaining)+\"/\"+expected+\")\")}else{Module[\"setStatus\"](message)}}else{Module[\"setStatus\"](\"\")}}},runIter:function(func){if(ABORT)return;if(Module[\"preMainLoop\"]){var preRet=Module[\"preMainLoop\"]();if(preRet===false){return}}try{func()}catch(e){if(e instanceof ExitStatus){return}else{if(e&&typeof e===\"object\"&&e.stack)err(\"exception thrown: \"+[e,e.stack]);throw e}}if(Module[\"postMainLoop\"])Module[\"postMainLoop\"]()}},isFullscreen:false,pointerLock:false,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(!Module[\"preloadPlugins\"])Module[\"preloadPlugins\"]=[];if(Browser.initted)return;Browser.initted=true;try{new Blob;Browser.hasBlobConstructor=true}catch(e){Browser.hasBlobConstructor=false;console.log(\"warning: no blob constructor, cannot create blobs with mimetypes\")}Browser.BlobBuilder=typeof MozBlobBuilder!=\"undefined\"?MozBlobBuilder:typeof WebKitBlobBuilder!=\"undefined\"?WebKitBlobBuilder:!Browser.hasBlobConstructor?console.log(\"warning: no BlobBuilder\"):null;Browser.URLObject=typeof window!=\"undefined\"?window.URL?window.URL:window.webkitURL:undefined;if(!Module.noImageDecoding&&typeof Browser.URLObject===\"undefined\"){console.log(\"warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available.\");Module.noImageDecoding=true}var imagePlugin={};imagePlugin[\"canHandle\"]=function imagePlugin_canHandle(name){return!Module.noImageDecoding&&/\\.(jpg|jpeg|png|bmp)$/i.test(name)};imagePlugin[\"handle\"]=function imagePlugin_handle(byteArray,name,onload,onerror){var b=null;if(Browser.hasBlobConstructor){try{b=new Blob([byteArray],{type:Browser.getMimetype(name)});if(b.size!==byteArray.length){b=new Blob([new Uint8Array(byteArray).buffer],{type:Browser.getMimetype(name)})}}catch(e){warnOnce(\"Blob constructor present but fails: \"+e+\"; falling back to blob builder\")}}if(!b){var bb=new Browser.BlobBuilder;bb.append(new Uint8Array(byteArray).buffer);b=bb.getBlob()}var url=Browser.URLObject.createObjectURL(b);var img=new Image;img.onload=function img_onload(){assert(img.complete,\"Image \"+name+\" could not be decoded\");var canvas=document.createElement(\"canvas\");canvas.width=img.width;canvas.height=img.height;var ctx=canvas.getContext(\"2d\");ctx.drawImage(img,0,0);Module[\"preloadedImages\"][name]=canvas;Browser.URLObject.revokeObjectURL(url);if(onload)onload(byteArray)};img.onerror=function img_onerror(event){console.log(\"Image \"+url+\" could not be decoded\");if(onerror)onerror()};img.src=url};Module[\"preloadPlugins\"].push(imagePlugin);var audioPlugin={};audioPlugin[\"canHandle\"]=function audioPlugin_canHandle(name){return!Module.noAudioDecoding&&name.substr(-4)in{\".ogg\":1,\".wav\":1,\".mp3\":1}};audioPlugin[\"handle\"]=function audioPlugin_handle(byteArray,name,onload,onerror){var done=false;function finish(audio){if(done)return;done=true;Module[\"preloadedAudios\"][name]=audio;if(onload)onload(byteArray)}function fail(){if(done)return;done=true;Module[\"preloadedAudios\"][name]=new Audio;if(onerror)onerror()}if(Browser.hasBlobConstructor){try{var b=new Blob([byteArray],{type:Browser.getMimetype(name)})}catch(e){return fail()}var url=Browser.URLObject.createObjectURL(b);var audio=new Audio;audio.addEventListener(\"canplaythrough\",function(){finish(audio)},false);audio.onerror=function audio_onerror(event){if(done)return;console.log(\"warning: browser could not fully decode audio \"+name+\", trying slower base64 approach\");function encode64(data){var BASE=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";var PAD=\"=\";var ret=\"\";var leftchar=0;var leftbits=0;for(var i=0;i<data.length;i++){leftchar=leftchar<<8|data[i];leftbits+=8;while(leftbits>=6){var curr=leftchar>>leftbits-6&63;leftbits-=6;ret+=BASE[curr]}}if(leftbits==2){ret+=BASE[(leftchar&3)<<4];ret+=PAD+PAD}else if(leftbits==4){ret+=BASE[(leftchar&15)<<2];ret+=PAD}return ret}audio.src=\"data:audio/x-\"+name.substr(-3)+\";base64,\"+encode64(byteArray);finish(audio)};audio.src=url;Browser.safeSetTimeout(function(){finish(audio)},1e4)}else{return fail()}};Module[\"preloadPlugins\"].push(audioPlugin);function pointerLockChange(){Browser.pointerLock=document[\"pointerLockElement\"]===Module[\"canvas\"]||document[\"mozPointerLockElement\"]===Module[\"canvas\"]||document[\"webkitPointerLockElement\"]===Module[\"canvas\"]||document[\"msPointerLockElement\"]===Module[\"canvas\"]}var canvas=Module[\"canvas\"];if(canvas){canvas.requestPointerLock=canvas[\"requestPointerLock\"]||canvas[\"mozRequestPointerLock\"]||canvas[\"webkitRequestPointerLock\"]||canvas[\"msRequestPointerLock\"]||function(){};canvas.exitPointerLock=document[\"exitPointerLock\"]||document[\"mozExitPointerLock\"]||document[\"webkitExitPointerLock\"]||document[\"msExitPointerLock\"]||function(){};canvas.exitPointerLock=canvas.exitPointerLock.bind(document);document.addEventListener(\"pointerlockchange\",pointerLockChange,false);document.addEventListener(\"mozpointerlockchange\",pointerLockChange,false);document.addEventListener(\"webkitpointerlockchange\",pointerLockChange,false);document.addEventListener(\"mspointerlockchange\",pointerLockChange,false);if(Module[\"elementPointerLock\"]){canvas.addEventListener(\"click\",function(ev){if(!Browser.pointerLock&&Module[\"canvas\"].requestPointerLock){Module[\"canvas\"].requestPointerLock();ev.preventDefault()}},false)}}},createContext:function(canvas,useWebGL,setInModule,webGLContextAttributes){if(useWebGL&&Module.ctx&&canvas==Module.canvas)return Module.ctx;var ctx;var contextHandle;if(useWebGL){var contextAttributes={antialias:false,alpha:false,majorVersion:typeof WebGL2RenderingContext!==\"undefined\"?2:1};if(webGLContextAttributes){for(var attribute in webGLContextAttributes){contextAttributes[attribute]=webGLContextAttributes[attribute]}}if(typeof GL!==\"undefined\"){contextHandle=GL.createContext(canvas,contextAttributes);if(contextHandle){ctx=GL.getContext(contextHandle).GLctx}}}else{ctx=canvas.getContext(\"2d\")}if(!ctx)return null;if(setInModule){if(!useWebGL)assert(typeof GLctx===\"undefined\",\"cannot set in module if GLctx is used, but we are a non-GL context that would replace it\");Module.ctx=ctx;if(useWebGL)GL.makeContextCurrent(contextHandle);Module.useWebGL=useWebGL;Browser.moduleContextCreatedCallbacks.forEach(function(callback){callback()});Browser.init()}return ctx},destroyContext:function(canvas,useWebGL,setInModule){},fullscreenHandlersInstalled:false,lockPointer:undefined,resizeCanvas:undefined,requestFullscreen:function(lockPointer,resizeCanvas){Browser.lockPointer=lockPointer;Browser.resizeCanvas=resizeCanvas;if(typeof Browser.lockPointer===\"undefined\")Browser.lockPointer=true;if(typeof Browser.resizeCanvas===\"undefined\")Browser.resizeCanvas=false;var canvas=Module[\"canvas\"];function fullscreenChange(){Browser.isFullscreen=false;var canvasContainer=canvas.parentNode;if((document[\"fullscreenElement\"]||document[\"mozFullScreenElement\"]||document[\"msFullscreenElement\"]||document[\"webkitFullscreenElement\"]||document[\"webkitCurrentFullScreenElement\"])===canvasContainer){canvas.exitFullscreen=Browser.exitFullscreen;if(Browser.lockPointer)canvas.requestPointerLock();Browser.isFullscreen=true;if(Browser.resizeCanvas){Browser.setFullscreenCanvasSize()}else{Browser.updateCanvasDimensions(canvas)}}else{canvasContainer.parentNode.insertBefore(canvas,canvasContainer);canvasContainer.parentNode.removeChild(canvasContainer);if(Browser.resizeCanvas){Browser.setWindowedCanvasSize()}else{Browser.updateCanvasDimensions(canvas)}}if(Module[\"onFullScreen\"])Module[\"onFullScreen\"](Browser.isFullscreen);if(Module[\"onFullscreen\"])Module[\"onFullscreen\"](Browser.isFullscreen)}if(!Browser.fullscreenHandlersInstalled){Browser.fullscreenHandlersInstalled=true;document.addEventListener(\"fullscreenchange\",fullscreenChange,false);document.addEventListener(\"mozfullscreenchange\",fullscreenChange,false);document.addEventListener(\"webkitfullscreenchange\",fullscreenChange,false);document.addEventListener(\"MSFullscreenChange\",fullscreenChange,false)}var canvasContainer=document.createElement(\"div\");canvas.parentNode.insertBefore(canvasContainer,canvas);canvasContainer.appendChild(canvas);canvasContainer.requestFullscreen=canvasContainer[\"requestFullscreen\"]||canvasContainer[\"mozRequestFullScreen\"]||canvasContainer[\"msRequestFullscreen\"]||(canvasContainer[\"webkitRequestFullscreen\"]?function(){canvasContainer[\"webkitRequestFullscreen\"](Element[\"ALLOW_KEYBOARD_INPUT\"])}:null)||(canvasContainer[\"webkitRequestFullScreen\"]?function(){canvasContainer[\"webkitRequestFullScreen\"](Element[\"ALLOW_KEYBOARD_INPUT\"])}:null);canvasContainer.requestFullscreen()},exitFullscreen:function(){if(!Browser.isFullscreen){return false}var CFS=document[\"exitFullscreen\"]||document[\"cancelFullScreen\"]||document[\"mozCancelFullScreen\"]||document[\"msExitFullscreen\"]||document[\"webkitCancelFullScreen\"]||function(){};CFS.apply(document,[]);return true},nextRAF:0,fakeRequestAnimationFrame:function(func){var now=Date.now();if(Browser.nextRAF===0){Browser.nextRAF=now+1e3/60}else{while(now+2>=Browser.nextRAF){Browser.nextRAF+=1e3/60}}var delay=Math.max(Browser.nextRAF-now,0);setTimeout(func,delay)},requestAnimationFrame:function(func){if(typeof requestAnimationFrame===\"function\"){requestAnimationFrame(func);return}var RAF=Browser.fakeRequestAnimationFrame;RAF(func)},safeCallback:function(func){return function(){if(!ABORT)return func.apply(null,arguments)}},allowAsyncCallbacks:true,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){Browser.allowAsyncCallbacks=false},resumeAsyncCallbacks:function(){Browser.allowAsyncCallbacks=true;if(Browser.queuedAsyncCallbacks.length>0){var callbacks=Browser.queuedAsyncCallbacks;Browser.queuedAsyncCallbacks=[];callbacks.forEach(function(func){func()})}},safeRequestAnimationFrame:function(func){return Browser.requestAnimationFrame(function(){if(ABORT)return;if(Browser.allowAsyncCallbacks){func()}else{Browser.queuedAsyncCallbacks.push(func)}})},safeSetTimeout:function(func,timeout){noExitRuntime=true;return setTimeout(function(){if(ABORT)return;if(Browser.allowAsyncCallbacks){func()}else{Browser.queuedAsyncCallbacks.push(func)}},timeout)},safeSetInterval:function(func,timeout){noExitRuntime=true;return setInterval(function(){if(ABORT)return;if(Browser.allowAsyncCallbacks){func()}},timeout)},getMimetype:function(name){return{\"jpg\":\"image/jpeg\",\"jpeg\":\"image/jpeg\",\"png\":\"image/png\",\"bmp\":\"image/bmp\",\"ogg\":\"audio/ogg\",\"wav\":\"audio/wav\",\"mp3\":\"audio/mpeg\"}[name.substr(name.lastIndexOf(\".\")+1)]},getUserMedia:function(func){if(!window.getUserMedia){window.getUserMedia=navigator[\"getUserMedia\"]||navigator[\"mozGetUserMedia\"]}window.getUserMedia(func)},getMovementX:function(event){return event[\"movementX\"]||event[\"mozMovementX\"]||event[\"webkitMovementX\"]||0},getMovementY:function(event){return event[\"movementY\"]||event[\"mozMovementY\"]||event[\"webkitMovementY\"]||0},getMouseWheelDelta:function(event){var delta=0;switch(event.type){case\"DOMMouseScroll\":delta=event.detail/3;break;case\"mousewheel\":delta=event.wheelDelta/120;break;case\"wheel\":delta=event.deltaY;switch(event.deltaMode){case 0:delta/=100;break;case 1:delta/=3;break;case 2:delta*=80;break;default:throw\"unrecognized mouse wheel delta mode: \"+event.deltaMode}break;default:throw\"unrecognized mouse wheel event: \"+event.type}return delta},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(event){if(Browser.pointerLock){if(event.type!=\"mousemove\"&&\"mozMovementX\"in event){Browser.mouseMovementX=Browser.mouseMovementY=0}else{Browser.mouseMovementX=Browser.getMovementX(event);Browser.mouseMovementY=Browser.getMovementY(event)}if(typeof SDL!=\"undefined\"){Browser.mouseX=SDL.mouseX+Browser.mouseMovementX;Browser.mouseY=SDL.mouseY+Browser.mouseMovementY}else{Browser.mouseX+=Browser.mouseMovementX;Browser.mouseY+=Browser.mouseMovementY}}else{var rect=Module[\"canvas\"].getBoundingClientRect();var cw=Module[\"canvas\"].width;var ch=Module[\"canvas\"].height;var scrollX=typeof window.scrollX!==\"undefined\"?window.scrollX:window.pageXOffset;var scrollY=typeof window.scrollY!==\"undefined\"?window.scrollY:window.pageYOffset;if(event.type===\"touchstart\"||event.type===\"touchend\"||event.type===\"touchmove\"){var touch=event.touch;if(touch===undefined){return}var adjustedX=touch.pageX-(scrollX+rect.left);var adjustedY=touch.pageY-(scrollY+rect.top);adjustedX=adjustedX*(cw/rect.width);adjustedY=adjustedY*(ch/rect.height);var coords={x:adjustedX,y:adjustedY};if(event.type===\"touchstart\"){Browser.lastTouches[touch.identifier]=coords;Browser.touches[touch.identifier]=coords}else if(event.type===\"touchend\"||event.type===\"touchmove\"){var last=Browser.touches[touch.identifier];if(!last)last=coords;Browser.lastTouches[touch.identifier]=last;Browser.touches[touch.identifier]=coords}return}var x=event.pageX-(scrollX+rect.left);var y=event.pageY-(scrollY+rect.top);x=x*(cw/rect.width);y=y*(ch/rect.height);Browser.mouseMovementX=x-Browser.mouseX;Browser.mouseMovementY=y-Browser.mouseY;Browser.mouseX=x;Browser.mouseY=y}},asyncLoad:function(url,onload,onerror,noRunDep){var dep=!noRunDep?getUniqueRunDependency(\"al \"+url):\"\";readAsync(url,function(arrayBuffer){assert(arrayBuffer,'Loading data file \"'+url+'\" failed (no arrayBuffer).');onload(new Uint8Array(arrayBuffer));if(dep)removeRunDependency(dep)},function(event){if(onerror){onerror()}else{throw'Loading data file \"'+url+'\" failed.'}});if(dep)addRunDependency(dep)},resizeListeners:[],updateResizeListeners:function(){var canvas=Module[\"canvas\"];Browser.resizeListeners.forEach(function(listener){listener(canvas.width,canvas.height)})},setCanvasSize:function(width,height,noUpdates){var canvas=Module[\"canvas\"];Browser.updateCanvasDimensions(canvas,width,height);if(!noUpdates)Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if(typeof SDL!=\"undefined\"){var flags=HEAPU32[SDL.screen>>2];flags=flags|8388608;HEAP32[SDL.screen>>2]=flags}Browser.updateCanvasDimensions(Module[\"canvas\"]);Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL!=\"undefined\"){var flags=HEAPU32[SDL.screen>>2];flags=flags&~8388608;HEAP32[SDL.screen>>2]=flags}Browser.updateCanvasDimensions(Module[\"canvas\"]);Browser.updateResizeListeners()},updateCanvasDimensions:function(canvas,wNative,hNative){if(wNative&&hNative){canvas.widthNative=wNative;canvas.heightNative=hNative}else{wNative=canvas.widthNative;hNative=canvas.heightNative}var w=wNative;var h=hNative;if(Module[\"forcedAspectRatio\"]&&Module[\"forcedAspectRatio\"]>0){if(w/h<Module[\"forcedAspectRatio\"]){w=Math.round(h*Module[\"forcedAspectRatio\"])}else{h=Math.round(w/Module[\"forcedAspectRatio\"])}}if((document[\"fullscreenElement\"]||document[\"mozFullScreenElement\"]||document[\"msFullscreenElement\"]||document[\"webkitFullscreenElement\"]||document[\"webkitCurrentFullScreenElement\"])===canvas.parentNode&&typeof screen!=\"undefined\"){var factor=Math.min(screen.width/w,screen.height/h);w=Math.round(w*factor);h=Math.round(h*factor)}if(Browser.resizeCanvas){if(canvas.width!=w)canvas.width=w;if(canvas.height!=h)canvas.height=h;if(typeof canvas.style!=\"undefined\"){canvas.style.removeProperty(\"width\");canvas.style.removeProperty(\"height\")}}else{if(canvas.width!=wNative)canvas.width=wNative;if(canvas.height!=hNative)canvas.height=hNative;if(typeof canvas.style!=\"undefined\"){if(w!=wNative||h!=hNative){canvas.style.setProperty(\"width\",w+\"px\",\"important\");canvas.style.setProperty(\"height\",h+\"px\",\"important\")}else{canvas.style.removeProperty(\"width\");canvas.style.removeProperty(\"height\")}}}},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var handle=Browser.nextWgetRequestHandle;Browser.nextWgetRequestHandle++;return handle}};function _emscripten_async_wget2_abort(handle){var http=Browser.wgetRequests[handle];if(http){http.abort()}}function _emscripten_async_wget2_data(url,request,param,arg,free,onload,onerror,onprogress){var _url=UTF8ToString(url);var _request=UTF8ToString(request);var _param=UTF8ToString(param);var http=new XMLHttpRequest;http.open(_request,_url,true);http.responseType=\"arraybuffer\";var handle=Browser.getNextWgetRequestHandle();http.onload=function http_onload(e){if(http.status>=200&&http.status<300||http.status===0&&_url.substr(0,4).toLowerCase()!=\"http\"){var byteArray=new Uint8Array(http.response);var buffer=_malloc(byteArray.length);HEAPU8.set(byteArray,buffer);if(onload)dynCall_viiii(onload,handle,arg,buffer,byteArray.length);if(free)_free(buffer)}else{if(onerror)dynCall_viiii(onerror,handle,arg,http.status,http.statusText)}delete Browser.wgetRequests[handle]};http.onerror=function http_onerror(e){if(onerror){dynCall_viiii(onerror,handle,arg,http.status,http.statusText)}delete Browser.wgetRequests[handle]};http.onprogress=function http_onprogress(e){if(onprogress)dynCall_viiii(onprogress,handle,arg,e.loaded,e.lengthComputable||e.lengthComputable===undefined?e.total:0)};http.onabort=function http_onabort(e){delete Browser.wgetRequests[handle]};if(_request==\"POST\"){http.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");http.send(_param)}else{http.send(null)}Browser.wgetRequests[handle]=http;return handle}function _longjmp(env,value){_setThrew(env,value||1);throw\"longjmp\"}function _emscripten_longjmp(env,value){_longjmp(env,value)}function _emscripten_memcpy_big(dest,src,num){HEAPU8.copyWithin(dest,src,src+num)}function _emscripten_get_heap_size(){return HEAPU8.length}function emscripten_realloc_buffer(size){try{wasmMemory.grow(size-buffer.byteLength+65535>>>16);updateGlobalBufferAndViews(wasmMemory.buffer);return 1}catch(e){}}function _emscripten_resize_heap(requestedSize){requestedSize=requestedSize>>>0;var oldSize=_emscripten_get_heap_size();var PAGE_MULTIPLE=65536;var maxHeapSize=2147483648;if(requestedSize>maxHeapSize){return false}var minHeapSize=16777216;for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(minHeapSize,requestedSize,overGrownHeapSize),PAGE_MULTIPLE));var replacement=emscripten_realloc_buffer(newSize);if(replacement){return true}}return false}function _exit(status){exit(status)}var PATH={splitPath:function(filename){var splitPathRe=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;return splitPathRe.exec(filename).slice(1)},normalizeArray:function(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last===\".\"){parts.splice(i,1)}else if(last===\"..\"){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up;up--){parts.unshift(\"..\")}}return parts},normalize:function(path){var isAbsolute=path.charAt(0)===\"/\",trailingSlash=path.substr(-1)===\"/\";path=PATH.normalizeArray(path.split(\"/\").filter(function(p){return!!p}),!isAbsolute).join(\"/\");if(!path&&!isAbsolute){path=\".\"}if(path&&trailingSlash){path+=\"/\"}return(isAbsolute?\"/\":\"\")+path},dirname:function(path){var result=PATH.splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return\".\"}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir},basename:function(path){if(path===\"/\")return\"/\";var lastSlash=path.lastIndexOf(\"/\");if(lastSlash===-1)return path;return path.substr(lastSlash+1)},extname:function(path){return PATH.splitPath(path)[3]},join:function(){var paths=Array.prototype.slice.call(arguments,0);return PATH.normalize(paths.join(\"/\"))},join2:function(l,r){return PATH.normalize(l+\"/\"+r)}};var SYSCALLS={mappings:{},buffers:[null,[],[]],printChar:function(stream,curr){var buffer=SYSCALLS.buffers[stream];if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer,0));buffer.length=0}else{buffer.push(curr)}},varargs:undefined,get:function(){SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret},getStr:function(ptr){var ret=UTF8ToString(ptr);return ret},get64:function(low,high){return low}};function _fd_close(fd){return 0}function _fd_read(fd,iov,iovcnt,pnum){var stream=SYSCALLS.getStreamFromFD(fd);var num=SYSCALLS.doReadv(stream,iov,iovcnt);HEAP32[pnum>>2]=num;return 0}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){}function _fd_write(fd,iov,iovcnt,pnum){var num=0;for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];for(var j=0;j<len;j++){SYSCALLS.printChar(fd,HEAPU8[ptr+j])}num+=len}HEAP32[pnum>>2]=num;return 0}function _getTempRet0(){return getTempRet0()|0}function _gettimeofday(ptr){var now=Date.now();HEAP32[ptr>>2]=now/1e3|0;HEAP32[ptr+4>>2]=now%1e3*1e3|0;return 0}function __webgl_enable_ANGLE_instanced_arrays(ctx){var ext=ctx.getExtension(\"ANGLE_instanced_arrays\");if(ext){ctx[\"vertexAttribDivisor\"]=function(index,divisor){ext[\"vertexAttribDivisorANGLE\"](index,divisor)};ctx[\"drawArraysInstanced\"]=function(mode,first,count,primcount){ext[\"drawArraysInstancedANGLE\"](mode,first,count,primcount)};ctx[\"drawElementsInstanced\"]=function(mode,count,type,indices,primcount){ext[\"drawElementsInstancedANGLE\"](mode,count,type,indices,primcount)};return 1}}function __webgl_enable_OES_vertex_array_object(ctx){var ext=ctx.getExtension(\"OES_vertex_array_object\");if(ext){ctx[\"createVertexArray\"]=function(){return ext[\"createVertexArrayOES\"]()};ctx[\"deleteVertexArray\"]=function(vao){ext[\"deleteVertexArrayOES\"](vao)};ctx[\"bindVertexArray\"]=function(vao){ext[\"bindVertexArrayOES\"](vao)};ctx[\"isVertexArray\"]=function(vao){return ext[\"isVertexArrayOES\"](vao)};return 1}}function __webgl_enable_WEBGL_draw_buffers(ctx){var ext=ctx.getExtension(\"WEBGL_draw_buffers\");if(ext){ctx[\"drawBuffers\"]=function(n,bufs){ext[\"drawBuffersWEBGL\"](n,bufs)};return 1}}function __webgl_enable_WEBGL_draw_instanced_base_vertex_base_instance(ctx){return!!(ctx.dibvbi=ctx.getExtension(\"WEBGL_draw_instanced_base_vertex_base_instance\"))}var GL={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},timerQueriesEXT:[],queries:[],samplers:[],transformFeedbacks:[],syncs:[],programInfos:{},stringCache:{},stringiCache:{},unpackAlignment:4,recordError:function recordError(errorCode){if(!GL.lastError){GL.lastError=errorCode}},getNewId:function(table){var ret=GL.counter++;for(var i=table.length;i<ret;i++){table[i]=null}return ret},getSource:function(shader,count,string,length){var source=\"\";for(var i=0;i<count;++i){var len=length?HEAP32[length+i*4>>2]:-1;source+=UTF8ToString(HEAP32[string+i*4>>2],len<0?undefined:len)}return source},createContext:function(canvas,webGLContextAttributes){var ctx=webGLContextAttributes.majorVersion>1?canvas.getContext(\"webgl2\",webGLContextAttributes):canvas.getContext(\"webgl\",webGLContextAttributes);if(!ctx)return 0;var handle=GL.registerContext(ctx,webGLContextAttributes);return handle},registerContext:function(ctx,webGLContextAttributes){var handle=GL.getNewId(GL.contexts);var context={handle:handle,attributes:webGLContextAttributes,version:webGLContextAttributes.majorVersion,GLctx:ctx};if(ctx.canvas)ctx.canvas.GLctxObject=context;GL.contexts[handle]=context;if(typeof webGLContextAttributes.enableExtensionsByDefault===\"undefined\"||webGLContextAttributes.enableExtensionsByDefault){GL.initExtensions(context)}return handle},makeContextCurrent:function(contextHandle){GL.currentContext=GL.contexts[contextHandle];Module.ctx=GLctx=GL.currentContext&&GL.currentContext.GLctx;return!(contextHandle&&!GLctx)},getContext:function(contextHandle){return GL.contexts[contextHandle]},deleteContext:function(contextHandle){if(GL.currentContext===GL.contexts[contextHandle])GL.currentContext=null;if(typeof JSEvents===\"object\")JSEvents.removeAllHandlersOnTarget(GL.contexts[contextHandle].GLctx.canvas);if(GL.contexts[contextHandle]&&GL.contexts[contextHandle].GLctx.canvas)GL.contexts[contextHandle].GLctx.canvas.GLctxObject=undefined;GL.contexts[contextHandle]=null},initExtensions:function(context){if(!context)context=GL.currentContext;if(context.initExtensionsDone)return;context.initExtensionsDone=true;var GLctx=context.GLctx;__webgl_enable_ANGLE_instanced_arrays(GLctx);__webgl_enable_OES_vertex_array_object(GLctx);__webgl_enable_WEBGL_draw_buffers(GLctx);__webgl_enable_WEBGL_draw_instanced_base_vertex_base_instance(GLctx);GLctx.disjointTimerQueryExt=GLctx.getExtension(\"EXT_disjoint_timer_query\");var automaticallyEnabledExtensions=[\"OES_texture_float\",\"OES_texture_half_float\",\"OES_standard_derivatives\",\"OES_vertex_array_object\",\"WEBGL_compressed_texture_s3tc\",\"WEBGL_depth_texture\",\"OES_element_index_uint\",\"EXT_texture_filter_anisotropic\",\"EXT_frag_depth\",\"WEBGL_draw_buffers\",\"ANGLE_instanced_arrays\",\"OES_texture_float_linear\",\"OES_texture_half_float_linear\",\"EXT_blend_minmax\",\"EXT_shader_texture_lod\",\"EXT_texture_norm16\",\"WEBGL_compressed_texture_pvrtc\",\"EXT_color_buffer_half_float\",\"WEBGL_color_buffer_float\",\"EXT_sRGB\",\"WEBGL_compressed_texture_etc1\",\"EXT_disjoint_timer_query\",\"WEBGL_compressed_texture_etc\",\"WEBGL_compressed_texture_astc\",\"EXT_color_buffer_float\",\"WEBGL_compressed_texture_s3tc_srgb\",\"EXT_disjoint_timer_query_webgl2\",\"WEBKIT_WEBGL_compressed_texture_pvrtc\"];var exts=GLctx.getSupportedExtensions()||[];exts.forEach(function(ext){if(automaticallyEnabledExtensions.indexOf(ext)!=-1){GLctx.getExtension(ext)}})},populateUniformTable:function(program){var p=GL.programs[program];var ptable=GL.programInfos[program]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1};var utable=ptable.uniforms;var numUniforms=GLctx.getProgramParameter(p,35718);for(var i=0;i<numUniforms;++i){var u=GLctx.getActiveUniform(p,i);var name=u.name;ptable.maxUniformLength=Math.max(ptable.maxUniformLength,name.length+1);if(name.slice(-1)==\"]\"){name=name.slice(0,name.lastIndexOf(\"[\"))}var loc=GLctx.getUniformLocation(p,name);if(loc){var id=GL.getNewId(GL.uniforms);utable[name]=[u.size,id];GL.uniforms[id]=loc;for(var j=1;j<u.size;++j){var n=name+\"[\"+j+\"]\";loc=GLctx.getUniformLocation(p,n);id=GL.getNewId(GL.uniforms);GL.uniforms[id]=loc}}}}};function _glActiveTexture(x0){GLctx[\"activeTexture\"](x0)}function _glAttachShader(program,shader){GLctx.attachShader(GL.programs[program],GL.shaders[shader])}function _glBindAttribLocation(program,index,name){GLctx.bindAttribLocation(GL.programs[program],index,UTF8ToString(name))}function _glBindBuffer(target,buffer){if(target==35051){GLctx.currentPixelPackBufferBinding=buffer}else if(target==35052){GLctx.currentPixelUnpackBufferBinding=buffer}GLctx.bindBuffer(target,GL.buffers[buffer])}function _glBindTexture(target,texture){GLctx.bindTexture(target,GL.textures[texture])}function _glBlendColor(x0,x1,x2,x3){GLctx[\"blendColor\"](x0,x1,x2,x3)}function _glBlendFunc(x0,x1){GLctx[\"blendFunc\"](x0,x1)}function _glBlendFuncSeparate(x0,x1,x2,x3){GLctx[\"blendFuncSeparate\"](x0,x1,x2,x3)}function _glBufferData(target,size,data,usage){if(GL.currentContext.version>=2){if(data){GLctx.bufferData(target,HEAPU8,usage,data,size)}else{GLctx.bufferData(target,size,usage)}}else{GLctx.bufferData(target,data?HEAPU8.subarray(data,data+size):size,usage)}}function _glClear(x0){GLctx[\"clear\"](x0)}function _glClearColor(x0,x1,x2,x3){GLctx[\"clearColor\"](x0,x1,x2,x3)}function _glColorMask(red,green,blue,alpha){GLctx.colorMask(!!red,!!green,!!blue,!!alpha)}function _glCompileShader(shader){GLctx.compileShader(GL.shaders[shader])}function _glCreateProgram(){var id=GL.getNewId(GL.programs);var program=GLctx.createProgram();program.name=id;GL.programs[id]=program;return id}function _glCreateShader(shaderType){var id=GL.getNewId(GL.shaders);GL.shaders[id]=GLctx.createShader(shaderType);return id}function _glCullFace(x0){GLctx[\"cullFace\"](x0)}function _glDeleteBuffers(n,buffers){for(var i=0;i<n;i++){var id=HEAP32[buffers+i*4>>2];var buffer=GL.buffers[id];if(!buffer)continue;GLctx.deleteBuffer(buffer);buffer.name=0;GL.buffers[id]=null;if(id==GLctx.currentPixelPackBufferBinding)GLctx.currentPixelPackBufferBinding=0;if(id==GLctx.currentPixelUnpackBufferBinding)GLctx.currentPixelUnpackBufferBinding=0}}function _glDeleteProgram(id){if(!id)return;var program=GL.programs[id];if(!program){GL.recordError(1281);return}GLctx.deleteProgram(program);program.name=0;GL.programs[id]=null;GL.programInfos[id]=null}function _glDeleteShader(id){if(!id)return;var shader=GL.shaders[id];if(!shader){GL.recordError(1281);return}GLctx.deleteShader(shader);GL.shaders[id]=null}function _glDeleteTextures(n,textures){for(var i=0;i<n;i++){var id=HEAP32[textures+i*4>>2];var texture=GL.textures[id];if(!texture)continue;GLctx.deleteTexture(texture);texture.name=0;GL.textures[id]=null}}function _glDepthFunc(x0){GLctx[\"depthFunc\"](x0)}function _glDepthMask(flag){GLctx.depthMask(!!flag)}function _glDisable(x0){GLctx[\"disable\"](x0)}function _glDisableVertexAttribArray(index){GLctx.disableVertexAttribArray(index)}function _glDrawArrays(mode,first,count){GLctx.drawArrays(mode,first,count)}function _glDrawElements(mode,count,type,indices){GLctx.drawElements(mode,count,type,indices)}function _glEnable(x0){GLctx[\"enable\"](x0)}function _glEnableVertexAttribArray(index){GLctx.enableVertexAttribArray(index)}function _glFinish(){GLctx[\"finish\"]()}function _glFrontFace(x0){GLctx[\"frontFace\"](x0)}function __glGenObject(n,buffers,createFunction,objectTable){for(var i=0;i<n;i++){var buffer=GLctx[createFunction]();var id=buffer&&GL.getNewId(objectTable);if(buffer){buffer.name=id;objectTable[id]=buffer}else{GL.recordError(1282)}HEAP32[buffers+i*4>>2]=id}}function _glGenBuffers(n,buffers){__glGenObject(n,buffers,\"createBuffer\",GL.buffers)}function _glGenTextures(n,textures){__glGenObject(n,textures,\"createTexture\",GL.textures)}function _glGenerateMipmap(x0){GLctx[\"generateMipmap\"](x0)}function __glGetActiveAttribOrUniform(funcName,program,index,bufSize,length,size,type,name){program=GL.programs[program];var info=GLctx[funcName](program,index);if(info){var numBytesWrittenExclNull=name&&stringToUTF8(info.name,name,bufSize);if(length)HEAP32[length>>2]=numBytesWrittenExclNull;if(size)HEAP32[size>>2]=info.size;if(type)HEAP32[type>>2]=info.type}}function _glGetActiveUniform(program,index,bufSize,length,size,type,name){__glGetActiveAttribOrUniform(\"getActiveUniform\",program,index,bufSize,length,size,type,name)}function _glGetError(){var error=GLctx.getError()||GL.lastError;GL.lastError=0;return error}function writeI53ToI64(ptr,num){HEAPU32[ptr>>2]=num;HEAPU32[ptr+4>>2]=(num-HEAPU32[ptr>>2])/4294967296}function emscriptenWebGLGet(name_,p,type){if(!p){GL.recordError(1281);return}var ret=undefined;switch(name_){case 36346:ret=1;break;case 36344:if(type!=0&&type!=1){GL.recordError(1280)}return;case 34814:case 36345:ret=0;break;case 34466:var formats=GLctx.getParameter(34467);ret=formats?formats.length:0;break;case 33309:if(GL.currentContext.version<2){GL.recordError(1282);return}var exts=GLctx.getSupportedExtensions()||[];ret=2*exts.length;break;case 33307:case 33308:if(GL.currentContext.version<2){GL.recordError(1280);return}ret=name_==33307?3:0;break}if(ret===undefined){var result=GLctx.getParameter(name_);switch(typeof result){case\"number\":ret=result;break;case\"boolean\":ret=result?1:0;break;case\"string\":GL.recordError(1280);return;case\"object\":if(result===null){switch(name_){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:{ret=0;break}default:{GL.recordError(1280);return}}}else if(result instanceof Float32Array||result instanceof Uint32Array||result instanceof Int32Array||result instanceof Array){for(var i=0;i<result.length;++i){switch(type){case 0:HEAP32[p+i*4>>2]=result[i];break;case 2:HEAPF32[p+i*4>>2]=result[i];break;case 4:HEAP8[p+i>>0]=result[i]?1:0;break}}return}else{try{ret=result.name|0}catch(e){GL.recordError(1280);err(\"GL_INVALID_ENUM in glGet\"+type+\"v: Unknown object returned from WebGL getParameter(\"+name_+\")! (error: \"+e+\")\");return}}break;default:GL.recordError(1280);err(\"GL_INVALID_ENUM in glGet\"+type+\"v: Native code calling glGet\"+type+\"v(\"+name_+\") and it returns \"+result+\" of type \"+typeof result+\"!\");return}}switch(type){case 1:writeI53ToI64(p,ret);break;case 0:HEAP32[p>>2]=ret;break;case 2:HEAPF32[p>>2]=ret;break;case 4:HEAP8[p>>0]=ret?1:0;break}}function _glGetIntegerv(name_,p){emscriptenWebGLGet(name_,p,0)}function _glGetProgramInfoLog(program,maxLength,length,infoLog){var log=GLctx.getProgramInfoLog(GL.programs[program]);if(log===null)log=\"(unknown error)\";var numBytesWrittenExclNull=maxLength>0&&infoLog?stringToUTF8(log,infoLog,maxLength):0;if(length)HEAP32[length>>2]=numBytesWrittenExclNull}function _glGetProgramiv(program,pname,p){if(!p){GL.recordError(1281);return}if(program>=GL.counter){GL.recordError(1281);return}var ptable=GL.programInfos[program];if(!ptable){GL.recordError(1282);return}if(pname==35716){var log=GLctx.getProgramInfoLog(GL.programs[program]);if(log===null)log=\"(unknown error)\";HEAP32[p>>2]=log.length+1}else if(pname==35719){HEAP32[p>>2]=ptable.maxUniformLength}else if(pname==35722){if(ptable.maxAttributeLength==-1){program=GL.programs[program];var numAttribs=GLctx.getProgramParameter(program,35721);ptable.maxAttributeLength=0;for(var i=0;i<numAttribs;++i){var activeAttrib=GLctx.getActiveAttrib(program,i);ptable.maxAttributeLength=Math.max(ptable.maxAttributeLength,activeAttrib.name.length+1)}}HEAP32[p>>2]=ptable.maxAttributeLength}else if(pname==35381){if(ptable.maxUniformBlockNameLength==-1){program=GL.programs[program];var numBlocks=GLctx.getProgramParameter(program,35382);ptable.maxUniformBlockNameLength=0;for(var i=0;i<numBlocks;++i){var activeBlockName=GLctx.getActiveUniformBlockName(program,i);ptable.maxUniformBlockNameLength=Math.max(ptable.maxUniformBlockNameLength,activeBlockName.length+1)}}HEAP32[p>>2]=ptable.maxUniformBlockNameLength}else{HEAP32[p>>2]=GLctx.getProgramParameter(GL.programs[program],pname)}}function _glGetShaderInfoLog(shader,maxLength,length,infoLog){var log=GLctx.getShaderInfoLog(GL.shaders[shader]);if(log===null)log=\"(unknown error)\";var numBytesWrittenExclNull=maxLength>0&&infoLog?stringToUTF8(log,infoLog,maxLength):0;if(length)HEAP32[length>>2]=numBytesWrittenExclNull}function _glGetShaderiv(shader,pname,p){if(!p){GL.recordError(1281);return}if(pname==35716){var log=GLctx.getShaderInfoLog(GL.shaders[shader]);if(log===null)log=\"(unknown error)\";HEAP32[p>>2]=log.length+1}else if(pname==35720){var source=GLctx.getShaderSource(GL.shaders[shader]);var sourceLength=source===null||source.length==0?0:source.length+1;HEAP32[p>>2]=sourceLength}else{HEAP32[p>>2]=GLctx.getShaderParameter(GL.shaders[shader],pname)}}function jstoi_q(str){return parseInt(str)}function _glGetUniformLocation(program,name){name=UTF8ToString(name);var arrayIndex=0;if(name[name.length-1]==\"]\"){var leftBrace=name.lastIndexOf(\"[\");arrayIndex=name[leftBrace+1]!=\"]\"?jstoi_q(name.slice(leftBrace+1)):0;name=name.slice(0,leftBrace)}var uniformInfo=GL.programInfos[program]&&GL.programInfos[program].uniforms[name];if(uniformInfo&&arrayIndex>=0&&arrayIndex<uniformInfo[0]){return uniformInfo[1]+arrayIndex}else{return-1}}function _glLineWidth(x0){GLctx[\"lineWidth\"](x0)}function _glLinkProgram(program){GLctx.linkProgram(GL.programs[program]);GL.populateUniformTable(program)}function _glPixelStorei(pname,param){if(pname==3317){GL.unpackAlignment=param}GLctx.pixelStorei(pname,param)}function _glShaderSource(shader,count,string,length){var source=GL.getSource(shader,count,string,length);GLctx.shaderSource(GL.shaders[shader],source)}function _glStencilFunc(x0,x1,x2){GLctx[\"stencilFunc\"](x0,x1,x2)}function _glStencilMask(x0){GLctx[\"stencilMask\"](x0)}function _glStencilOp(x0,x1,x2){GLctx[\"stencilOp\"](x0,x1,x2)}function _glStencilOpSeparate(x0,x1,x2,x3){GLctx[\"stencilOpSeparate\"](x0,x1,x2,x3)}function __computeUnpackAlignedImageSize(width,height,sizePerPixel,alignment){function roundedToNextMultipleOf(x,y){return x+y-1&-y}var plainRowSize=width*sizePerPixel;var alignedRowSize=roundedToNextMultipleOf(plainRowSize,alignment);return height*alignedRowSize}function __colorChannelsInGlTextureFormat(format){var colorChannels={5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4};return colorChannels[format-6402]||1}function __heapObjectForWebGLType(type){type-=5120;if(type==0)return HEAP8;if(type==1)return HEAPU8;if(type==2)return HEAP16;if(type==4)return HEAP32;if(type==6)return HEAPF32;if(type==5||type==28922||type==28520||type==30779||type==30782)return HEAPU32;return HEAPU16}function __heapAccessShiftForWebGLHeap(heap){return 31-Math.clz32(heap.BYTES_PER_ELEMENT)}function emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,internalFormat){var heap=__heapObjectForWebGLType(type);var shift=__heapAccessShiftForWebGLHeap(heap);var byteSize=1<<shift;var sizePerPixel=__colorChannelsInGlTextureFormat(format)*byteSize;var bytes=__computeUnpackAlignedImageSize(width,height,sizePerPixel,GL.unpackAlignment);return heap.subarray(pixels>>shift,pixels+bytes>>shift)}function _glTexImage2D(target,level,internalFormat,width,height,border,format,type,pixels){if(GL.currentContext.version>=2){if(GLctx.currentPixelUnpackBufferBinding){GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,pixels)}else if(pixels){var heap=__heapObjectForWebGLType(type);GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,heap,pixels>>__heapAccessShiftForWebGLHeap(heap))}else{GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,null)}return}GLctx.texImage2D(target,level,internalFormat,width,height,border,format,type,pixels?emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,internalFormat):null)}function _glTexParameterf(x0,x1,x2){GLctx[\"texParameterf\"](x0,x1,x2)}function _glTexParameteri(x0,x1,x2){GLctx[\"texParameteri\"](x0,x1,x2)}function _glTexSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixels){if(GL.currentContext.version>=2){if(GLctx.currentPixelUnpackBufferBinding){GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixels)}else if(pixels){var heap=__heapObjectForWebGLType(type);GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,heap,pixels>>__heapAccessShiftForWebGLHeap(heap))}else{GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,null)}return}var pixelData=null;if(pixels)pixelData=emscriptenWebGLGetTexPixelData(type,format,width,height,pixels,0);GLctx.texSubImage2D(target,level,xoffset,yoffset,width,height,format,type,pixelData)}function _glUniform1f(location,v0){GLctx.uniform1f(GL.uniforms[location],v0)}var __miniTempWebGLFloatBuffers=[];function _glUniform1fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform1fv(GL.uniforms[location],HEAPF32,value>>2,count);return}if(count<=288){var view=__miniTempWebGLFloatBuffers[count-1];for(var i=0;i<count;++i){view[i]=HEAPF32[value+4*i>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*4>>2)}GLctx.uniform1fv(GL.uniforms[location],view)}function _glUniform1i(location,v0){GLctx.uniform1i(GL.uniforms[location],v0)}function _glUniform2fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform2fv(GL.uniforms[location],HEAPF32,value>>2,count*2);return}if(count<=144){var view=__miniTempWebGLFloatBuffers[2*count-1];for(var i=0;i<2*count;i+=2){view[i]=HEAPF32[value+4*i>>2];view[i+1]=HEAPF32[value+(4*i+4)>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*8>>2)}GLctx.uniform2fv(GL.uniforms[location],view)}function _glUniform3fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform3fv(GL.uniforms[location],HEAPF32,value>>2,count*3);return}if(count<=96){var view=__miniTempWebGLFloatBuffers[3*count-1];for(var i=0;i<3*count;i+=3){view[i]=HEAPF32[value+4*i>>2];view[i+1]=HEAPF32[value+(4*i+4)>>2];view[i+2]=HEAPF32[value+(4*i+8)>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*12>>2)}GLctx.uniform3fv(GL.uniforms[location],view)}function _glUniform4fv(location,count,value){if(GL.currentContext.version>=2){GLctx.uniform4fv(GL.uniforms[location],HEAPF32,value>>2,count*4);return}if(count<=72){var view=__miniTempWebGLFloatBuffers[4*count-1];var heap=HEAPF32;value>>=2;for(var i=0;i<4*count;i+=4){var dst=value+i;view[i]=heap[dst];view[i+1]=heap[dst+1];view[i+2]=heap[dst+2];view[i+3]=heap[dst+3]}}else{var view=HEAPF32.subarray(value>>2,value+count*16>>2)}GLctx.uniform4fv(GL.uniforms[location],view)}function _glUniformMatrix3fv(location,count,transpose,value){if(GL.currentContext.version>=2){GLctx.uniformMatrix3fv(GL.uniforms[location],!!transpose,HEAPF32,value>>2,count*9);return}if(count<=32){var view=__miniTempWebGLFloatBuffers[9*count-1];for(var i=0;i<9*count;i+=9){view[i]=HEAPF32[value+4*i>>2];view[i+1]=HEAPF32[value+(4*i+4)>>2];view[i+2]=HEAPF32[value+(4*i+8)>>2];view[i+3]=HEAPF32[value+(4*i+12)>>2];view[i+4]=HEAPF32[value+(4*i+16)>>2];view[i+5]=HEAPF32[value+(4*i+20)>>2];view[i+6]=HEAPF32[value+(4*i+24)>>2];view[i+7]=HEAPF32[value+(4*i+28)>>2];view[i+8]=HEAPF32[value+(4*i+32)>>2]}}else{var view=HEAPF32.subarray(value>>2,value+count*36>>2)}GLctx.uniformMatrix3fv(GL.uniforms[location],!!transpose,view)}function _glUniformMatrix4fv(location,count,transpose,value){if(GL.currentContext.version>=2){GLctx.uniformMatrix4fv(GL.uniforms[location],!!transpose,HEAPF32,value>>2,count*16);return}if(count<=18){var view=__miniTempWebGLFloatBuffers[16*count-1];var heap=HEAPF32;value>>=2;for(var i=0;i<16*count;i+=16){var dst=value+i;view[i]=heap[dst];view[i+1]=heap[dst+1];view[i+2]=heap[dst+2];view[i+3]=heap[dst+3];view[i+4]=heap[dst+4];view[i+5]=heap[dst+5];view[i+6]=heap[dst+6];view[i+7]=heap[dst+7];view[i+8]=heap[dst+8];view[i+9]=heap[dst+9];view[i+10]=heap[dst+10];view[i+11]=heap[dst+11];view[i+12]=heap[dst+12];view[i+13]=heap[dst+13];view[i+14]=heap[dst+14];view[i+15]=heap[dst+15]}}else{var view=HEAPF32.subarray(value>>2,value+count*64>>2)}GLctx.uniformMatrix4fv(GL.uniforms[location],!!transpose,view)}function _glUseProgram(program){GLctx.useProgram(GL.programs[program])}function _glVertexAttribPointer(index,size,type,normalized,stride,ptr){GLctx.vertexAttribPointer(index,size,type,!!normalized,stride,ptr)}function _glViewport(x0,x1,x2,x3){GLctx[\"viewport\"](x0,x1,x2,x3)}function _round(d){d=+d;return d>=+0?+Math_floor(d+ +.5):+Math_ceil(d-+.5)}function _roundf(d){d=+d;return d>=+0?+Math_floor(d+ +.5):+Math_ceil(d-+.5)}function _setTempRet0($i){setTempRet0($i|0)}Module[\"requestFullscreen\"]=function Module_requestFullscreen(lockPointer,resizeCanvas){Browser.requestFullscreen(lockPointer,resizeCanvas)};Module[\"requestAnimationFrame\"]=function Module_requestAnimationFrame(func){Browser.requestAnimationFrame(func)};Module[\"setCanvasSize\"]=function Module_setCanvasSize(width,height,noUpdates){Browser.setCanvasSize(width,height,noUpdates)};Module[\"pauseMainLoop\"]=function Module_pauseMainLoop(){Browser.mainLoop.pause()};Module[\"resumeMainLoop\"]=function Module_resumeMainLoop(){Browser.mainLoop.resume()};Module[\"getUserMedia\"]=function Module_getUserMedia(){Browser.getUserMedia()};Module[\"createContext\"]=function Module_createContext(canvas,useWebGL,setInModule,webGLContextAttributes){return Browser.createContext(canvas,useWebGL,setInModule,webGLContextAttributes)};var GLctx;var __miniTempWebGLFloatBuffersStorage=new Float32Array(288);for(var i=0;i<288;++i){__miniTempWebGLFloatBuffers[i]=__miniTempWebGLFloatBuffersStorage.subarray(0,i+1)}function intArrayFromString(stringy,dontAddNull,length){var len=length>0?length:lengthBytesUTF8(stringy)+1;var u8array=new Array(len);var numBytesWritten=stringToUTF8Array(stringy,u8array,0,u8array.length);if(dontAddNull)u8array.length=numBytesWritten;return u8array}var asmLibraryArg={\"ka\":_emscripten_async_wget2_abort,\"ja\":_emscripten_async_wget2_data,\"e\":_emscripten_longjmp,\"fa\":_emscripten_memcpy_big,\"ga\":_emscripten_resize_heap,\"a\":_exit,\"ia\":_fd_close,\"ha\":_fd_read,\"ea\":_fd_seek,\"T\":_fd_write,\"i\":_getTempRet0,\"H\":_gettimeofday,\"o\":_glActiveTexture,\"z\":_glAttachShader,\"I\":_glBindAttribLocation,\"t\":_glBindBuffer,\"d\":_glBindTexture,\"Z\":_glBlendColor,\"C\":_glBlendFunc,\"l\":_glBlendFuncSeparate,\"w\":_glBufferData,\"_\":_glClear,\"ya\":_glClearColor,\"m\":_glColorMask,\"K\":_glCompileShader,\"Y\":_glCreateProgram,\"B\":_glCreateShader,\"n\":_glCullFace,\"v\":_glDeleteBuffers,\"za\":_glDeleteProgram,\"$\":_glDeleteShader,\"R\":_glDeleteTextures,\"wa\":_glDepthFunc,\"s\":_glDepthMask,\"c\":_glDisable,\"N\":_glDisableVertexAttribArray,\"h\":_glDrawArrays,\"ra\":_glDrawElements,\"b\":_glEnable,\"Q\":_glEnableVertexAttribArray,\"Ca\":_glFinish,\"Aa\":_glFrontFace,\"x\":_glGenBuffers,\"F\":_glGenTextures,\"da\":_glGenerateMipmap,\"qa\":_glGetActiveUniform,\"f\":_glGetError,\"ta\":_glGetIntegerv,\"W\":_glGetProgramInfoLog,\"y\":_glGetProgramiv,\"J\":_glGetShaderInfoLog,\"A\":_glGetShaderiv,\"G\":_glGetUniformLocation,\"ua\":_glLineWidth,\"X\":_glLinkProgram,\"E\":_glPixelStorei,\"L\":_glShaderSource,\"p\":_glStencilFunc,\"D\":_glStencilMask,\"q\":_glStencilOp,\"aa\":_glStencilOpSeparate,\"S\":_glTexImage2D,\"U\":_glTexParameterf,\"u\":_glTexParameteri,\"Ba\":_glTexSubImage2D,\"na\":_glUniform1f,\"ma\":_glUniform1fv,\"ca\":_glUniform1i,\"ba\":_glUniform2fv,\"pa\":_glUniform3fv,\"O\":_glUniform4fv,\"la\":_glUniformMatrix3fv,\"V\":_glUniformMatrix4fv,\"j\":_glUseProgram,\"P\":_glVertexAttribPointer,\"xa\":_glViewport,\"va\":invoke_ii,\"sa\":invoke_iii,\"r\":invoke_vii,\"oa\":invoke_viiiii,\"memory\":wasmMemory,\"k\":_round,\"M\":_roundf,\"g\":_setTempRet0,\"table\":wasmTable};var asm=createWasm();var ___wasm_call_ctors=Module[\"___wasm_call_ctors\"]=function(){return(___wasm_call_ctors=Module[\"___wasm_call_ctors\"]=Module[\"asm\"][\"Da\"]).apply(null,arguments)};var _free=Module[\"_free\"]=function(){return(_free=Module[\"_free\"]=Module[\"asm\"][\"Ea\"]).apply(null,arguments)};var _malloc=Module[\"_malloc\"]=function(){return(_malloc=Module[\"_malloc\"]=Module[\"asm\"][\"Fa\"]).apply(null,arguments)};var _observer_update=Module[\"_observer_update\"]=function(){return(_observer_update=Module[\"_observer_update\"]=Module[\"asm\"][\"Ga\"]).apply(null,arguments)};var _convert_frame=Module[\"_convert_frame\"]=function(){return(_convert_frame=Module[\"_convert_frame\"]=Module[\"asm\"][\"Ha\"]).apply(null,arguments)};var _convert_framev4=Module[\"_convert_framev4\"]=function(){return(_convert_framev4=Module[\"_convert_framev4\"]=Module[\"asm\"][\"Ia\"]).apply(null,arguments)};var _sys_set_translate_function=Module[\"_sys_set_translate_function\"]=function(){return(_sys_set_translate_function=Module[\"_sys_set_translate_function\"]=Module[\"asm\"][\"Ja\"]).apply(null,arguments)};var _designation_cleanup=Module[\"_designation_cleanup\"]=function(){return(_designation_cleanup=Module[\"_designation_cleanup\"]=Module[\"asm\"][\"Ka\"]).apply(null,arguments)};var _obj_release=Module[\"_obj_release\"]=function(){return(_obj_release=Module[\"_obj_release\"]=Module[\"asm\"][\"La\"]).apply(null,arguments)};var _obj_create_str=Module[\"_obj_create_str\"]=function(){return(_obj_create_str=Module[\"_obj_create_str\"]=Module[\"asm\"][\"Ma\"]).apply(null,arguments)};var _obj_retain=Module[\"_obj_retain\"]=function(){return(_obj_retain=Module[\"_obj_retain\"]=Module[\"asm\"][\"Na\"]).apply(null,arguments)};var _obj_clone=Module[\"_obj_clone\"]=function(){return(_obj_clone=Module[\"_obj_clone\"]=Module[\"asm\"][\"Oa\"]).apply(null,arguments)};var _obj_get_designations=Module[\"_obj_get_designations\"]=function(){return(_obj_get_designations=Module[\"_obj_get_designations\"]=Module[\"asm\"][\"Pa\"]).apply(null,arguments)};var _obj_get_info_json=Module[\"_obj_get_info_json\"]=function(){return(_obj_get_info_json=Module[\"_obj_get_info_json\"]=Module[\"asm\"][\"Qa\"]).apply(null,arguments)};var _obj_get_id=Module[\"_obj_get_id\"]=function(){return(_obj_get_id=Module[\"_obj_get_id\"]=Module[\"asm\"][\"Ra\"]).apply(null,arguments)};var _obj_get_json_data_str=Module[\"_obj_get_json_data_str\"]=function(){return(_obj_get_json_data_str=Module[\"_obj_get_json_data_str\"]=Module[\"asm\"][\"Sa\"]).apply(null,arguments)};var _obj_get_attr_=Module[\"_obj_get_attr_\"]=function(){return(_obj_get_attr_=Module[\"_obj_get_attr_\"]=Module[\"asm\"][\"Ta\"]).apply(null,arguments)};var _obj_foreach_attr=Module[\"_obj_foreach_attr\"]=function(){return(_obj_foreach_attr=Module[\"_obj_foreach_attr\"]=Module[\"asm\"][\"Ua\"]).apply(null,arguments)};var _obj_foreach_child=Module[\"_obj_foreach_child\"]=function(){return(_obj_foreach_child=Module[\"_obj_foreach_child\"]=Module[\"asm\"][\"Va\"]).apply(null,arguments)};var _obj_call_json_str=Module[\"_obj_call_json_str\"]=function(){return(_obj_call_json_str=Module[\"_obj_call_json_str\"]=Module[\"asm\"][\"Wa\"]).apply(null,arguments)};var _module_get_child=Module[\"_module_get_child\"]=function(){return(_module_get_child=Module[\"_module_get_child\"]=Module[\"asm\"][\"Xa\"]).apply(null,arguments)};var _core_add_font=Module[\"_core_add_font\"]=function(){return(_core_add_font=Module[\"_core_add_font\"]=Module[\"asm\"][\"Ya\"]).apply(null,arguments)};var _module_update=Module[\"_module_update\"]=function(){return(_module_update=Module[\"_module_update\"]=Module[\"asm\"][\"Za\"]).apply(null,arguments)};var _module_list_objs2=Module[\"_module_list_objs2\"]=function(){return(_module_list_objs2=Module[\"_module_list_objs2\"]=Module[\"asm\"][\"_a\"]).apply(null,arguments)};var _module_add_data_source=Module[\"_module_add_data_source\"]=function(){return(_module_add_data_source=Module[\"_module_add_data_source\"]=Module[\"asm\"][\"$a\"]).apply(null,arguments)};var _module_add_global_listener=Module[\"_module_add_global_listener\"]=function(){return(_module_add_global_listener=Module[\"_module_add_global_listener\"]=Module[\"asm\"][\"ab\"]).apply(null,arguments)};var _module_add=Module[\"_module_add\"]=function(){return(_module_add=Module[\"_module_add\"]=Module[\"asm\"][\"bb\"]).apply(null,arguments)};var _module_add_new=Module[\"_module_add_new\"]=function(){return(_module_add_new=Module[\"_module_add_new\"]=Module[\"asm\"][\"cb\"]).apply(null,arguments)};var _module_remove=Module[\"_module_remove\"]=function(){return(_module_remove=Module[\"_module_remove\"]=Module[\"asm\"][\"db\"]).apply(null,arguments)};var _module_get_tree=Module[\"_module_get_tree\"]=function(){return(_module_get_tree=Module[\"_module_get_tree\"]=Module[\"asm\"][\"eb\"]).apply(null,arguments)};var _module_get_path=Module[\"_module_get_path\"]=function(){return(_module_get_path=Module[\"_module_get_path\"]=Module[\"asm\"][\"fb\"]).apply(null,arguments)};var _core_get_module=Module[\"_core_get_module\"]=function(){return(_core_get_module=Module[\"_core_get_module\"]=Module[\"asm\"][\"gb\"]).apply(null,arguments)};var _core_init=Module[\"_core_init\"]=function(){return(_core_init=Module[\"_core_init\"]=Module[\"asm\"][\"hb\"]).apply(null,arguments)};var _core_update=Module[\"_core_update\"]=function(){return(_core_update=Module[\"_core_update\"]=Module[\"asm\"][\"ib\"]).apply(null,arguments)};var _core_render=Module[\"_core_render\"]=function(){return(_core_render=Module[\"_core_render\"]=Module[\"asm\"][\"jb\"]).apply(null,arguments)};var _core_on_mouse=Module[\"_core_on_mouse\"]=function(){return(_core_on_mouse=Module[\"_core_on_mouse\"]=Module[\"asm\"][\"kb\"]).apply(null,arguments)};var _core_on_pinch=Module[\"_core_on_pinch\"]=function(){return(_core_on_pinch=Module[\"_core_on_pinch\"]=Module[\"asm\"][\"lb\"]).apply(null,arguments)};var _core_on_key=Module[\"_core_on_key\"]=function(){return(_core_on_key=Module[\"_core_on_key\"]=Module[\"asm\"][\"mb\"]).apply(null,arguments)};var _core_on_zoom=Module[\"_core_on_zoom\"]=function(){return(_core_on_zoom=Module[\"_core_on_zoom\"]=Module[\"asm\"][\"nb\"]).apply(null,arguments)};var _core_lookat=Module[\"_core_lookat\"]=function(){return(_core_lookat=Module[\"_core_lookat\"]=Module[\"asm\"][\"ob\"]).apply(null,arguments)};var _core_point_and_lock=Module[\"_core_point_and_lock\"]=function(){return(_core_point_and_lock=Module[\"_core_point_and_lock\"]=Module[\"asm\"][\"pb\"]).apply(null,arguments)};var _core_zoomto=Module[\"_core_zoomto\"]=function(){return(_core_zoomto=Module[\"_core_zoomto\"]=Module[\"asm\"][\"qb\"]).apply(null,arguments)};var _core_set_time=Module[\"_core_set_time\"]=function(){return(_core_set_time=Module[\"_core_set_time\"]=Module[\"asm\"][\"rb\"]).apply(null,arguments)};var _otype_to_str=Module[\"_otype_to_str\"]=function(){return(_otype_to_str=Module[\"_otype_to_str\"]=Module[\"asm\"][\"sb\"]).apply(null,arguments)};var _core_search=Module[\"_core_search\"]=function(){return(_core_search=Module[\"_core_search\"]=Module[\"asm\"][\"tb\"]).apply(null,arguments)};var _compute_event=Module[\"_compute_event\"]=function(){return(_compute_event=Module[\"_compute_event\"]=Module[\"asm\"][\"ub\"]).apply(null,arguments)};var _get_compiler_str=Module[\"_get_compiler_str\"]=function(){return(_get_compiler_str=Module[\"_get_compiler_str\"]=Module[\"asm\"][\"vb\"]).apply(null,arguments)};var _a2tf_json=Module[\"_a2tf_json\"]=function(){return(_a2tf_json=Module[\"_a2tf_json\"]=Module[\"asm\"][\"wb\"]).apply(null,arguments)};var _a2af_json=Module[\"_a2af_json\"]=function(){return(_a2af_json=Module[\"_a2af_json\"]=Module[\"asm\"][\"xb\"]).apply(null,arguments)};var _geojson_set_bool_ptr_=Module[\"_geojson_set_bool_ptr_\"]=function(){return(_geojson_set_bool_ptr_=Module[\"_geojson_set_bool_ptr_\"]=Module[\"asm\"][\"yb\"]).apply(null,arguments)};var _geojson_set_color_ptr_=Module[\"_geojson_set_color_ptr_\"]=function(){return(_geojson_set_color_ptr_=Module[\"_geojson_set_color_ptr_\"]=Module[\"asm\"][\"zb\"]).apply(null,arguments)};var _geojson_remove_all_features=Module[\"_geojson_remove_all_features\"]=function(){return(_geojson_remove_all_features=Module[\"_geojson_remove_all_features\"]=Module[\"asm\"][\"Ab\"]).apply(null,arguments)};var _geojson_filter_all=Module[\"_geojson_filter_all\"]=function(){return(_geojson_filter_all=Module[\"_geojson_filter_all\"]=Module[\"asm\"][\"Bb\"]).apply(null,arguments)};var _geojson_add_poly_feature=Module[\"_geojson_add_poly_feature\"]=function(){return(_geojson_add_poly_feature=Module[\"_geojson_add_poly_feature\"]=Module[\"asm\"][\"Cb\"]).apply(null,arguments)};var _geojson_query_rendered_features=Module[\"_geojson_query_rendered_features\"]=function(){return(_geojson_query_rendered_features=Module[\"_geojson_query_rendered_features\"]=Module[\"asm\"][\"Db\"]).apply(null,arguments)};var _geojson_set_on_new_tile_callback=Module[\"_geojson_set_on_new_tile_callback\"]=function(){return(_geojson_set_on_new_tile_callback=Module[\"_geojson_set_on_new_tile_callback\"]=Module[\"asm\"][\"Eb\"]).apply(null,arguments)};var _geojson_survey_query_rendered_features=Module[\"_geojson_survey_query_rendered_features\"]=function(){return(_geojson_survey_query_rendered_features=Module[\"_geojson_survey_query_rendered_features\"]=Module[\"asm\"][\"Fb\"]).apply(null,arguments)};var _skycultures_get_designations=Module[\"_skycultures_get_designations\"]=function(){return(_skycultures_get_designations=Module[\"_skycultures_get_designations\"]=Module[\"asm\"][\"Gb\"]).apply(null,arguments)};var _skycultures_get_cultural_names_json=Module[\"_skycultures_get_cultural_names_json\"]=function(){return(_skycultures_get_cultural_names_json=Module[\"_skycultures_get_cultural_names_json\"]=Module[\"asm\"][\"Hb\"]).apply(null,arguments)};var _setThrew=Module[\"_setThrew\"]=function(){return(_setThrew=Module[\"_setThrew\"]=Module[\"asm\"][\"Ib\"]).apply(null,arguments)};var stackSave=Module[\"stackSave\"]=function(){return(stackSave=Module[\"stackSave\"]=Module[\"asm\"][\"Jb\"]).apply(null,arguments)};var stackRestore=Module[\"stackRestore\"]=function(){return(stackRestore=Module[\"stackRestore\"]=Module[\"asm\"][\"Kb\"]).apply(null,arguments)};var stackAlloc=Module[\"stackAlloc\"]=function(){return(stackAlloc=Module[\"stackAlloc\"]=Module[\"asm\"][\"Lb\"]).apply(null,arguments)};var dynCall_vi=Module[\"dynCall_vi\"]=function(){return(dynCall_vi=Module[\"dynCall_vi\"]=Module[\"asm\"][\"Mb\"]).apply(null,arguments)};var dynCall_vii=Module[\"dynCall_vii\"]=function(){return(dynCall_vii=Module[\"dynCall_vii\"]=Module[\"asm\"][\"Nb\"]).apply(null,arguments)};var dynCall_viiiii=Module[\"dynCall_viiiii\"]=function(){return(dynCall_viiiii=Module[\"dynCall_viiiii\"]=Module[\"asm\"][\"Ob\"]).apply(null,arguments)};var dynCall_ii=Module[\"dynCall_ii\"]=function(){return(dynCall_ii=Module[\"dynCall_ii\"]=Module[\"asm\"][\"Pb\"]).apply(null,arguments)};var dynCall_iii=Module[\"dynCall_iii\"]=function(){return(dynCall_iii=Module[\"dynCall_iii\"]=Module[\"asm\"][\"Qb\"]).apply(null,arguments)};var dynCall_viiii=Module[\"dynCall_viiii\"]=function(){return(dynCall_viiii=Module[\"dynCall_viiii\"]=Module[\"asm\"][\"Rb\"]).apply(null,arguments)};function invoke_vii(index,a1,a2){var sp=stackSave();try{dynCall_vii(index,a1,a2)}catch(e){stackRestore(sp);if(e!==e+0&&e!==\"longjmp\")throw e;_setThrew(1,0)}}function invoke_ii(index,a1){var sp=stackSave();try{return dynCall_ii(index,a1)}catch(e){stackRestore(sp);if(e!==e+0&&e!==\"longjmp\")throw e;_setThrew(1,0)}}function invoke_iii(index,a1,a2){var sp=stackSave();try{return dynCall_iii(index,a1,a2)}catch(e){stackRestore(sp);if(e!==e+0&&e!==\"longjmp\")throw e;_setThrew(1,0)}}function invoke_viiiii(index,a1,a2,a3,a4,a5){var sp=stackSave();try{dynCall_viiiii(index,a1,a2,a3,a4,a5)}catch(e){stackRestore(sp);if(e!==e+0&&e!==\"longjmp\")throw e;_setThrew(1,0)}}Module[\"intArrayFromString\"]=intArrayFromString;Module[\"ccall\"]=ccall;Module[\"cwrap\"]=cwrap;Module[\"setValue\"]=setValue;Module[\"getValue\"]=getValue;Module[\"allocate\"]=allocate;Module[\"UTF8ToString\"]=UTF8ToString;Module[\"stringToUTF8\"]=stringToUTF8;Module[\"lengthBytesUTF8\"]=lengthBytesUTF8;Module[\"writeArrayToMemory\"]=writeArrayToMemory;Module[\"writeAsciiToMemory\"]=writeAsciiToMemory;Module[\"addFunction\"]=addFunction;Module[\"removeFunction\"]=removeFunction;Module[\"GL\"]=GL;Module[\"ALLOC_NORMAL\"]=ALLOC_NORMAL;var calledRun;function ExitStatus(status){this.name=\"ExitStatus\";this.message=\"Program terminated with exit(\"+status+\")\";this.status=status}dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller};function run(args){args=args||arguments_;if(runDependencies>0){return}preRun();if(runDependencies>0)return;function doRun(){if(calledRun)return;calledRun=true;Module[\"calledRun\"]=true;if(ABORT)return;initRuntime();preMain();readyPromiseResolve(Module);if(Module[\"onRuntimeInitialized\"])Module[\"onRuntimeInitialized\"]();postRun()}if(Module[\"setStatus\"]){Module[\"setStatus\"](\"Running...\");setTimeout(function(){setTimeout(function(){Module[\"setStatus\"](\"\")},1);doRun()},1)}else{doRun()}}Module[\"run\"]=run;function exit(status,implicit){if(implicit&&noExitRuntime&&status===0){return}if(noExitRuntime){}else{ABORT=true;EXITSTATUS=status;exitRuntime();if(Module[\"onExit\"])Module[\"onExit\"](status)}quit_(status,new ExitStatus(status))}if(Module[\"preInit\"]){if(typeof Module[\"preInit\"]==\"function\")Module[\"preInit\"]=[Module[\"preInit\"]];while(Module[\"preInit\"].length>0){Module[\"preInit\"].pop()()}}noExitRuntime=true;run();\n\n\n  return StelWebEngine.ready\n}\n);\n})();\nexport default StelWebEngine;"]}]}