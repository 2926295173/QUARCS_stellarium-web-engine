{"remainingRequest":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/App.vue","mtime":1761182002440},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js","mtime":1707125450000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvcXVhcmNzL3dvcmtzcGFjZS9RVUFSQ1MvUVVBUkNTX3N0ZWxsYXJpdW0td2ViLWVuZ2luZS9hcHBzL3dlYi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL2hvbWUvcXVhcmNzL3dvcmtzcGFjZS9RVUFSQ1MvUVVBUkNTX3N0ZWxsYXJpdW0td2ViLWVuZ2luZS9hcHBzL3dlYi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvcXVhcmNzL3dvcmtzcGFjZS9RVUFSQ1MvUVVBUkNTX3N0ZWxsYXJpdW0td2ViLWVuZ2luZS9hcHBzL3dlYi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfcmVhZE9ubHlFcnJvciBmcm9tICIvaG9tZS9xdWFyY3Mvd29ya3NwYWNlL1FVQVJDUy9RVUFSQ1Nfc3RlbGxhcml1bS13ZWItZW5naW5lL2FwcHMvd2ViLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWFkT25seUVycm9yIjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL3F1YXJjcy93b3Jrc3BhY2UvUVVBUkNTL1FVQVJDU19zdGVsbGFyaXVtLXdlYi1lbmdpbmUvYXBwcy93ZWItZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwppbXBvcnQgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIgZnJvbSAiL2hvbWUvcXVhcmNzL3dvcmtzcGFjZS9RVUFSQ1MvUVVBUkNTX3N0ZWxsYXJpdW0td2ViLWVuZ2luZS9hcHBzL3dlYi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL2hvbWUvcXVhcmNzL3dvcmtzcGFjZS9RVUFSQ1MvUVVBUkNTX3N0ZWxsYXJpdW0td2ViLWVuZ2luZS9hcHBzL3dlYi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5pcy1pbnRlZ2VyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuaXMtZmluaXRlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLmlzLXZpZXcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS51aW50MTYtYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5jb3B5LXdpdGhpbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmV2ZXJ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubGFzdC1pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS1yaWdodC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJldmVyc2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc3ViYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1sb2NhbGUtc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDgtY2xhbXBlZC1hcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbGwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS51aW50OC1hcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5lbnRyaWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgXyBmcm9tICdsb2Rhc2gnOwppbXBvcnQgR3VpIGZyb20gJ0AvY29tcG9uZW50cy9ndWkudnVlJzsKaW1wb3J0IEd1aUxvYWRlciBmcm9tICdAL2NvbXBvbmVudHMvZ3VpLWxvYWRlci52dWUnOwppbXBvcnQgc3doIGZyb20gJ0AvYXNzZXRzL3N3X2hlbHBlcnMuanMnOwppbXBvcnQgTW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCBCYWNrZ3JvdW5kSW1hZ2UgZnJvbSAnQC9hc3NldHMvaW1hZ2VzL3N2Zy91aS9CYWNrZ3JvdW5kLnN2Zyc7CmltcG9ydCBFcnJvckltYWdlIGZyb20gJ0AvYXNzZXRzL2ltYWdlcy9zdmcvdWkvZXJyb3JJbWFnZS5zdmcnOwppbXBvcnQgUHJvZ3Jlc3NCYXIgZnJvbSAnQC9jb21wb25lbnRzL1Byb2dyZXNzQmFyLnZ1ZSc7CmltcG9ydCBNZXJpZGlhbkZsaXBOb3RpZmllciBmcm9tICdAL2NvbXBvbmVudHMvTWVyaWRpYW5GbGlwTm90aWZpZXIudnVlJzsKdmFyIGdsVGVzdENpcmNsZTsKdmFyIGdsTGF5ZXI7CnZhciBnbFN0ZWw7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKGNvbnRleHQpIHsKICAgIHJldHVybiB7CiAgICAgIG1lbnVJdGVtczogW3sKICAgICAgICB0aXRsZTogdGhpcy4kdCgnVmlldyBTZXR0aW5ncycpLAogICAgICAgIGljb246ICdtZGktc2V0dGluZ3MnLAogICAgICAgIHN0b3JlX3Zhcl9uYW1lOiAnc2hvd1ZpZXdTZXR0aW5nc0RpYWxvZycsCiAgICAgICAgc3RvcmVfc2hvd19tZW51X2l0ZW06ICdzaG93Vmlld1NldHRpbmdzTWVudUl0ZW0nCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogdGhpcy4kdCgnUGxhbmV0cyBUb25pZ2h0JyksCiAgICAgICAgaWNvbjogJ21kaS1wYW5vcmFtYS1maXNoZXllJywKICAgICAgICBzdG9yZV92YXJfbmFtZTogJ3Nob3dQbGFuZXRzVmlzaWJpbGl0eURpYWxvZycsCiAgICAgICAgc3RvcmVfc2hvd19tZW51X2l0ZW06ICdzaG93UGxhbmV0c1Zpc2liaWxpdHlNZW51SXRlbScKICAgICAgfSwgewogICAgICAgIGRpdmlkZXI6IHRydWUKICAgICAgfV0uY29uY2F0KHRoaXMuZ2V0UGx1Z2luc01lbnVJdGVtcygpKS5jb25jYXQoW3sKICAgICAgICB0aXRsZTogdGhpcy4kdCgnRGF0YSBDcmVkaXRzJyksCiAgICAgICAgZm9vdGVyOiB0cnVlLAogICAgICAgIGljb246ICdtZGktY29weXJpZ2h0JywKICAgICAgICBzdG9yZV92YXJfbmFtZTogJ3Nob3dEYXRhQ3JlZGl0c0RpYWxvZycKICAgICAgfV0pLAogICAgICBtZW51Q29tcG9uZW50czogW10uY29uY2F0KHRoaXMuZ2V0UGx1Z2luc01lbnVDb21wb25lbnRzKCkpLAogICAgICBndWlDb21wb25lbnQ6ICdHdWlMb2FkZXInLAogICAgICBzdGFydFRpbWVJc1NldDogZmFsc2UsCiAgICAgIGluaXREb25lOiBmYWxzZSwKICAgICAgZGF0YVNvdXJjZUluaXREb25lOiBmYWxzZSwKICAgICAgaW1hZ2VTcmM6ICdodHRwczovL2kuaW1ndXIuY29tL2VnQTVGSXYuanBlZycsCiAgICAgIC8vIOabv+aNouS4uuS9oOeahOWbvuWDj+i3r+W+hAogICAgICBjdlJlYWR5OiBmYWxzZSwKICAgICAgY2FudmFzWkluZGV4U3RlbDogLTEwLAogICAgICBjYW52YXNaSW5kZXhNYWluQ2FtZXJhOiAtMTEsCiAgICAgIGNhbnZhc1pJbmRleEd1aWRlckNhbWVyYTogLTEyLAogICAgICBjdXJyZW50Y2FudmFzOiAnU3RlbCcsCiAgICAgIFdlYlNvY2tldFVybDogJycsCiAgICAgIHdlYnNvY2tldDogbnVsbCwKICAgICAgbWVzc2FnZTogJycsCiAgICAgIHJlY2VpdmVkTWVzc2FnZXM6IFtdLAogICAgICAvLyDlrZjlgqjmjqXmlLbliLDnmoTmtojmga8KICAgICAgc2VudE1lc3NhZ2VzOiBbXSwKICAgICAgLy8g5a2Y5YKo5bey5Y+R6YCB55qE5raI5oGvCiAgICAgIG1lc3NhZ2VDb3VudGVyOiAwLAogICAgICAvLyDnlKjkuo7nlJ/miJDllK/kuIDnmoTmtojmga9JRAogICAgICB3ZWJzb2NrZXRTdGF0ZTogJ2Rpc2Nvbm5lY3RlZCcsCiAgICAgIC8vIOa3u+WKoFdlYlNvY2tldOi/nuaOpeeKtuaAgQogICAgICBuZXR3b3JrRGlzY29ubmVjdGVkOiBmYWxzZSwKICAgICAgLy8g5re75Yqg572R57uc6L+e5o6l54q25oCBCiAgICAgIFFUQ2xpZW50VmVyc2lvbjogJ05vdCBjb25uZWN0ZWQnLAogICAgICBWdWVDbGllbnRWZXJzaW9uOiBwcm9jZXNzLmVudi5WVUVfQVBQX1ZFUlNJT04sCiAgICAgIC8vIOagoeWHhuS/oeaBr+WvueixoQogICAgICBjYWxpYnJhdGlvbkluZm86IHsKICAgICAgICBpc0NhbGlicmF0aW5nOiBmYWxzZSwKICAgICAgICBjYWxpYnJhdGlvblN0YXRlOiAnaWRsZScsCiAgICAgICAgY2FsaWJyYXRpb25TdGVwOiAwLAogICAgICAgIGNhbGlicmF0aW9uTWVzc2FnZTogJycKICAgICAgfSwKICAgICAgLy8g6Ieq5Yqo5a+554Sm5L+h5oGv5a+56LGhIC0gW0FVVE9fRk9DVVNfVUlfRU5IQU5DRU1FTlRdCiAgICAgIGF1dG9Gb2N1c0luZm86IHsKICAgICAgICBpc1J1bm5pbmc6IGZhbHNlLAogICAgICAgIHN0YXRlOiAnaWRsZScsCiAgICAgICAgc3RlcDogMCwKICAgICAgICBtZXNzYWdlOiAnJwogICAgICB9LAogICAgICAvLyBpc01lc3NhZ2VCb3hTaG93OiBmYWxzZSwKICAgICAgQ3VycmVudERyaXZlclR5cGU6ICcnLAogICAgICBEZXZpY2VJc0Nvbm5lY3RlZDogbnVsbCwKICAgICAgY29uZmlybURyaXZlclR5cGU6ICcnLAogICAgICBNYWluQ2FtZXJhT2Zmc2V0TWluOiAwLAogICAgICBNYWluQ2FtZXJhT2Zmc2V0TWF4OiAwLAogICAgICBNYWluQ2FtZXJhR2Fpbk1pbjogMCwKICAgICAgTWFpbkNhbWVyYUdhaW5NYXg6IDAsCiAgICAgIGRldmljZXM6IFt7CiAgICAgICAgbmFtZTogJ+WvvOaYn+mVnCcsCiAgICAgICAgZHJpdmVyVHlwZTogJ0d1aWRlcicsCiAgICAgICAgdHlwZTogJ0NDRHMnLAogICAgICAgIExpc3ROdW06ICIxIiwKICAgICAgICBpc2dldDogZmFsc2UsCiAgICAgICAgZGV2aWNlOiAnJywKICAgICAgICBCYXVkUmF0ZTogOTYwMCwKICAgICAgICBkcml2ZXJOYW1lOiAnJywKICAgICAgICB1c2JTZXJpYWxQYXRoOiAnJywKICAgICAgICBzZGtWZXJzaW9uOiAnJywKICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsCiAgICAgICAgZGlhbG9nU3RhdGVWYXI6ICdzaG93RGV2aWNlU2V0dGluZ3NEaWFsb2dfR3VpZGVyJwogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ+S4u+ebuOacuicsCiAgICAgICAgZHJpdmVyVHlwZTogJ01haW5DYW1lcmEnLAogICAgICAgIHR5cGU6ICdDQ0RzJywKICAgICAgICBMaXN0TnVtOiAiMjAiLAogICAgICAgIGlzZ2V0OiBmYWxzZSwKICAgICAgICBkZXZpY2U6ICcnLAogICAgICAgIEJhdWRSYXRlOiA5NjAwLAogICAgICAgIGRyaXZlck5hbWU6ICcnLAogICAgICAgIHVzYlNlcmlhbFBhdGg6ICcnLAogICAgICAgIHNka1ZlcnNpb246ICcnLAogICAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSwKICAgICAgICBkaWFsb2dTdGF0ZVZhcjogJ3Nob3dEZXZpY2VTZXR0aW5nc0RpYWxvZ19NYWluQ2FtZXJhJwogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ+i1pOmBk+S7qicsCiAgICAgICAgZHJpdmVyVHlwZTogJ01vdW50JywKICAgICAgICB0eXBlOiAnVGVsZXNjb3BlcycsCiAgICAgICAgTGlzdE51bTogIjAiLAogICAgICAgIGlzZ2V0OiBmYWxzZSwKICAgICAgICBkZXZpY2U6ICcnLAogICAgICAgIEJhdWRSYXRlOiA5NjAwLAogICAgICAgIGRyaXZlck5hbWU6ICcnLAogICAgICAgIHVzYlNlcmlhbFBhdGg6ICcnLAogICAgICAgIHNka1ZlcnNpb246ICcnLAogICAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSwKICAgICAgICBkaWFsb2dTdGF0ZVZhcjogJ3Nob3dEZXZpY2VTZXR0aW5nc0RpYWxvZ19Nb3VudCcKICAgICAgfSwgewogICAgICAgIG5hbWU6ICfmnJvov5zplZwnLAogICAgICAgIGRyaXZlclR5cGU6ICdUZWxlc2NvcGVzJywKICAgICAgICBkZXZpY2U6ICcnLAogICAgICAgIGlzQ29ubmVjdGVkOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn55S15Yqo6LCD54Sm5ZmoJywKICAgICAgICBkcml2ZXJUeXBlOiAnRm9jdXNlcicsCiAgICAgICAgdHlwZTogJ0ZvY3VzZXJzJywKICAgICAgICBMaXN0TnVtOiAiMjIiLAogICAgICAgIGlzZ2V0OiBmYWxzZSwKICAgICAgICBkZXZpY2U6ICcnLAogICAgICAgIEJhdWRSYXRlOiA5NjAwLAogICAgICAgIGRyaXZlck5hbWU6ICcnLAogICAgICAgIHVzYlNlcmlhbFBhdGg6ICcnLAogICAgICAgIHNka1ZlcnNpb246ICcnLAogICAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSwKICAgICAgICBkaWFsb2dTdGF0ZVZhcjogJ3Nob3dEZXZpY2VTZXR0aW5nc0RpYWxvZ19Gb2N1c2VyJwogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ+eUteWtkOaegei9tOmVnCcsCiAgICAgICAgZHJpdmVyVHlwZTogJ1BvbGVDYW1lcmEnLAogICAgICAgIHR5cGU6ICdDQ0RzJywKICAgICAgICBMaXN0TnVtOiAiMiIsCiAgICAgICAgaXNnZXQ6IGZhbHNlLAogICAgICAgIGRldmljZTogJycsCiAgICAgICAgQmF1ZFJhdGU6IDk2MDAsCiAgICAgICAgZHJpdmVyTmFtZTogJycsCiAgICAgICAgdXNiU2VyaWFsUGF0aDogJycsCiAgICAgICAgc2RrVmVyc2lvbjogJycsCiAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLAogICAgICAgIGRpYWxvZ1N0YXRlVmFyOiAnc2hvd0RldmljZVNldHRpbmdzRGlhbG9nX1BvbGVDYW1lcmEnCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAn5ruk6ZWc6L2uJywKICAgICAgICBkcml2ZXJUeXBlOiAnQ0ZXJywKICAgICAgICB0eXBlOiAnRmlsdGVyIFdoZWVscycsCiAgICAgICAgTGlzdE51bTogIjIxIiwKICAgICAgICBpc2dldDogZmFsc2UsCiAgICAgICAgZGV2aWNlOiAnJywKICAgICAgICBCYXVkUmF0ZTogOTYwMCwKICAgICAgICBkcml2ZXJOYW1lOiAnJywKICAgICAgICB1c2JTZXJpYWxQYXRoOiAnJywKICAgICAgICBzZGtWZXJzaW9uOiAnJywKICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsCiAgICAgICAgZGlhbG9nU3RhdGVWYXI6ICdzaG93RGV2aWNlU2V0dGluZ3NEaWFsb2dfQ0ZXJwogICAgICB9XSwKICAgICAgLy8gQ2hhbmdpbmcgdGhlIGxhYmVsIG5hbWUgYWxzbyByZXF1aXJlcyBjaGFuZ2luZyB0aGUgZW1pdCBzaWduYWwgbmFtZQogICAgICBHdWlkZXJDb25maWdJdGVtczogW3sKICAgICAgICBkcml2ZXJUeXBlOiAnR3VpZGVyJywKICAgICAgICBsYWJlbDogJ0d1aWRlciBGb2NhbCBMZW5ndGggKG1tKScsCiAgICAgICAgdmFsdWU6ICcnLAogICAgICAgIGlucHV0VHlwZTogJ3RleHQnCiAgICAgIH0sIHsKICAgICAgICBkcml2ZXJUeXBlOiAnR3VpZGVyJywKICAgICAgICBsYWJlbDogJ011bHRpIFN0YXIgR3VpZGVyJywKICAgICAgICB2YWx1ZTogZmFsc2UsCiAgICAgICAgaW5wdXRUeXBlOiAnc3dpdGNoJwogICAgICB9LCAvLyB7IGRyaXZlclR5cGU6ICdHdWlkZXInLCBsYWJlbDogJ0d1aWRlciBQaXhlbCBzaXplJywgdmFsdWU6ICcnLCBpbnB1dFR5cGU6ICd0ZXh0J30sCiAgICAgIHsKICAgICAgICBkcml2ZXJUeXBlOiAnR3VpZGVyJywKICAgICAgICBsYWJlbDogJ0d1aWRlciBHYWluJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAnc2xpZGVyJywKICAgICAgICBpbnB1dE1pbjogMCwKICAgICAgICBpbnB1dE1heDogMTAwLAogICAgICAgIGlucHV0U3RlcDogMQogICAgICB9LCB7CiAgICAgICAgZHJpdmVyVHlwZTogJ0d1aWRlcicsCiAgICAgICAgbGFiZWw6ICdDYWxpYnJhdGlvbiBzdGVwIChtcyknLAogICAgICAgIHZhbHVlOiAnJywKICAgICAgICBpbnB1dFR5cGU6ICd0ZXh0JwogICAgICB9LCB7CiAgICAgICAgZHJpdmVyVHlwZTogJ0d1aWRlcicsCiAgICAgICAgbGFiZWw6ICdSYSBBZ2dyZXNzaW9uJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAnc2xpZGVyJywKICAgICAgICBpbnB1dE1pbjogMCwKICAgICAgICBpbnB1dE1heDogMTAwLAogICAgICAgIGlucHV0U3RlcDogMQogICAgICB9LCB7CiAgICAgICAgZHJpdmVyVHlwZTogJ0d1aWRlcicsCiAgICAgICAgbGFiZWw6ICdEZWMgQWdncmVzc2lvbicsCiAgICAgICAgdmFsdWU6ICcnLAogICAgICAgIGlucHV0VHlwZTogJ3NsaWRlcicsCiAgICAgICAgaW5wdXRNaW46IDAsCiAgICAgICAgaW5wdXRNYXg6IDEwMCwKICAgICAgICBpbnB1dFN0ZXA6IDEKICAgICAgfV0sCiAgICAgIE1haW5DYW1lcmFDb25maWdJdGVtczogWy8vIHZ1ZeWkhOeQhuWPguaVsAogICAgICB7CiAgICAgICAgZHJpdmVyVHlwZTogJ01haW5DYW1lcmEnLAogICAgICAgIGxhYmVsOiAnSW1hZ2VDRkEnLAogICAgICAgIHZhbHVlOiAnJywKICAgICAgICBpbnB1dFR5cGU6ICdzZWxlY3QnLAogICAgICAgIHNlbGVjdFZhbHVlOiBbJ0dSJywgJ0dCJywgJ0JHJywgJ1JHR0InLCAnbnVsbCddCiAgICAgIH0sIC8vIOehrOS7tuWkhOeQhuWPguaVsAogICAgICB7CiAgICAgICAgZHJpdmVyVHlwZTogJ01haW5DYW1lcmEnLAogICAgICAgIGxhYmVsOiAnQmlubmluZycsCiAgICAgICAgdmFsdWU6ICcnLAogICAgICAgIGlucHV0VHlwZTogJ3NsaWRlcicsCiAgICAgICAgaW5wdXRNaW46IDEsCiAgICAgICAgaW5wdXRNYXg6IDE2LAogICAgICAgIGlucHV0U3RlcDogMQogICAgICB9LCB7CiAgICAgICAgZHJpdmVyVHlwZTogJ01haW5DYW1lcmEnLAogICAgICAgIGxhYmVsOiAnVGVtcGVyYXR1cmUnLAogICAgICAgIHZhbHVlOiAnJywKICAgICAgICBpbnB1dFR5cGU6ICdzZWxlY3QnLAogICAgICAgIHNlbGVjdFZhbHVlOiBbNSwgMCwgLTUsIC0xMCwgLTE1LCAtMjAsIC0yNV0KICAgICAgfSwgewogICAgICAgIGRyaXZlclR5cGU6ICdNYWluQ2FtZXJhJywKICAgICAgICBsYWJlbDogJ0dhaW4nLAogICAgICAgIHZhbHVlOiAnJywKICAgICAgICBpbnB1dFR5cGU6ICdzbGlkZXInLAogICAgICAgIGlucHV0TWluOiAwLAogICAgICAgIGlucHV0TWF4OiAwLAogICAgICAgIGlucHV0U3RlcDogMQogICAgICB9LCB7CiAgICAgICAgZHJpdmVyVHlwZTogJ01haW5DYW1lcmEnLAogICAgICAgIGxhYmVsOiAnT2Zmc2V0JywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAnc2xpZGVyJywKICAgICAgICBpbnB1dE1pbjogMCwKICAgICAgICBpbnB1dE1heDogMCwKICAgICAgICBpbnB1dFN0ZXA6IDEKICAgICAgfV0sCiAgICAgIE1vdW50Q29uZmlnSXRlbXM6IFt7CiAgICAgICAgZHJpdmVyVHlwZTogJ01vdW50JywKICAgICAgICBsYWJlbDogJ0ZsaXAgRVRBJywKICAgICAgICB2YWx1ZTogJzAwOjAwOjAwJywKICAgICAgICBkaXNwbGF5VmFsdWU6ICcwMDowMDowMCcsCiAgICAgICAgaW5wdXRUeXBlOiAndGlwJwogICAgICB9LCB7CiAgICAgICAgZHJpdmVyVHlwZTogJ01vdW50JywKICAgICAgICBsYWJlbDogJ0dvdG9UaGVuU29sdmUnLAogICAgICAgIHZhbHVlOiBmYWxzZSwKICAgICAgICBpbnB1dFR5cGU6ICdzd2l0Y2gnCiAgICAgIH0gLy8geyBkcml2ZXJUeXBlOiAnTW91bnQnLCBsYWJlbDogJ0F1dG9GbGlwJywgdmFsdWU6IGZhbHNlLCBpbnB1dFR5cGU6ICdzd2l0Y2gnIH0sCiAgICAgIF0sCiAgICAgIFRlbGVzY29wZXNDb25maWdJdGVtczogW3sKICAgICAgICBkcml2ZXJUeXBlOiAnVGVsZXNjb3BlcycsCiAgICAgICAgbnVtOiAxLAogICAgICAgIGxhYmVsOiAnRm9jYWwgTGVuZ3RoIChtbSknLAogICAgICAgIHZhbHVlOiAnJywKICAgICAgICBpbnB1dFR5cGU6ICdudW1iZXInCiAgICAgIH1dLAogICAgICBGb2N1c2VyQ29uZmlnSXRlbXM6IFt7CiAgICAgICAgZHJpdmVyVHlwZTogJ0ZvY3VzZXInLAogICAgICAgIG51bTogMiwKICAgICAgICBsYWJlbDogJ1N5bmMgRm9jdXNlciBTdGVwJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAndGV4dCcKICAgICAgfSwgewogICAgICAgIGRyaXZlclR5cGU6ICdGb2N1c2VyJywKICAgICAgICBudW06IDIsCiAgICAgICAgbGFiZWw6ICdNaW4gTGltaXQnLAogICAgICAgIHZhbHVlOiAnJywKICAgICAgICBpbnB1dFR5cGU6ICdudW1iZXInCiAgICAgIH0sIHsKICAgICAgICBkcml2ZXJUeXBlOiAnRm9jdXNlcicsCiAgICAgICAgbnVtOiAyLAogICAgICAgIGxhYmVsOiAnTWF4IExpbWl0JywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAnbnVtYmVyJwogICAgICB9LCB7CiAgICAgICAgZHJpdmVyVHlwZTogJ0ZvY3VzZXInLAogICAgICAgIG51bTogMiwKICAgICAgICBsYWJlbDogJ0JhY2tsYXNoJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgaW5wdXRUeXBlOiAnbnVtYmVyJwogICAgICB9XSwKICAgICAgUG9sZUNhbWVyYUNvbmZpZ0l0ZW1zOiBbXSwKICAgICAgQ0ZXQ29uZmlnSXRlbXM6IFtdLAogICAgICBCZWZvcmVDaGFuZ2VDb25maWdJdGVtczogW10sCiAgICAgIGltYWdlRGF0YTogbnVsbCwKICAgICAgaGlzdG9ncmFtSW1hZ2U6IG51bGwsCiAgICAgIGhpc3RvZ3JhbV9taW46IDAsCiAgICAgIC8vIOebtOaWueWbvuiHquWKqOaLieS8uOeahOacgOWwj+WAvAogICAgICBoaXN0b2dyYW1fbWF4OiAyNTUsCiAgICAgIC8vIOebtOaWueWbvuiHquWKqOaLieS8uOeahOacgOWkp+WAvAogICAgICBjdXJyZW50SGlzdG9ncmFtTWluOiAwLAogICAgICBjdXJyZW50SGlzdG9ncmFtTWF4OiAyNTUsCiAgICAgIEltYWdlR2FpblI6IDEsCiAgICAgIEltYWdlR2FpbkI6IDEsCiAgICAgIEltYWdlT2Zmc2V0OiAwLAogICAgICBJbWFnZUNGQTogJ0JHJywKICAgICAgY2FtZXJhQmluOiAxLAogICAgICAvLyDlvZPliY3nm7jmnLpiaW5uaW5nCiAgICAgIENhbnZhc1dpZHRoOiAxOTIwLAogICAgICAvLyDkuLvnlLvluIPlrr3luqYKICAgICAgQ2FudmFzSGVpZ2h0OiAxMDgwLAogICAgICAvLyDkuLvnlLvluIPpq5jluqYKICAgICAgc2NhbGU6IDEsCiAgICAgIC8vIOe8qeaUvuavlOS+iwogICAgICB0cmFuc2xhdGVYOiAwLAogICAgICAvLyDlubPnp7t45Z2Q5qCHCiAgICAgIHRyYW5zbGF0ZVk6IDAsCiAgICAgIC8vIOW5s+enu3nlnZDmoIcKICAgICAgYnVmZmVyQ2FudmFzOiBudWxsLAogICAgICAvLyDlrZjlgqjnlLvluIMKICAgICAgYnVmZmVyQ3R4OiBudWxsLAogICAgICAvLyDlrZjlgqjnlLvluIPkuIrkuIvmlocKICAgICAgdGVtcENhbnZhczogbnVsbCwKICAgICAgLy8g5Li05pe255S75biDCiAgICAgIHRlbXBDdHg6IG51bGwsCiAgICAgIC8vIOS4tOaXtueUu+W4g+S4iuS4i+aWhwogICAgICB2aXNpYmxlV2lkdGg6IDAsCiAgICAgIC8vIOWPr+ingeWMuuWfn+WuveW6pgogICAgICB2aXNpYmxlSGVpZ2h0OiAwLAogICAgICAvLyDlj6/op4HljLrln5/pq5jluqYKICAgICAgdmlzaWJsZVg6IDAsCiAgICAgIC8vIOWPr+ingeWMuuWfn3jlnZDmoIcKICAgICAgdmlzaWJsZVk6IDAsCiAgICAgIC8vIOWPr+ingeWMuuWfn3nlnZDmoIcKICAgICAgaXNEcmFnZ2luZzogZmFsc2UsCiAgICAgIC8vIOagh+iusOeUu+W4g+aYr+WQpuato+WcqOaLluWKqAogICAgICBwZW5kaW5nU2NhbGVDaGFuZ2U6IGZhbHNlLAogICAgICAvLyDmoIforrDnlLvluIPmmK/lkKbmraPlnKjnvKnmlL4KICAgICAgdG91Y2hTdGFydFg6IDAsCiAgICAgIC8vIOinpuaRuOW8gOWni3jlnZDmoIcKICAgICAgdG91Y2hTdGFydFk6IDAsCiAgICAgIC8vIOinpuaRuOW8gOWni3nlnZDmoIcKICAgICAgc3RhcnREaXN0YW5jZTogMCwKICAgICAgLy8g6Kem5pG45byA5aeL6Led56a7CiAgICAgIG1vdmVJbnRlcnZhbElkOiBudWxsLAogICAgICAvLyDmi5bliqjlrprml7blmagKICAgICAgem9vbUludGVydmFsSWQ6IG51bGwsCiAgICAgIC8vIOe8qeaUvuWumuaXtuWZqAogICAgICBpbWFnZVdpZHRoOiAwLAogICAgICAvLyDlm77lg4/lrr3luqYKICAgICAgaW1hZ2VIZWlnaHQ6IDAsCiAgICAgIC8vIOWbvuWDj+mrmOW6pgogICAgICBkcmF3SW1nRGF0YTogbnVsbCwKICAgICAgT3JpZ2luYWxJbWFnZTogbnVsbCwKICAgICAgZGV0ZWN0U3RhcnNJbWc6IG51bGwsCiAgICAgIGlzTm90RHJhd1N0YXJzOiB0cnVlLAogICAgICBtYWluQ2FtZXJhU2l6ZVg6IDAsCiAgICAgIG1haW5DYW1lcmFTaXplWTogMCwKICAgICAgSW1hZ2VQcm9wb3J0aW9uOiAwLAogICAgICBEZXRlY3RlZFN0YXJzTGlzdDogW10sCiAgICAgIERldGVjdGVkU3RhcnNGaW5pc2g6IGZhbHNlLAogICAgICBDYXJ0ZXNpYW5MaXN0OiBbXSwKICAgICAgUG9sYXJQb2ludF9BbHRpdHVkZTogMCwKICAgICAgTGFzdFBvaW50X0F6QWx0OiBudWxsLAogICAgICBNYXJrQ2lyY2xlTnVtOiAwLAogICAgICBMYXN0Q2lyY2xlX1JhRGVjOiBudWxsLAogICAgICBMYXN0Q2lyY2xlX0F6QWx0OiBudWxsLAogICAgICBDaXJjbGVzOiBbXSwKICAgICAgLy8g5p6B6L205qCh5YeG55u45YWz5pWw57uECiAgICAgIGNhbGlicmF0aW9uQ2lyY2xlczogW10sCiAgICAgIC8vIOagoeWHhueCueWchuWciOaVsOe7hAogICAgICBhZGp1c3RtZW50Q2lyY2xlczogW10sCiAgICAgIC8vIOiwg+aVtOeCueWchuWciOaVsOe7hAogICAgICB0YXJnZXRQb2ludENpcmNsZTogbnVsbCwKICAgICAgLy8g55uu5qCH54K55ZyG5b2i5a+56LGhCiAgICAgIGZha2VQb2xhckF4aXNDaXJjbGU6IG51bGwsCiAgICAgIC8vIOWBh+aegeeCueWchuW9ouWvueixoQogICAgICBsYXN0UG9zaXRpb246IG51bGwsCiAgICAgIC8vIOS4iuS4gOasoeS9jee9rgogICAgICBmaWVsZFVwZGF0ZVRpbWVyOiBudWxsLAogICAgICAvLyDop4blnLrmm7TmlrDlrprml7blmagKICAgICAgZmllbGRPZlZpZXdQb2x5Z29uczogW10sCiAgICAgIC8vIOWtmOWCqOinhuWcuuWkmui+ueW9ouWvueixoQogICAgICBkcmF3ZXJfMjogbnVsbCwKICAgICAgLy8g6K6+572u5L6n6L655qCP55qE5pi+56S65LiO6ZqQ6JePCiAgICAgIGRyaXZlcnM6IFtdLAogICAgICAvLyDpqbHliqjpgInpobnmlbDnu4QKICAgICAgc2VsZWN0ZWREcml2ZXI6IG51bGwsCiAgICAgIC8vIOmAieS4reeahOmpseWKqAogICAgICBkZXZpY2VzTGlzdDogW10sCiAgICAgIC8vIOiuvuWkh+mAiemhueaVsOe7hAogICAgICBzZWxlY3RlZERldmljZTogbnVsbCwKICAgICAgLy8g6YCJ5Lit55qE6K6+5aSHCiAgICAgIFRvQmVDb25uZWN0RGV2aWNlOiBbXSwKICAgICAgbG9hZGluZ1NlbGVjdERyaXZlcjogZmFsc2UsCiAgICAgIGxvYWRpbmdDb25uZWN0QWxsRGV2aWNlOiBmYWxzZSwKICAgICAgQ3VycmVudExvY2F0aW9uTG5nOiAwLAogICAgICBDdXJyZW50TG9jYXRpb25MYXQ6IDAsCiAgICAgIGhpc3RvZ3JhbURhdGE6IFtdLAogICAgICBJbWFnZUFycmF5QnVmZmVyOiBudWxsLAogICAgICBpc09wZW5EZXZpY2VQYWdlOiBmYWxzZSwKICAgICAgLy8g6K6+572u6K6+5aSH6aG16Z2i5piv5ZCm5omT5byACiAgICAgIGlzT3BlblBvd2VyUGFnZTogZmFsc2UsCiAgICAgIC8vIOiuvue9rueUtea6kOmhtemdouaYr+WQpuaJk+W8gAogICAgICBPdXRQdXRQb3dlcl8xX09OOiB0cnVlLAogICAgICBPdXRQdXRQb3dlcl8yX09OOiBmYWxzZSwKICAgICAgaXNQb2xhckF4aXNNb2RlOiBmYWxzZSwKICAgICAgaXNUb3VjaGluZzogZmFsc2UsCiAgICAgIC8vIOagh+iusOaYr+WQpuato+WcqOWkhOeQhuinpuaRuOS6i+S7tgogICAgICBDb25uZWN0QnRuUHJlc3NUaW1lcjogbnVsbCwKICAgICAgQ29ubmVjdEJ0bmxvbmdQcmVzc1RocmVzaG9sZDogMTAwMCwKICAgICAgaXNDb25uZWN0QnRuTG9uZ1ByZXNzOiBmYWxzZSwKICAgICAgLy8g5qCH6K6w5piv5ZCm5Li66ZW/5oyJCiAgICAgIENvbm5lY3RCdG5DYW5DbGljazogdHJ1ZSwKICAgICAgaGF2ZURldmljZUNvbm5lY3Q6IGZhbHNlLAogICAgICBpc0Nvbm5lY3Rpbmc6IGZhbHNlLAogICAgICAvLyDmt7vliqDov57mjqXnirbmgIEKICAgICAgZGlzY29ubmVjdFRpbWVvdXRUcmlnZ2VyZWQ6IGZhbHNlLAogICAgICBkaXNjb25uZWN0VGltZW91dDogbnVsbCwKICAgICAgaXNEb3dubG9hZGluZ0ltYWdlOiBmYWxzZSwKICAgICAgaXNEb3dubG9hZGluZ0ltYWdlTmFtZTogJycsCiAgICAgIGlzV2FpdGluZ0xvZ2dlZDogZmFsc2UsCiAgICAgIC8vIOa3u+WKoOetieW+heaXpeW/l+agh+W/lwogICAgICBzaG93RGlzY29ubmVjdERpYWxvZzogZmFsc2UsCiAgICAgIGN1cnJlbnREaXNjb25uZWN0RHJpdmVyTmFtZTogJycsCiAgICAgIGVuYWJsZU1haW5DYW52YXNDbGljazogZmFsc2UsCiAgICAgIC8vIOaOp+WItueUu+W4g+aYr+WQpuWPr+S7peeCueWHu++8jOeUqOadpeenu+WKqOiwg+eEpumAieaLqeahhuWSjOmAieaYnwogICAgICBsYXN0SW1hZ2VQcm9jZXNzUGFyYW1zOiB7CiAgICAgICAgLy8g5pyA5ZCO5aSE55CG5Zu+5YOP55qE5Y+C5pWwCiAgICAgICAgYmxhY2tMZXZlbDogMCwKICAgICAgICB3aGl0ZUxldmVsOiA2NTUzNSwKICAgICAgICBDRkE6ICdudWxsJywKICAgICAgICBhbmFseXNpczogbnVsbCwKICAgICAgICBpc0NvbG9yQ2FtZXJhOiBmYWxzZQogICAgICB9LAogICAgICBmb2N1c2VyUGljdHVyZUZpbGVOYW1lOiAnJywKICAgICAgLy8g54Sm6Led5Zu+54mH5paH5Lu25ZCNCiAgICAgIGlzUHJvY2Vzc2luZ0ltYWdlOiBmYWxzZSwKICAgICAgLy8g5o6n5Yi25piv5ZCm5q2j5Zyo5aSE55CG5Zu+5YOPCiAgICAgIGlzRm9jdXNMb29wU2hvb3Rpbmc6IGZhbHNlLAogICAgICAvLyDmjqfliLbmmK/lkKbov5vooYxST2nlvqrnjq/mi43mkYQKICAgICAgZm9jdXNlclJPSVN0YXJzTGlzdDogW10sCiAgICAgIC8vIOeUqOadpeS/neWtmFJPSeWMuuWfn+eahOaYn+eCueWIl+ihqO+8jOWIhuWIq+S/neWtmHgseSxIRlIKICAgICAgc2VsZWN0U3Rhclg6IC0xLAogICAgICBzZWxlY3RTdGFyWTogLTEsCiAgICAgIERyYXdTZWxlY3RTdGFyWDogLTEsCiAgICAgIERyYXdTZWxlY3RTdGFyWTogLTEsCiAgICAgIERyYXdTZWxlY3RTdGFySEZSOiAtMSwKICAgICAgUk9JX3g6IC0xLAogICAgICAvLyDnlKjmnaXkv53lrZhST0nljLrln5/nmoR45Z2Q5qCHLOWcqHZ1ZeS4reiuoeeulwogICAgICBST0lfeTogLTEsCiAgICAgIC8vIOeUqOadpeS/neWtmFJPSeWMuuWfn+eahHnlnZDmoIcs5ZyodnVl5Lit6K6h566XCiAgICAgIFJPSV94X3F0OiAtMSwKICAgICAgLy8g55So5p2l5L+d5a2YUk9J5Yy65Z+f55qEeOWdkOaghyzlnKhxdOS4reiuoeeulwogICAgICBST0lfeV9xdDogLTEsCiAgICAgIC8vIOeUqOadpeS/neWtmFJPSeWMuuWfn+eahHnlnZDmoIcs5ZyocXTkuK3orqHnrpcKICAgICAgUk9JX2xlbmd0aDogMzAwLAogICAgICAvLyDnlKjmnaXkv53lrZhST0nljLrln5/nmoTplb/luqYKICAgICAgc2hvd1NlbGVjdFN0YXI6IGZhbHNlLAogICAgICBpc09uZVRvdWNoOiBmYWxzZSwKICAgICAgY3VycmVudFRvdWNoWDogWzAsIDBdLAogICAgICBjdXJyZW50VG91Y2hZOiBbMCwgMF0sCiAgICAgIHN0YXJ0VG91Y2hYOiBbMCwgMF0sCiAgICAgIHN0YXJ0VG91Y2hZOiBbMCwgMF0sCiAgICAgIHN0YXJ0VG91Y2hEaXN0YW5jZTogMCwKICAgICAgLy8g5a6a5LmJ5rOi54m5546H6YCJ6aG5CiAgICAgIEJhdWRSYXRlSXRlbXM6IFt7CiAgICAgICAgbGFiZWw6ICc5NjAwJywKICAgICAgICB2YWx1ZTogOTYwMAogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICcxOTIwMCcsCiAgICAgICAgdmFsdWU6IDE5MjAwCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJzM4NDAwJywKICAgICAgICB2YWx1ZTogMzg0MDAKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAnNTc2MDAnLAogICAgICAgIHZhbHVlOiA1NzYwMAogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICcxMTUyMDAnLAogICAgICAgIHZhbHVlOiAxMTUyMDAKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAnMjMwNDAwJywKICAgICAgICB2YWx1ZTogMjMwNDAwCiAgICAgIH1dLAogICAgICBCYXVkUmF0ZVNlbGVjdGVkOiA5NjAwLAogICAgICAvLyDms6LnibnnjofpgInmi6kKICAgICAgY3B1VGVtcDogbnVsbCwKICAgICAgLy8gQ1BV5rip5bqmCiAgICAgIGNwdVVzYWdlOiBudWxsLAogICAgICAvLyBDUFXkvb/nlKjnjocKICAgICAgcHJvZ3Jlc3NWYWx1ZTogMCwKICAgICAgLy8g5o6n5Yi25Zu+5YOP5aSE55CG6L+b5bqm5p2h55qE5Y+Y6YePCiAgICAgIHByb2dyZXNzRGVzY3JpcHRpb246ICcnLAogICAgICAvLyDmjqfliLbov5vluqbmnaHmmL7npLrlhoXlrrkKICAgICAgY2FsY3VsYXRlR2FpbjogdHJ1ZSwKICAgICAgLy8g5o6n5Yi25piv5ZCm6K6h566X55m95bmz6KGh5aKe55uKCiAgICAgIGx1dENhY2hlOiB7CiAgICAgICAgbGFzdFBhcmFtczogbnVsbCwKICAgICAgICAvLyDnlKjkuo7lrZjlgqjkuIrmrKHnmoTlj4LmlbAKICAgICAgICBsdXRSOiBudWxsLAogICAgICAgIGx1dEc6IG51bGwsCiAgICAgICAgbHV0QjogbnVsbAogICAgICB9CiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgR3VpOiBHdWksCiAgICBHdWlMb2FkZXI6IEd1aUxvYWRlciwKICAgIFByb2dyZXNzQmFyOiBQcm9ncmVzc0JhciwKICAgIE1lcmlkaWFuRmxpcE5vdGlmaWVyOiBNZXJpZGlhbkZsaXBOb3RpZmllciAvLyBNZXNzYWdlQm94LAoKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiRidXMuJG9uKCdBcHBTZW5kTWVzc2FnZScsIHRoaXMuc2VuZE1lc3NhZ2UpOwogICAgdGhpcy4kYnVzLiRvbignQXBwVXBkYXRlRGV2aWNlcycsIHRoaXMudXBkYXRlRGV2aWNlcyk7CiAgICB0aGlzLiRidXMuJG9uKCdTd2l0Y2gtTWFpblBhZ2UnLCB0aGlzLmhhbmRsZUJ1dHRvblRlc3RDbGljayk7CiAgICB0aGlzLiRidXMuJG9uKCdIYW5kbGVIaXN0b2dyYW1OdW0nLCB0aGlzLmFwcGx5SGlzdFN0cmV0Y2gpOwogICAgdGhpcy4kYnVzLiRvbignSW1hZ2VHYWluUicsIHRoaXMuSW1hZ2VHYWluU2V0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ0ltYWdlR2FpbkInLCB0aGlzLkltYWdlR2FpblNldCk7CiAgICB0aGlzLiRidXMuJG9uKCdPZmZzZXQnLCB0aGlzLkltYWdlT2Zmc2V0U2V0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ0Jpbm5pbmcnLCB0aGlzLkJpbm5pbmdTZXQpOwogICAgdGhpcy4kYnVzLiRvbignR2FpbicsIHRoaXMuR2FpblNldCk7CiAgICB0aGlzLiRidXMuJG9uKCdPZmZzZXQnLCB0aGlzLk9mZnNldFNldCk7CiAgICB0aGlzLiRidXMuJG9uKCdJbWFnZUNGQScsIHRoaXMuSW1hZ2VDRkFTZXQpOyAvLyB0aGlzLiRidXMuJG9uKCdNYWluQ2FtZXJhQ0ZBJywgdGhpcy5JbWFnZUNGQVNldCk7CgogICAgdGhpcy4kYnVzLiRvbignVGVtcGVyYXR1cmUnLCB0aGlzLkNhbWVyYVRlbXBlcmF0dXJlU2V0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ0ZvY2FsIExlbmd0aCAobW0pJywgdGhpcy5Gb2NhbExlbmd0aFNldCk7CiAgICB0aGlzLiRidXMuJG9uKCdHdWlkZXIgRm9jYWwgTGVuZ3RoIChtbSknLCB0aGlzLkd1aWRlckZvY2FsTGVuZ3RoU2V0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ011bHRpIFN0YXIgR3VpZGVyJywgdGhpcy5NdWx0aVN0YXJHdWlkZXJTZXQpOwogICAgdGhpcy4kYnVzLiRvbignR3VpZGVyIFBpeGVsIHNpemUnLCB0aGlzLkd1aWRlclBpeGVsU2l6ZVNldCk7CiAgICB0aGlzLiRidXMuJG9uKCdHdWlkZXIgR2FpbicsIHRoaXMuR3VpZGVyR2FpblNldCk7CiAgICB0aGlzLiRidXMuJG9uKCdDYWxpYnJhdGlvbiBzdGVwIChtcyknLCB0aGlzLkNhbGlicmF0aW9uRHVyYXRpb25TZXQpOwogICAgdGhpcy4kYnVzLiRvbignUmEgQWdncmVzc2lvbicsIHRoaXMuUmFBZ2dyZXNzaW9uU2V0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ0RlYyBBZ2dyZXNzaW9uJywgdGhpcy5EZWNBZ2dyZXNzaW9uU2V0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ1N5bmMgRm9jdXNlciBTdGVwJywgdGhpcy5TeW5jRm9jdXNlclN0ZXApOwogICAgdGhpcy4kYnVzLiRvbignTWluIExpbWl0JywgdGhpcy5NaW5MaW1pdFNldCk7CiAgICB0aGlzLiRidXMuJG9uKCdNYXggTGltaXQnLCB0aGlzLk1heExpbWl0U2V0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ0JhY2tsYXNoJywgdGhpcy5CYWNrbGFzaFNldCk7CiAgICB0aGlzLiRidXMuJG9uKCdHb3RvVGhlblNvbHZlJywgdGhpcy5Hb3RvVGhlblNvbHZlKTsKICAgIHRoaXMuJGJ1cy4kb24oJ0F1dG9GbGlwJywgdGhpcy5BdXRvRmxpcFNldCk7CiAgICB0aGlzLiRidXMuJG9uKCdXZXN0TWludXRlc1Bhc3RNZXJpZGlhbicsIHRoaXMuV2VzdE1pbnV0ZXNQYXN0TWVyaWRpYW5TZXQpOwogICAgdGhpcy4kYnVzLiRvbignRWFzdE1pbnV0ZXNQYXN0TWVyaWRpYW4nLCB0aGlzLkVhc3RNaW51dGVzUGFzdE1lcmlkaWFuU2V0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ0ltYWdlUHJvcG9ydGlvbicsIHRoaXMuc2V0SW1hZ2VQcm9wb3J0aW9uKTsKICAgIHRoaXMuJGJ1cy4kb24oJ01vdW50R290bycsIHRoaXMubG9va2F0Y2lyY2xlKTsKICAgIHRoaXMuJGJ1cy4kb24oJ1N3aXRjaEltYWdlVG9TaG93JywgdGhpcy5Td2l0Y2hJbWFnZVRvU2hvdyk7CiAgICB0aGlzLiRidXMuJG9uKCdQb2xhclBvaW50QWx0aXR1ZGUnLCB0aGlzLnNldFBvbGFyUG9pbnRBbHRpdHVkZSk7CiAgICB0aGlzLiRidXMuJG9uKCdzaG93U3RlbENhbnZhcycsIHRoaXMuc2hvd1N0ZWxDYW52YXMpOwogICAgdGhpcy4kYnVzLiRvbignUmVjYWxpYnJhdGVQb2xhckF4aXMnLCB0aGlzLlJlY2FsaWJyYXRlUG9sYXJBeGlzKTsKICAgIHRoaXMuJGJ1cy4kb24oJ0N1cnJlbnRFeHBUaW1lTGlzdCcsIHRoaXMuQ3VycmVudEV4cFRpbWVMaXN0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ2Rpc2Nvbm5lY3RBbGxEZXZpY2UnLCB0aGlzLmRpc2Nvbm5lY3RBbGxEZXZpY2UpOwogICAgdGhpcy4kYnVzLiRvbignR2V0Q29ubmVjdGVkRGV2aWNlcycsIHRoaXMuUmV0dXJuQ29ubmVjdGVkRGV2aWNlcyk7CiAgICB0aGlzLiRidXMuJG9uKCdHZXRDdXJyZW50Q29ubmVjdGVkRGV2aWNlcycsIHRoaXMuUmV0dXJuQ3VycmVudENvbm5lY3RlZERldmljZXMpOwogICAgdGhpcy4kYnVzLiRvbignQ3VycmVudENGV0xpc3QnLCB0aGlzLkN1cnJlbnRDRldMaXN0KTsKICAgIHRoaXMuJGJ1cy4kb24oJ2NhbGNXaGl0ZUJhbGFuY2VHYWlucycsIHRoaXMuY2FsY1doaXRlQmFsYW5jZUdhaW5zKTsKICAgIHRoaXMuJGJ1cy4kb24oJ1N3aXRjaE91dFB1dFBvd2VyJywgdGhpcy5Td2l0Y2hPdXRQdXRQb3dlcik7CiAgICB0aGlzLiRidXMuJG9uKCdQb2xhckF4aXNNb2RlJywgdGhpcy5Qb2xhckF4aXNNb2RlKTsKICAgIHRoaXMuJGJ1cy4kb24oJ1NlbmRDb25zb2xlTG9nTXNnJywgdGhpcy5TZW5kQ29uc29sZUxvZ01zZyk7IC8vIHRoaXMuJGJ1cy4kb24oJ0Rpc2Nvbm5lY3REcml2ZXJTdWNjZXNzJywgdGhpcy5kaXNjb25uZWN0RHJpdmVyc3VjY2Vzcyk7CgogICAgdGhpcy4kYnVzLiRvbignVW5CaW5kaW5nRGV2aWNlJywgdGhpcy5VbkJpbmRpbmdEZXZpY2UpOwogICAgdGhpcy4kYnVzLiRvbignQ2xvc2VXZWJWaWV3JywgdGhpcy5RdWl0VG9NYWluQXBwKTsKICAgIHRoaXMuJGJ1cy4kb24oJ1JlZEJveFNpemVDaGFuZ2UnLCB0aGlzLlJlZEJveFNpemVDaGFuZ2UpOwogICAgdGhpcy4kYnVzLiRvbignc2V0Rm9jdXNlclN0YXRlJywgdGhpcy5zZXRGb2N1c2VyU3RhdGUpOyAvLyDorr7nva7osIPnhKbnirbmgIHlkozov5vluqYKCiAgICB0aGlzLiRidXMuJG9uKCdzZXRTaG93U2VsZWN0U3RhcicsIHRoaXMuc2V0U2hvd1NlbGVjdFN0YXIpOyAvLyDorr7nva7mmK/lkKbmmL7npLrpgInmi6nmmJ/ngrkKCiAgICB0aGlzLiRidXMuJG9uKCdTY2FsZUNoYW5nZScsIHRoaXMuU2NhbGVDaGFuZ2UpOwogICAgdGhpcy4kYnVzLiRvbignc2hvd0NhbnZhcycsIHRoaXMuc2hvd0NhbnZhcyk7CiAgICB0aGlzLiRidXMuJG9uKCdnZXRNb3VudEF1dG9GbGlwJywgdGhpcy5zZW5kTW91bnRBdXRvRmxpcCk7IC8vIOWtkOe7hOS7tuiOt+WPlui1pOmBk+S7quiHquWKqOe/u+i9rOaooeW8jwogICAgLy8g5p6B6L205qCh5YeG57uY5Yi255u45YWz55uR5ZCs5ZmoCgogICAgdGhpcy4kYnVzLiRvbignRHJhd0NhbGlicmF0aW9uUG9pbnRQb2x5Z29uJywgdGhpcy5kcmF3Q2FsaWJyYXRpb25Qb2ludFBvbHlnb24pOwogICAgdGhpcy4kYnVzLiRvbignQ2xlYXJDYWxpYnJhdGlvblBvaW50cycsIHRoaXMuY2xlYXJDYWxpYnJhdGlvblBvaW50cyk7CiAgICB0aGlzLiRidXMuJG9uKCdEcmF3QWRqdXN0bWVudFBvaW50c1BvbHlnb24nLCB0aGlzLmRyYXdBZGp1c3RtZW50UG9pbnRzUG9seWdvbik7CiAgICB0aGlzLiRidXMuJG9uKCdEcmF3VGFyZ2V0UG9pbnRDaXJjbGUnLCB0aGlzLmRyYXdUYXJnZXRQb2ludENpcmNsZSk7CiAgICB0aGlzLiRidXMuJG9uKCdEcmF3RmFrZVBvbGFyQXhpc0NpcmNsZScsIHRoaXMuRHJhd0Zha2VQb2xhckF4aXNDaXJjbGUpOyAvLyDmoKHlh4bnm7jlhbPkuovku7bnm5HlkKzlmagKCiAgICB0aGlzLiRidXMuJG9uKCdTdGFydENhbGlicmF0aW9uJywgdGhpcy5zdGFydENhbGlicmF0aW9uUHJvY2Vzcyk7CiAgICB0aGlzLiRidXMuJG9uKCdVcGRhdGVDYWxpYnJhdGlvbkluZm8nLCB0aGlzLnVwZGF0ZUNhbGlicmF0aW9uSW5mbyk7CiAgICB0aGlzLiRidXMuJG9uKCdFbmRDYWxpYnJhdGlvbicsIHRoaXMuZW5kQ2FsaWJyYXRpb24pOyAvLyDoh6rliqjlr7nnhKbnm7jlhbPkuovku7bnm5HlkKzlmaggLSBbQVVUT19GT0NVU19VSV9FTkhBTkNFTUVOVF0KCiAgICB0aGlzLiRidXMuJG9uKCdTdGFydEF1dG9Gb2N1cycsIHRoaXMuc3RhcnRBdXRvRm9jdXNQcm9jZXNzKTsKICAgIHRoaXMuJGJ1cy4kb24oJ1VwZGF0ZUF1dG9Gb2N1c1N0ZXAnLCB0aGlzLnVwZGF0ZUF1dG9Gb2N1c1N0ZXApOwogICAgdGhpcy4kYnVzLiRvbignRW5kQXV0b0ZvY3VzJywgdGhpcy5lbmRBdXRvRm9jdXMpOwogICAgdGhpcy5tZW1vcnlDaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwodGhpcy5jaGVja01lbW9yeVVzYWdlLCAzMDAwMCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDmmK/lkKblhYHorrjlsI/mlbDvvJpzdGVwIOS4jeaYr+aVtOaVsO+8jOaIluaYvuW8j+WFgeiuuAogICAgYWxsb3dzRGVjaW1hbDogZnVuY3Rpb24gYWxsb3dzRGVjaW1hbChpdGVtKSB7CiAgICAgIHZhciBfaXRlbSRzdGVwOwoKICAgICAgdmFyIHN0ZXAgPSAoX2l0ZW0kc3RlcCA9IGl0ZW0uc3RlcCkgIT09IG51bGwgJiYgX2l0ZW0kc3RlcCAhPT0gdm9pZCAwID8gX2l0ZW0kc3RlcCA6IDE7CiAgICAgIHJldHVybiBpdGVtLmFsbG93RGVjaW1hbCA9PT0gdHJ1ZSB8fCAhTnVtYmVyLmlzSW50ZWdlcihzdGVwKSB8fCBTdHJpbmcoc3RlcCkuaW5jbHVkZXMoJy4nKTsKICAgIH0sCiAgICAvLyDmmK/lkKblhYHorrjotJ/mlbDvvJrmoLnmja7phY3nva7miJYgbWluPDAg54yc5rWLCiAgICBhbGxvd3NOZWdhdGl2ZTogZnVuY3Rpb24gYWxsb3dzTmVnYXRpdmUoaXRlbSkgewogICAgICByZXR1cm4gaXRlbS5hbGxvd05lZ2F0aXZlID09PSB0cnVlIHx8IHR5cGVvZiBpdGVtLm1pbiA9PT0gJ251bWJlcicgJiYgaXRlbS5taW4gPCAwOwogICAgfSwKICAgIC8vIOenu+WKqOerr+mUruebmOexu+WeiwogICAgZ2V0SW5wdXRNb2RlOiBmdW5jdGlvbiBnZXRJbnB1dE1vZGUoaXRlbSkgewogICAgICAvLyDku4Xnp7vliqjnq6/nlJ/mlYjvvJvmoYzpnaLlv73nlaUKICAgICAgaWYgKCF0aGlzLmlzTW9iaWxlKSByZXR1cm4gdW5kZWZpbmVkOyAvLyDpnIDopoHlsI/mlbDmiJbotJ/mlbDvvIznlKggZGVjaW1hbO+8iOabtOWuueaYk+WHuueOsOWwj+aVsOeCuS/otJ/lj7fvvIkKCiAgICAgIHJldHVybiB0aGlzLmFsbG93c0RlY2ltYWwoaXRlbSkgfHwgdGhpcy5hbGxvd3NOZWdhdGl2ZShpdGVtKSA/ICdkZWNpbWFsJyA6ICdudW1lcmljJzsKICAgIH0sCiAgICAvLyDphY3lkIggaU9T77yacGF0dGVybiDlj6/lvbHlk43lvLnlh7rplK7nm5jkuI7moKHpqowKICAgIGdldFBhdHRlcm46IGZ1bmN0aW9uIGdldFBhdHRlcm4oaXRlbSkgewogICAgICB2YXIgbmVnID0gdGhpcy5hbGxvd3NOZWdhdGl2ZShpdGVtKTsKCiAgICAgIGlmICh0aGlzLmFsbG93c0RlY2ltYWwoaXRlbSkpIHsKICAgICAgICAvLyDlhYHorrggLiDmiJYgLCDkvZzkuLrlsI/mlbDngrnvvIzkvr/kuo7kuI3lkIzor63oqIDplK7nm5gKICAgICAgICByZXR1cm4gbmVnID8gJ15bLV0/WzAtOV0qKFsuLF1bMC05XSopPyQnIDogJ15bMC05XSooWy4sXVswLTldKik/JCc7CiAgICAgIH0gLy8g5pW05pWwCgoKICAgICAgcmV0dXJuIG5lZyA/ICdeWy1dP1swLTldKiQnIDogJ15bMC05XSokJzsKICAgIH0sCiAgICBudW1iZXJSdWxlczogZnVuY3Rpb24gbnVtYmVyUnVsZXMoaXRlbSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIFtmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiB2ID09PSAnJyB8fCB2ID09PSBudWxsIHx8ICFpc05hTihfdGhpcy5fdG9OdW1iZXIodikpIHx8ICfor7fovpPlhaXmlbDlrZcnOwogICAgICB9LCBmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiBpdGVtLm1pbiA9PT0gdW5kZWZpbmVkIHx8IF90aGlzLl90b051bWJlcih2KSA+PSBpdGVtLm1pbiB8fCAiXHU2NzAwXHU1QzBGXHU1MDNDICIuY29uY2F0KGl0ZW0ubWluKTsKICAgICAgfSwgZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gaXRlbS5tYXggPT09IHVuZGVmaW5lZCB8fCBfdGhpcy5fdG9OdW1iZXIodikgPD0gaXRlbS5tYXggfHwgIlx1NjcwMFx1NTkyN1x1NTAzQyAiLmNvbmNhdChpdGVtLm1heCk7CiAgICAgIH1dOwogICAgfSwKICAgIC8vIOe7n+S4gOaKiumAl+WPt+Wwj+aVsOi9rOS4uueCue+8jOWOu+aOieWkmuS9meepuueZvQogICAgX3RvTnVtYmVyOiBmdW5jdGlvbiBfdG9OdW1iZXIodikgewogICAgICBpZiAodiA9PT0gJycgfHwgdiA9PT0gbnVsbCB8fCB2ID09PSB1bmRlZmluZWQpIHJldHVybiBOYU47CiAgICAgIGlmICh0eXBlb2YgdiA9PT0gJ251bWJlcicpIHJldHVybiB2OwogICAgICB2YXIgcyA9IFN0cmluZyh2KS50cmltKCkucmVwbGFjZSgnLCcsICcuJyk7CiAgICAgIHJldHVybiBOdW1iZXIocyk7CiAgICB9LAogICAgb25OdW1iZXJDb21taXQ6IGZ1bmN0aW9uIG9uTnVtYmVyQ29tbWl0KGl0ZW0pIHsKICAgICAgdmFyIF9pdGVtJHN0ZXAyOwoKICAgICAgdmFyIHYgPSB0aGlzLl90b051bWJlcihpdGVtLnZhbHVlKTsKCiAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHYpKSByZXR1cm47IC8vIDEpIOWkueWPluWIsCBtaW4vbWF4CgogICAgICBpZiAoaXRlbS5taW4gIT09IHVuZGVmaW5lZCAmJiB2IDwgaXRlbS5taW4pIHYgPSBpdGVtLm1pbjsKICAgICAgaWYgKGl0ZW0ubWF4ICE9PSB1bmRlZmluZWQgJiYgdiA+IGl0ZW0ubWF4KSB2ID0gaXRlbS5tYXg7IC8vIDIpIOaMiSBzdGVwIOWvuem9kO+8iOS7pSBtaW4g5oiWIDAg5Li65Z+65YeG77yJCgogICAgICB2YXIgc3RlcCA9IChfaXRlbSRzdGVwMiA9IGl0ZW0uc3RlcCkgIT09IG51bGwgJiYgX2l0ZW0kc3RlcDIgIT09IHZvaWQgMCA/IF9pdGVtJHN0ZXAyIDogMTsKCiAgICAgIGlmIChzdGVwID4gMCkgewogICAgICAgIHZhciBiYXNlID0gaXRlbS5taW4gIT09IHVuZGVmaW5lZCA/IGl0ZW0ubWluIDogMDsKICAgICAgICB2ID0gYmFzZSArIE1hdGgucm91bmQoKHYgLSBiYXNlKSAvIHN0ZXApICogc3RlcDsKICAgICAgICBpZiAoaXRlbS5taW4gIT09IHVuZGVmaW5lZCAmJiB2IDwgaXRlbS5taW4pIHYgPSBpdGVtLm1pbjsKICAgICAgICBpZiAoaXRlbS5tYXggIT09IHVuZGVmaW5lZCAmJiB2ID4gaXRlbS5tYXgpIHYgPSBpdGVtLm1heDsKICAgICAgICB2ID0gTnVtYmVyKHYudG9GaXhlZCgxMikpOyAvLyDljrvmta7ngrnor6/lt64KICAgICAgfSAvLyDlm57lhpnlubbpgJrnn6UKCgogICAgICBpdGVtLnZhbHVlID0gdjsKICAgICAgdGhpcy5oYW5kbGVDb25maWdDaGFuZ2UoaXRlbS5sYWJlbCwgdik7CiAgICB9LAogICAgY2hlY2tNZW1vcnlVc2FnZTogZnVuY3Rpb24gY2hlY2tNZW1vcnlVc2FnZSgpIHsKICAgICAgaWYgKHdpbmRvdy5wZXJmb3JtYW5jZSAmJiB3aW5kb3cucGVyZm9ybWFuY2UubWVtb3J5KSB7CiAgICAgICAgdmFyIG1lbW9yeUluZm8gPSB3aW5kb3cucGVyZm9ybWFuY2UubWVtb3J5OwogICAgICAgIHZhciB1c2VkID0gTWF0aC5yb3VuZChtZW1vcnlJbmZvLnVzZWRKU0hlYXBTaXplIC8gMTA0ODU3Nik7CiAgICAgICAgdmFyIGxpbWl0ID0gTWF0aC5yb3VuZChtZW1vcnlJbmZvLmpzSGVhcFNpemVMaW1pdCAvIDEwNDg1NzYpOyAvLyBjb25zb2xlLmxvZyhg5YaF5a2Y5L2/55SoOiAke3VzZWR9TUIgLyAke2xpbWl0fU1CYCk7CgogICAgICAgIGlmIChtZW1vcnlJbmZvLnVzZWRKU0hlYXBTaXplID4gbWVtb3J5SW5mby5qc0hlYXBTaXplTGltaXQgKiAwLjcpIHsKICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2hvd1dhcm5pbmcnLCB0aGlzLiRpMThuLmxvY2FsZSA9PT0gJ2NuJyA/ICflhoXlrZjkvb/nlKjmjqXov5HpmZDliLbvvIzor7fkv53lrZjlt6XkvZzlkI7liLfmlrDpobXpnaInIDogJ01lbW9yeSB1c2FnZSBpcyBhcHByb2FjaGluZyBsaW1pdC4gUGxlYXNlIHNhdmUgeW91ciB3b3JrIGFuZCByZWZyZXNoIHRoZSBwYWdlLicpOyAvLyDlj6/pgInvvJrlsJ3or5XmiYvliqjop6blj5HlnoPlnL7lm57mlLYKCiAgICAgICAgICBpZiAod2luZG93LmdjKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgd2luZG93LmdjKCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZm9ybWF0VGlwVmFsdWU6IGZ1bmN0aW9uIGZvcm1hdFRpcFZhbHVlKGl0ZW0pIHsKICAgICAgcmV0dXJuIGl0ZW0gJiYgaXRlbS5kaXNwbGF5VmFsdWUgIT0gbnVsbCA/IFN0cmluZyhpdGVtLmRpc3BsYXlWYWx1ZSkgOiBpdGVtICYmIGl0ZW0udmFsdWUgIT0gbnVsbCA/IFN0cmluZyhpdGVtLnZhbHVlKSA6ICctJzsKICAgIH0sCiAgICBmb3JtYXRUaXBUaXRsZTogZnVuY3Rpb24gZm9ybWF0VGlwVGl0bGUoaXRlbSkgewogICAgICBpZiAoaXRlbSAmJiBpdGVtLnRvb2x0aXAgIT0gbnVsbCkgcmV0dXJuIFN0cmluZyhpdGVtLnRvb2x0aXApOwogICAgICBpZiAoaXRlbSAmJiBpdGVtLnZhbHVlICE9IG51bGwpIHJldHVybiBTdHJpbmcoaXRlbS52YWx1ZSk7CiAgICAgIHJldHVybiAnJzsKICAgIH0sCiAgICBjb3B5VGlwOiBmdW5jdGlvbiBjb3B5VGlwKGl0ZW0pIHsKICAgICAgdmFyIHRleHQgPSBpdGVtICYmIGl0ZW0udmFsdWUgIT0gbnVsbCA/IFN0cmluZyhpdGVtLnZhbHVlKSA6ICcnOwogICAgICBpZiAoIXRleHQpIHJldHVybjsKCiAgICAgIGlmIChuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLmNsaXBib2FyZCAmJiBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCkgewogICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpOwogICAgICB9CiAgICB9LAogICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KGV2ZW50KSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICB9LAogICAgZ2V0TG9jYXRpb25Ib3N0TmFtZTogZnVuY3Rpb24gZ2V0TG9jYXRpb25Ib3N0TmFtZSgpIHsKICAgICAgdmFyIGhvc3RuYW1lID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lOwogICAgICB2YXIgcHJvdG9jb2wgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonID8gJ3dzczonIDogJ3dzOic7CiAgICAgIHZhciBwb3J0ID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6JyA/ICc4NjAxJyA6ICc4NjAwJzsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnbG9jYXRpb24gaG9zdG5hbWU6JyArIGhvc3RuYW1lLCAnaW5mbycpOwogICAgICB0aGlzLldlYlNvY2tldFVybCA9ICIiLmNvbmNhdChwcm90b2NvbCwgIi8vIikuY29uY2F0KGhvc3RuYW1lLCAiOiIpLmNvbmNhdChwb3J0KTsKICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldFVybDonLCB0aGlzLldlYlNvY2tldFVybCk7CiAgICB9LAogICAgZ2V0UVRDbGllbnRWZXJzaW9uOiBmdW5jdGlvbiBnZXRRVENsaWVudFZlcnNpb24oKSB7CiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2dldFFUQ2xpZW50VmVyc2lvbicpOwogICAgfSwKICAgIGNvbm5lY3Q6IGZ1bmN0aW9uIGNvbm5lY3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy8g5pu/5o2i5Li65L2g55qEIFdlYlNvY2tldCDmnI3liqHlmajlnLDlnYAKICAgICAgLy8gdGhpcy53ZWJzb2NrZXQgPSBuZXcgV2ViU29ja2V0KCd3czovLzE5Mi4xNjguMi4zMTo4NjAwJyk7ICAvLyBwcm9jZXNzLmVudi5WVUVfQVBQX1dFQlNPQ0tFVAogICAgICAvLyB0aGlzLndlYnNvY2tldCA9IG5ldyBXZWJTb2NrZXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9XRUJTT0NLRVQpOwogICAgICB2YXIgd3NPcHRpb25zID0gewogICAgICAgIHJlamVjdFVuYXV0aG9yaXplZDogZmFsc2UgLy8g56aB55So6K+B5Lmm6aqM6K+BCgogICAgICB9OwogICAgICB0aGlzLndlYnNvY2tldCA9IG5ldyBXZWJTb2NrZXQodGhpcy5XZWJTb2NrZXRVcmwsIFtdLCB3c09wdGlvbnMpOwoKICAgICAgdGhpcy53ZWJzb2NrZXQub25vcGVuID0gZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi53ZWJzb2NrZXRTdGF0ZSA9ICdjb25uZWN0ZWQnOwogICAgICAgIF90aGlzMi5uZXR3b3JrRGlzY29ubmVjdGVkID0gZmFsc2U7IC8vIFdlYlNvY2tldOi/nuaOpeaIkOWKn+aXtumHjee9rue9kee7nOi/nuaOpeeKtuaAgQoKICAgICAgICBpZiAoX3RoaXMyLmRpc2Nvbm5lY3RUaW1lb3V0VHJpZ2dlcmVkKSB7CiAgICAgICAgICBfdGhpczIuY2FsbFNob3dNZXNzYWdlQm94KCdXZWJTb2NrZXQgY29ubmVjdGVkJywgJ3N1Y2Nlc3MnKTsKICAgICAgICB9CgogICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdTaG93TmV0U3RhdHVzJywgJ3RydWUnKTsKCiAgICAgICAgX3RoaXMyLlN0YXR1c1JlY292ZXJ5KCk7CgogICAgICAgIGNvbnNvbGUubG9nKCdwcm9jZXNzLmVudi5OT0RFX0VOVjonLCBwcm9jZXNzLmVudi5OT0RFX0VOVik7CiAgICAgIH07CgogICAgICB0aGlzLndlYnNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkgewogICAgICAgIC8vIGNvbnNvbGUubG9nKCdRSFlDQ0QgfCBSZWNlaXZlZCBtZXNzYWdlOicsIG1lc3NhZ2UuZGF0YSk7CiAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKG1lc3NhZ2UuZGF0YSk7CgogICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdRVF9SZXR1cm4nKSB7CiAgICAgICAgICB2YXIgcGFydHMgPSBkYXRhLm1lc3NhZ2Uuc3BsaXQoJzonKTsKICAgICAgICAgIHZhciBtZXNzYWdlVHlwZTsKCiAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICBtZXNzYWdlVHlwZSA9IHBhcnRzWzBdOyAvLyBjb25zb2xlLmxvZygnUUhZQ0NEIHwg6I635b6X5L+h5oGvKCcrbWVzc2FnZVR5cGUrJyk6JywgcGFydHMpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcign5raI5oGv5qC85byP6ZSZ6K+v77yM5peg5rOV5YiG5YmyOicsIGRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgYWNjZXB0TWVzc2FnZSA9IGZhbHNlOwoKICAgICAgICAgIGlmIChkYXRhLm1lc3NhZ2Uuc3RhcnRzV2l0aCgnU3RhZ2luZ1NjaGVkdWxlRGF0YTonKSkgewogICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7CiAgICAgICAgICAgIGFjY2VwdE1lc3NhZ2UgPSB0cnVlOwoKICAgICAgICAgICAgdmFyIF9wYXJ0cyA9IGRhdGEubWVzc2FnZS5zcGxpdCgnWycpOwoKICAgICAgICAgICAgaWYgKF9wYXJ0cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3BhcnRzLmxlbmd0aDogJywgX3BhcnRzLmxlbmd0aCk7CgogICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdTdGFnaW5nU2NoZWR1bGVEYXRhJywgZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChkYXRhLm1lc3NhZ2Uuc3RhcnRzV2l0aCgnU2VuZERlYnVnTWVzc2FnZXwnKSkgewogICAgICAgICAgICBhY2NlcHRNZXNzYWdlID0gdHJ1ZTsKCiAgICAgICAgICAgIHZhciBfcGFydHMyID0gZGF0YS5tZXNzYWdlLnNwbGl0KCd8Jyk7CgogICAgICAgICAgICBpZiAoX3BhcnRzMi5sZW5ndGggPT09IDMpIHsKICAgICAgICAgICAgICB2YXIgdHlwZSA9IF9wYXJ0czJbMV07CiAgICAgICAgICAgICAgdmFyIF9tZXNzYWdlID0gX3BhcnRzMlsyXTsKCiAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ1NlbmREZWJ1Z01lc3NhZ2UnLCB0eXBlLCBfbWVzc2FnZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIWFjY2VwdE1lc3NhZ2UpIHsKICAgICAgICAgICAgc3dpdGNoIChtZXNzYWdlVHlwZSkgewogICAgICAgICAgICAgIGNhc2UgJ0FkZERyaXZlcic6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBsYWJlbCA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBwYXJ0c1syXTsKICAgICAgICAgICAgICAgICAgdmFyIF90eXBlID0gX3RoaXMyLkN1cnJlbnREcml2ZXJUeXBlOyAvLyDliJvlu7rkuIDkuKrpqbHliqjlr7nosaEKCiAgICAgICAgICAgICAgICAgIHZhciBkcml2ZXIgPSB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogX3R5cGUsCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGxhYmVsLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgICAgICAgICB9OyAvLyBpZiAodHlwZSA9PT0gJ01haW5DYW1lcmEnICYmIGxhYmVsID09PSAiUUhZIENDRDIiKSB7CiAgICAgICAgICAgICAgICAgIC8vICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgICAgLy8gaWYgKHR5cGUgPT09ICdHdWlkZXInICYmIGxhYmVsID09PSAiUUhZIENDRCIpIHsKICAgICAgICAgICAgICAgICAgLy8gICBicmVhazsKICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgICAvLyDmo4Dmn6VsYWJlbOaYr+WQpuS4uiJRSFkgQ0NEIuaIliJRRm9jdXNlciLvvIzlpoLmnpzmmK/vvIzliJnmj5LlhaXliLDmlbDnu4TpppbkvY0KCiAgICAgICAgICAgICAgICAgIGlmIChsYWJlbCA9PT0gIlFIWSBDQ0QiIHx8IGxhYmVsID09PSAiUUZvY3VzZXIiIHx8IGxhYmVsID09PSAiUUhZIENDRDIiKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmRyaXZlcnMudW5zaGlmdChkcml2ZXIpOyAvLyDlsIbmlrDpqbHliqjmt7vliqDliLDmlbDnu4TnmoTlvIDlp4vkvY3nva4KCiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmRyaXZlcnMucHVzaChkcml2ZXIpOyAvLyDlsIbmlrDpqbHliqjmt7vliqDliLDmlbDnu4TnmoTmnKvlsL4KCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnQWRkRGV2aWNlJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9sYWJlbCA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUUhZQ0NEIHwgQWRkRGV2aWNlOiAnLCBfbGFiZWwpOyAvLyBjb25zdCB2YWx1ZSA9IHBhcnRzWzJdOwoKICAgICAgICAgICAgICAgICAgdmFyIF90eXBlMiA9IF90aGlzMi5jb25maXJtRHJpdmVyVHlwZTsgLy8g5Yib5bu65LiA5Liq6amx5Yqo5a+56LGhCgogICAgICAgICAgICAgICAgICB2YXIgZGV2aWNlID0gX2RlZmluZVByb3BlcnR5KHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiBfdHlwZTIsCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IF9sYWJlbAogICAgICAgICAgICAgICAgICB9LCAibGFiZWwiLCBfbGFiZWwpOwoKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1FIWUNDRCB8IEFkZERldmljZTogJywgZGV2aWNlKTsgLy8gdGhpcy4kYnVzLiRlbWl0KCdhZGQtZGV2aWNlJywgZGV2aWNlKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5kZXZpY2VzTGlzdC5wdXNoKGRldmljZSk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuVG9CZUNvbm5lY3REZXZpY2UgPSBbXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5kZXZpY2VzTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChkZXZpY2VzTGlzdCkgewogICAgICAgICAgICAgICAgICAgIGlmIChkZXZpY2VzTGlzdC50eXBlID09PSBfdGhpczIuQ3VycmVudERyaXZlclR5cGUpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5Ub0JlQ29ubmVjdERldmljZS5wdXNoKGRldmljZXNMaXN0KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLmxvYWRpbmdTZWxlY3REcml2ZXIgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAndXBkYXRlRGV2aWNlc18nOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgICAgICAgICB2YXIgTGlzdE51bSA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IHBhcnRzWzJdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLnVwZGF0ZURldmljZXNfKExpc3ROdW0sIG5hbWUpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdDb25uZWN0U3VjY2Vzcyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSA0KSB7CiAgICAgICAgICAgICAgICAgIHZhciBfdHlwZTMgPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIGRldmljZU5hbWUgPSBwYXJ0c1syXTsKICAgICAgICAgICAgICAgICAgdmFyIGRyaXZlck5hbWUgPSBwYXJ0c1szXTsKCiAgICAgICAgICAgICAgICAgIGlmIChkZXZpY2VOYW1lICE9ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnVwZGF0ZURldmljZXNDb25uZWN0KF90eXBlMywgZGV2aWNlTmFtZSwgZHJpdmVyTmFtZSwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnVwZGF0ZURldmljZXNDb25uZWN0KF90eXBlMywgZGV2aWNlTmFtZSwgZHJpdmVyTmFtZSwgZmFsc2UpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0Nvbm5lY3RGYWlsZWQnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgcmVhc29uID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpczIuY2FsbFNob3dNZXNzYWdlQm94KHJlYXNvbiwgJ2Vycm9yJyk7CgogICAgICAgICAgICAgICAgICBfdGhpczIubG9hZGluZ0Nvbm5lY3RBbGxEZXZpY2UgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnU2NhbkZhaWxlZCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVhc29uID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpczIuY2FsbFNob3dNZXNzYWdlQm94KF9yZWFzb24sICdlcnJvcicpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLmxvYWRpbmdTZWxlY3REcml2ZXIgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnQWRkRGV2aWNlVHlwZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBEZXZpY2VUeXBlID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnQWRkRGV2aWNlVHlwZScsIERldmljZVR5cGUpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdEZXZpY2VUb0JlQWxsb2NhdGVkJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDQpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9EZXZpY2VUeXBlID0gcGFydHNbMV07CiAgICAgICAgICAgICAgICAgIHZhciBEZXZpY2VJbmRleCA9IHBhcnRzWzJdOwogICAgICAgICAgICAgICAgICB2YXIgRGV2aWNlTmFtZSA9IHBhcnRzWzNdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ0RldmljZVRvQmVBbGxvY2F0ZWQnLCBEZXZpY2VJbmRleCwgRGV2aWNlTmFtZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1Nob3dEZXZpY2VBbGxvY2F0aW9uV2luZG93JzoKICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCd0b2dnbGVEZXZpY2VBbGxvY2F0aW9uUGFuZWwnKTsKCiAgICAgICAgICAgICAgICBfdGhpczIubmF2ID0gZmFsc2U7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnRXhwb3N1cmVDb21wbGV0ZWQnOgogICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ0V4cG9zdXJlQ29tcGxldGVkJyk7CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1NhdmVKcGdTdWNjZXNzJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDQpIHsKICAgICAgICAgICAgICAgICAgdmFyIGZpbGVOYW1lID0gcGFydHNbMV07CiAgICAgICAgICAgICAgICAgIHZhciByb2lfeCA9IHBhcnNlSW50KHBhcnRzWzJdKTsKICAgICAgICAgICAgICAgICAgdmFyIHJvaV95ID0gcGFyc2VJbnQocGFydHNbM10pOwogICAgICAgICAgICAgICAgICBfdGhpczIuUk9JX3ggPSByb2lfeDsKICAgICAgICAgICAgICAgICAgX3RoaXMyLlJPSV95ID0gcm9pX3k7IC8vIHRoaXMuJGJ1cy4kZW1pdCgnc2hvd1JvaUltYWdlJywgZmlsZU5hbWUpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLnNob3dSb2lJbWFnZShmaWxlTmFtZSwgcm9pX3gsIHJvaV95KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnU2F2ZUJpblN1Y2Nlc3MnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgX2ZpbGVOYW1lID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpczIucmVhZEJpbkZpbGUoJ2ltZy8nICsgX2ZpbGVOYW1lKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5EZXRlY3RlZFN0YXJzRmluaXNoID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1NhdmVHdWlkZXJJbWFnZVN1Y2Nlc3MnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgX2ZpbGVOYW1lMiA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLmxvYWRBbmREaXNwbGF5SW1hZ2UoJ2ltZy8nICsgX2ZpbGVOYW1lMik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0d1aWRlU2l6ZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBjb2wgPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIHJvdyA9IHBhcnRzWzJdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoIkd1aWRlU2l6ZSIsIGNvbCwgcm93KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAnQWRkU2NhdHRlckNoYXJ0RGF0YSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBEYXRhX3ggPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIERhdGFfeSA9IHBhcnRzWzJdOwogICAgICAgICAgICAgICAgICB2YXIgbmV3RGF0YVBvaW50ID0gW0RhdGFfeCwgRGF0YV95XTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdBZGRTY2F0dGVyQ2hhcnREYXRhJywgbmV3RGF0YVBvaW50KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnQWRkTGluZUNoYXJ0RGF0YSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSA0KSB7CiAgICAgICAgICAgICAgICAgIHZhciBfRGF0YV94ID0gcGFydHNbMV07CiAgICAgICAgICAgICAgICAgIHZhciBEYXRhX1JhID0gcGFydHNbMl07CiAgICAgICAgICAgICAgICAgIHZhciBEYXRhX0RlYyA9IHBhcnRzWzNdOwogICAgICAgICAgICAgICAgICB2YXIgbmV3RGF0YVBvaW50X1JhID0gW19EYXRhX3gsIERhdGFfUmFdOwogICAgICAgICAgICAgICAgICB2YXIgbmV3RGF0YVBvaW50X0RlYyA9IFtfRGF0YV94LCBEYXRhX0RlY107CgogICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnQWRkTGluZUNoYXJ0RGF0YScsIG5ld0RhdGFQb2ludF9SYSwgbmV3RGF0YVBvaW50X0RlYyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1NldExpbmVDaGFydFJhbmdlJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDMpIHsKICAgICAgICAgICAgICAgICAgdmFyIG1pbiA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICB2YXIgbWF4ID0gcGFydHNbMl07CgogICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnU2V0TGluZUNoYXJ0UmFuZ2UnLCBtaW4sIG1heCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0d1aWRlclN0YXR1cyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBzdGF0dXMgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdHdWlkZXJTdGF0dXMnLCBzdGF0dXMpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdGb2N1c0NoYW5nZVNwZWVkU3VjY2Vzcyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBTcGVlZCA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ0ZvY3VzQ2hhbmdlU3BlZWRTdWNjZXNzJywgU3BlZWQpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdGb2N1c1Bvc2l0aW9uJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDMpIHsKICAgICAgICAgICAgICAgICAgdmFyIEN1cnJlbnRQb3NpdGlvbiA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICB2YXIgVGFyZ2V0UG9zaXRpb24gPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdGb2N1c1Bvc2l0aW9uJywgQ3VycmVudFBvc2l0aW9uLCBUYXJnZXRQb3NpdGlvbik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0ZvY3VzTW92ZURvbmUnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgICAgICAgICB2YXIgX0N1cnJlbnRQb3NpdGlvbiA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICB2YXIgRldITSA9IHBhcnRzWzJdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ1VwZGF0ZUZXSE0nLCBfQ3VycmVudFBvc2l0aW9uLCBGV0hNKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdhZGREYXRhX1BvaW50JywgX0N1cnJlbnRQb3NpdGlvbiwgRldITSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0ZpdFJlc3VsdCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5jYWxsU2hvd01lc3NhZ2VCb3goJ0ZpdFJlc3VsdDonICsgcGFydHNbMl0sICd3YXJuaW5nJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgJ1N0YXJEZXRlY3Rpb25SZXN1bHQnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgICAgICAgICB2YXIgZGV0ZWN0ZWQgPSBwYXJ0c1sxXSA9PT0gJ3RydWUnOwogICAgICAgICAgICAgICAgICB2YXIgaGZyID0gcGFyc2VGbG9hdChwYXJ0c1syXSk7CgogICAgICAgICAgICAgICAgICBpZiAoZGV0ZWN0ZWQpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuY2FsbFNob3dNZXNzYWdlQm94KCJcdTY2MUZcdTcwQjlcdTc2ODRIRlJcdTRFM0FcdUZGMUEiLmNvbmNhdChoZnIpLCAnaW5mbycpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5jYWxsU2hvd01lc3NhZ2VCb3goJ+acquivhuWIq+WIsOaYn+eCuScsICd3YXJuaW5nJyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnQXV0b0ZvY3VzTW9kZUNoYW5nZWQnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgICAgICAgICB2YXIgbW9kZSA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgdmFyIF9oZnIgPSBwYXJzZUZsb2F0KHBhcnRzWzJdKTsKCiAgICAgICAgICAgICAgICAgIGlmIChtb2RlID09PSAnY29hcnNlJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5jYWxsU2hvd01lc3NhZ2VCb3goJ+i/m+WFpeeyl+iwg+aooeW8jycsICdpbmZvJyk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2ZpbmUnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmNhbGxTaG93TWVzc2FnZUJveCgn6L+b5YWl57K+6LCD5qih5byPJywgJ2luZm8nKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdBdXRvRm9jdXNTdGVwQ2hhbmdlZCc6CiAgICAgICAgICAgICAgICAvLyBbQVVUT19GT0NVU19VSV9FTkhBTkNFTUVOVF0KICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPj0gMykgewogICAgICAgICAgICAgICAgICB2YXIgc3RlcCA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICB2YXIgZGVzY3JpcHRpb24gPSBwYXJ0c1syXTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0F1dG9Gb2N1c1N0ZXBDaGFuZ2VkOicsIHN0ZXAsIGRlc2NyaXB0aW9uKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdVcGRhdGVBdXRvRm9jdXNTdGVwJywgc3RlcCwgZGVzY3JpcHRpb24pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdhZGRNaW5Qb2ludERhdGFfUG9pbnQnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgICAgICAgICB2YXIgeCA9IHBhcnNlSW50KHBhcnRzWzFdKTsKICAgICAgICAgICAgICAgICAgdmFyIHkgPSBwYXJzZUZsb2F0KHBhcnRzWzJdKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdhZGRNaW5Qb2ludERhdGFfUG9pbnQnLCB4LCB5KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnYWRkTGluZURhdGFfUG9pbnQnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gNCkgewogICAgICAgICAgICAgICAgICB2YXIgYSA9IHBhcnNlRmxvYXQocGFydHNbMV0pOwogICAgICAgICAgICAgICAgICB2YXIgYiA9IHBhcnNlRmxvYXQocGFydHNbMl0pOwogICAgICAgICAgICAgICAgICB2YXIgYyA9IHBhcnNlRmxvYXQocGFydHNbM10pOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYWRkTGluZURhdGFfUG9pbnQ6JywgYSwgYiwgYyk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnYWRkTGluZURhdGFfUG9pbnQnLCBhLCBiLCBjKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnTWFpbkNhbWVyYVNpemUnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgICAgICAgICB2YXIgU2l6ZVggPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIFNpemVZID0gcGFydHNbMl07CgogICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnTWFpbkNhbWVyYVNpemUnLCBTaXplWCwgU2l6ZVkpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLm1haW5DYW1lcmFTaXplWCA9IFNpemVYOwogICAgICAgICAgICAgICAgICBfdGhpczIubWFpbkNhbWVyYVNpemVZID0gU2l6ZVk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ01haW5DYW1lcmFCaW5uaW5nJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmNhbWVyYUJpbiA9IHBhcnNlSW50KHBhcnRzWzFdKTsKICAgICAgICAgICAgICAgICAgX3RoaXMyLk1haW5DYW1lcmFDb25maWdJdGVtcy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0ubGFiZWwgPT09ICdCaW5uaW5nJzsKICAgICAgICAgICAgICAgICAgfSkudmFsdWUgPSBfdGhpczIuY2FtZXJhQmluOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ01haW5DYW1lcmFCaW5uaW5nJywgX3RoaXMyLmNhbWVyYUJpbik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0g54m55q6K5aSE55CGLOWGhemDqOino+aekOaVsOaNrgoKICAgICAgICAgICAgICBjYXNlICdmaXRRdWFkcmF0aWNDdXJ2ZSc6CiAgICAgICAgICAgICAgICAvLyDmlrDnmoTmlbDmja7moLzlvI86ICJmaXRRdWFkcmF0aWNDdXJ2ZTphOmI6YzpiZXN0UG9zaXRpb246bWluSEZSIgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0FwcC52dWUgfCDmjqXmlLbliLBmaXRRdWFkcmF0aWNDdXJ2Zea2iOaBrzonLCBkYXRhLm1lc3NhZ2UpOyAvLyDkvb/nlKhzZXRUaW1lb3V056Gu5L+d5riF6Zmk5pON5L2c5Zyo5re75Yqg5pWw5o2u5LmL5YmN5a6M5oiQCgogICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ0NsZWFyZml0UXVhZHJhdGljQ3VydmUnKTsKCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ2ZpdFF1YWRyYXRpY0N1cnZlJywgZGF0YS5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIH0sIDEwKTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdmaXRRdWFkcmF0aWNDdXJ2ZV9taW5Qb2ludCc6CiAgICAgICAgICAgICAgICAvLyDmlrDnmoTmlbDmja7moLzlvI86ICJmaXRRdWFkcmF0aWNDdXJ2ZV9taW5Qb2ludDpiZXN0UG9zaXRpb246bWluSEZSIgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0FwcC52dWUgfCDmjqXmlLbliLBmaXRRdWFkcmF0aWNDdXJ2ZV9taW5Qb2ludOa2iOaBrzonLCBkYXRhLm1lc3NhZ2UpOwoKICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdmaXRRdWFkcmF0aWNDdXJ2ZV9taW5Qb2ludCcsIGRhdGEubWVzc2FnZSk7CgogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCiAgICAgICAgICAgICAgY2FzZSAnVGVsZXNjb3BlUGFyayc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBTd2l0Y2ggPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdNb3VudFBhcmtTd2l0Y2gnLCBTd2l0Y2gpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdUZWxlc2NvcGVUcmFjayc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfU3dpdGNoID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnTW91bnRUcmFja1N3aXRjaCcsIF9Td2l0Y2gpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdNb3VudFNldFNwZWVkU3VjY2Vzcyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBudW0gPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCduZXdNb3VudFNsZXdSYXRlJywgbnVtKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnVGVsZXNjb3BlUGllclNpZGUnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgU2lkZSA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ3VwZGF0ZU1vdW50UGllclNpZGUnLCBTaWRlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnVGVsZXNjb3BlVG90YWxTbGV3UmF0ZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfbnVtID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnTW91bnRUb3RhbFNsZXdSYXRlJywgX251bSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1VwZGF0ZVNjaGVkdWxlUHJvY2Vzcyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBSb3dOdW0gPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIFByb2Nlc3MgPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdVcGRhdGVTY2hlZHVsZVByb2Nlc3MnLCBSb3dOdW0sIFByb2Nlc3MpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdFeHBUaW1lTGlzdCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdpbml0RXhwVGltZUxpc3QnLCBwYXJ0c1sxXSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0NhbWVyYUluRXhwb3N1cmluZyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfc3RhdHVzID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnQ2FtZXJhSW5FeHBvc3VyaW5nJywgX3N0YXR1cyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0F1dG9Gb2N1c092ZXInOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+PSA0KSB7CiAgICAgICAgICAgICAgICAgIC8vIOaWsOagvOW8jzogQXV0b0ZvY3VzT3ZlcjpzdWNjZXNzOmJlc3RQb3NpdGlvbjptaW5IRlIKICAgICAgICAgICAgICAgICAgdmFyIHN1Y2Nlc3MgPSBwYXJ0c1sxXSA9PT0gJ3RydWUnOwogICAgICAgICAgICAgICAgICB2YXIgYmVzdFBvc2l0aW9uID0gcGFyc2VGbG9hdChwYXJ0c1syXSk7CiAgICAgICAgICAgICAgICAgIHZhciBtaW5IRlIgPSBwYXJzZUZsb2F0KHBhcnRzWzNdKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdBdXRvRm9jdXNPdmVyJywgc3VjY2VzcywgYmVzdFBvc2l0aW9uLCBtaW5IRlIpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgLy8g5YW85a655pen5qC85byPOiBBdXRvRm9jdXNPdmVyCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdBdXRvRm9jdXNPdmVyJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0NGV1Bvc2l0aW9uTWF4JzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ1NldENGV1Bvc2l0aW9uTWF4JywgcGFydHNbMV0pOwoKICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gcGFydHNbMV07IGkrKykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5DRldDb25maWdJdGVtcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIGRyaXZlclR5cGU6ICdDRlcnLAogICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICJDRlcgWyIuY29uY2F0KGksICJdIiksCiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgICAgICAgICAgICAgICBpbnB1dFR5cGU6ICd0ZXh0JwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnZ2V0Q0ZXTGlzdCcpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdTZXRDRldQb3NpdGlvblN1Y2Nlc3MnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnU2V0Q0ZXUG9zaXRpb25TdWNjZXNzJywgcGFydHNbMV0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdnZXRDRldMaXN0JzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ2luaXRDRldMaXN0JywgcGFydHNbMV0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdHdWlkZXJTd2l0Y2hTdGF0dXMnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnR3VpZGVyU3dpdGNoU3RhdHVzJywgcGFydHNbMV0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdHdWlkZXJMb29wRXhwU3RhdHVzJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ0d1aWRlckxvb3BFeHBTdGF0dXMnLCBwYXJ0c1sxXSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1RlbGVzY29wZVJBREVDJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLlVwZGF0ZUNpcmNsZVBvcyhwYXJ0c1sxXSwgcGFydHNbMl0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ3VwZGF0ZUN1cnJlbnRMb2NhdGlvbicsIHBhcnRzWzFdLCBwYXJ0c1syXSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1RlbGVzY29wZVN0YXR1cyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5VcGRhdGVUZWxlc2NvcGVTdGF0dXMocGFydHNbMV0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdNYWluQ2FtZXJhU3RhdHVzJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLlVwZGF0ZU1haW5DYW1lcmFTdGF0dXMocGFydHNbMV0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdNYWluQ2FtZXJhVGVtcGVyYXR1cmUnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICBfdGhpczIuVXBkYXRlTWFpbkNhbWVyYVRlbXBlcmF0dXJlKHBhcnRzWzFdKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnU2hvd0FsbEltYWdlRm9sZGVyJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ1Nob3dBbGxJbWFnZUZvbGRlcicsIHBhcnRzWzFdLCBwYXJ0c1syXSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0ltYWdlRmlsZXNOYW1lJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ0ltYWdlRmlsZXNOYW1lJywgcGFydHNbMV0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdVU0JDaGVjayc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBVU0JkYXRhID0gcGFydHNbMV0uc3BsaXQoJywnKTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1VTQiBuYW1lOiAnLCBVU0JkYXRhWzBdKTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1VTQiBzcGFjZTogJywgVVNCZGF0YVsxXSk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuU2VuZENvbnNvbGVMb2dNc2coJ1VTQiBuYW1lOicgKyBVU0JkYXRhWzBdLCAnaW5mbycpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLlNlbmRDb25zb2xlTG9nTXNnKCdVU0Igc3BhY2U6JyArIFVTQmRhdGFbMV0sICdpbmZvJyk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnVVNCX05hbWVfU2FwY2UnLCBVU0JkYXRhWzBdLCBVU0JkYXRhWzFdKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnSW1hZ2VTYXZlRXJyb2UnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgRXJyb2UgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIGlmIChFcnJvZSA9PT0gJ1VTQi1OdWxsJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5jYWxsU2hvd01lc3NhZ2VCb3goJ05vIFVTQiBEcml2ZSBEZXRlY3RlZC4nLCAnZXJyb3InKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChFcnJvZSA9PT0gJ1VTQi1NdWx0aXBsZScpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuY2FsbFNob3dNZXNzYWdlQm94KCdNdWx0aXBsZSBVU0IgZHJpdmVzIGRldGVjdGVkLCBwbGVhc2UgcmVtb3ZlIGV4Y2VzcyBVU0IgZHJpdmVzLicsICdlcnJvcicpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0RldGVjdGVkU3RhcnMnOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0RldGVjdGVkJywgcGFydHMubGVuZ3RoLCAnc3RhcnMuJyk7CgogICAgICAgICAgICAgICAgX3RoaXMyLlNlbmRDb25zb2xlTG9nTXNnKCdEZXRlY3RlZCAnICsgcGFydHMubGVuZ3RoICsgJyBzdGFycy4nLCAnaW5mbycpOwoKICAgICAgICAgICAgICAgIF90aGlzMi5EZXRlY3RlZFN0YXJzTGlzdCA9IFtdOwoKICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBwYXJ0cy5sZW5ndGg7IF9pKyspIHsKICAgICAgICAgICAgICAgICAgdmFyIF9hID0gcGFydHNbX2ldOwoKICAgICAgICAgICAgICAgICAgdmFyIF9iID0gX2Euc3BsaXQoJ3wnKTsKCiAgICAgICAgICAgICAgICAgIGlmIChfYi5sZW5ndGggPT09IDMpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgX3ggPSBfYlswXTsKICAgICAgICAgICAgICAgICAgICB2YXIgX3kgPSBfYlsxXTsKICAgICAgICAgICAgICAgICAgICB2YXIgX2hmcjIgPSBfYlsyXTsgLy8gY29uc29sZS5sb2coJ1N0YXJzIGF0KCcsIHgsICcsJywgeSwgJykgd2l0aCBIRlI6JywgaGZyKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLkRldGVjdGVkU3RhcnNMaXN0LnB1c2goewogICAgICAgICAgICAgICAgICAgICAgeDogX3gsCiAgICAgICAgICAgICAgICAgICAgICB5OiBfeSwKICAgICAgICAgICAgICAgICAgICAgIGhmcjogX2hmcjIKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMi5EZXRlY3RlZFN0YXJzRmluaXNoID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdTb2x2ZUltYWdlUmVzdWx0JzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDUpIHsKICAgICAgICAgICAgICAgICAgLy8gdGhpcy5VcGRhdGVDaXJjbGVQb3MocGFydHNbMV0sIHBhcnRzWzJdKTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NvbHZlIEltYWdlIFJlc3VsdChSQV9EZWdyZWUsIERFQ19EZWdyZWUsIEF6aW11dGgsIEFsdGl0dWRlKTonLCBwYXJ0c1sxXSwgJywnLCBwYXJ0c1syXSwgJywnLCBwYXJ0c1szXSwgJywnLCBwYXJ0c1s0XSk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuU2VuZENvbnNvbGVMb2dNc2coJ1NvbHZlIEltYWdlIFJlc3VsdChSQV9EZWdyZWUsIERFQ19EZWdyZWUsIEF6aW11dGgsIEFsdGl0dWRlKTonICsgcGFydHNbMV0gKyAnLCcgKyBwYXJ0c1syXSArICcsJyArIHBhcnRzWzNdICsgJywnICsgcGFydHNbNF0sICdpbmZvJyk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuU29sdmVSZXN1bHRNYXJrKHBhcnRzWzFdLCBwYXJ0c1syXSwgcGFydHNbM10sIHBhcnRzWzRdKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCJJbWFnZVNvbHZlRmluaXNoZWQiLCB0cnVlKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdzZXRQYXJzaW5nUHJvZ3Jlc3MnLCBmYWxzZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1NvbHZlRm92UmVzdWx0JzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDkpIHsKICAgICAgICAgICAgICAgICAgdmFyIFJhRGVjID0gW3sKICAgICAgICAgICAgICAgICAgICBSYTogcGFydHNbMV0sCiAgICAgICAgICAgICAgICAgICAgRGVjOiBwYXJ0c1syXQogICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgUmE6IHBhcnRzWzNdLAogICAgICAgICAgICAgICAgICAgIERlYzogcGFydHNbNF0KICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIFJhOiBwYXJ0c1s1XSwKICAgICAgICAgICAgICAgICAgICBEZWM6IHBhcnRzWzZdCiAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICBSYTogcGFydHNbN10sCiAgICAgICAgICAgICAgICAgICAgRGVjOiBwYXJ0c1s4XQogICAgICAgICAgICAgICAgICB9XTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5Tb2x2ZUZvdk1hcmsoUmFEZWMpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdSZWFsVGltZVNvbHZlSW1hZ2VSZXN1bHQnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gNSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU29sdmUgSW1hZ2UgUmVzdWx0KFJBX0RlZ3JlZSwgREVDX0RlZ3JlZSwgQXppbXV0aCwgQWx0aXR1ZGUpOicsIHBhcnRzWzFdLCAnLCcsIHBhcnRzWzJdLCAnLCcsIHBhcnRzWzNdLCAnLCcsIHBhcnRzWzRdKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5TZW5kQ29uc29sZUxvZ01zZygnU29sdmUgSW1hZ2UgUmVzdWx0KFJBX0RlZ3JlZSwgREVDX0RlZ3JlZSwgQXppbXV0aCwgQWx0aXR1ZGUpOicgKyBwYXJ0c1sxXSArICcsJyArIHBhcnRzWzJdICsgJywnICsgcGFydHNbM10gKyAnLCcgKyBwYXJ0c1s0XSwgJ2luZm8nKTsKCiAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBfdGhpczIuU29sdmVSZXN1bHRNYXJrX1JlYWxUaW1lKHBhcnRzWzFdLCBwYXJ0c1syXSwgcGFydHNbM10sIHBhcnRzWzRdKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnU29sdmVJbWFnZVN1Y2NlZWRlZCc6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn6Kej5p6Q5ZCM5q2l5oiQ5YqfJyk7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoImhhbmRsZU9wZXJhdGlvbkNvbXBsZXRlIiwgInNvbHZlIik7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ3Nob3dNc2dCb3gnLCAnU29sdmUgaW1hZ2Ugc3VjY2VlZCEnLCAnc3VjY2VzcycpOwoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdTb2x2ZUltYWdlZmFpbGVkJzoKICAgICAgICAgICAgICAgIF90aGlzMi5jYWxsU2hvd01lc3NhZ2VCb3goJ1NvbHZlIGltYWdlIGZhaWxkLi4uJywgJ2Vycm9yJyk7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoIkltYWdlU29sdmVGaW5pc2hlZCIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnc2V0UGFyc2luZ1Byb2dyZXNzJywgZmFsc2UpOwoKICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdNb3VudE9wZXJhdGlvbkNvbXBsZXRlJywgJ3NvbHZlJyk7CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ01haW5DYW1lcmFPZmZzZXRSYW5nZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNYWluQ2FtZXJhT2Zmc2V0UmFuZ2U6JywgcGFydHNbMV0sICcsJywgcGFydHNbMl0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLlNlbmRDb25zb2xlTG9nTXNnKCdNYWluQ2FtZXJhT2Zmc2V0UmFuZ2U6JyArIHBhcnRzWzFdICsgJywnICsgcGFydHNbMl0sICdpbmZvJyk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuTWFpbkNhbWVyYU9mZnNldE1pbiA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICBfdGhpczIuTWFpbkNhbWVyYU9mZnNldE1heCA9IHBhcnRzWzJdOwoKICAgICAgICAgICAgICAgICAgdmFyIE9mZnNldEl0ZW0gPSBfdGhpczIuTWFpbkNhbWVyYUNvbmZpZ0l0ZW1zLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5sYWJlbCA9PT0gJ09mZnNldCc7CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgaWYgKE9mZnNldEl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTWFpbkNhbWVyYU9mZnNldFJhbmdlOicsIHBhcnNlSW50KF90aGlzMi5NYWluQ2FtZXJhT2Zmc2V0TWluLCAxMCksICcsJywgcGFyc2VJbnQoX3RoaXMyLk1haW5DYW1lcmFPZmZzZXRNYXgsIDEwKSk7CiAgICAgICAgICAgICAgICAgICAgT2Zmc2V0SXRlbS5pbnB1dE1pbiA9IHBhcnNlSW50KF90aGlzMi5NYWluQ2FtZXJhT2Zmc2V0TWluLCAxMCk7CiAgICAgICAgICAgICAgICAgICAgT2Zmc2V0SXRlbS5pbnB1dE1heCA9IHBhcnNlSW50KF90aGlzMi5NYWluQ2FtZXJhT2Zmc2V0TWF4LCAxMCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnTWFpbkNhbWVyYUdhaW5SYW5nZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNYWluQ2FtZXJhR2FpblJhbmdlOicsIHBhcnRzWzFdLCAnLCcsIHBhcnRzWzJdKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5TZW5kQ29uc29sZUxvZ01zZygnTWFpbkNhbWVyYUdhaW5SYW5nZTonICsgcGFydHNbMV0gKyAnLCcgKyBwYXJ0c1syXSwgJ2luZm8nKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5NYWluQ2FtZXJhR2Fpbk1pbiA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICBfdGhpczIuTWFpbkNhbWVyYUdhaW5NYXggPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICAgIHZhciBnYWluSXRlbSA9IF90aGlzMi5NYWluQ2FtZXJhQ29uZmlnSXRlbXMuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmxhYmVsID09PSAnR2Fpbic7CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgaWYgKGdhaW5JdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ01haW5DYW1lcmFHYWluUmFuZ2U6JywgcGFyc2VJbnQoX3RoaXMyLk1haW5DYW1lcmFHYWluTWluLCAxMCksICcsJywgcGFyc2VJbnQoX3RoaXMyLk1haW5DYW1lcmFHYWluTWF4LCAxMCkpOwogICAgICAgICAgICAgICAgICAgIGdhaW5JdGVtLmlucHV0TWluID0gcGFyc2VJbnQoX3RoaXMyLk1haW5DYW1lcmFHYWluTWluLCAxMCk7CiAgICAgICAgICAgICAgICAgICAgZ2Fpbkl0ZW0uaW5wdXRNYXggPSBwYXJzZUludChfdGhpczIuTWFpbkNhbWVyYUdhaW5NYXgsIDEwKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdPdXRwdXRQb3dlclN0YXR1cyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHBhcnNlSW50KHBhcnRzWzFdLCAxMCk7CgogICAgICAgICAgICAgICAgICB2YXIgX3ZhbHVlID0gcGFyc2VJbnQocGFydHNbMl0sIDEwKTsKCiAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5PdXRQdXRQb3dlcl8xX09OID0gX3ZhbHVlID09PSAxOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGluZGV4ID09PSAyKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLk91dFB1dFBvd2VyXzJfT04gPSBfdmFsdWUgPT09IDE7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnUEhEMlN0YXJCb3hWaWV3JzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIHZpZXcgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdQSEQyU3RhckJveFZpZXcnLCB2aWV3KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnUEhEMlN0YXJDcm9zc1ZpZXcnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgX3ZpZXcgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdQSEQyU3RhckNyb3NzVmlldycsIF92aWV3KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnUEhEMlN0YXJCb3hQb3NpdGlvbic6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSA1KSB7CiAgICAgICAgICAgICAgICAgIHZhciBQSEQySW1hZ2VTaXplX1ggPSBwYXJzZUludChwYXJ0c1sxXSwgMTApOwogICAgICAgICAgICAgICAgICB2YXIgUEhEMkltYWdlU2l6ZV9ZID0gcGFyc2VJbnQocGFydHNbMl0sIDEwKTsKICAgICAgICAgICAgICAgICAgdmFyIEJveF9YID0gcGFyc2VJbnQocGFydHNbM10sIDEwKTsKICAgICAgICAgICAgICAgICAgdmFyIEJveF9ZID0gcGFyc2VJbnQocGFydHNbNF0sIDEwKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5EcmF3UEhEMkJveChQSEQySW1hZ2VTaXplX1gsIFBIRDJJbWFnZVNpemVfWSwgQm94X1gsIEJveF9ZKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnUEhEMk11bHRpU3RhcnNQb3NpdGlvbic6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSA1KSB7CiAgICAgICAgICAgICAgICAgIHZhciBfUEhEMkltYWdlU2l6ZV9YID0gcGFyc2VJbnQocGFydHNbMV0sIDEwKTsKCiAgICAgICAgICAgICAgICAgIHZhciBfUEhEMkltYWdlU2l6ZV9ZID0gcGFyc2VJbnQocGFydHNbMl0sIDEwKTsKCiAgICAgICAgICAgICAgICAgIHZhciBfQm94X1ggPSBwYXJzZUludChwYXJ0c1szXSwgMTApOwoKICAgICAgICAgICAgICAgICAgdmFyIF9Cb3hfWSA9IHBhcnNlSW50KHBhcnRzWzRdLCAxMCk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuRHJhd1BIRDJNdWx0aVN0YXJzKF9QSEQySW1hZ2VTaXplX1gsIF9QSEQySW1hZ2VTaXplX1ksIF9Cb3hfWCwgX0JveF9ZKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnQ2xlYXJQSEQyTXVsdGlTdGFycyc6CiAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnQ2xlYXJQSEQyTXVsdGlTdGFycycpOwoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdQSEQyU3RhckNyb3NzUG9zaXRpb24nOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gNSkgewogICAgICAgICAgICAgICAgICB2YXIgX1BIRDJJbWFnZVNpemVfWDIgPSBwYXJzZUludChwYXJ0c1sxXSwgMTApOwoKICAgICAgICAgICAgICAgICAgdmFyIF9QSEQySW1hZ2VTaXplX1kyID0gcGFyc2VJbnQocGFydHNbMl0sIDEwKTsKCiAgICAgICAgICAgICAgICAgIHZhciBDcm9zc19YID0gcGFyc2VJbnQocGFydHNbM10sIDEwKTsKICAgICAgICAgICAgICAgICAgdmFyIENyb3NzX1kgPSBwYXJzZUludChwYXJ0c1s0XSwgMTApOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLkRyYXdQSEQyQ3Jvc3MoX1BIRDJJbWFnZVNpemVfWDIsIF9QSEQySW1hZ2VTaXplX1kyLCBDcm9zc19YLCBDcm9zc19ZKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnUVRDbGllbnRWZXJzaW9uJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLlFUQ2xpZW50VmVyc2lvbiA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdDYXB0dXJlSW1hZ2VTYXZlU3RhdHVzJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9zdGF0dXMyID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBpZiAoX3N0YXR1czIgPT09ICdSZXBlYXQnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmNhbGxTaG93TWVzc2FnZUJveChfdGhpczIuJHQoJ1RoZXJlIGlzIG5vIG5lZWQgdG8gc2F2ZSBpdCBhZ2FpbicpLCAnZXJyb3InKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfc3RhdHVzMiA9PT0gJ1N1Y2Nlc3MnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmNhbGxTaG93TWVzc2FnZUJveChfdGhpczIuJHQoJ0ltYWdlIHNhdmVkIHN1Y2Nlc3NmdWxseScpLCAnc3VjY2VzcycpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF9zdGF0dXMyID09PSAnTnVsbCcpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuY2FsbFNob3dNZXNzYWdlQm94KF90aGlzMi4kdCgnTm8gaW1hZ2VzIHRvIHNhdmUnKSwgJ2Vycm9yJyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnSU5ESVNlcnZlckRlYnVnJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9tZXNzYWdlMiA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ0lORElTZXJ2ZXJEZWJ1ZycsIF9tZXNzYWdlMik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0hvdHNwb3ROYW1lJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIE5hbWUgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdIb3RzcG90TmFtZScsIE5hbWUpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdFZGl0SG90c3BvdE5hbWVTdWNjZXNzJzoKICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdFZGl0SG90c3BvdE5hbWVTdWNjZXNzJyk7CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0RTTFJzU2V0dXAnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgX05hbWUgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdTaG93RFNMUnNTZXR1cCcsIF9OYW1lKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnQ29uZmlndXJlUmVjb3ZlcnknOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgICAgICAgICB2YXIgQ29uZmlnTmFtZSA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICB2YXIgQ29uZmlnVmFsdWUgPSBwYXJ0c1syXTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NvbmZpZ3VyZTonLCBDb25maWdOYW1lLCAnLCcsIENvbmZpZ1ZhbHVlKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5TZW5kQ29uc29sZUxvZ01zZygnQ29uZmlndXJlIFJlY292ZXJ5OicgKyBwYXJ0c1sxXSArICcsJyArIHBhcnRzWzJdLCAnaW5mbycpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoQ29uZmlnTmFtZSwgQ29uZmlnVmFsdWUpOwoKICAgICAgICAgICAgICAgICAgaWYgKHBhcnRzWzFdID09PSAnRm9jYWxMZW5ndGgnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLlRlbGVzY29wZXNDb25maWdJdGVtc1swXS52YWx1ZSA9IHBhcnRzWzJdOwoKICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoX3RoaXMyLmRldmljZXMpLAogICAgICAgICAgICAgICAgICAgICAgICBfc3RlcDsKCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZGV2aWNlMiA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kZXZpY2UyLmRyaXZlclR5cGUgPT09ICdUZWxlc2NvcGVzJykgewogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0c1syXSA9PT0gJycgfHwgcGFydHNbMl0gPT09IE5hTikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RldmljZTIuZGV2aWNlID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGV2aWNlMi5pc0Nvbm5lY3RlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGV2aWNlMi5kZXZpY2UgPSBwYXJ0c1syXSArICcgbW0nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RldmljZTIuaXNDb25uZWN0ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmIChwYXJ0c1sxXSA9PT0gJ0d1aWRlckZvY2FsTGVuZ3RoJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5HdWlkZXJDb25maWdJdGVtc1swXS52YWx1ZSA9IHBhcnRzWzJdOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnR3VpZGVyRm9jYWxMZW5ndGg6JyArIHBhcnRzWzJdKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKHBhcnRzWzFdID09PSAnQ29vcmRpbmF0ZXMnKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIF9wYXJ0cyQyJHNwbGl0JG1hcCA9IHBhcnRzWzJdLnNwbGl0KCcsJykubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgICAgICAgIF9wYXJ0cyQyJHNwbGl0JG1hcDIgPSBfc2xpY2VkVG9BcnJheShfcGFydHMkMiRzcGxpdCRtYXAsIDMpLAogICAgICAgICAgICAgICAgICAgICAgICBsYXRTdHIgPSBfcGFydHMkMiRzcGxpdCRtYXAyWzBdLAogICAgICAgICAgICAgICAgICAgICAgICBsbmdTdHIgPSBfcGFydHMkMiRzcGxpdCRtYXAyWzFdLAogICAgICAgICAgICAgICAgICAgICAgICBpc0F1dG9TdHIgPSBfcGFydHMkMiRzcGxpdCRtYXAyWzJdOwoKICAgICAgICAgICAgICAgICAgICB2YXIgbGF0ID0gcGFyc2VGbG9hdChsYXRTdHIpOwogICAgICAgICAgICAgICAgICAgIHZhciBsbmcgPSBwYXJzZUZsb2F0KGxuZ1N0cik7CiAgICAgICAgICAgICAgICAgICAgdmFyIGlzQXV0byA9IGlzQXV0b1N0ciA9PT0gJ3RydWUnIHx8IGlzQXV0b1N0ciA9PT0gJzEnOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczIuU2V0Q3VycmVudExvY2F0aW9uKGxhdCwgbG5nLCBpc0F1dG8pOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAocGFydHNbMV0gPT09ICdNdWx0aVN0YXJHdWlkZXInKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLkd1aWRlckNvbmZpZ0l0ZW1zWzFdLnZhbHVlID0gcGFydHNbMl0gPT09ICd0cnVlJzsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ011bHRpU3Rhckd1aWRlcjonICsgcGFydHNbMl0pOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAocGFydHNbMV0gPT09ICdHdWlkZXJHYWluJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5HdWlkZXJDb25maWdJdGVtc1syXS52YWx1ZSA9IHBhcnRzWzJdOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnR3VpZGVyR2FpbjonICsgcGFydHNbMl0pOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAocGFydHNbMV0gPT09ICdDYWxpYnJhdGlvbkR1cmF0aW9uJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5HdWlkZXJDb25maWdJdGVtc1szXS52YWx1ZSA9IHBhcnRzWzJdOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnQ2FsaWJyYXRpb25EdXJhdGlvbjonICsgcGFydHNbMl0pOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBpZiAocGFydHNbMV0gPT09ICdSYUFnZ3Jlc3Npb24nKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLkd1aWRlckNvbmZpZ0l0ZW1zWzRdLnZhbHVlID0gcGFydHNbMl07CgogICAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdSYUFnZ3Jlc3Npb246JyArIHBhcnRzWzJdKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKHBhcnRzWzFdID09PSAnRGVjQWdncmVzc2lvbicpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuR3VpZGVyQ29uZmlnSXRlbXNbNV0udmFsdWUgPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0RlY0FnZ3Jlc3Npb246JyArIHBhcnRzWzJdKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdDb25uZWN0RHJpdmVyU3VjY2Vzcyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfZGV2aWNlMyA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLmNvbm5lY3REcml2ZXJTdWNjZXNzKF9kZXZpY2UzKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnZ2V0RGV2aWNlUG9ydCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBkcml2ZXJUeXBlID0gcGFydHNbMV07CiAgICAgICAgICAgICAgICAgIHZhciB1c2JTZXJpYWxQYXRoID0gcGFydHNbMl07CgogICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gX3RoaXMyLmRldmljZXMuZmluZChmdW5jdGlvbiAoZGV2KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRldi5kcml2ZXJUeXBlID09PSBkcml2ZXJUeXBlOwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQpIHsKICAgICAgICAgICAgICAgICAgICB0YXJnZXQudXNiU2VyaWFsUGF0aCA9IHVzYlNlcmlhbFBhdGg7CgogICAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdzZW5kQ3VycmVudENvbm5lY3RlZERldmljZXMnLCBfdGhpczIuZGV2aWNlcyk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdnZXRVU0JTZXJpYWxQYXRoIHwgZGV2aWNlIG5vdCBmb3VuZCBmb3IgdHlwZTonLCBkcml2ZXJUeXBlKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdnZXRTREtWZXJzaW9uJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDMpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9kcml2ZXJUeXBlID0gcGFydHNbMV07CiAgICAgICAgICAgICAgICAgIHZhciBzZGtWZXJzaW9uID0gcGFydHNbMl07CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnZXRTREtWZXJzaW9uOicsIF9kcml2ZXJUeXBlLCAnLCcsIHNka1ZlcnNpb24pOwoKICAgICAgICAgICAgICAgICAgdmFyIF90YXJnZXQgPSBfdGhpczIuZGV2aWNlcy5maW5kKGZ1bmN0aW9uIChkZXYpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGV2LmRyaXZlclR5cGUgPT09IF9kcml2ZXJUeXBlOwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIGlmIChfdGFyZ2V0KSB7CiAgICAgICAgICAgICAgICAgICAgX3RhcmdldC5zZGtWZXJzaW9uID0gc2RrVmVyc2lvbjsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ3NlbmRDdXJyZW50Q29ubmVjdGVkRGV2aWNlcycsIF90aGlzMi5kZXZpY2VzKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2dldFNES1ZlcnNpb24gfCBkZXZpY2Ugbm90IGZvdW5kIGZvciB0eXBlOicsIF9kcml2ZXJUeXBlKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ05ldyBkZXZpY2VzOicsIF90aGlzMi5kZXZpY2VzKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnQ29ubmVjdERyaXZlckZhaWxlZCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfbWVzc2FnZTMgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5jb25uZWN0RHJpdmVyRmFpbGVkKF9tZXNzYWdlMyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0Rpc2Nvbm5lY3REcml2ZXJTdWNjZXNzJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9kZXZpY2U0ID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpczIuZGlzY29ubmVjdERyaXZlcnN1Y2Nlc3MoX2RldmljZTQpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdEaXNjb25uZWN0RHJpdmVyRmFpbCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfZHJpdmVyID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpczIuZGlzY29ubmVjdERyaXZlckZhaWwoX2RyaXZlcik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgJ1NlbGVjdGVkRHJpdmVyTGlzdCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID49IDMpIHsKICAgICAgICAgICAgICAgICAgdmFyIGRldmljZU9iamVjdHMgPSBwYXJ0cy5zbGljZSgxKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGFydCwgaW5kZXgsIGFycmF5KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICUgMiA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgYWNjLnB1c2goX2RlZmluZVByb3BlcnR5KHt9LCBhcnJheVtpbmRleF0sIGFycmF5W2luZGV4ICsgMV0pKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7CiAgICAgICAgICAgICAgICAgIH0sIFtdKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5sb2FkU2VsZWN0ZWREcml2ZXJMaXN0KGRldmljZU9iamVjdHMpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdCaW5kRGV2aWNlTGlzdCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID49IDMpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9kZXZpY2VPYmplY3RzID0gcGFydHMuc2xpY2UoMSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHBhcnQsIGluZGV4LCBhcnJheSkgewogICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCAlIDIgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgIGFjYy5wdXNoKF9kZWZpbmVQcm9wZXJ0eSh7fSwgYXJyYXlbaW5kZXhdLCBhcnJheVtpbmRleCArIDFdKSk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjOwogICAgICAgICAgICAgICAgICB9LCBbXSk7CgogICAgICAgICAgICAgICAgICBfdGhpczIubG9hZEJpbmREZXZpY2VMaXN0KF9kZXZpY2VPYmplY3RzKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnU0RLVmVyc2lvbkFuZFVTQlNlcmlhbFBhdGgnOgogICAgICAgICAgICAgICAgLy8g5Zu65a6a5qC85byP77yaU0RLVmVyc2lvbkFuZFVTQlNlcmlhbFBhdGg6VHlwZTE6U0RLMTpVU0IxOlR5cGUyOlNESzI6VVNCMjouLi4KICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPiAxICYmIChwYXJ0cy5sZW5ndGggLSAxKSAlIDMgPT09IDApIHsKICAgICAgICAgICAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoX2kyKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIFR5cGUgPSAocGFydHNbX2kyXSB8fCAnJykudHJpbSgpOwogICAgICAgICAgICAgICAgICAgIHZhciBTREsgPSAocGFydHNbX2kyICsgMV0gfHwgJycpLnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICB2YXIgVVNCID0gKHBhcnRzW19pMiArIDJdIHx8ICcnKS50cmltKCk7CgogICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBfdGhpczIuZGV2aWNlcy5maW5kKGZ1bmN0aW9uIChkZXYpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXYuZHJpdmVyVHlwZSA9PT0gVHlwZTsKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCkgewogICAgICAgICAgICAgICAgICAgICAgLy8g6Z2e56m65omN6LWL5YC877yb56m65oiWICJudWxsIiDliJnmuIXnqboKICAgICAgICAgICAgICAgICAgICAgIGlmIChTREsgJiYgU0RLLnRvTG93ZXJDYXNlKCkgIT09ICdudWxsJykgdGFyZ2V0LnNka1ZlcnNpb24gPSBTREs7ZWxzZSB0YXJnZXQuc2RrVmVyc2lvbiA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgaWYgKFVTQiAmJiBVU0IudG9Mb3dlckNhc2UoKSAhPT0gJ251bGwnKSB0YXJnZXQudXNiU2VyaWFsUGF0aCA9IFVTQjtlbHNlIHRhcmdldC51c2JTZXJpYWxQYXRoID0gJyc7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignU0RLVmVyc2lvbkFuZFVTQlNlcmlhbFBhdGggfCBkZXZpY2Ugbm90IGZvdW5kIGZvciB0eXBlOicsIFR5cGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pMiA9IDE7IF9pMiA8IHBhcnRzLmxlbmd0aDsgX2kyICs9IDMpIHsKICAgICAgICAgICAgICAgICAgICBfbG9vcChfaTIpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnc2VuZEN1cnJlbnRDb25uZWN0ZWREZXZpY2VzJywgX3RoaXMyLmRldmljZXMpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdTREtWZXJzaW9uQW5kVVNCU2VyaWFsUGF0aCB8IGludmFsaWQgcGF5bG9hZDonLCBkYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdCaW5kRGV2aWNlVHlwZUxpc3QnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+PSA1KSB7CiAgICAgICAgICAgICAgICAgIC8vIOehruS/neiHs+WwkeacieS6lOS4quWPguaVsOWKoOS4iuWJjee8gAogICAgICAgICAgICAgICAgICB2YXIgZGV2aWNlVHlwZU9iamVjdHMgPSBbXTsKCiAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pMyA9IDE7IF9pMyA8IHBhcnRzLmxlbmd0aDsgX2kzICs9IDQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZGV2aWNlVHlwZU9iamVjdCA9IHsKICAgICAgICAgICAgICAgICAgICAgIFR5cGU6IHBhcnRzW19pM10sCiAgICAgICAgICAgICAgICAgICAgICBEZXZpY2VOYW1lOiBwYXJ0c1tfaTMgKyAxXSwKICAgICAgICAgICAgICAgICAgICAgIERyaXZlck5hbWU6IHBhcnRzW19pMyArIDJdLAogICAgICAgICAgICAgICAgICAgICAgaXNiaW5kOiBwYXJ0c1tfaTMgKyAzXSA9PSAidHJ1ZSIgPyB0cnVlIDogZmFsc2UKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIGRldmljZVR5cGVPYmplY3RzLnB1c2goZGV2aWNlVHlwZU9iamVjdCk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzMi5sb2FkQmluZERldmljZVR5cGVMaXN0KGRldmljZVR5cGVPYmplY3RzKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnZGVsZXRlRGV2aWNlQWxsb2NhdGlvbkxpc3QnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgX2RldmljZU5hbWUgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5kZWxldGVEZXZpY2VBbGxvY2F0aW9uTGlzdChfZGV2aWNlTmFtZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZURldmljZVR5cGVBbGxvY2F0aW9uTGlzdCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBkZXZpY2VUeXBlID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBpZiAoZGV2aWNlVHlwZSAhPSAnJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdkZWxldGVEZXZpY2VUeXBlQWxsb2NhdGlvbkxpc3QnLCBkZXZpY2VUeXBlKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKGRldmljZVR5cGUgPT0gJ0NGVycpIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaTQgPSAwOyBfaTQgPCBfdGhpczIuZGV2aWNlcy5sZW5ndGg7IF9pNCsrKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLmRldmljZXNbX2k0XS5kcml2ZXJUeXBlID09ICdDRlcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5kZXZpY2VzW19pNF0uaXNDb25uZWN0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmRldmljZXNbX2k0XS5kZXZpY2UgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmRldmljZXNbX2k0XS5kcml2ZXJOYW1lID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5kZXZpY2VzW19pNF0uQmF1ZFJhdGUgPSA5NjAwOwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ0NGV0Nvbm5lY3RlZCcsIDApOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdQYXJzZUluZm9FbWl0dGVkJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIHByb2dyZXNzID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnUGFyc2VJbmZvRW1pdHRlZCcsIHByb2dyZXNzKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnR3VpZGVyVXBkYXRlU3RhdHVzJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9zdGF0dXMzID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnR3VpZGVyVXBkYXRlU3RhdHVzJywgcGFyc2VJbnQoX3N0YXR1czMsIDEwKSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0xvb3BTb2x2ZUltYWdlRmluaXNoZWQnOgogICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ0xvb3BTb2x2ZUltYWdlRmluaXNoZWQnKTsKCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnZGlzY29ubmVjdERldmljZWhhc29ydGhlcmRldmljZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBkcml2ZXJuYW1lID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpczIuc2hvd1NlbGVjdGRpc2Nvbm5lY3REcml2ZXIoZHJpdmVybmFtZSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ2dldEZvY3VzZXJNb3ZlU3RhdGUnOgogICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ2dldEZvY3VzZXJNb3ZlU3RhdGUnKTsKCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnRm9jdXNNb3ZlVG9MaW1pdCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBlcnJvcmxvZyA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLmNhbGxTaG93TWVzc2FnZUJveChlcnJvcmxvZywgJ2Vycm9yJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ3N0YXJ0Rm9jdXNMb29wRmFpbGVkJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9tZXNzYWdlNCA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ3N0YXJ0Rm9jdXNMb29wRmFpbGVkJywgX21lc3NhZ2U0KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnc2V0Rm9jdXNlckxvb3BpbmdTdGF0ZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfbWVzc2FnZTUgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdzZXRGb2N1c2VyTG9vcGluZ1N0YXRlJywgX21lc3NhZ2U1KTsKCiAgICAgICAgICAgICAgICAgIGlmIChfbWVzc2FnZTUgPT0gJ3RydWUnKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmlzRm9jdXNMb29wU2hvb3RpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5pc0ZvY3VzTG9vcFNob290aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnZm9jdXNlclJPSVN0YXJzTGlzdCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSA0KSB7CiAgICAgICAgICAgICAgICAgIHZhciBfeDIgPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIF95MiA9IHBhcnRzWzJdOwogICAgICAgICAgICAgICAgICB2YXIgSEZSID0gcGFydHNbM107CgogICAgICAgICAgICAgICAgICBfdGhpczIuZm9jdXNlclJPSVN0YXJzTGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICB4OiBfeDIsCiAgICAgICAgICAgICAgICAgICAgeTogX3kyLAogICAgICAgICAgICAgICAgICAgIEhGUjogSEZSCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIC8vIGNhc2UgJ2NsZWFyRm9jdXNlclJPSVN0YXJzTGlzdCc6CiAgICAgICAgICAgICAgLy8gICB0aGlzLmZvY3VzZXJST0lTdGFyc0xpc3QgPSBbXTsKICAgICAgICAgICAgICAvLyAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdzZXRTZWxlY3RTdGFyUG9zaXRpb24nOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gNCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuRHJhd1NlbGVjdFN0YXJYID0gcGFyc2VGbG9hdChwYXJ0c1sxXSk7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5EcmF3U2VsZWN0U3RhclkgPSBwYXJzZUZsb2F0KHBhcnRzWzJdKTsKICAgICAgICAgICAgICAgICAgX3RoaXMyLkRyYXdTZWxlY3RTdGFySEZSID0gcGFyc2VGbG9hdChwYXJ0c1szXSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1NldFJlZEJveFN0YXRlJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDQpIHsKICAgICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IHBhcnNlSW50KHBhcnRzWzFdKTsKICAgICAgICAgICAgICAgICAgX3RoaXMyLlJPSV94ID0gcGFyc2VGbG9hdChwYXJ0c1syXSk7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5ST0lfeSA9IHBhcnNlRmxvYXQocGFydHNbM10pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLnNldFJlZEJveFN0YXRlKGxlbmd0aCwgX3RoaXMyLlJPSV94LCBfdGhpczIuUk9JX3kpOwoKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+iuvue9rue6ouiJslJPSeahhjogJywgbGVuZ3RoLCBfdGhpczIuUk9JX3gsIF90aGlzMi5ST0lfeSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1NldFZpc2libGVBcmVhJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnZpc2libGVYID0gcGFyc2VGbG9hdChwYXJ0c1sxXSk7CiAgICAgICAgICAgICAgICAgIF90aGlzMi52aXNpYmxlWSA9IHBhcnNlRmxvYXQocGFydHNbMl0pOwogICAgICAgICAgICAgICAgICBfdGhpczIuc2NhbGUgPSBwYXJzZUZsb2F0KHBhcnRzWzNdKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdzZXRTY2FsZScsIF90aGlzMi5zY2FsZSk7CgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn6K6+572u5Y+v6KeB5Yy65Z+fOiAnLCBfdGhpczIudmlzaWJsZVgsIF90aGlzMi52aXNpYmxlWSwgX3RoaXMyLnNjYWxlKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5TZW5kQ29uc29sZUxvZ01zZygndXBkYXRlIFZpc2libGVBcmVhIHg9JyArIF90aGlzMi52aXNpYmxlWCArICcsIHk9JyArIF90aGlzMi52aXNpYmxlWSArICcsIHNjYWxlPScgKyBfdGhpczIuc2NhbGUsICdpbmZvJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1NldFNlbGVjdFN0YXJzJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnNlbGVjdFN0YXJYID0gcGFyc2VGbG9hdChwYXJ0c1sxXSk7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5zZWxlY3RTdGFyWSA9IHBhcnNlRmxvYXQocGFydHNbMl0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLlNlbmRDb25zb2xlTG9nTXNnKCd1cGRhdGUgU2VsZWN0U3RhcnMgeD0nICsgX3RoaXMyLnNlbGVjdFN0YXJYICsgJywgeT0nICsgX3RoaXMyLnNlbGVjdFN0YXJZLCAnaW5mbycpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICd1cGRhdGVDUFVJbmZvJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDMpIHsKICAgICAgICAgICAgICAgICAgdmFyIGNwdVRlbXAgPSBwYXJzZUZsb2F0KHBhcnRzWzFdKTsKICAgICAgICAgICAgICAgICAgdmFyIGNwdVVzYWdlID0gcGFyc2VGbG9hdChwYXJ0c1syXSk7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5jcHVUZW1wID0gaXNOYU4oY3B1VGVtcCkgPyBudWxsIDogY3B1VGVtcCAlIDEgPT09IDAgPyBjcHVUZW1wIDogY3B1VGVtcC50b0ZpeGVkKDEpOyAvLyDlpoLmnpwgY3B1VGVtcCDmmK8gTmFO77yM6K6+572u5Li6IG51bGzvvIzlkKbliJnlpoLmnpwgY3B1VGVtcCDmmK/mlbTmlbDvvIzlsLHkuI3kv53nlZnlsI/mlbDvvIzlkKbliJnkv53nlZnkuIDkvY3lsI/mlbAKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5jcHVVc2FnZSA9IGlzTmFOKGNwdVVzYWdlKSA/IG51bGwgOiBjcHVVc2FnZSAlIDEgPT09IDAgPyBjcHVVc2FnZSA6IGNwdVVzYWdlLnRvRml4ZWQoMSk7IC8vIOWmguaenCBjcHVVc2FnZSDmmK8gTmFO77yM6K6+572u5Li6IG51bGzvvIzlkKbliJnlpoLmnpwgY3B1VXNhZ2Ug5piv5pW05pWw77yM5bCx5LiN5L+d55WZ5bCP5pWw77yM5ZCm5YiZ5L+d55WZ5LiA5L2N5bCP5pWwCgogICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgndXBkYXRlQ1BVSW5mbycsIF90aGlzMi5jcHVUZW1wLCBfdGhpczIuY3B1VXNhZ2UpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdUaWFuV2VuJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDQpIHsKICAgICAgICAgICAgICAgICAgdmFyIG5vdGljZV90eXBlID0gcGFydHNbMV07CiAgICAgICAgICAgICAgICAgIHZhciByYSA9IHBhcnRzWzJdOwogICAgICAgICAgICAgICAgICB2YXIgZGVjID0gcGFydHNbM107CgogICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnVGlhbldlbicsIG5vdGljZV90eXBlLCByYSwgZGVjKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnc2V0TWFpbkNhbWVyYVBhcmFtZXRlcnMnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+PSAzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBwYXJhbWV0ZXJzID0ge307CgogICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaTUgPSAxOyBfaTUgPCBwYXJ0cy5sZW5ndGg7IF9pNSArPSAyKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtZXRlciA9IHBhcnRzW19pNV07CiAgICAgICAgICAgICAgICAgICAgdmFyIF92YWx1ZTIgPSBwYXJ0c1tfaTUgKyAxXTsKICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzW3BhcmFtZXRlcl0gPSBfdmFsdWUyOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpczIuc2V0TWFpbkNhbWVyYVBhcmFtZXRlcnMocGFyYW1ldGVycyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ2xvY2FsTWVzc2FnZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSA0KSB7CiAgICAgICAgICAgICAgICAgIHZhciBfbGF0ID0gcGFydHNbMV07CiAgICAgICAgICAgICAgICAgIHZhciBsb24gPSBwYXJ0c1syXTsKICAgICAgICAgICAgICAgICAgdmFyIGxhbmd1YWdlID0gcGFydHNbM107CgogICAgICAgICAgICAgICAgICBfdGhpczIuU2VuZENvbnNvbGVMb2dNc2coJzItLS0tLS0tLS0tLS3ojrflvpflj4LmlbDorr7nva5sb2NhbE1lc3NhZ2U6ICcgKyBfbGF0ICsgJywnICsgbG9uICsgJywnICsgbGFuZ3VhZ2UsICdpbmZvJyk7CgogICAgICAgICAgICAgICAgICBpZiAobGFuZ3VhZ2UgPT0gJ3poJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdDbGllbnRMYW5ndWFnZScsICdjbicpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdDbGllbnRMYW5ndWFnZScsICdlbicpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnc2V0TG9jYXRpb25MYXRBbmRMb24nLCBfbGF0LCBsb24pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdpc0F1dG9Mb2NhdGlvbic6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBpc0F1dG9Mb2NhdGlvbiA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ2lzQXV0b0xvY2F0aW9uJywgaXNBdXRvTG9jYXRpb24pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdzZW5kR2V0TG9jYXRpb24nOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMykgewogICAgICAgICAgICAgICAgICB2YXIgX2xhdDIgPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIF9sb24gPSBwYXJ0c1syXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5TZW5kQ29uc29sZUxvZ01zZygnc2VuZEdldExvY2F0aW9uOiAnICsgX2xhdDIgKyAnLCcgKyBfbG9uLCAnaW5mbycpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ3NlbmRHZXRMb2NhdGlvbicsIF9sYXQyLCBfbG9uKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnTWFpbkNhbWVyYUNGQSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfdmFsdWUzID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBpZiAoX3ZhbHVlMyA9PT0gJycpIHsKICAgICAgICAgICAgICAgICAgICBfdmFsdWUzID0gJ251bGwnOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF92YWx1ZTMgPT09ICdHUkJHJykgewogICAgICAgICAgICAgICAgICAgIF92YWx1ZTMgPSAnR1InOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF92YWx1ZTMgPT09ICdHQlJHJykgewogICAgICAgICAgICAgICAgICAgIF92YWx1ZTMgPSAnR0InOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF92YWx1ZTMgPT09ICdCR0dSJykgewogICAgICAgICAgICAgICAgICAgIF92YWx1ZTMgPSAnQkcnOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF92YWx1ZTMgPT09ICdSRycpIHsKICAgICAgICAgICAgICAgICAgICBfdmFsdWUzID0gJ1JHR0InOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpczIuSW1hZ2VDRkEgPSBfdmFsdWUzOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi6I635Y+W5Yiw55qE5Li755u45py65Y+C5pWwICBNYWluQ2FtZXJhQ0ZBOiAiLCBfdGhpczIuSW1hZ2VDRkEpOwogICAgICAgICAgICAgICAgICBfdGhpczIuTWFpbkNhbWVyYUNvbmZpZ0l0ZW1zLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5sYWJlbCA9PT0gJ0ltYWdlQ0ZBJzsKICAgICAgICAgICAgICAgICAgfSkudmFsdWUgPSBfdGhpczIuSW1hZ2VDRkE7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0NhbWVyYU5vdElkbGUnOgogICAgICAgICAgICAgICAgX3RoaXMyLmNhbGxTaG93TWVzc2FnZUJveCgnQ2FtZXJhIGlzIG5vdCBpZGxlJywgJ2Vycm9yJyk7CgogICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ01vdW50T3BlcmF0aW9uQ29tcGxldGUnLCAnc29sdmUnKTsKCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnTWFpbkNhbWVyYU5vdENvbm5lY3QnOgogICAgICAgICAgICAgICAgX3RoaXMyLmNhbGxTaG93TWVzc2FnZUJveCgnTWFpbiBDYW1lcmEgaXMgbm90IGNvbm5lY3QnLCAnZXJyb3InKTsKCiAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnTW91bnRPcGVyYXRpb25Db21wbGV0ZScsICdzb2x2ZScpOwoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdTZXJ2ZXJJbml0U3VjY2Vzcyc6CiAgICAgICAgICAgICAgICBfdGhpczIuY2FsbFNob3dNZXNzYWdlQm94KCdTZXJ2ZXIgaW5pdCBzdWNjZXNzJywgJ3N1Y2Nlc3MnKTsKCiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnUG9sYXJBbGlnbm1lbnRTdGF0ZSc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSA1KSB7CiAgICAgICAgICAgICAgICAgIHZhciBpc1J1bm5pbmcgPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gcGFydHNbMl07CiAgICAgICAgICAgICAgICAgIHZhciBfbWVzc2FnZTYgPSBwYXJ0c1szXTsKICAgICAgICAgICAgICAgICAgdmFyIHBlcmNlbnRhZ2UgPSBwYXJ0c1s0XTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BvbGFyQWxpZ25tZW50U3RhdGU6ICcsIGlzUnVubmluZywgc3RhdGUsIF9tZXNzYWdlNiwgcGVyY2VudGFnZSk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnUG9sYXJBbGlnbm1lbnRJc1J1bm5pbmcnLCBpc1J1bm5pbmcpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ1BvbGFyQWxpZ25tZW50U3RhdGUnLCBzdGF0ZSwgX21lc3NhZ2U2LCBwZXJjZW50YWdlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnUG9sYXJBbGlnbm1lbnRBZGp1c3RtZW50R3VpZGVEYXRhJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIxKSB7CiAgICAgICAgICAgICAgICAgIC8vIOS7jjE35pS55Li6MjEKICAgICAgICAgICAgICAgICAgdmFyIF9yYSA9IHBhcnNlRmxvYXQocGFydHNbMV0pOwoKICAgICAgICAgICAgICAgICAgdmFyIF9kZWMgPSBwYXJzZUZsb2F0KHBhcnRzWzJdKTsgLy8g5paw5aKe77ya5Zub5Liq6KeS54K5CgoKICAgICAgICAgICAgICAgICAgdmFyIHJhMCA9IHBhcnNlRmxvYXQocGFydHNbM10pOwogICAgICAgICAgICAgICAgICB2YXIgZGVjMCA9IHBhcnNlRmxvYXQocGFydHNbNF0pOwogICAgICAgICAgICAgICAgICB2YXIgcmExID0gcGFyc2VGbG9hdChwYXJ0c1s1XSk7CiAgICAgICAgICAgICAgICAgIHZhciBkZWMxID0gcGFyc2VGbG9hdChwYXJ0c1s2XSk7CiAgICAgICAgICAgICAgICAgIHZhciByYTIgPSBwYXJzZUZsb2F0KHBhcnRzWzddKTsKICAgICAgICAgICAgICAgICAgdmFyIGRlYzIgPSBwYXJzZUZsb2F0KHBhcnRzWzhdKTsKICAgICAgICAgICAgICAgICAgdmFyIHJhMyA9IHBhcnNlRmxvYXQocGFydHNbOV0pOwogICAgICAgICAgICAgICAgICB2YXIgZGVjMyA9IHBhcnNlRmxvYXQocGFydHNbMTBdKTsKICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldHJhID0gcGFyc2VGbG9hdChwYXJ0c1sxMV0pOwogICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ZGVjID0gcGFyc2VGbG9hdChwYXJ0c1sxMl0pOwogICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0cmEgPSBwYXJzZUZsb2F0KHBhcnRzWzEzXSk7CiAgICAgICAgICAgICAgICAgIHZhciBvZmZzZXRkZWMgPSBwYXJzZUZsb2F0KHBhcnRzWzE0XSk7CiAgICAgICAgICAgICAgICAgIHZhciBhZGp1c3RtZW50cmEgPSBwYXJ0c1sxNV07CiAgICAgICAgICAgICAgICAgIHZhciBhZGp1c3RtZW50ZGVjID0gcGFydHNbMTZdOwogICAgICAgICAgICAgICAgICB2YXIgZmFrZVBvbGFyUkEgPSBwYXJzZUZsb2F0KHBhcnRzWzE3XSk7CiAgICAgICAgICAgICAgICAgIHZhciBmYWtlUG9sYXJERUMgPSBwYXJzZUZsb2F0KHBhcnRzWzE4XSk7CiAgICAgICAgICAgICAgICAgIHZhciByZWFsUG9sYXJSQSA9IHBhcnNlRmxvYXQocGFydHNbMTldKTsKICAgICAgICAgICAgICAgICAgdmFyIHJlYWxQb2xhckRFQyA9IHBhcnNlRmxvYXQocGFydHNbMjBdKTsgLy8gY29uc29sZS5sb2coJ+iHquWKqOWvueeEpue7mOWItuaVsOaNrjogJywgcmEsIGRlYywgdGFyZ2V0cmEsIHRhcmdldGRlYywgZmFrZVBvbGFyUkEsIGZha2VQb2xhckRFQywgcmVhbFBvbGFyUkEsIHJlYWxQb2xhckRFQyk7CgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5Zub6KeS54K55pWw5o2uOiAnLCByYTAsIGRlYzAsIHJhMSwgZGVjMSwgcmEyLCBkZWMyLCByYTMsIGRlYzMpOyAvLyDnjrDmnInkuovku7bkv53mjIHkuI3lj5jvvIjkvb/nlKjorqHnrpfnmoRtYXgvbWlu5YC85YW85a6577yJCgogICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnRmllbGREYXRhVXBkYXRlJywgW19yYSwgX2RlYywgcmEwLCBkZWMwLCByYTEsIGRlYzEsIHJhMiwgZGVjMiwgcmEzLCBkZWMzLCB0YXJnZXRyYSwgdGFyZ2V0ZGVjLCBmYWtlUG9sYXJSQSwgZmFrZVBvbGFyREVDLCByZWFsUG9sYXJSQSwgcmVhbFBvbGFyREVDXSk7IC8vIGNvbnNvbGUubG9nKCfoh6rliqjlr7nnhKbmmL7npLrmm7TmlrDmlbDmja46ICcsIG9mZnNldHJhLCBvZmZzZXRkZWMsIGFkanVzdG1lbnRyYSwgYWRqdXN0bWVudGRlYyk7CgoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ3VwZGF0ZUNhcmRJbmZvJywgX3JhLCBfZGVjLCB0YXJnZXRyYSwgdGFyZ2V0ZGVjLCBvZmZzZXRyYSwgb2Zmc2V0ZGVjLCBhZGp1c3RtZW50cmEsIGFkanVzdG1lbnRkZWMsICJkZWciKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnZm9jdXNNb3ZlRmFpbGVkJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9tZXNzYWdlNyA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLmNhbGxTaG93TWVzc2FnZUJveChfbWVzc2FnZTcsICdlcnJvcicpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ2ZvY3VzTW92ZUZhaWxlZCcsIF9tZXNzYWdlNyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgJ2ZvY3VzTW92ZUZhaWxlZCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfbWVzc2FnZTggPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5jYWxsU2hvd01lc3NhZ2VCb3goX21lc3NhZ2U4LCAnZXJyb3InKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdmb2N1c01vdmVGYWlsZWQnLCBfbWVzc2FnZTgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICdNZXJpZGlhbkVUQV9obXMnOgogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID49IDQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgaCA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICAgIHZhciBtID0gcGFydHNbMl07CiAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSBwYXJ0c1szXTsKICAgICAgICAgICAgICAgICAgICB2YXIgaG1zID0gIiIuY29uY2F0KGgsICI6IikuY29uY2F0KG0sICI6IikuY29uY2F0KHMpOwoKICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZW0gPSBfdGhpczIuTW91bnRDb25maWdJdGVtcy5maW5kKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5sYWJlbCA9PT0gJ0ZsaXAgRVRBJzsKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKF9pdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICBfaXRlbS52YWx1ZSA9IGhtczsKICAgICAgICAgICAgICAgICAgICAgIF9pdGVtLmRpc3BsYXlWYWx1ZSA9IGhtczsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlICdBdXRvRmxpcCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID49IDIpIHsKICAgICAgICAgICAgICAgICAgLy8gVE9ETzo66Ieq5Yqo57+76L2s5Yqf6IO95pqC5pe25YWz6Zet77yM6ZyA6KaB5pe25YaN5omT5byACiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCflvZPliY1BdXRvRmxpcOWRveS7pOacquWQr+eUqDogJywgcGFydHNbMV0pOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgdmFyIGlzQXV0b0ZsaXAgPSBwYXJ0c1sxXTsgLy8g5p+l5om+5piv5ZCm5bey5a2Y5ZyoICJBdXRvRmxpcCIg6aG5CgogICAgICAgICAgICAgICAgICB2YXIgX2l0ZW0yID0gX3RoaXMyLk1vdW50Q29uZmlnSXRlbXMuZmluZChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmxhYmVsID09PSAnQXV0b0ZsaXAnOwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIGlmIChfaXRlbTIpIHsKICAgICAgICAgICAgICAgICAgICAvLyDlt7LlrZjlnKgg4oaSIOabtOaWsAogICAgICAgICAgICAgICAgICAgIF9pdGVtMi52YWx1ZSA9IGlzQXV0b0ZsaXAgPT0gJ3RydWUnOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vIOS4jeWtmOWcqCDihpIg5paw5aKeCiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLk1vdW50Q29uZmlnSXRlbXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICBkcml2ZXJUeXBlOiAnTW91bnQnLAogICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdBdXRvRmxpcCcsCiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaXNBdXRvRmxpcCA9PSAndHJ1ZScsCiAgICAgICAgICAgICAgICAgICAgICBpbnB1dFR5cGU6ICdzd2l0Y2gnCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0gLy8g5ZCM5q2l5a2Q57uE5Lu25qih5byP77yI5peg6ZyA6YeN5bu657uE5Lu277yJCgoKICAgICAgICAgICAgICAgICAgdmFyIG5leHQgPSBpc0F1dG9GbGlwID09ICd0cnVlJyA/ICdhdXRvJyA6ICdtYW51YWwnOwoKICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMi4kYnVzICYmIF90aGlzMi4kYnVzLiRlbWl0KSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ1NldEZsaXBNb2RlJywgbmV4dCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnRmxpcFN0YXR1cyc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgICAgIGlmIChfdGhpczIuJGJ1cyAmJiBfdGhpczIuJGJ1cy4kZW1pdCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdGbGlwU3RhdHVzJywgcGFydHNbMV0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgLy8gY2FzZSAnTWludXRlc1Bhc3RNZXJpZGlhbic6CiAgICAgICAgICAgICAgLy8gICBpZiAocGFydHMubGVuZ3RoID49IDMpIHsKICAgICAgICAgICAgICAvLyAgICAgY29uc3QgRWFzdE1pbnV0ZXNQYXN0TWVyaWRpYW4gPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAvLyAgICAgY29uc3QgV2VzdE1pbnV0ZXNQYXN0TWVyaWRpYW4gPSBwYXJ0c1syXTsKICAgICAgICAgICAgICAvLyAgICAgbGV0IGl0ZW0gPSB0aGlzLk1vdW50Q29uZmlnSXRlbXMuZmluZChpID0+IGkubGFiZWwgPT09ICdFYXN0TWludXRlc1Bhc3RNZXJpZGlhbicpOwogICAgICAgICAgICAgIC8vICAgICBpZiAoaXRlbSkgewogICAgICAgICAgICAgIC8vICAgICAgIGl0ZW0udmFsdWUgPSBFYXN0TWludXRlc1Bhc3RNZXJpZGlhbjsKICAgICAgICAgICAgICAvLyAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvLyAgICAgICB0aGlzLk1vdW50Q29uZmlnSXRlbXMucHVzaCh7IGRyaXZlclR5cGU6ICdNb3VudCcsIGxhYmVsOiAnRWFzdE1pbnV0ZXNQYXN0TWVyaWRpYW4nLCB2YWx1ZTogRWFzdE1pbnV0ZXNQYXN0TWVyaWRpYW4sbWluOi0xODAsbWF4OjE4MCwgaW5wdXRUeXBlOiAnbnVtYmVyJyB9LCk7CiAgICAgICAgICAgICAgLy8gICAgIH0KICAgICAgICAgICAgICAvLyAgICAgaXRlbSA9IHRoaXMuTW91bnRDb25maWdJdGVtcy5maW5kKGkgPT4gaS5sYWJlbCA9PT0gJ1dlc3RNaW51dGVzUGFzdE1lcmlkaWFuJyk7CiAgICAgICAgICAgICAgLy8gICAgIGlmIChpdGVtKSB7CiAgICAgICAgICAgICAgLy8gICAgICAgaXRlbS52YWx1ZSA9IFdlc3RNaW51dGVzUGFzdE1lcmlkaWFuOwogICAgICAgICAgICAgIC8vICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vICAgICAgIHRoaXMuTW91bnRDb25maWdJdGVtcy5wdXNoKHsgZHJpdmVyVHlwZTogJ01vdW50JywgbGFiZWw6ICdXZXN0TWludXRlc1Bhc3RNZXJpZGlhbicsIHZhbHVlOiBXZXN0TWludXRlc1Bhc3RNZXJpZGlhbixtaW46LTE4MCxtYXg6MTgwLCBpbnB1dFR5cGU6ICdudW1iZXInIH0sKTsKICAgICAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgICAgIC8vICAgfQogICAgICAgICAgICAgIC8vICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0Vhc3RNaW51dGVzUGFzdE1lcmlkaWFuJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIEVhc3RNaW51dGVzUGFzdE1lcmlkaWFuID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICB2YXIgX2l0ZW0zID0gX3RoaXMyLk1vdW50Q29uZmlnSXRlbXMuZmluZChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmxhYmVsID09PSAnRWFzdE1pbnV0ZXNQYXN0TWVyaWRpYW4nOwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIGlmIChfaXRlbTMpIHsKICAgICAgICAgICAgICAgICAgICBfaXRlbTMudmFsdWUgPSBFYXN0TWludXRlc1Bhc3RNZXJpZGlhbjsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuTW91bnRDb25maWdJdGVtcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIGRyaXZlclR5cGU6ICdNb3VudCcsCiAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ0Vhc3RNaW51dGVzUGFzdE1lcmlkaWFuJywKICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBFYXN0TWludXRlc1Bhc3RNZXJpZGlhbiwKICAgICAgICAgICAgICAgICAgICAgIG1pbjogLTE4MCwKICAgICAgICAgICAgICAgICAgICAgIG1heDogMTgwLAogICAgICAgICAgICAgICAgICAgICAgaW5wdXRUeXBlOiAnbnVtYmVyJwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ1dlc3RNaW51dGVzUGFzdE1lcmlkaWFuJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIFdlc3RNaW51dGVzUGFzdE1lcmlkaWFuID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICB2YXIgX2l0ZW00ID0gX3RoaXMyLk1vdW50Q29uZmlnSXRlbXMuZmluZChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmxhYmVsID09PSAnV2VzdE1pbnV0ZXNQYXN0TWVyaWRpYW4nOwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIGlmIChfaXRlbTQpIHsKICAgICAgICAgICAgICAgICAgICBfaXRlbTQudmFsdWUgPSBXZXN0TWludXRlc1Bhc3RNZXJpZGlhbjsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuTW91bnRDb25maWdJdGVtcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIGRyaXZlclR5cGU6ICdNb3VudCcsCiAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ1dlc3RNaW51dGVzUGFzdE1lcmlkaWFuJywKICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBXZXN0TWludXRlc1Bhc3RNZXJpZGlhbiwKICAgICAgICAgICAgICAgICAgICAgIG1pbjogLTE4MCwKICAgICAgICAgICAgICAgICAgICAgIG1heDogMTgwLAogICAgICAgICAgICAgICAgICAgICAgaW5wdXRUeXBlOiAnbnVtYmVyJwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0dvdG9UaGVuU29sdmUnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgR290b1RoZW5Tb2x2ZSA9IHBhcnRzWzFdOwoKICAgICAgICAgICAgICAgICAgdmFyIF9pdGVtNSA9IF90aGlzMi5Nb3VudENvbmZpZ0l0ZW1zLmZpbmQoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5sYWJlbCA9PT0gJ0dvdG9UaGVuU29sdmUnOwogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIGlmIChfaXRlbTUpIHsKICAgICAgICAgICAgICAgICAgICBfaXRlbTUudmFsdWUgPSBHb3RvVGhlblNvbHZlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ2FkZEZ3aG1Ob3cnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBmd2htID0gcGFyc2VGbG9hdChwYXJ0c1sxXSk7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWNlaXZlZCBhZGRGd2htTm93OicsIGZ3aG0pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ2FkZEZ3aG1Ob3cnLCBmd2htKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnQm94X1NwYWNlJzoKICAgICAgICAgICAgICAgIC8vIOWQjuerr+i/lOWbnuebkuWtkOWPr+eUqOepuumXtO+8iOWtl+iKgu+8ie+8jOi9rOWPkee7meWGheWtmOiuvue9rumdouadvwogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgYnl0ZXMgPSBwYXJ0c1sxXTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdCb3hfU3BhY2UnLCBieXRlcyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0NsZWFyTG9ncyc6CiAgICAgICAgICAgICAgICAvLyDlkI7nq6/muIXnkIbml6Xlv5flrozmiJDlm57miacKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPj0gMiAmJiBwYXJ0c1sxXSA9PT0gJ1N1Y2Nlc3MnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5TZW5kQ29uc29sZUxvZ01zZygnTG9ncyBjbGVhcmVkIHN1Y2Nlc3NmdWxseScsICdpbmZvJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0NsZWFyQm94Q2FjaGUnOgogICAgICAgICAgICAgICAgLy8g5ZCO56uv5riF55CG57yT5a2Y5a6M5oiQ5Zue5omnCiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID49IDIgJiYgcGFydHNbMV0gPT09ICdTdWNjZXNzJykgewogICAgICAgICAgICAgICAgICBfdGhpczIuU2VuZENvbnNvbGVMb2dNc2coJ0JveCBjYWNoZSBjbGVhcmVkIHN1Y2Nlc3NmdWxseScsICdpbmZvJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0ZvY3VzZXJMaW1pdCc6CiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAzKSB7CiAgICAgICAgICAgICAgICAgIHZhciBGb2N1c2VyTWluTGltaXQgPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgdmFyIEZvY3VzZXJNYXhMaW1pdCA9IHBhcnRzWzJdOwoKICAgICAgICAgICAgICAgICAgdmFyIF9pdGVtNiA9IF90aGlzMi5Gb2N1c2VyQ29uZmlnSXRlbXMuZmluZChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmxhYmVsID09PSAnTWluIExpbWl0JzsKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBpZiAoX2l0ZW02KSB7CiAgICAgICAgICAgICAgICAgICAgX2l0ZW02LnZhbHVlID0gRm9jdXNlck1pbkxpbWl0OwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi5Gb2N1c2VyQ29uZmlnSXRlbXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICBkcml2ZXJUeXBlOiAnRm9jdXNlcicsCiAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ01pbiBMaW1pdCcsCiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogRm9jdXNlck1pbkxpbWl0LAogICAgICAgICAgICAgICAgICAgICAgaW5wdXRUeXBlOiAnbnVtYmVyJwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfaXRlbTYgPSBfdGhpczIuRm9jdXNlckNvbmZpZ0l0ZW1zLmZpbmQoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5sYWJlbCA9PT0gJ01heCBMaW1pdCc7CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgaWYgKF9pdGVtNikgewogICAgICAgICAgICAgICAgICAgIF9pdGVtNi52YWx1ZSA9IEZvY3VzZXJNYXhMaW1pdDsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuRm9jdXNlckNvbmZpZ0l0ZW1zLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgZHJpdmVyVHlwZTogJ0ZvY3VzZXInLAogICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdNYXggTGltaXQnLAogICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IEZvY3VzZXJNYXhMaW1pdCwKICAgICAgICAgICAgICAgICAgICAgIGlucHV0VHlwZTogJ251bWJlcicKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ3NldEZvY3VzQ2hhcnRSYW5nZScsIEZvY3VzZXJNaW5MaW1pdCwgRm9jdXNlck1heExpbWl0KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnQmFja2xhc2gnOgogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgRm9jdXNlckJhY2tsYXNoID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICB2YXIgX2l0ZW03ID0gX3RoaXMyLkZvY3VzZXJDb25maWdJdGVtcy5maW5kKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkubGFiZWwgPT09ICdCYWNrbGFzaCc7CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgaWYgKF9pdGVtNykgewogICAgICAgICAgICAgICAgICAgIF9pdGVtNy52YWx1ZSA9IEZvY3VzZXJCYWNrbGFzaDsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICd1cGRhdGVBdXRvRm9jdXNlclN0YXRlJzoKICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIGF1dG9Gb2N1c1N0YXRlID0gcGFydHNbMV07CgogICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgndXBkYXRlQXV0b0ZvY3VzZXJTdGF0ZScsIGF1dG9Gb2N1c1N0YXRlID09ICd0cnVlJyk7IC8vIOabtOaWsOiHquWKqOWvueeEpuaMiemSrueKtuaAgQoKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnQXV0b0ZvY3VzQ29uZmlybSc6CiAgICAgICAgICAgICAgICAvLyBbQVVUT19GT0NVU19VSV9FTkhBTkNFTUVOVF0KICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPj0gMikgewogICAgICAgICAgICAgICAgICB2YXIgcXVlc3Rpb24gPSBwYXJ0c1sxXTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0F1dG9Gb2N1c0NvbmZpcm06JywgcXVlc3Rpb24pOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLlNob3dDb25maXJtRGlhbG9nKCfoh6rliqjlr7nnhKYnLCBxdWVzdGlvbiwgJ0F1dG9Gb2N1c0NvbmZpcm0nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnQXV0b0ZvY3VzU3RlcENoYW5nZWQnOgogICAgICAgICAgICAgICAgLy8gW0FVVE9fRk9DVVNfVUlfRU5IQU5DRU1FTlRdCiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID49IDMpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9zdGVwMiA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICB2YXIgX2Rlc2NyaXB0aW9uID0gcGFydHNbMl07CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBdXRvRm9jdXNTdGVwQ2hhbmdlZDonLCBfc3RlcDIsIF9kZXNjcmlwdGlvbik7CgogICAgICAgICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgnVXBkYXRlQXV0b0ZvY3VzU3RlcCcsIF9zdGVwMiwgX2Rlc2NyaXB0aW9uKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAnQXV0b0ZvY3VzQ2FuY2VsbGVkJzoKICAgICAgICAgICAgICAgIC8vIFtBVVRPX0ZPQ1VTX1VJX0VOSEFOQ0VNRU5UXQogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVhc29uMiA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQXV0b0ZvY3VzQ2FuY2VsbGVkOicsIF9yZWFzb24yKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi5jYWxsU2hvd01lc3NhZ2VCb3goX3JlYXNvbjIsICdpbmZvJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0F1dG9Gb2N1c1N0YXJ0ZWQnOgogICAgICAgICAgICAgICAgLy8gW0FVVE9fRk9DVVNfVUlfRU5IQU5DRU1FTlRdCiAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID49IDIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9tZXNzYWdlOSA9IHBhcnRzWzFdOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQXV0b0ZvY3VzU3RhcnRlZDonLCBfbWVzc2FnZTkpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ1N0YXJ0QXV0b0ZvY3VzJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ0F1dG9Gb2N1c0VuZGVkJzoKICAgICAgICAgICAgICAgIC8vIFtBVVRPX0ZPQ1VTX1VJX0VOSEFOQ0VNRU5UXQogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+PSAyKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfbWVzc2FnZTEwID0gcGFydHNbMV07CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBdXRvRm9jdXNFbmRlZDonLCBfbWVzc2FnZTEwKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCdFbmRBdXRvRm9jdXMnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybign5pyq5aSE55CG5ZG95LukOiAnLCBkYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ1FUX0NvbmZpcm0nKSB7CiAgICAgICAgICAvLyDlpITnkIbnoa7orqTmtojmga8KICAgICAgICAgIHZhciBtZXNzYWdlSWQgPSBkYXRhLm1zZ2lkOwoKICAgICAgICAgIF90aGlzMi5oYW5kbGVNZXNzYWdlUmVzcG9uc2UobWVzc2FnZUlkKTsKICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ1Byb2Nlc3NfQ29tbWFuZCcpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdQcm9jZXNzX0NvbW1hbmQ6ICcsIGRhdGEubWVzc2FnZSk7IC8vIOWkhOeQhui/lOWbnua2iOaBrwoKICAgICAgICAgIHZhciBfcGFydHMzID0gZGF0YS5tZXNzYWdlLnNwbGl0KCc6Jyk7CgogICAgICAgICAgaWYgKF9wYXJ0czNbMF0gPT09ICdxdFNlcnZlcklzT3ZlcicpIHsKICAgICAgICAgICAgX3RoaXMyLmNhbGxTaG93TWVzc2FnZUJveCgnUVQgU2VydmVyIGlzIG92ZXInLCAnZXJyb3InKTsKCiAgICAgICAgICAgIF90aGlzMi5TaG93Q29uZmlybURpYWxvZygncmVzdGFydCcsICdRVCBzZXJ2ZXIgZW5jb3VudGVyZWQgYSBzZWdtZW50YXRpb24gZmF1bHQgb3IgaXMgZnJvemVuLCBwbGVhc2UgcmVzdGFydCBvciBleGl0IScsICdyZXN0YXJ0UXRTZXJ2ZXInKTsKICAgICAgICAgIH0gZWxzZSBpZiAoX3BhcnRzM1swXSA9PT0gJ2NoZWNrSGFzTmV3VXBkYXRlUGFjaycpIHsKICAgICAgICAgICAgaWYgKF9wYXJ0czMubGVuZ3RoID09PSAyKSB7CiAgICAgICAgICAgICAgdmFyIHZlcnNpb24gPSBfcGFydHMzWzFdOwoKICAgICAgICAgICAgICBfdGhpczIuU2VuZENvbnNvbGVMb2dNc2coJ+iOt+WPluWIsOabtOaWsOWMheeJiOacrDogJyArIHZlcnNpb24sICdpbmZvJyk7CgogICAgICAgICAgICAgIF90aGlzMi5TaG93Q29uZmlybURpYWxvZygnRm9yY2VVcGRhdGUnLCBfdGhpczIuJHQoJ2NoZWNrSGFzTmV3VXBkYXRlUGFjaycpICsgJzogJyArIHZlcnNpb24gKyAn77yMJyArIF90aGlzMi4kdCgndXBkYXRlQ29uZmlybScpLCAndXBkYXRlQ3VycmVudENsaWVudDonICsgdmVyc2lvbik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAoX3BhcnRzM1swXSA9PT0gJ05vX3VwZGF0ZV9wYWNrX2ZvdW5kJykgewogICAgICAgICAgICBfdGhpczIuY2FsbFNob3dNZXNzYWdlQm94KF90aGlzMi4kdCgnTm9fdXBkYXRlX3BhY2tfZm91bmQnKSwgJ2Vycm9yJyk7CiAgICAgICAgICB9IGVsc2UgaWYgKF9wYXJ0czNbMF0gPT09ICd1cGRhdGVfcHJvZ3Jlc3MnKSB7CiAgICAgICAgICAgIF90aGlzMi4kYnVzLiRlbWl0KCd1cGRhdGVfcHJvZ3Jlc3MnLCBkYXRhLm1lc3NhZ2UpOwogICAgICAgICAgfSBlbHNlIGlmIChfcGFydHMzWzBdID09PSAndXBkYXRlX2Vycm9yJykgewogICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgndXBkYXRlX2Vycm9yJywgZGF0YS5tZXNzYWdlKTsKICAgICAgICAgIH0gZWxzZSBpZiAoX3BhcnRzM1swXSA9PT0gJ3VwZGF0ZV9zdWNjZXNzJykgewogICAgICAgICAgICBfdGhpczIuJGJ1cy4kZW1pdCgndXBkYXRlX3N1Y2Nlc3MnLCBkYXRhLm1lc3NhZ2UpOwogICAgICAgICAgfSBlbHNlIGlmIChfcGFydHMzWzBdID09PSAndGVzdFF0U2VydmVyUHJvY2VzcycpIHt9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLndhcm4oJ+acquWkhOeQhuWRveS7pDogJywgZGF0YS5tZXNzYWdlKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIF90aGlzMi5yZWNlaXZlZE1lc3NhZ2VzLnB1c2goZGF0YS5tZXNzYWdlKTsgLy8g5bCG5o6l5pS25Yiw55qE5raI5oGv5re75Yqg5Yiw5pWw57uE5LitCgogICAgICB9OwoKICAgICAgdGhpcy53ZWJzb2NrZXQub25lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHZhciBlcnJvckRldGFpbHMgPSB7CiAgICAgICAgICB0eXBlOiBlcnJvci50eXBlLAogICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksCiAgICAgICAgICB1cmw6IF90aGlzMi5XZWJTb2NrZXRVcmwsCiAgICAgICAgICByZWFkeVN0YXRlOiBfdGhpczIud2Vic29ja2V0LnJlYWR5U3RhdGUsCiAgICAgICAgICBwcm90b2NvbDogX3RoaXMyLndlYnNvY2tldC5wcm90b2NvbCwKICAgICAgICAgIGV4dGVuc2lvbnM6IF90aGlzMi53ZWJzb2NrZXQuZXh0ZW5zaW9ucwogICAgICAgIH07CiAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IEVycm9yIERldGFpbHM6JywgZXJyb3JEZXRhaWxzKTsKCiAgICAgICAgX3RoaXMyLlNlbmRDb25zb2xlTG9nTXNnKCdXZWJTb2NrZXQgRXJyb3I6ICcgKyBKU09OLnN0cmluZ2lmeShlcnJvckRldGFpbHMpLCAnZXJyb3InKTsKCiAgICAgICAgX3RoaXMyLndlYnNvY2tldFN0YXRlID0gJ2Vycm9yJzsKICAgICAgICBfdGhpczIubmV0d29ya0Rpc2Nvbm5lY3RlZCA9IHRydWU7CiAgICAgIH07CgogICAgICB0aGlzLndlYnNvY2tldC5vbmNsb3NlID0gZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKCdRSFlDQ0QgfCBXZWJTb2NrZXQgZGlzY29ubmVjdGVkJyk7CiAgICAgICAgX3RoaXMyLndlYnNvY2tldFN0YXRlID0gJ2Rpc2Nvbm5lY3RlZCc7CiAgICAgICAgX3RoaXMyLm5ldHdvcmtEaXNjb25uZWN0ZWQgPSB0cnVlOyAvLyBXZWJTb2NrZXTov57mjqXlhbPpl63ml7borr7nva7nvZHnu5zov57mjqXnirbmgIEKCiAgICAgICAgY29uc29sZS5sb2coJ1FIWUNDRCB8IFdlYlNvY2tldCBkaXNjb25uZWN0ZWQnKTsKCiAgICAgICAgX3RoaXMyLiRidXMuJGVtaXQoJ1Nob3dOZXRTdGF0dXMnLCAnZmFsc2UnKTsgLy8g6K6+572u5LiA5Liq5a6a5pe25Zmo77yMMeenkuWQjuajgOafpee9kee7nOeKtuaAgQoKCiAgICAgICAgX3RoaXMyLmRpc2Nvbm5lY3RUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoX3RoaXMyLm5ldHdvcmtEaXNjb25uZWN0ZWQpIHsKICAgICAgICAgICAgLy8g5aaC5p6cMeenkuWQjuS7jeeEtuaWreW8gAogICAgICAgICAgICBfdGhpczIuY2FsbFNob3dNZXNzYWdlQm94KCdXZWJTb2NrZXQgZGlzY29ubmVjdGVkJywgJ2Vycm9yJyk7CgogICAgICAgICAgICBfdGhpczIuZGlzY29ubmVjdFRpbWVvdXRUcmlnZ2VyZWQgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0sIDEwMDApOyAvLyAx56eS5ZCO5omn6KGMCiAgICAgICAgLy8g5ZCv5Yqo6Ieq5Yqo6YeN6L+eCgogICAgICAgIF90aGlzMi5yZWNvbm5lY3RXZWJTb2NrZXQoKTsKICAgICAgfTsKICAgIH0sCiAgICAvLyDoh6rliqjph43ov54KICAgIHJlY29ubmVjdFdlYlNvY2tldDogZnVuY3Rpb24gcmVjb25uZWN0V2ViU29ja2V0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKCdRSFlDQ0QgfCBXZWJTb2NrZXQgcmVjb25uZWN0ZWQnKTsKCiAgICAgICAgX3RoaXMzLlNlbmRDb25zb2xlTG9nTXNnKCdXZWJTb2NrZXQgcmVjb25uZWN0ZWQuJywgJ2luZm8nKTsKCiAgICAgICAgX3RoaXMzLmNvbm5lY3QoKTsKICAgICAgfSwgMjAwMCk7IC8vIDLnp5LlkI7lsJ3or5Xph43mlrDov57mjqUKICAgIH0sCiAgICAvLyDoh6rliqjph43ov54KICAgIC8v55uR5ZCs572R57uc6L+e5o6l54q25oCBCiAgICBzZXR1cE5ldHdvcmtTdGF0dXNMaXN0ZW5lcjogZnVuY3Rpb24gc2V0dXBOZXR3b3JrU3RhdHVzTGlzdGVuZXIoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29ubGluZScsIGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyDmo4Dmn6Xmlq3lvIDov57mjqXnmoTlrprml7blmajmmK/lkKblt7Lnu4/op6blj5EKICAgICAgICBpZiAoX3RoaXM0LmRpc2Nvbm5lY3RUaW1lb3V0VHJpZ2dlcmVkKSB7CiAgICAgICAgICBfdGhpczQuY2FsbFNob3dNZXNzYWdlQm94KCdXZWJTb2NrZXQgY29ubmVjdGVkJywgJ3N1Y2Nlc3MnKTsKICAgICAgICB9CgogICAgICAgIGNsZWFyVGltZW91dChfdGhpczQuZGlzY29ubmVjdFRpbWVvdXQpOyAvLyDmuIXpmaTmlq3lvIDov57mjqXnmoTlrprml7blmagKCiAgICAgICAgX3RoaXM0Lm5ldHdvcmtEaXNjb25uZWN0ZWQgPSBmYWxzZTsgLy8g572R57uc5oGi5aSN5pe26YeN572u572R57uc6L+e5o6l54q25oCBCgogICAgICAgIF90aGlzNC4kYnVzLiRlbWl0KCdTaG93TmV0U3RhdHVzJywgJ3RydWUnKTsKCiAgICAgICAgX3RoaXM0LlN0YXR1c1JlY292ZXJ5KCk7CgogICAgICAgIF90aGlzNC5yZWNvbm5lY3RXZWJTb2NrZXQoKTsgLy8g572R57uc5oGi5aSN5ZCO6Ieq5Yqo6YeN6L+eV2ViU29ja2V0CgogICAgICB9KTsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0Lm5ldHdvcmtEaXNjb25uZWN0ZWQgPSB0cnVlOyAvLyDnvZHnu5zmlq3lvIDml7borr7nva7nvZHnu5zov57mjqXnirbmgIEKCiAgICAgICAgX3RoaXM0LiRidXMuJGVtaXQoJ1Nob3dOZXRTdGF0dXMnLCAnZmFsc2UnKTsKCiAgICAgICAgX3RoaXM0LmRpc2Nvbm5lY3RUaW1lb3V0VHJpZ2dlcmVkID0gZmFsc2U7IC8vIOWIneWni+WMluaWreW8gOi/nuaOpeWumuaXtuWZqOinpuWPkeagh+W/lwogICAgICAgIC8vIOiuvue9ruS4gOS4quWumuaXtuWZqO+8jDHnp5LlkI7mo4Dmn6XnvZHnu5znirbmgIEKCiAgICAgICAgX3RoaXM0LmRpc2Nvbm5lY3RUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoX3RoaXM0Lm5ldHdvcmtEaXNjb25uZWN0ZWQpIHsKICAgICAgICAgICAgLy8g5aaC5p6cMeenkuWQjuS7jeeEtuaWreW8gAogICAgICAgICAgICBfdGhpczQuZGlzY29ubmVjdFRpbWVvdXRUcmlnZ2VyZWQgPSB0cnVlOyAvLyDmoIforrDlrprml7blmajlt7Lop6blj5EKCiAgICAgICAgICAgIF90aGlzNC5jYWxsU2hvd01lc3NhZ2VCb3goJ1dlYlNvY2tldCBkaXNjb25uZWN0ZWQnLCAnZXJyb3InKTsKICAgICAgICAgIH0KICAgICAgICB9LCAxMDAwKTsgLy8gMeenkuWQjuaJp+ihjAogICAgICB9KTsKICAgIH0sCiAgICAvL+ebkeWQrOe9kee7nOi/nuaOpeeKtuaAgQogICAgc2VuZE1lc3NhZ2U6IGZ1bmN0aW9uIHNlbmRNZXNzYWdlKHR5cGUsIG1lc3NhZ2UpIHsKICAgICAgY29uc29sZS5sb2coIlFIWUNDRCB8IHNlbmRNZXNzYWdlOiAiLCBtZXNzYWdlKTsKICAgICAgdmFyIG1lc3NhZ2VJZCA9IHRoaXMuZ2VuZXJhdGVNZXNzYWdlSWQoKTsgLy8g55Sf5oiQ5ZSv5LiA55qE5raI5oGvSUQKCiAgICAgIHZhciBtZXNzYWdlT2JqID0gewogICAgICAgIHR5cGU6IHR5cGUsCiAgICAgICAgbXNnaWQ6IG1lc3NhZ2VJZCwKICAgICAgICBtZXNzYWdlOiBtZXNzYWdlCiAgICAgIH07IC8vIOWIm+W7uuWMheWQq+exu+Wei+WSjOa2iOaBr+eahOWvueixoQoKICAgICAgdmFyIG1lc3NhZ2VKc29uID0gSlNPTi5zdHJpbmdpZnkobWVzc2FnZU9iaik7IC8vIOWwhua2iOaBr+Wvueixoei9rOaNouS4uiBKU09OIOWtl+espuS4sgoKICAgICAgdmFyIG1lc3NhZ2VTdGF0ZSA9IHsKICAgICAgICBtc2dpZDogbWVzc2FnZUlkLAogICAgICAgIHRleHQ6IG1lc3NhZ2VKc29uLAogICAgICAgIHN1Y2Nlc3M6IGZhbHNlCiAgICAgIH07IC8vIOWIm+W7uuWMheWQq+a2iOaBr+WSjOeKtuaAgeS/oeaBr+eahOWvueixoQoKICAgICAgaWYgKHRoaXMud2Vic29ja2V0LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7CiAgICAgICAgdGhpcy53ZWJzb2NrZXQuc2VuZChtZXNzYWdlSnNvbik7IC8vIG1lc3NhZ2VTdGF0ZS5zdWNjZXNzID0gdHJ1ZTsgLy8g6K6+572u5raI5oGv5Li65oiQ5YqfCiAgICAgIH0KCiAgICAgIHRoaXMuc2VudE1lc3NhZ2VzLnB1c2gobWVzc2FnZVN0YXRlKTsgLy8g5re75Yqg5raI5oGv5a+56LGh5Yiw5bey5Y+R6YCB55qE5raI5oGv5pWw57uECiAgICB9LAogICAgZ2VuZXJhdGVNZXNzYWdlSWQ6IGZ1bmN0aW9uIGdlbmVyYXRlTWVzc2FnZUlkKCkgewogICAgICAvLyDkvb/nlKjml7bpl7TmiLPlkozorqHmlbDlmajnlJ/miJDllK/kuIDnmoTmtojmga9JRAogICAgICByZXR1cm4gRGF0ZS5ub3coKSArICItIiArIHRoaXMubWVzc2FnZUNvdW50ZXIrKzsKICAgIH0sCiAgICBoYW5kbGVNZXNzYWdlUmVzcG9uc2U6IGZ1bmN0aW9uIGhhbmRsZU1lc3NhZ2VSZXNwb25zZShtZXNzYWdlSWQpIHsKICAgICAgLy8g5qC55o2u6L+U5Zue55qE5raI5oGvSUTmm7TmlrDmtojmga/lj5HpgIHnirbmgIEKICAgICAgdmFyIGxhc3RNZXNzYWdlID0gdGhpcy5zZW50TWVzc2FnZXNbdGhpcy5zZW50TWVzc2FnZXMubGVuZ3RoIC0gMV07CgogICAgICBpZiAobGFzdE1lc3NhZ2UgJiYgbGFzdE1lc3NhZ2UubXNnaWQgPT09IG1lc3NhZ2VJZCkgewogICAgICAgIGxhc3RNZXNzYWdlLnN1Y2Nlc3MgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgLy8g5raI5oGv5qGGCiAgICBjYWxsU2hvd01lc3NhZ2VCb3g6IGZ1bmN0aW9uIGNhbGxTaG93TWVzc2FnZUJveChtc2csIHR5cGUpIHsKICAgICAgY29uc29sZS5sb2coJ1FIWUNDRCB8IGNhbGxTaG93TWVzc2FnZUJveDonLCBtc2csIHR5cGUpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKG1zZywgdHlwZSk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2hvd01zZ0JveCcsIG1zZywgdHlwZSk7CiAgICB9LAogICAgLy8g5raI5oGv5qGGCiAgICBsb2NhdGlvbkNsaWNrZWQ6IGZ1bmN0aW9uIGxvY2F0aW9uQ2xpY2tlZCgpIHsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdWdWVfQ29tbWFuZCcsICdsb2NhbE1lc3NhZ2UnKTsgLy8g6I635Y+W5L2N572u5L+h5oGvCgogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3RvZ2dsZUJvb2wnLCAnc2hvd0xvY2F0aW9uRGlhbG9nJyk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnUmVzZXRUaW1lJyk7CiAgICB9LAogICAgU2V0Q3VycmVudExvY2F0aW9uOiBmdW5jdGlvbiBTZXRDdXJyZW50TG9jYXRpb24obGF0LCBsbmcsIGlzQXV0bykgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCdTZXRDdXJyZW50TG9jYXRpb246JywgbGF0LCAnLCcsIGxuZyk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU2VuZENvbnNvbGVMb2dNc2cnLCAnU2V0IEN1cnJlbnQgTG9jYXRpb246JyArIGxhdCArICcsJyArIGxuZywgJ2luZm8nKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdQb2xhclBvaW50QWx0aXR1ZGUnLCBsYXQpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ3Jlc2V0TG9jYXRpb24nLCBsYXQsIGxuZywgaXNBdXRvKTsKICAgICAgdmFyIGxvYyA9IHsKICAgICAgICBzaG9ydF9uYW1lOiAnVW5rbm93bicsCiAgICAgICAgY291bnRyeTogJ1Vua25vd24nLAogICAgICAgIGxuZzogbG5nLAogICAgICAgIGxhdDogbGF0LAogICAgICAgIGFsdDogMCwKICAgICAgICBhY2N1cmFjeTogMCwKICAgICAgICBzdHJlZXRfYWRkcmVzczogJycKICAgICAgfTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRDdXJyZW50TG9jYXRpb24nLCBsb2MpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ1Nob3dQb3NpdGlvbkluZm8nLCBsYXQsIGxuZyk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNS4kYnVzLiRlbWl0KCdSZXNldFRpbWUnKTsKICAgICAgfSwgMTAwMCk7CiAgICB9LAogICAgLy8g54q25oCB5oGi5aSNCiAgICBTdGF0dXNSZWNvdmVyeTogZnVuY3Rpb24gU3RhdHVzUmVjb3ZlcnkoKSB7CiAgICAgIC8vIHRoaXMuc2VuZE1lc3NhZ2UoJ1NlbmRDb25zb2xlTG9nTXNnJywgJ+e9kee7nOi/nuaOpeaBouWkje+8jOaBouWkjeW9k+WJjeeKtuaAgSEnLCAnd2FybmluZycpOwogICAgICB0aGlzLmdldFFUQ2xpZW50VmVyc2lvbigpOyAvLyDojrflj5ZRVENsaWVudOeJiOacrAoKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnZ2V0Uk9JSW5mbycpOyAvLyDojrflj5ZST0nkv6Hmga8KCiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2xvY2FsTWVzc2FnZScpOyAvLyDojrflj5bkvY3nva7kv6Hmga8KCiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2dldExhc3RTZWxlY3REZXZpY2UnKTsgLy8g6I635Y+W5LiK5LiA5qyh6YCJ5oup55qE6K6+5aSHCgogICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdnZXRNYWluQ2FtZXJhUGFyYW1ldGVycycpOyAvLyDojrflj5bkuLvnm7jmnLrlj4LmlbAKCiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2dldE1vdW50UGFyYW1ldGVycycpOyAvLyDojrflj5botaTpgZPku6pVSeS/oeaBrwoKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnZ2V0Rm9jdXNlclBhcmFtZXRlcnMnKTsgLy8g6I635Y+W54Sm6Led5Zmo5Y+C5pWwCgogICAgICB0aGlzLlJlY2FsaWJyYXRlUG9sYXJBeGlzKCk7IC8vIOmHjeaWsOagoeWHhuaegei9tAoKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnZ2V0U3RhZ2luZ1NvbHZlUmVzdWx0Jyk7IC8vIOiOt+WPluWumuagh+e7k+aenAoKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnZ2V0Rm9jdXNlckxvb3BpbmdTdGF0ZScpOyAvLyDojrflj5bnhKbot53lmajlvqrnjq/nirbmgIEKCiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2dldFN0YWdpbmdTY2hlZHVsZURhdGEnKTsgLy8g6I635Y+W5a6a5qCH6K6h5YiS5pWw5o2uCgogICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdnZXRTdGFnaW5nU29sdmVSZXN1bHQnKTsgLy8g6I635Y+W5a6a5qCH57uT5p6cCgogICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdnZXRHUElPc1N0YXR1cycpOyAvLyDojrflj5ZHUElP54q25oCBCiAgICAgIC8vIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2dldFN0YWdpbmdJbWFnZScpOyAvLyDojrflj5bmnIDlkI7mi43mkYTnmoTlm77lg48KICAgICAgLy8gdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnZ2V0UG9sYXJBbGlnbm1lbnRTdGF0ZScpOyAvLyDojrflj5bmnoHovbTlr7npvZDnirbmgIEKCiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2xvYWRTREtWZXJzaW9uQW5kVVNCU2VyaWFsUGF0aCcpOyAvLyDojrflj5ZTREvniYjmnKzlkoxVU0Lluo/liJflj7fot6/lvoQKCiAgICAgIHRoaXMuZGlzY29ubmVjdFRpbWVvdXRUcmlnZ2VyZWQgPSBmYWxzZTsKICAgIH0sCiAgICBvcGVuUG93ZXJNYW5hZ2VyUGFnZTogZnVuY3Rpb24gb3BlblBvd2VyTWFuYWdlclBhZ2UoKSB7CiAgICAgIHRoaXMuaXNPcGVuRGV2aWNlUGFnZSA9IGZhbHNlOwogICAgICB0aGlzLmlzT3BlblBvd2VyUGFnZSA9IHRydWU7CiAgICAgIHRoaXMuZHJhd2VyXzIgPSB0cnVlOwogICAgfSwKICAgIFF1aXRUb01haW5BcHA6IGZ1bmN0aW9uIFF1aXRUb01haW5BcHAoKSB7CiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ0Jyb2FkY2FzdF9Nc2cnLCAnQ2xvc2VXZWJWaWV3Jyk7CiAgICB9LAogICAgc2VsZWN0RGV2aWNlOiBmdW5jdGlvbiBzZWxlY3REZXZpY2UoZGV2aWNlKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmhhdmVEZXZpY2VDb25uZWN0IHx8IHRoaXMuaGF2ZURldmljZUNvbm5lY3QgfHwgZGV2aWNlLmRyaXZlclR5cGUgPT09ICdUZWxlc2NvcGVzJykgewogICAgICAgIHRoaXMuaXNPcGVuRGV2aWNlUGFnZSA9IHRydWU7CiAgICAgICAgdGhpcy5pc09wZW5Qb3dlclBhZ2UgPSBmYWxzZTsKCiAgICAgICAgaWYgKGRldmljZS5pc2dldCA9PT0gZmFsc2UpIHsKICAgICAgICAgIC8vIGRldmljZS5pc2dldCA9IHRydWU7CiAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdTZWxlY3RJbmRpRHJpdmVyOicgKyBkZXZpY2UudHlwZSArICI6IiArIGRldmljZS5MaXN0TnVtKTsKICAgICAgICAgIHRoaXMuZHJpdmVycyA9IFtdOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5DdXJyZW50RHJpdmVyVHlwZSA9IGRldmljZS5kcml2ZXJUeXBlOwogICAgICAgIHRoaXMuRGV2aWNlSXNDb25uZWN0ZWQgPSBkZXZpY2UuaXNDb25uZWN0ZWQ7CiAgICAgICAgdGhpcy5CYXVkUmF0ZVNlbGVjdGVkID0gZGV2aWNlLkJhdWRSYXRlOwoKICAgICAgICBpZiAoZGV2aWNlLmRyaXZlclR5cGUgPT09ICdUZWxlc2NvcGVzJykgewogICAgICAgICAgdGhpcy5EZXZpY2VJc0Nvbm5lY3RlZCA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmRyYXdlcl8yID0gdHJ1ZTsKICAgICAgICB0aGlzLlRvQmVDb25uZWN0RGV2aWNlID0gW107CiAgICAgICAgdGhpcy5kZXZpY2VzTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChkZXZpY2VzTGlzdCkgewogICAgICAgICAgaWYgKGRldmljZXNMaXN0LnR5cGUgPT09IF90aGlzNi5DdXJyZW50RHJpdmVyVHlwZSkgewogICAgICAgICAgICBfdGhpczYuVG9CZUNvbm5lY3REZXZpY2UucHVzaChkZXZpY2VzTGlzdCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jYWxsU2hvd01lc3NhZ2VCb3goJ1RoZSBkZXZpY2UgaXMgbm90IGNvbm5lY3RlZC4nLCAnZXJyb3InKTsKICAgICAgfQogICAgfSwKICAgIEN1cnJlbnRDb25maWdJdGVtczogZnVuY3Rpb24gQ3VycmVudENvbmZpZ0l0ZW1zKCkgewogICAgICBjb25zb2xlLmxvZygnQ3VycmVudENvbmZpZ0l0ZW1zOiAnLCB0aGlzLkN1cnJlbnREcml2ZXJUeXBlICsgJ0NvbmZpZ0l0ZW1zJyk7CgogICAgICBzd2l0Y2ggKHRoaXMuQ3VycmVudERyaXZlclR5cGUpIHsKICAgICAgICBjYXNlICdHdWlkZXInOgogICAgICAgICAgcmV0dXJuIHRoaXMuR3VpZGVyQ29uZmlnSXRlbXM7CgogICAgICAgIGNhc2UgJ01haW5DYW1lcmEnOgogICAgICAgICAgcmV0dXJuIHRoaXMuTWFpbkNhbWVyYUNvbmZpZ0l0ZW1zOwoKICAgICAgICBjYXNlICdNb3VudCc6CiAgICAgICAgICByZXR1cm4gdGhpcy5Nb3VudENvbmZpZ0l0ZW1zOwoKICAgICAgICBjYXNlICdUZWxlc2NvcGVzJzoKICAgICAgICAgIHJldHVybiB0aGlzLlRlbGVzY29wZXNDb25maWdJdGVtczsKCiAgICAgICAgY2FzZSAnRm9jdXNlcic6CiAgICAgICAgICByZXR1cm4gdGhpcy5Gb2N1c2VyQ29uZmlnSXRlbXM7CgogICAgICAgIGNhc2UgJ1BvbGVDYW1lcmEnOgogICAgICAgICAgcmV0dXJuIHRoaXMuUG9sZUNhbWVyYUNvbmZpZ0l0ZW1zOwoKICAgICAgICBjYXNlICdDRlcnOgogICAgICAgICAgcmV0dXJuIHRoaXMuQ0ZXQ29uZmlnSXRlbXM7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICBjb25maXJtRHJpdmVyOiBmdW5jdGlvbiBjb25maXJtRHJpdmVyKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIC8vIOehruWumumpseWKqOeahOmAu+i+kQogICAgICBjb25zb2xlLmxvZygiUUhZQ0NEIHwgY29uZmlybURyaXZlcjogIiwgdGhpcy5zZWxlY3RlZERyaXZlcik7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0NvbmZpcm0gSW5kaSBEcml2ZXI6JyArIHRoaXMuc2VsZWN0ZWREcml2ZXIsICdpbmZvJyk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnQ29uZmlybUluZGlEcml2ZXI6JyArIHRoaXMuc2VsZWN0ZWREcml2ZXIgKyAnOicgKyB0aGlzLkJhdWRSYXRlU2VsZWN0ZWQpOwogICAgICB0aGlzLmNvbmZpcm1Ecml2ZXJUeXBlID0gdGhpcy5DdXJyZW50RHJpdmVyVHlwZTsKICAgICAgdGhpcy5sb2FkaW5nU2VsZWN0RHJpdmVyID0gdHJ1ZTsKICAgICAgdGhpcy5kZXZpY2VzLmZvckVhY2goZnVuY3Rpb24gKGRldmljZSkgewogICAgICAgIGlmIChkZXZpY2UuZHJpdmVyVHlwZSA9PT0gX3RoaXM3LkN1cnJlbnREcml2ZXJUeXBlKSB7CiAgICAgICAgICBkZXZpY2UuZGV2aWNlID0gX3RoaXM3LnNlbGVjdGVkRHJpdmVyOwogICAgICAgICAgZGV2aWNlLmRyaXZlck5hbWUgPSBfdGhpczcuc2VsZWN0ZWREcml2ZXI7CiAgICAgICAgICBkZXZpY2UuQmF1ZFJhdGUgPSBfdGhpczcuQmF1ZFJhdGVTZWxlY3RlZDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNsZWFyRHJpdmVyOiBmdW5jdGlvbiBjbGVhckRyaXZlcigpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0NsZWFySW5kaURyaXZlcicpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdDbGVhciBJbmRpIERyaXZlcicsICdpbmZvJyk7CiAgICAgIHRoaXMuZGV2aWNlcy5mb3JFYWNoKGZ1bmN0aW9uIChkZXZpY2UpIHsKICAgICAgICBpZiAoZGV2aWNlLmRyaXZlclR5cGUgPT09IF90aGlzOC5DdXJyZW50RHJpdmVyVHlwZSkgewogICAgICAgICAgZGV2aWNlLmRldmljZSA9ICcnOwogICAgICAgICAgZGV2aWNlLmRyaXZlck5hbWUgPSAnJzsKICAgICAgICAgIGRldmljZS5CYXVkUmF0ZSA9IDk2MDA7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5zZWxlY3RlZERyaXZlciA9ICcnOwogICAgfSwKICAgIGNvbmZpcm1EZXZpY2U6IGZ1bmN0aW9uIGNvbmZpcm1EZXZpY2UoKSB7CiAgICAgIC8vIOehruWumuiuvuWkh+eahOmAu+i+kQogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0NvbmZpcm1JbmRpRGV2aWNlOicgKyB0aGlzLnNlbGVjdGVkRGV2aWNlICsgJzonICsgdGhpcy5zZWxlY3RlZERyaXZlcik7IC8vIHRoaXMuJGJ1cy4kZW1pdCgnQXBwVXBkYXRlRGV2aWNlcycsIHRoaXMuQ3VycmVudERyaXZlclR5cGUsIHRoaXMuc2VsZWN0ZWREZXZpY2UpOwoKICAgICAgdGhpcy51cGRhdGVEZXZpY2VzKHRoaXMuQ3VycmVudERyaXZlclR5cGUsIHRoaXMuc2VsZWN0ZWREZXZpY2UpOwogICAgfSwKICAgIHVwZGF0ZURldmljZXM6IGZ1bmN0aW9uIHVwZGF0ZURldmljZXMoZHJpdmVyVHlwZSwgbmV3RGV2aWNlKSB7CiAgICAgIC8vIOaJi+WKqOmAieaLqQogICAgICB0aGlzLmRldmljZXMuZm9yRWFjaChmdW5jdGlvbiAoZGV2aWNlKSB7CiAgICAgICAgaWYgKGRldmljZS5kcml2ZXJUeXBlID09PSBkcml2ZXJUeXBlKSB7CiAgICAgICAgICBkZXZpY2UuZGV2aWNlID0gbmV3RGV2aWNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlRGV2aWNlc186IGZ1bmN0aW9uIHVwZGF0ZURldmljZXNfKExpc3ROdW0sIG5ld0RldmljZSkgewogICAgICAvLyDku47mlofku7blr7zlhaUKICAgICAgdGhpcy5kZXZpY2VzLmZvckVhY2goZnVuY3Rpb24gKGRldmljZSkgewogICAgICAgIGlmIChkZXZpY2UuTGlzdE51bSA9PT0gTGlzdE51bSkgewogICAgICAgICAgZGV2aWNlLmRldmljZSA9IG5ld0RldmljZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmxvYWRpbmdDb25uZWN0QWxsRGV2aWNlID0gZmFsc2U7CiAgICB9LAogICAgdXBkYXRlRGV2aWNlc0Nvbm5lY3Q6IGZ1bmN0aW9uIHVwZGF0ZURldmljZXNDb25uZWN0KHR5cGUsIERldmljZU5hbWUsIERyaXZlck5hbWUpIHsKICAgICAgdmFyIGlzQmluZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogdHJ1ZTsKICAgICAgLy8g6L+e5o6l5oiQ5YqfCiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ3VwZGF0ZURldmljZXNDb25uZWN0JyArIHR5cGUgKyAnICcgKyBEZXZpY2VOYW1lICsgJyAnICsgRHJpdmVyTmFtZSArICcgJyArIGlzQmluZCwgJ2luZm8nKTsKICAgICAgdGhpcy5kZXZpY2VzLmZvckVhY2goZnVuY3Rpb24gKGRldmljZSkgewogICAgICAgIGlmIChkZXZpY2UuZHJpdmVyVHlwZSA9PT0gdHlwZSkgewogICAgICAgICAgaWYgKGlzQmluZCA9PSB0cnVlKSB7CiAgICAgICAgICAgIGRldmljZS5kZXZpY2UgPSBEZXZpY2VOYW1lOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGV2aWNlLmRldmljZSA9ICJOb3QgQmluZCBEZXZpY2UiOwogICAgICAgICAgfQoKICAgICAgICAgIGRldmljZS5kcml2ZXJOYW1lID0gRHJpdmVyTmFtZTsKICAgICAgICAgIGRldmljZS5pc0Nvbm5lY3RlZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5jYWxsU2hvd01lc3NhZ2VCb3goRGV2aWNlTmFtZSArICcgc3VjY2VzcyBjb25uZWN0ZWQnLCAnc3VjY2VzcycpOwogICAgICB0aGlzLmhhdmVEZXZpY2VDb25uZWN0ID0gdHJ1ZTsKICAgICAgdGhpcy5sb2FkaW5nQ29ubmVjdEFsbERldmljZSA9IGZhbHNlOwoKICAgICAgaWYgKHR5cGUgPT09ICdNYWluQ2FtZXJhJykgewogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnTWFpbkNhbWVyYUNvbm5lY3RlZCcsIDEpOwogICAgICAgIGNvbnNvbGUubG9nKCdNYWluQ2FtZXJhIGlzIENvbm5lY3RlZC4nKTsKICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnTW91bnQnKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdNb3VudENvbm5lY3RlZCcsIDEpOwogICAgICAgIGNvbnNvbGUubG9nKCdNb3VudCBpcyBDb25uZWN0ZWQuJyk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0NGVycpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0NGV0Nvbm5lY3RlZCcsIDEpOwogICAgICAgIGNvbnNvbGUubG9nKCdNb3VudCBpcyBDb25uZWN0ZWQuJyk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0ZvY3VzZXInKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdGb2N1c2VyQ29ubmVjdGVkJywgMSk7CiAgICAgICAgY29uc29sZS5sb2coJ0ZvY3VzZXIgaXMgQ29ubmVjdGVkLicpOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdHdWlkZXInKSB7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdHdWlkZXJDb25uZWN0ZWQnLCAxKTsKICAgICAgICBjb25zb2xlLmxvZygnR3VpZGVyIGlzIENvbm5lY3RlZC4nKTsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2coJ3VwZGF0ZURldmljZXNDb25uZWN0OiAnLCB0eXBlLCBEZXZpY2VOYW1lLCBEcml2ZXJOYW1lLCBpc0JpbmQpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0RldmljZUNvbm5lY3RTdWNjZXNzJywgdHlwZSwgRGV2aWNlTmFtZSwgRHJpdmVyTmFtZSwgaXNCaW5kKTsKICAgIH0sCiAgICBzdGFydENvbm5lY3RCdG5QcmVzczogZnVuY3Rpb24gc3RhcnRDb25uZWN0QnRuUHJlc3MoZXZlbnQpIHsKICAgICAgLy8g5aaC5p6c5piv6Kem5pG45LqL5Lu277yM5qCH6K6w5bm25aSE55CGCiAgICAgIGlmIChldmVudC50eXBlID09PSAndG91Y2hzdGFydCcpIHsKICAgICAgICB0aGlzLmlzVG91Y2hpbmcgPSB0cnVlOwogICAgICAgIHRoaXMuaXNDb25uZWN0QnRuTG9uZ1ByZXNzID0gZmFsc2U7IC8vIOmHjee9rumVv+aMieagh+iusAogICAgICAgIC8vIHRoaXMuQ29ubmVjdEJ0blByZXNzVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAvLyAgIHRoaXMuaXNDb25uZWN0QnRuTG9uZ1ByZXNzID0gdHJ1ZTsgLy8g5qCH6K6w5Li66ZW/5oyJCiAgICAgICAgLy8gICB0aGlzLmhhbmRsZUNvbm5lY3RCdG5Mb25nUHJlc3MoKTsKICAgICAgICAvLyB9LCB0aGlzLkNvbm5lY3RCdG5sb25nUHJlc3NUaHJlc2hvbGQpOwoKICAgICAgICB0aGlzLmhhbmRsZUNvbm5lY3RCdG5DbGljaygpOwogICAgICB9IC8vIOWmguaenOaYr+m8oOagh+S6i+S7tu+8jOS4lOayoeacieato+WcqOi/m+ihjOeahOinpuaRuOS6i+S7tu+8jOWImeWkhOeQhgogICAgICBlbHNlIGlmIChldmVudC50eXBlID09PSAnbW91c2Vkb3duJyAmJiAhdGhpcy5pc1RvdWNoaW5nKSB7CiAgICAgICAgICB0aGlzLmlzQ29ubmVjdEJ0bkxvbmdQcmVzcyA9IGZhbHNlOyAvLyDph43nva7plb/mjInmoIforrAKICAgICAgICAgIC8vIHRoaXMuQ29ubmVjdEJ0blByZXNzVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIC8vICAgdGhpcy5pc0Nvbm5lY3RCdG5Mb25nUHJlc3MgPSB0cnVlOyAvLyDmoIforrDkuLrplb/mjIkKICAgICAgICAgIC8vICAgdGhpcy5oYW5kbGVDb25uZWN0QnRuTG9uZ1ByZXNzKCk7CiAgICAgICAgICAvLyB9LCB0aGlzLkNvbm5lY3RCdG5sb25nUHJlc3NUaHJlc2hvbGQpOwoKICAgICAgICAgIHRoaXMuaGFuZGxlQ29ubmVjdEJ0bkNsaWNrKCk7CiAgICAgICAgfQogICAgfSwKICAgIGVuZENvbm5lY3RCdG5QcmVzczogZnVuY3Rpb24gZW5kQ29ubmVjdEJ0blByZXNzKGV2ZW50KSB7CiAgICAgIC8vIOWmguaenOaYr+inpuaRuOS6i+S7tu+8jOWkhOeQhuW5tumHjee9ruagh+iusAogICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3RvdWNoZW5kJykgewogICAgICAgIGNsZWFyVGltZW91dCh0aGlzLkNvbm5lY3RCdG5QcmVzc1RpbWVyKTsgLy8g5riF6Zmk5a6a5pe25ZmoCiAgICAgICAgLy8gaWYgKCF0aGlzLmlzQ29ubmVjdEJ0bkxvbmdQcmVzcykgewogICAgICAgIC8vICAgdGhpcy5oYW5kbGVDb25uZWN0QnRuQ2xpY2soKTsgLy8g5aaC5p6c5LiN5piv6ZW/5oyJ77yM5YiZ6Kem5Y+R54K55Ye75LqL5Lu2CiAgICAgICAgLy8gfQoKICAgICAgICB0aGlzLmhhbmRsZUNvbm5lY3RCdG5DbGljaygpOwogICAgICAgIHRoaXMuQ29ubmVjdEJ0blByZXNzVGltZXIgPSBudWxsOyAvLyDph43nva7lrprml7blmagKCiAgICAgICAgdGhpcy5pc1RvdWNoaW5nID0gZmFsc2U7IC8vIOmHjee9ruinpuaRuOagh+iusAogICAgICB9IC8vIOWmguaenOaYr+m8oOagh+S6i+S7tu+8jOS4lOayoeacieato+WcqOi/m+ihjOeahOinpuaRuOS6i+S7tu+8jOWImeWkhOeQhgogICAgICBlbHNlIGlmIChldmVudC50eXBlID09PSAnbW91c2V1cCcgJiYgIXRoaXMuaXNUb3VjaGluZykgewogICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuQ29ubmVjdEJ0blByZXNzVGltZXIpOyAvLyDmuIXpmaTlrprml7blmagKICAgICAgICAgIC8vIGlmICghdGhpcy5pc0Nvbm5lY3RCdG5Mb25nUHJlc3MpIHsKICAgICAgICAgIC8vICAgdGhpcy5oYW5kbGVDb25uZWN0QnRuQ2xpY2soKTsgLy8g5aaC5p6c5LiN5piv6ZW/5oyJ77yM5YiZ6Kem5Y+R54K55Ye75LqL5Lu2CiAgICAgICAgICAvLyB9CgogICAgICAgICAgdGhpcy5oYW5kbGVDb25uZWN0QnRuQ2xpY2soKTsKICAgICAgICAgIHRoaXMuQ29ubmVjdEJ0blByZXNzVGltZXIgPSBudWxsOyAvLyDph43nva7lrprml7blmagKICAgICAgICB9CiAgICB9LAogICAgaGFuZGxlQ29ubmVjdEJ0bkNsaWNrOiBmdW5jdGlvbiBoYW5kbGVDb25uZWN0QnRuQ2xpY2soKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuaGF2ZURldmljZUNvbm5lY3QpIHsKICAgICAgICB0aGlzLmNhbGxTaG93TWVzc2FnZUJveCgnUGxlYXNlIGRpc2Nvbm5lY3QgYWxsIGRldmljZXMgZmlyc3QuJywgJ2Vycm9yJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoIXRoaXMuQ29ubmVjdEJ0bkNhbkNsaWNrKSByZXR1cm47IC8vIOWmguaenOS4jeWPr+eCueWHu++8jOebtOaOpei/lOWbngoKICAgICAgdGhpcy5Db25uZWN0QnRuQ2FuQ2xpY2sgPSBmYWxzZTsgLy8g6K6+572u5Li65LiN5Y+v54K55Ye7CgogICAgICBjb25zb2xlLmxvZygiQ29ubmVjdCBCdXR0b24gY2xpY2tlZCIpOwogICAgICB0aGlzLmNvbm5lY3RBbGxEZXZpY2UoKTsgLy8g5oGi5aSN54K55Ye75p2D6ZmQCgogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczkuQ29ubmVjdEJ0bkNhbkNsaWNrID0gdHJ1ZTsKICAgICAgfSwgMTAwMCk7IC8vIDHnp5LlkI7mgaLlpI0KICAgIH0sCiAgICBoYW5kbGVDb25uZWN0QnRuTG9uZ1ByZXNzOiBmdW5jdGlvbiBoYW5kbGVDb25uZWN0QnRuTG9uZ1ByZXNzKCkgewogICAgICBpZiAodGhpcy5oYXZlRGV2aWNlQ29ubmVjdCkgewogICAgICAgIHRoaXMuY2FsbFNob3dNZXNzYWdlQm94KCdQbGVhc2UgZGlzY29ubmVjdCBhbGwgZGV2aWNlcyBmaXJzdC4nLCAnZXJyb3InKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8g6ZW/5oyJ5LqL5Lu255qE5aSE55CGCgoKICAgICAgY29uc29sZS5sb2coIkNvbm5lY3QgQnV0dG9uIGxvbmcgcHJlc3NlZCIpOwogICAgICB0aGlzLmF1dG9Db25uZWN0QWxsRGV2aWNlKCk7CiAgICB9LAogICAgY29ubmVjdEFsbERldmljZTogZnVuY3Rpb24gY29ubmVjdEFsbERldmljZSgpIHsKICAgICAgY29uc29sZS5sb2coIlFIWUNDRCB8IGNvbm5lY3RBbGxEZXZpY2UuIik7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0Nvbm5lY3QgQWxsIERldmljZScsICdpbmZvJyk7CiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2Nvbm5lY3RBbGxEZXZpY2UnKTsKICAgICAgdGhpcy5sb2FkaW5nQ29ubmVjdEFsbERldmljZSA9IHRydWU7CiAgICB9LAogICAgYXV0b0Nvbm5lY3RBbGxEZXZpY2U6IGZ1bmN0aW9uIGF1dG9Db25uZWN0QWxsRGV2aWNlKCkgewogICAgICBjb25zb2xlLmxvZygiUUhZQ0NEIHwgYXV0b0Nvbm5lY3RBbGxEZXZpY2UuIik7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0F1dG8gQ29ubmVjdCBBbGwgRGV2aWNlJywgJ2luZm8nKTsKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnYXV0b0Nvbm5lY3RBbGxEZXZpY2UnKTsKICAgICAgdGhpcy5sb2FkaW5nQ29ubmVjdEFsbERldmljZSA9IHRydWU7CiAgICB9LAogICAgZGlzY29ubmVjdEFsbERldmljZTogZnVuY3Rpb24gZGlzY29ubmVjdEFsbERldmljZShjb25maXJtKSB7CiAgICAgIC8vIOajgOafpeaYr+WQpuacieiuvuWkh+eahCBpc0Nvbm5lY3RlZCDlsZ7mgKfkuLogdHJ1ZQogICAgICAvLyBjb25zdCBoYXNDb25uZWN0ZWREZXZpY2VzID0gdGhpcy5kZXZpY2VzLnNvbWUoZGV2aWNlID0+IGRldmljZS5pc0Nvbm5lY3RlZCk7CiAgICAgIGlmICh0aGlzLmhhdmVEZXZpY2VDb25uZWN0KSB7CiAgICAgICAgaWYgKGNvbmZpcm0gPT09IGZhbHNlKSB7CiAgICAgICAgICB0aGlzLlNob3dDb25maXJtRGlhbG9nKCdDb25maXJtJywgJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkaXNjb25uZWN0IGFsbCBkZXZpY2VzPycsICdkaXNjb25uZWN0QWxsRGV2aWNlJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ2Rpc2Nvbm5lY3RBbGxEZXZpY2UnKTsKICAgICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0Rpc2Nvbm5lY3QgQWxsIERldmljZScsICdpbmZvJyk7CiAgICAgICAgICB0aGlzLmhhdmVEZXZpY2VDb25uZWN0ID0gZmFsc2U7IC8vIHRoaXMuZGV2aWNlcy5mb3JFYWNoKGRldmljZSA9PiB7CiAgICAgICAgICAvLyAgIGRldmljZS5pc0Nvbm5lY3RlZCA9IGZhbHNlOwogICAgICAgICAgLy8gICAvLyBkZXZpY2UuZGV2aWNlID0gJyc7CiAgICAgICAgICAvLyB9KTsKCiAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ01haW5DYW1lcmFDb25uZWN0ZWQnLCAwKTsKICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnTW91bnRDb25uZWN0ZWQnLCAwKTsKICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQ0ZXQ29ubmVjdGVkJywgMCk7CiAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0ZvY3VzZXJDb25uZWN0ZWQnLCAwKTsKICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnR3VpZGVyQ29ubmVjdGVkJywgMCk7CiAgICAgICAgICB0aGlzLmNsZWFyRGV2aWNlTGlzdCgpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNhbGxTaG93TWVzc2FnZUJveCgnTm8gZGV2aWNlcyBoYXZlIGJlZW4gY29ubmVjdGVkLicsICdlcnJvcicpOwogICAgICB9CgogICAgICB0aGlzLnNlbGVjdGVkRHJpdmVyID0gJyc7CiAgICB9LAogICAgY2xlYXJEZXZpY2VMaXN0OiBmdW5jdGlvbiBjbGVhckRldmljZUxpc3QoKSB7CiAgICAgIHRoaXMuZGV2aWNlcy5mb3JFYWNoKGZ1bmN0aW9uIChkZXZpY2UpIHsKICAgICAgICBkZXZpY2UuZGV2aWNlID0gZGV2aWNlLmRyaXZlck5hbWU7CiAgICAgICAgZGV2aWNlLmlzQ29ubmVjdGVkID0gZmFsc2U7CiAgICAgICAgZGV2aWNlLmlzZ2V0ID0gZmFsc2U7CiAgICAgICAgZGV2aWNlLkJhdWRSYXRlID0gOTYwMDsKICAgICAgfSk7CiAgICAgIHRoaXMuVG9CZUNvbm5lY3REZXZpY2UgPSBbXTsKICAgICAgdGhpcy5kZXZpY2VzTGlzdCA9IFtdOwogICAgICB0aGlzLmRyaXZlcnMgPSBbXTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdjbGVhckRldmljZUFsbG9jYXRpb25MaXN0Jyk7CiAgICB9LAogICAgU3dpdGNoT3V0UHV0UG93ZXI6IGZ1bmN0aW9uIFN3aXRjaE91dFB1dFBvd2VyKGluZGV4LCBpc1Bvd2VyT04pIHsKICAgICAgaWYgKGlzUG93ZXJPTikgewogICAgICAgIHRoaXMuZHJhd2VyXzIgPSBmYWxzZTsKICAgICAgICB0aGlzLlNob3dDb25maXJtRGlhbG9nKCdPdXRwdXQgUG93ZXI6JyArIGluZGV4LCAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHR1cm4gb2ZmIHRoaXMgb3V0cHV0IHBvd2VyPycsICdTd2l0Y2hPdXRQdXRQb3dlcicpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnU3dpdGNoT3V0UHV0UG93ZXI6JyArIGluZGV4KTsKICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdTd2l0Y2ggT3V0UHV0UG93ZXInICsgaW5kZXgsICdpbmZvJyk7CiAgICAgIH0KICAgIH0sCiAgICBSZXN0YXJ0UmFzcGJlcnJ5UGk6IGZ1bmN0aW9uIFJlc3RhcnRSYXNwYmVycnlQaSgpIHsKICAgICAgdGhpcy5kcmF3ZXJfMiA9IGZhbHNlOwogICAgICB0aGlzLlNob3dDb25maXJtRGlhbG9nKCdSZXN0YXJ0JywgJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZXN0YXJ0IHRoZSBSYXNwYmVycnkgUGk/JywgJ1Jlc3RhcnRSYXNwYmVycnlQaScpOwogICAgfSwKICAgIFNodXRkb3duUmFzcGJlcnJ5UGk6IGZ1bmN0aW9uIFNodXRkb3duUmFzcGJlcnJ5UGkoKSB7CiAgICAgIHRoaXMuZHJhd2VyXzIgPSBmYWxzZTsKICAgICAgdGhpcy5TaG93Q29uZmlybURpYWxvZygnU2h1dCBEb3duJywgJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBzaHV0IGRvd24gdGhlIFJhc3BiZXJyeSBQaT8nLCAnU2h1dGRvd25SYXNwYmVycnlQaScpOwogICAgfSwKICAgIEZvcmNlVXBkYXRlOiBmdW5jdGlvbiBGb3JjZVVwZGF0ZSgpIHsKICAgICAgdGhpcy5kcmF3ZXJfMiA9IGZhbHNlOwogICAgICB0aGlzLlNob3dDb25maXJtRGlhbG9nKCdGb3JjZSBVcGRhdGUnLCAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGZvcmNlIHVwZGF0ZSB0aGUgUmFzcGJlcnJ5IFBpPycsICdGb3JjZVVwZGF0ZScpOwogICAgfSwKICAgIFJldHVybkNvbm5lY3RlZERldmljZXM6IGZ1bmN0aW9uIFJldHVybkNvbm5lY3RlZERldmljZXMoKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIHRoaXMuZGV2aWNlcy5mb3JFYWNoKGZ1bmN0aW9uIChkZXZpY2UpIHsKICAgICAgICBpZiAoZGV2aWNlLmRyaXZlclR5cGUgPT09ICdNYWluQ2FtZXJhJykgewogICAgICAgICAgaWYgKGRldmljZS5pc0Nvbm5lY3RlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgICBfdGhpczEwLiRidXMuJGVtaXQoJ01haW5DYW1lcmFDb25uZWN0ZWQnLCAxKTsKCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNYWluQ2FtZXJhIGlzIENvbm5lY3RlZC4nKTsKCiAgICAgICAgICAgIF90aGlzMTAuU2VuZENvbnNvbGVMb2dNc2coJ01haW5DYW1lcmEgaXMgQ29ubmVjdGVkLicsICdpbmZvJyk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChkZXZpY2UuZHJpdmVyVHlwZSA9PT0gJ01vdW50JykgewogICAgICAgICAgaWYgKGRldmljZS5pc0Nvbm5lY3RlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgICBfdGhpczEwLiRidXMuJGVtaXQoJ01vdW50Q29ubmVjdGVkJywgMSk7CgogICAgICAgICAgICBjb25zb2xlLmxvZygnTW91bnQgaXMgQ29ubmVjdGVkLicpOwoKICAgICAgICAgICAgX3RoaXMxMC5TZW5kQ29uc29sZUxvZ01zZygnTW91bnQgaXMgQ29ubmVjdGVkLicsICdpbmZvJyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnbG9hZFNlbGVjdGVkRHJpdmVyTGlzdCcpOwogICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdsb2FkQmluZERldmljZUxpc3QnKTsKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnbG9hZEJpbmREZXZpY2VUeXBlTGlzdCcpOwogICAgfSwKICAgIFJldHVybkN1cnJlbnRDb25uZWN0ZWREZXZpY2VzOiBmdW5jdGlvbiBSZXR1cm5DdXJyZW50Q29ubmVjdGVkRGV2aWNlcygpIHsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdzZW5kQ3VycmVudENvbm5lY3RlZERldmljZXMnLCB0aGlzLmRldmljZXMpOwogICAgfSwKICAgIE9wZW5JYW1nZUZvbGRlcjogZnVuY3Rpb24gT3BlbklhbWdlRm9sZGVyKCkgewogICAgICB0aGlzLiRidXMuJGVtaXQoJ0ltYWdlTWFuYWdlclBhbmVsT3BlbicpOwogICAgICB0aGlzLm5hdiA9IGZhbHNlOwogICAgfSwKICAgIE9wZW5EZWJ1Z0xvZzogZnVuY3Rpb24gT3BlbkRlYnVnTG9nKCkgewogICAgICB0aGlzLiRidXMuJGVtaXQoJ3RvZ2dsZUlORElEZWJ1Z0RpYWxvZycpOwogICAgICB0aGlzLm5hdiA9IGZhbHNlOwogICAgfSwKICAgIFNlbmRDb25zb2xlTG9nTXNnOiBmdW5jdGlvbiBTZW5kQ29uc29sZUxvZ01zZyhtZXNzYWdlLCB0eXBlKSB7CiAgICAgIGlmICh0eXBlID09ICdlcnJvcicpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvcjogJyArIG1lc3NhZ2UpOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU2VuZENvbnNvbGVMb2cnLCB0eXBlLCBtZXNzYWdlKTsKICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdpbmZvJykgewogICAgICAgIGNvbnNvbGUubG9nKCdJbmZvOiAnICsgbWVzc2FnZSk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTZW5kQ29uc29sZUxvZycsIHR5cGUsIG1lc3NhZ2UpOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ3dhcm5pbmcnKSB7CiAgICAgICAgY29uc29sZS53YXJuKCdXYXJuaW5nOiAnICsgbWVzc2FnZSk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTZW5kQ29uc29sZUxvZycsIHR5cGUsIG1lc3NhZ2UpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCdEZWJ1ZzogJyArIG1lc3NhZ2UpOwogICAgICB9CiAgICB9LAogICAgRGV2aWNlQWxsb2NhdGlvbjogZnVuY3Rpb24gRGV2aWNlQWxsb2NhdGlvbigpIHsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCd0b2dnbGVEZXZpY2VBbGxvY2F0aW9uUGFuZWwnKTsKICAgICAgdGhpcy5uYXYgPSBmYWxzZTsKICAgIH0sCiAgICAvLyBDdXJyZW50RXhwVGltZUxpc3QoaW5kZXgsIHZhbHVlKSB7CiAgICAvLyAgIGNvbnN0IGV4cFRpbWVJbmRleCA9IHRoaXMuTWFpbkNhbWVyYUNvbmZpZ0l0ZW1zLmZpbmRJbmRleChpdGVtID0+IGl0ZW0ubGFiZWwgPT09ICdFeHBUaW1lIFsnICsgKGluZGV4ICsgMSkgKyAnXScpOwogICAgLy8gICBpZiAoZXhwVGltZUluZGV4ICE9PSAtMSkgeyAvLyDnoa7kv53mib7liLDkuoblr7nlupTnmoTphY3nva7pobkKICAgIC8vICAgICAvLyDmm7TmlrAgRXhwVGltZTEg6YWN572u6aG555qE5YC8CiAgICAvLyAgICAgdGhpcy5NYWluQ2FtZXJhQ29uZmlnSXRlbXNbZXhwVGltZUluZGV4XS52YWx1ZSA9IHZhbHVlOwogICAgLy8gICB9IGVsc2UgewogICAgLy8gICAgIGNvbnNvbGUuZXJyb3IoJ0V4cFRpbWUgWycgKyBpbmRleCArICddIGNvbmZpZ3VyYXRpb24gaXRlbSBub3QgZm91bmQuJyk7CiAgICAvLyAgIH0KICAgIC8vIH0sCiAgICBDdXJyZW50Q0ZXTGlzdDogZnVuY3Rpb24gQ3VycmVudENGV0xpc3QoaW5kZXgsIHZhbHVlKSB7CiAgICAgIHZhciBleHBUaW1lSW5kZXggPSB0aGlzLkNGV0NvbmZpZ0l0ZW1zLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmxhYmVsID09PSAnQ0ZXIFsnICsgKGluZGV4ICsgMSkgKyAnXSc7CiAgICAgIH0pOwoKICAgICAgaWYgKGV4cFRpbWVJbmRleCAhPT0gLTEpIHsKICAgICAgICAvLyDnoa7kv53mib7liLDkuoblr7nlupTnmoTphY3nva7pobkKICAgICAgICAvLyDmm7TmlrAgRXhwVGltZTEg6YWN572u6aG555qE5YC8CiAgICAgICAgdGhpcy5DRldDb25maWdJdGVtc1tleHBUaW1lSW5kZXhdLnZhbHVlID0gdmFsdWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5lcnJvcignQ0ZXIFsnICsgaW5kZXggKyAnXSBjb25maWd1cmF0aW9uIGl0ZW0gbm90IGZvdW5kLicpOwogICAgICB9CiAgICB9LAogICAgY29uZmlybUNvbmZpZ3VyYXRpb246IGZ1bmN0aW9uIGNvbmZpcm1Db25maWd1cmF0aW9uKExpc3QpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0udmFsdWUgIT09ICcnKSB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhpdGVtLmxhYmVsLCBpdGVtLnZhbHVlKTsKICAgICAgICAgIF90aGlzMTEuU2VuZENvbnNvbGVMb2dNc2coaXRlbS5sYWJlbCArICc6JyArIGl0ZW0udmFsdWUsICdpbmZvJyk7CgogICAgICAgICAgX3RoaXMxMS4kYnVzLiRlbWl0KGl0ZW0ubGFiZWwsIGl0ZW0ubGFiZWwgKyAnOicgKyBpdGVtLnZhbHVlKTsKICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udmFsdWUgPT0gJycgJiYgaXRlbS5sYWJlbCA9PT0gJ0ZvY2FsIExlbmd0aCAobW0pJykgewogICAgICAgICAgX3RoaXMxMS5TZW5kQ29uc29sZUxvZ01zZyhpdGVtLmxhYmVsICsgJ2lzIE5VTEwnLCAnaW5mbycpOwoKICAgICAgICAgIF90aGlzMTEuJGJ1cy4kZW1pdChpdGVtLmxhYmVsLCBpdGVtLmxhYmVsICsgJzonKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmNhbGxTaG93TWVzc2FnZUJveCgnQ29uZmlndXJhdGlvbiBoYXMgYmVlbiBtb2RpZmllZCEnLCAnc3VjY2VzcycpOwogICAgfSwKICAgIGxvYWRBbmREaXNwbGF5SW1hZ2U6IGZ1bmN0aW9uIGxvYWRBbmREaXNwbGF5SW1hZ2UoaW1hZ2VQYXRoKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3VpZGVyQ2FtZXJhLWNhbnZhcycpOyAvLyBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbkNhbWVyYS1jYW52YXMnKTsKCiAgICAgIGlmIChjYW52YXMuZ2V0Q29udGV4dCkgewogICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7CgogICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBjYW52YXMud2lkdGggPSBpbWcud2lkdGg7CiAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodDsKICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTsgLy8gdGhpcy4kYnVzLiRlbWl0KCdzaG93U29sdmVJbWFnZScsIGltZyk7CiAgICAgICAgfTsgLy8g5re75Yqg6ZSZ6K+v5aSE55CGCgoKICAgICAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coIlx1NTJBMFx1OEY3RFx1NTZGRVx1NTBDRlx1NTkzMVx1OEQyNTogIi5jb25jYXQoaW1hZ2VQYXRoKSk7CgogICAgICAgICAgX3RoaXMxMi5TZW5kQ29uc29sZUxvZ01zZygiXHU1MkEwXHU4RjdEXHU1NkZFXHU1MENGXHU1OTMxXHU4RDI1OiAiLmNvbmNhdChpbWFnZVBhdGgpLCAnZXJyb3InKTsKICAgICAgICB9OwoKICAgICAgICBpbWcuc3JjID0gaW1hZ2VQYXRoOwogICAgICB9CiAgICB9LAogICAgSW1hZ2VHYWluU2V0OiBmdW5jdGlvbiBJbWFnZUdhaW5TZXQocGF5bG9hZCkgewogICAgICB2YXIgX3BheWxvYWQkc3BsaXQgPSBwYXlsb2FkLnNwbGl0KCc6JyksCiAgICAgICAgICBfcGF5bG9hZCRzcGxpdDIgPSBfc2xpY2VkVG9BcnJheShfcGF5bG9hZCRzcGxpdCwgMiksCiAgICAgICAgICBzaWduYWwgPSBfcGF5bG9hZCRzcGxpdDJbMF0sCiAgICAgICAgICB2YWx1ZSA9IF9wYXlsb2FkJHNwbGl0MlsxXTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CgoKICAgICAgdmFyIGRvdWJsZVZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7IC8vIOWwhuWAvOi9rOaNouS4uiBkb3VibGUg57G75Z6LCgogICAgICBpZiAoc2lnbmFsID09PSAnSW1hZ2VHYWluUicpIHsKICAgICAgICAvLyDlpITnkIYgSW1hZ2VHYWluUiDkv6Hlj7cKICAgICAgICB0aGlzLkltYWdlR2FpblIgPSBkb3VibGVWYWx1ZTsKICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdJbWFnZUdhaW5SIGlzIHNldCB0bzonICsgZG91YmxlVmFsdWUsICdpbmZvJyk7CiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnSW1hZ2VHYWluUjonICsgZG91YmxlVmFsdWUpOwogICAgICB9IGVsc2UgaWYgKHNpZ25hbCA9PT0gJ0ltYWdlR2FpbkInKSB7CiAgICAgICAgLy8g5aSE55CGIEltYWdlR2FpbkIg5L+h5Y+3CiAgICAgICAgdGhpcy5JbWFnZUdhaW5CID0gZG91YmxlVmFsdWU7CiAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnSW1hZ2VHYWluQiBpcyBzZXQgdG86JyArIGRvdWJsZVZhbHVlLCAnaW5mbycpOwogICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ0ltYWdlR2FpbkI6JyArIGRvdWJsZVZhbHVlKTsKICAgICAgfQogICAgfSwKICAgIEltYWdlT2Zmc2V0U2V0OiBmdW5jdGlvbiBJbWFnZU9mZnNldFNldChwYXlsb2FkKSB7CiAgICAgIHZhciBfcGF5bG9hZCRzcGxpdDMgPSBwYXlsb2FkLnNwbGl0KCc6JyksCiAgICAgICAgICBfcGF5bG9hZCRzcGxpdDQgPSBfc2xpY2VkVG9BcnJheShfcGF5bG9hZCRzcGxpdDMsIDIpLAogICAgICAgICAgc2lnbmFsID0gX3BheWxvYWQkc3BsaXQ0WzBdLAogICAgICAgICAgdmFsdWUgPSBfcGF5bG9hZCRzcGxpdDRbMV07IC8vIOaLhuWIhuS/oeWPt+WSjOWAvAoKCiAgICAgIHZhciBkb3VibGVWYWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpOyAvLyDlsIblgLzovazmjaLkuLogZG91YmxlIOexu+WeiwoKICAgICAgdGhpcy5JbWFnZU9mZnNldCA9IGRvdWJsZVZhbHVlOwogICAgICBjb25zb2xlLmxvZygnSW1hZ2UgT2Zmc2V0IGlzIHNldCB0bzonLCBkb3VibGVWYWx1ZSk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0ltYWdlIE9mZnNldCBpcyBzZXQgdG86JyArIGRvdWJsZVZhbHVlLCAnaW5mbycpOwogICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdJbWFnZU9mZnNldDonICsgZG91YmxlVmFsdWUpOwogICAgfSwKICAgIEJpbm5pbmdTZXQ6IGZ1bmN0aW9uIEJpbm5pbmdTZXQocGF5bG9hZCkgewogICAgICB2YXIgX3BheWxvYWQkc3BsaXQ1ID0gcGF5bG9hZC5zcGxpdCgnOicpLAogICAgICAgICAgX3BheWxvYWQkc3BsaXQ2ID0gX3NsaWNlZFRvQXJyYXkoX3BheWxvYWQkc3BsaXQ1LCAyKSwKICAgICAgICAgIHNpZ25hbCA9IF9wYXlsb2FkJHNwbGl0NlswXSwKICAgICAgICAgIHZhbHVlID0gX3BheWxvYWQkc3BsaXQ2WzFdOyAvLyDmi4bliIbkv6Hlj7flkozlgLwKCgogICAgICB2YXIgSW50VmFsdWUgPSBwYXJzZUludCh2YWx1ZSk7IC8vIOWwhuWAvOi9rOaNouS4uiBJbnQg57G75Z6LCgogICAgICB0aGlzLmNhbWVyYUJpbiA9IEludFZhbHVlOwogICAgICBjb25zb2xlLmxvZygnSW1hZ2UgQmlubmluZyBpcyBzZXQgdG86JywgSW50VmFsdWUpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdJbWFnZSBCaW5uaW5nIGlzIHNldCB0bzonICsgSW50VmFsdWUsICdpbmZvJyk7CiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ1NldEJpbm5pbmc6JyArIEludFZhbHVlKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTZXRCaW5uaW5nTnVtJywgSW50VmFsdWUpOwogICAgfSwKICAgIEdhaW5TZXQ6IGZ1bmN0aW9uIEdhaW5TZXQocGF5bG9hZCkgewogICAgICB2YXIgX3BheWxvYWQkc3BsaXQ3ID0gcGF5bG9hZC5zcGxpdCgnOicpLAogICAgICAgICAgX3BheWxvYWQkc3BsaXQ4ID0gX3NsaWNlZFRvQXJyYXkoX3BheWxvYWQkc3BsaXQ3LCAyKSwKICAgICAgICAgIHNpZ25hbCA9IF9wYXlsb2FkJHNwbGl0OFswXSwKICAgICAgICAgIHZhbHVlID0gX3BheWxvYWQkc3BsaXQ4WzFdOyAvLyDmi4bliIbkv6Hlj7flkozlgLwKCgogICAgICB2YXIgSW50VmFsdWUgPSBwYXJzZUludCh2YWx1ZSk7IC8vIOWwhuWAvOi9rOaNouS4uiBJbnQg57G75Z6LCgogICAgICBjb25zb2xlLmxvZygnQ2FtZXJhIEdhaW4gaXMgc2V0IHRvOicsIEludFZhbHVlKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ2FtZXJhIEdhaW4gaXMgc2V0IHRvOicgKyBJbnRWYWx1ZSwgJ2luZm8nKTsKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnU2V0Q2FtZXJhR2FpbjonICsgSW50VmFsdWUpOwogICAgfSwKICAgIE9mZnNldFNldDogZnVuY3Rpb24gT2Zmc2V0U2V0KHBheWxvYWQpIHsKICAgICAgdmFyIF9wYXlsb2FkJHNwbGl0OSA9IHBheWxvYWQuc3BsaXQoJzonKSwKICAgICAgICAgIF9wYXlsb2FkJHNwbGl0MTAgPSBfc2xpY2VkVG9BcnJheShfcGF5bG9hZCRzcGxpdDksIDIpLAogICAgICAgICAgc2lnbmFsID0gX3BheWxvYWQkc3BsaXQxMFswXSwKICAgICAgICAgIHZhbHVlID0gX3BheWxvYWQkc3BsaXQxMFsxXTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CgoKICAgICAgdmFyIEludFZhbHVlID0gcGFyc2VJbnQodmFsdWUpOyAvLyDlsIblgLzovazmjaLkuLogSW50IOexu+WeiwoKICAgICAgY29uc29sZS5sb2coJ0NhbWVyYSBPZmZzZXQgaXMgc2V0IHRvOicsIEludFZhbHVlKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ2FtZXJhIE9mZnNldCBpcyBzZXQgdG86JyArIEludFZhbHVlLCAnaW5mbycpOwogICAgICB0aGlzLnNlbmRNZXNzYWdlKCdWdWVfQ29tbWFuZCcsICdTZXRDYW1lcmFPZmZzZXQ6JyArIEludFZhbHVlKTsKICAgIH0sCiAgICBJbWFnZUNGQVNldDogZnVuY3Rpb24gSW1hZ2VDRkFTZXQocGF5bG9hZCkgewogICAgICB2YXIgX3BheWxvYWQkc3BsaXQxMSA9IHBheWxvYWQuc3BsaXQoJzonKSwKICAgICAgICAgIF9wYXlsb2FkJHNwbGl0MTIgPSBfc2xpY2VkVG9BcnJheShfcGF5bG9hZCRzcGxpdDExLCAyKSwKICAgICAgICAgIHNpZ25hbCA9IF9wYXlsb2FkJHNwbGl0MTJbMF0sCiAgICAgICAgICB2YWx1ZSA9IF9wYXlsb2FkJHNwbGl0MTJbMV07IC8vIOaLhuWIhuS/oeWPt+WSjOWAvAogICAgICAvLyBpZiAoWydHUicsICdHQicsICdCRycsICdSR0dCJywnbnVsbCddLmluY2x1ZGVzKHZhbHVlKSkgewoKCiAgICAgIGlmIChbJ0dSJywgJ0dCJywgJ0JHJywgJ1JHJywgJ0dSQkcnLCAnR0JSRycsICdCR0dSJywgJ1JHR0InLCAnbnVsbCcsICcnXS5pbmNsdWRlcyh2YWx1ZSkpIHsKICAgICAgICBpZiAodmFsdWUgPT09ICcnKSB7CiAgICAgICAgICB2YWx1ZSA9IChfcmVhZE9ubHlFcnJvcigidmFsdWUiKSwgJ251bGwnKTsKICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnR1JCRycpIHsKICAgICAgICAgIHZhbHVlID0gKF9yZWFkT25seUVycm9yKCJ2YWx1ZSIpLCAnR1InKTsKICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnR0JSRycpIHsKICAgICAgICAgIHZhbHVlID0gKF9yZWFkT25seUVycm9yKCJ2YWx1ZSIpLCAnR0InKTsKICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnQkdHUicpIHsKICAgICAgICAgIHZhbHVlID0gKF9yZWFkT25seUVycm9yKCJ2YWx1ZSIpLCAnQkcnKTsKICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnUkcnKSB7CiAgICAgICAgICB2YWx1ZSA9IChfcmVhZE9ubHlFcnJvcigidmFsdWUiKSwgJ1JHR0InKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuSW1hZ2VDRkEgPSB2YWx1ZTsgLy8gY29uc29sZS5sb2coJ0ltYWdlQ0ZBIGlzIHNldCB0bzonLCB2YWx1ZSk7CgogICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0ltYWdlQ0ZBIGlzIHNldCB0bzonICsgdmFsdWUsICdpbmZvJyk7CiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnSW1hZ2VDRkE6JyArIHZhbHVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhgSW52YWxpZCB2YWx1ZSBmb3IgSW1hZ2VDRkE6ICcke3ZhbHVlfScuIFBsZWFzZSBzZXQgaXQgdG8gb25lIG9mICdHUicsICdHQicsICdCRycsICdSR0dCJy5gKTsKICAgICAgICB0aGlzLmNhbGxTaG93TWVzc2FnZUJveCgiSW52YWxpZCB2YWx1ZSBmb3IgSW1hZ2VDRkE6ICciLmNvbmNhdCh2YWx1ZSwgIicuIFBsZWFzZSBzZXQgaXQgdG8gb25lIG9mICdHUicsICdHQicsICdCRycsICdSR0dCJy4iKSwgJ2Vycm9yJyk7CiAgICAgIH0KICAgIH0sCiAgICBDYW1lcmFUZW1wZXJhdHVyZVNldDogZnVuY3Rpb24gQ2FtZXJhVGVtcGVyYXR1cmVTZXQocGF5bG9hZCkgewogICAgICB2YXIgX3BheWxvYWQkc3BsaXQxMyA9IHBheWxvYWQuc3BsaXQoJzonKSwKICAgICAgICAgIF9wYXlsb2FkJHNwbGl0MTQgPSBfc2xpY2VkVG9BcnJheShfcGF5bG9hZCRzcGxpdDEzLCAyKSwKICAgICAgICAgIHNpZ25hbCA9IF9wYXlsb2FkJHNwbGl0MTRbMF0sCiAgICAgICAgICB2YWx1ZSA9IF9wYXlsb2FkJHNwbGl0MTRbMV07IC8vIOaLhuWIhuS/oeWPt+WSjOWAvAoKCiAgICAgIHZhciBJbnRWYWx1ZSA9IHBhcnNlSW50KHZhbHVlKTsgLy8g5bCG5YC86L2s5o2i5Li6IEludCDnsbvlnosKCiAgICAgIGNvbnNvbGUubG9nKCdDYW1lcmEgVGVtcGVyYXR1cmUgaXMgc2V0IHRvOicsIEludFZhbHVlKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ2FtZXJhIFRlbXBlcmF0dXJlIGlzIHNldCB0bzonICsgSW50VmFsdWUsICdpbmZvJyk7CiAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoJ1Z1ZV9Db21tYW5kJywgJ1NldENhbWVyYVRlbXBlcmF0dXJlOicgKyBJbnRWYWx1ZSk7CiAgICB9LAogICAgRm9jYWxMZW5ndGhTZXQ6IGZ1bmN0aW9uIEZvY2FsTGVuZ3RoU2V0KHBheWxvYWQpIHsKICAgICAgdmFyIF9wYXlsb2FkJHNwbGl0MTUgPSBwYXlsb2FkLnNwbGl0KCc6JyksCiAgICAgICAgICBfcGF5bG9hZCRzcGxpdDE2ID0gX3NsaWNlZFRvQXJyYXkoX3BheWxvYWQkc3BsaXQxNSwgMiksCiAgICAgICAgICBzaWduYWwgPSBfcGF5bG9hZCRzcGxpdDE2WzBdLAogICAgICAgICAgdmFsdWUgPSBfcGF5bG9hZCRzcGxpdDE2WzFdOyAvLyDmi4bliIbkv6Hlj7flkozlgLwKCgogICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuZGV2aWNlcyksCiAgICAgICAgICBfc3RlcDM7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgZGV2aWNlID0gX3N0ZXAzLnZhbHVlOwoKICAgICAgICAgIGlmIChkZXZpY2UuZHJpdmVyVHlwZSA9PT0gJ1RlbGVzY29wZXMnKSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09IE5hTikgewogICAgICAgICAgICAgIGRldmljZS5kZXZpY2UgPSAnJzsKICAgICAgICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdGb2NhbCBMZW5ndGggaXMgc2V0IHRvOicgKyAwLCAnaW5mbycpOwogICAgICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU2V0Rm9jYWxMZW5ndGhOdW0nLCAnJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdmFyIEludFZhbHVlID0gcGFyc2VJbnQodmFsdWUpOyAvLyDlsIblgLzovazmjaLkuLogSW50IOexu+WeiwoKICAgICAgICAgICAgICBkZXZpY2UuZGV2aWNlID0gdmFsdWUgKyAnIG1tJzsKICAgICAgICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdGb2NhbCBMZW5ndGggaXMgc2V0IHRvOicgKyBJbnRWYWx1ZSwgJ2luZm8nKTsKICAgICAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ1NldEZvY2FsTGVuZ3RoTnVtJywgSW50VmFsdWUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IyLmYoKTsKICAgICAgfQogICAgfSwKICAgIEd1aWRlckZvY2FsTGVuZ3RoU2V0OiBmdW5jdGlvbiBHdWlkZXJGb2NhbExlbmd0aFNldChwYXlsb2FkKSB7CiAgICAgIHZhciBfcGF5bG9hZCRzcGxpdDE3ID0gcGF5bG9hZC5zcGxpdCgnOicpLAogICAgICAgICAgX3BheWxvYWQkc3BsaXQxOCA9IF9zbGljZWRUb0FycmF5KF9wYXlsb2FkJHNwbGl0MTcsIDIpLAogICAgICAgICAgc2lnbmFsID0gX3BheWxvYWQkc3BsaXQxOFswXSwKICAgICAgICAgIHZhbHVlID0gX3BheWxvYWQkc3BsaXQxOFsxXTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CgoKICAgICAgdmFyIEludFZhbHVlID0gcGFyc2VJbnQodmFsdWUpOyAvLyDlsIblgLzovazmjaLkuLogSW50IOexu+WeiwoKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnR3VpZGVyIEZvY2FsIExlbmd0aCBpcyBzZXQgdG86JyArIEludFZhbHVlLCAnaW5mbycpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0d1aWRlckZvY2FsTGVuZ3RoOicgKyBJbnRWYWx1ZSk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnc2F2ZVRvQ29uZmlnRmlsZTpHdWlkZXJGb2NhbExlbmd0aDonICsgSW50VmFsdWUpOwogICAgfSwKICAgIE11bHRpU3Rhckd1aWRlclNldDogZnVuY3Rpb24gTXVsdGlTdGFyR3VpZGVyU2V0KHBheWxvYWQpIHsKICAgICAgdmFyIF9wYXlsb2FkJHNwbGl0MTkgPSBwYXlsb2FkLnNwbGl0KCc6JyksCiAgICAgICAgICBfcGF5bG9hZCRzcGxpdDIwID0gX3NsaWNlZFRvQXJyYXkoX3BheWxvYWQkc3BsaXQxOSwgMiksCiAgICAgICAgICBzaWduYWwgPSBfcGF5bG9hZCRzcGxpdDIwWzBdLAogICAgICAgICAgdmFsdWUgPSBfcGF5bG9hZCRzcGxpdDIwWzFdOyAvLyDmi4bliIbkv6Hlj7flkozlgLwKCgogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdNdWx0aSBTdGFyIEd1aWRlciBpcyBzZXQgdG86JyArIHZhbHVlLCAnaW5mbycpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ011bHRpU3Rhckd1aWRlcjonICsgdmFsdWUpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ3NhdmVUb0NvbmZpZ0ZpbGU6TXVsdGlTdGFyR3VpZGVyOicgKyB2YWx1ZSk7CiAgICB9LAogICAgR3VpZGVyUGl4ZWxTaXplU2V0OiBmdW5jdGlvbiBHdWlkZXJQaXhlbFNpemVTZXQocGF5bG9hZCkgewogICAgICB2YXIgX3BheWxvYWQkc3BsaXQyMSA9IHBheWxvYWQuc3BsaXQoJzonKSwKICAgICAgICAgIF9wYXlsb2FkJHNwbGl0MjIgPSBfc2xpY2VkVG9BcnJheShfcGF5bG9hZCRzcGxpdDIxLCAyKSwKICAgICAgICAgIHNpZ25hbCA9IF9wYXlsb2FkJHNwbGl0MjJbMF0sCiAgICAgICAgICB2YWx1ZSA9IF9wYXlsb2FkJHNwbGl0MjJbMV07IC8vIOaLhuWIhuS/oeWPt+WSjOWAvAoKCiAgICAgIHZhciBkb3VibGVWYWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdHdWlkZXIgUGl4ZWwgc2l6ZSBpcyBzZXQgdG86JyArIGRvdWJsZVZhbHVlLCAnaW5mbycpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0d1aWRlclBpeGVsU2l6ZTonICsgZG91YmxlVmFsdWUpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ3NhdmVUb0NvbmZpZ0ZpbGU6R3VpZGVyUGl4ZWxTaXplOicgKyBkb3VibGVWYWx1ZSk7CiAgICB9LAogICAgR3VpZGVyR2FpblNldDogZnVuY3Rpb24gR3VpZGVyR2FpblNldChwYXlsb2FkKSB7CiAgICAgIHZhciBfcGF5bG9hZCRzcGxpdDIzID0gcGF5bG9hZC5zcGxpdCgnOicpLAogICAgICAgICAgX3BheWxvYWQkc3BsaXQyNCA9IF9zbGljZWRUb0FycmF5KF9wYXlsb2FkJHNwbGl0MjMsIDIpLAogICAgICAgICAgc2lnbmFsID0gX3BheWxvYWQkc3BsaXQyNFswXSwKICAgICAgICAgIHZhbHVlID0gX3BheWxvYWQkc3BsaXQyNFsxXTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CgoKICAgICAgdmFyIEludFZhbHVlID0gcGFyc2VJbnQodmFsdWUpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdHdWlkZXIgR2FpbiBpcyBzZXQgdG86JyArIEludFZhbHVlLCAnaW5mbycpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0d1aWRlckdhaW46JyArIEludFZhbHVlKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdzYXZlVG9Db25maWdGaWxlOkd1aWRlckdhaW46JyArIEludFZhbHVlKTsKICAgIH0sCiAgICBDYWxpYnJhdGlvbkR1cmF0aW9uU2V0OiBmdW5jdGlvbiBDYWxpYnJhdGlvbkR1cmF0aW9uU2V0KHBheWxvYWQpIHsKICAgICAgdmFyIF9wYXlsb2FkJHNwbGl0MjUgPSBwYXlsb2FkLnNwbGl0KCc6JyksCiAgICAgICAgICBfcGF5bG9hZCRzcGxpdDI2ID0gX3NsaWNlZFRvQXJyYXkoX3BheWxvYWQkc3BsaXQyNSwgMiksCiAgICAgICAgICBzaWduYWwgPSBfcGF5bG9hZCRzcGxpdDI2WzBdLAogICAgICAgICAgdmFsdWUgPSBfcGF5bG9hZCRzcGxpdDI2WzFdOyAvLyDmi4bliIbkv6Hlj7flkozlgLwKCgogICAgICB2YXIgSW50VmFsdWUgPSBwYXJzZUludCh2YWx1ZSk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0d1aWRlciBDYWxpYnJhdGlvbiBzdGVwIGlzIHNldCB0bzonICsgSW50VmFsdWUsICdpbmZvJyk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnQ2FsaWJyYXRpb25EdXJhdGlvbjonICsgSW50VmFsdWUpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ3NhdmVUb0NvbmZpZ0ZpbGU6Q2FsaWJyYXRpb25EdXJhdGlvbjonICsgSW50VmFsdWUpOwogICAgfSwKICAgIFJhQWdncmVzc2lvblNldDogZnVuY3Rpb24gUmFBZ2dyZXNzaW9uU2V0KHBheWxvYWQpIHsKICAgICAgdmFyIF9wYXlsb2FkJHNwbGl0MjcgPSBwYXlsb2FkLnNwbGl0KCc6JyksCiAgICAgICAgICBfcGF5bG9hZCRzcGxpdDI4ID0gX3NsaWNlZFRvQXJyYXkoX3BheWxvYWQkc3BsaXQyNywgMiksCiAgICAgICAgICBzaWduYWwgPSBfcGF5bG9hZCRzcGxpdDI4WzBdLAogICAgICAgICAgdmFsdWUgPSBfcGF5bG9hZCRzcGxpdDI4WzFdOyAvLyDmi4bliIbkv6Hlj7flkozlgLwKCgogICAgICB2YXIgSW50VmFsdWUgPSBwYXJzZUludCh2YWx1ZSk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1JhIEFnZ3Jlc3Npb24gaXMgc2V0IHRvOicgKyBJbnRWYWx1ZSwgJ2luZm8nKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdSYUFnZ3Jlc3Npb246JyArIEludFZhbHVlKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdzYXZlVG9Db25maWdGaWxlOlJhQWdncmVzc2lvbjonICsgSW50VmFsdWUpOwogICAgfSwKICAgIERlY0FnZ3Jlc3Npb25TZXQ6IGZ1bmN0aW9uIERlY0FnZ3Jlc3Npb25TZXQocGF5bG9hZCkgewogICAgICB2YXIgX3BheWxvYWQkc3BsaXQyOSA9IHBheWxvYWQuc3BsaXQoJzonKSwKICAgICAgICAgIF9wYXlsb2FkJHNwbGl0MzAgPSBfc2xpY2VkVG9BcnJheShfcGF5bG9hZCRzcGxpdDI5LCAyKSwKICAgICAgICAgIHNpZ25hbCA9IF9wYXlsb2FkJHNwbGl0MzBbMF0sCiAgICAgICAgICB2YWx1ZSA9IF9wYXlsb2FkJHNwbGl0MzBbMV07IC8vIOaLhuWIhuS/oeWPt+WSjOWAvAoKCiAgICAgIHZhciBJbnRWYWx1ZSA9IHBhcnNlSW50KHZhbHVlKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnRGVjIEFnZ3Jlc3Npb24gaXMgc2V0IHRvOicgKyBJbnRWYWx1ZSwgJ2luZm8nKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdEZWNBZ2dyZXNzaW9uOicgKyBJbnRWYWx1ZSk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnc2F2ZVRvQ29uZmlnRmlsZTpEZWNBZ2dyZXNzaW9uOicgKyBJbnRWYWx1ZSk7CiAgICB9LAogICAgU3luY0ZvY3VzZXJTdGVwOiBmdW5jdGlvbiBTeW5jRm9jdXNlclN0ZXAocGF5bG9hZCkgewogICAgICB2YXIgX3BheWxvYWQkc3BsaXQzMSA9IHBheWxvYWQuc3BsaXQoJzonKSwKICAgICAgICAgIF9wYXlsb2FkJHNwbGl0MzIgPSBfc2xpY2VkVG9BcnJheShfcGF5bG9hZCRzcGxpdDMxLCAyKSwKICAgICAgICAgIHNpZ25hbCA9IF9wYXlsb2FkJHNwbGl0MzJbMF0sCiAgICAgICAgICB2YWx1ZSA9IF9wYXlsb2FkJHNwbGl0MzJbMV07IC8vIOaLhuWIhuS/oeWPt+WSjOWAvAoKCiAgICAgIHZhciBJbnRWYWx1ZSA9IHBhcnNlSW50KHZhbHVlKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnU3luYyBGb2N1c2VyIFN0ZXA6JyArIEludFZhbHVlLCAnaW5mbycpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ1N5bmNGb2N1c2VyU3RlcDonICsgSW50VmFsdWUpOwogICAgfSwKICAgIE1pbkxpbWl0U2V0OiBmdW5jdGlvbiBNaW5MaW1pdFNldChwYXlsb2FkKSB7CiAgICAgIHZhciBfcGF5bG9hZCRzcGxpdDMzID0gcGF5bG9hZC5zcGxpdCgnOicpLAogICAgICAgICAgX3BheWxvYWQkc3BsaXQzNCA9IF9zbGljZWRUb0FycmF5KF9wYXlsb2FkJHNwbGl0MzMsIDIpLAogICAgICAgICAgc2lnbmFsID0gX3BheWxvYWQkc3BsaXQzNFswXSwKICAgICAgICAgIHZhbHVlID0gX3BheWxvYWQkc3BsaXQzNFsxXTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CgoKICAgICAgdmFyIEludFZhbHVlID0gcGFyc2VJbnQodmFsdWUpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdNaW4gTGltaXQ6JyArIEludFZhbHVlLCAnaW5mbycpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ01pbkxpbWl0OicgKyBJbnRWYWx1ZSk7CiAgICB9LAogICAgTWF4TGltaXRTZXQ6IGZ1bmN0aW9uIE1heExpbWl0U2V0KHBheWxvYWQpIHsKICAgICAgdmFyIF9wYXlsb2FkJHNwbGl0MzUgPSBwYXlsb2FkLnNwbGl0KCc6JyksCiAgICAgICAgICBfcGF5bG9hZCRzcGxpdDM2ID0gX3NsaWNlZFRvQXJyYXkoX3BheWxvYWQkc3BsaXQzNSwgMiksCiAgICAgICAgICBzaWduYWwgPSBfcGF5bG9hZCRzcGxpdDM2WzBdLAogICAgICAgICAgdmFsdWUgPSBfcGF5bG9hZCRzcGxpdDM2WzFdOyAvLyDmi4bliIbkv6Hlj7flkozlgLwKCgogICAgICB2YXIgSW50VmFsdWUgPSBwYXJzZUludCh2YWx1ZSk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ01heCBMaW1pdDonICsgSW50VmFsdWUsICdpbmZvJyk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnTWF4TGltaXQ6JyArIEludFZhbHVlKTsKICAgIH0sCiAgICBCYWNrbGFzaFNldDogZnVuY3Rpb24gQmFja2xhc2hTZXQocGF5bG9hZCkgewogICAgICB2YXIgX3BheWxvYWQkc3BsaXQzNyA9IHBheWxvYWQuc3BsaXQoJzonKSwKICAgICAgICAgIF9wYXlsb2FkJHNwbGl0MzggPSBfc2xpY2VkVG9BcnJheShfcGF5bG9hZCRzcGxpdDM3LCAyKSwKICAgICAgICAgIHNpZ25hbCA9IF9wYXlsb2FkJHNwbGl0MzhbMF0sCiAgICAgICAgICB2YWx1ZSA9IF9wYXlsb2FkJHNwbGl0MzhbMV07IC8vIOaLhuWIhuS/oeWPt+WSjOWAvAoKCiAgICAgIHZhciBJbnRWYWx1ZSA9IHBhcnNlSW50KHZhbHVlKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQmFja2xhc2g6JyArIEludFZhbHVlLCAnaW5mbycpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0JhY2tsYXNoOicgKyBJbnRWYWx1ZSk7CiAgICB9LAogICAgR290b1RoZW5Tb2x2ZTogZnVuY3Rpb24gR290b1RoZW5Tb2x2ZShwYXlsb2FkKSB7CiAgICAgIHZhciBfcGF5bG9hZCRzcGxpdDM5ID0gcGF5bG9hZC5zcGxpdCgnOicpLAogICAgICAgICAgX3BheWxvYWQkc3BsaXQ0MCA9IF9zbGljZWRUb0FycmF5KF9wYXlsb2FkJHNwbGl0MzksIDIpLAogICAgICAgICAgc2lnbmFsID0gX3BheWxvYWQkc3BsaXQ0MFswXSwKICAgICAgICAgIHZhbHVlID0gX3BheWxvYWQkc3BsaXQ0MFsxXTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CgoKICAgICAgdmFyIEJvb2xlYW5WYWx1ZSA9IEJvb2xlYW4odmFsdWUpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdHb3RvIFRoZW4gU29sdmU6JyArIEJvb2xlYW5WYWx1ZSwgJ2luZm8nKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdHb3RvVGhlblNvbHZlOicgKyBCb29sZWFuVmFsdWUpOwogICAgfSwKICAgIEF1dG9GbGlwU2V0OiBmdW5jdGlvbiBBdXRvRmxpcFNldChwYXlsb2FkKSB7CiAgICAgIHZhciBfcGF5bG9hZCRzcGxpdDQxID0gcGF5bG9hZC5zcGxpdCgnOicpLAogICAgICAgICAgX3BheWxvYWQkc3BsaXQ0MiA9IF9zbGljZWRUb0FycmF5KF9wYXlsb2FkJHNwbGl0NDEsIDIpLAogICAgICAgICAgc2lnbmFsID0gX3BheWxvYWQkc3BsaXQ0MlswXSwKICAgICAgICAgIHZhbHVlID0gX3BheWxvYWQkc3BsaXQ0MlsxXTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CgoKICAgICAgdmFyIEJvb2xlYW5WYWx1ZSA9IEJvb2xlYW4odmFsdWUpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdBdXRvIEZsaXA6JyArIEJvb2xlYW5WYWx1ZSwgJ2luZm8nKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTZXRGbGlwTW9kZScsIEJvb2xlYW5WYWx1ZSA/ICdhdXRvJyA6ICdtYW51YWwnKTsgLy8g5ZCM5q2l5a2Q57uE5Lu25qih5byPCgogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0F1dG9GbGlwOicgKyBCb29sZWFuVmFsdWUpOyAvLyDlkIzmraXliLDlkI7nq68KICAgIH0sCiAgICBzZW5kTW91bnRBdXRvRmxpcDogZnVuY3Rpb24gc2VuZE1vdW50QXV0b0ZsaXAoKSB7CiAgICAgIHZhciBpc0F1dG9GbGlwID0gdGhpcy5Nb3VudENvbmZpZ0l0ZW1zLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5sYWJlbCA9PT0gJ0F1dG9GbGlwJzsKICAgICAgfSkudmFsdWU7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnU2V0RmxpcE1vZGUnLCBpc0F1dG9GbGlwID8gJ2F1dG8nIDogJ21hbnVhbCcpOwogICAgfSwKICAgIFdlc3RNaW51dGVzUGFzdE1lcmlkaWFuU2V0OiBmdW5jdGlvbiBXZXN0TWludXRlc1Bhc3RNZXJpZGlhblNldChwYXlsb2FkKSB7CiAgICAgIHZhciBfcGF5bG9hZCRzcGxpdDQzID0gcGF5bG9hZC5zcGxpdCgnOicpLAogICAgICAgICAgX3BheWxvYWQkc3BsaXQ0NCA9IF9zbGljZWRUb0FycmF5KF9wYXlsb2FkJHNwbGl0NDMsIDIpLAogICAgICAgICAgc2lnbmFsID0gX3BheWxvYWQkc3BsaXQ0NFswXSwKICAgICAgICAgIHZhbHVlID0gX3BheWxvYWQkc3BsaXQ0NFsxXTsgLy8g5ouG5YiG5L+h5Y+35ZKM5YC8CgoKICAgICAgdmFyIFdlc3RNaW51dGVzUGFzdE1lcmlkaWFuID0gcGFyc2VGbG9hdCh2YWx1ZSk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ01pbnV0ZXMgUGFzdCBNZXJpZGlhbjonICsgV2VzdE1pbnV0ZXNQYXN0TWVyaWRpYW4sICdpbmZvJyk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnV2VzdE1pbnV0ZXNQYXN0TWVyaWRpYW46JyArIFdlc3RNaW51dGVzUGFzdE1lcmlkaWFuKTsKICAgIH0sCiAgICBFYXN0TWludXRlc1Bhc3RNZXJpZGlhblNldDogZnVuY3Rpb24gRWFzdE1pbnV0ZXNQYXN0TWVyaWRpYW5TZXQocGF5bG9hZCkgewogICAgICB2YXIgX3BheWxvYWQkc3BsaXQ0NSA9IHBheWxvYWQuc3BsaXQoJzonKSwKICAgICAgICAgIF9wYXlsb2FkJHNwbGl0NDYgPSBfc2xpY2VkVG9BcnJheShfcGF5bG9hZCRzcGxpdDQ1LCAyKSwKICAgICAgICAgIHNpZ25hbCA9IF9wYXlsb2FkJHNwbGl0NDZbMF0sCiAgICAgICAgICB2YWx1ZSA9IF9wYXlsb2FkJHNwbGl0NDZbMV07IC8vIOaLhuWIhuS/oeWPt+WSjOWAvAoKCiAgICAgIHZhciBFYXN0TWludXRlc1Bhc3RNZXJpZGlhbiA9IHBhcnNlRmxvYXQodmFsdWUpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdNaW51dGVzIFBhc3QgTWVyaWRpYW46JyArIEVhc3RNaW51dGVzUGFzdE1lcmlkaWFuLCAnaW5mbycpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0Vhc3RNaW51dGVzUGFzdE1lcmlkaWFuOicgKyBFYXN0TWludXRlc1Bhc3RNZXJpZGlhbik7CiAgICB9LAogICAgcmVhZEJpbkZpbGU6IGZ1bmN0aW9uIHJlYWRCaW5GaWxlKGZpbGVOYW1lKSB7CiAgICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzLAogICAgICAgICAgX3RoaXMxMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXRyeUNvdW50LCBzdGFydFRpbWUsIHJlc3BvbnNlLCBjb250ZW50TGVuZ3RoLCB0b3RhbCwgbG9hZGVkLCByZWFkZXIsIHN0cmVhbSwgbmV3UmVzcG9uc2UsIGJsb2IsIGZpbGVSZWFkZXI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmV0cnlDb3VudCA9IF9hcmd1bWVudHMubGVuZ3RoID4gMSAmJiBfYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzWzFdIDogMTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczEzLmlzRG93bmxvYWRpbmdJbWFnZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczEzLmlzV2FpdGluZ0xvZ2dlZCkgewogICAgICAgICAgICAgICAgICBfdGhpczEzLlNlbmRDb25zb2xlTG9nTXNnKCdUaGUgaW1hZ2UgaXMgYWxyZWFkeSBiZWluZyBwcm9jZXNzZWQuIFBsZWFzZSB3YWl0IGZvciB0aGUgcHJldmlvdXMgcHJvY2VzcyB0byBjb21wbGV0ZS4nLCAnd2FybmluZycpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxMy5pc1dhaXRpbmdMb2dnZWQgPSB0cnVlOyAvLyDnoa7kv53lj6rorrDlvZXkuIDmrKHnrYnlvoXkv6Hmga8KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczEzLmlzRG93bmxvYWRpbmdJbWFnZU5hbWUgPT09IGZpbGVOYW1lKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMTMuU2VuZENvbnNvbGVMb2dNc2coJ1RoZSBpbWFnZSgnICsgZmlsZU5hbWUgKyAnKSBpcyBhbHJlYWR5IHByb2Nlc3NlZC4nLCAnaW5mbycpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX3RoaXMxMy5pc0Rvd25sb2FkaW5nSW1hZ2UgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMxMy5pc1dhaXRpbmdMb2dnZWQgPSBmYWxzZTsgLy8g6YeN572u562J5b6F5pel5b+X5qCH5b+XCgogICAgICAgICAgICAgICAgX3RoaXMxMy5TZW5kQ29uc29sZUxvZ01zZygnQ2FwdHVyZVRlc3RUaW1lIHwgUmVhZCBpbWFnZSgnICsgZmlsZU5hbWUgKyAnKSBkYXRhIHN0YXJ0LicsICdpbmZvJyk7CgogICAgICAgICAgICAgICAgc3RhcnRUaW1lID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNDsKCiAgICAgICAgICAgICAgICBpZiAoISghZmlsZU5hbWUgfHwgdHlwZW9mIGZpbGVOYW1lICE9PSAnc3RyaW5nJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZmlsZSBuYW1lIHByb3ZpZGVkJyk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goZmlsZU5hbWUsIHsKICAgICAgICAgICAgICAgICAgY2FjaGU6ICduby1zdG9yZScKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiTmV0d29yayByZXNwb25zZSB3YXMgbm90IG9rLiBTdGF0dXM6ICIuY29uY2F0KHJlc3BvbnNlLnN0YXR1cykpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgY29udGVudExlbmd0aCA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LWxlbmd0aCcpOwoKICAgICAgICAgICAgICAgIGlmIChjb250ZW50TGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb250ZW50LUxlbmd0aCBoZWFkZXIgaXMgbWlzc2luZycpOwoKICAgICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICAgICAgdG90YWwgPSBwYXJzZUludChjb250ZW50TGVuZ3RoLCAxMCk7CgogICAgICAgICAgICAgICAgaWYgKCEoaXNOYU4odG90YWwpIHx8IHRvdGFsIDw9IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvbnRlbnQtbGVuZ3RoIHZhbHVlJyk7CgogICAgICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgICAgICBsb2FkZWQgPSAwOwogICAgICAgICAgICAgICAgcmVhZGVyID0gcmVzcG9uc2UuYm9keS5nZXRSZWFkZXIoKTsKICAgICAgICAgICAgICAgIHN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7CiAgICAgICAgICAgICAgICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydChjb250cm9sbGVyKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHB1c2ggPSBmdW5jdGlvbiBwdXNoKCkgewogICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWQoKS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb25lID0gX3JlZi5kb25lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmLnZhbHVlOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBsb2FkZWQgKz0gdmFsdWUuYnl0ZUxlbmd0aDsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBlcmNlbnQgPSBsb2FkZWQgLyB0b3RhbCAqIDEwMDsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLnJvdW5kKHBlcmNlbnQpICUgMTAgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKGBQcm9ncmVzczogJHtNYXRoLnJvdW5kKHBlcmNlbnQpfSVgLCAnaW5mbycpOwogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMudXBkYXRlQ2FwdHVyZUltYWdlUHJvZ3Jlc3MoTWF0aC5yb3VuZChwZXJjZW50KSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gLy8gdGhpcy5TZW5kQ29uc29sZUxvZ01zZyhg5b2T5YmN6L+b5bqmOiAke01hdGgucm91bmQocGVyY2VudCl9JWAsICdpbmZvJyk7CgoKICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgcHVzaCgpOwogICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1N0cmVhbSByZWFkaW5nIGVycm9yOicsIGVycm9yKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMuU2VuZENvbnNvbGVMb2dNc2coJ1N0cmVhbSByZWFkaW5nIGVycm9yOiAnICsgZXJyb3IubWVzc2FnZSwgJ2Vycm9yJyk7CgogICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVycm9yKGVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgIHB1c2goKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBuZXdSZXNwb25zZSA9IG5ldyBSZXNwb25zZShzdHJlYW0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM0OwogICAgICAgICAgICAgICAgcmV0dXJuIG5ld1Jlc3BvbnNlLmJsb2IoKTsKCiAgICAgICAgICAgICAgY2FzZSAzNDoKICAgICAgICAgICAgICAgIGJsb2IgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgLy8gRmlsZVJlYWRlciB3aXRoIHByb2dyZXNzIHRyYWNraW5nCiAgICAgICAgICAgICAgICBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKCiAgICAgICAgICAgICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMy5JbWFnZUFycmF5QnVmZmVyID0gZmlsZVJlYWRlci5yZXN1bHQ7CiAgICAgICAgICAgICAgICAgIHZhciBlbmRUaW1lID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICAgICAgdmFyIGVsYXBzZWRUaW1lID0gZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxMy5TZW5kQ29uc29sZUxvZ01zZygnQ2FwdHVyZVRlc3RUaW1lIHwgUmVhZCBpbWFnZSBkYXRhIGVuZDogJyArIGVsYXBzZWRUaW1lICsgJyBtcycsICdpbmZvJyk7CgogICAgICAgICAgICAgICAgICBpZiAoIV90aGlzMTMuaXNQb2xhckF4aXNNb2RlKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5jYWxsU2hvd01lc3NhZ2VCb3goIlJlYWQgaW1hZ2UgZGF0YSBlbmQ6ICciLmNvbmNhdChlbGFwc2VkVGltZSwgIicgbXMuIiksICdpbmZvJyk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzMTMuaXNEb3dubG9hZGluZ0ltYWdlTmFtZSA9IGZpbGVOYW1lOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxMy5wcm9jZXNzSW1hZ2UoX3RoaXMxMy5JbWFnZUFycmF5QnVmZmVyKTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgZmlsZVJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZpbGVSZWFkZXIgZXJyb3I6JywgZXJyb3IpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxMy5TZW5kQ29uc29sZUxvZ01zZygnRmlsZVJlYWRlciBlcnJvcjogJyArIGVycm9yLm1lc3NhZ2UsICdlcnJvcicpOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBmaWxlUmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNDE6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNDE7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDE0KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RoZXJlIHdhcyBhIHByb2JsZW0gd2l0aCB0aGUgZmV0Y2ggb3BlcmF0aW9uOicsIF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgICAgICBfdGhpczEzLlNlbmRDb25zb2xlTG9nTXNnKCdUaGVyZSB3YXMgYSBwcm9ibGVtIHdpdGggdGhlIGZldGNoIG9wZXJhdGlvbjogJyArIF9jb250ZXh0LnQwLm1lc3NhZ2UsICdlcnJvcicpOyAvLyDkuIvovb3lpLHotKXvvIzph43or5UKCgogICAgICAgICAgICAgICAgaWYgKCEocmV0cnlDb3VudCA+IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1NDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1JldHJ5aW5nIGRvd25sb2FkLi4uJyk7CgogICAgICAgICAgICAgICAgX3RoaXMxMy5TZW5kQ29uc29sZUxvZ01zZygnUmV0cnlpbmcgZG93bmxvYWQuLi4nLCAnd2FybmluZycpOwoKICAgICAgICAgICAgICAgIF90aGlzMTMuaXNEb3dubG9hZGluZ0ltYWdlID0gZmFsc2U7CgogICAgICAgICAgICAgICAgX3RoaXMxMy51cGRhdGVDYXB0dXJlSW1hZ2VQcm9ncmVzcygxMDApOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1MjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczEzLnJlYWRCaW5GaWxlKGZpbGVOYW1lLCByZXRyeUNvdW50IC0gMSk7CgogICAgICAgICAgICAgIGNhc2UgNTI6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA1NDoKICAgICAgICAgICAgICAgIF90aGlzMTMuU2VuZENvbnNvbGVMb2dNc2coJ01heCByZXRyaWVzIHJlYWNoZWQuIERvd25sb2FkIGZhaWxlZC4nLCAnZXJyb3InKTsKCiAgICAgICAgICAgICAgY2FzZSA1NToKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA1NTsKICAgICAgICAgICAgICAgIF90aGlzMTMuaXNEb3dubG9hZGluZ0ltYWdlID0gZmFsc2U7IC8vIOehruS/neWcqOS7u+S9leaDheWGteS4i+mDvemHjee9rueKtuaAgQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5maW5pc2goNTUpOwoKICAgICAgICAgICAgICBjYXNlIDU4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxNCwgNDEsIDU1LCA1OF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8gYXN5bmMgcmVhZEJpbkZpbGUoZmlsZU5hbWUsIHJldHJ5Q291bnQgPSAxKSB7CiAgICAvLyAgIHdoaWxlICh0aGlzLmlzRG93bmxvYWRpbmdJbWFnZSkgewogICAgLy8gICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKSk7CiAgICAvLyAgICAgaWYgKCF0aGlzLmlzV2FpdGluZ0xvZ2dlZCkgewogICAgLy8gICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnVGhlIGltYWdlIGlzIGFscmVhZHkgYmVpbmcgcHJvY2Vzc2VkLiBQbGVhc2Ugd2FpdCBmb3IgdGhlIHByZXZpb3VzIHByb2Nlc3MgdG8gY29tcGxldGUuJywgJ3dhcm5pbmcnKTsKICAgIC8vICAgICAgIHRoaXMuaXNXYWl0aW5nTG9nZ2VkID0gdHJ1ZTsgLy8g56Gu5L+d5Y+q6K6w5b2V5LiA5qyh562J5b6F5L+h5oGvCiAgICAvLyAgICAgfQogICAgLy8gICB9CiAgICAvLyAgIGlmICh0aGlzLmlzRG93bmxvYWRpbmdJbWFnZU5hbWUgPT09IGZpbGVOYW1lKSB7CiAgICAvLyAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnVGhlIGltYWdlKCcgKyBmaWxlTmFtZSArICcpIGlzIGFscmVhZHkgcHJvY2Vzc2VkLicsICdpbmZvJyk7CiAgICAvLyAgICAgcmV0dXJuOwogICAgLy8gICB9CiAgICAvLyAgIHRoaXMuaXNEb3dubG9hZGluZ0ltYWdlID0gdHJ1ZTsKICAgIC8vICAgdGhpcy5pc1dhaXRpbmdMb2dnZWQgPSBmYWxzZTsgLy8g6YeN572u562J5b6F5pel5b+X5qCH5b+XCiAgICAvLyAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0NhcHR1cmVUZXN0VGltZSB8IFJlYWQgaW1hZ2UoJyArIGZpbGVOYW1lICsgJykgZGF0YSBzdGFydC4nLCAnaW5mbycpOwogICAgLy8gICBjb25zdCBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpOwogICAgLy8gICB0cnkgewogICAgLy8gICAgIC8vIEZldGNoIHdpdGggcHJvZ3Jlc3MgdHJhY2tpbmcKICAgIC8vICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGZpbGVOYW1lKTsKICAgIC8vICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7CiAgICAvLyAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05ldHdvcmsgcmVzcG9uc2Ugd2FzIG5vdCBvaycpOwogICAgLy8gICAgIH0KICAgIC8vICAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtbGVuZ3RoJyk7CiAgICAvLyAgICAgaWYgKCFjb250ZW50TGVuZ3RoKSB7CiAgICAvLyAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRlbnQtTGVuZ3RoIGhlYWRlciBpcyBtaXNzaW5nJyk7CiAgICAvLyAgICAgfQogICAgLy8gICAgIGNvbnN0IHRvdGFsID0gcGFyc2VJbnQoY29udGVudExlbmd0aCwgMTApOwogICAgLy8gICAgIGxldCBsb2FkZWQgPSAwOwogICAgLy8gICAgIGNvbnN0IHJlYWRlciA9IHJlc3BvbnNlLmJvZHkuZ2V0UmVhZGVyKCk7CiAgICAvLyAgICAgY29uc3Qgc3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHsKICAgIC8vICAgICAgIHN0YXJ0OiAoY29udHJvbGxlcikgPT4gewogICAgLy8gICAgICAgICBjb25zdCBwdXNoID0gKCkgPT4gewogICAgLy8gICAgICAgICAgIHJlYWRlci5yZWFkKCkudGhlbigoeyBkb25lLCB2YWx1ZSB9KSA9PiB7CiAgICAvLyAgICAgICAgICAgICBpZiAoZG9uZSkgewogICAgLy8gICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7CiAgICAvLyAgICAgICAgICAgICAgIHJldHVybjsKICAgIC8vICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgIGxvYWRlZCArPSB2YWx1ZS5ieXRlTGVuZ3RoOwogICAgLy8gICAgICAgICAgICAgY29uc3QgcGVyY2VudCA9IChsb2FkZWQgLyB0b3RhbCkgKiAxMDA7CiAgICAvLyAgICAgICAgICAgICBpZiAoTWF0aC5yb3VuZChwZXJjZW50KSAlIDEwID09PSAwKSB7CiAgICAvLyAgICAgICAgICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coYFByb2dyZXNzOiAke01hdGgucm91bmQocGVyY2VudCl9JWAsJ2luZm8nKTsKICAgIC8vICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDYXB0dXJlSW1hZ2VQcm9ncmVzcyhNYXRoLnJvdW5kKHBlcmNlbnQpKTsKICAgIC8vICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh2YWx1ZSk7CiAgICAvLyAgICAgICAgICAgICBwdXNoKCk7CiAgICAvLyAgICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgLy8gICAgICAgICAgICAgY29uc29sZS5lcnJvcignU3RyZWFtIHJlYWRpbmcgZXJyb3I6JywgZXJyb3IpOwogICAgLy8gICAgICAgICAgICAgY29udHJvbGxlci5lcnJvcihlcnJvcik7CiAgICAvLyAgICAgICAgICAgfSk7CiAgICAvLyAgICAgICAgIH07CiAgICAvLyAgICAgICAgIHB1c2goKTsKICAgIC8vICAgICAgIH0KICAgIC8vICAgICB9KTsKICAgIC8vICAgICBjb25zdCBuZXdSZXNwb25zZSA9IG5ldyBSZXNwb25zZShzdHJlYW0pOwogICAgLy8gICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBuZXdSZXNwb25zZS5ibG9iKCk7CiAgICAvLyAgICAgLy8gRmlsZVJlYWRlciB3aXRoIHByb2dyZXNzIHRyYWNraW5nCiAgICAvLyAgICAgY29uc3QgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAvLyAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSAoKSA9PiB7CiAgICAvLyAgICAgICB0aGlzLkltYWdlQXJyYXlCdWZmZXIgPSBmaWxlUmVhZGVyLnJlc3VsdDsKICAgIC8vICAgICAgIGNvbnN0IGVuZFRpbWUgPSBuZXcgRGF0ZSgpOwogICAgLy8gICAgICAgY29uc3QgZWxhcHNlZFRpbWUgPSBlbmRUaW1lLmdldFRpbWUoKSAtIHN0YXJ0VGltZS5nZXRUaW1lKCk7CiAgICAvLyAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdDYXB0dXJlVGVzdFRpbWUgfCBSZWFkIGltYWdlIGRhdGEgZW5kOiAnICsgZWxhcHNlZFRpbWUgKyAnIG1zJywgJ2luZm8nKTsKICAgIC8vICAgICAgIGlmICghdGhpcy5pc1BvbGFyQXhpc01vZGUpIHsKICAgIC8vICAgICAgICAgdGhpcy5jYWxsU2hvd01lc3NhZ2VCb3goYFJlYWQgaW1hZ2UgZGF0YSBlbmQ6ICcke2VsYXBzZWRUaW1lfScgbXMuYCwgJ2luZm8nKTsKICAgIC8vICAgICAgIH0KICAgIC8vICAgICAgIHRoaXMuaXNEb3dubG9hZGluZ0ltYWdlTmFtZSA9IGZpbGVOYW1lOwogICAgLy8gICAgICAgdGhpcy5wcm9jZXNzSW1hZ2UodGhpcy5JbWFnZUFycmF5QnVmZmVyKTsKICAgIC8vICAgICB9OwogICAgLy8gICAgIGZpbGVSZWFkZXIub25lcnJvciA9IChlcnJvcikgPT4gewogICAgLy8gICAgICAgY29uc29sZS5lcnJvcignRmlsZVJlYWRlciBlcnJvcjonLCBlcnJvcik7CiAgICAvLyAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdGaWxlUmVhZGVyIGVycm9yOicgKyBlcnJvciwgJ2Vycm9yJyk7CiAgICAvLyAgICAgfTsKICAgIC8vICAgICBmaWxlUmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpOwogICAgLy8gICB9IGNhdGNoIChlcnJvcikgewogICAgLy8gICAgIGNvbnNvbGUuZXJyb3IoJ1RoZXJlIHdhcyBhIHByb2JsZW0gd2l0aCB0aGUgZmV0Y2ggb3BlcmF0aW9uOicsIGVycm9yKTsKICAgIC8vICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdUaGVyZSB3YXMgYSBwcm9ibGVtIHdpdGggdGhlIGZldGNoIG9wZXJhdGlvbjonICsgZXJyb3IsICdlcnJvcicpOwogICAgLy8gICAgIC8vIOS4i+i9veWksei0pe+8jOmHjeivlQogICAgLy8gICAgIGlmIChyZXRyeUNvdW50ID4gMCkgewogICAgLy8gICAgICAgY29uc29sZS5sb2coJ1JldHJ5aW5nIGRvd25sb2FkLi4uJyk7CiAgICAvLyAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdSZXRyeWluZyBkb3dubG9hZC4uLicsICd3YXJuaW5nJyk7CiAgICAvLyAgICAgICB0aGlzLmlzRG93bmxvYWRpbmdJbWFnZSA9IGZhbHNlOwogICAgLy8gICAgICAgdGhpcy51cGRhdGVDYXB0dXJlSW1hZ2VQcm9ncmVzcygxMDApOwogICAgLy8gICAgICAgYXdhaXQgdGhpcy5yZWFkQmluRmlsZShmaWxlTmFtZSwgcmV0cnlDb3VudCAtIDEpOwogICAgLy8gICAgIH0KICAgIC8vICAgfSBmaW5hbGx5IHsKICAgIC8vICAgICB0aGlzLmlzRG93bmxvYWRpbmdJbWFnZSA9IGZhbHNlOyAvLyDnoa7kv53lnKjku7vkvZXmg4XlhrXkuIvpg73ph43nva7nirbmgIEKICAgIC8vICAgfQogICAgLy8gfSwKICAgIHVwZGF0ZUNhcHR1cmVJbWFnZVByb2dyZXNzOiBmdW5jdGlvbiB1cGRhdGVDYXB0dXJlSW1hZ2VQcm9ncmVzcyhudW0pIHsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTaG93Q2FwdHVyZUltYWdlUHJvZ3Jlc3MnLCBudW0pOwogICAgfSwKICAgIHNldEltYWdlUHJvcG9ydGlvbjogZnVuY3Rpb24gc2V0SW1hZ2VQcm9wb3J0aW9uKHZhbHVlKSB7CiAgICAgIHRoaXMuSW1hZ2VQcm9wb3J0aW9uID0gdmFsdWU7CiAgICB9LAogICAgcHJvY2Vzc0ltYWdlOiBmdW5jdGlvbiBwcm9jZXNzSW1hZ2UoaW1nQXJyYXkpIHsKICAgICAgdmFyIF9hcmd1bWVudHMyID0gYXJndW1lbnRzLAogICAgICAgICAgX3RoaXMxNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgaGlzdG9ncmFtTWluLCBoaXN0b2dyYW1NYXgsIG9wdGlvbnMsIF9vcHRpb25zJGNhbGN1bGF0ZUhpcywgY2FsY3VsYXRlSGlzdG9ncmFtLCBtYXQsIHRhcmdldEltZzgsIHJlc2l6ZUltZywgcHJvY2Vzc0FzeW5jLCB1aW50QXJyYXksIENGQSwgaXNDb2xvckNhbWVyYSwgbW9kZSwgYmxhY2tMZXZlbCwgd2hpdGVMZXZlbCwgcmVzdWx0LCBhbmFseXNpcywgY29sb3JEYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaGlzdG9ncmFtTWluID0gX2FyZ3VtZW50czIubGVuZ3RoID4gMSAmJiBfYXJndW1lbnRzMlsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50czJbMV0gOiAtMTsKICAgICAgICAgICAgICAgIGhpc3RvZ3JhbU1heCA9IF9hcmd1bWVudHMyLmxlbmd0aCA+IDIgJiYgX2FyZ3VtZW50czJbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmd1bWVudHMyWzJdIDogLTE7CiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3VtZW50czIubGVuZ3RoID4gMyAmJiBfYXJndW1lbnRzMlszXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3VtZW50czJbM10gOiB7fTsKICAgICAgICAgICAgICAgIF9vcHRpb25zJGNhbGN1bGF0ZUhpcyA9IG9wdGlvbnMuY2FsY3VsYXRlSGlzdG9ncmFtLCBjYWxjdWxhdGVIaXN0b2dyYW0gPSBfb3B0aW9ucyRjYWxjdWxhdGVIaXMgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRjYWxjdWxhdGVIaXM7CiAgICAgICAgICAgICAgICBfdGhpczE0LnByb2dyZXNzVmFsdWUgPSAwOwogICAgICAgICAgICAgICAgX3RoaXMxNC5wcm9ncmVzc0Rlc2NyaXB0aW9uID0gX3RoaXMxNC4kaTE4bi5sb2NhbGUgPT09ICdjbicgPyAn5byA5aeL5aSE55CG5Zu+5YOPLi4uJyA6ICdQcm9jZXNzaW5nIGltYWdlLi4uJzsKICAgICAgICAgICAgICAgIG1hdCA9IG51bGw7CiAgICAgICAgICAgICAgICB0YXJnZXRJbWc4ID0gbnVsbDsKICAgICAgICAgICAgICAgIHJlc2l6ZUltZyA9IG51bGw7IC8vIOS9v+eUqHNldFRpbWVvdXTlkoxQcm9taXNl5Yib5bu66Z2e6Zi75aGe5aSE55CGCgogICAgICAgICAgICAgICAgcHJvY2Vzc0FzeW5jID0gZnVuY3Rpb24gcHJvY2Vzc0FzeW5jKGZuKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZuKCk7CiAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7CiAgICAgICAgICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDEwOwoKICAgICAgICAgICAgICAgIGlmICghKCEoaW1nQXJyYXkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgJiYgIUFycmF5QnVmZmVyLmlzVmlldyhpbWdBcnJheSkpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiSW5wdXQgbXVzdCBiZSBBcnJheUJ1ZmZlciBvciBUeXBlZEFycmF5Iik7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICB1aW50QXJyYXkgPSBuZXcgVWludDE2QXJyYXkoaW1nQXJyYXkpOwoKICAgICAgICAgICAgICAgIGlmICghKHVpbnRBcnJheS5sZW5ndGggIT0gcGFyc2VJbnQoX3RoaXMxNC5tYWluQ2FtZXJhU2l6ZVkpICogcGFyc2VJbnQoX3RoaXMxNC5tYWluQ2FtZXJhU2l6ZVgpKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIkltYWdlIHNpemUgbWlzbWF0Y2giKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICByZXR1cm4gcHJvY2Vzc0FzeW5jKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgbWF0ID0gbmV3IGN2Lk1hdChwYXJzZUludChfdGhpczE0Lm1haW5DYW1lcmFTaXplWSksIHBhcnNlSW50KF90aGlzMTQubWFpbkNhbWVyYVNpemVYKSwgY3YuQ1ZfMTZVQzEpOwogICAgICAgICAgICAgICAgICBtYXQuZGF0YTE2VS5zZXQodWludEFycmF5KTsKICAgICAgICAgICAgICAgICAgX3RoaXMxNC5wcm9ncmVzc1ZhbHVlID0gMTA7CiAgICAgICAgICAgICAgICAgIF90aGlzMTQucHJvZ3Jlc3NEZXNjcmlwdGlvbiA9IF90aGlzMTQuJGkxOG4ubG9jYWxlID09PSAnY24nID8gJ+WIm+W7uk1hdOWvueixoS4uLicgOiAnQ3JlYXRpbmcgTWF0IG9iamVjdC4uLic7CiAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICAvLyDnlKjmiLfoh6rlrprkuYnlj4LmlbAKICAgICAgICAgICAgICAgIENGQSA9IF90aGlzMTQuSW1hZ2VDRkE7CiAgICAgICAgICAgICAgICBpc0NvbG9yQ2FtZXJhID0gZmFsc2U7CiAgICAgICAgICAgICAgICBtb2RlID0gMTsKCiAgICAgICAgICAgICAgICBpZiAoIShoaXN0b2dyYW1NaW4gPT0gLTEgJiYgaGlzdG9ncmFtTWF4ID09IC0xKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDMwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI0OwogICAgICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3NBc3luYyhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciByZXMgPSBfdGhpczE0LkdldEF1dG9TdHJldGNoKG1hdCwgbW9kZSk7CgogICAgICAgICAgICAgICAgICBfdGhpczE0LnByb2dyZXNzVmFsdWUgPSAyMDsKICAgICAgICAgICAgICAgICAgX3RoaXMxNC5wcm9ncmVzc0Rlc2NyaXB0aW9uID0gX3RoaXMxNC4kaTE4bi5sb2NhbGUgPT09ICdjbicgPyAn6I635Y+W6Ieq5Yqo5ouJ5Ly45Y+C5pWwLi4uJyA6ICdHZXR0aW5nIGF1dG8gc3RyZXRjaCBwYXJhbWV0ZXJzLi4uJzsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlczsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBjYWxjdWxhdGVIaXN0b2dyYW0gPSB0cnVlOyAvLyDku47nu5PmnpzkuK3mj5Dlj5blgLwKCiAgICAgICAgICAgICAgICBibGFja0xldmVsID0gcmVzdWx0LmJsYWNrTGV2ZWw7CiAgICAgICAgICAgICAgICB3aGl0ZUxldmVsID0gcmVzdWx0LndoaXRlTGV2ZWw7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDMyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMzA6CiAgICAgICAgICAgICAgICBibGFja0xldmVsID0gaGlzdG9ncmFtTWluOyAvLyDnjrDlnKjlj6/ku6XmraPluLjlt6XkvZwKCiAgICAgICAgICAgICAgICB3aGl0ZUxldmVsID0gaGlzdG9ncmFtTWF4OyAvLyDnjrDlnKjlj6/ku6XmraPluLjlt6XkvZwKCiAgICAgICAgICAgICAgY2FzZSAzMjoKICAgICAgICAgICAgICAgIC8vIOagueaNrkNGQeiuvue9ruminOiJsui9rOaNouaooeW8jwogICAgICAgICAgICAgICAgaWYgKENGQSA9PT0gJ0dSJykgewogICAgICAgICAgICAgICAgICBpc0NvbG9yQ2FtZXJhID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoQ0ZBID09PSAnR0InKSB7CiAgICAgICAgICAgICAgICAgIGlzQ29sb3JDYW1lcmEgPSB0cnVlOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChDRkEgPT09ICdCRycpIHsKICAgICAgICAgICAgICAgICAgaXNDb2xvckNhbWVyYSA9IHRydWU7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKENGQSA9PT0gJ1JHR0InKSB7CiAgICAgICAgICAgICAgICAgIGlzQ29sb3JDYW1lcmEgPSB0cnVlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgaXNDb2xvckNhbWVyYSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLlvZPliY3mi43mkYTlj4LmlbA6aXNDb2xvckNhbWVyYToiLCBpc0NvbG9yQ2FtZXJhLCAiQ0ZBOiIsIENGQSk7IC8vIOiuoeeul+ebtOaWueWbvgoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzY7CiAgICAgICAgICAgICAgICByZXR1cm4gcHJvY2Vzc0FzeW5jKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGlzQ29sb3JDYW1lcmEgPyBfdGhpczE0LmFuYWx5emVJbWFnZVN0YXRpc3RpY3MobWF0LCAnYmF5ZXInLCBDRkEsIHsKICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVHYWluOiBfdGhpczE0LmNhbGN1bGF0ZUdhaW4sCiAgICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlSGlzdG9ncmFtOiBjYWxjdWxhdGVIaXN0b2dyYW0KICAgICAgICAgICAgICAgICAgfSkgOiBfdGhpczE0LmFuYWx5emVJbWFnZVN0YXRpc3RpY3MobWF0LCAnZ3JheScsIHsKICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVHYWluOiBfdGhpczE0LmNhbGN1bGF0ZUdhaW4sCiAgICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlSGlzdG9ncmFtOiBjYWxjdWxhdGVIaXN0b2dyYW0KICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxNC5JbWFnZUdhaW5SICE9IDEgfHwgX3RoaXMxNC5JbWFnZUdhaW5CICE9IDEgfHwgX3RoaXMxNC5JbWFnZU9mZnNldCAhPSAwKSB7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmdhaW5SID0gX3RoaXMxNC5JbWFnZUdhaW5SOwogICAgICAgICAgICAgICAgICAgIHJlc3VsdC5nYWluQiA9IF90aGlzMTQuSW1hZ2VHYWluQjsKICAgICAgICAgICAgICAgICAgICByZXN1bHQub2Zmc2V0ID0gX3RoaXMxNC5JbWFnZU9mZnNldDsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3RoaXMxNC5wcm9ncmVzc1ZhbHVlID0gNDA7CiAgICAgICAgICAgICAgICAgIF90aGlzMTQucHJvZ3Jlc3NEZXNjcmlwdGlvbiA9IF90aGlzMTQuJGkxOG4ubG9jYWxlID09PSAnY24nID8gJ+iuoeeul+ebtOaWueWbvi4uLicgOiAnQ2FsY3VsYXRpbmcgaGlzdG9ncmFtLi4uJzsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM2OgogICAgICAgICAgICAgICAgYW5hbHlzaXMgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoYW5hbHlzaXMuaGlzdG9ncmFtKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTQuJGJ1cy4kZW1pdCgnc2hvd0hpc3RvZ3JhbScsIGFuYWx5c2lzLmhpc3RvZ3JhbSk7IC8vIOabtOaWsCDnm7Tmlrnlm77mlbDmja4KCgogICAgICAgICAgICAgICAgICBfdGhpczE0LiRidXMuJGVtaXQoJ0NoYW5nZURpYWxQb3NpdGlvbicsIGJsYWNrTGV2ZWwsIHdoaXRlTGV2ZWwpOyAvLyDmm7TmlrDnm7Tmlrnlm77nmoTmmL7npLrovbQKCgogICAgICAgICAgICAgICAgICBfdGhpczE0LiRidXMuJGVtaXQoJ0F1dG9IaXN0b2dyYW1OdW0nLCBibGFja0xldmVsLCB3aGl0ZUxldmVsKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczE0Lmxhc3RJbWFnZVByb2Nlc3NQYXJhbXMgPSB7CiAgICAgICAgICAgICAgICAgIGJsYWNrTGV2ZWw6IGJsYWNrTGV2ZWwsCiAgICAgICAgICAgICAgICAgIHdoaXRlTGV2ZWw6IHdoaXRlTGV2ZWwsCiAgICAgICAgICAgICAgICAgIENGQTogQ0ZBLAogICAgICAgICAgICAgICAgICBhbmFseXNpczogYW5hbHlzaXMsCiAgICAgICAgICAgICAgICAgIGlzQ29sb3JDYW1lcmE6IGlzQ29sb3JDYW1lcmEKICAgICAgICAgICAgICAgIH07IC8vIOS9v+eUqOWinuebiuWSjOaLieS8uO+8jOW5tui9rOWMluS4ujjkvY3lm77lg48KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQxOwogICAgICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3NBc3luYyhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBpc0NvbG9yQ2FtZXJhID8gX3RoaXMxNC5hcHBseVN0cmV0Y2hBbmRHYWluKG1hdCwgYW5hbHlzaXMsICdiYXllcicsIENGQSwgYmxhY2tMZXZlbCwgd2hpdGVMZXZlbCkgOiBfdGhpczE0LmFwcGx5U3RyZXRjaEFuZEdhaW4obWF0LCBhbmFseXNpcywgJ2dyYXknLCBDRkEsIGJsYWNrTGV2ZWwsIHdoaXRlTGV2ZWwpOyAvLyDph4rmlL5tYXQKCiAgICAgICAgICAgICAgICAgIGlmIChtYXQpIHsKICAgICAgICAgICAgICAgICAgICBtYXQuZGVsZXRlKCk7CiAgICAgICAgICAgICAgICAgICAgbWF0ID0gbnVsbDsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3RoaXMxNC5wcm9ncmVzc1ZhbHVlID0gNjA7CiAgICAgICAgICAgICAgICAgIF90aGlzMTQucHJvZ3Jlc3NEZXNjcmlwdGlvbiA9IF90aGlzMTQuJGkxOG4ubG9jYWxlID09PSAnY24nID8gJ+agueaNruWPguaVsOWkhOeQhi4uLicgOiAnUHJvY2Vzc2luZyB3aXRoIHBhcmFtZXRlcnMuLi4nOwogICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDE6CiAgICAgICAgICAgICAgICB0YXJnZXRJbWc4ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczE0LmlzUG9sYXJBeGlzTW9kZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ1OwogICAgICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3NBc3luYyhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHJlc2l6ZUltZyA9IG5ldyBjdi5NYXQoKTsKICAgICAgICAgICAgICAgICAgY3YucmVzaXplKHRhcmdldEltZzgsIHJlc2l6ZUltZywgbmV3IGN2LlNpemUoX3RoaXMxNC5DYW52YXNXaWR0aCwgX3RoaXMxNC5DYW52YXNIZWlnaHQpLCAwLCAwLCBjdi5JTlRFUl9MSU5FQVIpOwoKICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldEltZzgpIHsKICAgICAgICAgICAgICAgICAgICB0YXJnZXRJbWc4LmRlbGV0ZSgpOwogICAgICAgICAgICAgICAgICAgIHRhcmdldEltZzggPSBudWxsOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpczE0LnByb2dyZXNzVmFsdWUgPSAwOwogICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ1OgogICAgICAgICAgICAgICAgX3RoaXMxNC4kYnVzLiRlbWl0KCdzaG93U29sdmVJbWFnZScsIHJlc2l6ZUltZyk7CgogICAgICAgICAgICAgICAgaWYgKHJlc2l6ZUltZykgewogICAgICAgICAgICAgICAgICByZXNpemVJbWcuZGVsZXRlKCk7CiAgICAgICAgICAgICAgICAgIHJlc2l6ZUltZyA9IG51bGw7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1ODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDQ5OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1MTsKICAgICAgICAgICAgICAgIHJldHVybiBwcm9jZXNzQXN5bmMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IG5ldyBJbWFnZURhdGEobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRhcmdldEltZzguZGF0YSksIHRhcmdldEltZzguY29scywgdGFyZ2V0SW1nOC5yb3dzKTsKCiAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRJbWc4KSB7CiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0SW1nOC5kZWxldGUoKTsKICAgICAgICAgICAgICAgICAgICB0YXJnZXRJbWc4ID0gbnVsbDsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKHJlc2l6ZUltZykgewogICAgICAgICAgICAgICAgICAgIHJlc2l6ZUltZy5kZWxldGUoKTsKICAgICAgICAgICAgICAgICAgICByZXNpemVJbWcgPSBudWxsOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpczE0LnByb2dyZXNzVmFsdWUgPSA4MDsKICAgICAgICAgICAgICAgICAgX3RoaXMxNC5wcm9ncmVzc0Rlc2NyaXB0aW9uID0gX3RoaXMxNC4kaTE4bi5sb2NhbGUgPT09ICdjbicgPyAn6L2s5o2i5Li6SW1hZ2VEYXRh5a+56LGhLi4uJyA6ICdDb252ZXJ0aW5nIHRvIEltYWdlRGF0YSBvYmplY3QuLi4nOwogICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDUxOgogICAgICAgICAgICAgICAgY29sb3JEYXRhID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczE0LmRyYXdJbWdEYXRhID0gdHJ1ZTsgLy8g6K6+572u57yT5Yay55S75biDCgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1NTsKICAgICAgICAgICAgICAgIHJldHVybiBwcm9jZXNzQXN5bmMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczE0LmJ1ZmZlckNhbnZhcy53aWR0aCA9IGNvbG9yRGF0YS53aWR0aDsKICAgICAgICAgICAgICAgICAgX3RoaXMxNC5idWZmZXJDYW52YXMuaGVpZ2h0ID0gY29sb3JEYXRhLmhlaWdodDsKCiAgICAgICAgICAgICAgICAgIF90aGlzMTQuYnVmZmVyQ3R4LnB1dEltYWdlRGF0YShjb2xvckRhdGEsIDAsIDApOwoKICAgICAgICAgICAgICAgICAgX3RoaXMxNC5wcm9ncmVzc1ZhbHVlID0gOTA7CiAgICAgICAgICAgICAgICAgIF90aGlzMTQucHJvZ3Jlc3NEZXNjcmlwdGlvbiA9IF90aGlzMTQuJGkxOG4ubG9jYWxlID09PSAnY24nID8gJ+e7mOWItue8k+WGsueUu+W4g+WbvuWDjy4uLicgOiAnRHJhd2luZyBidWZmZXIgY2FudmFzIGltYWdlLi4uJzsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1NToKICAgICAgICAgICAgICAgIC8vIOe7mOWItuS4u+eUu+W4g+WbvuWDjwogICAgICAgICAgICAgICAgX3RoaXMxNC5wcm9ncmVzc1ZhbHVlID0gMTAwOwogICAgICAgICAgICAgICAgX3RoaXMxNC5wcm9ncmVzc0Rlc2NyaXB0aW9uID0gX3RoaXMxNC4kaTE4bi5sb2NhbGUgPT09ICdjbicgPyAn57uY5Yi25Li755S75biD5Zu+5YOPLi4uJyA6ICdEcmF3aW5nIG1haW4gY2FudmFzIGltYWdlLi4uJzsKCiAgICAgICAgICAgICAgICBfdGhpczE0LmRyYXdJbWFnZURhdGEoKTsKCiAgICAgICAgICAgICAgY2FzZSA1ODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2MDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNjA7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMTApOwoKICAgICAgICAgICAgICAgIF90aGlzMTQuaGFuZGxlRXJyb3IoJ1Byb2Nlc3MgaW1hZ2UgZGF0YSBlcnJvcicsICdwcm9jZXNzSW1hZ2UnLCBfY29udGV4dDIudDApOwoKICAgICAgICAgICAgICAgIF90aGlzMTQucHJvZ3Jlc3NWYWx1ZSA9IDA7CiAgICAgICAgICAgICAgICBfdGhpczE0LnByb2dyZXNzRGVzY3JpcHRpb24gPSAnJzsKCiAgICAgICAgICAgICAgY2FzZSA2NToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNjU7CiAgICAgICAgICAgICAgICBfdGhpczE0LnByb2dyZXNzVmFsdWUgPSAwOyAvLyDnoa7kv53miYDmnIlNYXTlr7nosaHpg73ooqvph4rmlL4KCiAgICAgICAgICAgICAgICBpZiAobWF0KSB7CiAgICAgICAgICAgICAgICAgIG1hdC5kZWxldGUoKTsKICAgICAgICAgICAgICAgICAgbWF0ID0gbnVsbDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0SW1nOCkgewogICAgICAgICAgICAgICAgICB0YXJnZXRJbWc4LmRlbGV0ZSgpOwogICAgICAgICAgICAgICAgICB0YXJnZXRJbWc4ID0gbnVsbDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAocmVzaXplSW1nKSB7CiAgICAgICAgICAgICAgICAgIHJlc2l6ZUltZy5kZWxldGUoKTsKICAgICAgICAgICAgICAgICAgcmVzaXplSW1nID0gbnVsbDsKICAgICAgICAgICAgICAgIH0gLy8g5aSE55CG5ZCO5qOA5p+l5YaF5a2YCgoKICAgICAgICAgICAgICAgIF90aGlzMTQuY2hlY2tNZW1vcnlVc2FnZSgpOyAvLyDlnKjlpITnkIblrozlpKfph4/mlbDmja7lkI7miYvliqjor7fmsYLlnoPlnL7lm57mlLYKCgogICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5nYykgewogICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5nYygpOwogICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuZmluaXNoKDY1KTsKCiAgICAgICAgICAgICAgY2FzZSA3MzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1sxMCwgNjAsIDY1LCA3M11dKTsKICAgICAgfSkpKCk7CiAgICB9LAoKICAgIC8qKgogICAgICog6I635Y+W6Ieq5Yqo5ouJ5Ly45Y+C5pWw77yM6L+U5Zue6buR6Imy5ZKM55m96Imy6ZiI5YC8CiAgICAgKiBAcGFyYW0ge2N2Lk1hdH0gaW1nTWF0IOi+k+WFpeeahOWbvuWDj01hdOWvueixoQogICAgICogQHBhcmFtIHtpbnR9IG1vZGUg5qih5byPCiAgICAgKiBAcmV0dXJucyB7aW5077yMaW50fSDpu5HoibLlkoznmb3oibLpmIjlgLwKICAgICAqLwogICAgR2V0QXV0b1N0cmV0Y2g6IGZ1bmN0aW9uIEdldEF1dG9TdHJldGNoKGltZ01hdCwgbW9kZSkgewogICAgICAvLyDku4XmlK/mjIEgTWF0IOexu+Wei+i+k+WFpe+8jOW5tuWBh+WumuS4ujE25L2N5Zu+5YOPCiAgICAgIC8vIOS9v+eUqCBPcGVuQ1Yg55qEIG1lYW5TdGREZXYg5Ye95pWw55u05o6l6K6h566X5Z2H5YC85ZKM5qCH5YeG5beuCiAgICAgIHZhciBtZWFucyA9IG5ldyBjdi5NYXQoKTsKICAgICAgdmFyIHN0ZERldnMgPSBuZXcgY3YuTWF0KCk7IC8vIOmrmOaViOiuoeeul+Wdh+WAvOWSjOagh+WHhuW3rgoKICAgICAgY3YubWVhblN0ZERldihpbWdNYXQsIG1lYW5zLCBzdGREZXZzKTsgLy8g6I635Y+W6K6h566X57uT5p6cCgogICAgICB2YXIgbWVhbiA9IG1lYW5zLmRvdWJsZUF0KDAsIDApOwogICAgICB2YXIgc3RkRGV2ID0gc3RkRGV2cy5kb3VibGVBdCgwLCAwKTsgLy8g6YeK5pS+5Li05pe2IE1hdCDlr7nosaEKCiAgICAgIG1lYW5zLmRlbGV0ZSgpOwogICAgICBzdGREZXZzLmRlbGV0ZSgpOyAvLyDmoLnmja7mqKHlvI/orr7nva7moIflh4blt67lgI3mlbAKCiAgICAgIHZhciBhLCBiOwoKICAgICAgc3dpdGNoIChtb2RlKSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgYSA9IDM7CiAgICAgICAgICBiID0gNTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDE6CiAgICAgICAgICBhID0gMjsKICAgICAgICAgIGIgPSA1OwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIGEgPSAzOwogICAgICAgICAgYiA9IDg7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGEgPSAyOwogICAgICAgICAgYiA9IDg7CiAgICAgIH0gLy8g5Zu65a6a5Li6MTbkvY3lm77lg4/lpITnkIYKCgogICAgICB2YXIgbWF4VmFsdWUgPSA2NTUzNTsgLy8g6K6h566X6buR55m954K5CgogICAgICB2YXIgYmxhY2tMZXZlbCA9IE1hdGgucm91bmQoTWF0aC5tYXgoMCwgbWVhbiAtIHN0ZERldiAqIGEpKTsKICAgICAgdmFyIHdoaXRlTGV2ZWwgPSBNYXRoLnJvdW5kKE1hdGgubWluKG1heFZhbHVlLCBtZWFuICsgc3RkRGV2ICogYikpOyAvLyDnoa7kv50gYmxhY2tMZXZlbCA8IHdoaXRlTGV2ZWwKCiAgICAgIGlmIChibGFja0xldmVsID49IHdoaXRlTGV2ZWwpIHsKICAgICAgICBibGFja0xldmVsID0gd2hpdGVMZXZlbCAtIDE7CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgYmxhY2tMZXZlbDogYmxhY2tMZXZlbCwKICAgICAgICB3aGl0ZUxldmVsOiB3aGl0ZUxldmVsCiAgICAgIH07CiAgICB9LAoKICAgIC8qKgogICAgICog5YiG5p6QMTbkvY3lm77lg4/lubborqHnrpfnm7Tmlrnlm77lkoznmb3lubPooaHlop7nm4oKICAgICAqIEBwYXJhbSB7Y3YuTWF0fSBpbWcxNiAtIOi+k+WFpeeahDE25L2N5Zu+5YOPTWF05a+56LGhCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VUeXBlIC0g5Zu+5YOP57G75Z6LOiAnZ3JheSco54Gw5bqm5Zu+KSDmiJYgJ2JheWVyJyhCYXllcuagvOW8jykKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBiYXllclBhdHRlcm4gLSBCYXllcuaooeW8j++8jOWmguaenGltYWdlVHlwZeS4uidiYXllcifliJnpnIDmj5Dkvps6ICdSR0dCJywgJ0dSJywgJ0dCJywgJ0JHJwogICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSDlj6/pgInlj4LmlbAKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLmJpbnMgLSDnm7Tmlrnlm77nrrHmlbDvvIzpu5jorqQyNTYKICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5jYWxjdWxhdGVHYWluIC0g5piv5ZCm6K6h566X55m95bmz6KGh5aKe55uK5Y+C5pWw77yM6buY6K6kdHJ1ZQogICAgICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLnVzZVBlcmNlbnRpbGUgLSDmmK/lkKbkvb/nlKjnmb7liIbkvY3orqHnrpflop7nm4rvvIzpu5jorqR0cnVlCiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5sb3dQZXJjZW50aWxlIC0g5LiL5oiq5pat55m+5YiG5L2N77yM6buY6K6kMQogICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMuaGlnaFBlcmNlbnRpbGUgLSDkuIrmiKrmlq3nmb7liIbkvY3vvIzpu5jorqQ5OQogICAgICogQHJldHVybnMge09iamVjdH0g55u05pa55Zu+5pWw5o2u5ZKM5aKe55uK5Y+C5pWwCiAgICAgKi8KICAgIGFuYWx5emVJbWFnZVN0YXRpc3RpY3M6IGZ1bmN0aW9uIGFuYWx5emVJbWFnZVN0YXRpc3RpY3MoaW1nMTYsIGltYWdlVHlwZSkgewogICAgICB2YXIgYmF5ZXJQYXR0ZXJuID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnUkdHQic7CiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTsKCiAgICAgIC8vIOmmluWFiOajgOafpei+k+WFpU1hdOaYr+WQpuacieaViAogICAgICBpZiAoIWltZzE2IHx8IGltZzE2LnJvd3MgPD0gMCB8fCBpbWcxNi5jb2xzIDw9IDApIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfml6DmlYjnmoTlm77lg4/mlbDmja4nKTsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KCiAgICAgIHZhciBfb3B0aW9ucyRjYWxjdWxhdGVHYWkgPSBvcHRpb25zLmNhbGN1bGF0ZUdhaW4sCiAgICAgICAgICBjYWxjdWxhdGVHYWluID0gX29wdGlvbnMkY2FsY3VsYXRlR2FpID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkY2FsY3VsYXRlR2FpLAogICAgICAgICAgX29wdGlvbnMkY2FsY3VsYXRlSGlzMiA9IG9wdGlvbnMuY2FsY3VsYXRlSGlzdG9ncmFtLAogICAgICAgICAgY2FsY3VsYXRlSGlzdG9ncmFtID0gX29wdGlvbnMkY2FsY3VsYXRlSGlzMiA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJGNhbGN1bGF0ZUhpczI7CiAgICAgIHZhciByZXN1bHQgPSB7fTsgLy8g6K6+572u55u05pa55Zu+5Y+C5pWwCgogICAgICB2YXIgc3RlcCA9IDQ7IC8vIOWuieWFqOiuv+mXruWHveaVsAoKICAgICAgdmFyIHNhZmVVc2hvcnRBdCA9IGZ1bmN0aW9uIHNhZmVVc2hvcnRBdChtYXQsIHksIHgpIHsKICAgICAgICBpZiAoeSA+PSAwICYmIHkgPCBtYXQucm93cyAmJiB4ID49IDAgJiYgeCA8IG1hdC5jb2xzKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gbWF0LnVzaG9ydEF0KHksIHgpOwogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCJcdThCQkZcdTk1RUVcdTRGNERcdTdGNkVcdTk1MTlcdThCRUY6ICgiLmNvbmNhdCh5LCAiLCIpLmNvbmNhdCh4LCAiKSIpKTsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gMDsKICAgICAgfTsgLy8g5a6J5YWo5o6p56CB6K6+572u77yIc2V0dGVy77yJ77yaT3BlbkNWLmpzIOiuvue9ruWDj+e0oOmcgOS9v+eUqCB1Y2hhclB0ciDov5Tlm57nmoTop4blm77lho3otYvlgLwKCgogICAgICB2YXIgc2FmZVNldE1hc2sgPSBmdW5jdGlvbiBzYWZlU2V0TWFzayhtYXNrLCB5LCB4LCB2YWx1ZSkgewogICAgICAgIGlmICh5ID49IDAgJiYgeSA8IG1hc2sucm93cyAmJiB4ID49IDAgJiYgeCA8IG1hc2suY29scykgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFyIHB0ciA9IG1hc2sudWNoYXJQdHIoeSwgeCk7CiAgICAgICAgICAgIGlmIChwdHIgJiYgcHRyLmxlbmd0aCA+IDApIHB0clswXSA9IHZhbHVlOwogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCJcdThCQkVcdTdGNkVcdTYzQTlcdTc4MDFcdTk1MTlcdThCRUY6ICgiLmNvbmNhdCh5LCAiLCIpLmNvbmNhdCh4LCAiKSIpKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CgogICAgICBpZiAoaW1hZ2VUeXBlID09PSAnZ3JheScpIHsKICAgICAgICBpZiAoY2FsY3VsYXRlSGlzdG9ncmFtKSB7CiAgICAgICAgICAvLyDorqHnrpfnm7Tmlrnlm74KICAgICAgICAgIHZhciBoaXN0RGF0YSA9IEFycmF5KDY1NTM2KS5maWxsKDApOwoKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1nMTYucm93czsgaSArPSBzdGVwKSB7CiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaW1nMTYuY29sczsgaiArPSBzdGVwKSB7CiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGhpc3REYXRhW3NhZmVVc2hvcnRBdChpbWcxNiwgaSwgaildKys7CiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgey8vIOW/veeVpemUmeivr+e7p+e7reaJp+ihjAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHJlc3VsdC5oaXN0b2dyYW0gPSBoaXN0RGF0YTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoaW1hZ2VUeXBlID09PSAnYmF5ZXInKSB7CiAgICAgICAgLy8g56Gu5L+d5Zu+5YOP5aSn5bCP6Laz5aSf6L+b6KGMQmF5ZXLlpITnkIYKICAgICAgICBpZiAoaW1nMTYucm93cyA8IDIgfHwgaW1nMTYuY29scyA8IDIpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WbvuWDj+WwuuWvuOi/h+Wwj++8jOaXoOazlei/m+ihjEJheWVy5aSE55CGJyk7CiAgICAgICAgICByZXR1cm4ge307CiAgICAgICAgfQoKICAgICAgICB2YXIgcm93cyA9IGltZzE2LnJvd3M7CiAgICAgICAgdmFyIGNvbHMgPSBpbWcxNi5jb2xzOyAvLyDliJvlu7rmjqnnoIEgLSDkvb/nlKjnqIDnlo/ph4fmoLcKCiAgICAgICAgdmFyIG1hc2tSID0gbmV3IGN2Lk1hdChyb3dzLCBjb2xzLCBjdi5DVl84VUMxLCBuZXcgY3YuU2NhbGFyKDApKTsKICAgICAgICB2YXIgbWFza0cgPSBuZXcgY3YuTWF0KHJvd3MsIGNvbHMsIGN2LkNWXzhVQzEsIG5ldyBjdi5TY2FsYXIoMCkpOwogICAgICAgIHZhciBtYXNrQiA9IG5ldyBjdi5NYXQocm93cywgY29scywgY3YuQ1ZfOFVDMSwgbmV3IGN2LlNjYWxhcigwKSk7IC8vIOehruWumumHh+agt+atpemVvyAtIOWkp+WbvuWDj+aXtumHh+eUqOabtOWkp+atpemVvwoKICAgICAgICB2YXIgc2FtcGxlU3RlcCA9IE1hdGgubWF4KDIsIE1hdGguZmxvb3IoTWF0aC5taW4ocm93cywgY29scykgLyAyMDApICogMik7IC8vIOehruWumkJheWVy5qih5byP5L2N572uCgogICAgICAgIHZhciByT2Zmc2V0cywgZ09mZnNldHMsIGJPZmZzZXRzOwoKICAgICAgICBzd2l0Y2ggKGJheWVyUGF0dGVybikgewogICAgICAgICAgY2FzZSAnUkdHQic6CiAgICAgICAgICAgIHJPZmZzZXRzID0gW3sKICAgICAgICAgICAgICB5OiAwLAogICAgICAgICAgICAgIHg6IDAKICAgICAgICAgICAgfV07CiAgICAgICAgICAgIGdPZmZzZXRzID0gW3sKICAgICAgICAgICAgICB5OiAwLAogICAgICAgICAgICAgIHg6IDEKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIHk6IDEsCiAgICAgICAgICAgICAgeDogMAogICAgICAgICAgICB9XTsKICAgICAgICAgICAgYk9mZnNldHMgPSBbewogICAgICAgICAgICAgIHk6IDEsCiAgICAgICAgICAgICAgeDogMQogICAgICAgICAgICB9XTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnR1InOgogICAgICAgICAgICBnT2Zmc2V0cyA9IFt7CiAgICAgICAgICAgICAgeTogMCwKICAgICAgICAgICAgICB4OiAwCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICB5OiAxLAogICAgICAgICAgICAgIHg6IDEKICAgICAgICAgICAgfV07CiAgICAgICAgICAgIHJPZmZzZXRzID0gW3sKICAgICAgICAgICAgICB5OiAwLAogICAgICAgICAgICAgIHg6IDEKICAgICAgICAgICAgfV07CiAgICAgICAgICAgIGJPZmZzZXRzID0gW3sKICAgICAgICAgICAgICB5OiAxLAogICAgICAgICAgICAgIHg6IDAKICAgICAgICAgICAgfV07CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgJ0dCJzoKICAgICAgICAgICAgZ09mZnNldHMgPSBbewogICAgICAgICAgICAgIHk6IDAsCiAgICAgICAgICAgICAgeDogMAogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgeTogMSwKICAgICAgICAgICAgICB4OiAxCiAgICAgICAgICAgIH1dOwogICAgICAgICAgICBiT2Zmc2V0cyA9IFt7CiAgICAgICAgICAgICAgeTogMCwKICAgICAgICAgICAgICB4OiAxCiAgICAgICAgICAgIH1dOwogICAgICAgICAgICByT2Zmc2V0cyA9IFt7CiAgICAgICAgICAgICAgeTogMSwKICAgICAgICAgICAgICB4OiAwCiAgICAgICAgICAgIH1dOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdCRyc6CiAgICAgICAgICAgIGJPZmZzZXRzID0gW3sKICAgICAgICAgICAgICB5OiAwLAogICAgICAgICAgICAgIHg6IDAKICAgICAgICAgICAgfV07CiAgICAgICAgICAgIGdPZmZzZXRzID0gW3sKICAgICAgICAgICAgICB5OiAwLAogICAgICAgICAgICAgIHg6IDEKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIHk6IDEsCiAgICAgICAgICAgICAgeDogMAogICAgICAgICAgICB9XTsKICAgICAgICAgICAgck9mZnNldHMgPSBbewogICAgICAgICAgICAgIHk6IDEsCiAgICAgICAgICAgICAgeDogMQogICAgICAgICAgICB9XTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgck9mZnNldHMgPSBbewogICAgICAgICAgICAgIHk6IDAsCiAgICAgICAgICAgICAgeDogMAogICAgICAgICAgICB9XTsKICAgICAgICAgICAgZ09mZnNldHMgPSBbewogICAgICAgICAgICAgIHk6IDAsCiAgICAgICAgICAgICAgeDogMQogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgeTogMSwKICAgICAgICAgICAgICB4OiAwCiAgICAgICAgICAgIH1dOwogICAgICAgICAgICBiT2Zmc2V0cyA9IFt7CiAgICAgICAgICAgICAgeTogMSwKICAgICAgICAgICAgICB4OiAxCiAgICAgICAgICAgIH1dOwogICAgICAgIH0gLy8g6YeH5qC35pWw5o2u55So5LqO5aKe55uK6K6h566XCgoKICAgICAgICB2YXIgclZhbHVlcyA9IFtdOwogICAgICAgIHZhciBnVmFsdWVzID0gW107CiAgICAgICAgdmFyIGJWYWx1ZXMgPSBbXTsgLy8g6YeH5qC36K6+572u5o6p56CB5ZKM5pS26ZuG6YeH5qC35pWw5o2uCgogICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgcm93czsgeSArPSBzYW1wbGVTdGVwKSB7CiAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGNvbHM7IHggKz0gc2FtcGxlU3RlcCkgewogICAgICAgICAgICAvLyDlpITnkIbnuqLoibLpgJrpgZMKICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyT2Zmc2V0cyksCiAgICAgICAgICAgICAgICBfc3RlcDQ7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICB2YXIgcG9zID0gX3N0ZXA0LnZhbHVlOwogICAgICAgICAgICAgICAgdmFyIHB5ID0geSArIHBvcy55OwogICAgICAgICAgICAgICAgdmFyIHB4ID0geCArIHBvcy54OwoKICAgICAgICAgICAgICAgIGlmIChweSA8IHJvd3MgJiYgcHggPCBjb2xzICYmIHB5ID49IDAgJiYgcHggPj0gMCkgewogICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIHNhZmVTZXRNYXNrKG1hc2tSLCBweSwgcHgsIDI1NSk7CgogICAgICAgICAgICAgICAgICAgIGlmIChjYWxjdWxhdGVHYWluICYmIHkgJSAoc2FtcGxlU3RlcCAqIDIpID09PSAwICYmIHggJSAoc2FtcGxlU3RlcCAqIDIpID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICByVmFsdWVzLnB1c2goc2FmZVVzaG9ydEF0KGltZzE2LCBweSwgcHgpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJSXHU5MDFBXHU5MDUzXHU5NTE5XHU4QkVGXHVGRjFBKCIuY29uY2F0KHB5LCAiLCIpLmNvbmNhdChweCwgIikiKSwgZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IC8vIOWkhOeQhue7v+iJsumAmumBkwoKICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZ09mZnNldHMpLAogICAgICAgICAgICAgICAgX3N0ZXA1OwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjQucygpOyAhKF9zdGVwNSA9IF9pdGVyYXRvcjQubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgdmFyIF9wb3MgPSBfc3RlcDUudmFsdWU7CgogICAgICAgICAgICAgICAgdmFyIF9weSA9IHkgKyBfcG9zLnk7CgogICAgICAgICAgICAgICAgdmFyIF9weCA9IHggKyBfcG9zLng7CgogICAgICAgICAgICAgICAgaWYgKF9weSA8IHJvd3MgJiYgX3B4IDwgY29scyAmJiBfcHkgPj0gMCAmJiBfcHggPj0gMCkgewogICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIHNhZmVTZXRNYXNrKG1hc2tHLCBfcHksIF9weCwgMjU1KTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGN1bGF0ZUdhaW4gJiYgeSAlIChzYW1wbGVTdGVwICogMikgPT09IDAgJiYgeCAlIChzYW1wbGVTdGVwICogMikgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgIGdWYWx1ZXMucHVzaChzYWZlVXNob3J0QXQoaW1nMTYsIF9weSwgX3B4KSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiR1x1OTAxQVx1OTA1M1x1OTUxOVx1OEJFRlx1RkYxQSgiLmNvbmNhdChfcHksICIsIikuY29uY2F0KF9weCwgIikiKSwgZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IC8vIOWkhOeQhuiTneiJsumAmumBkwoKICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5lKGVycik7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5mKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBfaXRlcmF0b3I1ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYk9mZnNldHMpLAogICAgICAgICAgICAgICAgX3N0ZXA2OwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjUucygpOyAhKF9zdGVwNiA9IF9pdGVyYXRvcjUubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgdmFyIF9wb3MyID0gX3N0ZXA2LnZhbHVlOwoKICAgICAgICAgICAgICAgIHZhciBfcHkyID0geSArIF9wb3MyLnk7CgogICAgICAgICAgICAgICAgdmFyIF9weDIgPSB4ICsgX3BvczIueDsKCiAgICAgICAgICAgICAgICBpZiAoX3B5MiA8IHJvd3MgJiYgX3B4MiA8IGNvbHMgJiYgX3B5MiA+PSAwICYmIF9weDIgPj0gMCkgewogICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIHNhZmVTZXRNYXNrKG1hc2tCLCBfcHkyLCBfcHgyLCAyNTUpOwoKICAgICAgICAgICAgICAgICAgICBpZiAoY2FsY3VsYXRlR2FpbiAmJiB5ICUgKHNhbXBsZVN0ZXAgKiAyKSA9PT0gMCAmJiB4ICUgKHNhbXBsZVN0ZXAgKiAyKSA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgYlZhbHVlcy5wdXNoKHNhZmVVc2hvcnRBdChpbWcxNiwgX3B5MiwgX3B4MikpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkJcdTkwMUFcdTkwNTNcdTk1MTlcdThCRUZcdUZGMUEoIi5jb25jYXQoX3B5MiwgIiwiKS5jb25jYXQoX3B4MiwgIikiKSwgZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgIF9pdGVyYXRvcjUuZShlcnIpOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIF9pdGVyYXRvcjUuZigpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoY2FsY3VsYXRlSGlzdG9ncmFtKSB7CiAgICAgICAgICAvLyDorqHnrpfkuInkuKrpgJrpgZPnmoTnm7Tmlrnlm74KICAgICAgICAgIHZhciBoaXN0RGF0YVIgPSBBcnJheSg2NTUzNikuZmlsbCgwKTsKICAgICAgICAgIHZhciBoaXN0RGF0YUcgPSBBcnJheSg2NTUzNikuZmlsbCgwKTsKICAgICAgICAgIHZhciBoaXN0RGF0YUIgPSBBcnJheSg2NTUzNikuZmlsbCgwKTsgLy8g56Gu5L+d5a6J5YWo6K6/6ZeuCgogICAgICAgICAgdmFyIG1heFJvd3MgPSByb3dzIC0gMTsKICAgICAgICAgIHZhciBtYXhDb2xzID0gY29scyAtIDE7CgogICAgICAgICAgZm9yICh2YXIgX2k2ID0gMDsgX2k2IDwgbWF4Um93czsgX2k2ICs9IDIpIHsKICAgICAgICAgICAgZm9yICh2YXIgX2ogPSAwOyBfaiA8IG1heENvbHM7IF9qICs9IDIpIHsKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKGJheWVyUGF0dGVybiA9PT0gJ1JHR0InKSB7CiAgICAgICAgICAgICAgICAgIGhpc3REYXRhUltzYWZlVXNob3J0QXQoaW1nMTYsIF9pNiwgX2opXSsrOwogICAgICAgICAgICAgICAgICB2YXIgZzEgPSBzYWZlVXNob3J0QXQoaW1nMTYsIF9pNiArIDEsIF9qKTsKICAgICAgICAgICAgICAgICAgdmFyIGcyID0gc2FmZVVzaG9ydEF0KGltZzE2LCBfaTYsIF9qICsgMSk7CiAgICAgICAgICAgICAgICAgIGhpc3REYXRhR1tNYXRoLmZsb29yKChnMSArIGcyKSAvIDIpXSsrOwogICAgICAgICAgICAgICAgICBoaXN0RGF0YUJbc2FmZVVzaG9ydEF0KGltZzE2LCBfaTYgKyAxLCBfaiArIDEpXSsrOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiYXllclBhdHRlcm4gPT09ICdHUicpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9nID0gc2FmZVVzaG9ydEF0KGltZzE2LCBfaTYsIF9qKTsKCiAgICAgICAgICAgICAgICAgIHZhciBfZzIgPSBzYWZlVXNob3J0QXQoaW1nMTYsIF9pNiArIDEsIF9qICsgMSk7CgogICAgICAgICAgICAgICAgICBoaXN0RGF0YUdbTWF0aC5mbG9vcigoX2cgKyBfZzIpIC8gMildKys7CiAgICAgICAgICAgICAgICAgIGhpc3REYXRhUltzYWZlVXNob3J0QXQoaW1nMTYsIF9pNiArIDEsIF9qKV0rKzsKICAgICAgICAgICAgICAgICAgaGlzdERhdGFCW3NhZmVVc2hvcnRBdChpbWcxNiwgX2k2LCBfaiArIDEpXSsrOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiYXllclBhdHRlcm4gPT09ICdHQicpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9nMyA9IHNhZmVVc2hvcnRBdChpbWcxNiwgX2k2LCBfaik7CgogICAgICAgICAgICAgICAgICB2YXIgX2c0ID0gc2FmZVVzaG9ydEF0KGltZzE2LCBfaTYgKyAxLCBfaiArIDEpOwoKICAgICAgICAgICAgICAgICAgaGlzdERhdGFHW01hdGguZmxvb3IoKF9nMyArIF9nNCkgLyAyKV0rKzsKICAgICAgICAgICAgICAgICAgaGlzdERhdGFCW3NhZmVVc2hvcnRBdChpbWcxNiwgX2k2ICsgMSwgX2opXSsrOwogICAgICAgICAgICAgICAgICBoaXN0RGF0YVJbc2FmZVVzaG9ydEF0KGltZzE2LCBfaTYsIF9qICsgMSldKys7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJheWVyUGF0dGVybiA9PT0gJ0JHJykgewogICAgICAgICAgICAgICAgICBoaXN0RGF0YUJbc2FmZVVzaG9ydEF0KGltZzE2LCBfaTYsIF9qKV0rKzsKCiAgICAgICAgICAgICAgICAgIHZhciBfZzUgPSBzYWZlVXNob3J0QXQoaW1nMTYsIF9pNiArIDEsIF9qKTsKCiAgICAgICAgICAgICAgICAgIHZhciBfZzYgPSBzYWZlVXNob3J0QXQoaW1nMTYsIF9pNiwgX2ogKyAxKTsKCiAgICAgICAgICAgICAgICAgIGhpc3REYXRhR1tNYXRoLmZsb29yKChfZzUgKyBfZzYpIC8gMildKys7CiAgICAgICAgICAgICAgICAgIGhpc3REYXRhUltzYWZlVXNob3J0QXQoaW1nMTYsIF9pNiArIDEsIF9qICsgMSldKys7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiXHU3NkY0XHU2NUI5XHU1NkZFXHU4QkExXHU3Qjk3XHU5NTE5XHU4QkVGXHVGRjFBKCIuY29uY2F0KF9pNiwgIiwiKS5jb25jYXQoX2osICIpIiksIGUpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHJlc3VsdC5oaXN0b2dyYW0gPSBbaGlzdERhdGFSLCBoaXN0RGF0YUcsIGhpc3REYXRhQl07CiAgICAgICAgfSAvLyDorqHnrpfnmb3lubPooaHlop7nm4rlj4LmlbAgLSDkvb/nlKjlv6vpgJ/kuK3kvY3mlbDov5HkvLzms5UKCgogICAgICAgIGlmIChjYWxjdWxhdGVHYWluICYmIHJWYWx1ZXMubGVuZ3RoID4gMCAmJiBnVmFsdWVzLmxlbmd0aCA+IDAgJiYgYlZhbHVlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICAvLyDlv6vpgJ/orqHnrpfkuK3kvY3mlbDogIzpnZ7mjpLluo/lhajpg6jmlbDnu4QKICAgICAgICAgICAgdmFyIHJNZWFuID0gdGhpcy50cnVuY2F0ZWRNZWFuKHJWYWx1ZXMpOwogICAgICAgICAgICB2YXIgZ01lYW4gPSB0aGlzLnRydW5jYXRlZE1lYW4oZ1ZhbHVlcyk7CiAgICAgICAgICAgIHZhciBiTWVhbiA9IHRoaXMudHJ1bmNhdGVkTWVhbihiVmFsdWVzKTsgLy8g6K6h566X5aKe55uKCgogICAgICAgICAgICB2YXIgZ2FpblIgPSBNYXRoLm1pbihNYXRoLm1heChnTWVhbiAvIHJNZWFuLCAwLjEpLCAyKTsKICAgICAgICAgICAgdmFyIGdhaW5CID0gTWF0aC5taW4oTWF0aC5tYXgoZ01lYW4gLyBiTWVhbiwgMC4xKSwgMik7CiAgICAgICAgICAgIHJlc3VsdC53aGl0ZUJhbGFuY2UgPSB7CiAgICAgICAgICAgICAgZ2FpblI6IGdhaW5SLAogICAgICAgICAgICAgIGdhaW5COiBnYWluQgogICAgICAgICAgICB9OwogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCLnmb3lubPooaHlop7nm4rorqHnrpfplJnor68iLCBlKTsKICAgICAgICAgICAgcmVzdWx0LndoaXRlQmFsYW5jZSA9IHsKICAgICAgICAgICAgICBnYWluUjogMS4wLAogICAgICAgICAgICAgIGdhaW5COiAxLjAKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICB9IC8vIOmHiuaUvui1hOa6kAoKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIG1hc2tSLmRlbGV0ZSgpOwogICAgICAgICAgbWFza0cuZGVsZXRlKCk7CiAgICAgICAgICBtYXNrQi5kZWxldGUoKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCLph4rmlL7otYTmupDplJnor68iLCBlKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAoKICAgIC8qKgogICAgICog5L2/55So5oiq5pat5Z2H5YC86K6h566XIC0g5Y676Zmk5LiK5LiL5LiA5a6a5q+U5L6L55qE5p6B5YC85ZCO6K6h566X5bmz5Z2H5YC8CiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnIgLSDovpPlhaXmlbDmja7mlbDnu4QKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsb3dlclBlcmNlbnQgLSDkuIvmiKrmlq3nmb7liIbmr5TvvIzpu5jorqQ1JQogICAgICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyUGVyY2VudCAtIOS4iuaIquaWreeZvuWIhuavlO+8jOm7mOiupDUlCiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSDmiKrmlq3lnYflgLwKICAgICAqLwogICAgdHJ1bmNhdGVkTWVhbjogZnVuY3Rpb24gdHJ1bmNhdGVkTWVhbihhcnIpIHsKICAgICAgdmFyIGxvd2VyUGVyY2VudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogNTsKICAgICAgdmFyIHVwcGVyUGVyY2VudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogNTsKICAgICAgaWYgKGFyci5sZW5ndGggPT09IDApIHJldHVybiAwOyAvLyDov4fmu6TmnoHnq6/pu5Hngrnlkozov4fppbHlkozngrkKCiAgICAgIHZhciBmaWx0ZXJlZCA9IGFyci5maWx0ZXIoZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gdiA+IDEwMCAmJiB2IDwgNjUwMDA7CiAgICAgIH0pOwogICAgICBpZiAoZmlsdGVyZWQubGVuZ3RoID09PSAwKSByZXR1cm4gYXJyLmxlbmd0aCA+IDAgPyBhcnJbMF0gOiAwOyAvLyDlr7nkuo7nibnliKvlpKfnmoTmlbDnu4TvvIzph4fmoLflpITnkIYKCiAgICAgIHZhciB3b3JraW5nQXJyYXkgPSBmaWx0ZXJlZDsKCiAgICAgIGlmIChmaWx0ZXJlZC5sZW5ndGggPiAxMDAwMCkgewogICAgICAgIHdvcmtpbmdBcnJheSA9IFtdOwogICAgICAgIHZhciBzdGVwID0gTWF0aC5jZWlsKGZpbHRlcmVkLmxlbmd0aCAvIDUwMDApOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcmVkLmxlbmd0aDsgaSArPSBzdGVwKSB7CiAgICAgICAgICB3b3JraW5nQXJyYXkucHVzaChmaWx0ZXJlZFtpXSk7CiAgICAgICAgfQogICAgICB9IC8vIOaOkuW6j+aVsOe7hAoKCiAgICAgIHdvcmtpbmdBcnJheS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgICB9KTsgLy8g6K6h566X5oiq5pat54K5CgogICAgICB2YXIgbG93ZXJDdXRvZmYgPSBNYXRoLmZsb29yKHdvcmtpbmdBcnJheS5sZW5ndGggKiAobG93ZXJQZXJjZW50IC8gMTAwKSk7CiAgICAgIHZhciB1cHBlckN1dG9mZiA9IE1hdGguZmxvb3Iod29ya2luZ0FycmF5Lmxlbmd0aCAqICgxIC0gdXBwZXJQZXJjZW50IC8gMTAwKSk7IC8vIOiOt+WPluaIquaWreWQjueahOWtkOaVsOe7hAoKICAgICAgdmFyIHRydW5jYXRlZCA9IHdvcmtpbmdBcnJheS5zbGljZShsb3dlckN1dG9mZiwgdXBwZXJDdXRvZmYpOyAvLyDorqHnrpflubPlnYflgLwKCiAgICAgIGlmICh0cnVuY2F0ZWQubGVuZ3RoID09PSAwKSByZXR1cm4gd29ya2luZ0FycmF5W01hdGguZmxvb3Iod29ya2luZ0FycmF5Lmxlbmd0aCAvIDIpXTsKICAgICAgdmFyIHN1bSA9IHRydW5jYXRlZC5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgdmFsKSB7CiAgICAgICAgcmV0dXJuIGFjYyArIHZhbDsKICAgICAgfSwgMCk7CiAgICAgIHJldHVybiBzdW0gLyB0cnVuY2F0ZWQubGVuZ3RoOwogICAgfSwKCiAgICAvKioKICAgICAqIOW/q+mAn+iuoeeul+S4reS9jeaVsCAtIOS9v+eUqOmaj+acuumAieaLqeeul+azlQogICAgICovCiAgICBxdWlja01lZGlhbjogZnVuY3Rpb24gcXVpY2tNZWRpYW4oYXJyKSB7CiAgICAgIGlmIChhcnIubGVuZ3RoID09PSAwKSByZXR1cm4gMDsKCiAgICAgIGlmIChhcnIubGVuZ3RoIDwgMTAwKSB7CiAgICAgICAgLy8g5bCP5pWw57uE55u05o6l5o6S5bqPCiAgICAgICAgdmFyIHNvcnRlZEFyciA9IF90b0NvbnN1bWFibGVBcnJheShhcnIpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgIHJldHVybiBhIC0gYjsKICAgICAgICB9KTsKCiAgICAgICAgcmV0dXJuIHNvcnRlZEFycltNYXRoLmZsb29yKHNvcnRlZEFyci5sZW5ndGggLyAyKV07CiAgICAgIH0gLy8g5aSn5pWw57uE6ZqP5py66YeH5qC3CgoKICAgICAgdmFyIHNhbXBsZXMgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTAwOyBpKyspIHsKICAgICAgICBzYW1wbGVzLnB1c2goYXJyW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFyci5sZW5ndGgpXSk7CiAgICAgIH0KCiAgICAgIHNhbXBsZXMuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHJldHVybiBhIC0gYjsKICAgICAgfSk7CiAgICAgIHJldHVybiBzYW1wbGVzWzUwXTsgLy8g6L+U5Zue6YeH5qC355qE5Lit5L2N5pWwCiAgICB9LAoKICAgIC8qKgogICAgICog5bqU55So55m95bmz6KGh5ZKM5Lqu5bqm5ouJ5Ly477yM5bCGMTbkvY3lm77lg4/ovazmjaLkuLo45L2N5Zu+5YOPCiAgICAgKiBAcGFyYW0ge2N2Lk1hdH0gaW1nMTYgLSDovpPlhaXnmoQxNuS9jeWbvuWDj01hdOWvueixoQogICAgICogQHBhcmFtIHtPYmplY3R9IGFuYWx5c2lzIC0g5LuOYW5hbHl6ZUltYWdlU3RhdGlzdGljc+iOt+WPlueahOWIhuaekOe7k+aenAogICAgICogQHBhcmFtIHtzdHJpbmd9IGltYWdlVHlwZSAtIOWbvuWDj+exu+WeizogJ2dyYXknKOeBsOW6puWbvikg5oiWICdiYXllcico5b2p6Imy55u45py6KQogICAgICogQHBhcmFtIHtzdHJpbmd9IGJheWVyUGF0dGVybiAtIEJheWVy5qih5byP77yM5LuF5b2TaW1hZ2VUeXBl5Li6J2JheWVyJ+aXtumcgOimgQogICAgICogQHBhcmFtIHtPYmplY3R9IHN0cmV0Y2hQYXJhbXMgLSDmiYvliqjmjIflrprmi4nkvLjlj4LmlbDvvIzlj6/pgIkKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJldGNoUGFyYW1zLmJsYWNrTGV2ZWwgLSDpu5HngrnlgLwgCiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyZXRjaFBhcmFtcy53aGl0ZUxldmVsIC0g55m954K55YC8CiAgICAgKiBAcmV0dXJucyB7Y3YuTWF0fSDlpITnkIblkI7nmoQ45L2NUkdCQeWbvuWDjwogICAgICovCiAgICBhcHBseVN0cmV0Y2hBbmRHYWluOiBmdW5jdGlvbiBhcHBseVN0cmV0Y2hBbmRHYWluKGltZzE2LCBhbmFseXNpcywgaW1hZ2VUeXBlKSB7CiAgICAgIHZhciBiYXllclBhdHRlcm4gPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6ICdSR0dCJzsKICAgICAgdmFyIGJsYWNrTGV2ZWwgPSBhcmd1bWVudHMubGVuZ3RoID4gNCA/IGFyZ3VtZW50c1s0XSA6IHVuZGVmaW5lZDsKICAgICAgdmFyIHdoaXRlTGV2ZWwgPSBhcmd1bWVudHMubGVuZ3RoID4gNSA/IGFyZ3VtZW50c1s1XSA6IHVuZGVmaW5lZDsKCiAgICAgIC8vIOehruS/nem7keeCueWwj+S6jueZveeCuQogICAgICBpZiAoYmxhY2tMZXZlbCA+PSB3aGl0ZUxldmVsKSB7CiAgICAgICAgYmxhY2tMZXZlbCA9IHdoaXRlTGV2ZWwgLSAxOwogICAgICB9IC8vIOiuoeeul+i9rOaNouavlOS+i+WSjOWBj+enuwoKCiAgICAgIHZhciBzY2FsZSA9IDI1NS4wIC8gKHdoaXRlTGV2ZWwgLSBibGFja0xldmVsKTsKICAgICAgdmFyIG9mZnNldCA9IC1ibGFja0xldmVsICogc2NhbGU7CgogICAgICBpZiAoaW1hZ2VUeXBlID09PSAnZ3JheScpIHsKICAgICAgICAvLyDljZXoibLnm7jmnLogLSDkuIDmraXovazmjaLliLA45L2NUkdCQQogICAgICAgIHZhciByZ2JhSW1nID0gbmV3IGN2Lk1hdCgpOwogICAgICAgIHZhciBncmF5OCA9IG5ldyBjdi5NYXQoKTsKICAgICAgICBpbWcxNi5jb252ZXJ0VG8oZ3JheTgsIGN2LkNWXzhVLCBzY2FsZSwgb2Zmc2V0KTsKICAgICAgICBjdi5jdnRDb2xvcihncmF5OCwgcmdiYUltZywgY3YuQ09MT1JfR1JBWTJSR0JBKTsKICAgICAgICBncmF5OC5kZWxldGUoKTsKICAgICAgICByZXR1cm4gcmdiYUltZzsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDlvanoibLnm7jmnLrlpITnkIYKICAgICAgICB2YXIgZ2FpblIgPSAxLjAsCiAgICAgICAgICAgIGdhaW5CID0gMS4wOwoKICAgICAgICBpZiAoYW5hbHlzaXMgJiYgYW5hbHlzaXMud2hpdGVCYWxhbmNlKSB7CiAgICAgICAgICBnYWluUiA9IGFuYWx5c2lzLndoaXRlQmFsYW5jZS5nYWluUjsKICAgICAgICAgIGdhaW5CID0gYW5hbHlzaXMud2hpdGVCYWxhbmNlLmdhaW5COwogICAgICAgIH0gLy8g5L2/55SoTFVU5LyY5YyW55m95bmz6KGh5ZKM5ouJ5Ly4CiAgICAgICAgLy8gMS4g5Yib5bu65LiJ5LiqTFVU6KGoCgoKICAgICAgICB2YXIgX3RoaXMkZ2V0TFVUID0gdGhpcy5nZXRMVVQoYmxhY2tMZXZlbCwgd2hpdGVMZXZlbCwgZ2FpblIsIGdhaW5CKSwKICAgICAgICAgICAgbHV0UiA9IF90aGlzJGdldExVVC5sdXRSLAogICAgICAgICAgICBsdXRHID0gX3RoaXMkZ2V0TFVULmx1dEcsCiAgICAgICAgICAgIGx1dEIgPSBfdGhpcyRnZXRMVVQubHV0QjsgLy8gMy4g5Yib5bu6OOS9jei+k+WHuuWbvuWDjwoKCiAgICAgICAgdmFyIGltZzggPSBuZXcgY3YuTWF0KGltZzE2LnJvd3MsIGltZzE2LmNvbHMsIGN2LkNWXzhVQzEpOyAvLyA0LiDkvb/nlKhMVVTlupTnlKjnmb3lubPooaHlkozmi4nkvLgKICAgICAgICAvLyDkuLrpgb/lhY3lg4/ntKDpgY3ljobvvIzmiJHku6zkvb/nlKjmm7Tpq5jmlYjnmoTmlrnlvI8KCiAgICAgICAgdmFyIHJvd3MgPSBpbWcxNi5yb3dzOwogICAgICAgIHZhciBjb2xzID0gaW1nMTYuY29sczsKICAgICAgICB2YXIgZGF0YTggPSBpbWc4LmRhdGE7IC8vIOehruWumkJheWVy5qih5byP55qE5L2N572uCgogICAgICAgIHZhciByT2Zmc2V0cywgZ09mZnNldHMsIGJPZmZzZXRzOwoKICAgICAgICBzd2l0Y2ggKGJheWVyUGF0dGVybikgewogICAgICAgICAgY2FzZSAnUkdHQic6CiAgICAgICAgICAgIHJPZmZzZXRzID0gW3sKICAgICAgICAgICAgICB5OiAwLAogICAgICAgICAgICAgIHg6IDAKICAgICAgICAgICAgfV07CiAgICAgICAgICAgIGdPZmZzZXRzID0gW3sKICAgICAgICAgICAgICB5OiAwLAogICAgICAgICAgICAgIHg6IDEKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIHk6IDEsCiAgICAgICAgICAgICAgeDogMAogICAgICAgICAgICB9XTsKICAgICAgICAgICAgYk9mZnNldHMgPSBbewogICAgICAgICAgICAgIHk6IDEsCiAgICAgICAgICAgICAgeDogMQogICAgICAgICAgICB9XTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnR1InOgogICAgICAgICAgICBnT2Zmc2V0cyA9IFt7CiAgICAgICAgICAgICAgeTogMCwKICAgICAgICAgICAgICB4OiAwCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICB5OiAxLAogICAgICAgICAgICAgIHg6IDEKICAgICAgICAgICAgfV07CiAgICAgICAgICAgIHJPZmZzZXRzID0gW3sKICAgICAgICAgICAgICB5OiAwLAogICAgICAgICAgICAgIHg6IDEKICAgICAgICAgICAgfV07CiAgICAgICAgICAgIGJPZmZzZXRzID0gW3sKICAgICAgICAgICAgICB5OiAxLAogICAgICAgICAgICAgIHg6IDAKICAgICAgICAgICAgfV07CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgJ0dCJzoKICAgICAgICAgICAgZ09mZnNldHMgPSBbewogICAgICAgICAgICAgIHk6IDAsCiAgICAgICAgICAgICAgeDogMAogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgeTogMSwKICAgICAgICAgICAgICB4OiAxCiAgICAgICAgICAgIH1dOwogICAgICAgICAgICBiT2Zmc2V0cyA9IFt7CiAgICAgICAgICAgICAgeTogMCwKICAgICAgICAgICAgICB4OiAxCiAgICAgICAgICAgIH1dOwogICAgICAgICAgICByT2Zmc2V0cyA9IFt7CiAgICAgICAgICAgICAgeTogMSwKICAgICAgICAgICAgICB4OiAwCiAgICAgICAgICAgIH1dOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdCRyc6CiAgICAgICAgICAgIGJPZmZzZXRzID0gW3sKICAgICAgICAgICAgICB5OiAwLAogICAgICAgICAgICAgIHg6IDAKICAgICAgICAgICAgfV07CiAgICAgICAgICAgIGdPZmZzZXRzID0gW3sKICAgICAgICAgICAgICB5OiAwLAogICAgICAgICAgICAgIHg6IDEKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIHk6IDEsCiAgICAgICAgICAgICAgeDogMAogICAgICAgICAgICB9XTsKICAgICAgICAgICAgck9mZnNldHMgPSBbewogICAgICAgICAgICAgIHk6IDEsCiAgICAgICAgICAgICAgeDogMQogICAgICAgICAgICB9XTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgck9mZnNldHMgPSBbewogICAgICAgICAgICAgIHk6IDAsCiAgICAgICAgICAgICAgeDogMAogICAgICAgICAgICB9XTsKICAgICAgICAgICAgZ09mZnNldHMgPSBbewogICAgICAgICAgICAgIHk6IDAsCiAgICAgICAgICAgICAgeDogMQogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgeTogMSwKICAgICAgICAgICAgICB4OiAwCiAgICAgICAgICAgIH1dOwogICAgICAgICAgICBiT2Zmc2V0cyA9IFt7CiAgICAgICAgICAgICAgeTogMSwKICAgICAgICAgICAgICB4OiAxCiAgICAgICAgICAgIH1dOwogICAgICAgIH0gLy8g5L2/55SoVHlwZWRBcnJheeaWueW8j+WkhOeQhiAtIOavlOmAkOS4quWDj+e0oOWkhOeQhuabtOW/qwoKCiAgICAgICAgdmFyIGRhdGExNlUgPSBpbWcxNi5kYXRhMTZVOyAvLyDkvb/nlKhCYXllcuaOqeeggeWIm+W7uui9rOaNokxVVO+8jOaJuemHj+WkhOeQhgoKICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IHJvd3M7IHkgKz0gMikgewogICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBjb2xzOyB4ICs9IDIpIHsKICAgICAgICAgICAgLy8g5aSE55CGMngy5Z2XCiAgICAgICAgICAgIC8vIFLkvY3nva4KICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjYgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyT2Zmc2V0cyksCiAgICAgICAgICAgICAgICBfc3RlcDc7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNi5zKCk7ICEoX3N0ZXA3ID0gX2l0ZXJhdG9yNi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgICAgICB2YXIgcG9zID0gX3N0ZXA3LnZhbHVlOwogICAgICAgICAgICAgICAgdmFyIGlkeCA9ICh5ICsgcG9zLnkpICogY29scyArICh4ICsgcG9zLngpOwoKICAgICAgICAgICAgICAgIGlmIChpZHggPCBkYXRhMTZVLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBkYXRhOFtpZHhdID0gbHV0UltkYXRhMTZVW2lkeF1dOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gLy8gR+S9jee9rgoKICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yNi5lKGVycik7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yNi5mKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBfaXRlcmF0b3I3ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoZ09mZnNldHMpLAogICAgICAgICAgICAgICAgX3N0ZXA4OwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjcucygpOyAhKF9zdGVwOCA9IF9pdGVyYXRvcjcubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgdmFyIF9wb3MzID0gX3N0ZXA4LnZhbHVlOwoKICAgICAgICAgICAgICAgIHZhciBfaWR4ID0gKHkgKyBfcG9zMy55KSAqIGNvbHMgKyAoeCArIF9wb3MzLngpOwoKICAgICAgICAgICAgICAgIGlmIChfaWR4IDwgZGF0YTE2VS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgZGF0YThbX2lkeF0gPSBsdXRHW2RhdGExNlVbX2lkeF1dOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gLy8gQuS9jee9rgoKICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yNy5lKGVycik7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yNy5mKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBfaXRlcmF0b3I4ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoYk9mZnNldHMpLAogICAgICAgICAgICAgICAgX3N0ZXA5OwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvcjgucygpOyAhKF9zdGVwOSA9IF9pdGVyYXRvcjgubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgdmFyIF9wb3M0ID0gX3N0ZXA5LnZhbHVlOwoKICAgICAgICAgICAgICAgIHZhciBfaWR4MiA9ICh5ICsgX3BvczQueSkgKiBjb2xzICsgKHggKyBfcG9zNC54KTsKCiAgICAgICAgICAgICAgICBpZiAoX2lkeDIgPCBkYXRhMTZVLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBkYXRhOFtfaWR4Ml0gPSBsdXRCW2RhdGExNlVbX2lkeDJdXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgIF9pdGVyYXRvcjguZShlcnIpOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIF9pdGVyYXRvcjguZigpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSAvLyA1LiDlsIY45L2N5Y2V6YCa6YGT6L2s5Li6UkdCQQoKCiAgICAgICAgdmFyIF9yZ2JhSW1nID0gbmV3IGN2Lk1hdCgpOwoKICAgICAgICB2YXIgY3Ztb2RlOwoKICAgICAgICBzd2l0Y2ggKGJheWVyUGF0dGVybikgewogICAgICAgICAgY2FzZSAnUkdHQic6CiAgICAgICAgICAgIGN2bW9kZSA9IGN2LkNPTE9SX0JheWVyUkcyUkdCQTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnR1InOgogICAgICAgICAgICBjdm1vZGUgPSBjdi5DT0xPUl9CYXllckdSMlJHQkE7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgJ0dCJzoKICAgICAgICAgICAgY3Ztb2RlID0gY3YuQ09MT1JfQmF5ZXJHQjJSR0JBOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdCRyc6CiAgICAgICAgICAgIGN2bW9kZSA9IGN2LkNPTE9SX0JheWVyQkcyUkdCQTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgY3Ztb2RlID0gY3YuQ09MT1JfR1JBWTJSR0JBOwogICAgICAgIH0KCiAgICAgICAgY3YuY3Z0Q29sb3IoaW1nOCwgX3JnYmFJbWcsIGN2bW9kZSk7CiAgICAgICAgaW1nOC5kZWxldGUoKTsKICAgICAgICByZXR1cm4gX3JnYmFJbWc7CiAgICAgIH0KICAgIH0sCgogICAgLyoqCiAgICAgKiDojrflj5bmiJborqHnrpdMVVTooagKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBibGFja0xldmVsIC0g6buR54K55YC8CiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2hpdGVMZXZlbCAtIOeZveeCueWAvAogICAgICogQHBhcmFtIHtudW1iZXJ9IGdhaW5SIC0g57qi6Imy5aKe55uKCiAgICAgKiBAcGFyYW0ge251bWJlcn0gZ2FpbkIgLSDok53oibLlop7nm4oKICAgICAqIEByZXR1cm5zIHtPYmplY3R9IOWMheWQq0xVVOihqOeahE9iamVjdAogICAgICovCiAgICBnZXRMVVQ6IGZ1bmN0aW9uIGdldExVVChibGFja0xldmVsLCB3aGl0ZUxldmVsLCBnYWluUiwgZ2FpbkIpIHsKICAgICAgLy8g5Yib5bu65b2T5YmN5Y+C5pWw55qE5b+r54WnCiAgICAgIHZhciBjdXJyZW50UGFyYW1zID0gIiIuY29uY2F0KGJsYWNrTGV2ZWwsICJfIikuY29uY2F0KHdoaXRlTGV2ZWwsICJfIikuY29uY2F0KGdhaW5SLCAiXyIpLmNvbmNhdChnYWluQik7IC8vIOWmguaenOWPguaVsOacquWPmOWMlu+8jOebtOaOpei/lOWbnue8k+WtmOeahExVVOihqAoKICAgICAgaWYgKHRoaXMubHV0Q2FjaGUubGFzdFBhcmFtcyA9PT0gY3VycmVudFBhcmFtcyAmJiB0aGlzLmx1dENhY2hlLmx1dFIgJiYgdGhpcy5sdXRDYWNoZS5sdXRHICYmIHRoaXMubHV0Q2FjaGUubHV0QikgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBsdXRSOiB0aGlzLmx1dENhY2hlLmx1dFIsCiAgICAgICAgICBsdXRHOiB0aGlzLmx1dENhY2hlLmx1dEcsCiAgICAgICAgICBsdXRCOiB0aGlzLmx1dENhY2hlLmx1dEIKICAgICAgICB9OwogICAgICB9IC8vIOWPguaVsOWPmOWMlu+8jOmcgOimgemHjeaWsOiuoeeul0xVVOihqAoKCiAgICAgIGNvbnNvbGUubG9nKCfph43mlrDorqHnrpdMVVTooagnKTsgLy8g6K6h566X6L2s5o2i5q+U5L6LCgogICAgICB2YXIgc2NhbGUgPSAyNTUuMCAvICh3aGl0ZUxldmVsIC0gYmxhY2tMZXZlbCk7IC8vIOWIm+W7ukxVVOihqAoKICAgICAgdmFyIGx1dFIgPSB0aGlzLmx1dENhY2hlLmx1dFIgfHwgbmV3IFVpbnQ4QXJyYXkoNjU1MzYpOwogICAgICB2YXIgbHV0RyA9IHRoaXMubHV0Q2FjaGUubHV0RyB8fCBuZXcgVWludDhBcnJheSg2NTUzNik7CiAgICAgIHZhciBsdXRCID0gdGhpcy5sdXRDYWNoZS5sdXRCIHx8IG5ldyBVaW50OEFycmF5KDY1NTM2KTsgLy8g6K6h566XTFVU6KGoCgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDY1NTM2OyBpKyspIHsKICAgICAgICBsdXRSW2ldID0gTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKChpICogZ2FpblIgLSBibGFja0xldmVsKSAqIHNjYWxlKSkpOwogICAgICAgIGx1dEdbaV0gPSBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIE1hdGgucm91bmQoKGkgLSBibGFja0xldmVsKSAqIHNjYWxlKSkpOwogICAgICAgIGx1dEJbaV0gPSBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIE1hdGgucm91bmQoKGkgKiBnYWluQiAtIGJsYWNrTGV2ZWwpICogc2NhbGUpKSk7CiAgICAgIH0gLy8g5pu05paw57yT5a2YCgoKICAgICAgdGhpcy5sdXRDYWNoZS5sYXN0UGFyYW1zID0gY3VycmVudFBhcmFtczsKICAgICAgdGhpcy5sdXRDYWNoZS5sdXRSID0gbHV0UjsKICAgICAgdGhpcy5sdXRDYWNoZS5sdXRHID0gbHV0RzsKICAgICAgdGhpcy5sdXRDYWNoZS5sdXRCID0gbHV0QjsKICAgICAgcmV0dXJuIHsKICAgICAgICBsdXRSOiBsdXRSLAogICAgICAgIGx1dEc6IGx1dEcsCiAgICAgICAgbHV0QjogbHV0QgogICAgICB9OwogICAgfSwKICAgIC8vIGNoZWNrSW1hZ2VEYXRhKGltZykgewogICAgLy8gICAvLyDmo4Dmn6XmmK/lkKbkuLogY3YuTWF0IOexu+WeiwogICAgLy8gICBpZiAoIShpbWcgaW5zdGFuY2VvZiBjdi5NYXQpKSB7CiAgICAvLyAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnVGhlIGltYWdlIGlzIG5vdCBhIHZhbGlkIGN2Lk1hdCBvYmplY3QuJywgJ2Vycm9yJyk7CiAgICAvLyAgICAgcmV0dXJuIGZhbHNlOwogICAgLy8gICB9CiAgICAvLyAgIC8vIOajgOafpeWbvuWDj+aYr+WQpuS4uuepugogICAgLy8gICBpZiAoaW1nLmVtcHR5KCkpIHsKICAgIC8vICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdUaGUgaW1hZ2UgaXMgZW1wdHkuJywgJ2Vycm9yJyk7CiAgICAvLyAgICAgcmV0dXJuIGZhbHNlOwogICAgLy8gICB9CiAgICAvLyAgIC8vIOajgOafpeWbvuWDj+a3seW6puaYr+WQpuS4uiA4IOS9jeaIliAxNiDkvY0KICAgIC8vICAgY29uc3QgZGVwdGggPSBpbWcudHlwZSgpICYgY3YuQ1ZfTUFUX0RFUFRIX01BU0s7CiAgICAvLyAgIGlmIChkZXB0aCAhPT0gY3YuQ1ZfOFUgJiYgZGVwdGggIT09IGN2LkNWXzE2VSkgewogICAgLy8gICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1RoZSBpbWFnZSBkZXB0aCBpcyBub3QgOC1iaXQgb3IgMTYtYml0LicsICdlcnJvcicpOwogICAgLy8gICAgIHJldHVybiBmYWxzZTsKICAgIC8vICAgfQogICAgLy8gICAvLyDmo4Dmn6Xlm77lg4/lsLrlr7jmmK/lkKblkIjnkIYKICAgIC8vICAgaWYgKGltZy5yb3dzIDw9IDAgfHwgaW1nLmNvbHMgPD0gMCkgewogICAgLy8gICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1RoZSBpbWFnZSBkaW1lbnNpb25zIGFyZSBub3QgdmFsaWQuJywgJ2Vycm9yJyk7CiAgICAvLyAgICAgcmV0dXJuIGZhbHNlOwogICAgLy8gICB9CiAgICAvLyAgIC8vIOajgOafpeWbvuWDj+aVsOaNruaYr+WQpui2heWHuuiMg+WbtOaIluWFqOS4ujAKICAgIC8vICAgY29uc3QgZGF0YSA9IGltZy5kYXRhOwogICAgLy8gICBsZXQgaXNBbGxaZXJvID0gdHJ1ZTsKICAgIC8vICAgY29uc3QgbWF4VmFsdWUgPSBkZXB0aCA9PT0gY3YuQ1ZfOFUgPyAyNTUgOiA2NTUzNTsKICAgIC8vICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAvLyAgICAgaWYgKGRhdGFbaV0gPCAwIHx8IGRhdGFbaV0gPiBtYXhWYWx1ZSkgewogICAgLy8gICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnVGhlIGltYWdlIGRhdGEgY29udGFpbnMgb3V0LW9mLXJhbmdlIHZhbHVlcy4nLCAnZXJyb3InKTsKICAgIC8vICAgICAgIHJldHVybiBmYWxzZTsKICAgIC8vICAgICB9CiAgICAvLyAgICAgaWYgKGRhdGFbaV0gIT09IDApIHsKICAgIC8vICAgICAgIGlzQWxsWmVybyA9IGZhbHNlOwogICAgLy8gICAgIH0KICAgIC8vICAgfQogICAgLy8gICBpZiAoaXNBbGxaZXJvKSB7CiAgICAvLyAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnVGhlIGltYWdlIGRhdGEgaXMgYWxsIHplcm8uJywgJ2Vycm9yJyk7CiAgICAvLyAgICAgcmV0dXJuIGZhbHNlOwogICAgLy8gICB9CiAgICAvLyAgIHJldHVybiB0cnVlOwogICAgLy8gfSwKICAgIC8vIHByb2Nlc3NJbWFnZShpbWdBcnJheSkgewogICAgLy8gICB0aGlzLnByb2dyZXNzVmFsdWUgPSAwOwogICAgLy8gICB0cnkgewogICAgLy8gICAgIGlmICghKGltZ0FycmF5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpICYmICFBcnJheUJ1ZmZlci5pc1ZpZXcoaW1nQXJyYXkpKSB7CiAgICAvLyAgICAgICB0aHJvdyBuZXcgRXJyb3IoIklucHV0IG11c3QgYmUgQXJyYXlCdWZmZXIgb3IgVHlwZWRBcnJheSIpOwogICAgLy8gICAgIH0KICAgIC8vICAgICBjb25zdCB0b3RhbFN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7IC8vIOaAu+W8gOWni+aXtumXtAogICAgLy8gICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0NhcHR1cmVUZXN0VGltZSB8IFByb2Nlc3MgaW1hZ2UgZGF0YSBzdGFydC4nLCAnaW5mbycpOwogICAgLy8gICAgIGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7CiAgICAvLyAgICAgbGV0IGltZ19iaXQgPSAtMTsKICAgIC8vICAgICBsZXQgdWludEFycmF5OwogICAgLy8gICAgIGlmIChpbWdBcnJheS5ieXRlTGVuZ3RoID09PSB0aGlzLm1haW5DYW1lcmFTaXplWCAqIHRoaXMubWFpbkNhbWVyYVNpemVZICogMiApewogICAgLy8gICAgICAgdWludEFycmF5ID0gbmV3IFVpbnQxNkFycmF5KGltZ0FycmF5KTsKICAgIC8vICAgICAgIGltZ19iaXQgPSAxNjsKICAgIC8vICAgICB9ZWxzZSBpZihpbWdBcnJheS5ieXRlTGVuZ3RoID09PSB0aGlzLm1haW5DYW1lcmFTaXplWCAqIHRoaXMubWFpbkNhbWVyYVNpemVZKXsKICAgIC8vICAgICAgIHVpbnRBcnJheSA9IG5ldyBVaW50OEFycmF5KGltZ0FycmF5KTsKICAgIC8vICAgICAgIGltZ19iaXQgPSA4OwogICAgLy8gICAgIH1lbHNlewogICAgLy8gICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZyhgSW1hZ2UgZGF0YSBpcyB1bmRlcmZpbmQgYml0YCwgJ2Vycm9yJyk7CiAgICAvLyAgICAgICByZXR1cm47CiAgICAvLyAgICAgfQogICAgLy8gICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coYEltYWdlIGRhdGEgZGV0ZWN0ZWQgYXMgJHtpbWdfYml0fS1iaXQuYCwgJ2luZm8nKTsKICAgIC8vICAgICAvLyDorr7nva7nlLvluIPlrr3pq5jluLjph48KICAgIC8vICAgICBjb25zdCBjYW52YXNXaWR0aCA9IHBhcnNlSW50KHRoaXMubWFpbkNhbWVyYVNpemVYKTsKICAgIC8vICAgICBjb25zdCBjYW52YXNIZWlnaHQgPSBwYXJzZUludCh0aGlzLm1haW5DYW1lcmFTaXplWSk7CiAgICAvLyAgICAgLy8g6I635Y+W5Y6f5aeL55S75biD5ZKM5L+u5pS55ZCO55qE55S75biD5Lul5Y+K5a+55bqU5LiK5LiL5paHCiAgICAvLyAgICAgY29uc3QgbW9kaWZpZWRDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbkNhbWVyYS1jYW52YXMnKTsKICAgIC8vICAgICBjb25zdCBtb2RpZmllZEN0eCA9IG1vZGlmaWVkQ2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAvLyAgICAgbW9kaWZpZWRDYW52YXMud2lkdGggPSBjYW52YXNXaWR0aDsKICAgIC8vICAgICBtb2RpZmllZENhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQ7CiAgICAvLyAgICAgbGV0IG1hdDsKICAgIC8vICAgICBpZiAoaW1nX2JpdCA9PT0gMTYpewogICAgLy8gICAgICAgbWF0ID0gbmV3IGN2Lk1hdChjYW52YXNIZWlnaHQsIGNhbnZhc1dpZHRoLCBjdi5DVl8xNlVDMSk7CiAgICAvLyAgICAgICBtYXQuZGF0YTE2VS5zZXQodWludEFycmF5KTsKICAgIC8vICAgICB9ZWxzZXsKICAgIC8vICAgICAgIG1hdCA9IG5ldyBjdi5NYXQoY2FudmFzSGVpZ2h0LCBjYW52YXNXaWR0aCwgY3YuQ1ZfOFVDMSk7CiAgICAvLyAgICAgICBtYXQuZGF0YS5zZXQodWludEFycmF5KTsKICAgIC8vICAgICB9CiAgICAvLyAgICAgdGhpcy5wcm9ncmVzc1ZhbHVlID0gMTA7CiAgICAvLyAgICAgY29uc3QgbWF0RW5kVGltZSA9IG5ldyBEYXRlKCk7IC8vIG1hdCDnu5PmnZ/ml7bpl7QKICAgIC8vICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdDYXB0dXJlVGVzdFRpbWUgfCBNYXQgY3JlYXRpb24gdGltZTogJyArIChtYXRFbmRUaW1lLmdldFRpbWUoKSAtIHN0YXJ0VGltZS5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAvLyAgICAgLy8g55So5oi36Ieq5a6a5LmJ5Y+C5pWwCiAgICAvLyAgICAgbGV0IGdhaW5SID0gdGhpcy5JbWFnZUdhaW5SOwogICAgLy8gICAgIGxldCBnYWluQiA9IHRoaXMuSW1hZ2VHYWluQjsKICAgIC8vICAgICBsZXQgb2Zmc2V0ID0gdGhpcy5JbWFnZU9mZnNldDsKICAgIC8vICAgICBsZXQgQ0ZBID0gdGhpcy5JbWFnZUNGQTsKICAgIC8vICAgICBsZXQgbW9kZSA9IDE7CiAgICAvLyAgICAgLy8g5Y+C5pWwCiAgICAvLyAgICAgbGV0IEIgPSAwOwogICAgLy8gICAgIGxldCBXID0gNjU1MzU7CiAgICAvLyAgICAgbGV0IGN2bW9kZSA9IDA7CiAgICAvLyAgICAgY29uc3QgeyBibGFja0xldmVsLCB3aGl0ZUxldmVsIH0gPSB0aGlzLkdldEF1dG9TdHJldGNoKHVpbnRBcnJheSwgbW9kZSwgaW1nX2JpdCk7CiAgICAvLyAgICAgQiA9IGJsYWNrTGV2ZWw7CiAgICAvLyAgICAgVyA9IHdoaXRlTGV2ZWw7CiAgICAvLyAgICAgdGhpcy5wcm9ncmVzc1ZhbHVlID0gMzA7CiAgICAvLyAgICAgY29uc3QgR2V0QXV0b1N0cmV0Y2hFbmRUaW1lID0gbmV3IERhdGUoKTsgLy8gR2V0QXV0b1N0cmV0Y2gg57uT5p2f5pe26Ze0CiAgICAvLyAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ2FwdHVyZVRlc3RUaW1lIHwgR2V0QXV0b1N0cmV0Y2ggdGltZTogJyArIChHZXRBdXRvU3RyZXRjaEVuZFRpbWUuZ2V0VGltZSgpIC0gbWF0RW5kVGltZS5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAvLyAgICAgLy8g5qC55o2uQ0ZB6K6+572u6aKc6Imy6L2s5o2i5qih5byPCiAgICAvLyAgICAgaWYgKENGQSA9PT0gJ0dSJykgewogICAgLy8gICAgICAgY3Ztb2RlID0gY3YuQ09MT1JfQmF5ZXJHUjJSR0JBOwogICAgLy8gICAgIH0gZWxzZSBpZiAoQ0ZBID09PSAnR0InKSB7CiAgICAvLyAgICAgICBjdm1vZGUgPSBjdi5DT0xPUl9CYXllckdCMlJHQkE7CiAgICAvLyAgICAgfSBlbHNlIGlmIChDRkEgPT09ICdCRycpIHsKICAgIC8vICAgICAgIGN2bW9kZSA9IGN2LkNPTE9SX0JheWVyQkcyUkdCQTsKICAgIC8vICAgICB9IGVsc2UgaWYgKENGQSA9PT0gJ1JHR0InKSB7CiAgICAvLyAgICAgICBjdm1vZGUgPSBjdi5DT0xPUl9CYXllclJHMlJHQkE7CiAgICAvLyAgICAgfWVsc2V7CiAgICAvLyAgICAgICBjdm1vZGUgPSBjdi5DT0xPUl9HUkFZMlJHQkEKICAgIC8vICAgICB9CiAgICAvLyAgICAgLy8g5a+555uu5qCH5Zu+5YOP6L+b6KGM6aKc6Imy6L2s5o2iCiAgICAvLyAgICAgbGV0IGRzdCA9IG5ldyBjdi5NYXQoKTsKICAgIC8vICAgICB0cnkgewogICAgLy8gICAgICAgY3YuY3Z0Q29sb3IobWF0LCBkc3QsIGN2bW9kZSk7CiAgICAvLyAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIC8vICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoJ2N2dENvbG9yIOWHuumUmScsICdjdnRDb2xvcicsIGVycm9yKTsKICAgIC8vICAgICAgIG1hdC5kZWxldGUoKTsKICAgIC8vICAgICAgIHJldHVybjsKICAgIC8vICAgICB9CiAgICAvLyAgICAgdGhpcy5wcm9ncmVzc1ZhbHVlID0gNTA7CiAgICAvLyAgICAgY29uc3QgY3Z0Q29sb3JFbmRUaW1lID0gbmV3IERhdGUoKTsgLy8gY3Z0Q29sb3Ig57uT5p2f5pe26Ze0CiAgICAvLyAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ2FwdHVyZVRlc3RUaW1lIHwgY3Z0Q29sb3IgdGltZTogJyArIChjdnRDb2xvckVuZFRpbWUuZ2V0VGltZSgpIC0gR2V0QXV0b1N0cmV0Y2hFbmRUaW1lLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKICAgIC8vICAgICBtYXQuZGVsZXRlKCk7CiAgICAvLyAgICAgLy8g6LCD5pW05Zu+5YOP5aSn5bCPCiAgICAvLyAgICAgLy8gY3YucmVzaXplKGRzdCwgcmVzaXplSW1nLCBuZXcgY3YuU2l6ZSh0aGlzLkNhbnZhc1dpZHRoLCB0aGlzLkNhbnZhc0hlaWdodCksIDAsIDAsIGN2LklOVEVSX0xJTkVBUik7CiAgICAvLyAgICAgLy8gZHN0LmRlbGV0ZSgpOwogICAgLy8gICAgIC8vIGxldCBvcmlnaW5hbEltZzggPSB0aGlzLkJpdDE2VG84X1N0cmV0Y2gocmVzaXplSW1nLCBCLCBXKTsKICAgIC8vICAgICAvLyByZXNpemVJbWcuZGVsZXRlKCk7CiAgICAvLyAgICAgbGV0IHJlc2l6ZUltZyA9IG5ldyBjdi5NYXQoKTsgLy8g55So5p2l5a2Y5YKo6LCD5pW05ZCO55qE5Zu+5YOPCiAgICAvLyAgICAgaWYgKHRoaXMuaXNQb2xhckF4aXNNb2RlKSB7CiAgICAvLyAgICAgICB0aGlzLnByb2dyZXNzVmFsdWUgPSAwOwogICAgLy8gICAgICAgLy8g6LCD5pW05Zu+5YOP5aSn5bCPCiAgICAvLyAgICAgICBjdi5yZXNpemUoZHN0LCByZXNpemVJbWcsIG5ldyBjdi5TaXplKHRoaXMuQ2FudmFzV2lkdGgsIHRoaXMuQ2FudmFzSGVpZ2h0KSwgMCwgMCwgY3YuSU5URVJfTElORUFSKTsKICAgIC8vICAgICAgIGRzdC5kZWxldGUoKTsKICAgIC8vICAgICAgIGxldCBvcmlnaW5hbEltZzg7CiAgICAvLyAgICAgICBpZiAoaW1nX2JpdCA9PT0gMTYpewogICAgLy8gICAgICAgICBvcmlnaW5hbEltZzggPSB0aGlzLkJpdDE2VG84X1N0cmV0Y2gocmVzaXplSW1nLCBCLCBXKTsKICAgIC8vICAgICAgIH1lbHNlewogICAgLy8gICAgICAgICBvcmlnaW5hbEltZzggPSByZXNpemVJbWc7CiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgICByZXNpemVJbWcuZGVsZXRlKCk7CiAgICAvLyAgICAgICBjb25zdCBCaXQxNlRvOF9TdHJldGNoRW5kVGltZSA9IG5ldyBEYXRlKCk7IC8vIEJpdDE2VG84X1N0cmV0Y2gg57uT5p2f5pe26Ze0CiAgICAvLyAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdDYXB0dXJlVGVzdFRpbWUgfCBCaXQxNlRvOF9TdHJldGNoIHRpbWU6ICcgKyAoQml0MTZUbzhfU3RyZXRjaEVuZFRpbWUuZ2V0VGltZSgpIC0gR2V0QXV0b1N0cmV0Y2hFbmRUaW1lLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKICAgIC8vICAgICAgIGxldCB0YXJnZXRJbWc4ID0gdGhpcy5JbWFnZVNvZnRBV0Iob3JpZ2luYWxJbWc4LCBnYWluUiwgZ2FpbkIsIG9mZnNldCk7CiAgICAvLyAgICAgICB0aGlzLiRidXMuJGVtaXQoJ3Nob3dTb2x2ZUltYWdlJywgdGFyZ2V0SW1nOCk7CiAgICAvLyAgICAgICBjb25zdCBJbWFnZVNvZnRBV0JFbmRUaW1lID0gbmV3IERhdGUoKTsgLy8gSW1hZ2VTb2Z0QVdCIOe7k+adn+aXtumXtAogICAgLy8gICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ2FwdHVyZVRlc3RUaW1lIHwgSW1hZ2VTb2Z0QVdCIHRpbWU6ICcgKyAoSW1hZ2VTb2Z0QVdCRW5kVGltZS5nZXRUaW1lKCkgLSBCaXQxNlRvOF9TdHJldGNoRW5kVGltZS5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAvLyAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgIG1vZGlmaWVkQ3R4LmNsZWFyUmVjdCgwLCAwLCBtb2RpZmllZENhbnZhcy53aWR0aCwgbW9kaWZpZWRDYW52YXMuaGVpZ2h0KTsKICAgIC8vICAgICAgIGN2LnJlc2l6ZShkc3QsIHJlc2l6ZUltZywgbmV3IGN2LlNpemUodGhpcy5DYW52YXNXaWR0aCwgdGhpcy5DYW52YXNIZWlnaHQpLCAwLCAwLCBjdi5JTlRFUl9MSU5FQVIpOwogICAgLy8gICAgICAgdGhpcy5wcm9ncmVzc1ZhbHVlID0gNzA7CiAgICAvLyAgICAgICBsZXQgb3JpZ2luYWxSZXNpemVJbWc4ID0gdGhpcy5CaXQxNlRvOF9TdHJldGNoKHJlc2l6ZUltZywgQiwgVyk7CiAgICAvLyAgICAgICB0aGlzLk9yaWdpbmFsSW1hZ2UgPSBuZXcgSW1hZ2VEYXRhKG5ldyBVaW50OENsYW1wZWRBcnJheShvcmlnaW5hbFJlc2l6ZUltZzguZGF0YSksIG9yaWdpbmFsUmVzaXplSW1nOC5jb2xzLCBvcmlnaW5hbFJlc2l6ZUltZzgucm93cyk7CiAgICAvLyAgICAgICByZXNpemVJbWcuZGVsZXRlKCk7CiAgICAvLyAgICAgICBvcmlnaW5hbFJlc2l6ZUltZzguZGVsZXRlKCk7CiAgICAvLyAgICAgICBjb25zb2xlLmxvZygnZHN0LmRhdGEubGVuZ3RoOiAnLCBkc3QuZGF0YS5sZW5ndGgpOwogICAgLy8gICAgICAgY29uc29sZS5sb2coJ2RzdC5jb2xzOiAnLCBkc3QuY29scyk7CiAgICAvLyAgICAgICBjb25zb2xlLmxvZygnZHN0LnJvd3M6ICcsIGRzdC5yb3dzKTsKICAgIC8vICAgICAgIGxldCBvcmlnaW5hbEltZzggPSB0aGlzLkJpdDE2VG84X1N0cmV0Y2goZHN0LCBCLCBXKTsKICAgIC8vICAgICAgIGRzdC5kZWxldGUoKTsKICAgIC8vICAgICAgIHRoaXMucHJvZ3Jlc3NWYWx1ZSA9IDgwOwogICAgLy8gICAgICAgY29uc3QgQml0MTZUbzhfU3RyZXRjaEVuZFRpbWUgPSBuZXcgRGF0ZSgpOyAvLyBCaXQxNlRvOF9TdHJldGNoIOe7k+adn+aXtumXtAogICAgLy8gICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ2FwdHVyZVRlc3RUaW1lIHwgQml0MTZUbzhfU3RyZXRjaCB0aW1lOiAnICsgKEJpdDE2VG84X1N0cmV0Y2hFbmRUaW1lLmdldFRpbWUoKSAtIEdldEF1dG9TdHJldGNoRW5kVGltZS5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAvLyAgICAgICAvLyBsZXQgdGFyZ2V0SW1nOCA9IHRoaXMuSW1hZ2VTb2Z0QVdCKG9yaWdpbmFsSW1nOCwgZ2FpblIsIGdhaW5CLCBvZmZzZXQpOwogICAgLy8gICAgICAgLy8gY29uc3QgSW1hZ2VTb2Z0QVdCRW5kVGltZSA9IG5ldyBEYXRlKCk7IC8vIEltYWdlU29mdEFXQiDnu5PmnZ/ml7bpl7QKICAgIC8vICAgICAgIC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0NhcHR1cmVUZXN0VGltZSB8IEltYWdlU29mdEFXQiB0aW1lOiAnICsgKEltYWdlU29mdEFXQkVuZFRpbWUuZ2V0VGltZSgpIC0gQml0MTZUbzhfU3RyZXRjaEVuZFRpbWUuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gICAgICAgLy8gb3JpZ2luYWxJbWc4LmRlbGV0ZSgpOwogICAgLy8gICAgICAgdGhpcy5sYXN0SW1hZ2VQcm9jZXNzUGFyYW1zID0gewogICAgLy8gICAgICAgICBnYWluUjogZ2FpblIsCiAgICAvLyAgICAgICAgIGdhaW5COiBnYWluQiwKICAgIC8vICAgICAgICAgb2Zmc2V0OiBvZmZzZXQsCiAgICAvLyAgICAgICAgIENGQTogQ0ZBLAogICAgLy8gICAgICAgICBtb2RlOiBtb2RlLAogICAgLy8gICAgICAgICBCOiBCLAogICAgLy8gICAgICAgICBXOiBXLAogICAgLy8gICAgICAgICBjdm1vZGU6IGN2bW9kZSwKICAgIC8vICAgICAgIH07CiAgICAvLyAgICAgICBtb2RpZmllZENhbnZhcy53aWR0aCA9IHRoaXMuQ2FudmFzV2lkdGg7CiAgICAvLyAgICAgICBtb2RpZmllZENhbnZhcy5oZWlnaHQgPSB0aGlzLkNhbnZhc0hlaWdodDsKICAgIC8vICAgICAgIGxldCBjb2xvckRhdGEgPSBuZXcgSW1hZ2VEYXRhKG5ldyBVaW50OENsYW1wZWRBcnJheShvcmlnaW5hbEltZzguZGF0YSksIG9yaWdpbmFsSW1nOC5jb2xzLCBvcmlnaW5hbEltZzgucm93cyk7CiAgICAvLyAgICAgICBvcmlnaW5hbEltZzguZGVsZXRlKCk7CiAgICAvLyAgICAgICB0aGlzLmRyYXdJbWdEYXRhID0gY29sb3JEYXRhOwogICAgLy8gICAgICAgdGhpcy5wcm9ncmVzc1ZhbHVlID0gOTA7CiAgICAvLyAgICAgICAvLyDorr7nva7nvJPlhrLnlLvluIPlrr3pq5gKICAgIC8vICAgICAgIHRoaXMuYnVmZmVyQ2FudmFzLndpZHRoID0gY29sb3JEYXRhLndpZHRoOwogICAgLy8gICAgICAgdGhpcy5idWZmZXJDYW52YXMuaGVpZ2h0ID0gY29sb3JEYXRhLmhlaWdodDsKICAgIC8vICAgICAgIC8vIOe7mOWItue8k+WtmOeUu+W4g+WbvuWDjwogICAgLy8gICAgICAgdGhpcy5idWZmZXJDdHgucHV0SW1hZ2VEYXRhKGNvbG9yRGF0YSwgMCwgMCk7CiAgICAvLyAgICAgICAvLyDnu5jliLbkuLvnlLvluIPlm77lg48KICAgIC8vICAgICAgIHRoaXMuZHJhd0ltYWdlRGF0YSgpOwogICAgLy8gICAgICAgdGhpcy5wcm9ncmVzc1ZhbHVlID0gMTAwOwogICAgLy8gICAgICAgY29uc3QgRHJhd0ltYWdlRGF0YUVuZFRpbWUgPSBuZXcgRGF0ZSgpOyAvLyBEcmF3SW1hZ2VEYXRhIOe7k+adn+aXtumXtAogICAgLy8gICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ2FwdHVyZVRlc3RUaW1lIHwgRHJhd0ltYWdlRGF0YSB0aW1lOiAnICsgKERyYXdJbWFnZURhdGFFbmRUaW1lLmdldFRpbWUoKSAtIEJpdDE2VG84X1N0cmV0Y2hFbmRUaW1lLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKICAgIC8vICAgICAgIGNvbnN0IGVuZFRpbWUgPSBuZXcgRGF0ZSgpOwogICAgLy8gICAgICAgY29uc3QgZWxhcHNlZFRpbWUgPSBlbmRUaW1lLmdldFRpbWUoKSAtIHN0YXJ0VGltZS5nZXRUaW1lKCk7CiAgICAvLyAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdDYXB0dXJlVGVzdFRpbWUgfCBQcm9jZXNzIGltYWdlIGRhdGEgZW5kOicgKyBlbGFwc2VkVGltZSArICcgbWlsbGlzZWNvbmRzJywgJ2luZm8nKTsKICAgIC8vICAgICAgIGNvbnN0IHRvdGFsRW5kVGltZSA9IG5ldyBEYXRlKCk7IC8vIOaAu+e7k+adn+aXtumXtAogICAgLy8gICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnQ2FwdHVyZVRlc3RUaW1lIHwgVG90YWwgcHJvY2VzcyBpbWFnZSBkYXRhIHRpbWU6ICcgKyAodG90YWxFbmRUaW1lLmdldFRpbWUoKSAtIHRvdGFsU3RhcnRUaW1lLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKICAgIC8vICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2hvd0NhcHR1cmVJbWFnZScpOwogICAgLy8gICAgICAgdGhpcy5NYWtlSGlzdG9ncmFtKGNvbG9yRGF0YSk7CiAgICAvLyAgICAgICB0aGlzLmhpc3RvZ3JhbUltYWdlID0gY29sb3JEYXRhOwogICAgLy8gICAgICAgY29uc3QgY2hlY2tEZXRlY3RlZFN0YXJzRmluaXNoID0gKCkgPT4gewogICAgLy8gICAgICAgICBpZiAodGhpcy5EZXRlY3RlZFN0YXJzRmluaXNoKSB7CiAgICAvLyAgICAgICAgICAgdGhpcy5kZXRlY3RTdGFyc0ltZyA9IHRoaXMuRHJhd0RldGVjdFN0YXJzKHRhcmdldEltZzgsIHRoaXMuRGV0ZWN0ZWRTdGFyc0xpc3QpOwogICAgLy8gICAgICAgICAgIHRhcmdldEltZzguZGVsZXRlKCk7CiAgICAvLyAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTsKICAgIC8vICAgICAgICAgfQogICAgLy8gICAgICAgfTsKICAgIC8vICAgICAgIGNvbnN0IGludGVydmFsSWQgPSBzZXRJbnRlcnZhbChjaGVja0RldGVjdGVkU3RhcnNGaW5pc2gsIDEwMDApOwogICAgLy8gICAgIH0KICAgIC8vICAgICAvLyBpZiAodGhpcy5pc05vdERyYXdTdGFycykgewogICAgLy8gICAgIC8vICAgdGhpcy5kcmF3SW1hZ2VEYXRhKHRoaXMuZHJhd0ltZ0RhdGEpOwogICAgLy8gICAgIC8vIH0gZWxzZSB7CiAgICAvLyAgICAgLy8gICBpZiAodGhpcy5kZXRlY3RTdGFyc0ltZyAhPSBudWxsKSB7CiAgICAvLyAgICAgLy8gICAgIHRoaXMuZHJhd0ltYWdlRGF0YSh0aGlzLmRldGVjdFN0YXJzSW1nKTsKICAgIC8vICAgICAvLyAgIH0gZWxzZSB7CiAgICAvLyAgICAgLy8gICAgIHRoaXMuZHJhd0ltYWdlRGF0YSh0aGlzLmRyYXdJbWdEYXRhKTsKICAgIC8vICAgICAvLyAgIH0KICAgIC8vICAgICAvLyB9CiAgICAvLyAgICAgLy8gY29uc3Qgd2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsKICAgIC8vICAgICAvLyBjb25zdCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7CiAgICAvLyAgICAgLy8gY29uc3QgbWluVHJhbnNsYXRlWCA9IHRoaXMuaW1hZ2VXaWR0aCAtIHRoaXMuQ2FudmFzV2lkdGg7CiAgICAvLyAgICAgLy8gY29uc3QgbWluVHJhbnNsYXRlWSA9IHRoaXMuaW1hZ2VIZWlnaHQgLSB0aGlzLkNhbnZhc0hlaWdodDsKICAgIC8vICAgICAvLyDorqHnrpfliJ3lp4vnmoQgU2NhbGVJbWFnZVNpemVfWCDlkowgU2NhbGVJbWFnZVNpemVfWQogICAgLy8gICAgIC8vIHRoaXMuU2NhbGVJbWFnZVNpemVfWCA9IE1hdGguZmxvb3IobWluVHJhbnNsYXRlWCAvIHRoaXMuQ2FudmFzV2lkdGggKiB3aW5kb3dXaWR0aCArIHdpbmRvd1dpZHRoKTsKICAgIC8vICAgICAvLyB0aGlzLlNjYWxlSW1hZ2VTaXplX1kgPSBNYXRoLmZsb29yKG1pblRyYW5zbGF0ZVkgLyB0aGlzLkNhbnZhc0hlaWdodCAqIHdpbmRvd0hlaWdodCArIHdpbmRvd0hlaWdodCk7CiAgICAvLyAgICAgLy8gdGhpcy4kYnVzLiRlbWl0KCdTY2FsZUltYWdlU2l6ZScsIHRoaXMuU2NhbGVJbWFnZVNpemVfWCwgdGhpcy5TY2FsZUltYWdlU2l6ZV9ZKTsKICAgIC8vICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIC8vICAgICB0aGlzLmhhbmRsZUVycm9yKCdQcm9jZXNzIGltYWdlIGRhdGEgZXJyb3InLCAncHJvY2Vzc0ltYWdlJywgZXJyb3IpOwogICAgLy8gICAgIGlmIChtYXQpIHsKICAgIC8vICAgICAgIG1hdC5kZWxldGUoKTsKICAgIC8vICAgICB9CiAgICAvLyAgICAgaWYgKHJlc2l6ZUltZykgewogICAgLy8gICAgICAgcmVzaXplSW1nLmRlbGV0ZSgpOwogICAgLy8gICAgIH0KICAgIC8vICAgICBpZiAob3JpZ2luYWxJbWc4KSB7CiAgICAvLyAgICAgICBvcmlnaW5hbEltZzguZGVsZXRlKCk7CiAgICAvLyAgICAgfQogICAgLy8gICAgIGlmICh0YXJnZXRJbWc4KSB7CiAgICAvLyAgICAgICB0YXJnZXRJbWc4LmRlbGV0ZSgpOwogICAgLy8gICAgIH0KICAgIC8vICAgfQogICAgLy8gfSwKICAgIC8vIGhpc3RvZ3JhbVN0cmV0Y2goaW1hZ2VEYXRhLCBtaW4sIG1heCkgewogICAgLy8gICBjb25zdCBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpOwogICAgLy8gICAvLyBDb252ZXJ0IEltYWdlRGF0YSB0byBjdi5NYXQKICAgIC8vICAgY29uc3QgaW1hZ2UgPSBjdi5tYXRGcm9tSW1hZ2VEYXRhKGltYWdlRGF0YSk7CiAgICAvLyAgIGxldCBUaW1lMSA9IG5ldyBEYXRlKCk7CiAgICAvLyAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2hpc3RvZ3JhbVN0cmV0Y2ggfCDovazmjaLlm77lg4/mlbDmja7ml7bpl7Q6ICcgKyAoVGltZTEuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKICAgIC8vICAgLy8gUGVyZm9ybSB0aGUgaGlzdG9ncmFtIHN0cmV0Y2gKICAgIC8vICAgY29uc3QgY2hhbm5lbHMgPSBuZXcgY3YuTWF0VmVjdG9yKCk7CiAgICAvLyAgIGN2LnNwbGl0KGltYWdlLCBjaGFubmVscyk7IC8vIFNwbGl0IGNoYW5uZWxzIChCR1IpIGludG8gc2VwYXJhdGUgTWF0IG9iamVjdHMKICAgIC8vICAgbGV0IFRpbWUyID0gbmV3IERhdGUoKTsKICAgIC8vICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnaGlzdG9ncmFtU3RyZXRjaCB8IOWIhuWJsumAmumBk+aXtumXtDogJyArIChUaW1lMi5nZXRUaW1lKCkgLSBUaW1lMS5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAvLyAgIC8vIENhbGN1bGF0ZSBhbHBoYSBhbmQgYmV0YSBmb3IgZWFjaCBjaGFubmVsCiAgICAvLyAgIGxldCBhbHBoYSA9IDI1NS4wIC8gKG1heCAtIG1pbik7CiAgICAvLyAgIGxldCBiZXRhID0gLW1pbiAqIGFscGhhOwogICAgLy8gICBpZiAoYWxwaGEgPCAwKSB7CiAgICAvLyAgICAgYWxwaGEgPSAwOwogICAgLy8gICAgIGJldGEgPSAwOwogICAgLy8gICB9IGVsc2UgaWYgKGFscGhhID4gMjU1KSB7CiAgICAvLyAgICAgYWxwaGEgPSAyNTU7CiAgICAvLyAgICAgYmV0YSA9IDA7CiAgICAvLyAgIH0KICAgIC8vICAgVGltZTEgPSBuZXcgRGF0ZSgpOwogICAgLy8gICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdoaXN0b2dyYW1TdHJldGNoIHwg6K6h566XYWxwaGHlkoxiZXRh5pe26Ze0OiAnICsgKFRpbWUxLmdldFRpbWUoKSAtIFRpbWUyLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKICAgIC8vICAgLy8gSXRlcmF0ZSBvdmVyIGVhY2ggY2hhbm5lbCBhbmQgYXBwbHkgaGlzdG9ncmFtIHN0cmV0Y2hpbmcKICAgIC8vICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFubmVscy5zaXplKCk7IGkrKykgewogICAgLy8gICAgIGxldCBjaGFubmVsID0gY2hhbm5lbHMuZ2V0KGkpOwogICAgLy8gICAgIC8vIEFwcGx5IGhpc3RvZ3JhbSBzdHJldGNoaW5nIHRvIHRoZSBjaGFubmVsCiAgICAvLyAgICAgY2hhbm5lbC5jb252ZXJ0VG8oY2hhbm5lbCwgLTEsIGFscGhhLCBiZXRhKTsKICAgIC8vICAgICAvLyBSZWxlYXNlIHRoZSBtZW1vcnkgb2YgY2hhbm5lbAogICAgLy8gICAgIGNoYW5uZWwuZGVsZXRlKCk7CiAgICAvLyAgIH0KICAgIC8vICAgVGltZTIgPSBuZXcgRGF0ZSgpOwogICAgLy8gICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdoaXN0b2dyYW1TdHJldGNoIHwg5ZCE6YCa6YGT5ouJ5Ly45pe26Ze0OiAnICsgKFRpbWUyLmdldFRpbWUoKSAtIFRpbWUxLmdldFRpbWUoKSkgKyAnIG1zJywgJ2luZm8nKTsKICAgIC8vICAgLy8gTWVyZ2UgdGhlIGNoYW5uZWxzIGJhY2sgaW50byBhIHNpbmdsZSBpbWFnZQogICAgLy8gICBjb25zdCBzdHJldGNoSW1hZ2UgPSBuZXcgY3YuTWF0KCk7CiAgICAvLyAgIGN2Lm1lcmdlKGNoYW5uZWxzLCBzdHJldGNoSW1hZ2UpOwogICAgLy8gICBUaW1lMSA9IG5ldyBEYXRlKCk7CiAgICAvLyAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2hpc3RvZ3JhbVN0cmV0Y2ggfCDlkIjlubbpgJrpgZPml7bpl7Q6ICcgKyAoVGltZTEuZ2V0VGltZSgpIC0gVGltZTIuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gICAvLyBSZWxlYXNlIHRoZSBtZW1vcnkgb2YgY2hhbm5lbHMgYW5kIE1hdFZlY3RvcgogICAgLy8gICBjaGFubmVscy5kZWxldGUoKTsKICAgIC8vICAgLy8gQ29udmVydCBjdi5NYXQgYmFjayB0byBJbWFnZURhdGEKICAgIC8vICAgY29uc3Qgc3RyZXRjaGVkSW1hZ2VEYXRhID0gbmV3IEltYWdlRGF0YShuZXcgVWludDhDbGFtcGVkQXJyYXkoc3RyZXRjaEltYWdlLmRhdGEpLCBzdHJldGNoSW1hZ2UuY29scywgc3RyZXRjaEltYWdlLnJvd3MpOwogICAgLy8gICBUaW1lMiA9IG5ldyBEYXRlKCk7CiAgICAvLyAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2hpc3RvZ3JhbVN0cmV0Y2ggfCDovazmjaLlm77lg4/mlbDmja7ml7bpl7Q6ICcgKyAoVGltZTIuZ2V0VGltZSgpIC0gVGltZTEuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gICAvLyBDbGVhbiB1cAogICAgLy8gICBpbWFnZS5kZWxldGUoKTsKICAgIC8vICAgc3RyZXRjaEltYWdlLmRlbGV0ZSgpOwogICAgLy8gICBUaW1lMSA9IG5ldyBEYXRlKCk7CiAgICAvLyAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2hpc3RvZ3JhbVN0cmV0Y2ggfCDph4rmlL7lhoXlrZjml7bpl7Q6ICcgKyAoVGltZTEuZ2V0VGltZSgpIC0gVGltZTIuZ2V0VGltZSgpKSArICcgbXMnLCAnaW5mbycpOwogICAgLy8gICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdoaXN0b2dyYW1TdHJldGNoIHwg5oC75pe26Ze0OiAnICsgKFRpbWUxLmdldFRpbWUoKSAtIHN0YXJ0VGltZS5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAvLyAgIHJldHVybiBzdHJldGNoZWRJbWFnZURhdGE7CiAgICAvLyB9LAogICAgaGlzdG9ncmFtU3RyZXRjaDogZnVuY3Rpb24gaGlzdG9ncmFtU3RyZXRjaChpbWFnZURhdGEsIG1pbiwgbWF4KSB7CiAgICAgIGlmIChtYXggPCBtaW4pIHsKICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdoaXN0b2dyYW1TdHJldGNoIHwgbWF4IDwgbWluLCByZXR1cm4gb3JpZ2luYWwgaW1hZ2VEYXRhJywgJ3dhcm5pbmcnKTsKICAgICAgICBtYXggPSBtaW47CiAgICAgIH0KCiAgICAgIHZhciBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpOyAvLyBDYWxjdWxhdGUgYWxwaGEgYW5kIGJldGEKCiAgICAgIHZhciBhbHBoYSA9IDI1NS4wIC8gKG1heCAtIG1pbik7CiAgICAgIHZhciBiZXRhID0gLW1pbiAqIGFscGhhOwoKICAgICAgaWYgKGFscGhhIDwgMCkgewogICAgICAgIGFscGhhID0gMDsKICAgICAgICBiZXRhID0gMDsKICAgICAgfSBlbHNlIGlmIChhbHBoYSA+IDI1NSkgewogICAgICAgIGFscGhhID0gMjU1OwogICAgICAgIGJldGEgPSAwOwogICAgICB9IC8vIEFwcGx5IGhpc3RvZ3JhbSBzdHJldGNoaW5nIGRpcmVjdGx5IG9uIEltYWdlRGF0YQoKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VEYXRhLmRhdGEubGVuZ3RoOyBpICs9IDQpIHsKICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDM7IGorKykgewogICAgICAgICAgLy8gRm9yIGVhY2ggY29sb3IgY2hhbm5lbAogICAgICAgICAgdmFyIHZhbHVlID0gaW1hZ2VEYXRhLmRhdGFbaSArIGpdOwogICAgICAgICAgdmFsdWUgPSB2YWx1ZSAqIGFscGhhICsgYmV0YTsKICAgICAgICAgIGltYWdlRGF0YS5kYXRhW2kgKyBqXSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgdmFsdWUpKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciBlbmRUaW1lID0gbmV3IERhdGUoKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnaGlzdG9ncmFtU3RyZXRjaCB8IOaAu+aXtumXtDogJyArIChlbmRUaW1lLmdldFRpbWUoKSAtIHN0YXJ0VGltZS5nZXRUaW1lKCkpICsgJyBtcycsICdpbmZvJyk7CiAgICAgIHJldHVybiBpbWFnZURhdGE7CiAgICB9LAogICAgbG9jYWxXaGl0ZUJhbGFuY2VBZGp1c3RtZW50OiBmdW5jdGlvbiBsb2NhbFdoaXRlQmFsYW5jZUFkanVzdG1lbnQoaW1hZ2VEYXRhLCBnYWluUiwgZ2FpbkIsIG9mZnNldCkgewogICAgICAvLyDliIbnprvpgJrpgZMKICAgICAgdmFyIHZhbHVlOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbWFnZURhdGEuZGF0YS5sZW5ndGg7IGkgKz0gNCkgewogICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMzsgaisrKSB7CiAgICAgICAgICAvLyBGb3IgZWFjaCBjb2xvciBjaGFubmVsCiAgICAgICAgICBpZiAoaiA9PSAwKSB7CiAgICAgICAgICAgIHZhbHVlID0gaW1hZ2VEYXRhLmRhdGFbaSArIGpdOwogICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICogZ2FpbkIgKyBvZmZzZXQ7CiAgICAgICAgICB9IGVsc2UgaWYgKGogPT0gMikgewogICAgICAgICAgICB2YWx1ZSA9IGltYWdlRGF0YS5kYXRhW2kgKyBqXTsKICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAqIGdhaW5SICsgb2Zmc2V0OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFsdWUgPSBpbWFnZURhdGEuZGF0YVtpICsgal07CiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgKiAxICsgb2Zmc2V0OwogICAgICAgICAgfQoKICAgICAgICAgIGltYWdlRGF0YS5kYXRhW2kgKyBqXSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgdmFsdWUpKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbWFnZURhdGE7CiAgICB9LAogICAgaW5pdENhbnZhczogZnVuY3Rpb24gaW5pdENhbnZhcygpIHsKICAgICAgdGhpcy5idWZmZXJDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsKICAgICAgdGhpcy5idWZmZXJDdHggPSB0aGlzLmJ1ZmZlckNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICB0aGlzLnRlbXBDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsKICAgICAgdGhpcy50ZW1wQ3R4ID0gdGhpcy50ZW1wQ2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICB9LAogICAgLy8qLyovKi8qLyovKi8qLyovKi8qLyovCiAgICBTd2l0Y2hJbWFnZVRvU2hvdzogZnVuY3Rpb24gU3dpdGNoSW1hZ2VUb1Nob3coaXNPcmlnaW5hbCkgewogICAgICAvLyBjb25zb2xlLmxvZygnU2hvdyBPcmlnaW5hbCBJbWFnZTogJywgaXNPcmlnaW5hbCk7CiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1Nob3cgT3JpZ2luYWwgSW1hZ2U6JyArIGlzT3JpZ2luYWwsICdpbmZvJyk7CiAgICAgIHRoaXMuaXNOb3REcmF3U3RhcnMgPSBpc09yaWdpbmFsOwoKICAgICAgaWYgKGlzT3JpZ2luYWwpIHsKICAgICAgICAvLyBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlVG91Y2hPck1vdXNlRG93bik7CiAgICAgICAgdGhpcy5lbmFibGVNYWluQ2FudmFzQ2xpY2sgPSBmYWxzZTsKICAgICAgICB0aGlzLmRyYXdJbWFnZURhdGEoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlVG91Y2hPck1vdXNlRG93bik7CiAgICAgICAgdGhpcy5lbmFibGVNYWluQ2FudmFzQ2xpY2sgPSB0cnVlOyAvLyB0aGlzLmRyYXdJbWFnZURhdGEodGhpcy5kZXRlY3RTdGFyc0ltZyk7CiAgICAgIH0KICAgIH0sCiAgICBkcmF3SW1hZ2VEYXRhOiBmdW5jdGlvbiBkcmF3SW1hZ2VEYXRhKCkgewogICAgICBpZiAodGhpcy5idWZmZXJDYW52YXMgPT0gbnVsbCkgewogICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ2RyYXdJbWFnZURhdGEgZXJyb3I6IGJ1ZmZlckNhbnZhcyBpcyBudWxsIG9yIHVuZGVmaW5lZC4nLCAnZXJyb3InKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5kcmF3SW1nRGF0YSkgcmV0dXJuOyAvLyDlj6/nlKjnm7jlhbPlj4LmlbAKICAgICAgLy8gd2luZG93LmlubmVyV2lkdGg7IC8vIOeql+WPo+WuveW6pgogICAgICAvLyB3aW5kb3cuaW5uZXJIZWlnaHQ7IC8vIOeql+WPo+mrmOW6pgogICAgICAvLyB0aGlzLnNjYWxlIOe8qeaUvuavlOS+iwogICAgICAvLyB0aGlzLnRyYW5zbGF0ZVgg5bmz56e7eOWdkOaghwogICAgICAvLyB0aGlzLnRyYW5zbGF0ZVkg5bmz56e7eeWdkOaghwogICAgICAvLyB0aGlzLkNhbnZhc1dpZHRoIOS4u+eUu+W4g+WuveW6piAxOTIwCiAgICAgIC8vIHRoaXMuQ2FudmFzSGVpZ2h0IOS4u+eUu+W4g+mrmOW6piAxMDgwCiAgICAgIC8vIHRoaXMubWFpbkNhbWVyYVNpemVYIOWOn+Wni+WbvuWDj+WuveW6pgogICAgICAvLyB0aGlzLm1haW5DYW1lcmFTaXplWSDljp/lp4vlm77lg4/pq5jluqYKICAgICAgLy8gdGhpcy5idWZmZXJDYW52YXMud2lkdGgg57yT5Yay55S75biD5a695bqmCiAgICAgIC8vIHRoaXMuYnVmZmVyQ2FudmFzLmhlaWdodCDnvJPlhrLnlLvluIPpq5jluqYKICAgICAgLy8gdGhpcy5JbWFnZVByb3BvcnRpb24g5Zu+5YOP5q+U5L6LCiAgICAgIC8vIHRoaXMuUk9JX3ggUk9J55qEeOWdkOaghwogICAgICAvLyB0aGlzLlJPSV95IFJPSeeahHnlnZDmoIcKICAgICAgLy8gdGhpcy5ST0lfbGVuZ3RoIFJPSeeahOmVv+W6pgogICAgICAvLyBjb25zb2xlLmxvZygn5b2T5YmN55S75biD5Y+C5pWwOlxuIGJ1ZmZlckNhbnZhcy53aWR0aDogJywgdGhpcy5idWZmZXJDYW52YXMud2lkdGgsICdcbiBidWZmZXJDYW52YXMuaGVpZ2h0OiAnLCB0aGlzLmJ1ZmZlckNhbnZhcy5oZWlnaHQsICdcbiBJbWFnZVByb3BvcnRpb246ICcsIHRoaXMuSW1hZ2VQcm9wb3J0aW9uLCAnXG4gc2NhbGU6ICcsIHRoaXMuc2NhbGUsICdcbiB2aXNpYmxlWDogJywgdGhpcy52aXNpYmxlWCwgJ1xuIHZpc2libGVZOiAnLCB0aGlzLnZpc2libGVZLCAnXG4gdmlzaWJsZVdpZHRoOiAnLCB0aGlzLnZpc2libGVXaWR0aCwgJ1xuIHZpc2libGVIZWlnaHQ6ICcsIHRoaXMudmlzaWJsZUhlaWdodCwgJ1xuIFJPSV94OiAnLCB0aGlzLlJPSV94LCAnXG4gUk9JX3k6ICcsIHRoaXMuUk9JX3ksICdcbiBST0lfbGVuZ3RoOiAnLCB0aGlzLlJPSV9sZW5ndGgpOwogICAgICAvLyDorqHnrpflj6/op4HljLrln58KCiAgICAgIHZhciBuZXdWaXNpYmxlV2lkdGggPSB0aGlzLmJ1ZmZlckNhbnZhcy53aWR0aCAqIHRoaXMuc2NhbGU7CiAgICAgIHZhciBuZXdWaXNpYmxlSGVpZ2h0ID0gbmV3VmlzaWJsZVdpZHRoIC8gdGhpcy5JbWFnZVByb3BvcnRpb247IC8vIOiuoeeul+WPr+ingeWMuuWfn3jlnZDmoIcKCiAgICAgIHZhciBuZXdWaXNpYmxlWCA9IHRoaXMudmlzaWJsZVg7IC8vIOiuoeeul+WPr+ingeWMuuWfn3nlnZDmoIcKCiAgICAgIHZhciBuZXdWaXNpYmxlWSA9IHRoaXMudmlzaWJsZVk7IC8vIOmBv+WFjeWbvuWDj+i2iueVjAoKICAgICAgaWYgKG5ld1Zpc2libGVYIC0gbmV3VmlzaWJsZVdpZHRoIC8gMiA8IDApIHsKICAgICAgICBuZXdWaXNpYmxlWCA9IG5ld1Zpc2libGVXaWR0aCAvIDI7CiAgICAgIH0gZWxzZSBpZiAobmV3VmlzaWJsZVggKyBuZXdWaXNpYmxlV2lkdGggLyAyID4gdGhpcy5idWZmZXJDYW52YXMud2lkdGgpIHsKICAgICAgICBuZXdWaXNpYmxlWCA9IHRoaXMuYnVmZmVyQ2FudmFzLndpZHRoIC0gbmV3VmlzaWJsZVdpZHRoIC8gMjsKICAgICAgfQoKICAgICAgaWYgKG5ld1Zpc2libGVZIC0gbmV3VmlzaWJsZUhlaWdodCAvIDIgPCAwKSB7CiAgICAgICAgbmV3VmlzaWJsZVkgPSBuZXdWaXNpYmxlSGVpZ2h0IC8gMjsKICAgICAgfSBlbHNlIGlmIChuZXdWaXNpYmxlWSArIG5ld1Zpc2libGVIZWlnaHQgLyAyID4gdGhpcy5idWZmZXJDYW52YXMuaGVpZ2h0KSB7CiAgICAgICAgbmV3VmlzaWJsZVkgPSB0aGlzLmJ1ZmZlckNhbnZhcy5oZWlnaHQgLSBuZXdWaXNpYmxlSGVpZ2h0IC8gMjsKICAgICAgfSAvLyDmm7TmlrBST0nljLrln58KICAgICAgLy8g6K6h566X5Y+v6KeB5Yy65Z+f55qE6L6555WMCgoKICAgICAgdmFyIHZpc2libGVMZWZ0ID0gbmV3VmlzaWJsZVggLSBuZXdWaXNpYmxlV2lkdGggLyAyOwogICAgICB2YXIgdmlzaWJsZVJpZ2h0ID0gbmV3VmlzaWJsZVggKyBuZXdWaXNpYmxlV2lkdGggLyAyOwogICAgICB2YXIgdmlzaWJsZVRvcCA9IG5ld1Zpc2libGVZIC0gbmV3VmlzaWJsZUhlaWdodCAvIDI7CiAgICAgIHZhciB2aXNpYmxlQm90dG9tID0gbmV3VmlzaWJsZVkgKyBuZXdWaXNpYmxlSGVpZ2h0IC8gMjsgLy8g6K6h566XIFJPSSDljLrln5/nmoTovrnnlYwKCiAgICAgIHZhciByb2lMZWZ0ID0gdGhpcy5ST0lfeDsKICAgICAgdmFyIHJvaVJpZ2h0ID0gdGhpcy5ST0lfeCArIHRoaXMuUk9JX2xlbmd0aDsKICAgICAgdmFyIHJvaVRvcCA9IHRoaXMuUk9JX3k7CiAgICAgIHZhciByb2lCb3R0b20gPSB0aGlzLlJPSV95ICsgdGhpcy5ST0lfbGVuZ3RoOyAvLyDliKTmlq0gUk9JIOWMuuWfn+aYr+WQpuWcqOWPr+ingeWMuuWfn+WGhQoKICAgICAgdmFyIGlzUm9pSW5WaXNpYmxlID0gcm9pUmlnaHQgPj0gdmlzaWJsZUxlZnQgJiYgcm9pTGVmdCA8PSB2aXNpYmxlUmlnaHQgJiYgcm9pQm90dG9tID49IHZpc2libGVUb3AgJiYgcm9pVG9wIDw9IHZpc2libGVCb3R0b207IC8vIOiuoeeulyBST0kg5Yy65Z+f5Zyo5bGP5bmV5LiK55qE5L2N572u77yM5Lit5b+D54K55Z2Q5qCHCgogICAgICB2YXIgcm9pU2NyZWVuWCA9ICh0aGlzLlJPSV94IC0gdmlzaWJsZUxlZnQpICogKHdpbmRvdy5pbm5lcldpZHRoIC8gbmV3VmlzaWJsZVdpZHRoKSArIHRoaXMuUmVkQm94U2lkZUxlbmd0aCAqIHdpbmRvdy5pbm5lcldpZHRoIC8gbmV3VmlzaWJsZVdpZHRoIC8gMjsKICAgICAgdmFyIHJvaVNjcmVlblkgPSAodGhpcy5ST0lfeSAtIHZpc2libGVUb3ApICogKHdpbmRvdy5pbm5lckhlaWdodCAvIG5ld1Zpc2libGVIZWlnaHQpICsgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoICogd2luZG93LmlubmVySGVpZ2h0IC8gbmV3VmlzaWJsZUhlaWdodCAvIDI7IC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1JPSSDljLrln5/lnKjlsY/luZXkuIrnmoTkvY3nva46ICcgKyByb2lTY3JlZW5YICsgJyonICsgcm9pU2NyZWVuWSArICfplb/luqYgJyArIHRoaXMuUmVkQm94U2lkZUxlbmd0aCAqIHdpbmRvdy5pbm5lcldpZHRoIC8gbmV3VmlzaWJsZVdpZHRoICsgJyonICsgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoICogd2luZG93LmlubmVySGVpZ2h0IC8gbmV3VmlzaWJsZUhlaWdodCwgJ2luZm8nKTsKCiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2V0UmVkQm94TGVuZ3RoJywgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoICogd2luZG93LmlubmVyV2lkdGggLyBuZXdWaXNpYmxlV2lkdGgsIHRoaXMuUmVkQm94U2lkZUxlbmd0aCAqIHdpbmRvdy5pbm5lckhlaWdodCAvIG5ld1Zpc2libGVIZWlnaHQpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ3NldFJlZEJveFBvc2l0aW9uJywgcm9pU2NyZWVuWCwgcm9pU2NyZWVuWSk7CiAgICAgIHZhciBjYW52YXMgPSB0aGlzLiRyZWZzLm1haW5DYW52YXM7CiAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgY2FudmFzLndpZHRoID0gdGhpcy5DYW52YXNXaWR0aDsKICAgICAgY2FudmFzLmhlaWdodCA9IHRoaXMuQ2FudmFzSGVpZ2h0OwogICAgICBjdHguZHJhd0ltYWdlKHRoaXMuYnVmZmVyQ2FudmFzLCB2aXNpYmxlTGVmdCwgdmlzaWJsZVRvcCwgbmV3VmlzaWJsZVdpZHRoLCBuZXdWaXNpYmxlSGVpZ2h0LCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogICAgICB0aGlzLnZpc2libGVYID0gbmV3VmlzaWJsZVg7CiAgICAgIHRoaXMudmlzaWJsZVkgPSBuZXdWaXNpYmxlWTsKICAgICAgdGhpcy52aXNpYmxlV2lkdGggPSBuZXdWaXNpYmxlV2lkdGg7CiAgICAgIHRoaXMudmlzaWJsZUhlaWdodCA9IG5ld1Zpc2libGVIZWlnaHQ7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2V0Q3VycmVudE1haW5DYW52YXNIYXNJbWFnZScsIHRydWUpOyAvLyDlj5HpgIHnu5nnlLXosIPvvIznlKjkuo7liKTmlq3mmK/lkKblj6/ku6Xov5vooYzlvqrnjq/mi43mkYQKICAgICAgLy8g5Y+R6YCB5raI5oGv57uZUVTlrqLmiLfnq6/vvIznlKjkuo7kv6Hmga/lm77moIcKICAgICAgLy8g57uf5LiA5Z2Q5qCH77ya5Y+R6YCB57uZIFFUIOeahCBST0kg5Z2Q5qCH6YeH55So5Lyg5oSf5Zmo5YOP57Sg5Z2Q5qCH77yI5LiN5YaN5oyJIGJpbiDmlL7lpKfvvInvvIzpgb/lhY3lnKjlm57njq/kuK3ooqvph43lpI3kuZjku6UgYmluIOWvvOiHtOaMh+aVsOe6p+WinumVvwoKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdzZW5kVmlzaWJsZUFyZWE6JyArIHRoaXMudmlzaWJsZVggKyAnOicgKyB0aGlzLnZpc2libGVZICsgJzonICsgdGhpcy5zY2FsZSk7IC8vIOWmguaenOmAieaLqeS6huaYn+eCue+8jOWImeagueaNrumAieaLqeS9jee9ru+8jOWcqFJPSeWMuuWfn+S4ree7mOWItuS4gOS4quWchgoKICAgICAgaWYgKHRoaXMuRHJhd1NlbGVjdFN0YXJYICE9IC0xICYmIHRoaXMuRHJhd1NlbGVjdFN0YXJZICE9IC0xICYmIHRoaXMuc2hvd1NlbGVjdFN0YXIpIHsKICAgICAgICB2YXIgcmFkaXVzLCBjYW52YXNTdGFyWCwgY2FudmFzU3RhclksIGNvbG9yOyAvLyDlpoLmnpzmnInmmJ/ngrkKCiAgICAgICAgaWYgKHRoaXMuRHJhd1NlbGVjdFN0YXJIRlIgIT0gLTEpIHsKICAgICAgICAgIHJhZGl1cyA9IHRoaXMuRHJhd1NlbGVjdFN0YXJIRlIgLyB0aGlzLnNjYWxlICogMjsKICAgICAgICAgIGlmIChyYWRpdXMgPD0gMSkgcmFkaXVzID0gMTsKICAgICAgICAgIGNhbnZhc1N0YXJYID0gKHRoaXMuRHJhd1NlbGVjdFN0YXJYIC8gdGhpcy5jYW1lcmFCaW4gKyB0aGlzLlJPSV94IC0gdmlzaWJsZUxlZnQpICogY3R4LmNhbnZhcy53aWR0aCAvIG5ld1Zpc2libGVXaWR0aDsKICAgICAgICAgIGNhbnZhc1N0YXJZID0gKHRoaXMuRHJhd1NlbGVjdFN0YXJZIC8gdGhpcy5jYW1lcmFCaW4gKyB0aGlzLlJPSV95IC0gdmlzaWJsZVRvcCkgKiBjdHguY2FudmFzLmhlaWdodCAvIG5ld1Zpc2libGVIZWlnaHQ7CiAgICAgICAgICBjb2xvciA9ICdncmVlbic7IC8vIOacieaYn+eCue+8jOe7mOWItue7v+iJsueahOWchgogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDlkKbliJnvvIzlnKjpgInmi6nnmoTkvY3nva7nu5jliLbkuIDkuKrlnIYKICAgICAgICAgIHJhZGl1cyA9IDEwIC8gdGhpcy5zY2FsZTsgLy8g5L2g5Y+v5Lul5qC55o2u6ZyA6KaB6LCD5pW06L+Z5Liq5YC8CgogICAgICAgICAgY2FudmFzU3RhclggPSAodGhpcy5EcmF3U2VsZWN0U3RhclggLyB0aGlzLmNhbWVyYUJpbiArIHRoaXMuUk9JX3ggLSB2aXNpYmxlTGVmdCkgKiBjdHguY2FudmFzLndpZHRoIC8gbmV3VmlzaWJsZVdpZHRoOwogICAgICAgICAgY2FudmFzU3RhclkgPSAodGhpcy5EcmF3U2VsZWN0U3RhclkgLyB0aGlzLmNhbWVyYUJpbiArIHRoaXMuUk9JX3kgLSB2aXNpYmxlVG9wKSAqIGN0eC5jYW52YXMuaGVpZ2h0IC8gbmV3VmlzaWJsZUhlaWdodDsKICAgICAgICAgIGNvbG9yID0gJ3JlZCc7IC8vIOaXoOaYn+eCue+8jOe7mOWItue6ouiJsueahOWchgogICAgICAgIH0gLy8g6I635Y+W57uY5Yi25ZyG55qE5L2N572u55qE5Zu+5YOP5pWw5o2uCgoKICAgICAgICB2YXIgaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YShjYW52YXNTdGFyWCAtIHJhZGl1cywgY2FudmFzU3RhclkgLSByYWRpdXMsIDIgKiByYWRpdXMsIDIgKiByYWRpdXMpOyAvLyDlj5HpgIHlm77lg4/mlbDmja7nu5nmmL7npLrmoYYKCiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdzZWxlY3RTdGFySW1hZ2UnLCBpbWFnZURhdGEpOwogICAgICAgIGNvbnNvbGUubG9nKCfnu5jliLbmmJ/ngrnnmoTkvY3nva7lkozlpKflsI86IHggPScsIGNhbnZhc1N0YXJYLCAneSA9JywgY2FudmFzU3RhclksICdyYWRpdXMgPScsIHJhZGl1cyk7IC8vIOWcqOaMh+WumuS9jee9ruW8gOWni+e7mOWItuWchgoKICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgY3R4LmFyYyhjYW52YXNTdGFyWCwgY2FudmFzU3RhclksIHJhZGl1cywgMCwgMiAqIE1hdGguUEkpOwogICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yOwogICAgICAgIGN0eC5saW5lV2lkdGggPSAzOwogICAgICAgIGN0eC5zdHJva2UoKTsKICAgICAgICBjdHguY2xvc2VQYXRoKCk7CiAgICAgIH0KICAgIH0sCiAgICBhZGRFdmVudExpc3RlbmVyczogZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnMoKSB7fSwKICAgIC8vIOiKgua1geWHveaVsAogICAgdGhyb3R0bGU6IGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIGRlbGF5KSB7CiAgICAgIHZhciBsYXN0RXhlY3V0ZWQgPSAwOwogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpOwoKICAgICAgICBpZiAobm93IC0gbGFzdEV4ZWN1dGVkID49IGRlbGF5KSB7CiAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgICAgICAgIH0KCiAgICAgICAgICBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpOwogICAgICAgICAgbGFzdEV4ZWN1dGVkID0gbm93OwogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICBCaXQxNlRvOF9TdHJldGNoOiBmdW5jdGlvbiBCaXQxNlRvOF9TdHJldGNoKGltZzE2LCBCLCBXKSB7CiAgICAgIGNvbnNvbGUubG9nKCdCaXQxNlRvOF9TdHJldGNoIHwgQiA9ICcgKyBCICsgJywgVyA9ICcgKyBXKTsKICAgICAgdmFyIGltZzggPSBuZXcgY3YuTWF0KGltZzE2LnJvd3MsIGltZzE2LmNvbHMsIGN2LkNWXzhVQzQpOwogICAgICBpbWcxNi5jb252ZXJ0VG8oaW1nOCwgY3YuQ1ZfOFUsIDI1NS4wIC8gKFcgLSBCKSwgLUIgKiAyNTUuMCAvIChXIC0gQikpOwogICAgICByZXR1cm4gaW1nODsKICAgIH0sCiAgICBEcmF3RGV0ZWN0U3RhcnM6IGZ1bmN0aW9uIERyYXdEZXRlY3RTdGFycyhpbWFnZSwgU3RhcnMpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coJ0RyYXcgY2lyY2xlIG9uIHRoZSBDYXB0dXJlIEltYWdlKCcsIGltYWdlLmNvbHMsICcsJywgaW1hZ2Uucm93cywgJykuJyk7CgogICAgICBpZiAoIShpbWFnZSBpbnN0YW5jZW9mIGN2Lk1hdCkpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaW1hZ2UgZGF0YScpOwogICAgICB9CgogICAgICBTdGFycy5mb3JFYWNoKGZ1bmN0aW9uIChzdGFyKSB7CiAgICAgICAgdmFyIGNlbnRlclggPSBNYXRoLnJvdW5kKHN0YXIueCAvIChfdGhpczE1Lm1haW5DYW1lcmFTaXplWCAvIGltYWdlLmNvbHMpKTsKICAgICAgICB2YXIgY2VudGVyWSA9IE1hdGgucm91bmQoc3Rhci55IC8gKF90aGlzMTUubWFpbkNhbWVyYVNpemVZIC8gaW1hZ2Uucm93cykpOwogICAgICAgIHZhciByYWRpdXMgPSBNYXRoLnJvdW5kKHN0YXIuaGZyKTsKICAgICAgICBjb25zb2xlLmxvZygnRHJhdyBjaXJjbGUgYXQoJywgY2VudGVyWCwgJywnLCBjZW50ZXJZLCAnKSB3aXRoIHJhZGl1czonLCByYWRpdXMpOwogICAgICAgIHZhciBjZW50ZXIgPSBuZXcgY3YuUG9pbnQoY2VudGVyWCwgY2VudGVyWSk7CiAgICAgICAgdmFyIGNvbG9yID0gbmV3IGN2LlNjYWxhcigyNTUsIDAsIDAsIDI1NSk7CiAgICAgICAgdmFyIHRoaWNrbmVzcyA9IDI7IC8vIOWchuWciOWOmuW6pgoKICAgICAgICBjdi5jaXJjbGUoaW1hZ2UsIGNlbnRlciwgcmFkaXVzLCBjb2xvciwgdGhpY2tuZXNzKTsgLy8g5re75YqgIGhmciDlgLzliLDlnIbnmoTkuIrmlrkKICAgICAgICAvLyDnoa7kv50gc3Rhci5oZnIg5piv5LiA5Liq5pWw5a2XCgogICAgICAgIHZhciBoZnJWYWx1ZSA9IHBhcnNlRmxvYXQoc3Rhci5oZnIpOwoKICAgICAgICBpZiAoaXNOYU4oaGZyVmFsdWUpKSB7CiAgICAgICAgICBoZnJWYWx1ZSA9IDA7IC8vIOWmguaenCBzdGFyLmhmciDkuI3og73ovazmjaLkuLrmlbDlrZfvvIzliJnpu5jorqTlgLzorr7kuLowCiAgICAgICAgfSAvLyDkv53nlZnliLDlsI/mlbDngrnlkI4y5L2NCgoKICAgICAgICB2YXIgdGV4dCA9IGhmclZhbHVlLnRvRml4ZWQoMik7CiAgICAgICAgdmFyIGZvbnRGYWNlID0gY3YuRk9OVF9IRVJTSEVZX1NJTVBMRVg7CiAgICAgICAgdmFyIGZvbnRTY2FsZSA9IDE7CiAgICAgICAgdmFyIHRleHRDb2xvciA9IG5ldyBjdi5TY2FsYXIoMjU1LCAwLCAwLCAyNTUpOwogICAgICAgIHZhciB0ZXh0VGhpY2tuZXNzID0gMjsgLy8g5omL5Yqo6K6+572u5paH5pys55qE5L2N572u77yM5YGH6K6+5a2X5L2T6auY5bqm5aSn57qm5Li6MTDlg4/ntKAKCiAgICAgICAgdmFyIHRleHRYID0gY2VudGVyWCAtIHRleHQubGVuZ3RoICogMTA7IC8vIOS8sOeul+avj+S4quWtl+espuWuveW6puS4ujXlg4/ntKAKCiAgICAgICAgdmFyIHRleHRZID0gY2VudGVyWSAtIHJhZGl1cyAtIDM7IC8vIOWchueahOS4iuaWuSAzIOWDj+e0oAogICAgICAgIC8vIOWcqOWbvuWDj+S4iue7mOWItuaWh+acrAoKICAgICAgICBjdi5wdXRUZXh0KGltYWdlLCB0ZXh0LCBuZXcgY3YuUG9pbnQodGV4dFgsIHRleHRZKSwgZm9udEZhY2UsIGZvbnRTY2FsZSwgdGV4dENvbG9yLCB0ZXh0VGhpY2tuZXNzKTsKICAgICAgfSk7CiAgICAgIHZhciBpbWFnZURhdGEgPSBuZXcgSW1hZ2VEYXRhKG5ldyBVaW50OENsYW1wZWRBcnJheShpbWFnZS5kYXRhKSwgaW1hZ2UuY29scywgaW1hZ2Uucm93cyk7CiAgICAgIHJldHVybiBpbWFnZURhdGE7CiAgICB9LAogICAgRHJhd1BIRDJCb3g6IGZ1bmN0aW9uIERyYXdQSEQyQm94KFBIRDJJbWFnZVNpemVfWCwgUEhEMkltYWdlU2l6ZV9ZLCBCb3hfWCwgQm94X1kpIHsKICAgICAgdmFyIHJhdGlvWm9vbVggPSBQSEQySW1hZ2VTaXplX1ggLyB3aW5kb3cuaW5uZXJXaWR0aDsKICAgICAgdmFyIHJhdGlvWm9vbVkgPSBQSEQySW1hZ2VTaXplX1kgLyB3aW5kb3cuaW5uZXJIZWlnaHQ7CiAgICAgIHZhciBCb3hXaWR0aCA9IDIwIC8gcmF0aW9ab29tWDsKICAgICAgdmFyIEJveEhlaWdodCA9IDIwIC8gcmF0aW9ab29tWTsKICAgICAgdmFyIEJveFN0YXJ0WCA9IEJveF9YIC8gcmF0aW9ab29tWCAtIEJveFdpZHRoIC8gMjsKICAgICAgdmFyIEJveFN0YXJ0WSA9IEJveF9ZIC8gcmF0aW9ab29tWSAtIEJveEhlaWdodCAvIDI7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnUEhEMkJveFBvc2l0aW9uJywgQm94U3RhcnRYLCBCb3hTdGFydFksIEJveFdpZHRoLCBCb3hIZWlnaHQpOwogICAgfSwKICAgIERyYXdQSEQyQ3Jvc3M6IGZ1bmN0aW9uIERyYXdQSEQyQ3Jvc3MoUEhEMkltYWdlU2l6ZV9YLCBQSEQySW1hZ2VTaXplX1ksIENyb3NzX1gsIENyb3NzX1kpIHsKICAgICAgdmFyIHJhdGlvWm9vbVggPSBQSEQySW1hZ2VTaXplX1ggLyB3aW5kb3cuaW5uZXJXaWR0aDsKICAgICAgdmFyIHJhdGlvWm9vbVkgPSBQSEQySW1hZ2VTaXplX1kgLyB3aW5kb3cuaW5uZXJIZWlnaHQ7CiAgICAgIHZhciBDcm9zc1N0YXJ0WCA9IENyb3NzX1ggLyByYXRpb1pvb21YOwogICAgICB2YXIgQ3Jvc3NTdGFydFkgPSBDcm9zc19ZIC8gcmF0aW9ab29tWTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdQSEQyQ3Jvc3NQb3NpdGlvbicsIENyb3NzU3RhcnRYLCBDcm9zc1N0YXJ0WSk7CiAgICB9LAogICAgRHJhd1BIRDJNdWx0aVN0YXJzOiBmdW5jdGlvbiBEcmF3UEhEMk11bHRpU3RhcnMoUEhEMkltYWdlU2l6ZV9YLCBQSEQySW1hZ2VTaXplX1ksIFN0YXJfWCwgU3Rhcl9ZKSB7CiAgICAgIHZhciByYXRpb1pvb21YID0gUEhEMkltYWdlU2l6ZV9YIC8gd2luZG93LmlubmVyV2lkdGg7CiAgICAgIHZhciByYXRpb1pvb21ZID0gUEhEMkltYWdlU2l6ZV9ZIC8gd2luZG93LmlubmVySGVpZ2h0OwogICAgICB2YXIgU3RhclN0YXJ0WCA9IFN0YXJfWCAvIHJhdGlvWm9vbVggLSAxMiAvIDI7CiAgICAgIHZhciBTdGFyU3RhcnRZID0gU3Rhcl9ZIC8gcmF0aW9ab29tWSAtIDEyIC8gMjsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdQSEQyTXVsdGlTdGFyc1Bvc2l0aW9uJywgU3RhclN0YXJ0WCwgU3RhclN0YXJ0WSk7CiAgICB9LAogICAgY2FsY3VsYXRlSGlzdG9ncmFtOiBmdW5jdGlvbiBjYWxjdWxhdGVIaXN0b2dyYW0oaW1hZ2VEYXRhKSB7CiAgICAgIGNvbnNvbGUubG9nKCdRSFlDQ0QgfCBjYWxjdWxhdGVIaXN0b2dyYW0nKTsKICAgICAgdmFyIGhpc3RvZ3JhbSA9IFtBcnJheSgyNTYpLmZpbGwoMCksIC8vIOWtmOWCqOiTneiJsumAmumBk+ebtOaWueWbvgogICAgICBBcnJheSgyNTYpLmZpbGwoMCksIC8vIOWtmOWCqOe7v+iJsumAmumBk+ebtOaWueWbvgogICAgICBBcnJheSgyNTYpLmZpbGwoMCkgLy8g5a2Y5YKo57qi6Imy6YCa6YGT55u05pa55Zu+CiAgICAgIF07IC8vIOWIhuWIq+iuoeeul+S4ieS4qumAmumBk+eahOebtOaWueWbvgoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbWFnZURhdGEuZGF0YS5sZW5ndGg7IGkgKz0gNCkgewogICAgICAgIHZhciByID0gaW1hZ2VEYXRhLmRhdGFbaV07CiAgICAgICAgdmFyIGcgPSBpbWFnZURhdGEuZGF0YVtpICsgMV07CiAgICAgICAgdmFyIGIgPSBpbWFnZURhdGEuZGF0YVtpICsgMl07IC8vIOabtOaWsOavj+S4qumAmumBk+eahOebtOaWueWbvgoKICAgICAgICBoaXN0b2dyYW1bMF1bYl0rKzsKICAgICAgICBoaXN0b2dyYW1bMV1bZ10rKzsKICAgICAgICBoaXN0b2dyYW1bMl1bcl0rKzsKICAgICAgfQoKICAgICAgcmV0dXJuIGhpc3RvZ3JhbTsKICAgIH0sCiAgICBhcHBseUhpc3RTdHJldGNoOiBmdW5jdGlvbiBhcHBseUhpc3RTdHJldGNoKE1pbiwgTWF4KSB7CiAgICAgIHRoaXMuY3VycmVudEhpc3RvZ3JhbU1pbiA9IE1pbjsKICAgICAgdGhpcy5jdXJyZW50SGlzdG9ncmFtTWF4ID0gTWF4OwoKICAgICAgaWYgKHRoaXMuSW1hZ2VBcnJheUJ1ZmZlcikgewogICAgICAgIHRoaXMucHJvY2Vzc0ltYWdlKHRoaXMuSW1hZ2VBcnJheUJ1ZmZlciwgTWluLCBNYXgsIHsKICAgICAgICAgIGNhbGN1bGF0ZUhpc3RvZ3JhbTogZmFsc2UKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdDaGFuZ2VEaWFsUG9zaXRpb24nLCBNaW4sIE1heCk7CiAgICB9LAogICAgY2FsY1doaXRlQmFsYW5jZUdhaW5zOiBmdW5jdGlvbiBjYWxjV2hpdGVCYWxhbmNlR2FpbnMoKSB7CiAgICAgIC8vIGNvbnN0IEdhaW5zID0gdGhpcy5jYWxjdWxhdGVXaGl0ZUJhbGFuY2VHYWlucyh0aGlzLmhpc3RvZ3JhbURhdGEsIHRoaXMuSW1hZ2VPZmZzZXQpOwogICAgICB0aGlzLmNhbGN1bGF0ZUdhaW4gPSB0cnVlOwogICAgICB0aGlzLnByb2Nlc3NJbWFnZSh0aGlzLkltYWdlQXJyYXlCdWZmZXIsIHRoaXMuY3VycmVudEhpc3RvZ3JhbU1pbiwgdGhpcy5jdXJyZW50SGlzdG9ncmFtTWF4LCB7CiAgICAgICAgY2FsY3VsYXRlSGlzdG9ncmFtOiBmYWxzZQogICAgICB9KTsKICAgICAgdGhpcy5JbWFnZUdhaW5SID0gR2FpbnMuR2FpblI7CiAgICAgIHRoaXMuSW1hZ2VHYWluQiA9IEdhaW5zLkdhaW5COwogICAgICB2YXIgR2FpblJJbmRleCA9IHRoaXMuTWFpbkNhbWVyYUNvbmZpZ0l0ZW1zLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmxhYmVsID09PSAnSW1hZ2VHYWluUic7CiAgICAgIH0pOwoKICAgICAgaWYgKEdhaW5SSW5kZXggIT09IC0xKSB7CiAgICAgICAgLy8g56Gu5L+d5om+5Yiw5LqG5a+55bqU55qE6YWN572u6aG5CiAgICAgICAgLy8g5pu05pawIEV4cFRpbWUxIOmFjee9rumhueeahOWAvAogICAgICAgIHRoaXMuTWFpbkNhbWVyYUNvbmZpZ0l0ZW1zW0dhaW5SSW5kZXhdLnZhbHVlID0gdGhpcy5JbWFnZUdhaW5SOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ltYWdlR2FpblIgY29uZmlndXJhdGlvbiBpdGVtIG5vdCBmb3VuZC4nKTsKICAgICAgfQoKICAgICAgdmFyIEdhaW5CSW5kZXggPSB0aGlzLk1haW5DYW1lcmFDb25maWdJdGVtcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5sYWJlbCA9PT0gJ0ltYWdlR2FpbkInOwogICAgICB9KTsKCiAgICAgIGlmIChHYWluQkluZGV4ICE9PSAtMSkgewogICAgICAgIC8vIOehruS/neaJvuWIsOS6huWvueW6lOeahOmFjee9rumhuQogICAgICAgIC8vIOabtOaWsCBFeHBUaW1lMSDphY3nva7pobnnmoTlgLwKICAgICAgICB0aGlzLk1haW5DYW1lcmFDb25maWdJdGVtc1tHYWluQkluZGV4XS52YWx1ZSA9IHRoaXMuSW1hZ2VHYWluQjsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdJbWFnZUdhaW5CIGNvbmZpZ3VyYXRpb24gaXRlbSBub3QgZm91bmQuJyk7CiAgICAgIH0KICAgIH0sCiAgICBjYWxjdWxhdGVXaGl0ZUJhbGFuY2VHYWluczogZnVuY3Rpb24gY2FsY3VsYXRlV2hpdGVCYWxhbmNlR2FpbnMoKSB7CiAgICAgIGlmICghKHRoaXMuT3JpZ2luYWxJbWFnZSBpbnN0YW5jZW9mIEltYWdlRGF0YSkpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaW1hZ2UgZGF0YScpOwogICAgICB9IC8vIOWIm+W7uiBjdi5NYXQg5a+56LGhCgoKICAgICAgdmFyIGltZzggPSBjdi5tYXRGcm9tSW1hZ2VEYXRhKHRoaXMuT3JpZ2luYWxJbWFnZSk7IC8vIOWIhuWJsumAmumBkwoKICAgICAgdmFyIGNoYW5uZWxzID0gbmV3IGN2Lk1hdFZlY3RvcigpOwogICAgICBjdi5zcGxpdChpbWc4LCBjaGFubmVscyk7IC8vIOiOt+WPluWQhOmAmumBkwoKICAgICAgdmFyIGIgPSBjaGFubmVscy5nZXQoMCk7CiAgICAgIHZhciBnID0gY2hhbm5lbHMuZ2V0KDEpOwogICAgICB2YXIgciA9IGNoYW5uZWxzLmdldCgyKTsgLy8g6K6h566X5Lit5L2N5pWwCgogICAgICB2YXIgbWVkaWFuQiA9IG5ldyBjdi5NYXQoKTsKICAgICAgdmFyIG1lZGlhbkcgPSBuZXcgY3YuTWF0KCk7CiAgICAgIHZhciBtZWRpYW5SID0gbmV3IGN2Lk1hdCgpOwogICAgICBjdi5tZWRpYW5CbHVyKGIsIG1lZGlhbkIsIDUpOwogICAgICBjdi5tZWRpYW5CbHVyKGcsIG1lZGlhbkcsIDUpOwogICAgICBjdi5tZWRpYW5CbHVyKHIsIG1lZGlhblIsIDUpOyAvLyDorqHnrpflubPlnYfkuq7luqYKCiAgICAgIHZhciBhdmdCID0gY3YubWVhbihtZWRpYW5CKVswXTsKICAgICAgdmFyIGF2Z0cgPSBjdi5tZWFuKG1lZGlhbkcpWzBdOwogICAgICB2YXIgYXZnUiA9IGN2Lm1lYW4obWVkaWFuUilbMF07IC8vIOiuoeeul+WinuebigoKICAgICAgdmFyIGdhaW5SID0gTWF0aC5taW4oTWF0aC5tYXgoYXZnRyAvIGF2Z1IsIDAuMSksIDMpOwogICAgICB2YXIgZ2FpbkIgPSBNYXRoLm1pbihNYXRoLm1heChhdmdHIC8gYXZnQiwgMC4xKSwgMyk7IC8vIOmHiuaUvuWGheWtmAoKICAgICAgYi5kZWxldGUoKTsKICAgICAgZy5kZWxldGUoKTsKICAgICAgci5kZWxldGUoKTsKICAgICAgbWVkaWFuQi5kZWxldGUoKTsKICAgICAgbWVkaWFuRy5kZWxldGUoKTsKICAgICAgbWVkaWFuUi5kZWxldGUoKTsKICAgICAgY2hhbm5lbHMuZGVsZXRlKCk7CiAgICAgIGltZzguZGVsZXRlKCk7CiAgICAgIHJldHVybiB7CiAgICAgICAgR2FpblI6IGdhaW5SLAogICAgICAgIEdhaW5COiBnYWluQgogICAgICB9OwogICAgfSwKICAgIGxvYWRPcGVuQ3Y6IGZ1bmN0aW9uIGxvYWRPcGVuQ3YoKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgaWYgKHR5cGVvZiBjdiA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgIC8vIOWmguaenCBjdiDmnKrlrprkuYnvvIzlsJ3or5XliqDovb0gT3BlbkNWLmpzCiAgICAgICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7CiAgICAgICAgICBzY3JpcHQuc3JjID0gJy9vcGVuY3YuanMnOyAvLyDkvb/nlKggcHVibGljIOaWh+S7tuWkueS4reeahOi3r+W+hAoKICAgICAgICAgIHNjcmlwdC5hc3luYyA9IHRydWU7CgogICAgICAgICAgc2NyaXB0Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgfTsKCiAgICAgICAgICBzY3JpcHQub25lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgICAgfTsKCiAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIOWmguaenCBjdiDlt7LlrprkuYnvvIznm7TmjqXop6PmnpAKICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uQ3ZSZWFkeTogZnVuY3Rpb24gb25DdlJlYWR5KCkgewogICAgICAvLyBUZXN0IGlmIHNvbWUgb2Ygb3BlbmN2IG1ldGhvZCBjYW4gd29yay4KICAgICAgaWYgKGN2KSB7CiAgICAgICAgY29uc29sZS5sb2coIlFIWUNDRCB8IE9wZW5DVi5qcyBpcyByZWFkeS4iKTsKICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdPcGVuQ1YuanMgaXMgcmVhZHkuJywgJ2luZm8nKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZygiUUhZQ0NEIHwgRmFpbGVkIHRvIGxvYWQgT3BlbkNWLmpzIik7CiAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnRmFpbGVkIHRvIGxvYWQgT3BlbkNWLmpzLicsICdlcnJvcicpOwogICAgICB9CgogICAgICB0aGlzLmN2UmVhZHkgPSB0cnVlOwogICAgfSwKICAgIGxvYWRJbWFnZVRvQ2FudmFzTWFpbkNhbWVyYTogZnVuY3Rpb24gbG9hZEltYWdlVG9DYW52YXNNYWluQ2FtZXJhKCkgewogICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW5DYW1lcmEtY2FudmFzJyk7CiAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7CgogICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8g6I635Y+W6K6+5aSH5YOP57Sg5q+UCiAgICAgICAgdmFyIGRldmljZVBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxOyAvLyDosIPmlbTnlLvluIPlsLrlr7jku6XpgILlupTpq5jmuIXmmL7npLoKCiAgICAgICAgY2FudmFzLndpZHRoID0gaW1hZ2Uud2lkdGggKiBkZXZpY2VQaXhlbFJhdGlvOwogICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWFnZS5oZWlnaHQgKiBkZXZpY2VQaXhlbFJhdGlvOwogICAgICAgIGN0eC5zY2FsZShkZXZpY2VQaXhlbFJhdGlvLCBkZXZpY2VQaXhlbFJhdGlvKTsgLy8g57yp5pS+Y3R45Lul6YCC5bqU6auY5riF55S75biDCiAgICAgICAgLy8g57uY5Yi25Zu+5YOPCgogICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApOwogICAgICB9OwoKICAgICAgaW1hZ2Uuc3JjID0gQmFja2dyb3VuZEltYWdlOwogICAgfSwKICAgIGxvYWRJbWFnZVRvQ2FudmFzR3VpZGVyQ2FtZXJhOiBmdW5jdGlvbiBsb2FkSW1hZ2VUb0NhbnZhc0d1aWRlckNhbWVyYSgpIHsKICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdndWlkZXJDYW1lcmEtY2FudmFzJyk7CiAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7CgogICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8g6I635Y+W6K6+5aSH5YOP57Sg5q+UCiAgICAgICAgdmFyIGRldmljZVBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxOyAvLyDosIPmlbTnlLvluIPlsLrlr7jku6XpgILlupTpq5jmuIXmmL7npLoKCiAgICAgICAgY2FudmFzLndpZHRoID0gaW1hZ2Uud2lkdGggKiBkZXZpY2VQaXhlbFJhdGlvOwogICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWFnZS5oZWlnaHQgKiBkZXZpY2VQaXhlbFJhdGlvOwogICAgICAgIGN0eC5zY2FsZShkZXZpY2VQaXhlbFJhdGlvLCBkZXZpY2VQaXhlbFJhdGlvKTsgLy8g57yp5pS+Y3R45Lul6YCC5bqU6auY5riF55S75biDCiAgICAgICAgLy8g57uY5Yi25Zu+5YOPCgogICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApOwogICAgICB9OwoKICAgICAgaW1hZ2Uuc3JjID0gQmFja2dyb3VuZEltYWdlOwogICAgfSwKICAgIHNob3dHdWlkZXJDYW1lcmFDYW52YXM6IGZ1bmN0aW9uIHNob3dHdWlkZXJDYW1lcmFDYW52YXMoKSB7CiAgICAgIC8vIOWKqOaAgeabtOaWsHotaW5kZXgKICAgICAgdGhpcy5jYW52YXNaSW5kZXhTdGVsID0gLTEwOwogICAgICB0aGlzLmNhbnZhc1pJbmRleE1haW5DYW1lcmEgPSAtMTE7CiAgICAgIHRoaXMuY2FudmFzWkluZGV4R3VpZGVyQ2FtZXJhID0gMDsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdzZXRQYXJzaW5nUHJvZ3Jlc3MnLCBmYWxzZSk7IC8vIHRoaXMuY29udmVydFRvR3JheXNjYWxlKCk7CiAgICB9LAogICAgc2hvd1N0ZWxDYW52YXM6IGZ1bmN0aW9uIHNob3dTdGVsQ2FudmFzKCkgewogICAgICBpZiAodGhpcy5pc1BvbGFyQXhpc01vZGUpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ3NldFBhcnNpbmdQcm9ncmVzcycsIHRydWUpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2V0UGFyc2luZ1Byb2dyZXNzJywgZmFsc2UpOwogICAgICB9CgogICAgICB0aGlzLmNhbnZhc1pJbmRleFN0ZWwgPSAwOwogICAgICB0aGlzLmNhbnZhc1pJbmRleE1haW5DYW1lcmEgPSAtMTA7CiAgICAgIHRoaXMuY2FudmFzWkluZGV4R3VpZGVyQ2FtZXJhID0gLTExOwogICAgfSwKICAgIHNob3dNYWluQ2FtZXJhQ2FudmFzOiBmdW5jdGlvbiBzaG93TWFpbkNhbWVyYUNhbnZhcygpIHsKICAgICAgdGhpcy5jYW52YXNaSW5kZXhTdGVsID0gLTEwOwogICAgICB0aGlzLmNhbnZhc1pJbmRleE1haW5DYW1lcmEgPSAwOwogICAgICB0aGlzLmNhbnZhc1pJbmRleEd1aWRlckNhbWVyYSA9IC0xMTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdzZXRQYXJzaW5nUHJvZ3Jlc3MnLCBmYWxzZSk7CiAgICB9LAogICAgaGFuZGxlQnV0dG9uVGVzdENsaWNrOiBmdW5jdGlvbiBoYW5kbGVCdXR0b25UZXN0Q2xpY2soKSB7CiAgICAgIC8vIHRoaXMuY2hhbmdlT3JkZXIoKTsKICAgICAgaWYgKHRoaXMuY3VycmVudGNhbnZhcyA9PT0gJ1N0ZWwnKSB7CiAgICAgICAgdGhpcy5jdXJyZW50Y2FudmFzID0gJ01haW5DYW1lcmEnOwogICAgICAgIHRoaXMuc2hvd01haW5DYW1lcmFDYW52YXMoKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRjYW52YXMgPT09ICdNYWluQ2FtZXJhJykgewogICAgICAgIHRoaXMuY3VycmVudGNhbnZhcyA9ICdHdWlkZXJDYW1lcmEnOwogICAgICAgIHRoaXMuc2hvd0d1aWRlckNhbWVyYUNhbnZhcygpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuY3VycmVudGNhbnZhcyA9PT0gJ0d1aWRlckNhbWVyYScpIHsKICAgICAgICB0aGlzLmN1cnJlbnRjYW52YXMgPSAnU3RlbCc7CiAgICAgICAgdGhpcy5zaG93U3RlbENhbnZhcygpOwogICAgICB9CiAgICB9LAogICAgZ2V0UGx1Z2luc01lbnVJdGVtczogZnVuY3Rpb24gZ2V0UGx1Z2luc01lbnVJdGVtcygpIHsKICAgICAgdmFyIHJlcyA9IFtdOwoKICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLiRzdGVsbGFyaXVtV2ViUGx1Z2lucygpKSB7CiAgICAgICAgdmFyIHBsdWdpbiA9IHRoaXMuJHN0ZWxsYXJpdW1XZWJQbHVnaW5zKClbaV07CgogICAgICAgIGlmIChwbHVnaW4ubWVudUl0ZW1zKSB7CiAgICAgICAgICByZXMgPSByZXMuY29uY2F0KHBsdWdpbi5tZW51SXRlbXMpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHJlczsKICAgIH0sCiAgICBnZXRQbHVnaW5zTWVudUNvbXBvbmVudHM6IGZ1bmN0aW9uIGdldFBsdWdpbnNNZW51Q29tcG9uZW50cygpIHsKICAgICAgdmFyIHJlcyA9IFtdOwoKICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLiRzdGVsbGFyaXVtV2ViUGx1Z2lucygpKSB7CiAgICAgICAgdmFyIHBsdWdpbiA9IHRoaXMuJHN0ZWxsYXJpdW1XZWJQbHVnaW5zKClbaV07CgogICAgICAgIGlmIChwbHVnaW4ubWVudUNvbXBvbmVudHMpIHsKICAgICAgICAgIHJlcyA9IHJlcy5jb25jYXQocGx1Z2luLm1lbnVDb21wb25lbnRzKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiByZXM7CiAgICB9LAogICAgdG9nZ2xlU3RvcmVWYWx1ZTogZnVuY3Rpb24gdG9nZ2xlU3RvcmVWYWx1ZShzdG9yZVZhck5hbWUpIHsKICAgICAgdGhpcy5uYXYgPSBmYWxzZTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd0b2dnbGVCb29sJywgc3RvcmVWYXJOYW1lKTsKICAgIH0sCiAgICBnZXRTdG9yZVZhbHVlOiBmdW5jdGlvbiBnZXRTdG9yZVZhbHVlKHN0b3JlVmFyTmFtZSkgewogICAgICByZXR1cm4gXy5nZXQodGhpcy4kc3RvcmUuc3RhdGUsIHN0b3JlVmFyTmFtZSk7CiAgICB9LAogICAgc2V0U3RhdGVGcm9tUXVlcnlBcmdzOiBmdW5jdGlvbiBzZXRTdGF0ZUZyb21RdWVyeUFyZ3MoKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKCiAgICAgIC8vIENoZWNrIHdoZXRoZXIgdGhlIG9ic2VydmluZyBwYW5lbCBtdXN0IGJlIGRpc3BsYXllZAogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFZhbHVlJywgewogICAgICAgIHZhck5hbWU6ICdzaG93U2lkZVBhbmVsJywKICAgICAgICBuZXdWYWx1ZTogdGhpcy4kcm91dGUucGF0aC5zdGFydHNXaXRoKCcvcC8nKQogICAgICB9KTsgLy8gU2V0IHRoZSBjb3JlJ3Mgc3RhdGUgZnJvbSBVUkwgcXVlcnkgYXJndW1lbnRzIHN1Y2gKICAgICAgLy8gYXMgZGF0ZSwgbG9jYXRpb24sIHZpZXcgZGlyZWN0aW9uICYgZm92CgogICAgICB2YXIgdGhhdCA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuaW5pdERvbmUpIHsKICAgICAgICB0aGlzLiRzdGVsLmNvcmUudGltZV9zcGVlZCA9IDE7CiAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpOwoKICAgICAgICBpZiAodGhpcy4kcm91dGUucXVlcnkuZGF0ZSkgewogICAgICAgICAgZCA9IG5ldyBNb21lbnQodGhpcy4kcm91dGUucXVlcnkuZGF0ZSkudG9EYXRlKCk7CiAgICAgICAgICB0aGlzLiRzdGVsLmNvcmUub2JzZXJ2ZXIudXRjID0gZC5nZXRNSkQoKTsKICAgICAgICAgIHRoaXMuc3RhcnRUaW1lSXNTZXQgPSB0cnVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LmxuZyAmJiB0aGlzLiRyb3V0ZS5xdWVyeS5sYXQpIHsKICAgICAgICAgIHZhciBwb3MgPSB7CiAgICAgICAgICAgIGxhdDogTnVtYmVyKHRoaXMuJHJvdXRlLnF1ZXJ5LmxhdCksCiAgICAgICAgICAgIGxuZzogTnVtYmVyKHRoaXMuJHJvdXRlLnF1ZXJ5LmxuZyksCiAgICAgICAgICAgIGFsdDogdGhpcy4kcm91dGUucXVlcnkuZWxldiA/IE51bWJlcih0aGlzLiRyb3V0ZS5xdWVyeS5lbGV2KSA6IDAsCiAgICAgICAgICAgIGFjY3VyYWN5OiAxCiAgICAgICAgICB9OwogICAgICAgICAgc3doLmdlb0NvZGVQb3NpdGlvbihwb3MsIHRoYXQpLnRoZW4oZnVuY3Rpb24gKGxvYykgewogICAgICAgICAgICB0aGF0LiRzdG9yZS5jb21taXQoJ3NldEN1cnJlbnRMb2NhdGlvbicsIGxvYyk7CiAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLiRzdGVsLmNvcmUub2JzZXJ2ZXIueWF3ID0gdGhpcy4kcm91dGUucXVlcnkuYXogPyBOdW1iZXIodGhpcy4kcm91dGUucXVlcnkuYXopICogTWF0aC5QSSAvIDE4MCA6IDA7CiAgICAgICAgdGhpcy4kc3RlbC5jb3JlLm9ic2VydmVyLnBpdGNoID0gdGhpcy4kcm91dGUucXVlcnkuYWx0ID8gTnVtYmVyKHRoaXMuJHJvdXRlLnF1ZXJ5LmFsdCkgKiBNYXRoLlBJIC8gMTgwIDogMzAgKiBNYXRoLlBJIC8gMTgwOwogICAgICAgIHRoaXMuJHN0ZWwuY29yZS5mb3YgPSB0aGlzLiRyb3V0ZS5xdWVyeS5mb3YgPyBOdW1iZXIodGhpcy4kcm91dGUucXVlcnkuZm92KSAqIE1hdGguUEkgLyAxODAgOiAxMjAgKiBNYXRoLlBJIC8gMTgwOwogICAgICAgIHRoaXMuaW5pdERvbmUgPSB0cnVlOwogICAgICB9CgogICAgICBpZiAodGhpcy4kcm91dGUucGF0aC5zdGFydHNXaXRoKCcvc2t5c291cmNlLycpKSB7CiAgICAgICAgdmFyIG5hbWUgPSBkZWNvZGVVUklDb21wb25lbnQodGhpcy4kcm91dGUucGF0aC5zdWJzdHJpbmcoMTEpKTsKICAgICAgICBjb25zb2xlLmxvZygnV2lsbCBzZWxlY3Qgb2JqZWN0OiAnICsgbmFtZSk7CiAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnV2lsbCBzZWxlY3Qgb2JqZWN0OiAnICsgbmFtZSwgJ2luZm8nKTsKICAgICAgICByZXR1cm4gc3doLmxvb2t1cFNreVNvdXJjZUJ5TmFtZShuYW1lKS50aGVuKGZ1bmN0aW9uIChzcykgewogICAgICAgICAgaWYgKCFzcykgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIG9iaiA9IHN3aC5za3lTb3VyY2UyU3dlT2JqKHNzKTsKCiAgICAgICAgICBpZiAoIW9iaikgewogICAgICAgICAgICBvYmogPSBfdGhpczE2LiRzdGVsLmNyZWF0ZU9iaihzcy5tb2RlbCwgc3MpOwoKICAgICAgICAgICAgX3RoaXMxNi4kc2VsZWN0aW9uTGF5ZXIuYWRkKG9iaik7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKCFvYmopIHsKICAgICAgICAgICAgY29uc29sZS53YXJuaW5nKCJDYW4ndCBmaW5kIG9iamVjdCBpbiBTV0U6ICIgKyBzcy5uYW1lc1swXSk7CiAgICAgICAgICB9CgogICAgICAgICAgc3doLnNldFN3ZU9iakFzU2VsZWN0aW9uKG9iaik7CiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCJDb3VsZG4ndCBmaW5kIHNreXNvdXJjZSBmb3IgbmFtZTogIiArIG5hbWUpOwoKICAgICAgICAgIF90aGlzMTYuU2VuZENvbnNvbGVMb2dNc2coIkNvdWxkbid0IGZpbmQgc2t5c291cmNlIGZvciBuYW1lOiAiICsgbmFtZSwgJ2Vycm9yJyk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBsb29rYXRjaXJjbGU6IGZ1bmN0aW9uIGxvb2thdGNpcmNsZSgpIHsKICAgICAgLy8gZ2xTdGVsLmNvcmUuc2VsZWN0aW9uID0gZ2xUZXN0Q2lyY2xlOwogICAgICBnbFN0ZWwucG9pbnRBbmRMb2NrKGdsVGVzdENpcmNsZSk7CiAgICB9LAogICAgc2V0R2xvYWJhbFN0ZWw6IGZ1bmN0aW9uIHNldEdsb2FiYWxTdGVsKHN0ZWwpIHsKICAgICAgcmV0dXJuIHN0ZWw7CiAgICB9LAogICAgc2V0R2xvYmFsTGF5ZXI6IGZ1bmN0aW9uIHNldEdsb2JhbExheWVyKHN0ZWwpIHsKICAgICAgcmV0dXJuIHN0ZWwuY3JlYXRlTGF5ZXIoewogICAgICAgIGlkOiAndGVzdExheWVyU3RhcnMnLAogICAgICAgIHo6IDcsCiAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICB9KTsKICAgIH0sCiAgICAvLyDlnZDmoIfpqozor4Hmlrnms5UKICAgIGlzVmFsaWRDb29yZGluYXRlOiBmdW5jdGlvbiBpc1ZhbGlkQ29vcmRpbmF0ZShjb29yZCkgewogICAgICAvLyDlpoLmnpzmmK/lrZfnrKbkuLLvvIzlsJ3or5XovazmjaLkuLrmlbDlrZcKICAgICAgaWYgKHR5cGVvZiBjb29yZCA9PT0gJ3N0cmluZycpIHsKICAgICAgICBjb29yZCA9IHBhcnNlRmxvYXQoY29vcmQpOwogICAgICB9CgogICAgICByZXR1cm4gdHlwZW9mIGNvb3JkID09PSAnbnVtYmVyJyAmJiAhaXNOYU4oY29vcmQpICYmIGlzRmluaXRlKGNvb3JkKSAmJiBjb29yZCA+PSAtMzYwICYmIGNvb3JkIDw9IDM2MDsKICAgIH0sCiAgICB2ZWMzX2Zyb21fc3BoZTogZnVuY3Rpb24gdmVjM19mcm9tX3NwaGUocmFfZGVncmVlLCBkZWNfZGVncmVlLCBvdXQpIHsKICAgICAgLy8g56Gu5L+d5Z2Q5qCH5piv5pWw5a2X57G75Z6LCiAgICAgIHZhciByYSA9IHJhX2RlZ3JlZTsKICAgICAgdmFyIGRlYyA9IGRlY19kZWdyZWU7CgogICAgICBpZiAodHlwZW9mIHJhID09PSAnc3RyaW5nJykgewogICAgICAgIHJhID0gcGFyc2VGbG9hdChyYSk7CiAgICAgIH0KCiAgICAgIGlmICh0eXBlb2YgZGVjID09PSAnc3RyaW5nJykgewogICAgICAgIGRlYyA9IHBhcnNlRmxvYXQoZGVjKTsKICAgICAgfSAvLyDmt7vliqDlnZDmoIfpqozor4EKCgogICAgICBpZiAoIXRoaXMuaXNWYWxpZENvb3JkaW5hdGUocmEpIHx8ICF0aGlzLmlzVmFsaWRDb29yZGluYXRlKGRlYykpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfml6DmlYjnmoTlnZDmoIfovpPlhaU6JywgewogICAgICAgICAgcmFfZGVncmVlOiByYV9kZWdyZWUsCiAgICAgICAgICBkZWNfZGVncmVlOiBkZWNfZGVncmVlLAogICAgICAgICAgY29udmVydGVkOiB7CiAgICAgICAgICAgIHJhOiByYSwKICAgICAgICAgICAgZGVjOiBkZWMKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRyeSB7CiAgICAgICAgdmFyIGNwID0gTWF0aC5jb3MoZGVjICogTWF0aC5QSSAvIDE4MCk7CiAgICAgICAgb3V0WzBdID0gTWF0aC5jb3MocmEgKiBNYXRoLlBJIC8gMTgwKSAqIGNwOwogICAgICAgIG91dFsxXSA9IE1hdGguc2luKHJhICogTWF0aC5QSSAvIDE4MCkgKiBjcDsKICAgICAgICBvdXRbMl0gPSBNYXRoLnNpbihkZWMgKiBNYXRoLlBJIC8gMTgwKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCflnZDmoIfovazmjaLlh7rplJk6JywgZXJyb3IsIHsKICAgICAgICAgIHJhX2RlZ3JlZTogcmFfZGVncmVlLAogICAgICAgICAgZGVjX2RlZ3JlZTogZGVjX2RlZ3JlZSwKICAgICAgICAgIGNvbnZlcnRlZDogewogICAgICAgICAgICByYTogcmEsCiAgICAgICAgICAgIGRlYzogZGVjCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICB0ZXN0QWRkQ2lyY2xlOiBmdW5jdGlvbiB0ZXN0QWRkQ2lyY2xlKHN0ZWwsIGxheWVyKSB7CiAgICAgIGNvbnNvbGUubG9nKCJBZGQgYSBjaXJjbGUgc3RhciBuZWFyIHBvbGFyaXMiKTsgLy8g5Li65Li05pe25a+56LGh5Yib5bu65bim5pyJ5ZCN56ew55qE6YWN572uCgogICAgICB2YXIgY2lyY2xlQ29uZmlnID0gewogICAgICAgIGlkOiAndGVzdF9jaXJjbGVfJyArIERhdGUubm93KCksCiAgICAgICAgbW9kZWxfZGF0YToge30sCiAgICAgICAgbmFtZXM6IFsnVGVzdCBDaXJjbGUnXSwKICAgICAgICAvLyDmt7vliqDlkI3np7AKICAgICAgICB0eXBlczogWydUZW1wb3JhcnknXSwKICAgICAgICBtb2RlbDogJ3RlbXBvcmFyeScKICAgICAgfTsKICAgICAgdmFyIGNpcmNsZSA9IHN0ZWwuY3JlYXRlT2JqKCdjaXJjbGUnLCBjaXJjbGVDb25maWcpOwogICAgICBjaXJjbGUudXBkYXRlKCk7CiAgICAgIGxheWVyLmFkZChjaXJjbGUpOyAvLyDnjrDlnKjlj6/ku6XlronlhajlnLDpgInmi6nlr7nosaHvvIzlm6DkuLrlroPmnInlkI3np7AKCiAgICAgIHN0ZWwuY29yZS5zZWxlY3Rpb24gPSBjaXJjbGU7CiAgICAgIHN0ZWwucG9pbnRBbmRMb2NrKGNpcmNsZSk7IC8vIENpcmNsZSBQcm9wZXJ0eQoKICAgICAgdmFyIG1tID0gY2lyY2xlLnBvczsKICAgICAgdGhpcy52ZWMzX2Zyb21fc3BoZSgyLjUyOTcxLCA4OS4yNjQxLCBtbSk7CiAgICAgIGNpcmNsZS5wb3MgPSBtbTsKICAgICAgY29uc29sZS5sb2coImNpcmNsZSBwb3M6IiArIG1tKTsKICAgICAgY2lyY2xlLmxhYmVsID0gIiI7CiAgICAgIGNpcmNsZS5mcmFtZSA9IDE7CiAgICAgIGNpcmNsZS5zaXplID0gWzAuMDUsIDAuMDVdOwogICAgICBjaXJjbGUuY29sb3IgPSBbMCwgMSwgMCwgMC4yNV07CiAgICAgIGNpcmNsZS5ib3JkZXJfY29sb3IgPSBbMCwgMSwgMCwgMV07CiAgICAgIHJldHVybiBjaXJjbGU7CiAgICB9LAogICAgVXBkYXRlQ2lyY2xlUG9zOiBmdW5jdGlvbiBVcGRhdGVDaXJjbGVQb3MoUmFfZGVncmVlLCBEZWNfZGVncmVlKSB7CiAgICAgIC8vIOa3u+WKoOWuieWFqOajgOafpQogICAgICBpZiAoIWdsVGVzdENpcmNsZSB8fCAhZ2xUZXN0Q2lyY2xlLnBvcykgewogICAgICAgIGNvbnNvbGUud2FybignZ2xUZXN0Q2lyY2xlIOacquWIneWni+WMlu+8jOi3s+i/h+S9jee9ruabtOaWsCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIG1tID0gZ2xUZXN0Q2lyY2xlLnBvczsKICAgICAgdGhpcy52ZWMzX2Zyb21fc3BoZShSYV9kZWdyZWUsIERlY19kZWdyZWUsIG1tKTsKICAgICAgZ2xUZXN0Q2lyY2xlLnBvcyA9IG1tOyAvLyBjb25zb2xlLmxvZygi6LWk6YGT5Luq5L2N572u5pu05paw5Li6OiIrUmFfZGVncmVlKyIrIitEZWNfZGVncmVlKTsKICAgIH0sCiAgICBVcGRhdGVUZWxlc2NvcGVTdGF0dXM6IGZ1bmN0aW9uIFVwZGF0ZVRlbGVzY29wZVN0YXR1cyhzdGF0dXMpIHsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdNb3VudFN0YXR1cycsIHN0YXR1cyk7IC8vIOa3u+WKoOWuieWFqOajgOafpQoKICAgICAgaWYgKCFnbFRlc3RDaXJjbGUpIHsKICAgICAgICBjb25zb2xlLndhcm4oJ2dsVGVzdENpcmNsZSDmnKrliJ3lp4vljJbvvIzot7Pov4fnirbmgIHmm7TmlrAnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChzdGF0dXMgPT09ICdNb3ZpbmcnKSB7CiAgICAgICAgZ2xUZXN0Q2lyY2xlLmNvbG9yID0gWzEsIDAsIDAsIDAuMjVdOwogICAgICAgIGdsVGVzdENpcmNsZS5ib3JkZXJfY29sb3IgPSBbMSwgMCwgMCwgMV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZ2xUZXN0Q2lyY2xlLmNvbG9yID0gWzAsIDEsIDAsIDAuMjVdOwogICAgICAgIGdsVGVzdENpcmNsZS5ib3JkZXJfY29sb3IgPSBbMCwgMSwgMCwgMV07CiAgICAgIH0KICAgIH0sCiAgICBVcGRhdGVNYWluQ2FtZXJhU3RhdHVzOiBmdW5jdGlvbiBVcGRhdGVNYWluQ2FtZXJhU3RhdHVzKHN0YXR1cykgewogICAgICB0aGlzLiRidXMuJGVtaXQoJ01haW5DYW1lcmFTdGF0dXMnLCBzdGF0dXMpOwogICAgfSwKICAgIC8vIOe7mOWItuinhuWcuuWkmui+ueW9ou+8iOWfuuS6juS6lOS4qlJBL0RFQ+WdkOagh+eahOmXreeOr++8iQogICAgQWRkRmllbGRPZlZpZXdQb2x5Z29uOiBmdW5jdGlvbiBBZGRGaWVsZE9mVmlld1BvbHlnb24oc3RlbCwgbGF5ZXIsIGNvb3JkaW5hdGVzLCBjb2xvciwgbmFtZSkgewogICAgICBjb25zb2xlLmxvZygiXHU1RjAwXHU1OUNCXHU1MjFCXHU1RUZBXHU4OUM2XHU1NzNBXHU1OTFBXHU4RkI5XHU1RjYyOiAiLmNvbmNhdChuYW1lKSwgewogICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlcywKICAgICAgICBjb2xvcjogY29sb3IKICAgICAgfSk7CgogICAgICB0cnkgewogICAgICAgIC8vIOmqjOivgei+k+WFpeWPguaVsAogICAgICAgIGlmICghY29vcmRpbmF0ZXMgfHwgIUFycmF5LmlzQXJyYXkoY29vcmRpbmF0ZXMpKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCfop4blnLrlnZDmoIflv4XpobvmmK/mlbDnu4QnKTsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KCiAgICAgICAgaWYgKGNvb3JkaW5hdGVzLmxlbmd0aCAhPT0gNSkgewogICAgICAgICAgY29uc29sZS5lcnJvcigiXHU4OUM2XHU1NzNBXHU1NzUwXHU2ODA3XHU1RkM1XHU5ODdCXHU2NjJGNVx1NEUyQVx1NzBCOVx1RkYwQ1x1NUY1M1x1NTI0RFx1NjcwOSIuY29uY2F0KGNvb3JkaW5hdGVzLmxlbmd0aCwgIlx1NEUyQVx1NzBCOSIpKTsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0gLy8g6aqM6K+B5q+P5Liq5Z2Q5qCH54K5CgoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgY29vcmQgPSBjb29yZGluYXRlc1tpXTsKCiAgICAgICAgICBpZiAoIWNvb3JkIHx8IHR5cGVvZiBjb29yZC5yYSA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIGNvb3JkLmRlYyA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigiXHU1NzUwXHU2ODA3XHU3MEI5Ii5jb25jYXQoaSwgIlx1NjgzQ1x1NUYwRlx1OTUxOVx1OEJFRlx1RkYwQ1x1OTcwMFx1ODk4MVx1NTMwNVx1NTQyQnJhXHU1NDhDZGVjXHU1QzVFXHU2MDI3OiIpLCBjb29yZCk7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgfSAvLyDpqozor4HlnZDmoIflgLwKCgogICAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWRDb29yZGluYXRlKGNvb3JkLnJhKSB8fCAhdGhpcy5pc1ZhbGlkQ29vcmRpbmF0ZShjb29yZC5kZWMpKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIlx1NTc1MFx1NjgwN1x1NzBCOSIuY29uY2F0KGksICJcdTc2ODRcdTUwM0NcdTY1RTBcdTY1NDg6IiksIGNvb3JkKTsKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICB9CiAgICAgICAgfSAvLyDorr7nva7pu5jorqTpopzoibIKCgogICAgICAgIHZhciBkZWZhdWx0Q29sb3IgPSB7CiAgICAgICAgICBzdHJva2U6ICIjRkZGRkZGIiwKICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IDEsCiAgICAgICAgICBmaWxsOiAiIzFFOTBGRiIsCiAgICAgICAgICBmaWxsT3BhY2l0eTogMC4yNQogICAgICAgIH07CgogICAgICAgIHZhciBmaW5hbENvbG9yID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0Q29sb3IpLCBjb2xvcik7CgogICAgICAgIGNvbnNvbGUubG9nKCfmnIDnu4jpopzoibLphY3nva46JywgZmluYWxDb2xvcik7IC8vIOWIm+W7uuWkmui+ueW9ouWvueixoQoKICAgICAgICB2YXIgcG9seWdvbkNvbmZpZyA9IHsKICAgICAgICAgIGlkOiAnZmllbGRfb2Zfdmlld18nICsgRGF0ZS5ub3coKSwKICAgICAgICAgIG1vZGVsX2RhdGE6IHt9LAogICAgICAgICAgbmFtZXM6IFtuYW1lIHx8ICdGaWVsZCBvZiBWaWV3J10sCiAgICAgICAgICB0eXBlczogWydGaWVsZE9mVmlldyddLAogICAgICAgICAgbW9kZWw6ICdmaWVsZF9vZl92aWV3JwogICAgICAgIH07CiAgICAgICAgY29uc29sZS5sb2coJ+WIm+W7ukdlb0pTT07lpJrovrnlvaLlr7nosaEnKTsKICAgICAgICB2YXIgcG9seWdvbiA9IHN0ZWwuY3JlYXRlT2JqKCdnZW9qc29uJywgewogICAgICAgICAgZGF0YTogewogICAgICAgICAgICAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiIsCiAgICAgICAgICAgICJmZWF0dXJlcyI6IFt7CiAgICAgICAgICAgICAgInR5cGUiOiAiRmVhdHVyZSIsCiAgICAgICAgICAgICAgInByb3BlcnRpZXMiOiB7CiAgICAgICAgICAgICAgICAic3Ryb2tlIjogZmluYWxDb2xvci5zdHJva2UsCiAgICAgICAgICAgICAgICAic3Ryb2tlLW9wYWNpdHkiOiBmaW5hbENvbG9yLnN0cm9rZU9wYWNpdHksCiAgICAgICAgICAgICAgICAiZmlsbCI6IGZpbmFsQ29sb3IuZmlsbCwKICAgICAgICAgICAgICAgICJmaWxsLW9wYWNpdHkiOiBmaW5hbENvbG9yLmZpbGxPcGFjaXR5LAogICAgICAgICAgICAgICAgIm5hbWUiOiBuYW1lIHx8ICdGaWVsZCBvZiBWaWV3JwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgImdlb21ldHJ5IjogewogICAgICAgICAgICAgICAgInR5cGUiOiAiUG9seWdvbiIsCiAgICAgICAgICAgICAgICAiY29vcmRpbmF0ZXMiOiBbWy8vIOS6lOS4quWdkOagh+eCue+8jOW9ouaIkOmXreeOrwogICAgICAgICAgICAgICAgW2Nvb3JkaW5hdGVzWzBdLnJhLCBjb29yZGluYXRlc1swXS5kZWNdLCBbY29vcmRpbmF0ZXNbMV0ucmEsIGNvb3JkaW5hdGVzWzFdLmRlY10sIFtjb29yZGluYXRlc1syXS5yYSwgY29vcmRpbmF0ZXNbMl0uZGVjXSwgW2Nvb3JkaW5hdGVzWzNdLnJhLCBjb29yZGluYXRlc1szXS5kZWNdLCBbY29vcmRpbmF0ZXNbMF0ucmEsIGNvb3JkaW5hdGVzWzBdLmRlY10gLy8g6Zet5ZCI5aSa6L655b2iCiAgICAgICAgICAgICAgICBdXQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfV0KICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgaWYgKCFwb2x5Z29uKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCdHZW9KU09O5aSa6L655b2i5a+56LGh5Yib5bu65aSx6LSlJyk7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKCflpJrovrnlvaLlr7nosaHliJvlu7rmiJDlip/vvIzlvIDlp4vmm7TmlrDlkozmt7vliqDliLDlm77lsYInKTsgLy8g6K6+572u5a+56LGh5bGe5oCnCgogICAgICAgIHBvbHlnb24udXBkYXRlKCk7CiAgICAgICAgbGF5ZXIuYWRkKHBvbHlnb24pOwogICAgICAgIGNvbnNvbGUubG9nKCflpJrovrnlvaLlt7Lmt7vliqDliLDlm77lsYInKTsgLy8gLy8g5re75Yqg5qCH562+77yI5Y+v6YCJ77yJCiAgICAgICAgLy8gaWYgKG5hbWUpIHsKICAgICAgICAvLyAgIGNvbnNvbGUubG9nKCfmt7vliqDlpJrovrnlvaLmoIfnrb4nKTsKICAgICAgICAvLyAgIC8vIOiuoeeul+inhuWcuuS4reW/g+eCuQogICAgICAgIC8vICAgY29uc3QgY2VudGVyUmEgPSBjb29yZGluYXRlcy5yZWR1Y2UoKHN1bSwgY29vcmQpID0+IHN1bSArIGNvb3JkLnJhLCAwKSAvIGNvb3JkaW5hdGVzLmxlbmd0aDsKICAgICAgICAvLyAgIGNvbnN0IGNlbnRlckRlYyA9IGNvb3JkaW5hdGVzLnJlZHVjZSgoc3VtLCBjb29yZCkgPT4gc3VtICsgY29vcmQuZGVjLCAwKSAvIGNvb3JkaW5hdGVzLmxlbmd0aDsKICAgICAgICAvLyAgIGxldCBsYWJlbENpcmNsZSA9IHRoaXMuQWRkTWFya0NpcmNsZShzdGVsLCBsYXllciwgNCwgbmFtZSk7CiAgICAgICAgLy8gICBpZiAobGFiZWxDaXJjbGUpIHsKICAgICAgICAvLyAgICAgbGV0IGxhYmVsTW0gPSBsYWJlbENpcmNsZS5wb3M7CiAgICAgICAgLy8gICAgIHRoaXMudmVjM19mcm9tX3NwaGUoY2VudGVyUmEsIGNlbnRlckRlYyArIDAuMDIsIGxhYmVsTW0pOyAvLyDlnKjop4blnLrkuIrmlrnmmL7npLrlkI3np7AKICAgICAgICAvLyAgICAgbGFiZWxDaXJjbGUucG9zID0gbGFiZWxNbTsKICAgICAgICAvLyAgICAgbGFiZWxDaXJjbGUuY29sb3IgPSBbMSwgMSwgMSwgMC44XTsgIC8vIOeZveiJsu+8jOWNiumAj+aYjgogICAgICAgIC8vICAgICBsYWJlbENpcmNsZS5ib3JkZXJfY29sb3IgPSBbMCwgMCwgMCwgMC41XTsgIC8vIOm7keiJsui+ueahhu+8jOWNiumAj+aYjgogICAgICAgIC8vICAgICBsYWJlbENpcmNsZS5zaXplID0gWzAuMDEsIDAuMDFdOyAgLy8g5b6I5bCP55qE5ZyG5ZyI5L2c5Li65ZCN56ew5qCH562+CiAgICAgICAgLy8gICAgIC8vIOWwhuagh+etvuS4juWkmui+ueW9ouWFs+iBlAogICAgICAgIC8vICAgICBwb2x5Z29uLmxhYmVsQ2lyY2xlID0gbGFiZWxDaXJjbGU7CiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCfmoIfnrb7lt7Lmt7vliqDliLDlpJrovrnlvaInKTsKICAgICAgICAvLyAgIH0gZWxzZSB7CiAgICAgICAgLy8gICAgIGNvbnNvbGUud2Fybign5qCH562+5Yib5bu65aSx6LSlJyk7CiAgICAgICAgLy8gICB9CiAgICAgICAgLy8gfQoKICAgICAgICBjb25zb2xlLmxvZygiXHU4OUM2XHU1NzNBXHU1OTFBXHU4RkI5XHU1RjYyXHU1MjFCXHU1RUZBXHU1QjhDXHU2MjEwOiAiLmNvbmNhdChuYW1lIHx8ICdGaWVsZCBvZiBWaWV3JyksIHsKICAgICAgICAgIGNvb3JkaW5hdGVzOiBjb29yZGluYXRlcywKICAgICAgICAgIGNvbG9yOiBmaW5hbENvbG9yLAogICAgICAgICAgcG9seWdvbjogcG9seWdvbgogICAgICAgIH0pOwogICAgICAgIHJldHVybiBwb2x5Z29uOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WIm+W7uuinhuWcuuWkmui+ueW9ouaXtuWHuumUmTonLCBlcnJvcik7CiAgICAgICAgY29uc29sZS5lcnJvcign6ZSZ6K+v5aCG5qCIOicsIGVycm9yLnN0YWNrKTsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgfSwKICAgIC8vIOWIoOmZpOaMh+WumueahOinhuWcuuWkmui+ueW9ogogICAgUmVtb3ZlRmllbGRPZlZpZXdQb2x5Z29uOiBmdW5jdGlvbiBSZW1vdmVGaWVsZE9mVmlld1BvbHlnb24ocG9seWdvbikgewogICAgICB0cnkgewogICAgICAgIGlmICghcG9seWdvbikgewogICAgICAgICAgY29uc29sZS53YXJuKCfopoHliKDpmaTnmoTlpJrovrnlvaLlr7nosaHkuLrnqbonKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9IC8vIOWIoOmZpOWFs+iBlOeahOagh+etvgoKCiAgICAgICAgaWYgKHBvbHlnb24ubGFiZWxDaXJjbGUpIHsKICAgICAgICAgIGdsTGF5ZXIucmVtb3ZlKHBvbHlnb24ubGFiZWxDaXJjbGUpOwogICAgICAgIH0gLy8g5Yig6Zmk5aSa6L655b2iCgoKICAgICAgICBnbExheWVyLnJlbW92ZShwb2x5Z29uKTsKICAgICAgICBjb25zb2xlLmxvZygn6KeG5Zy65aSa6L655b2i5bey5Yig6ZmkOicsIHBvbHlnb24pOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WIoOmZpOinhuWcuuWkmui+ueW9ouaXtuWHuumUmTonLCBlcnJvcik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgLy8g5Yig6Zmk5omA5pyJ6KeG5Zy65aSa6L655b2iCiAgICBSZW1vdmVBbGxGaWVsZE9mVmlld1BvbHlnb25zOiBmdW5jdGlvbiBSZW1vdmVBbGxGaWVsZE9mVmlld1BvbHlnb25zKCkgewogICAgICB2YXIgX3RoaXMxNyA9IHRoaXM7CgogICAgICB0cnkgewogICAgICAgIC8vIOWmguaenOacieWkmui+ueW9ouaVsOe7hO+8jOmBjeWOhuWIoOmZpAogICAgICAgIGlmICh0aGlzLmZpZWxkT2ZWaWV3UG9seWdvbnMgJiYgQXJyYXkuaXNBcnJheSh0aGlzLmZpZWxkT2ZWaWV3UG9seWdvbnMpKSB7CiAgICAgICAgICB0aGlzLmZpZWxkT2ZWaWV3UG9seWdvbnMuZm9yRWFjaChmdW5jdGlvbiAocG9seWdvbikgewogICAgICAgICAgICBfdGhpczE3LlJlbW92ZUZpZWxkT2ZWaWV3UG9seWdvbihwb2x5Z29uKTsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5maWVsZE9mVmlld1BvbHlnb25zID0gW107CiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmxvZygn5omA5pyJ6KeG5Zy65aSa6L655b2i5bey5Yig6ZmkJyk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5Yig6Zmk5omA5pyJ6KeG5Zy65aSa6L655b2i5pe25Ye66ZSZOicsIGVycm9yKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmm7TmlrDop4blnLrlpJrovrnlvaLnmoTkvY3nva4KICAgIFVwZGF0ZUZpZWxkT2ZWaWV3UG9seWdvblBvc2l0aW9uOiBmdW5jdGlvbiBVcGRhdGVGaWVsZE9mVmlld1BvbHlnb25Qb3NpdGlvbihwb2x5Z29uLCBuZXdDb29yZGluYXRlcykgewogICAgICB0cnkgewogICAgICAgIGlmICghcG9seWdvbiB8fCAhbmV3Q29vcmRpbmF0ZXMgfHwgIUFycmF5LmlzQXJyYXkobmV3Q29vcmRpbmF0ZXMpIHx8IG5ld0Nvb3JkaW5hdGVzLmxlbmd0aCAhPT0gNSkgewogICAgICAgICAgY29uc29sZS5lcnJvcign5pu05paw6KeG5Zy65aSa6L655b2i5L2N572u5pe25Y+C5pWw5peg5pWIJyk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSAvLyDpqozor4HmlrDlnZDmoIcKCgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3Q29vcmRpbmF0ZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBjb29yZCA9IG5ld0Nvb3JkaW5hdGVzW2ldOwoKICAgICAgICAgIGlmICghdGhpcy5pc1ZhbGlkQ29vcmRpbmF0ZShjb29yZC5yYSkgfHwgIXRoaXMuaXNWYWxpZENvb3JkaW5hdGUoY29vcmQuZGVjKSkgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCJcdTY1QjBcdTU3NTBcdTY4MDdcdTcwQjkiLmNvbmNhdChpLCAiXHU3Njg0XHU1MDNDXHU2NUUwXHU2NTQ4OiIpLCBjb29yZCk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9IC8vIOabtOaWsOWkmui+ueW9ouaVsOaNrgoKCiAgICAgICAgcG9seWdvbi5kYXRhLmZlYXR1cmVzWzBdLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdID0gW1tuZXdDb29yZGluYXRlc1swXS5yYSwgbmV3Q29vcmRpbmF0ZXNbMF0uZGVjXSwgW25ld0Nvb3JkaW5hdGVzWzFdLnJhLCBuZXdDb29yZGluYXRlc1sxXS5kZWNdLCBbbmV3Q29vcmRpbmF0ZXNbMl0ucmEsIG5ld0Nvb3JkaW5hdGVzWzJdLmRlY10sIFtuZXdDb29yZGluYXRlc1szXS5yYSwgbmV3Q29vcmRpbmF0ZXNbM10uZGVjXSwgW25ld0Nvb3JkaW5hdGVzWzRdLnJhLCBuZXdDb29yZGluYXRlc1s0XS5kZWNdLCBbbmV3Q29vcmRpbmF0ZXNbMF0ucmEsIG5ld0Nvb3JkaW5hdGVzWzBdLmRlY10gLy8g6Zet5ZCICiAgICAgICAgXTsKICAgICAgICBwb2x5Z29uLnVwZGF0ZSgpOyAvLyDmm7TmlrDmoIfnrb7kvY3nva7vvIjlpoLmnpzlrZjlnKjvvIkKCiAgICAgICAgaWYgKHBvbHlnb24ubGFiZWxDaXJjbGUpIHsKICAgICAgICAgIHZhciBjZW50ZXJSYSA9IG5ld0Nvb3JkaW5hdGVzLnJlZHVjZShmdW5jdGlvbiAoc3VtLCBjb29yZCkgewogICAgICAgICAgICByZXR1cm4gc3VtICsgY29vcmQucmE7CiAgICAgICAgICB9LCAwKSAvIG5ld0Nvb3JkaW5hdGVzLmxlbmd0aDsKICAgICAgICAgIHZhciBjZW50ZXJEZWMgPSBuZXdDb29yZGluYXRlcy5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgY29vcmQpIHsKICAgICAgICAgICAgcmV0dXJuIHN1bSArIGNvb3JkLmRlYzsKICAgICAgICAgIH0sIDApIC8gbmV3Q29vcmRpbmF0ZXMubGVuZ3RoOwogICAgICAgICAgdmFyIGxhYmVsTW0gPSBwb2x5Z29uLmxhYmVsQ2lyY2xlLnBvczsKICAgICAgICAgIHRoaXMudmVjM19mcm9tX3NwaGUoY2VudGVyUmEsIGNlbnRlckRlYyArIDAuMDIsIGxhYmVsTW0pOwogICAgICAgICAgcG9seWdvbi5sYWJlbENpcmNsZS5wb3MgPSBsYWJlbE1tOwogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coJ+inhuWcuuWkmui+ueW9ouS9jee9ruW3suabtOaWsDonLCBuZXdDb29yZGluYXRlcyk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5pu05paw6KeG5Zy65aSa6L655b2i5L2N572u5pe25Ye66ZSZOicsIGVycm9yKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBVcGRhdGVNYWluQ2FtZXJhVGVtcGVyYXR1cmU6IGZ1bmN0aW9uIFVwZGF0ZU1haW5DYW1lcmFUZW1wZXJhdHVyZSh2YWx1ZSkgewogICAgICAvLyBjb25zb2xlLmxvZygnTWFpbiBDYW1lcmEgVGVtcGVyYXR1cmU6JywgdmFsdWUgKyAnwrAnKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdNYWluQ2FtZXJhVGVtcGVyYXR1cmUnLCB2YWx1ZSk7CiAgICB9LAogICAgc2V0UG9sYXJQb2ludEFsdGl0dWRlOiBmdW5jdGlvbiBzZXRQb2xhclBvaW50QWx0aXR1ZGUoQWx0aXR1ZGUpIHsKICAgICAgdGhpcy5Qb2xhclBvaW50X0FsdGl0dWRlID0gQWx0aXR1ZGU7CiAgICAgIGNvbnNvbGUubG9nKCdQb2xhciBQb2ludCBBbHRpdHVkZTonLCB0aGlzLlBvbGFyUG9pbnRfQWx0aXR1ZGUpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdQb2xhciBQb2ludCBBbHRpdHVkZTonICsgdGhpcy5Qb2xhclBvaW50X0FsdGl0dWRlLCAnaW5mbycpOwogICAgfSwKICAgIEFkZE1hcmtDaXJjbGU6IGZ1bmN0aW9uIEFkZE1hcmtDaXJjbGUoc3RlbCwgbGF5ZXIsIGZyYW1lLCBsYWJlbCkgewogICAgICBjb25zb2xlLmxvZygiXHU1RjAwXHU1OUNCXHU1MjFCXHU1RUZBXHU2ODA3XHU4QkIwXHU1NzA2XHU1NzA4OiAiLmNvbmNhdChsYWJlbCkpOwoKICAgICAgdHJ5IHsKICAgICAgICAvLyDkuLrkuLTml7blr7nosaHliJvlu7rluKbmnInlkI3np7DnmoTphY3nva4KICAgICAgICB2YXIgY2lyY2xlQ29uZmlnID0gewogICAgICAgICAgaWQ6ICd0ZW1wX2NpcmNsZV8nICsgRGF0ZS5ub3coKSwKICAgICAgICAgIG1vZGVsX2RhdGE6IHt9LAogICAgICAgICAgbmFtZXM6IFtsYWJlbCB8fCAnVGVtcG9yYXJ5IE1hcmtlciddLAogICAgICAgICAgLy8g5re75Yqg5ZCN56ewCiAgICAgICAgICB0eXBlczogWydUZW1wb3JhcnknXSwKICAgICAgICAgIG1vZGVsOiAndGVtcG9yYXJ5JwogICAgICAgIH07CiAgICAgICAgY29uc29sZS5sb2coJ+WIm+W7uuWchuW9ouWvueixoScpOwogICAgICAgIHZhciBjaXJjbGUgPSBzdGVsLmNyZWF0ZU9iaignY2lyY2xlJywgY2lyY2xlQ29uZmlnKTsKCiAgICAgICAgaWYgKCFjaXJjbGUpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WchuW9ouWvueixoeWIm+W7uuWksei0pScpOwogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmxvZygn5ZyG5b2i5a+56LGh5Yib5bu65oiQ5Yqf77yM5byA5aeL6K6+572u5bGe5oCnJyk7CiAgICAgICAgY2lyY2xlLnVwZGF0ZSgpOwogICAgICAgIGxheWVyLmFkZChjaXJjbGUpOyAvLyDorr7nva7pu5jorqTkvY3nva7vvIjljJfmnoHmmJ/pmYTov5HvvIkKCiAgICAgICAgdmFyIG1tID0gY2lyY2xlLnBvczsKICAgICAgICB0aGlzLnZlYzNfZnJvbV9zcGhlKDIuNTI5NzEsIDg5LjI2NDEsIG1tKTsKICAgICAgICBjaXJjbGUucG9zID0gbW07IC8vIOiuvue9ruWchuW9ouWxnuaApwoKICAgICAgICBjaXJjbGUubGFiZWwgPSBsYWJlbDsKICAgICAgICBjaXJjbGUuZnJhbWUgPSBmcmFtZTsKICAgICAgICBjaXJjbGUuc2l6ZSA9IFswLjA0LCAwLjA0XTsKICAgICAgICBjaXJjbGUuY29sb3IgPSBbMSwgMSwgMSwgMC41XTsKICAgICAgICBjaXJjbGUuYm9yZGVyX2NvbG9yID0gWzEsIDEsIDEsIDFdOwogICAgICAgIGNvbnNvbGUubG9nKCJcdTY4MDdcdThCQjBcdTU3MDZcdTU3MDhcdTUyMUJcdTVFRkFcdTVCOENcdTYyMTA6ICIuY29uY2F0KGxhYmVsKSwgewogICAgICAgICAgcG9zOiBtbSwKICAgICAgICAgIHNpemU6IGNpcmNsZS5zaXplLAogICAgICAgICAgY29sb3I6IGNpcmNsZS5jb2xvciwKICAgICAgICAgIGJvcmRlcl9jb2xvcjogY2lyY2xlLmJvcmRlcl9jb2xvcgogICAgICAgIH0pOwogICAgICAgIHJldHVybiBjaXJjbGU7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5Yib5bu65qCH6K6w5ZyG5ZyI5pe25Ye66ZSZOicsIGVycm9yKTsKICAgICAgICBjb25zb2xlLmVycm9yKCfplJnor6/loIbmoIg6JywgZXJyb3Iuc3RhY2spOwogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9LAogICAgQWRkTWFya1JlY3RhbmdsZTogZnVuY3Rpb24gQWRkTWFya1JlY3RhbmdsZShzdGVsLCBsYXllciwgUmFEZWMpIHsKICAgICAgdmFyIGxpbmUgPSBzdGVsLmNyZWF0ZU9iaignZ2VvanNvbicsIHsKICAgICAgICBkYXRhOiB7CiAgICAgICAgICAidHlwZSI6ICJGZWF0dXJlQ29sbGVjdGlvbiIsCiAgICAgICAgICAiZmVhdHVyZXMiOiBbewogICAgICAgICAgICAidHlwZSI6ICJGZWF0dXJlIiwKICAgICAgICAgICAgInByb3BlcnRpZXMiOiB7CiAgICAgICAgICAgICAgInN0cm9rZSI6ICIjRkZGRkZGIiwKICAgICAgICAgICAgICAic3Ryb2tlLW9wYWNpdHkiOiAxLAogICAgICAgICAgICAgICJmaWxsIjogIiMxRTkwRkYiLAogICAgICAgICAgICAgICJmaWxsLW9wYWNpdHkiOiAwLjI1CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJnZW9tZXRyeSI6IHsKICAgICAgICAgICAgICAidHlwZSI6ICJQb2x5Z29uIiwKICAgICAgICAgICAgICAiY29vcmRpbmF0ZXMiOiBbWy8vIFsxMzkuNzYsIDM1LjUyXSwgWzEzOS4zMiwgMzMuNDFdLCBbMTQwLjkyLCAzMy4wOF0sIFsxNDEuMzUsIDM1LjE5XSwgWzEzOS43NiwgMzUuNTJdCiAgICAgICAgICAgICAgW3BhcnNlRmxvYXQoUmFEZWNbMF0uUmEpLCBwYXJzZUZsb2F0KFJhRGVjWzBdLkRlYyldLCBbcGFyc2VGbG9hdChSYURlY1sxXS5SYSksIHBhcnNlRmxvYXQoUmFEZWNbMV0uRGVjKV0sIFtwYXJzZUZsb2F0KFJhRGVjWzJdLlJhKSwgcGFyc2VGbG9hdChSYURlY1syXS5EZWMpXSwgW3BhcnNlRmxvYXQoUmFEZWNbM10uUmEpLCBwYXJzZUZsb2F0KFJhRGVjWzNdLkRlYyldLCBbcGFyc2VGbG9hdChSYURlY1swXS5SYSksIHBhcnNlRmxvYXQoUmFEZWNbMF0uRGVjKV1dXQogICAgICAgICAgICB9CiAgICAgICAgICB9XQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGxpbmUudXBkYXRlKCk7CiAgICAgIGxheWVyLmFkZChsaW5lKTsKICAgICAgcmV0dXJuIGxpbmU7CiAgICB9LAogICAgLy8g6L6F5Yqp5pa55rOV77ya5bCG5Y2B5YWt6L+b5Yi26aKc6Imy6L2s5o2i5Li6UkdCCiAgICBoZXhUb1JnYjogZnVuY3Rpb24gaGV4VG9SZ2IoaGV4KSB7CiAgICAgIC8vIOenu+mZpCPlj7cKICAgICAgaGV4ID0gaGV4LnJlcGxhY2UoJyMnLCAnJyk7IC8vIOino+aekFJHQuWAvAoKICAgICAgdmFyIHIgPSBwYXJzZUludChoZXguc3Vic3RyKDAsIDIpLCAxNik7CiAgICAgIHZhciBnID0gcGFyc2VJbnQoaGV4LnN1YnN0cigyLCAyKSwgMTYpOwogICAgICB2YXIgYiA9IHBhcnNlSW50KGhleC5zdWJzdHIoNCwgMiksIDE2KTsKICAgICAgcmV0dXJuIHsKICAgICAgICByOiByLAogICAgICAgIGc6IGcsCiAgICAgICAgYjogYgogICAgICB9OwogICAgfSwKICAgIC8vIOabtOaWsOinhuWcuuaWueazlQogICAgdXBkYXRlRmllbGRPZlZpZXc6IGZ1bmN0aW9uIHVwZGF0ZUZpZWxkT2ZWaWV3KGZpZWxkKSB7CiAgICAgIGlmICghZmllbGQgfHwgIWZpZWxkLmZpZWxkSW5mbykgcmV0dXJuOwogICAgICB2YXIgaW5mbyA9IGZpZWxkLmZpZWxkSW5mbzsgLy8g6K6h566X6KeG5Zy655qE5Zub5Liq6KeS54K5CgogICAgICB2YXIgY29ybmVycyA9IFt7CiAgICAgICAgUmE6IGluZm8ubWF4UmEsCiAgICAgICAgRGVjOiBpbmZvLm1heERlYwogICAgICB9LCB7CiAgICAgICAgUmE6IGluZm8ubWluUmEsCiAgICAgICAgRGVjOiBpbmZvLm1heERlYwogICAgICB9LCB7CiAgICAgICAgUmE6IGluZm8ubWluUmEsCiAgICAgICAgRGVjOiBpbmZvLm1pbkRlYwogICAgICB9LCB7CiAgICAgICAgUmE6IGluZm8ubWF4UmEsCiAgICAgICAgRGVjOiBpbmZvLm1pbkRlYwogICAgICB9LCB7CiAgICAgICAgUmE6IGluZm8ubWF4UmEsCiAgICAgICAgRGVjOiBpbmZvLm1heERlYwogICAgICB9IC8vIOmXreWQiOWkmui+ueW9ogogICAgICBdOyAvLyDmm7TmlrBHZW9KU09O5pWw5o2uCgogICAgICBmaWVsZC5kYXRhID0gewogICAgICAgICJ0eXBlIjogIkZlYXR1cmVDb2xsZWN0aW9uIiwKICAgICAgICAiZmVhdHVyZXMiOiBbewogICAgICAgICAgInR5cGUiOiAiRmVhdHVyZSIsCiAgICAgICAgICAicHJvcGVydGllcyI6IHsKICAgICAgICAgICAgInN0cm9rZSI6IGluZm8uY29sb3IsCiAgICAgICAgICAgICJzdHJva2VPcGFjaXR5IjogMC44LAogICAgICAgICAgICAiZmlsbCI6IGluZm8uY29sb3IsCiAgICAgICAgICAgICJmaWxsT3BhY2l0eSI6IDAuMgogICAgICAgICAgfSwKICAgICAgICAgICJnZW9tZXRyeSI6IHsKICAgICAgICAgICAgInR5cGUiOiAiUG9seWdvbiIsCiAgICAgICAgICAgICJjb29yZGluYXRlcyI6IFtbcGFyc2VGbG9hdChjb3JuZXJzWzBdLlJhKSwgcGFyc2VGbG9hdChjb3JuZXJzWzBdLkRlYyldLCBbcGFyc2VGbG9hdChjb3JuZXJzWzFdLlJhKSwgcGFyc2VGbG9hdChjb3JuZXJzWzFdLkRlYyldLCBbcGFyc2VGbG9hdChjb3JuZXJzWzJdLlJhKSwgcGFyc2VGbG9hdChjb3JuZXJzWzJdLkRlYyldLCBbcGFyc2VGbG9hdChjb3JuZXJzWzNdLlJhKSwgcGFyc2VGbG9hdChjb3JuZXJzWzNdLkRlYyldLCBbcGFyc2VGbG9hdChjb3JuZXJzWzRdLlJhKSwgcGFyc2VGbG9hdChjb3JuZXJzWzRdLkRlYyldXQogICAgICAgICAgfQogICAgICAgIH1dCiAgICAgIH07CiAgICAgIGZpZWxkLnVwZGF0ZSgpOwogICAgfSwKICAgIC8vIOWQr+WKqOinhuWcuuabtOaWsOWumuaXtuWZqAogICAgc3RhcnRGaWVsZFVwZGF0ZVRpbWVyOiBmdW5jdGlvbiBzdGFydEZpZWxkVXBkYXRlVGltZXIoKSB7CiAgICAgIHZhciBfdGhpczE4ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmZpZWxkVXBkYXRlVGltZXIpIHsKICAgICAgICBjbGVhckludGVydmFsKHRoaXMuZmllbGRVcGRhdGVUaW1lcik7CiAgICAgIH0KCiAgICAgIHRoaXMuZmllbGRVcGRhdGVUaW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyDmm7TmlrDmoKHlh4bngrnop4blnLoKICAgICAgICBpZiAoX3RoaXMxOC5jYWxpYnJhdGlvbkNpcmNsZXMpIHsKICAgICAgICAgIF90aGlzMTguY2FsaWJyYXRpb25DaXJjbGVzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7CiAgICAgICAgICAgIGlmIChmaWVsZC5maWVsZEluZm8pIHsKICAgICAgICAgICAgICBfdGhpczE4LnVwZGF0ZUZpZWxkT2ZWaWV3KGZpZWxkKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSAvLyDmm7TmlrDosIPmlbTngrnop4blnLoKCgogICAgICAgIGlmIChfdGhpczE4LmFkanVzdG1lbnRDaXJjbGVzKSB7CiAgICAgICAgICBfdGhpczE4LmFkanVzdG1lbnRDaXJjbGVzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7CiAgICAgICAgICAgIGlmIChmaWVsZC5maWVsZEluZm8pIHsKICAgICAgICAgICAgICBfdGhpczE4LnVwZGF0ZUZpZWxkT2ZWaWV3KGZpZWxkKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LCAzMDAwKTsgLy8g5q+PM+enkuabtOaWsOS4gOasoQogICAgfSwKICAgIC8vIOWBnOatouinhuWcuuabtOaWsOWumuaXtuWZqAogICAgc3RvcEZpZWxkVXBkYXRlVGltZXI6IGZ1bmN0aW9uIHN0b3BGaWVsZFVwZGF0ZVRpbWVyKCkgewogICAgICBpZiAodGhpcy5maWVsZFVwZGF0ZVRpbWVyKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmZpZWxkVXBkYXRlVGltZXIpOwogICAgICAgIHRoaXMuZmllbGRVcGRhdGVUaW1lciA9IG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBnZXRDaWVjbGVBekFsdDogZnVuY3Rpb24gZ2V0Q2llY2xlQXpBbHQoQ2lyY2xlKSB7CiAgICAgIHZhciBvYnMgPSB0aGlzLiRzdGVsLmNvcmUub2JzZXJ2ZXI7CiAgICAgIHZhciBjaXJzID0gdGhpcy4kc3RlbC5jb252ZXJ0RnJhbWUob2JzLCAnSUNSRicsICdDSVJTJywgQ2lyY2xlLmdldEluZm8oJ3JhZGVjJykpOwogICAgICB2YXIgb2JzZXJ2ZWQgPSB0aGlzLiRzdGVsLmNvbnZlcnRGcmFtZShvYnMsICdDSVJTJywgJ09CU0VSVkVEJywgY2lycyk7IC8vIGNvbnN0IGF6YWx0ID0gdGhpcy4kc3RlbC5jMnModGhpcy4kc3RlbC5jb252ZXJ0RnJhbWUodGhpcy4kc3RlbC5jb3JlLm9ic2VydmVyLCAnSUNSRicsICdPQlNFUlZFRCcsIG9iai5nZXRJbmZvKCdyYWRlYycpKSkKCiAgICAgIHZhciBhemFsdCA9IHRoaXMuJHN0ZWwuYzJzKG9ic2VydmVkKTsKICAgICAgdmFyIGF6ID0gdGhpcy4kc3RlbC5hbnAoYXphbHRbMF0pOwogICAgICB2YXIgYWx0ID0gdGhpcy4kc3RlbC5hbnAoYXphbHRbMV0pOwogICAgICB2YXIgYXpfcmFmID0gdGhpcy4kc3RlbC5hMmFmKGF6LCAxKTsKICAgICAgdmFyIEF6X2RlZ3JlZSA9IChhel9yYWYuZGVncmVlcyA8IDAgPyBhel9yYWYuZGVncmVlcyArIDE4MCA6IGF6X3JhZi5kZWdyZWVzKSArIGF6X3JhZi5hcmNtaW51dGVzIC8gNjAgKyBhel9yYWYuYXJjc2Vjb25kcyAvIDM2MDA7CiAgICAgIHZhciBhbHRfcmFmID0gdGhpcy4kc3RlbC5hMmFmKGFsdCwgMSk7CiAgICAgIHZhciBBbHRfZGVncmVlID0gYWx0X3JhZi5kZWdyZWVzICsgYWx0X3JhZi5hcmNtaW51dGVzIC8gNjAgKyBhbHRfcmFmLmFyY3NlY29uZHMgLyAzNjAwOwogICAgICBjb25zb2xlLmxvZygnQXpBbHQ6JywgQXpfZGVncmVlLCBBbHRfZGVncmVlKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBBel9kZWdyZWU6IEF6X2RlZ3JlZSwKICAgICAgICBBbHRfZGVncmVlOiBBbHRfZGVncmVlCiAgICAgIH07CiAgICB9LAogICAgU29sdmVSZXN1bHRNYXJrOiBmdW5jdGlvbiBTb2x2ZVJlc3VsdE1hcmsoUmFEZWdyZWUsIERlY0RlZ3JlZSwgQXppbXV0aCwgQWx0aXR1ZGUpIHsKICAgICAgdmFyIE1hcmtDaXJjbGVfUmFEZWMgPSB0aGlzLkFkZE1hcmtDaXJjbGUodGhpcy4kc3RlbCwgZ2xMYXllciwgMSwgIlJhRGVjIik7CiAgICAgIHZhciBtbSA9IE1hcmtDaXJjbGVfUmFEZWMucG9zOwogICAgICB0aGlzLnZlYzNfZnJvbV9zcGhlKFJhRGVncmVlLCBEZWNEZWdyZWUsIG1tKTsKICAgICAgTWFya0NpcmNsZV9SYURlYy5wb3MgPSBtbTsKICAgICAgY29uc29sZS5sb2coIlJhRGVjIGNpcmNsZSBjb29yZGluYXRlczoiICsgbW0pOwogICAgICB2YXIgQXpBbHQgPSB0aGlzLmdldENpZWNsZUF6QWx0KE1hcmtDaXJjbGVfUmFEZWMpOwogICAgICBnbExheWVyLnJlbW92ZShNYXJrQ2lyY2xlX1JhRGVjKTsKICAgICAgdGhpcy5NYXJrQ2lyY2xlTnVtKys7CiAgICAgIHZhciBMYWJlbCA9ICJBekFsdF9WdWVfIiArIHRoaXMuTWFya0NpcmNsZU51bTsKICAgICAgdmFyIE1hcmtDaXJjbGVfQWx0QXogPSB0aGlzLkFkZE1hcmtDaXJjbGUodGhpcy4kc3RlbCwgZ2xMYXllciwgNCwgTGFiZWwpOwogICAgICBtbSA9IE1hcmtDaXJjbGVfQWx0QXoucG9zOwogICAgICB0aGlzLnZlYzNfZnJvbV9zcGhlKEF6QWx0LkF6X2RlZ3JlZSwgQXpBbHQuQWx0X2RlZ3JlZSwgbW0pOwogICAgICBNYXJrQ2lyY2xlX0FsdEF6LnBvcyA9IG1tOwogICAgICBjb25zb2xlLmxvZygiQXpBbHRfVnVlIGNpcmNsZSBjb29yZGluYXRlczoiICsgbW0pOwogICAgICBjb25zb2xlLmxvZygiQXpBbHRfVnVlIGNpcmNsZSB4OiIgKyBtbVswXSk7CiAgICAgIGNvbnNvbGUubG9nKCJBekFsdF9WdWUgY2lyY2xlIHk6IiArIG1tWzFdKTsKICAgICAgY29uc29sZS5sb2coIkF6QWx0X1Z1ZSBjaXJjbGUgejoiICsgbW1bMl0pOwogICAgICB0aGlzLkxhc3RQb2ludF9BekFsdCA9IHRoaXMuZ2V0Q2llY2xlQXpBbHQoTWFya0NpcmNsZV9BbHRBeik7CiAgICAgIHRoaXMuQ2FsY3VsYXRpb25Qb2xhclBvaW50KG1tKTsgLy8g5bCG5Yib5bu655qE5ZyG5a2Y5YKo5Yiw5pWw57uE5LitCiAgICAgIC8vIHRoaXMuQ2lyY2xlcy5wdXNoKE1hcmtDaXJjbGVfUmFEZWMpOwoKICAgICAgdGhpcy5DaXJjbGVzLnB1c2goTWFya0NpcmNsZV9BbHRBeik7CiAgICB9LAogICAgUmVtb3ZlQWxsQ2lyY2xlczogZnVuY3Rpb24gUmVtb3ZlQWxsQ2lyY2xlcygpIHsKICAgICAgdGhpcy5DaXJjbGVzLmZvckVhY2goZnVuY3Rpb24gKGNpcmNsZSkgewogICAgICAgIGdsTGF5ZXIucmVtb3ZlKGNpcmNsZSk7CiAgICAgIH0pOwogICAgICB0aGlzLkNpcmNsZXMgPSBbXTsKICAgIH0sCiAgICBTb2x2ZVJlc3VsdE1hcmtfUmVhbFRpbWU6IGZ1bmN0aW9uIFNvbHZlUmVzdWx0TWFya19SZWFsVGltZShSYURlZ3JlZSwgRGVjRGVncmVlLCBBemltdXRoLCBBbHRpdHVkZSkgewogICAgICB0aGlzLkxhc3RDaXJjbGVfUmFEZWMgPSB0aGlzLkFkZE1hcmtDaXJjbGUodGhpcy4kc3RlbCwgZ2xMYXllciwgMSwgIlJhRGVjIik7CiAgICAgIHZhciBtbSA9IHRoaXMuTGFzdENpcmNsZV9SYURlYy5wb3M7CiAgICAgIHRoaXMudmVjM19mcm9tX3NwaGUoUmFEZWdyZWUsIERlY0RlZ3JlZSwgbW0pOwogICAgICB0aGlzLkxhc3RDaXJjbGVfUmFEZWMucG9zID0gbW07CiAgICAgIGNvbnNvbGUubG9nKCJSYURlYyBjaXJjbGUgY29vcmRpbmF0ZXM6IiArIG1tKTsKICAgICAgdmFyIEF6QWx0ID0gdGhpcy5nZXRDaWVjbGVBekFsdCh0aGlzLkxhc3RDaXJjbGVfUmFEZWMpOwogICAgICBnbExheWVyLnJlbW92ZSh0aGlzLkxhc3RDaXJjbGVfUmFEZWMpOwoKICAgICAgaWYgKHRoaXMuTGFzdENpcmNsZV9BekFsdCAhPT0gbnVsbCAmJiB0aGlzLkxhc3RDaXJjbGVfQXpBbHQgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGdsTGF5ZXIucmVtb3ZlKHRoaXMuTGFzdENpcmNsZV9BekFsdCk7CiAgICAgIH0KCiAgICAgIHRoaXMuTGFzdENpcmNsZV9BekFsdCA9IHRoaXMuQWRkTWFya0NpcmNsZSh0aGlzLiRzdGVsLCBnbExheWVyLCA0LCAnQ3VycmVudCcpOwogICAgICBtbSA9IHRoaXMuTGFzdENpcmNsZV9BekFsdC5wb3M7CiAgICAgIHRoaXMudmVjM19mcm9tX3NwaGUoQXpBbHQuQXpfZGVncmVlLCBBekFsdC5BbHRfZGVncmVlLCBtbSk7CiAgICAgIHRoaXMuTGFzdENpcmNsZV9BekFsdC5wb3MgPSBtbTsKICAgICAgdGhpcy5MYXN0Q2lyY2xlX0F6QWx0LmNvbG9yID0gWzAsIDEsIDEsIDAuMjVdOwogICAgICBjb25zb2xlLmxvZygiQXpBbHRfVnVlIGNpcmNsZSBjb29yZGluYXRlczoiICsgbW0pOwogICAgICBjb25zb2xlLmxvZygiQXpBbHRfVnVlIGNpcmNsZSB4OiIgKyBtbVswXSk7CiAgICAgIGNvbnNvbGUubG9nKCJBekFsdF9WdWUgY2lyY2xlIHk6IiArIG1tWzFdKTsKICAgICAgY29uc29sZS5sb2coIkF6QWx0X1Z1ZSBjaXJjbGUgejoiICsgbW1bMl0pOwogICAgICB0aGlzLkN1cnJlbnRfQXpBbHQgPSB0aGlzLmdldENpZWNsZUF6QWx0KHRoaXMuTGFzdENpcmNsZV9BekFsdCk7CiAgICAgIGNvbnNvbGUubG9nKCJDdXJyZW50IEF6QWx0OiIsIHRoaXMuQ3VycmVudF9BekFsdC5Bel9kZWdyZWUsIHRoaXMuQ3VycmVudF9BekFsdC5BbHRfZGVncmVlKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTaG93Q3VycmVudEF6QWx0VGV4dCcsIHRoaXMuQ3VycmVudF9BekFsdC5Bel9kZWdyZWUsIHRoaXMuQ3VycmVudF9BekFsdC5BbHRfZGVncmVlKTsKICAgIH0sCiAgICBDYWxjdWxhdGlvblBvbGFyUG9pbnQ6IGZ1bmN0aW9uIENhbGN1bGF0aW9uUG9sYXJQb2ludChjb29yZGluYXRlKSB7CiAgICAgIHRoaXMuQ2FydGVzaWFuTGlzdC5wdXNoKGNvb3JkaW5hdGUpOwoKICAgICAgaWYgKHRoaXMuQ2FydGVzaWFuTGlzdC5sZW5ndGggPCAzKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLiRidXMuJGVtaXQoJ0hpZGVTaW5nbGVTb2x2ZUJ0bicpOyAvLyDojrflj5bkuInkuKrngrnnmoTlnZDmoIcKCiAgICAgIHZhciBwMSA9IHRoaXMuQ2FydGVzaWFuTGlzdFswXTsKICAgICAgdmFyIHAyID0gdGhpcy5DYXJ0ZXNpYW5MaXN0WzFdOwogICAgICB2YXIgcDMgPSB0aGlzLkNhcnRlc2lhbkxpc3RbMl07IC8vIOiuoeeul+S4pOS4quWQkemHjwoKICAgICAgdmFyIHYxID0gW3AyWzBdIC0gcDFbMF0sIHAyWzFdIC0gcDFbMV0sIHAyWzJdIC0gcDFbMl1dOwogICAgICB2YXIgdjIgPSBbcDNbMF0gLSBwMVswXSwgcDNbMV0gLSBwMVsxXSwgcDNbMl0gLSBwMVsyXV07IC8vIOiuoeeul+azleWQkemHjwoKICAgICAgdmFyIG5vcm1hbCA9IFt2MVsxXSAqIHYyWzJdIC0gdjFbMl0gKiB2MlsxXSwgdjFbMl0gKiB2MlswXSAtIHYxWzBdICogdjJbMl0sIHYxWzBdICogdjJbMV0gLSB2MVsxXSAqIHYyWzBdXTsgLy8g6K6h566X5rOV5ZCR6YeP55qE6ZW/5bqmCgogICAgICB2YXIgbm9ybWFsTGVuZ3RoID0gTWF0aC5zcXJ0KE1hdGgucG93KG5vcm1hbFswXSwgMikgKyBNYXRoLnBvdyhub3JtYWxbMV0sIDIpICsgTWF0aC5wb3cobm9ybWFsWzJdLCAyKSk7IC8vIOW9kuS4gOWMluazleWQkemHjwoKICAgICAgdmFyIHVuaXROb3JtYWwgPSBbbm9ybWFsWzBdIC8gbm9ybWFsTGVuZ3RoLCBub3JtYWxbMV0gLyBub3JtYWxMZW5ndGgsIG5vcm1hbFsyXSAvIG5vcm1hbExlbmd0aF07IC8vIOWBh+iuvueQg+eahOWNiuW+hOS4unLvvIzlnIblv4PkuLooMCwgMCwgMCkKCiAgICAgIHZhciByID0gMTsgLy8g5qC55o2u5L2g55qE5a6e6ZmF5oOF5Ya16LCD5pW0CiAgICAgIC8vIOiuoeeul+S4jueQg+mdoueahOS6pOeCuQoKICAgICAgdmFyIGludGVyc2VjdGlvbjEgPSBbdW5pdE5vcm1hbFswXSAqIHIsIHVuaXROb3JtYWxbMV0gKiByLCB1bml0Tm9ybWFsWzJdICogcl07CiAgICAgIHZhciBpbnRlcnNlY3Rpb24yID0gWy11bml0Tm9ybWFsWzBdICogciwgLXVuaXROb3JtYWxbMV0gKiByLCAtdW5pdE5vcm1hbFsyXSAqIHJdOwogICAgICBjb25zb2xlLmxvZygnSW50ZXJzZWN0aW9uIFBvaW50czonLCBpbnRlcnNlY3Rpb24xLCBpbnRlcnNlY3Rpb24yKTsgLy8g6YCJ5oup56a7KDAsMCwxKeabtOi/keeahOS6pOeCuQoKICAgICAgdmFyIGNsb3NlckludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbjFbMl0gPiAwID8gaW50ZXJzZWN0aW9uMSA6IGludGVyc2VjdGlvbjI7CiAgICAgIHZhciBNYXJrQ2lyY2xlX0Zha2VQb2xhclBvaW50ID0gdGhpcy5BZGRNYXJrQ2lyY2xlKHRoaXMuJHN0ZWwsIGdsTGF5ZXIsIDQsICJGYWtlUG9sYXJQb2ludCIpOwogICAgICB2YXIgbW0gPSBNYXJrQ2lyY2xlX0Zha2VQb2xhclBvaW50LnBvczsKICAgICAgbW1bMF0gPSBjbG9zZXJJbnRlcnNlY3Rpb25bMF07CiAgICAgIG1tWzFdID0gY2xvc2VySW50ZXJzZWN0aW9uWzFdOwogICAgICBtbVsyXSA9IGNsb3NlckludGVyc2VjdGlvblsyXTsKICAgICAgTWFya0NpcmNsZV9GYWtlUG9sYXJQb2ludC5wb3MgPSBtbTsKICAgICAgY29uc29sZS5sb2coIkZha2VQb2xhclBvaW50IGNpcmNsZSBjb29yZGluYXRlczoiICsgbW0pOwogICAgICB2YXIgQXpBbHRfRmFrZVBvbGFyUG9pbnQgPSB0aGlzLmdldENpZWNsZUF6QWx0KE1hcmtDaXJjbGVfRmFrZVBvbGFyUG9pbnQpOwogICAgICBjb25zb2xlLmxvZygiRmFrZSBQb2xhciBQb2ludCBBekFsdDoiLCBBekFsdF9GYWtlUG9sYXJQb2ludC5Bel9kZWdyZWUsICcsJywgQXpBbHRfRmFrZVBvbGFyUG9pbnQuQWx0X2RlZ3JlZSk7CiAgICAgIHRoaXMuQ2lyY2xlcy5wdXNoKE1hcmtDaXJjbGVfRmFrZVBvbGFyUG9pbnQpOwogICAgICB2YXIgQXpBbHRfUG9sYXJQb2ludCA9IHsKICAgICAgICBBel9kZWdyZWU6IDAsCiAgICAgICAgQWx0X2RlZ3JlZTogdGhpcy5Qb2xhclBvaW50X0FsdGl0dWRlCiAgICAgIH07IC8vIGNvbnNvbGUubG9nKCJSZWFsIFBvbGFyIFBvaW50IEF6QWx0OiIsIEF6QWx0X1BvbGFyUG9pbnQuQXpfZGVncmVlLCAnLCcsIEF6QWx0X1BvbGFyUG9pbnQuQWx0X2RlZ3JlZSk7CgogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdSZWFsIFBvbGFyIFBvaW50IEF6QWx0OicgKyBBekFsdF9Qb2xhclBvaW50LkF6X2RlZ3JlZSArICcsJyArIEF6QWx0X1BvbGFyUG9pbnQuQWx0X2RlZ3JlZSwgJ2luZm8nKTsgLy8gY29uc29sZS5sb2coIkxhc3QgUG9pbnQgQXpBbHQ6IiwgdGhpcy5MYXN0UG9pbnRfQXpBbHQuQXpfZGVncmVlLCB0aGlzLkxhc3RQb2ludF9BekFsdC5BbHRfZGVncmVlKTsKCiAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0xhc3QgUG9pbnQgQXpBbHQ6JyArIHRoaXMuTGFzdFBvaW50X0F6QWx0LkF6X2RlZ3JlZSArICcsJyArIHRoaXMuTGFzdFBvaW50X0F6QWx0LkFsdF9kZWdyZWUsICdpbmZvJyk7IC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgICAvLyAvLyDlsIbnkIPlnZDmoIfovazmjaLkuLrnrJvljaHlsJTlnZDmoIcKICAgICAgLy8gbGV0IGZha2VQb2xhclBvaW50ID0gdGhpcy5zcGhlcmljYWxUb0NhcnRlc2lhbihBekFsdF9GYWtlUG9sYXJQb2ludC5Bel9kZWdyZWUsIEF6QWx0X0Zha2VQb2xhclBvaW50LkFsdF9kZWdyZWUpOwogICAgICAvLyBsZXQgcG9sYXJQb2ludCA9IHRoaXMuc3BoZXJpY2FsVG9DYXJ0ZXNpYW4oQXpBbHRfUG9sYXJQb2ludC5Bel9kZWdyZWUsIEF6QWx0X1BvbGFyUG9pbnQuQWx0X2RlZ3JlZSk7CiAgICAgIC8vIGxldCBsYXN0UG9pbnQgPSB0aGlzLnNwaGVyaWNhbFRvQ2FydGVzaWFuKHRoaXMuTGFzdFBvaW50X0F6QWx0LkF6X2RlZ3JlZSwgdGhpcy5MYXN0UG9pbnRfQXpBbHQuQWx0X2RlZ3JlZSk7CiAgICAgIC8vIC8vIOiuoeeul+aXi+i9rOWbm+WFg+aVsAogICAgICAvLyBsZXQgcXVhdGVybmlvbiA9IHRoaXMuY29tcHV0ZVF1YXRlcm5pb24oZmFrZVBvbGFyUG9pbnQsIHBvbGFyUG9pbnQpOwogICAgICAvLyAvLyDlupTnlKjml4vovawKICAgICAgLy8gbGV0IGZvdXJ0aFBvaW50ID0gdGhpcy5hcHBseVF1YXRlcm5pb24obGFzdFBvaW50LCBxdWF0ZXJuaW9uKTsKICAgICAgLy8gLy8g5bCG57uT5p6c6L2s5o2i5Zue55CD5Z2Q5qCHCiAgICAgIC8vIGxldCBmb3VydGhQb2ludEF6QWx0ID0gdGhpcy5jYXJ0ZXNpYW5Ub1NwaGVyaWNhbChmb3VydGhQb2ludCk7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJGb3VydGggUG9pbnQgQXpBbHQ6IiwgZm91cnRoUG9pbnRBekFsdC5Bel9kZWdyZWUsICcsJywgZm91cnRoUG9pbnRBekFsdC5BbHRfZGVncmVlKTsKICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAgIC8vIOiuoeeul+inkuW6puW3ruWAvO+8jOiAg+iZkeinkuW6pueahOW+queOr+aAp+i0qAoKICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlQW5nbGVEaWZmZXJlbmNlKGFuZ2xlMSwgYW5nbGUyKSB7CiAgICAgICAgdmFyIGRpZmZlcmVuY2UgPSBhbmdsZTIgLSBhbmdsZTE7CgogICAgICAgIHdoaWxlIChkaWZmZXJlbmNlID4gMTgwKSB7CiAgICAgICAgICBkaWZmZXJlbmNlIC09IDM2MDsKICAgICAgICB9CgogICAgICAgIHdoaWxlIChkaWZmZXJlbmNlIDwgLTE4MCkgewogICAgICAgICAgZGlmZmVyZW5jZSArPSAzNjA7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZGlmZmVyZW5jZTsKICAgICAgfQoKICAgICAgdmFyIGF6aW11dGhEaWZmZXJlbmNlID0gY2FsY3VsYXRlQW5nbGVEaWZmZXJlbmNlKEF6QWx0X0Zha2VQb2xhclBvaW50LkF6X2RlZ3JlZSwgQXpBbHRfUG9sYXJQb2ludC5Bel9kZWdyZWUpOwogICAgICB2YXIgYWx0aXR1ZGVEaWZmZXJlbmNlID0gQXpBbHRfUG9sYXJQb2ludC5BbHRfZGVncmVlIC0gQXpBbHRfRmFrZVBvbGFyUG9pbnQuQWx0X2RlZ3JlZTsgLy8g5bqU55So5beu5YC85YiwTGFzdFBvaW50CgogICAgICB2YXIgZm91cnRoUG9pbnRBekFsdCA9IHsKICAgICAgICBBel9kZWdyZWU6IHRoaXMuTGFzdFBvaW50X0F6QWx0LkF6X2RlZ3JlZSArIGF6aW11dGhEaWZmZXJlbmNlLAogICAgICAgIEFsdF9kZWdyZWU6IHRoaXMuTGFzdFBvaW50X0F6QWx0LkFsdF9kZWdyZWUgKyBhbHRpdHVkZURpZmZlcmVuY2UKICAgICAgfTsgLy8g56Gu5L+d5pa55L2N6KeS5ZyoMOWIsDM2MOW6puS5i+mXtAoKICAgICAgZm91cnRoUG9pbnRBekFsdC5Bel9kZWdyZWUgPSAoZm91cnRoUG9pbnRBekFsdC5Bel9kZWdyZWUgKyAzNjApICUgMzYwOyAvLyDnoa7kv53pq5jluqbop5LlnKgtOTDliLA5MOW6puS5i+mXtAoKICAgICAgZm91cnRoUG9pbnRBekFsdC5BbHRfZGVncmVlID0gTWF0aC5tYXgoTWF0aC5taW4oZm91cnRoUG9pbnRBekFsdC5BbHRfZGVncmVlLCA5MCksIC05MCk7CiAgICAgIGNvbnNvbGUubG9nKCJGb3VydGggUG9pbnQgQXpBbHQ6IiwgZm91cnRoUG9pbnRBekFsdC5Bel9kZWdyZWUsICcsJywgZm91cnRoUG9pbnRBekFsdC5BbHRfZGVncmVlKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTaG93QXpBbHRUZXh0JywgYXppbXV0aERpZmZlcmVuY2UsIGFsdGl0dWRlRGlmZmVyZW5jZSwgZm91cnRoUG9pbnRBekFsdC5Bel9kZWdyZWUsIGZvdXJ0aFBvaW50QXpBbHQuQWx0X2RlZ3JlZSk7IC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogICAgICAvLyDlsIbop5LluqbovazmjaLkuLrlvKfluqYKCiAgICAgIGZ1bmN0aW9uIGRlZ3JlZXNUb1JhZGlhbnMoZGVncmVlcykgewogICAgICAgIHJldHVybiBkZWdyZWVzICogTWF0aC5QSSAvIDE4MDsKICAgICAgfSAvLyDlsIbnkIPlnZDmoIfovazmjaLkuLrnrJvljaHlsJTlnZDmoIcKCgogICAgICBmdW5jdGlvbiBzcGhlcmljYWxUb0NhcnRlc2lhbihhemltdXRoLCBhbHRpdHVkZSkgewogICAgICAgIHZhciBheiA9IGRlZ3JlZXNUb1JhZGlhbnMoYXppbXV0aCk7CiAgICAgICAgdmFyIGFsdCA9IGRlZ3JlZXNUb1JhZGlhbnMoYWx0aXR1ZGUpOwogICAgICAgIHZhciB4ID0gTWF0aC5jb3MoYWx0KSAqIE1hdGguY29zKGF6KTsKICAgICAgICB2YXIgeSA9IE1hdGguY29zKGFsdCkgKiBNYXRoLnNpbihheik7CiAgICAgICAgdmFyIHogPSBNYXRoLnNpbihhbHQpOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICB4OiB4LAogICAgICAgICAgeTogeSwKICAgICAgICAgIHo6IHoKICAgICAgICB9OwogICAgICB9IC8vIOWwhuesrOWbm+S4queCuei9rOaNouS4uuesm+WNoeWwlOWdkOaghwoKCiAgICAgIHZhciBmb3VydGhQb2ludENhcnRlc2lhbiA9IHNwaGVyaWNhbFRvQ2FydGVzaWFuKGZvdXJ0aFBvaW50QXpBbHQuQXpfZGVncmVlLCBmb3VydGhQb2ludEF6QWx0LkFsdF9kZWdyZWUpOwogICAgICBjb25zb2xlLmxvZygiRm91cnRoIFBvaW50IENhcnRlc2lhbjoiLCBmb3VydGhQb2ludENhcnRlc2lhbi54LCAnLCcsIGZvdXJ0aFBvaW50Q2FydGVzaWFuLnksICcsJywgZm91cnRoUG9pbnRDYXJ0ZXNpYW4ueik7CiAgICAgIHZhciBNYXJrQ2lyY2xlX2ZvdXJ0aFBvaW50ID0gdGhpcy5BZGRNYXJrQ2lyY2xlKHRoaXMuJHN0ZWwsIGdsTGF5ZXIsIDQsICJUYXJnZXQgUG9pbnQiKTsKICAgICAgbW0gPSBNYXJrQ2lyY2xlX2ZvdXJ0aFBvaW50LnBvczsKICAgICAgbW1bMF0gPSBmb3VydGhQb2ludENhcnRlc2lhbi54OwogICAgICBtbVsxXSA9IGZvdXJ0aFBvaW50Q2FydGVzaWFuLnk7CiAgICAgIG1tWzJdID0gZm91cnRoUG9pbnRDYXJ0ZXNpYW4uejsKICAgICAgTWFya0NpcmNsZV9mb3VydGhQb2ludC5wb3MgPSBtbTsKICAgICAgTWFya0NpcmNsZV9mb3VydGhQb2ludC5jb2xvciA9IFsxLCAwLCAwLCAwLjI1XTsKICAgICAgdGhpcy5DaXJjbGVzLnB1c2goTWFya0NpcmNsZV9mb3VydGhQb2ludCk7IC8vIOa4heepuuWIl+ihqO+8jOWHhuWkh+S4i+asoeiuoeeulwoKICAgICAgdGhpcy5DYXJ0ZXNpYW5MaXN0ID0gW107CiAgICAgIHRoaXMuTWFya0NpcmNsZU51bSA9IDA7CiAgICB9LAogICAgLy8g5bCG6KeS5bqm6L2s5o2i5Li65byn5bqmCiAgICBkZWdyZWVzVG9SYWRpYW5zOiBmdW5jdGlvbiBkZWdyZWVzVG9SYWRpYW5zKGRlZ3JlZXMpIHsKICAgICAgcmV0dXJuIGRlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwOwogICAgfSwKICAgIC8vIOWwhueQg+WdkOagh+i9rOaNouS4uuesm+WNoeWwlOWdkOaghwogICAgc3BoZXJpY2FsVG9DYXJ0ZXNpYW46IGZ1bmN0aW9uIHNwaGVyaWNhbFRvQ2FydGVzaWFuKGF6aW11dGgsIGFsdGl0dWRlKSB7CiAgICAgIHZhciBheiA9IHRoaXMuZGVncmVlc1RvUmFkaWFucyhhemltdXRoKTsKICAgICAgdmFyIGFsdCA9IHRoaXMuZGVncmVlc1RvUmFkaWFucyhhbHRpdHVkZSk7CiAgICAgIHZhciB4ID0gTWF0aC5jb3MoYWx0KSAqIE1hdGguY29zKGF6KTsKICAgICAgdmFyIHkgPSBNYXRoLmNvcyhhbHQpICogTWF0aC5zaW4oYXopOwogICAgICB2YXIgeiA9IE1hdGguc2luKGFsdCk7CiAgICAgIHJldHVybiB7CiAgICAgICAgeDogeCwKICAgICAgICB5OiB5LAogICAgICAgIHo6IHoKICAgICAgfTsKICAgIH0sCiAgICAvLyDorqHnrpfml4vovazlm5vlhYPmlbAKICAgIGNvbXB1dGVRdWF0ZXJuaW9uOiBmdW5jdGlvbiBjb21wdXRlUXVhdGVybmlvbihmcm9tLCB0bykgewogICAgICB2YXIgdyA9IGZyb20ueCAqIHRvLnggKyBmcm9tLnkgKiB0by55ICsgZnJvbS56ICogdG8ueiArIDE7CiAgICAgIHZhciB4ID0gZnJvbS55ICogdG8ueiAtIGZyb20ueiAqIHRvLnk7CiAgICAgIHZhciB5ID0gZnJvbS56ICogdG8ueCAtIGZyb20ueCAqIHRvLno7CiAgICAgIHZhciB6ID0gZnJvbS54ICogdG8ueSAtIGZyb20ueSAqIHRvLng7CiAgICAgIHZhciBub3JtID0gTWF0aC5zcXJ0KHcgKiB3ICsgeCAqIHggKyB5ICogeSArIHogKiB6KTsKICAgICAgcmV0dXJuIHsKICAgICAgICB3OiB3IC8gbm9ybSwKICAgICAgICB4OiB4IC8gbm9ybSwKICAgICAgICB5OiB5IC8gbm9ybSwKICAgICAgICB6OiB6IC8gbm9ybQogICAgICB9OwogICAgfSwKICAgIC8vIOW6lOeUqOWbm+WFg+aVsOaXi+i9rAogICAgYXBwbHlRdWF0ZXJuaW9uOiBmdW5jdGlvbiBhcHBseVF1YXRlcm5pb24ocG9pbnQsIHF1YXQpIHsKICAgICAgdmFyIHggPSBxdWF0LncgKiBxdWF0LncgKiBwb2ludC54ICsgMiAqIHF1YXQueSAqIHF1YXQudyAqIHBvaW50LnogLSAyICogcXVhdC56ICogcXVhdC53ICogcG9pbnQueSArIHF1YXQueCAqIHF1YXQueCAqIHBvaW50LnggKyAyICogcXVhdC55ICogcXVhdC54ICogcG9pbnQueSArIDIgKiBxdWF0LnogKiBxdWF0LnggKiBwb2ludC56IC0gcXVhdC56ICogcXVhdC56ICogcG9pbnQueCAtIHF1YXQueSAqIHF1YXQueSAqIHBvaW50Lng7CiAgICAgIHZhciB5ID0gMiAqIHF1YXQueCAqIHF1YXQueSAqIHBvaW50LnggKyBxdWF0LnkgKiBxdWF0LnkgKiBwb2ludC55ICsgMiAqIHF1YXQueiAqIHF1YXQueSAqIHBvaW50LnogKyAyICogcXVhdC53ICogcXVhdC56ICogcG9pbnQueCAtIHF1YXQueiAqIHF1YXQueiAqIHBvaW50LnkgKyBxdWF0LncgKiBxdWF0LncgKiBwb2ludC55IC0gMiAqIHF1YXQueCAqIHF1YXQudyAqIHBvaW50LnogLSBxdWF0LnggKiBxdWF0LnggKiBwb2ludC55OwogICAgICB2YXIgeiA9IDIgKiBxdWF0LnggKiBxdWF0LnogKiBwb2ludC54ICsgMiAqIHF1YXQueSAqIHF1YXQueiAqIHBvaW50LnkgKyBxdWF0LnogKiBxdWF0LnogKiBwb2ludC56IC0gMiAqIHF1YXQudyAqIHF1YXQueSAqIHBvaW50LnggLSBxdWF0LnkgKiBxdWF0LnkgKiBwb2ludC56ICsgMiAqIHF1YXQudyAqIHF1YXQueCAqIHBvaW50LnkgLSBxdWF0LnggKiBxdWF0LnggKiBwb2ludC56ICsgcXVhdC53ICogcXVhdC53ICogcG9pbnQuejsKICAgICAgcmV0dXJuIHsKICAgICAgICB4OiB4LAogICAgICAgIHk6IHksCiAgICAgICAgejogegogICAgICB9OwogICAgfSwKICAgIC8vIOWwhuesm+WNoeWwlOWdkOagh+i9rOaNouWbnueQg+WdkOaghwogICAgY2FydGVzaWFuVG9TcGhlcmljYWw6IGZ1bmN0aW9uIGNhcnRlc2lhblRvU3BoZXJpY2FsKGNhcnRlc2lhbikgewogICAgICB2YXIgciA9IE1hdGguc3FydChNYXRoLnBvdyhjYXJ0ZXNpYW4ueCwgMikgKyBNYXRoLnBvdyhjYXJ0ZXNpYW4ueSwgMikgKyBNYXRoLnBvdyhjYXJ0ZXNpYW4ueiwgMikpOwogICAgICB2YXIgYXppbXV0aCA9IE1hdGguYXRhbjIoY2FydGVzaWFuLnksIGNhcnRlc2lhbi54KTsKICAgICAgdmFyIGFsdGl0dWRlID0gTWF0aC5hc2luKGNhcnRlc2lhbi56IC8gcik7CiAgICAgIHJldHVybiB7CiAgICAgICAgQXpfZGVncmVlOiBhemltdXRoICogMTgwIC8gTWF0aC5QSSwKICAgICAgICBBbHRfZGVncmVlOiBhbHRpdHVkZSAqIDE4MCAvIE1hdGguUEkKICAgICAgfTsKICAgIH0sCiAgICBTb2x2ZUZvdk1hcms6IGZ1bmN0aW9uIFNvbHZlRm92TWFyayhSYURlYykgewogICAgICBjb25zb2xlLmxvZygnUmFEZWNbNF06JywgUmFEZWMpOyAvLyBsZXQgcmVjdGFuZ2xlID0gdGhpcy5BZGRNYXJrUmVjdGFuZ2xlKHRoaXMuJHN0ZWwsIGdsTGF5ZXIsIFJhRGVjKTsKCiAgICAgIHRoaXMuQ2lyY2xlcy5wdXNoKHJlY3RhbmdsZSk7CiAgICB9LAogICAgQ2FsaWJyYXRlUG9sYXJBeGlzOiBmdW5jdGlvbiBDYWxpYnJhdGVQb2xhckF4aXMoKSB7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQ2FsaWJyYXRlUG9sYXJBeGlzTW9kZScpOyAvLyB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ1N0YXJ0TG9vcENhcHR1cmUnKTsKCiAgICAgIHRoaXMubmF2ID0gZmFsc2U7CiAgICB9LAogICAgUmVjYWxpYnJhdGVQb2xhckF4aXM6IGZ1bmN0aW9uIFJlY2FsaWJyYXRlUG9sYXJBeGlzKCkgewogICAgICAvLyDmuIXnqbrliJfooajvvIzlh4blpIfkuIvmrKHorqHnrpcKICAgICAgdGhpcy5DYXJ0ZXNpYW5MaXN0ID0gW107CiAgICAgIHRoaXMuTWFya0NpcmNsZU51bSA9IDA7CiAgICAgIHRoaXMuUmVtb3ZlQWxsQ2lyY2xlcygpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0NsZWFyU2xvdmVSZXN1bHRMaXN0Jyk7CiAgICB9LAogICAgLy8g5L2/55So5paw55qE5aSa6L655b2i5pa55byP57uY5Yi25qCh5YeG54K5CiAgICBkcmF3Q2FsaWJyYXRpb25Qb2ludFBvbHlnb246IGZ1bmN0aW9uIGRyYXdDYWxpYnJhdGlvblBvaW50UG9seWdvbihjb29yZGluYXRlcywgY29sb3IsIG5hbWUpIHsKICAgICAgY29uc29sZS5sb2coIlx1N0VEOFx1NTIzNlx1NjgyMVx1NTFDNlx1NzBCOVx1NTkxQVx1OEZCOVx1NUY2MjogIi5jb25jYXQobmFtZSksIGNvb3JkaW5hdGVzKTsKCiAgICAgIHRyeSB7CiAgICAgICAgLy8g6aqM6K+B6L6T5YWl5Y+C5pWwCiAgICAgICAgaWYgKCFjb29yZGluYXRlcyB8fCAhQXJyYXkuaXNBcnJheShjb29yZGluYXRlcykpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+agoeWHhueCueWdkOagh+W/hemhu+aYr+aVsOe7hCcpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKGNvb3JkaW5hdGVzLmxlbmd0aCAhPT0gNSkgewogICAgICAgICAgY29uc29sZS5lcnJvcigiXHU2ODIxXHU1MUM2XHU3MEI5XHU1NzUwXHU2ODA3XHU1RkM1XHU5ODdCXHU2NjJGNVx1NEUyQVx1NzBCOVx1RkYwQ1x1NUY1M1x1NTI0RFx1NjcwOSIuY29uY2F0KGNvb3JkaW5hdGVzLmxlbmd0aCwgIlx1NEUyQVx1NzBCOSIpKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IC8vIOmqjOivgeavj+S4quWdkOagh+eCuQoKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb29yZGluYXRlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIGNvb3JkID0gY29vcmRpbmF0ZXNbaV07CgogICAgICAgICAgaWYgKCFjb29yZCB8fCB0eXBlb2YgY29vcmQucmEgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBjb29yZC5kZWMgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIlx1NjgyMVx1NTFDNlx1NzBCOVx1NTc1MFx1NjgwNyIuY29uY2F0KGksICJcdTY4M0NcdTVGMEZcdTk1MTlcdThCRUZcdUZGMUEiKSwgY29vcmQpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWRDb29yZGluYXRlKGNvb3JkLnJhKSB8fCAhdGhpcy5pc1ZhbGlkQ29vcmRpbmF0ZShjb29yZC5kZWMpKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIlx1NjgyMVx1NTFDNlx1NzBCOVx1NTc1MFx1NjgwNyIuY29uY2F0KGksICJcdTUwM0NcdTY1RTBcdTY1NDhcdUZGMUEiKSwgY29vcmQpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgfSAvLyDkvb/nlKjmlrDnmoTlpJrovrnlvaLnu5jliLbmlrnms5UKCgogICAgICAgIHZhciBjYWxpYnJhdGlvblBvbHlnb24gPSB0aGlzLkFkZEZpZWxkT2ZWaWV3UG9seWdvbih0aGlzLiRzdGVsLCBnbExheWVyLCBjb29yZGluYXRlcywgY29sb3IsIG5hbWUpOwoKICAgICAgICBpZiAoY2FsaWJyYXRpb25Qb2x5Z29uKSB7CiAgICAgICAgICAvLyDmt7vliqDliLDmoKHlh4bngrnmlbDnu4QKICAgICAgICAgIGlmICghdGhpcy5jYWxpYnJhdGlvbkNpcmNsZXMpIHsKICAgICAgICAgICAgdGhpcy5jYWxpYnJhdGlvbkNpcmNsZXMgPSBbXTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmNhbGlicmF0aW9uQ2lyY2xlcy5wdXNoKGNhbGlicmF0aW9uUG9seWdvbik7CiAgICAgICAgICBjb25zb2xlLmxvZygiXHU2ODIxXHU1MUM2XHU3MEI5XHU1OTFBXHU4RkI5XHU1RjYyXHU1MjFCXHU1RUZBXHU2MjEwXHU1MjlGOiAiLmNvbmNhdChuYW1lKSwgY2FsaWJyYXRpb25Qb2x5Z29uKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5lcnJvcigiXHU2ODIxXHU1MUM2XHU3MEI5XHU1OTFBXHU4RkI5XHU1RjYyXHU1MjFCXHU1RUZBXHU1OTMxXHU4RDI1OiAiLmNvbmNhdChuYW1lKSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+e7mOWItuagoeWHhueCueWkmui+ueW9ouaXtuWHuumUmTonLCBlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmuIXpmaTmiYDmnInmoKHlh4bngrkKICAgIGNsZWFyQ2FsaWJyYXRpb25Qb2ludHM6IGZ1bmN0aW9uIGNsZWFyQ2FsaWJyYXRpb25Qb2ludHMoKSB7CiAgICAgIGNvbnNvbGUubG9nKCfmuIXpmaTmiYDmnInmoKHlh4bngrknKTsgLy8g56Gu5L+d5pWw57uE5a2Y5ZyoCgogICAgICBpZiAoIXRoaXMuY2FsaWJyYXRpb25DaXJjbGVzKSB7CiAgICAgICAgdGhpcy5jYWxpYnJhdGlvbkNpcmNsZXMgPSBbXTsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLmFkanVzdG1lbnRDaXJjbGVzKSB7CiAgICAgICAgdGhpcy5hZGp1c3RtZW50Q2lyY2xlcyA9IFtdOwogICAgICB9IC8vIOa4hemZpOagoeWHhueCuQoKCiAgICAgIGlmICh0aGlzLmNhbGlicmF0aW9uQ2lyY2xlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgY29uc29sZS5sb2coIlx1NkUwNVx1OTY2NCAiLmNvbmNhdCh0aGlzLmNhbGlicmF0aW9uQ2lyY2xlcy5sZW5ndGgsICIgXHU0RTJBXHU2ODIxXHU1MUM2XHU3MEI5IikpOwogICAgICAgIHRoaXMuY2FsaWJyYXRpb25DaXJjbGVzLmZvckVhY2goZnVuY3Rpb24gKGNpcmNsZSwgaW5kZXgpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmIChjaXJjbGUgJiYgZ2xMYXllcikgewogICAgICAgICAgICAgIGdsTGF5ZXIucmVtb3ZlKGNpcmNsZSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIlx1NjIxMFx1NTI5Rlx1NkUwNVx1OTY2NFx1NjgyMVx1NTFDNlx1NzBCOSAiLmNvbmNhdChpbmRleCArIDEpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS53YXJuKCJcdTZFMDVcdTk2NjRcdTY4MjFcdTUxQzZcdTcwQjkgIi5jb25jYXQoaW5kZXggKyAxLCAiIFx1NjVGNlx1NTFGQVx1OTUxOToiKSwgZXJyb3IpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHRoaXMuY2FsaWJyYXRpb25DaXJjbGVzID0gW107CiAgICAgIH0gLy8g5riF6Zmk6LCD5pW054K5CgoKICAgICAgaWYgKHRoaXMuYWRqdXN0bWVudENpcmNsZXMubGVuZ3RoID4gMCkgewogICAgICAgIGNvbnNvbGUubG9nKCJcdTZFMDVcdTk2NjQgIi5jb25jYXQodGhpcy5hZGp1c3RtZW50Q2lyY2xlcy5sZW5ndGgsICIgXHU0RTJBXHU4QzAzXHU2NTc0XHU3MEI5IikpOwogICAgICAgIHRoaXMuYWRqdXN0bWVudENpcmNsZXMuZm9yRWFjaChmdW5jdGlvbiAoY2lyY2xlLCBpbmRleCkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKGNpcmNsZSAmJiBnbExheWVyKSB7CiAgICAgICAgICAgICAgZ2xMYXllci5yZW1vdmUoY2lyY2xlKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygiXHU2MjEwXHU1MjlGXHU2RTA1XHU5NjY0XHU4QzAzXHU2NTc0XHU3MEI5ICIuY29uY2F0KGluZGV4ICsgMSkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLndhcm4oIlx1NkUwNVx1OTY2NFx1OEMwM1x1NjU3NFx1NzBCOSAiLmNvbmNhdChpbmRleCArIDEsICIgXHU2NUY2XHU1MUZBXHU5NTE5OiIpLCBlcnJvcik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5hZGp1c3RtZW50Q2lyY2xlcyA9IFtdOwogICAgICB9IC8vIOa4hemZpOS4iuS4gOasoeS9jee9rgoKCiAgICAgIHRoaXMubGFzdFBvc2l0aW9uID0gbnVsbDsgLy8g5riF6Zmk55uu5qCH54K5CgogICAgICBpZiAodGhpcy50YXJnZXRQb2ludENpcmNsZSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBpZiAoZ2xMYXllcikgewogICAgICAgICAgICBnbExheWVyLnJlbW92ZSh0aGlzLnRhcmdldFBvaW50Q2lyY2xlKTsKICAgICAgICAgICAgY29uc29sZS5sb2coJ+aIkOWKn+a4hemZpOebruagh+eCuScpOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMudGFyZ2V0UG9pbnRDaXJjbGUgPSBudWxsOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLndhcm4oJ+a4hemZpOebruagh+eCueaXtuWHuumUmTonLCBlcnJvcik7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodGhpcy5mYWtlUG9sYXJBeGlzQ2lyY2xlKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmIChnbExheWVyKSB7CiAgICAgICAgICAgIGdsTGF5ZXIucmVtb3ZlKHRoaXMuZmFrZVBvbGFyQXhpc0NpcmNsZSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfmiJDlip/muIXpmaTlgYfmnoHovbQnKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgY29uc29sZS53YXJuKCfmuIXpmaTlgYfmnoHovbTml7blh7rplJk6JywgZXJyb3IpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5mYWtlUG9sYXJBeGlzQ2lyY2xlID0gbnVsbDsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2coJ+aJgOacieagoeWHhuebuOWFs+WFg+e0oOa4hemZpOWujOaIkCcpOwogICAgfSwKICAgIC8vIOS9v+eUqOaWsOeahOWkmui+ueW9ouaWueW8j+e7mOWItuiwg+aVtOeCuQogICAgLy8g5L2/55So5paw55qE5aSa6L655b2i5pa55byP57uY5Yi26LCD5pW054K577yI5LiN5Zyo5q2k5aSE55S75ZyG77yJCiAgICBkcmF3QWRqdXN0bWVudFBvaW50c1BvbHlnb246IGZ1bmN0aW9uIGRyYXdBZGp1c3RtZW50UG9pbnRzUG9seWdvbihjdXJyZW50Q29vcmRpbmF0ZXMsIHRhcmdldENvb3JkaW5hdGVzLCBjdXJyZW50Q29sb3IsIHRhcmdldENvbG9yLCBpc1RpbWVyVXBkYXRlKSB7CiAgICAgIGlmIChpc1RpbWVyVXBkYXRlID09PSB1bmRlZmluZWQpIGlzVGltZXJVcGRhdGUgPSBmYWxzZTsKICAgICAgY29uc29sZS5sb2coJ+e7mOWItuiwg+aVtOeCueWkmui+ueW9oicsIHsKICAgICAgICBjdXJyZW50Q29vcmRpbmF0ZXM6IGN1cnJlbnRDb29yZGluYXRlcywKICAgICAgICB0YXJnZXRDb29yZGluYXRlczogdGFyZ2V0Q29vcmRpbmF0ZXMKICAgICAgfSk7CgogICAgICB0cnkgewogICAgICAgIC8vIDEpIOa4hemZpOS5i+WJjeeahOiwg+aVtOeCuQogICAgICAgIGlmICh0aGlzLmFkanVzdG1lbnRDaXJjbGVzKSB7CiAgICAgICAgICB0aGlzLmFkanVzdG1lbnRDaXJjbGVzLmZvckVhY2goZnVuY3Rpb24gKG9iaikgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGdsTGF5ZXIucmVtb3ZlKG9iaik7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ+a4hemZpOiwg+aVtOeCueaXtuWHuumUmTonLCBlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmFkanVzdG1lbnRDaXJjbGVzID0gW107IC8vIDIpIOe7mOWItuW9k+WJjeS9jee9ruinhuWcuuWkmui+ueW9ogoKICAgICAgICBpZiAoY3VycmVudENvb3JkaW5hdGVzICYmIEFycmF5LmlzQXJyYXkoY3VycmVudENvb3JkaW5hdGVzKSAmJiBjdXJyZW50Q29vcmRpbmF0ZXMubGVuZ3RoID09PSA1KSB7CiAgICAgICAgICBjb25zb2xlLmxvZygn57uY5Yi25b2T5YmN5L2N572u5aSa6L655b2iJyk7CiAgICAgICAgICB2YXIgY3VycmVudFBvbHlnb24gPSB0aGlzLkFkZEZpZWxkT2ZWaWV3UG9seWdvbih0aGlzLiRzdGVsLCBnbExheWVyLCBjdXJyZW50Q29vcmRpbmF0ZXMsIGN1cnJlbnRDb2xvciwgJ0N1cnJlbnQnKTsKCiAgICAgICAgICBpZiAoY3VycmVudFBvbHlnb24pIHsKICAgICAgICAgICAgdGhpcy5hZGp1c3RtZW50Q2lyY2xlcy5wdXNoKGN1cnJlbnRQb2x5Z29uKTsKICAgICAgICAgICAgY29uc29sZS5sb2coJ+W9k+WJjeS9jee9ruWkmui+ueW9ouWIm+W7uuaIkOWKnycpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcign5b2T5YmN5L2N572u5aSa6L655b2i5Yib5bu65aSx6LSlJyk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUud2Fybign5b2T5YmN5L2N572u5Z2Q5qCH5peg5pWI77yM6Lez6L+H57uY5Yi2Jyk7CiAgICAgICAgfSAvLyAzKSDop4bop5LovazlkJHvvIjlj6/pgInvvJvkuI3liJvlu7rlnIbvvIkKCgogICAgICAgIGlmICghaXNUaW1lclVwZGF0ZSAmJiB0YXJnZXRDb29yZGluYXRlcyAmJiBBcnJheS5pc0FycmF5KHRhcmdldENvb3JkaW5hdGVzKSAmJiB0YXJnZXRDb29yZGluYXRlcy5sZW5ndGggPT09IDUpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHZhciBjZW50ZXJSYSA9IHRhcmdldENvb3JkaW5hdGVzLnJlZHVjZShmdW5jdGlvbiAocywgYykgewogICAgICAgICAgICAgIHJldHVybiBzICsgYy5yYTsKICAgICAgICAgICAgfSwgMCkgLyB0YXJnZXRDb29yZGluYXRlcy5sZW5ndGg7CiAgICAgICAgICAgIHZhciBjZW50ZXJEZWMgPSB0YXJnZXRDb29yZGluYXRlcy5yZWR1Y2UoZnVuY3Rpb24gKHMsIGMpIHsKICAgICAgICAgICAgICByZXR1cm4gcyArIGMuZGVjOwogICAgICAgICAgICB9LCAwKSAvIHRhcmdldENvb3JkaW5hdGVzLmxlbmd0aDsKICAgICAgICAgICAgY29uc29sZS5sb2coIlx1ODlDNlx1ODlEMlx1OEY2Q1x1NTQxMVx1NzZFRVx1NjgwNzogUkE9Ii5jb25jYXQoY2VudGVyUmEsICIsIERFQz0iKS5jb25jYXQoY2VudGVyRGVjKSk7IC8vIOeUqOS4tOaXtuWvueixoeWPquWBmuaMh+WQke+8jOS4jeWKoOWFpSBsYXllcgoKICAgICAgICAgICAgdmFyIHRhcmdldE9iakNvbmZpZyA9IHsKICAgICAgICAgICAgICBpZDogJ3RlbXBfdGFyZ2V0XycgKyBEYXRlLm5vdygpLAogICAgICAgICAgICAgIG1vZGVsX2RhdGE6IHt9LAogICAgICAgICAgICAgIG5hbWVzOiBbJ1RhcmdldCBQb3NpdGlvbiddLAogICAgICAgICAgICAgIHR5cGVzOiBbJ1RlbXBvcmFyeSddLAogICAgICAgICAgICAgIG1vZGVsOiAndGVtcG9yYXJ5JwogICAgICAgICAgICB9OwogICAgICAgICAgICB2YXIgdGFyZ2V0T2JqID0gdGhpcy4kc3RlbC5jcmVhdGVPYmooJ2NpcmNsZScsIHRhcmdldE9iakNvbmZpZyk7CiAgICAgICAgICAgIHZhciBtbSA9IHRhcmdldE9iai5wb3M7CiAgICAgICAgICAgIHRoaXMudmVjM19mcm9tX3NwaGUoY2VudGVyUmEsIGNlbnRlckRlYywgbW0pOwogICAgICAgICAgICB0YXJnZXRPYmoucG9zID0gbW07CiAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0T2JqLnVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykgdGFyZ2V0T2JqLnVwZGF0ZSgpOwogICAgICAgICAgICB0aGlzLiRzdGVsLnBvaW50QW5kTG9jayh0YXJnZXRPYmosIDEuMCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfop4bop5LovazlkJHlrozmiJAnKTsgLy8g5riF55CG5Li05pe25a+56LGh77yI5pyq5Yqg5YWlIGxheWVy77yM5peg6ZyAIHJlbW92Ze+8iQoKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIC8qIG5vLW9wICovCiAgICAgICAgICAgICAgfSBjYXRjaCAoXykge30KICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCfop4bop5LovazlkJHlh7rplJk6JywgZXJyb3IpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfnu5jliLbosIPmlbTngrnlpJrovrnlvaLml7blh7rplJk6JywgZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgLy8g57uY5Yi255uu5qCH54K55ZyG5b2i77yI5Z2Q5qCH77yaUkEvRGVj77yM5Y2V5L2N77ya5bqm77yJCiAgICBkcmF3VGFyZ2V0UG9pbnRDaXJjbGU6IGZ1bmN0aW9uIGRyYXdUYXJnZXRQb2ludENpcmNsZSh0YXJnZXRSYSwgdGFyZ2V0RGVjLCBjb2xvciwgbmFtZSwgdGV4dCwgY2xlYXJsYXN0KSB7CiAgICAgIGlmIChjbGVhcmxhc3QgPT09IHVuZGVmaW5lZCkgY2xlYXJsYXN0ID0gdHJ1ZTsgLy8g5YaF6YOo6K6+572u6buY6K6k5YC8CgogICAgICBjb25zb2xlLmxvZygn57uY5Yi255uu5qCH54K55ZyG5b2iJywgewogICAgICAgIHRhcmdldFJhOiB0YXJnZXRSYSwKICAgICAgICB0YXJnZXREZWM6IHRhcmdldERlYywKICAgICAgICBjb2xvcjogY29sb3IKICAgICAgfSk7CgogICAgICB0cnkgewogICAgICAgIC8vIDEpIOagoemqjAogICAgICAgIGlmICghdGhpcy5pc1ZhbGlkQ29vcmRpbmF0ZSh0YXJnZXRSYSkgfHwgIXRoaXMuaXNWYWxpZENvb3JkaW5hdGUodGFyZ2V0RGVjKSkgewogICAgICAgICAgY29uc29sZS5lcnJvcih0ZXh0ICsgJ+WdkOagh+aXoOaViDonLCB7CiAgICAgICAgICAgIHRhcmdldFJhOiB0YXJnZXRSYSwKICAgICAgICAgICAgdGFyZ2V0RGVjOiB0YXJnZXREZWMKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gLy8gMikg5riF6Zmk5LmL5YmN55qE55uu5qCH54K5CgoKICAgICAgICBpZiAodGhpcy50YXJnZXRQb2ludENpcmNsZSAmJiBjbGVhcmxhc3QpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmIChnbExheWVyKSB7CiAgICAgICAgICAgICAgZ2xMYXllci5yZW1vdmUodGhpcy50YXJnZXRQb2ludENpcmNsZSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+aIkOWKn+a4hemZpOS5i+WJjeeahCcgKyBuYW1lKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS53YXJuKCfmuIXpmaTkuYvliY3nmoQnICsgdGV4dCArICfml7blh7rplJk6JywgZXJyb3IpOwogICAgICAgICAgfQogICAgICAgIH0gLy8gMykg5Yib5bu65ZyG5a+56LGhCgoKICAgICAgICB2YXIgY2lyY2xlID0gdGhpcy5BZGRNYXJrQ2lyY2xlKHRoaXMuJHN0ZWwsIGdsTGF5ZXIsIDQsIG5hbWUpOyAvLyBmcmFtZT0077ya6LWk6YGT57O7CgogICAgICAgIGlmICghY2lyY2xlKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKHRleHQgKyAn5ZyG5b2i5Yib5bu65aSx6LSlJyk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSAvLyA0KSDkvY3nva7vvIhSQS9EZWMg5bqmIOKGkiAzRCDljZXkvY3lkJHph4/vvIkKCgogICAgICAgIHZhciBtbSA9IGNpcmNsZS5wb3M7CiAgICAgICAgdGhpcy52ZWMzX2Zyb21fc3BoZSh0YXJnZXRSYSwgdGFyZ2V0RGVjLCBtbSk7CiAgICAgICAgY2lyY2xlLnBvcyA9IG1tOyAvLyA1KSDmoLflvI8KCiAgICAgICAgaWYgKGNvbG9yKSB7CiAgICAgICAgICB2YXIgcmdiID0gdGhpcy5oZXhUb1JnYihjb2xvci5zdHJva2UgfHwgY29sb3IuZmlsbCB8fCAnI0ZGOEMwMCcpOwogICAgICAgICAgdmFyIGFscGhhID0gY29sb3IuZmlsbE9wYWNpdHkgfHwgMC4zOwogICAgICAgICAgdmFyIGJvcmRlckFscGhhID0gY29sb3Iuc3Ryb2tlT3BhY2l0eSB8fCAxLjA7CiAgICAgICAgICBjaXJjbGUuY29sb3IgPSBbcmdiLnIgLyAyNTUsIHJnYi5nIC8gMjU1LCByZ2IuYiAvIDI1NSwgYWxwaGFdOwogICAgICAgICAgY2lyY2xlLmJvcmRlcl9jb2xvciA9IFtyZ2IuciAvIDI1NSwgcmdiLmcgLyAyNTUsIHJnYi5iIC8gMjU1LCBib3JkZXJBbHBoYV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNpcmNsZS5jb2xvciA9IFsxLCAwLjU1LCAwLCAwLjNdOwogICAgICAgICAgY2lyY2xlLmJvcmRlcl9jb2xvciA9IFsxLCAwLjU1LCAwLCAxXTsKICAgICAgICB9CgogICAgICAgIHZhciBzaXplID0gMC4wMjsKICAgICAgICBjaXJjbGUuc2l6ZSA9IFtzaXplLCBzaXplXTsgLy8gNikg5pu05pawICYg5L+d5a2Y5byV55SoCgogICAgICAgIGlmICh0eXBlb2YgY2lyY2xlLnVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykgY2lyY2xlLnVwZGF0ZSgpOwogICAgICAgIHRoaXMudGFyZ2V0UG9pbnRDaXJjbGUgPSBjaXJjbGU7CiAgICAgICAgY29uc29sZS5sb2codGV4dCArICflnIblvaLliJvlu7rmiJDlip8nLCBjaXJjbGUpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+e7mOWIticgKyB0ZXh0ICsgJ+WchuW9ouaXtuWHuumUmTonLCBlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICAvLyDnu5jliLblgYfmnoHovbTlnIblvaIKICAgIERyYXdGYWtlUG9sYXJBeGlzQ2lyY2xlOiBmdW5jdGlvbiBEcmF3RmFrZVBvbGFyQXhpc0NpcmNsZSh0YXJnZXRSYSwgdGFyZ2V0RGVjLCBjb2xvciwgbmFtZSwgdGV4dCkgewogICAgICBjb25zb2xlLmxvZygn57uY5Yi255uu5qCH54K55ZyG5b2iJywgewogICAgICAgIHRhcmdldFJhOiB0YXJnZXRSYSwKICAgICAgICB0YXJnZXREZWM6IHRhcmdldERlYywKICAgICAgICBjb2xvcjogY29sb3IKICAgICAgfSk7CgogICAgICB0cnkgewogICAgICAgIC8vIOmqjOivgei+k+WFpeWPguaVsAogICAgICAgIGlmICghdGhpcy5pc1ZhbGlkQ29vcmRpbmF0ZSh0YXJnZXRSYSkgfHwgIXRoaXMuaXNWYWxpZENvb3JkaW5hdGUodGFyZ2V0RGVjKSkgewogICAgICAgICAgY29uc29sZS5lcnJvcih0ZXh0ICsgJ+WdkOagh+aXoOaViDonLCB7CiAgICAgICAgICAgIHRhcmdldFJhOiB0YXJnZXRSYSwKICAgICAgICAgICAgdGFyZ2V0RGVjOiB0YXJnZXREZWMKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gLy8g5riF6Zmk5LmL5YmN55qE55uu5qCH54K5CgoKICAgICAgICBpZiAodGhpcy5mYWtlUG9sYXJBeGlzQ2lyY2xlKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAoZ2xMYXllcikgewogICAgICAgICAgICAgIGdsTGF5ZXIucmVtb3ZlKHRoaXMuZmFrZVBvbGFyQXhpc0NpcmNsZSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+aIkOWKn+a4hemZpOS5i+WJjeeahCcgKyBuYW1lKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS53YXJuKCfmuIXpmaTkuYvliY3nmoQnICsgdGV4dCArICfml7blh7rplJk6JywgZXJyb3IpOwogICAgICAgICAgfQogICAgICAgIH0gLy8g5Yib5bu655uu5qCH54K55ZyG5b2iCgoKICAgICAgICB2YXIgdGFyZ2V0Q2lyY2xlID0gdGhpcy5BZGRNYXJrQ2lyY2xlKHRoaXMuJHN0ZWwsIGdsTGF5ZXIsIDQsIG5hbWUpOwoKICAgICAgICBpZiAodGFyZ2V0Q2lyY2xlKSB7CiAgICAgICAgICAvLyDorr7nva7nm67moIfngrnkvY3nva4KICAgICAgICAgIHZhciB0YXJnZXRNbSA9IHRhcmdldENpcmNsZS5wb3M7CiAgICAgICAgICB0aGlzLnZlYzNfZnJvbV9zcGhlKHRhcmdldFJhLCB0YXJnZXREZWMsIHRhcmdldE1tKTsKICAgICAgICAgIHRhcmdldENpcmNsZS5wb3MgPSB0YXJnZXRNbTsgLy8g6K6+572u55uu5qCH54K56aKc6Imy5ZKM5qC35byPCgogICAgICAgICAgaWYgKGNvbG9yKSB7CiAgICAgICAgICAgIC8vIOWwhuWNgeWFrei/m+WItuminOiJsui9rOaNouS4ulJHQuaVsOe7hAogICAgICAgICAgICB2YXIgcmdiID0gdGhpcy5oZXhUb1JnYihjb2xvci5zdHJva2UgfHwgY29sb3IuZmlsbCB8fCAnI0ZGOEMwMCcpOwogICAgICAgICAgICB2YXIgYWxwaGEgPSBjb2xvci5maWxsT3BhY2l0eSB8fCAwLjM7CiAgICAgICAgICAgIHZhciBib3JkZXJBbHBoYSA9IGNvbG9yLnN0cm9rZU9wYWNpdHkgfHwgMS4wOwogICAgICAgICAgICB0YXJnZXRDaXJjbGUuY29sb3IgPSBbcmdiLnIgLyAyNTUsIHJnYi5nIC8gMjU1LCByZ2IuYiAvIDI1NSwgYWxwaGFdOwogICAgICAgICAgICB0YXJnZXRDaXJjbGUuYm9yZGVyX2NvbG9yID0gW3JnYi5yIC8gMjU1LCByZ2IuZyAvIDI1NSwgcmdiLmIgLyAyNTUsIGJvcmRlckFscGhhXTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIOm7mOiupOapmeiJsgogICAgICAgICAgICB0YXJnZXRDaXJjbGUuY29sb3IgPSBbMSwgMC41NSwgMCwgMC4zXTsgLy8g5qmZ6Imy77yM5Y2K6YCP5piOCgogICAgICAgICAgICB0YXJnZXRDaXJjbGUuYm9yZGVyX2NvbG9yID0gWzEsIDAuNTUsIDAsIDFdOyAvLyDmqZnoibLovrnmoYYKICAgICAgICAgIH0gLy8g6K6+572u55uu5qCH54K55aSn5bCPCgoKICAgICAgICAgIHZhciB0YXJnZXRTaXplID0gMC4wMjsgLy8g5Zu65a6a5bCP5bC65a+4CgogICAgICAgICAgdGFyZ2V0Q2lyY2xlLnNpemUgPSBbdGFyZ2V0U2l6ZSwgdGFyZ2V0U2l6ZV07IC8vIOS/neWtmOebruagh+eCueW8leeUqO+8jOeUqOS6juWQjue7rea4hemZpAoKICAgICAgICAgIHRoaXMuZmFrZVBvbGFyQXhpc0NpcmNsZSA9IHRhcmdldENpcmNsZTsKICAgICAgICAgIGNvbnNvbGUubG9nKHRleHQgKyAn5ZyG5b2i5Yib5bu65oiQ5YqfJywgdGFyZ2V0Q2lyY2xlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5lcnJvcih0ZXh0ICsgJ+WchuW9ouWIm+W7uuWksei0pScpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfnu5jliLYnICsgdGV4dCArICflnIblvaLml7blh7rplJk6JywgZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgU2hvd0NvbmZpcm1EaWFsb2c6IGZ1bmN0aW9uIFNob3dDb25maXJtRGlhbG9nKFRpdGxlLCBUZXh0LCBUb0RvKSB7CiAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgdGhpcy5uYXYgPSBmYWxzZTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdTaG93Q29uZmlybURpYWxvZycsIFRpdGxlLCBUZXh0LCBUb0RvKTsKICAgIH0sCiAgICBkZWNyZW1lbnQ6IGZ1bmN0aW9uIGRlY3JlbWVudChpdGVtKSB7CiAgICAgIGNvbnNvbGUubG9nKCdkZWNyZW1lbnQ6JywgaXRlbS52YWx1ZSk7CgogICAgICBpZiAoaXRlbS52YWx1ZSA+IGl0ZW0uaW5wdXRNaW4pIHsKICAgICAgICBpdGVtLnZhbHVlIC09IGl0ZW0uaW5wdXRTdGVwOwogICAgICB9CiAgICB9LAogICAgaW5jcmVtZW50OiBmdW5jdGlvbiBpbmNyZW1lbnQoaXRlbSkgewogICAgICBjb25zb2xlLmxvZygnaW5jcmVtZW50OicsIGl0ZW0udmFsdWUpOwoKICAgICAgaWYgKGl0ZW0udmFsdWUgPCBpdGVtLmlucHV0TWF4KSB7CiAgICAgICAgaXRlbS52YWx1ZSArPSBpdGVtLmlucHV0U3RlcDsKICAgICAgfQogICAgfSwKICAgIFBvbGFyQXhpc01vZGU6IGZ1bmN0aW9uIFBvbGFyQXhpc01vZGUoYm9vbCkgewogICAgICB0aGlzLmlzUG9sYXJBeGlzTW9kZSA9IGJvb2w7CiAgICB9LAogICAgaGFuZGxlR3VpZGVyQ2FudmFzQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZUd1aWRlckNhbnZhc0NsaWNrKGV2ZW50KSB7CiAgICAgIHZhciBjYW52YXMgPSB0aGlzLiRyZWZzLmd1aWRlckNhbnZhczsKICAgICAgdmFyIHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIHZhciB4ID0gZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdDsgLy8g54K55Ye75Z2Q5qCHWAoKICAgICAgdmFyIHkgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3A7IC8vIOeCueWHu+WdkOagh1kKCiAgICAgIGNvbnNvbGUubG9nKCJDbGlja2VkIGF0OiAoIi5jb25jYXQoeCwgIiwgIikuY29uY2F0KHksICIpIikpOwogICAgICB2YXIgQ2FudmFzV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsKICAgICAgdmFyIENhbnZhc0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdHdWlkZXJDYW52YXNDbGljazonICsgQ2FudmFzV2lkdGggKyAnOicgKyBDYW52YXNIZWlnaHQgKyAnOicgKyB4ICsgJzonICsgeSk7CiAgICB9LAogICAgY29ubmVjdERyaXZlcjogZnVuY3Rpb24gY29ubmVjdERyaXZlcigpIHsKICAgICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSB0cnVlOyAvLyB0aGlzLmlzT3BlbkRldmljZVBhZ2UgPSBmYWxzZTsKCiAgICAgIHRoaXMuc3RhcnRMb2FkaW5nKCk7CiAgICAgIHZhciBEZXZpY2VUeXBlID0gdGhpcy5DdXJyZW50RHJpdmVyVHlwZTsKCiAgICAgIHZhciBfaXRlcmF0b3I5ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5kZXZpY2VzKSwKICAgICAgICAgIF9zdGVwMTA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yOS5zKCk7ICEoX3N0ZXAxMCA9IF9pdGVyYXRvcjkubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGRldmljZSA9IF9zdGVwMTAudmFsdWU7CgogICAgICAgICAgaWYgKGRldmljZS5kcml2ZXJUeXBlID09PSBEZXZpY2VUeXBlICYmIGRldmljZS5pc0Nvbm5lY3RlZCA9PSBmYWxzZSkgewogICAgICAgICAgICB2YXIgRHJpdmVyTmFtZSA9IGRldmljZS5kcml2ZXJOYW1lOwoKICAgICAgICAgICAgaWYgKERyaXZlck5hbWUgPT0gJycpIHsKICAgICAgICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdObyBkcml2ZXIgc2VsZWN0ZWQnLCAnd2FybmluZycpOwogICAgICAgICAgICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0Nvbm5lY3REcml2ZXI6JyArIERyaXZlck5hbWUgKyAnOicgKyBEZXZpY2VUeXBlKTsKICAgICAgICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnU3RhcnQgQ29ubmVjdGluZyBkcml2ZXI6JyArIERldmljZVR5cGUgKyAnICcgKyBEcml2ZXJOYW1lLCAnaW5mbycpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3I5LmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3I5LmYoKTsKICAgICAgfQogICAgfSwKICAgIGNvbm5lY3REcml2ZXJTdWNjZXNzOiBmdW5jdGlvbiBjb25uZWN0RHJpdmVyU3VjY2VzcyhkZXZpY2V0eXBlKSB7CiAgICAgIGNvbnNvbGUubG9nKCdjb25uZWN0RHJpdmVyU3VjY2VzczonLCBkZXZpY2V0eXBlKTsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygiY29ubmVjdERyaXZlclN1Y2Nlc3M6IiArIGRldmljZXR5cGUsICdpbmZvJyk7CiAgICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7CgogICAgICBpZiAodGhpcy5kcmF3ZXJfMiA9PSB0cnVlKSB7CiAgICAgICAgdGhpcy5kcmF3ZXJfMiA9IGZhbHNlOwogICAgICB9CgogICAgICB0aGlzLnN0b3BMb2FkaW5nKCk7CiAgICB9LAogICAgY29ubmVjdERyaXZlckZhaWxlZDogZnVuY3Rpb24gY29ubmVjdERyaXZlckZhaWxlZChtZXNzYWdlKSB7CiAgICAgIGNvbnNvbGUubG9nKCdjb25uZWN0RHJpdmVyRmFpbGVkOicsIG1lc3NhZ2UpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCJjb25uZWN0RHJpdmVyRmFpbGVkOiIgKyBtZXNzYWdlLCAnZXJyb3InKTsKICAgICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5zdG9wTG9hZGluZygpOwogICAgfSwKICAgIGRpc2Nvbm5lY3REcml2ZXI6IGZ1bmN0aW9uIGRpc2Nvbm5lY3REcml2ZXIoKSB7CiAgICAgIHZhciBEZXZpY2VUeXBlID0gdGhpcy5DdXJyZW50RHJpdmVyVHlwZTsKCiAgICAgIHZhciBfaXRlcmF0b3IxMCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuZGV2aWNlcyksCiAgICAgICAgICBfc3RlcDExOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjEwLnMoKTsgIShfc3RlcDExID0gX2l0ZXJhdG9yMTAubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGRldmljZSA9IF9zdGVwMTEudmFsdWU7CgogICAgICAgICAgaWYgKGRldmljZS5kcml2ZXJUeXBlID09PSBEZXZpY2VUeXBlICYmIGRldmljZS5pc0Nvbm5lY3RlZCkgewogICAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ0Rpc2Nvbm5lY3REZXZpY2U6JyArIGRldmljZS5kZXZpY2UgKyAiOiIgKyBEZXZpY2VUeXBlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjEwLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IxMC5mKCk7CiAgICAgIH0KICAgIH0sCiAgICBkaXNjb25uZWN0RHJpdmVyc3VjY2VzczogZnVuY3Rpb24gZGlzY29ubmVjdERyaXZlcnN1Y2Nlc3MoZGV2aWNldHlwZSkgewogICAgICBjb25zb2xlLmxvZygnZGlzY29ubmVjdERldmljZXN1Y2Nlc3M6JywgZGV2aWNldHlwZSk7CiAgICAgIHRoaXMuZHJhd2VyXzIgPSBmYWxzZTsKCiAgICAgIGlmIChkZXZpY2V0eXBlID09ICJhbGwiKSB7CiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnZGlzY29ubmVjdEFsbERldmljZScpOwogICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0Rpc2Nvbm5lY3QgQWxsIERldmljZScsICdpbmZvJyk7CiAgICAgICAgdGhpcy5oYXZlRGV2aWNlQ29ubmVjdCA9IGZhbHNlOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnTWFpbkNhbWVyYUNvbm5lY3RlZCcsIDApOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnTW91bnRDb25uZWN0ZWQnLCAwKTsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0NGV0Nvbm5lY3RlZCcsIDApOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnR3VpZGVyQ29ubmVjdGVkJywgMCk7CiAgICAgICAgdGhpcy5jbGVhckRldmljZUxpc3QoKTsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ2RlbGV0ZURldmljZVR5cGVBbGxvY2F0aW9uTGlzdCcsICdhbGwnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIDsKCiAgICAgIHZhciBfaXRlcmF0b3IxMSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuZGV2aWNlcyksCiAgICAgICAgICBfc3RlcDEyOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjExLnMoKTsgIShfc3RlcDEyID0gX2l0ZXJhdG9yMTEubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGRldmljZSA9IF9zdGVwMTIudmFsdWU7CgogICAgICAgICAgaWYgKGRldmljZS5kcml2ZXJUeXBlID09PSBkZXZpY2V0eXBlICYmIGRldmljZS5pc0Nvbm5lY3RlZCkgewogICAgICAgICAgICBkZXZpY2UuaXNDb25uZWN0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgZGV2aWNlLmlzZ2V0ID0gZmFsc2U7CiAgICAgICAgICAgIGRldmljZS5kZXZpY2UgPSBkZXZpY2UuZHJpdmVyTmFtZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjExLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IxMS5mKCk7CiAgICAgIH0KCiAgICAgIHZhciBfaXRlcmF0b3IxMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuVG9CZUNvbm5lY3REZXZpY2UpLAogICAgICAgICAgX3N0ZXAxMzsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IxMi5zKCk7ICEoX3N0ZXAxMyA9IF9pdGVyYXRvcjEyLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBfZGV2aWNlNSA9IF9zdGVwMTMudmFsdWU7CgogICAgICAgICAgaWYgKF9kZXZpY2U1LmRyaXZlclR5cGUgPT09IGRldmljZXR5cGUpIHsKICAgICAgICAgICAgX2RldmljZTUuaXNDb25uZWN0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgX2RldmljZTUuaXNnZXQgPSBmYWxzZTsKICAgICAgICAgICAgX2RldmljZTUuZGV2aWNlID0gX2RldmljZTUuZHJpdmVyTmFtZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjEyLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IxMi5mKCk7CiAgICAgIH0KCiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnZGVsZXRlRGV2aWNlVHlwZUFsbG9jYXRpb25MaXN0JywgZGV2aWNldHlwZSk7CgogICAgICBpZiAoZGV2aWNldHlwZSA9PSAiTWFpbkNhbWVyYSIpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ01haW5DYW1lcmFDb25uZWN0ZWQnLCAwKTsKICAgICAgfSBlbHNlIGlmIChkZXZpY2V0eXBlID09ICJNb3VudCIpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ01vdW50Q29ubmVjdGVkJywgMCk7CiAgICAgIH0gZWxzZSBpZiAoZGV2aWNldHlwZSA9PSAiQ0ZXIikgewogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQ0ZXQ29ubmVjdGVkJywgMCk7CiAgICAgIH0gZWxzZSBpZiAoZGV2aWNldHlwZSA9PSAiR3VpZGVyIikgewogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnR3VpZGVyQ29ubmVjdGVkJywgMCk7CiAgICAgIH0KICAgIH0sCiAgICBkaXNjb25uZWN0RHJpdmVyRmFpbDogZnVuY3Rpb24gZGlzY29ubmVjdERyaXZlckZhaWwoZGV2aWNldHlwZSkgewogICAgICBjb25zb2xlLmxvZygnZGlzY29ubmVjdERldmljZUZhaWw6JywgZGV2aWNldHlwZSk7CiAgICAgIHRoaXMuZHJhd2VyXzIgPSBmYWxzZTsKCiAgICAgIGlmIChkZXZpY2V0eXBlID09ICJhbGwiKSB7CiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnZGlzY29ubmVjdEFsbERldmljZScpOwogICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ0Rpc2Nvbm5lY3QgQWxsIERldmljZScsICdpbmZvJyk7CiAgICAgICAgdGhpcy5oYXZlRGV2aWNlQ29ubmVjdCA9IGZhbHNlOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnTWFpbkNhbWVyYUNvbm5lY3RlZCcsIDApOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnTW91bnRDb25uZWN0ZWQnLCAwKTsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0NGV0Nvbm5lY3RlZCcsIDApOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnR3VpZGVyQ29ubmVjdGVkJywgMCk7CiAgICAgICAgdGhpcy5jbGVhckRldmljZUxpc3QoKTsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ2RlbGV0ZURldmljZVR5cGVBbGxvY2F0aW9uTGlzdCcsICdhbGwnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIDsKCiAgICAgIHZhciBfaXRlcmF0b3IxMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuZGV2aWNlcyksCiAgICAgICAgICBfc3RlcDE0OwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjEzLnMoKTsgIShfc3RlcDE0ID0gX2l0ZXJhdG9yMTMubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGRldmljZSA9IF9zdGVwMTQudmFsdWU7CgogICAgICAgICAgaWYgKGRldmljZS5kcml2ZXJUeXBlID09PSBkZXZpY2V0eXBlICYmIGRldmljZS5pc0Nvbm5lY3RlZCkgewogICAgICAgICAgICBkZXZpY2UuaXNDb25uZWN0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgZGV2aWNlLmlzZ2V0ID0gZmFsc2U7CiAgICAgICAgICAgIGRldmljZS5kZXZpY2UgPSBkZXZpY2UuZHJpdmVyTmFtZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjEzLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IxMy5mKCk7CiAgICAgIH0KCiAgICAgIHZhciBfaXRlcmF0b3IxNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuVG9CZUNvbm5lY3REZXZpY2UpLAogICAgICAgICAgX3N0ZXAxNTsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IxNC5zKCk7ICEoX3N0ZXAxNSA9IF9pdGVyYXRvcjE0Lm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBfZGV2aWNlNiA9IF9zdGVwMTUudmFsdWU7CgogICAgICAgICAgaWYgKF9kZXZpY2U2LmRyaXZlclR5cGUgPT09IGRldmljZXR5cGUpIHsKICAgICAgICAgICAgX2RldmljZTYuaXNDb25uZWN0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgX2RldmljZTYuaXNnZXQgPSBmYWxzZTsKICAgICAgICAgICAgX2RldmljZTYuZGV2aWNlID0gX2RldmljZTYuZHJpdmVyTmFtZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjE0LmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IxNC5mKCk7CiAgICAgIH0KCiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnZGVsZXRlRGV2aWNlVHlwZUFsbG9jYXRpb25MaXN0JywgZGV2aWNldHlwZSk7CgogICAgICBpZiAoZGV2aWNldHlwZSA9PSAiTWFpbkNhbWVyYSIpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ01haW5DYW1lcmFDb25uZWN0ZWQnLCAwKTsKICAgICAgfSBlbHNlIGlmIChkZXZpY2V0eXBlID09ICJNb3VudCIpIHsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ01vdW50Q29ubmVjdGVkJywgMCk7CiAgICAgIH0gZWxzZSBpZiAoZGV2aWNldHlwZSA9PSAiQ0ZXIikgewogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQ0ZXQ29ubmVjdGVkJywgMCk7CiAgICAgIH0gZWxzZSBpZiAoZGV2aWNldHlwZSA9PSAiR3VpZGVyIikgewogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnR3VpZGVyQ29ubmVjdGVkJywgMCk7CiAgICAgIH0KICAgIH0sCiAgICBsb2FkU2VsZWN0ZWREcml2ZXJMaXN0OiBmdW5jdGlvbiBsb2FkU2VsZWN0ZWREcml2ZXJMaXN0KGRldmljZU9iamVjdCkgewogICAgICB2YXIgX3RoaXMxOSA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZygnbG9hZFNlbGVjdGVkRHJpdmVyTGlzdDonLCBkZXZpY2VPYmplY3QpOwogICAgICBkZXZpY2VPYmplY3QuZm9yRWFjaChmdW5jdGlvbiAoZGV2aWNlKSB7CiAgICAgICAgdmFyIF9sb29wMiA9IGZ1bmN0aW9uIF9sb29wMigpIHsKICAgICAgICAgIHZhciBfT2JqZWN0JGVudHJpZXMkX2kgPSBfc2xpY2VkVG9BcnJheShfT2JqZWN0JGVudHJpZXNbX2k3XSwgMiksCiAgICAgICAgICAgICAgZHJpdmVyVHlwZSA9IF9PYmplY3QkZW50cmllcyRfaVswXSwKICAgICAgICAgICAgICBkcml2ZXJOYW1lID0gX09iamVjdCRlbnRyaWVzJF9pWzFdOwoKICAgICAgICAgIF90aGlzMTkuZGV2aWNlcy5mb3JFYWNoKGZ1bmN0aW9uIChkZXZpY2UpIHsKICAgICAgICAgICAgaWYgKGRldmljZS5kcml2ZXJUeXBlID09PSBkcml2ZXJUeXBlICYmIGRldmljZS5pc0Nvbm5lY3RlZCA9PSBmYWxzZSkgewogICAgICAgICAgICAgIGRldmljZS5kZXZpY2UgPSBkcml2ZXJOYW1lOwogICAgICAgICAgICAgIGRldmljZS5kcml2ZXJOYW1lID0gZHJpdmVyTmFtZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgLy8g5YGH6K6+5L2g5oOz6KaB5omT5Y2w5q+P5Liq6K6+5aSH5a+56LGh55qE6ZSu5YC85a+5CiAgICAgICAgZm9yICh2YXIgX2k3ID0gMCwgX09iamVjdCRlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoZGV2aWNlKTsgX2k3IDwgX09iamVjdCRlbnRyaWVzLmxlbmd0aDsgX2k3KyspIHsKICAgICAgICAgIF9sb29wMigpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgbG9hZEJpbmREZXZpY2VMaXN0OiBmdW5jdGlvbiBsb2FkQmluZERldmljZUxpc3QoZGV2aWNlT2JqZWN0KSB7CiAgICAgIGNvbnNvbGUubG9nKCdsb2FkQmluZERldmljZUxpc3Q6JywgZGV2aWNlT2JqZWN0KTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdsb2FkQmluZERldmljZUxpc3QnLCBkZXZpY2VPYmplY3QpOwogICAgfSwKICAgIGxvYWRCaW5kRGV2aWNlVHlwZUxpc3Q6IGZ1bmN0aW9uIGxvYWRCaW5kRGV2aWNlVHlwZUxpc3QoZGV2aWNlVHlwZU9iamVjdCkgewogICAgICB2YXIgX3RoaXMyMCA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZygnbG9hZEJpbmREZXZpY2VUeXBlTGlzdDonLCBkZXZpY2VUeXBlT2JqZWN0KTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdsb2FkQmluZERldmljZVR5cGVMaXN0JywgZGV2aWNlVHlwZU9iamVjdCk7CiAgICAgIGRldmljZVR5cGVPYmplY3QuZm9yRWFjaChmdW5jdGlvbiAoZGV2aWNlVHlwZSkgewogICAgICAgIHZhciBUeXBlID0gZGV2aWNlVHlwZS5UeXBlLAogICAgICAgICAgICBEZXZpY2VOYW1lID0gZGV2aWNlVHlwZS5EZXZpY2VOYW1lLAogICAgICAgICAgICBEcml2ZXJOYW1lID0gZGV2aWNlVHlwZS5Ecml2ZXJOYW1lLAogICAgICAgICAgICBpc2JpbmQgPSBkZXZpY2VUeXBlLmlzYmluZDsKCiAgICAgICAgX3RoaXMyMC51cGRhdGVEZXZpY2VzQ29ubmVjdChUeXBlLCBEZXZpY2VOYW1lLCBEcml2ZXJOYW1lLCBpc2JpbmQpOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVTZWxlY3RlZERyaXZlcjogZnVuY3Rpb24gdXBkYXRlU2VsZWN0ZWREcml2ZXIoZHJpdmVyVHlwZSkgewogICAgICB2YXIgX3RoaXMyMSA9IHRoaXM7CgogICAgICB0aGlzLnNlbGVjdGVkRHJpdmVyID0gbnVsbDsKICAgICAgdGhpcy5kZXZpY2VzLmZvckVhY2goZnVuY3Rpb24gKGRldmljZSkgewogICAgICAgIGlmIChkZXZpY2UuZHJpdmVyVHlwZSA9PT0gZHJpdmVyVHlwZSkgewogICAgICAgICAgX3RoaXMyMS5zZWxlY3RlZERyaXZlciA9IGRldmljZS5kcml2ZXJOYW1lOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKCdDdXJyZW50IGRyaXZlcnM6JywgdGhpcy5zZWxlY3RlZERyaXZlcik7CiAgICB9LAogICAgc3RhcnRMb2FkaW5nOiBmdW5jdGlvbiBzdGFydExvYWRpbmcoKSB7CiAgICAgIHRoaXMubG9hZGluZ0RldmljZVNlbGVjdGlvbiA9IHRydWU7CiAgICB9LAogICAgc3RvcExvYWRpbmc6IGZ1bmN0aW9uIHN0b3BMb2FkaW5nKCkgewogICAgICB0aGlzLmxvYWRpbmdEZXZpY2VTZWxlY3Rpb24gPSBmYWxzZTsKICAgIH0sCiAgICBkZWxldGVEZXZpY2VBbGxvY2F0aW9uTGlzdDogZnVuY3Rpb24gZGVsZXRlRGV2aWNlQWxsb2NhdGlvbkxpc3QoZGV2aWNlTmFtZSkgewogICAgICBjb25zb2xlLmxvZygnZGVsZXRlRGV2aWNlQWxsb2NhdGlvbkxpc3Q6JywgZGV2aWNlTmFtZSk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnZGVsZXRlRGV2aWNlQWxsb2NhdGlvbkxpc3QnLCBkZXZpY2VOYW1lKTsKICAgIH0sCiAgICBVbkJpbmRpbmdEZXZpY2U6IGZ1bmN0aW9uIFVuQmluZGluZ0RldmljZSh0eXBlLCBuYW1lLCBkcml2ZXJOYW1lKSB7CiAgICAgIGNvbnNvbGUubG9nKCdVbkJpbmRpbmdEZXZpY2U6JywgdHlwZSwgbmFtZSwgZHJpdmVyTmFtZSk7CiAgICAgIHRoaXMudXBkYXRlRGV2aWNlc0Nvbm5lY3QodHlwZSwgbmFtZSwgZHJpdmVyTmFtZSwgZmFsc2UpOwogICAgfSwKICAgIGRpc3BsYXlFcnJvckltYWdlOiBmdW5jdGlvbiBkaXNwbGF5RXJyb3JJbWFnZSgpIHsKICAgICAgY29uc29sZS5lcnJvcigiaW1hZ2UgaXMgZXJyb3IsIGxvYWQgZXJyb3JJbWFnZS5zdmciKTsKICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluQ2FtZXJhLWNhbnZhcycpOwogICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpOwoKICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIOiOt+WPluiuvuWkh+WDj+e0oOavlAogICAgICAgIHZhciBkZXZpY2VQaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTsgLy8g6LCD5pW055S75biD5bC65a+45Lul6YCC5bqU6auY5riF5pi+56S6CgogICAgICAgIGNhbnZhcy53aWR0aCA9IGltYWdlLndpZHRoICogZGV2aWNlUGl4ZWxSYXRpbzsKICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0ICogZGV2aWNlUGl4ZWxSYXRpbzsKICAgICAgICBjdHguc2NhbGUoZGV2aWNlUGl4ZWxSYXRpbywgZGV2aWNlUGl4ZWxSYXRpbyk7IC8vIOe8qeaUvmN0eOS7pemAguW6lOmrmOa4heeUu+W4gwogICAgICAgIC8vIOe7mOWItuWbvuWDjwoKICAgICAgICBjdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwKTsKICAgICAgfTsKCiAgICAgIGltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiRmFpbGVkIHRvIGxvYWQgaW1hZ2UgZnJvbSAiICsgaW1hZ2Uuc3JjKTsgLy8g5Y+v5Lul5Zyo6L+Z6YeM5re75Yqg5aSH55So5Zu+5YOP5oiW5YW25LuW6ZSZ6K+v5aSE55CG6YC76L6RCiAgICAgIH07IC8vIOehruS/nUVycm9ySW1hZ2XmmK/mnInmlYjnmoRVUkwKCgogICAgICBpbWFnZS5zcmMgPSBFcnJvckltYWdlOyAvLyDor7fmm7/mjaLkuLrlrp7pmYXnmoTlm77lg4/ot6/lvoQKICAgIH0sCiAgICBoYW5kbGVFcnJvcjogZnVuY3Rpb24gaGFuZGxlRXJyb3IobWVzc2FnZSwgbG9jYXRpb24pIHsKICAgICAgdmFyIGVycm9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsOwogICAgICB2YXIgZXJyb3JNc2cgPSBlcnJvciA/ICIiLmNvbmNhdChtZXNzYWdlLCAiIGF0ICIpLmNvbmNhdChsb2NhdGlvbiwgIjogIikuY29uY2F0KGVycm9yKSA6ICIiLmNvbmNhdChtZXNzYWdlLCAiIGF0ICIpLmNvbmNhdChsb2NhdGlvbik7CiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JNc2cpOwogICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKGVycm9yTXNnLCAnZXJyb3InKTsKICAgICAgdGhpcy5kaXNwbGF5RXJyb3JJbWFnZSgpOyAvLyDmmL7npLrplJnor6/lm77lg48KICAgIH0sCiAgICBzaG93U2VsZWN0ZGlzY29ubmVjdERyaXZlcjogZnVuY3Rpb24gc2hvd1NlbGVjdGRpc2Nvbm5lY3REcml2ZXIoZHJpdmVybmFtZSkgewogICAgICB0aGlzLnNob3dEaXNjb25uZWN0RGlhbG9nID0gdHJ1ZTsKICAgICAgdGhpcy5jdXJyZW50RGlzY29ubmVjdERyaXZlck5hbWUgPSBkcml2ZXJuYW1lOwogICAgfSwKICAgIGNvbmZpcm1EaXNjb25uZWN0OiBmdW5jdGlvbiBjb25maXJtRGlzY29ubmVjdCgpIHsKICAgICAgdGhpcy5zZW5kTWVzc2FnZSgnVnVlX0NvbW1hbmQnLCAnZGlzY29ubmVjdFNlbGVjdERyaXZlcjonICsgdGhpcy5jdXJyZW50RGlzY29ubmVjdERyaXZlck5hbWUpOwogICAgICB0aGlzLnNob3dEaXNjb25uZWN0RGlhbG9nID0gZmFsc2U7CiAgICB9LAogICAgLy8g5Li755S75biD54K55Ye75LqL5Lu2CiAgICBoYW5kbGVNYWluQ2FudmFzQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZU1haW5DYW52YXNDbGljayhldmVudCkgewogICAgICAvLyB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCfop6blj5HpvKDmoIfngrnlh7vkuovku7Y6JywgJ2luZm8nKTsKICAgICAgaWYgKCF0aGlzLmVuYWJsZU1haW5DYW52YXNDbGljayB8fCB0aGlzLmlzRHJhZ2dpbmcgfHwgdGhpcy5kcmF3SW1nRGF0YSA9PSBudWxsKSByZXR1cm47IC8vIOWmguaenOeUu+W4g+S4jeWPr+eCueWHu++8jOWImeS4jeWkhOeQhueCueWHu+S6i+S7tgogICAgICAvLyBjb25zb2xlLmxvZygn6Kem5Y+R6byg5qCH54K55Ye75LqL5Lu2OicsIGV2ZW50KTsKCiAgICAgIHZhciBjYW52YXMgPSB0aGlzLiRyZWZzLm1haW5DYW52YXM7CiAgICAgIGlmICghY2FudmFzKSByZXR1cm47IC8vIOehruS/nSBjYW52YXMg5YWD57Sg5a2Y5ZyoCgogICAgICB2YXIgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgLy8g6I635Y+WIGNhbnZhcyDlhYPntKDnmoTovrnnlYznn6nlvaIKCiAgICAgIHZhciB4ID0gZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdDsKICAgICAgdmFyIHkgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3A7CiAgICAgIGNvbnNvbGUubG9nKCdNb3VzZSBjbGlja2VkIGF0OicsIHgsIHkpOwoKICAgICAgaWYgKCF0aGlzLmlzRm9jdXNMb29wU2hvb3RpbmcpIHsKICAgICAgICAvLyDmnJ/mnJvkuK3lv4PvvIjnlLvluIPlnZDmoIcg4oaSIOS8oOaEn+WZqOWDj+e0oOWdkOagh++8iQogICAgICAgIHZhciBkZXNpcmVkQ2VudGVyWCA9IHggLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHRoaXMudmlzaWJsZVdpZHRoICsgdGhpcy52aXNpYmxlWCAtIHRoaXMudmlzaWJsZVdpZHRoIC8gMjsKICAgICAgICB2YXIgZGVzaXJlZENlbnRlclkgPSB5IC8gd2luZG93LmlubmVySGVpZ2h0ICogdGhpcy52aXNpYmxlSGVpZ2h0ICsgdGhpcy52aXNpYmxlWSAtIHRoaXMudmlzaWJsZUhlaWdodCAvIDI7IC8vIFJPSSDovrnplb/vvIjlg4/ntKDvvIzlgbbmlbDljJbvvInvvIzmnaXmupDkuo7lm7rlrpogUmVkQm94U2lkZUxlbmd0aAoKICAgICAgICB2YXIgc2lkZSA9IHRoaXMuUmVkQm94U2lkZUxlbmd0aCAvIHRoaXMuY2FtZXJhQmluOwogICAgICAgIHNpZGUgPSBNYXRoLm1heCgyLCBNYXRoLmZsb29yKHNpZGUpKTsKICAgICAgICBpZiAoc2lkZSAlIDIgIT09IDApIHNpZGUgKz0gMTsgLy8g5by65Yi25YG25pWwCiAgICAgICAgLy8g5bCGIFJPSSDlt6bkuIrop5LmjInkuK3lv4Plj43mjqjvvIzlubbnuqbmnZ/lnKjlm77lg4/ojIPlm7TlhoUKCiAgICAgICAgdmFyIGhhbGYgPSBzaWRlIC8gMjsKICAgICAgICB2YXIgaW1nVyA9IHRoaXMubWFpbkNhbWVyYVNpemVYOwogICAgICAgIHZhciBpbWdIID0gdGhpcy5tYWluQ2FtZXJhU2l6ZVk7CiAgICAgICAgdmFyIHJvaVggPSBkZXNpcmVkQ2VudGVyWCAtIGhhbGY7CiAgICAgICAgdmFyIHJvaVkgPSBkZXNpcmVkQ2VudGVyWSAtIGhhbGY7IC8vIOi+ueeVjOe6puadnwoKICAgICAgICB2YXIgbWF4WCA9IE1hdGgubWF4KDAsIGltZ1cgLSBzaWRlKTsKICAgICAgICB2YXIgbWF4WSA9IE1hdGgubWF4KDAsIGltZ0ggLSBzaWRlKTsKICAgICAgICByb2lYID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgcm9pWCksIG1heFgpOwogICAgICAgIHJvaVkgPSBNYXRoLm1pbihNYXRoLm1heCgwLCByb2lZKSwgbWF4WSk7IC8vIOWBtuaVsOWvuem9kOS9jee9rgoKICAgICAgICByb2lYID0gTWF0aC5mbG9vcihyb2lYKTsKICAgICAgICByb2lZID0gTWF0aC5mbG9vcihyb2lZKTsKICAgICAgICBpZiAocm9pWCAlIDIgIT09IDApIHJvaVggKz0gMTsKICAgICAgICBpZiAocm9pWSAlIDIgIT09IDApIHJvaVkgKz0gMTsKICAgICAgICB0aGlzLlJPSV94ID0gcm9pWDsKICAgICAgICB0aGlzLlJPSV95ID0gcm9pWTsKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ3NlbmRSZWRCb3hTdGF0ZTonICsgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoICsgJzonICsgdGhpcy5ST0lfeCArICc6JyArIHRoaXMuUk9JX3kpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VsZWN0U3RhclggPSAoeCAvIHdpbmRvdy5pbm5lcldpZHRoICogdGhpcy52aXNpYmxlV2lkdGggKyB0aGlzLnZpc2libGVYIC0gdGhpcy52aXNpYmxlV2lkdGggLyAyIC0gdGhpcy5ST0lfeCkgKiB0aGlzLmNhbWVyYUJpbjsgLy8g6K6h566X6YCJ5oup5L2N572u55qEeOWdkOaghwoKICAgICAgICB0aGlzLnNlbGVjdFN0YXJZID0gKHkgLyB3aW5kb3cuaW5uZXJIZWlnaHQgKiB0aGlzLnZpc2libGVIZWlnaHQgKyB0aGlzLnZpc2libGVZIC0gdGhpcy52aXNpYmxlSGVpZ2h0IC8gMiAtIHRoaXMuUk9JX3kpICogdGhpcy5jYW1lcmFCaW47IC8vIOiuoeeul+mAieaLqeS9jee9rueahHnlnZDmoIcKCiAgICAgICAgaWYgKHRoaXMuc2VsZWN0U3RhclggPj0gMCAmJiB0aGlzLnNlbGVjdFN0YXJYIDwgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoICYmIHRoaXMuc2VsZWN0U3RhclkgPj0gMCAmJiB0aGlzLnNlbGVjdFN0YXJZIDwgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdTZWxlY3QgU3RhciBpcyBpbiBST0knLCAnaW5mbycpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdTZWxlY3QgU3RhciBpcyBub3QgaW4gUk9JJywgJ2Vycm9yJyk7CiAgICAgICAgICB0aGlzLnNlbGVjdFN0YXJYID0gLTE7CiAgICAgICAgICB0aGlzLnNlbGVjdFN0YXJZID0gLTE7CiAgICAgICAgfQoKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ3NlbmRTZWxlY3RTdGFyczonICsgdGhpcy5zZWxlY3RTdGFyWCArICc6JyArIHRoaXMuc2VsZWN0U3RhclkpOwogICAgICB9CgogICAgICB0aGlzLmRyYXdJbWFnZURhdGEoKTsKICAgIH0sCiAgICAvLyDkuLvnlLvluIPmi5bliqgKICAgIGhhbmRsZU1vdXNlRG93bjogZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpczIyID0gdGhpczsKCiAgICAgIC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+inpuWPkem8oOagh+aMieS4i+S6i+S7tjonLCAnaW5mbycpOwogICAgICBpZiAodGhpcy5pc0RyYWdnaW5nIHx8IHRoaXMuZHJhd0ltZ0RhdGEgPT0gbnVsbCkgcmV0dXJuOwogICAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlOwogICAgICB0aGlzLnN0YXJ0WCA9IGV2ZW50LmNsaWVudFg7CiAgICAgIHRoaXMuc3RhcnRZID0gZXZlbnQuY2xpZW50WTsKICAgICAgdGhpcy5jdXJyZW50WCA9IGV2ZW50LmNsaWVudFg7CiAgICAgIHRoaXMuY3VycmVudFkgPSBldmVudC5jbGllbnRZOyAvLyDorr7nva7kuIDkuKrlrprml7blmajvvIzmr48xMDBtc+aJp+ihjOS4gOasoem8oOagh+enu+WKqOeahOmAu+i+kQoKICAgICAgdGhpcy5tb3ZlSW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoIV90aGlzMjIuaXNEcmFnZ2luZykgcmV0dXJuOwogICAgICAgIHZhciBkeCA9IF90aGlzMjIuc3RhcnRYIC0gX3RoaXMyMi5jdXJyZW50WDsKICAgICAgICB2YXIgZHkgPSBfdGhpczIyLnN0YXJ0WSAtIF90aGlzMjIuY3VycmVudFk7CgogICAgICAgIGlmIChpc05hTihkeCkgfHwgaXNOYU4oZHkpKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgbmV3VmlzaWJsZVggPSBfdGhpczIyLnZpc2libGVYICsgZHggLyB3aW5kb3cuaW5uZXJXaWR0aCAqIF90aGlzMjIudmlzaWJsZVdpZHRoOwogICAgICAgIHZhciBuZXdWaXNpYmxlWSA9IF90aGlzMjIudmlzaWJsZVkgKyBkeSAvIHdpbmRvdy5pbm5lckhlaWdodCAqIF90aGlzMjIudmlzaWJsZUhlaWdodDsKCiAgICAgICAgaWYgKG5ld1Zpc2libGVYIDwgMCkgewogICAgICAgICAgbmV3VmlzaWJsZVggPSAwOwogICAgICAgIH0KCiAgICAgICAgaWYgKG5ld1Zpc2libGVZIDwgMCkgewogICAgICAgICAgbmV3VmlzaWJsZVkgPSAwOwogICAgICAgIH0KCiAgICAgICAgaWYgKG5ld1Zpc2libGVYID4gX3RoaXMyMi5tYWluQ2FtZXJhU2l6ZVgpIHsKICAgICAgICAgIG5ld1Zpc2libGVYID0gX3RoaXMyMi5tYWluQ2FtZXJhU2l6ZVg7CiAgICAgICAgfQoKICAgICAgICBpZiAobmV3VmlzaWJsZVkgPiBfdGhpczIyLm1haW5DYW1lcmFTaXplWSkgewogICAgICAgICAgbmV3VmlzaWJsZVkgPSBfdGhpczIyLm1haW5DYW1lcmFTaXplWTsKICAgICAgICB9CgogICAgICAgIF90aGlzMjIudmlzaWJsZVggPSBuZXdWaXNpYmxlWDsKICAgICAgICBfdGhpczIyLnZpc2libGVZID0gbmV3VmlzaWJsZVk7CiAgICAgICAgX3RoaXMyMi5zdGFydFggPSBfdGhpczIyLmN1cnJlbnRYOwogICAgICAgIF90aGlzMjIuc3RhcnRZID0gX3RoaXMyMi5jdXJyZW50WTsKCiAgICAgICAgX3RoaXMyMi5kcmF3SW1hZ2VEYXRhKCk7IC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+aLluWKqOS6i+S7tizmi5bliqjot53nprs6JyArIGR4ICsgJywnICsgZHksICdpbmZvJyk7CgogICAgICB9LCAxMDApOwogICAgfSwKICAgIGhhbmRsZU1vdXNlTW92ZTogZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlKGV2ZW50KSB7CiAgICAgIC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+inpuWPkem8oOagh+enu+WKqOS6i+S7tjonLCAnaW5mbycpOwogICAgICBpZiAoIXRoaXMuaXNEcmFnZ2luZykgcmV0dXJuOwogICAgICB0aGlzLmN1cnJlbnRYID0gZXZlbnQuY2xpZW50WDsKICAgICAgdGhpcy5jdXJyZW50WSA9IGV2ZW50LmNsaWVudFk7CiAgICB9LAogICAgaGFuZGxlTW91c2VVcDogZnVuY3Rpb24gaGFuZGxlTW91c2VVcChldmVudCkgewogICAgICAvLyB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCfop6blj5HpvKDmoIfmiqzotbfkuovku7Y6JywgJ2luZm8nKTsKICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7IC8vIOa4hemZpOWumuaXtuWZqAoKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLm1vdmVJbnRlcnZhbElkKTsKICAgICAgdGhpcy5tb3ZlSW50ZXJ2YWxJZCA9IG51bGw7CiAgICB9LAogICAgaGFuZGxlV2hlZWw6IGZ1bmN0aW9uIGhhbmRsZVdoZWVsKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpczIzID0gdGhpczsKCiAgICAgIC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+inpuWPkem8oOagh+a7mui9ruS6i+S7tjonLCAnaW5mbycpOwogICAgICBpZiAodGhpcy5kcmF3SW1nRGF0YSA9PSBudWxsKSByZXR1cm47CiAgICAgIHZhciBzY2FsZUNoYW5nZSA9IGV2ZW50LmRlbHRhWSA+IDAgPyAwLjEgOiAtMC4xOyAvLyDmoLnmja7mu5rova7nmoTmu5rliqjmlrnlkJHvvIzorqHnrpfnvKnmlL7mr5TkvovnmoTlj5jljJbph48KCiAgICAgIHZhciBuZXdTY2FsZSA9IHRoaXMuc2NhbGUgKyBzY2FsZUNoYW5nZTsgLy8g5pu05paw57yp5pS+5q+U5L6LCgogICAgICBpZiAobmV3U2NhbGUgPCAwLjEpIHsKICAgICAgICBuZXdTY2FsZSA9IDAuMTsKICAgICAgfQoKICAgICAgaWYgKG5ld1NjYWxlID4gMSkgewogICAgICAgIG5ld1NjYWxlID0gMTsKICAgICAgfSAvLyDlpoLmnpzlt7Lnu4/mnInkuIDkuKrlvoXmiafooYznmoTnvKnmlL7mk43kvZzvvIzliJnnm7TmjqXov5Tlm54KCgogICAgICBpZiAodGhpcy5wZW5kaW5nU2NhbGVDaGFuZ2UpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8g5qCH6K6w5pyJ5LiA5Liq5b6F5omn6KGM55qE57yp5pS+5pON5L2cCgoKICAgICAgdGhpcy5wZW5kaW5nU2NhbGVDaGFuZ2UgPSB0cnVlOyAvLyDkvb/nlKggcmVxdWVzdEFuaW1hdGlvbkZyYW1lIOadpeaOp+WItue8qeaUvuaTjeS9nOeahOaJp+ihjOmikeeOhwoKICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAobmV3U2NhbGUgIT0gX3RoaXMyMy5zY2FsZSkgewogICAgICAgICAgX3RoaXMyMy5zY2FsZSA9IG5ld1NjYWxlOyAvLyDmm7TmlrDnvKnmlL7mr5TkvosKCiAgICAgICAgICBfdGhpczIzLiRidXMuJGVtaXQoJ3NldFNjYWxlJywgX3RoaXMyMy5zY2FsZSk7CgogICAgICAgICAgX3RoaXMyMy5kcmF3SW1hZ2VEYXRhKCk7CgogICAgICAgICAgX3RoaXMyMy5TZW5kQ29uc29sZUxvZ01zZygn57yp5pS+5q+U5L6L5Y+Y5YyWLOe8qeaUvuavlOS+izonICsgbmV3U2NhbGUsICdpbmZvJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMjMuU2VuZENvbnNvbGVMb2dNc2coJ+e8qeaUvuavlOS+i+ayoeacieWPmOWMliznvKnmlL7mr5Tkvos6JyArIF90aGlzMjMuc2NhbGUsICdpbmZvJyk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczIzLnBlbmRpbmdTY2FsZUNoYW5nZSA9IGZhbHNlOyAvLyDmuIXpmaTlvoXmiafooYznmoTnvKnmlL7mk43kvZzmoIforrAKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlTWFpbkNhbnZhc1RvdWNoOiBmdW5jdGlvbiBoYW5kbGVNYWluQ2FudmFzVG91Y2goZXZlbnQpIHsKICAgICAgLy8gdGhpcy5TZW5kQ29uc29sZUxvZ01zZygn6Kem5Y+R6Kem5pG45LqL5Lu2OicsICdpbmZvJyk7CiAgICAgIGlmICghdGhpcy5lbmFibGVNYWluQ2FudmFzQ2xpY2sgfHwgdGhpcy5pc0RyYWdnaW5nIHx8IHRoaXMuZHJhd0ltZ0RhdGEgPT0gbnVsbCkgcmV0dXJuOyAvLyDlpoLmnpznlLvluIPkuI3lj6/ngrnlh7vvvIzliJnkuI3lpITnkIbngrnlh7vkuovku7YKICAgICAgLy8gY29uc29sZS5sb2coJ+inpuWPkeinpuaRuOS6i+S7tjonLCBldmVudCk7CgogICAgICBpZiAoIXRoaXMuZW5hYmxlTWFpbkNhbnZhc0NsaWNrIHx8ICFldmVudC50b3VjaGVzIHx8IGV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAwKSByZXR1cm47CiAgICAgIHZhciBjYW52YXMgPSB0aGlzLiRyZWZzLm1haW5DYW52YXM7CiAgICAgIGlmICghY2FudmFzKSByZXR1cm47IC8vIOehruS/nSBjYW52YXMg5YWD57Sg5a2Y5ZyoCgogICAgICB2YXIgdG91Y2ggPSBldmVudC50b3VjaGVzWzBdOwogICAgICB2YXIgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgLy8g6I635Y+WIGNhbnZhcyDlhYPntKDnmoTovrnnlYznn6nlvaIKCiAgICAgIHZhciB4ID0gdG91Y2guY2xpZW50WCAtIHJlY3QubGVmdDsKICAgICAgdmFyIHkgPSB0b3VjaC5jbGllbnRZIC0gcmVjdC50b3A7CiAgICAgIGNvbnNvbGUubG9nKCdUb3VjaCBhdDonLCB4LCB5KTsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8g6Zi75q2i6buY6K6k5LqL5Lu277yM5aaC6aG16Z2i5rua5YqoCgogICAgICBpZiAoIXRoaXMuaXNGb2N1c0xvb3BTaG9vdGluZykgewogICAgICAgIC8vIOacn+acm+S4reW/g++8iOeUu+W4g+WdkOaghyDihpIg5Lyg5oSf5Zmo5YOP57Sg5Z2Q5qCH77yJCiAgICAgICAgdmFyIGRlc2lyZWRDZW50ZXJYID0geCAvIHdpbmRvdy5pbm5lcldpZHRoICogdGhpcy52aXNpYmxlV2lkdGggKyB0aGlzLnZpc2libGVYIC0gdGhpcy52aXNpYmxlV2lkdGggLyAyOwogICAgICAgIHZhciBkZXNpcmVkQ2VudGVyWSA9IHkgLyB3aW5kb3cuaW5uZXJIZWlnaHQgKiB0aGlzLnZpc2libGVIZWlnaHQgKyB0aGlzLnZpc2libGVZIC0gdGhpcy52aXNpYmxlSGVpZ2h0IC8gMjsgLy8gUk9JIOi+uemVv++8iOWDj+e0oO+8jOWBtuaVsOWMlu+8ie+8jOadpea6kOS6juWbuuWumiBSZWRCb3hTaWRlTGVuZ3RoCgogICAgICAgIHZhciBzaWRlID0gdGhpcy5SZWRCb3hTaWRlTGVuZ3RoIC8gdGhpcy5jYW1lcmFCaW47CiAgICAgICAgc2lkZSA9IE1hdGgubWF4KDIsIE1hdGguZmxvb3Ioc2lkZSkpOwogICAgICAgIGlmIChzaWRlICUgMiAhPT0gMCkgc2lkZSArPSAxOyAvLyDlvLrliLblgbbmlbAKICAgICAgICAvLyDlsIYgUk9JIOW3puS4iuinkuaMieS4reW/g+WPjeaOqO+8jOW5tue6puadn+WcqOWbvuWDj+iMg+WbtOWGhQoKICAgICAgICB2YXIgaGFsZiA9IHNpZGUgLyAyOwogICAgICAgIHZhciBpbWdXID0gdGhpcy5tYWluQ2FtZXJhU2l6ZVg7CiAgICAgICAgdmFyIGltZ0ggPSB0aGlzLm1haW5DYW1lcmFTaXplWTsKICAgICAgICB2YXIgcm9pWCA9IGRlc2lyZWRDZW50ZXJYIC0gaGFsZjsKICAgICAgICB2YXIgcm9pWSA9IGRlc2lyZWRDZW50ZXJZIC0gaGFsZjsgLy8g6L6555WM57qm5p2fCgogICAgICAgIHZhciBtYXhYID0gTWF0aC5tYXgoMCwgaW1nVyAtIHNpZGUpOwogICAgICAgIHZhciBtYXhZID0gTWF0aC5tYXgoMCwgaW1nSCAtIHNpZGUpOwogICAgICAgIHJvaVggPSBNYXRoLm1pbihNYXRoLm1heCgwLCByb2lYKSwgbWF4WCk7CiAgICAgICAgcm9pWSA9IE1hdGgubWluKE1hdGgubWF4KDAsIHJvaVkpLCBtYXhZKTsgLy8g5YG25pWw5a+56b2Q5L2N572uCgogICAgICAgIHJvaVggPSBNYXRoLmZsb29yKHJvaVgpOwogICAgICAgIHJvaVkgPSBNYXRoLmZsb29yKHJvaVkpOwogICAgICAgIGlmIChyb2lYICUgMiAhPT0gMCkgcm9pWCArPSAxOwogICAgICAgIGlmIChyb2lZICUgMiAhPT0gMCkgcm9pWSArPSAxOwogICAgICAgIHRoaXMuUk9JX3ggPSByb2lYOwogICAgICAgIHRoaXMuUk9JX3kgPSByb2lZOwogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnc2VuZFJlZEJveFN0YXRlOicgKyB0aGlzLlJlZEJveFNpZGVMZW5ndGggKyAnOicgKyB0aGlzLlJPSV94ICsgJzonICsgdGhpcy5ST0lfeSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZWxlY3RTdGFyWCA9ICh4IC8gd2luZG93LmlubmVyV2lkdGggKiB0aGlzLnZpc2libGVXaWR0aCArIHRoaXMudmlzaWJsZVggLSB0aGlzLnZpc2libGVXaWR0aCAvIDIgLSB0aGlzLlJPSV94KSAqIHRoaXMuY2FtZXJhQmluOyAvLyDorqHnrpfpgInmi6nkvY3nva7nmoR45Z2Q5qCHCgogICAgICAgIHRoaXMuc2VsZWN0U3RhclkgPSAoeSAvIHdpbmRvdy5pbm5lckhlaWdodCAqIHRoaXMudmlzaWJsZUhlaWdodCArIHRoaXMudmlzaWJsZVkgLSB0aGlzLnZpc2libGVIZWlnaHQgLyAyIC0gdGhpcy5ST0lfeSkgKiB0aGlzLmNhbWVyYUJpbjsgLy8g6K6h566X6YCJ5oup5L2N572u55qEeeWdkOaghwoKICAgICAgICBpZiAodGhpcy5zZWxlY3RTdGFyWCA+PSAwICYmIHRoaXMuc2VsZWN0U3RhclggPCB0aGlzLlJlZEJveFNpZGVMZW5ndGggJiYgdGhpcy5zZWxlY3RTdGFyWSA+PSAwICYmIHRoaXMuc2VsZWN0U3RhclkgPCB0aGlzLlJlZEJveFNpZGVMZW5ndGgpIHsKICAgICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1NlbGVjdCBTdGFyIGlzIGluIFJPSScsICdpbmZvJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ1NlbGVjdCBTdGFyIGlzIG5vdCBpbiBST0knLCAnZXJyb3InKTsKICAgICAgICAgIHRoaXMuc2VsZWN0U3RhclggPSAtMTsKICAgICAgICAgIHRoaXMuc2VsZWN0U3RhclkgPSAtMTsKICAgICAgICB9CgogICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnc2VuZFNlbGVjdFN0YXJzOicgKyB0aGlzLnNlbGVjdFN0YXJYICsgJzonICsgdGhpcy5zZWxlY3RTdGFyWSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZHJhd0ltYWdlRGF0YSgpOwogICAgfSwKICAgIGhhbmRsZVRvdWNoU3RhcnQ6IGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnQoZXZlbnQpIHsKICAgICAgaWYgKHRoaXMuZHJhd0ltZ0RhdGEgPT0gbnVsbCkgcmV0dXJuOyAvLyB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCfop6blj5Hop6bmkbjlvIDlp4vkuovku7Y6JywgJ2luZm8nKTsKCiAgICAgIGlmIChldmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMSkgewogICAgICAgIC8vIOWNleaMh+inpuaRuO+8jOW8gOWni+aLluWKqAogICAgICAgIHRoaXMuaXNPbmVUb3VjaCA9IHRydWU7IC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+inpuWPkeWNleaMh+inpuaRuOS6i+S7ticsICdpbmZvJyk7CgogICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7CiAgICAgICAgdGhpcy5zdGFydFRvdWNoWFswXSA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WDsKICAgICAgICB0aGlzLnN0YXJ0VG91Y2hZWzBdID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZOwogICAgICAgIHRoaXMuY3VycmVudFRvdWNoWFswXSA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WDsKICAgICAgICB0aGlzLmN1cnJlbnRUb3VjaFlbMF0gPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFk7IC8vIOa4hemZpOWPr+iDveWtmOWcqOeahOWPjOaMh+inpuaRuOeahOWumuaXtuWZqAoKICAgICAgICBpZiAodGhpcy56b29tSW50ZXJ2YWxJZCkgewogICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnpvb21JbnRlcnZhbElkKTsKICAgICAgICAgIHRoaXMuem9vbUludGVydmFsSWQgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5oYW5kbGVNYWluQ2FudmFzVG91Y2goZXZlbnQpOwogICAgICB9IGVsc2UgaWYgKGV2ZW50LnRvdWNoZXMubGVuZ3RoID49IDIpIHsKICAgICAgICAvLyDlj4zmjIfop6bmkbjvvIzlvIDlp4vnvKnmlL4KICAgICAgICB0aGlzLmlzT25lVG91Y2ggPSBmYWxzZTsgLy8gdGhpcy5TZW5kQ29uc29sZUxvZ01zZygn6Kem5Y+R5Y+M5oyH6Kem5pG45LqL5Lu2JywgJ2luZm8nKTsKCiAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTsgLy8g6K6h566X5Lik5Liq6Kem5pG454K55LmL6Ze055qE6Led56a7CgogICAgICAgIHZhciBkeCA9IHRoaXMuY3VycmVudFRvdWNoWFswXSAtIHRoaXMuY3VycmVudFRvdWNoWFsxXTsKICAgICAgICB2YXIgZHkgPSB0aGlzLmN1cnJlbnRUb3VjaFlbMF0gLSB0aGlzLmN1cnJlbnRUb3VjaFlbMV07CiAgICAgICAgdGhpcy5zdGFydFRvdWNoRGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpOyAvLyDmuIXpmaTlj6/og73lrZjlnKjnmoTljZXmjIfop6bmkbjnmoTlrprml7blmagKCiAgICAgICAgaWYgKHRoaXMubW92ZUludGVydmFsSWQpIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5tb3ZlSW50ZXJ2YWxJZCk7CiAgICAgICAgICB0aGlzLm1vdmVJbnRlcnZhbElkID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7Ly8gdGhpcy5TZW5kQ29uc29sZUxvZ01zZygn6Kem5Y+R5aSa5oyH6Kem5pG45LqL5Lu277yM6I635Y+W5b2T5YmN6Kem5pG454K55pWw6YePOicgKyBldmVudC50b3VjaGVzLmxlbmd0aCwgJ2luZm8nKTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZVRvdWNoTW92ZTogZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlKGV2ZW50KSB7CiAgICAgIHZhciBfdGhpczI0ID0gdGhpczsKCiAgICAgIC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+inpuWPkeinpuaRuOenu+WKqOS6i+S7tjonLCAnaW5mbycpOwogICAgICBpZiAoIXRoaXMuaXNEcmFnZ2luZyB8fCB0aGlzLmRyYXdJbWdEYXRhID09IG51bGwpIHJldHVybjsKCiAgICAgIGlmIChldmVudC50b3VjaGVzLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgdGhpcy5jdXJyZW50VG91Y2hYWzBdID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYOwogICAgICAgIHRoaXMuY3VycmVudFRvdWNoWVswXSA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WTsKCiAgICAgICAgaWYgKHRoaXMuem9vbUludGVydmFsSWQpIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy56b29tSW50ZXJ2YWxJZCk7CiAgICAgICAgICB0aGlzLnpvb21JbnRlcnZhbElkID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLm1vdmVJbnRlcnZhbElkICE9IG51bGwpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IC8vIOiuvue9ruS4gOS4quWumuaXtuWZqO+8jOavjzEwMG1z5omn6KGM5LiA5qyh6Kem5pG456e75Yqo55qE6YC76L6RCgoKICAgICAgICB0aGlzLm1vdmVJbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8gY29uc29sZS5sb2coJ+aJp+ihjOinpuaRuOenu+WKqCEnKTsKICAgICAgICAgIGlmICghX3RoaXMyNC5pc0RyYWdnaW5nIHx8ICFfdGhpczI0LmlzT25lVG91Y2gpIHJldHVybjsKICAgICAgICAgIHZhciBkeCA9IF90aGlzMjQuc3RhcnRUb3VjaFhbMF0gLSBfdGhpczI0LmN1cnJlbnRUb3VjaFhbMF07CiAgICAgICAgICB2YXIgZHkgPSBfdGhpczI0LnN0YXJ0VG91Y2hZWzBdIC0gX3RoaXMyNC5jdXJyZW50VG91Y2hZWzBdOwoKICAgICAgICAgIGlmIChpc05hTihkeCkgfHwgaXNOYU4oZHkpKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZHggPT0gMCAmJiBkeSA9PSAwKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgbmV3VmlzaWJsZVggPSBfdGhpczI0LnZpc2libGVYICsgZHggLyB3aW5kb3cuaW5uZXJXaWR0aCAqIF90aGlzMjQudmlzaWJsZVdpZHRoOwogICAgICAgICAgdmFyIG5ld1Zpc2libGVZID0gX3RoaXMyNC52aXNpYmxlWSArIGR5IC8gd2luZG93LmlubmVySGVpZ2h0ICogX3RoaXMyNC52aXNpYmxlSGVpZ2h0OwoKICAgICAgICAgIGlmIChuZXdWaXNpYmxlWCA8IDApIHsKICAgICAgICAgICAgbmV3VmlzaWJsZVggPSAwOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChuZXdWaXNpYmxlWSA8IDApIHsKICAgICAgICAgICAgbmV3VmlzaWJsZVkgPSAwOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChuZXdWaXNpYmxlWCA+IF90aGlzMjQubWFpbkNhbWVyYVNpemVYKSB7CiAgICAgICAgICAgIG5ld1Zpc2libGVYID0gX3RoaXMyNC5tYWluQ2FtZXJhU2l6ZVg7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKG5ld1Zpc2libGVZID4gX3RoaXMyNC5tYWluQ2FtZXJhU2l6ZVkpIHsKICAgICAgICAgICAgbmV3VmlzaWJsZVkgPSBfdGhpczI0Lm1haW5DYW1lcmFTaXplWTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczI0LnZpc2libGVYID0gbmV3VmlzaWJsZVg7CiAgICAgICAgICBfdGhpczI0LnZpc2libGVZID0gbmV3VmlzaWJsZVk7CiAgICAgICAgICBfdGhpczI0LnN0YXJ0VG91Y2hYWzBdID0gX3RoaXMyNC5jdXJyZW50VG91Y2hYWzBdOwogICAgICAgICAgX3RoaXMyNC5zdGFydFRvdWNoWVswXSA9IF90aGlzMjQuY3VycmVudFRvdWNoWVswXTsKCiAgICAgICAgICBfdGhpczI0LmRyYXdJbWFnZURhdGEoKTsKICAgICAgICB9LCAxMDApOwogICAgICB9IGVsc2UgaWYgKGV2ZW50LnRvdWNoZXMubGVuZ3RoID49IDIpIHsKICAgICAgICB0aGlzLmN1cnJlbnRUb3VjaFhbMF0gPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFg7CiAgICAgICAgdGhpcy5jdXJyZW50VG91Y2hZWzBdID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZOwogICAgICAgIHRoaXMuY3VycmVudFRvdWNoWFsxXSA9IGV2ZW50LnRvdWNoZXNbMV0uY2xpZW50WDsKICAgICAgICB0aGlzLmN1cnJlbnRUb3VjaFlbMV0gPSBldmVudC50b3VjaGVzWzFdLmNsaWVudFk7IC8vIOa4hemZpOWPr+iDveWtmOWcqOeahOWNleaMh+inpuaRuOeahOWumuaXtuWZqAoKICAgICAgICBpZiAodGhpcy5tb3ZlSW50ZXJ2YWxJZCkgewogICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLm1vdmVJbnRlcnZhbElkKTsKICAgICAgICAgIHRoaXMubW92ZUludGVydmFsSWQgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuem9vbUludGVydmFsSWQgIT0gbnVsbCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gLy8g6K6+572u5LiA5Liq5a6a5pe25Zmo77yM5q+PMTAwbXPmiafooYzkuIDmrKHnvKnmlL7pgLvovpEKCgogICAgICAgIHRoaXMuem9vbUludGVydmFsSWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoIV90aGlzMjQuaXNEcmFnZ2luZyB8fCAhX3RoaXMyNC5pc09uZVRvdWNoKSByZXR1cm47CiAgICAgICAgICB2YXIgZHggPSBfdGhpczI0LmN1cnJlbnRUb3VjaFhbMF0gLSBfdGhpczI0LmN1cnJlbnRUb3VjaFhbMV07CiAgICAgICAgICB2YXIgZHkgPSBfdGhpczI0LmN1cnJlbnRUb3VjaFlbMF0gLSBfdGhpczI0LmN1cnJlbnRUb3VjaFlbMV07CiAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpOwoKICAgICAgICAgIF90aGlzMjQuU2VuZENvbnNvbGVMb2dNc2coJ+i3neemu+WPmOWMliBkaXN0YW5jZTonICsgZGlzdGFuY2UsICdpbmZvJyk7CgogICAgICAgICAgaWYgKF90aGlzMjQuc3RhcnRUb3VjaERpc3RhbmNlID09IDApIHsKICAgICAgICAgICAgX3RoaXMyNC5zdGFydFRvdWNoRGlzdGFuY2UgPSBkaXN0YW5jZTsKICAgICAgICAgIH0gLy8g6K6h566X57yp5pS+5q+U5L6L55qE5Y+Y5YyW6YePCgoKICAgICAgICAgIHZhciBzY2FsZUNoYW5nZSA9IGRpc3RhbmNlIC8gX3RoaXMyNC5zdGFydFRvdWNoRGlzdGFuY2U7CgogICAgICAgICAgX3RoaXMyNC5TZW5kQ29uc29sZUxvZ01zZygn6Led56a75Y+Y5YyW5q+U5L6LIHNjYWxlQ2hhbmdlOicgKyBzY2FsZUNoYW5nZSwgJ2luZm8nKTsKCiAgICAgICAgICB2YXIgbmV3U2NhbGUgPSBfdGhpczI0LnNjYWxlICogc2NhbGVDaGFuZ2U7IC8vIOabtOaWsOe8qeaUvuavlOS+iwoKICAgICAgICAgIGlmIChuZXdTY2FsZSA8IDAuMSkgewogICAgICAgICAgICBuZXdTY2FsZSA9IDAuMTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAobmV3U2NhbGUgPiAxKSB7CiAgICAgICAgICAgIG5ld1NjYWxlID0gMTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAobmV3U2NhbGUgIT0gX3RoaXMyNC5zY2FsZSkgewogICAgICAgICAgICBfdGhpczI0LlNlbmRDb25zb2xlTG9nTXNnKCfnvKnmlL7mr5Tkvovlj5jljJYs57yp5pS+5q+U5L6LOicgKyBuZXdTY2FsZSwgJ2luZm8nKTsKCiAgICAgICAgICAgIF90aGlzMjQuc2NhbGUgPSBuZXdTY2FsZTsgLy8g5pu05paw57yp5pS+5q+U5L6LCgogICAgICAgICAgICBfdGhpczI0LiRidXMuJGVtaXQoJ3NldFNjYWxlJywgX3RoaXMyNC5zY2FsZSk7CgogICAgICAgICAgICBfdGhpczI0LmRyYXdJbWFnZURhdGEoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMjQuU2VuZENvbnNvbGVMb2dNc2coJ+e8qeaUvuavlOS+i+ayoeacieWPmOWMliznvKnmlL7mr5Tkvos6JyArIF90aGlzMjQuc2NhbGUsICdpbmZvJyk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMyNC5zdGFydFRvdWNoRGlzdGFuY2UgPSBkaXN0YW5jZTsgLy8g5pu05paw5Lik5Liq6Kem5pG454K55LmL6Ze055qE6Led56a7CiAgICAgICAgfSwgMTAwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCfop6blj5HlpJrmjIfop6bmkbjkuovku7bvvIzojrflj5blvZPliY3op6bmkbjngrnmlbDph486JyArIGV2ZW50LnRvdWNoZXMubGVuZ3RoLCAnaW5mbycpOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlVG91Y2hFbmQ6IGZ1bmN0aW9uIGhhbmRsZVRvdWNoRW5kKGV2ZW50KSB7CiAgICAgIC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+inpuWPkeinpuaRuOe7k+adn+S6i+S7tjonLCAnaW5mbycpOwogICAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTsgLy8g5YGc5q2i5ouW5YqoCiAgICAgIC8vIOa4hemZpOWumuaXtuWZqAoKICAgICAgaWYgKHRoaXMubW92ZUludGVydmFsSWQpIHsKICAgICAgICBjbGVhckludGVydmFsKHRoaXMubW92ZUludGVydmFsSWQpOwogICAgICAgIHRoaXMubW92ZUludGVydmFsSWQgPSBudWxsOwogICAgICB9CgogICAgICBpZiAodGhpcy56b29tSW50ZXJ2YWxJZCkgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy56b29tSW50ZXJ2YWxJZCk7CiAgICAgICAgdGhpcy56b29tSW50ZXJ2YWxJZCA9IG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBTY2FsZUNoYW5nZTogZnVuY3Rpb24gU2NhbGVDaGFuZ2UodHlwZSkgewogICAgICBpZiAodGhpcy5kcmF3SW1nRGF0YSA9PSBudWxsKSByZXR1cm47CgogICAgICBpZiAodHlwZSA9PSAnKycpIHsKICAgICAgICB0aGlzLnNjYWxlIC09IDAuMTsKICAgICAgfSBlbHNlIGlmICh0eXBlID09ICctJykgewogICAgICAgIHRoaXMuc2NhbGUgKz0gMC4xOwogICAgICB9CgogICAgICBpZiAodGhpcy5zY2FsZSA8IDAuMSkgewogICAgICAgIHRoaXMuc2NhbGUgPSAwLjE7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnNjYWxlID4gMSkgewogICAgICAgIHRoaXMuc2NhbGUgPSAxOwogICAgICB9CgogICAgICB0aGlzLiRidXMuJGVtaXQoJ3NldFNjYWxlJywgdGhpcy5zY2FsZSk7CiAgICAgIHRoaXMuZHJhd0ltYWdlRGF0YSgpOwogICAgfSwKICAgIC8vIOaYvuekulJPSeWbvuWDjwogICAgc2hvd1JvaUltYWdlOiBmdW5jdGlvbiBzaG93Um9pSW1hZ2UoZmlsZU5hbWUsIGRlc3RYLCBkZXN0WSkgewogICAgICB2YXIgX3RoaXMyNSA9IHRoaXM7CgogICAgICBpZiAodGhpcy5SZWRCb3hTaWRlTGVuZ3RoID09IDAgfHwgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoID09IG51bGwpIHsKICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdSZWRCb3hTaWRlTGVuZ3RoIGlzIDAgb3IgbnVsbCcsICdlcnJvcicpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuaXNQcm9jZXNzaW5nSW1hZ2UpIHsKICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdJbWFnZSBpcyBiZWluZyB0cmFuc21pdHRlZCwgY3VycmVudCBwcm9jZXNzaW5nIGlzIHNsb3csIHNraXBwaW5nIG9uZSBmcmFtZS4nLCAnd2FybmluZycpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5pc1Byb2Nlc3NpbmdJbWFnZSA9IHRydWU7CiAgICAgIHZhciBpbWFnZVBhdGggPSAnaW1nLycgKyBmaWxlTmFtZTsgLy8g5Yib5bu65LiA5LiqQWJvcnRDb250cm9sbGVy5a6e5L6L5p2l5Y+W5raIZmV0Y2jor7fmsYIKCiAgICAgIHZhciBmZXRjaENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7CiAgICAgIHZhciBmZXRjaFNpZ25hbCA9IGZldGNoQ29udHJvbGxlci5zaWduYWw7IC8vIGNvbnN0IHN0YXJ0RG93bmxvYWRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgIC8vIOS9v+eUqCBmZXRjaCBBUEkg6I635Y+W5LqM6L+b5Yi25pWw5o2uCgogICAgICBmZXRjaChpbWFnZVBhdGgsIHsKICAgICAgICBjYWNoZTogJ25vLXN0b3JlJywKICAgICAgICBzaWduYWw6IGZldGNoU2lnbmFsCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGJ1ZmZlcikgewogICAgICAgIC8vIGNvbnN0IGVuZERvd25sb2FkVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIC8vIGNvbnN0IGRvd25sb2FkVGltZSA9IGVuZERvd25sb2FkVGltZSAtIHN0YXJ0RG93bmxvYWRUaW1lOwogICAgICAgIGlmIChfdGhpczI1LmlzRm9jdXNMb29wU2hvb3RpbmcpIF90aGlzMjUuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnc2hvd1JvaUltYWdlU3VjY2Vzczp0cnVlJyk7ZWxzZSBfdGhpczI1LiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ3Nob3dSb2lJbWFnZVN1Y2Nlc3M6ZmFsc2UnKTsKICAgICAgICB2YXIgdGltZTEgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICB2YXIgc3JjLCBpbWdEYXRhLCB0YXJnZXRJbWc4OwoKICAgICAgICB0cnkgewogICAgICAgICAgdmFyIHVpbnQxNkFycmF5ID0gbmV3IFVpbnQxNkFycmF5KGJ1ZmZlcik7CiAgICAgICAgICB2YXIgbmV3V2lkdGggPSBwYXJzZUludChfdGhpczI1LlJlZEJveFNpZGVMZW5ndGggLyBfdGhpczI1LmNhbWVyYUJpbik7CiAgICAgICAgICB2YXIgbmV3SGVpZ2h0ID0gcGFyc2VJbnQoX3RoaXMyNS5SZWRCb3hTaWRlTGVuZ3RoIC8gX3RoaXMyNS5jYW1lcmFCaW4pOwoKICAgICAgICAgIGlmIChuZXdXaWR0aCAlIDIgIT0gMCkgewogICAgICAgICAgICBuZXdXaWR0aCA9IG5ld1dpZHRoIC0gMTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAobmV3SGVpZ2h0ICUgMiAhPSAwKSB7CiAgICAgICAgICAgIG5ld0hlaWdodCA9IG5ld0hlaWdodCAtIDE7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHVpbnQxNkFycmF5Lmxlbmd0aCAhPT0gbmV3V2lkdGggKiBuZXdIZWlnaHQpIHsKICAgICAgICAgICAgX3RoaXMyNS5TZW5kQ29uc29sZUxvZ01zZygndWludDE2QXJyYXkubGVuZ3RoICgnICsgdWludDE2QXJyYXkubGVuZ3RoICsgJykgIT09IG5ld1dpZHRoICogbmV3SGVpZ2h0ICgnICsgbmV3V2lkdGggKiBuZXdIZWlnaHQgKyAnKScsICdlcnJvcicpOwoKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfSAvLyDliJvlu7rkuIDkuKrnqbrnmoQgTWF0IOWvueixoQoKCiAgICAgICAgICBzcmMgPSBuZXcgY3YuTWF0KG5ld0hlaWdodCwgbmV3V2lkdGgsIGN2LkNWXzE2VUMxKTsKICAgICAgICAgIHNyYy5kYXRhMTZVLnNldCh1aW50MTZBcnJheSk7CiAgICAgICAgICB2YXIgdGltZTIgPSBwZXJmb3JtYW5jZS5ub3coKTsKCiAgICAgICAgICBfdGhpczI1LlNlbmRDb25zb2xlTG9nTXNnKCfliJvlu7ptYXTlr7nosaHml7bpl7Q6ICcgKyAodGltZTIgLSB0aW1lMSkudG9GaXhlZCgwKSArICdtcycsICdpbmZvJyk7CgogICAgICAgICAgaWYgKF90aGlzMjUubGFzdEltYWdlUHJvY2Vzc1BhcmFtcy5pc0NvbG9yQ2FtZXJhID09ICd0cnVlJyB8fCBfdGhpczI1Lmxhc3RJbWFnZVByb2Nlc3NQYXJhbXMuaXNDb2xvckNhbWVyYSA9PSAnVHJ1ZScgfHwgX3RoaXMyNS5sYXN0SW1hZ2VQcm9jZXNzUGFyYW1zLmlzQ29sb3JDYW1lcmEpIHsKICAgICAgICAgICAgdGFyZ2V0SW1nOCA9IF90aGlzMjUuYXBwbHlTdHJldGNoQW5kR2FpbihzcmMsIF90aGlzMjUubGFzdEltYWdlUHJvY2Vzc1BhcmFtcy5hbmFseXNpcywgJ2JheWVyJywgX3RoaXMyNS5sYXN0SW1hZ2VQcm9jZXNzUGFyYW1zLkNGQSwgX3RoaXMyNS5sYXN0SW1hZ2VQcm9jZXNzUGFyYW1zLmJsYWNrTGV2ZWwsIF90aGlzMjUubGFzdEltYWdlUHJvY2Vzc1BhcmFtcy53aGl0ZUxldmVsKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRhcmdldEltZzggPSBfdGhpczI1LmFwcGx5U3RyZXRjaEFuZEdhaW4oc3JjLCBfdGhpczI1Lmxhc3RJbWFnZVByb2Nlc3NQYXJhbXMuYW5hbHlzaXMsICdncmF5JywgX3RoaXMyNS5sYXN0SW1hZ2VQcm9jZXNzUGFyYW1zLkNGQSwgX3RoaXMyNS5sYXN0SW1hZ2VQcm9jZXNzUGFyYW1zLmJsYWNrTGV2ZWwsIF90aGlzMjUubGFzdEltYWdlUHJvY2Vzc1BhcmFtcy53aGl0ZUxldmVsKTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aW1lMSA9IHBlcmZvcm1hbmNlLm5vdygpOwoKICAgICAgICAgIF90aGlzMjUuU2VuZENvbnNvbGVMb2dNc2coJ2FwcGx5U3RyZXRjaEFuZEdhaW7ml7bpl7Q6ICcgKyAodGltZTEgLSB0aW1lMikudG9GaXhlZCgwKSArICdtcycsICdpbmZvJyk7CgogICAgICAgICAgc3JjLmRlbGV0ZSgpOwogICAgICAgICAgc3JjID0gbnVsbDsgLy8g5bCGIE1hdCDlr7nosaHovazmjaLlm54gSW1hZ2VEYXRhIOWvueixoQoKICAgICAgICAgIGltZ0RhdGEgPSBuZXcgSW1hZ2VEYXRhKG5ldyBVaW50OENsYW1wZWRBcnJheSh0YXJnZXRJbWc4LmRhdGEpLCB0YXJnZXRJbWc4LmNvbHMsIHRhcmdldEltZzgucm93cyk7CiAgICAgICAgICB0YXJnZXRJbWc4LmRlbGV0ZSgpOwogICAgICAgICAgdGFyZ2V0SW1nOCA9IG51bGw7IC8vIOWcqOaMh+WumuS9jee9ruW8gOWni+e7mOWItuWbvuWDjwogICAgICAgICAgLy8gdGhpcy5idWZmZXJDdHguY2xlYXJSZWN0KHRoaXMuUk9JX3gsIHRoaXMuUk9JX3ksIHRhcmdldEltZzguY29scywgdGFyZ2V0SW1nOC5yb3dzKTsKCiAgICAgICAgICBfdGhpczI1LmJ1ZmZlckN0eC5wdXRJbWFnZURhdGEoaW1nRGF0YSwgX3RoaXMyNS5ST0lfeCwgX3RoaXMyNS5ST0lfeSk7IC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+e7mOWItuS4gOasoVJPSeaVsOaNrjonICsgZmlsZU5hbWUgKyAnOicgKyB0aGlzLlJPSV94ICsgJzonICsgdGhpcy5ST0lfeSwgJ2luZm8nKTsKICAgICAgICAgIC8vIOagh+azqOivhuWIq+WIsOeahOaYn+eCueS9jee9rgogICAgICAgICAgLy8gdGltZTIgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICAgIC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coJ+e7mOWItuWcqOe8k+WtmOeUu+W4g+iAl+aXtjogJyArICh0aW1lMiAtIHRpbWUxKS50b0ZpeGVkKDApICsgJ21zJywgJ2luZm8nKTsKCgogICAgICAgICAgX3RoaXMyNS5kcmF3SW1hZ2VEYXRhKCk7IC8vIHRpbWUxID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgICAgICAvLyB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKCdkcmF3SW1hZ2VEYXRh5pe26Ze0OiAnICsgKHRpbWUxIC0gdGltZTIpLnRvRml4ZWQoMCkgKyAnbXMnLCAnaW5mbycpOwoKCiAgICAgICAgICBfdGhpczI1LmZvY3VzZXJQaWN0dXJlRmlsZU5hbWUgPSBmaWxlTmFtZTsgLy8gY29uc3QgcHJvY2Vzc1RpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIGRvd25sb2FkVGltZTsKICAgICAgICAgIC8vIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coYFJPSeeahOaJp+ihjOaXtumXtCDkuIvovb06ICR7ZG93bmxvYWRUaW1lLnRvRml4ZWQoMCl9bXMsIOWkhOeQhjogJHtwcm9jZXNzVGltZS50b0ZpeGVkKDApfW1zYCwgJ2luZm8nKTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5lcnJvcigiXHU1OTA0XHU3NDA2XHU1NkZFXHU1MENGXHU1OTMxXHU4RDI1OiAiLmNvbmNhdChpbWFnZVBhdGgpLCBlcnJvcik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIC8vIOehruS/nSBNYXQg5a+56LGh5ZKMIEltYWdlRGF0YSDlr7nosaHooqvliKDpmaQKICAgICAgICAgIGlmIChzcmMgJiYgIXNyYy5pc0RlbGV0ZWQoKSkgewogICAgICAgICAgICBzcmMuZGVsZXRlKCk7CiAgICAgICAgICAgIHNyYyA9IG51bGw7IC8vIOa3u+WKoOi/meihjOS7o+egge+8jOehruS/nSBzcmMg5a+56LGh6KKr5riF55CGCiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRhcmdldEltZzggJiYgIXRhcmdldEltZzguaXNEZWxldGVkKCkpIHsKICAgICAgICAgICAgdGFyZ2V0SW1nOC5kZWxldGUoKTsKICAgICAgICAgICAgdGFyZ2V0SW1nOCA9IG51bGw7IC8vIOa3u+WKoOi/meihjOS7o+egge+8jOehruS/nSBvcmlnaW5hbEltZzgg5a+56LGh6KKr5riF55CGCiAgICAgICAgICB9IC8vIOehruS/nSBidWZmZXIg6KKr5riF55CGCgoKICAgICAgICAgIGJ1ZmZlciA9IG51bGw7CiAgICAgICAgICBfdGhpczI1LmlzUHJvY2Vzc2luZ0ltYWdlID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnRmV0Y2ggcmVxdWVzdCBjYW5jZWxsZWQnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5lcnJvcigiXHU4M0I3XHU1M0Q2XHU1NkZFXHU1MENGXHU1OTMxXHU4RDI1OiAiLmNvbmNhdChpbWFnZVBhdGgpLCBlcnJvcik7CiAgICAgICAgfQoKICAgICAgICBfdGhpczI1LmlzUHJvY2Vzc2luZ0ltYWdlID0gZmFsc2U7CiAgICAgIH0pOyAvLyDlnKjnu4Tku7bljbjovb3ml7blj5bmtoggZmV0Y2gg6K+35rGCCgogICAgICB0aGlzLiRvbmNlKCdob29rOmJlZm9yZURlc3Ryb3knLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgZmV0Y2hDb250cm9sbGVyLmFib3J0KCk7CiAgICAgIH0pOwogICAgfSwKICAgIHNldFJlZEJveFN0YXRlOiBmdW5jdGlvbiBzZXRSZWRCb3hTdGF0ZShsZW5ndGgsIHgsIHkpIHsKICAgICAgdGhpcy5TZW5kQ29uc29sZUxvZ01zZygnc2V0UmVkQm94U3RhdGU6JyArIGxlbmd0aCArICcsJyArIHggKyAnLCcgKyB5LCAnaW5mbycpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ3NldFJlZEJveFBvc2l0aW9uJywgeCwgeSk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnc2V0UmVkQm94U2lkZUxlbmd0aCcsIGxlbmd0aCk7CiAgICB9LAogICAgc2V0Rm9jdXNlclN0YXRlOiBmdW5jdGlvbiBzZXRGb2N1c2VyU3RhdGUoc3RhdGUpIHsKICAgICAgaWYgKHN0YXRlID09PSAnc2VsZWN0c3RhcnMnKSB7CiAgICAgICAgdGhpcy5pc0ZvY3VzTG9vcFNob290aW5nID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlzRm9jdXNMb29wU2hvb3RpbmcgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIHNldFNob3dTZWxlY3RTdGFyOiBmdW5jdGlvbiBzZXRTaG93U2VsZWN0U3RhcihzdGF0ZSkgewogICAgICB0aGlzLnNob3dTZWxlY3RTdGFyID0gc3RhdGU7CiAgICB9LAogICAgUmVkQm94U2l6ZUNoYW5nZTogZnVuY3Rpb24gUmVkQm94U2l6ZUNoYW5nZShsZW5ndGgpIHsKICAgICAgdGhpcy5SZWRCb3hTaWRlTGVuZ3RoID0gcGFyc2VJbnQobGVuZ3RoKTsgLy8gdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdzZW5kUmVkQm94U3RhdGU6JyArIHRoaXMuUmVkQm94U2lkZUxlbmd0aCArICc6JyArIHRoaXMuUk9JX3ggKyAnOicgKyB0aGlzLlJPSV95KTsKICAgIH0sCiAgICBzZXRNYWluQ2FtZXJhUGFyYW1ldGVyczogZnVuY3Rpb24gc2V0TWFpbkNhbWVyYVBhcmFtZXRlcnMocGFyYW1ldGVycykgewogICAgICB2YXIgX3RoaXMyNiA9IHRoaXM7CgogICAgICB2YXIgX2xvb3AzID0gZnVuY3Rpb24gX2xvb3AzKHBhcmFtZXRlcikgewogICAgICAgIHZhciBpdGVtID0gX3RoaXMyNi5NYWluQ2FtZXJhQ29uZmlnSXRlbXMuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0ubGFiZWwgPT09IHBhcmFtZXRlcjsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICAgIGl0ZW0udmFsdWUgPSBwYXJhbWV0ZXJzW3BhcmFtZXRlcl07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChwYXJhbWV0ZXIgPT0gJ1JlZEJveFNpemUnKSB7CiAgICAgICAgICAgIF90aGlzMjYuJGJ1cy4kZW1pdCgnc2V0UmVkQm94U2lkZUxlbmd0aCcsIHBhcmFtZXRlcnNbcGFyYW1ldGVyXSk7CgogICAgICAgICAgICBfdGhpczI2LlJlZEJveFNpZGVMZW5ndGggPSBwYXJzZUludChwYXJhbWV0ZXJzW3BhcmFtZXRlcl0pOwogICAgICAgICAgfSBlbHNlIGlmIChwYXJhbWV0ZXIgPT0gJ1JPSV94JykgewogICAgICAgICAgICBfdGhpczI2LlJPSV94ID0gcGFyc2VGbG9hdChwYXJhbWV0ZXJzW3BhcmFtZXRlcl0pOwogICAgICAgICAgfSBlbHNlIGlmIChwYXJhbWV0ZXIgPT0gJ1JPSV95JykgewogICAgICAgICAgICBfdGhpczI2LlJPSV95ID0gcGFyc2VGbG9hdChwYXJhbWV0ZXJzW3BhcmFtZXRlcl0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigiXHU2NzJBXHU2MjdFXHU1MjMwXHU1M0MyXHU2NTcwXHVGRjFBIi5jb25jYXQocGFyYW1ldGVyKSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwoKICAgICAgZm9yICh2YXIgcGFyYW1ldGVyIGluIHBhcmFtZXRlcnMpIHsKICAgICAgICBfbG9vcDMocGFyYW1ldGVyKTsKICAgICAgfQoKICAgICAgdGhpcy5jb25maXJtQ29uZmlndXJhdGlvbih0aGlzLk1haW5DYW1lcmFDb25maWdJdGVtcyk7CiAgICB9LAogICAgc2hvd0NhbnZhczogZnVuY3Rpb24gc2hvd0NhbnZhcyhjYW52YXMpIHsKICAgICAgaWYgKGNhbnZhcyA9PT0gJ1N0ZWwnKSB7CiAgICAgICAgdGhpcy5jdXJyZW50Y2FudmFzID0gJ1N0ZWwnOwogICAgICAgIHRoaXMuc2hvd1N0ZWxDYW52YXMoKTsKICAgICAgfSBlbHNlIGlmIChjYW52YXMgPT09ICdNYWluQ2FtZXJhJykgewogICAgICAgIHRoaXMuY3VycmVudGNhbnZhcyA9ICdNYWluQ2FtZXJhJzsKICAgICAgICB0aGlzLnNob3dNYWluQ2FtZXJhQ2FudmFzKCk7CiAgICAgICAgdGhpcy5kcmF3SW1hZ2VEYXRhKCk7CiAgICAgIH0gZWxzZSBpZiAoY2FudmFzID09PSAnR3VpZGVyQ2FtZXJhJykgewogICAgICAgIHRoaXMuY3VycmVudGNhbnZhcyA9ICdHdWlkZXJDYW1lcmEnOwogICAgICAgIHRoaXMuc2hvd0d1aWRlckNhbWVyYUNhbnZhcygpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2coInVua25vd24gY2FudmFzOiAiICsgY2FudmFzLCAnZXJyb3InKTsKICAgICAgfQogICAgfSwKICAgIC8vIOeOsOacieeahOWKoOWHj+WHveaVsOmcgOimgeS/ruaUuQogICAgZGVjcmVtZW50QW5kTm90aWZ5OiBmdW5jdGlvbiBkZWNyZW1lbnRBbmROb3RpZnkoaXRlbSkgewogICAgICBpZiAoaXRlbS52YWx1ZSA+IGl0ZW0uaW5wdXRNaW4pIHsKICAgICAgICBpdGVtLnZhbHVlIC09IGl0ZW0uaW5wdXRTdGVwOwogICAgICAgIHRoaXMuaGFuZGxlQ29uZmlnQ2hhbmdlKGl0ZW0ubGFiZWwsIGl0ZW0udmFsdWUpOwogICAgICB9CiAgICB9LAogICAgaW5jcmVtZW50QW5kTm90aWZ5OiBmdW5jdGlvbiBpbmNyZW1lbnRBbmROb3RpZnkoaXRlbSkgewogICAgICBpZiAoaXRlbS52YWx1ZSA8IGl0ZW0uaW5wdXRNYXgpIHsKICAgICAgICBpdGVtLnZhbHVlICs9IGl0ZW0uaW5wdXRTdGVwOwogICAgICAgIHRoaXMuaGFuZGxlQ29uZmlnQ2hhbmdlKGl0ZW0ubGFiZWwsIGl0ZW0udmFsdWUpOwogICAgICB9CiAgICB9LAogICAgLy8g6YCa55So55qE6YWN572u5pu05pS55aSE55CG5Ye95pWwCiAgICBoYW5kbGVDb25maWdDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUNvbmZpZ0NoYW5nZShsYWJlbCwgdmFsdWUpIHsKICAgICAgY29uc29sZS5sb2coIlx1OTE0RFx1N0Y2RVx1NURGMlx1NjZGNFx1NjUzOTogIi5jb25jYXQobGFiZWwsICIgPSAiKS5jb25jYXQodmFsdWUpKTsKCiAgICAgIGlmICh2YWx1ZSAhPT0gJycpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhpdGVtLmxhYmVsLCBpdGVtLnZhbHVlKTsKICAgICAgICB0aGlzLlNlbmRDb25zb2xlTG9nTXNnKGxhYmVsICsgJzonICsgdmFsdWUsICdpbmZvJyk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KGxhYmVsLCBsYWJlbCArICc6JyArIHZhbHVlKTsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAnJyAmJiBsYWJlbCA9PT0gJ0ZvY2FsIExlbmd0aCAobW0pJykgewogICAgICAgIHRoaXMuU2VuZENvbnNvbGVMb2dNc2cobGFiZWwgKyAnaXMgTlVMTCcsICdpbmZvJyk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KGl0ZW0ubGFiZWwsIGl0ZW0ubGFiZWwgKyAnOicpOwogICAgICB9CiAgICB9LAogICAgLy8g5qCh5YeG55u45YWz5pa55rOVCiAgICBzdGFydENhbGlicmF0aW9uUHJvY2VzczogZnVuY3Rpb24gc3RhcnRDYWxpYnJhdGlvblByb2Nlc3MoKSB7CiAgICAgIHRoaXMuY2FsaWJyYXRpb25JbmZvLmlzQ2FsaWJyYXRpbmcgPSB0cnVlOwogICAgICB0aGlzLmNhbGlicmF0aW9uSW5mby5jYWxpYnJhdGlvblN0YXRlID0gJ3J1bm5pbmcnOwogICAgICB0aGlzLmNhbGlicmF0aW9uSW5mby5jYWxpYnJhdGlvblN0ZXAgPSAwOwogICAgICB0aGlzLmNhbGlicmF0aW9uSW5mby5jYWxpYnJhdGlvbk1lc3NhZ2UgPSB0aGlzLiR0KCdQcmVwYXJpbmcgdG8gc3RhcnQgZm9jdXNlciB0cmF2ZWwgY2FsaWJyYXRpb24uLi4nKTsKICAgICAgY29uc29sZS5sb2coJ0FwcDogQ2FsaWJyYXRpb24gc3RhcnRlZDonLCB0aGlzLmNhbGlicmF0aW9uSW5mbyk7CiAgICB9LAogICAgdXBkYXRlQ2FsaWJyYXRpb25JbmZvOiBmdW5jdGlvbiB1cGRhdGVDYWxpYnJhdGlvbkluZm8oc3RlcCwgbWVzc2FnZSwgc3RhdGUpIHsKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLmNhbGlicmF0aW9uSW5mby5jYWxpYnJhdGlvblN0ZXAgPSBzdGVwOyAvLyDlpoLmnpzmtojmga/mmK/lm73pmYXljJbplK7vvIzliJnnv7vor5HlroMKCiAgICAgICAgaWYgKG1lc3NhZ2UgJiYgdHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICB0aGlzLmNhbGlicmF0aW9uSW5mby5jYWxpYnJhdGlvbk1lc3NhZ2UgPSB0aGlzLiR0KG1lc3NhZ2UpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNhbGlicmF0aW9uSW5mby5jYWxpYnJhdGlvbk1lc3NhZ2UgPSBtZXNzYWdlOwogICAgICAgIH0KCiAgICAgICAgaWYgKHN0YXRlKSB7CiAgICAgICAgICB0aGlzLmNhbGlicmF0aW9uSW5mby5jYWxpYnJhdGlvblN0YXRlID0gc3RhdGU7CiAgICAgICAgfQoKICAgICAgICBpZiAoc3RlcCA9PT0gMCkgewogICAgICAgICAgdGhpcy5jYWxpYnJhdGlvbkluZm8uaXNDYWxpYnJhdGluZyA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmxvZygnQXBwOiBDYWxpYnJhdGlvbiBpbmZvIHVwZGF0ZWQ6JywgdGhpcy5jYWxpYnJhdGlvbkluZm8pOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIHVwZGF0ZUNhbGlicmF0aW9uSW5mbzonLCBlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBlbmRDYWxpYnJhdGlvbjogZnVuY3Rpb24gZW5kQ2FsaWJyYXRpb24oKSB7CiAgICAgIHRoaXMuY2FsaWJyYXRpb25JbmZvLmlzQ2FsaWJyYXRpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5jYWxpYnJhdGlvbkluZm8uY2FsaWJyYXRpb25TdGF0ZSA9ICdpZGxlJzsKICAgICAgdGhpcy5jYWxpYnJhdGlvbkluZm8uY2FsaWJyYXRpb25TdGVwID0gMDsKICAgICAgdGhpcy5jYWxpYnJhdGlvbkluZm8uY2FsaWJyYXRpb25NZXNzYWdlID0gJyc7CiAgICAgIGNvbnNvbGUubG9nKCdBcHA6IENhbGlicmF0aW9uIGVuZGVkJyk7CiAgICB9LAogICAgLy8g6Ieq5Yqo5a+554Sm55u45YWz5pa55rOVIC0gW0FVVE9fRk9DVVNfVUlfRU5IQU5DRU1FTlRdCiAgICBzdGFydEF1dG9Gb2N1c1Byb2Nlc3M6IGZ1bmN0aW9uIHN0YXJ0QXV0b0ZvY3VzUHJvY2VzcygpIHsKICAgICAgdGhpcy5hdXRvRm9jdXNJbmZvLmlzUnVubmluZyA9IHRydWU7CiAgICAgIHRoaXMuYXV0b0ZvY3VzSW5mby5zdGF0ZSA9ICdydW5uaW5nJzsKICAgICAgdGhpcy5hdXRvRm9jdXNJbmZvLnN0ZXAgPSAwOwogICAgICB0aGlzLmF1dG9Gb2N1c0luZm8ubWVzc2FnZSA9IHRoaXMuJHQoJ1ByZXBhcmluZyB0byBzdGFydCBhdXRvIGZvY3VzLi4uJyk7CiAgICAgIGNvbnNvbGUubG9nKCdBcHA6IEF1dG8gZm9jdXMgc3RhcnRlZDonLCB0aGlzLmF1dG9Gb2N1c0luZm8pOwogICAgfSwKICAgIHVwZGF0ZUF1dG9Gb2N1c1N0ZXA6IGZ1bmN0aW9uIHVwZGF0ZUF1dG9Gb2N1c1N0ZXAoc3RlcCwgbWVzc2FnZSkgewogICAgICB0cnkgewogICAgICAgIHRoaXMuYXV0b0ZvY3VzSW5mby5zdGVwID0gc3RlcDsKICAgICAgICB0aGlzLmF1dG9Gb2N1c0luZm8ubWVzc2FnZSA9IG1lc3NhZ2U7CgogICAgICAgIGlmIChzdGVwID09PSAwKSB7CiAgICAgICAgICB0aGlzLmF1dG9Gb2N1c0luZm8uaXNSdW5uaW5nID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKCdBcHA6IEF1dG8gZm9jdXMgaW5mbyB1cGRhdGVkOicsIHRoaXMuYXV0b0ZvY3VzSW5mbyk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gdXBkYXRlQXV0b0ZvY3VzU3RlcDonLCBlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBlbmRBdXRvRm9jdXM6IGZ1bmN0aW9uIGVuZEF1dG9Gb2N1cygpIHsKICAgICAgdGhpcy5hdXRvRm9jdXNJbmZvLmlzUnVubmluZyA9IGZhbHNlOwogICAgICB0aGlzLmF1dG9Gb2N1c0luZm8uc3RhdGUgPSAnaWRsZSc7CiAgICAgIHRoaXMuYXV0b0ZvY3VzSW5mby5zdGVwID0gMDsKICAgICAgdGhpcy5hdXRvRm9jdXNJbmZvLm1lc3NhZ2UgPSAnJzsKICAgICAgY29uc29sZS5sb2coJ0FwcDogQXV0byBmb2N1cyBlbmRlZCcpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG5hdjogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICBjb25zb2xlLmxvZygnbmF2OicsIHRoaXMuJHN0b3JlLnN0YXRlLnNob3dOYXZpZ2F0aW9uRHJhd2VyKTsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuc2hvd05hdmlnYXRpb25EcmF3ZXI7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHYpIHsKICAgICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuc2hvd05hdmlnYXRpb25EcmF3ZXIgIT09IHYpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCduYXY6JywgdGhpcy4kc3RvcmUuc3RhdGUuc2hvd05hdmlnYXRpb25EcmF3ZXIpOwogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd0b2dnbGVCb29sJywgJ3Nob3dOYXZpZ2F0aW9uRHJhd2VyJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc3RvcmVDdXJyZW50TG9jYXRpb246IGZ1bmN0aW9uIHN0b3JlQ3VycmVudExvY2F0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudExvY2F0aW9uOwogICAgfSwKICAgIGdldFFUQ2xpZW50VmVyc2lvbkNvbG9yOiBmdW5jdGlvbiBnZXRRVENsaWVudFZlcnNpb25Db2xvcigpIHsKICAgICAgaWYgKHRoaXMuUVRDbGllbnRWZXJzaW9uID09PSAnTm90IGNvbm5lY3RlZCcpIHsKICAgICAgICByZXR1cm4gJ3JnYmEoMjU1LCAwLCAwLCAwLjUpJzsgLy8g57qi6Imy77yM6YCP5piO5bqmIDAuNQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpJzsgLy8g6buY6K6k55m96Imy77yM6YCP5piO5bqmIDAuNQogICAgICB9CiAgICB9LAogICAgaXNNb2JpbGU6IGZ1bmN0aW9uIGlzTW9iaWxlKCkgewogICAgICB2YXIgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50IHx8ICcnOwogICAgICB2YXIgdG91Y2ggPSAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgfHwgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMDsKICAgICAgdmFyIHVhRGF0YU1vYmlsZSA9IG51bGw7IC8vIOWFvOWuueiAgea1j+iniOWZqO+8mumBv+WFjeWPr+mAiemTvgoKICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnREYXRhICYmIHR5cGVvZiBuYXZpZ2F0b3IudXNlckFnZW50RGF0YS5tb2JpbGUgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgdWFEYXRhTW9iaWxlID0gbmF2aWdhdG9yLnVzZXJBZ2VudERhdGEubW9iaWxlOwogICAgICB9CgogICAgICB2YXIgbW9iaWxlTGlrZSA9IC9BbmRyb2lkfGlQaG9uZXxpUGFkfGlQb2R8TW9iaWxlfFRhYmxldC9pLnRlc3QodWEpOwogICAgICByZXR1cm4gKHVhRGF0YU1vYmlsZSAhPT0gbnVsbCA/IHVhRGF0YU1vYmlsZSA6IG1vYmlsZUxpa2UpICYmICEhdG91Y2g7CiAgICB9LAogICAgaXNEZXNrdG9wOiBmdW5jdGlvbiBpc0Rlc2t0b3AoKSB7CiAgICAgIHJldHVybiAhdGhpcy5pc01vYmlsZTsKICAgIH0sCiAgICBpc01vdW50Q29ubmVjdGVkOiBmdW5jdGlvbiBpc01vdW50Q29ubmVjdGVkKCkgewogICAgICB0cnkgewogICAgICAgIHZhciBkZXYgPSB0aGlzLmRldmljZXMgJiYgdGhpcy5kZXZpY2VzLmZpbmQoZnVuY3Rpb24gKGQpIHsKICAgICAgICAgIHJldHVybiBkLmRyaXZlclR5cGUgPT09ICdNb3VudCc7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuICEhKGRldiAmJiBkZXYuaXNDb25uZWN0ZWQpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgZmxpcEV0YVNlY29uZHM6IGZ1bmN0aW9uIGZsaXBFdGFTZWNvbmRzKCkgewogICAgICB0cnkgewogICAgICAgIHZhciBfaXRlbTggPSB0aGlzLk1vdW50Q29uZmlnSXRlbXMgJiYgdGhpcy5Nb3VudENvbmZpZ0l0ZW1zLmZpbmQoZnVuY3Rpb24gKGkpIHsKICAgICAgICAgIHJldHVybiBpLmxhYmVsID09PSAnRmxpcCBFVEEnOwogICAgICAgIH0pOwoKICAgICAgICB2YXIgcmF3ID0gX2l0ZW04ID8gX2l0ZW04LmRpc3BsYXlWYWx1ZSAhPSBudWxsID8gU3RyaW5nKF9pdGVtOC5kaXNwbGF5VmFsdWUpIDogU3RyaW5nKF9pdGVtOC52YWx1ZSB8fCAnJykgOiAnJzsKICAgICAgICB2YXIgbSA9IHJhdy5tYXRjaCgvXigtKT8oXGR7MSwyfSk6KFxkezEsMn0pOihcZHsxLDJ9KSQvKTsKICAgICAgICBpZiAoIW0pIHJldHVybiA5OTk5OTk7CiAgICAgICAgdmFyIHNpZ24gPSBtWzFdID09PSAnLScgPyAtMSA6IDE7CiAgICAgICAgdmFyIGggPSBwYXJzZUludChtWzJdLCAxMCkgfHwgMDsKICAgICAgICB2YXIgbWkgPSBwYXJzZUludChtWzNdLCAxMCkgfHwgMDsKICAgICAgICB2YXIgcyA9IHBhcnNlSW50KG1bNF0sIDEwKSB8fCAwOwogICAgICAgIHZhciB0b3RhbCA9IHNpZ24gKiAoaCAqIDM2MDAgKyBtaSAqIDYwICsgcyk7CiAgICAgICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZSh0b3RhbCkgPyB0b3RhbCA6IDk5OTk5OTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHJldHVybiA5OTk5OTk7CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBzdG9yZUN1cnJlbnRMb2NhdGlvbjogZnVuY3Rpb24gc3RvcmVDdXJyZW50TG9jYXRpb24obG9jKSB7CiAgICAgIHZhciBERDJSID0gTWF0aC5QSSAvIDE4MDsKICAgICAgdGhpcy4kc3RlbC5jb3JlLm9ic2VydmVyLmxhdGl0dWRlID0gbG9jLmxhdCAqIEREMlI7CiAgICAgIHRoaXMuJHN0ZWwuY29yZS5vYnNlcnZlci5sb25naXR1ZGUgPSBsb2MubG5nICogREQyUjsKICAgICAgdGhpcy4kc3RlbC5jb3JlLm9ic2VydmVyLmVsZXZhdGlvbiA9IGxvYy5hbHQ7IC8vIEF0IHN0YXJ0dXAsIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIGxvY2F0aW9uIHRvIGJlIHNldCBiZWZvcmUgZGVjaWRpbmcgd2hpY2gKICAgICAgLy8gc3RhcnR1cCB0aW1lIHRvIHNldCBzbyB0aGF0IGl0J3MgbmlnaHQgdGltZS4KCiAgICAgIGlmICghdGhpcy5zdGFydFRpbWVJc1NldCkgewogICAgICAgIHRoaXMuJHN0ZWwuY29yZS5vYnNlcnZlci51dGMgPSBzd2guZ2V0VGltZUFmdGVyU3Vuc2V0KHRoaXMuJHN0ZWwpOwogICAgICAgIHRoaXMuc3RhcnRUaW1lSXNTZXQgPSB0cnVlOwogICAgICB9IC8vIEluaXQgb2YgdGltZSBhbmQgZGF0ZSBpcyBjb21wbGV0ZQoKCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0VmFsdWUnLCB7CiAgICAgICAgdmFyTmFtZTogJ2luaXRDb21wbGV0ZScsCiAgICAgICAgbmV3VmFsdWU6IHRydWUKICAgICAgfSk7CiAgICB9LAogICAgJHJvdXRlOiBmdW5jdGlvbiAkcm91dGUoKSB7CiAgICAgIC8vIHJlYWN0IHRvIHJvdXRlIGNoYW5nZXMuLi4KICAgICAgdGhpcy5zZXRTdGF0ZUZyb21RdWVyeUFyZ3MoKTsKICAgIH0sCiAgICBDdXJyZW50RHJpdmVyVHlwZTogZnVuY3Rpb24gQ3VycmVudERyaXZlclR5cGUobmV3VmFsKSB7CiAgICAgIC8vIOW9kyBDdXJyZW50RHJpdmVyVHlwZSDlj5jljJbml7bvvIzmm7TmlrAgc2VsZWN0ZWREcml2ZXIKICAgICAgdGhpcy51cGRhdGVTZWxlY3RlZERyaXZlcihuZXdWYWwpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczI3ID0gdGhpczsKCiAgICAvLyAvLyDpmLvmraLpu5jorqTnmoTop6bmkbjooYzkuLoKICAgIC8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLnByZXZlbnREZWZhdWx0LCB7IHBhc3NpdmU6IGZhbHNlIH0pOwogICAgLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5wcmV2ZW50RGVmYXVsdCwgeyBwYXNzaXZlOiBmYWxzZSB9KTsKICAgIC8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5wcmV2ZW50RGVmYXVsdCwgeyBwYXNzaXZlOiBmYWxzZSB9KTsKICAgIC8vIC8vIOmYu+atoum7mOiupOeahOm8oOagh+ihjOS4ugogICAgLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5wcmV2ZW50RGVmYXVsdCwgeyBwYXNzaXZlOiBmYWxzZSB9KTsKICAgIC8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMucHJldmVudERlZmF1bHQsIHsgcGFzc2l2ZTogZmFsc2UgfSk7CiAgICAvLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5wcmV2ZW50RGVmYXVsdCwgeyBwYXNzaXZlOiBmYWxzZSB9KTsKICAgIC8vIC8vIOmYu+atoum7mOiupOeahOa7mui9ruihjOS4ugogICAgLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLnByZXZlbnREZWZhdWx0LCB7IHBhc3NpdmU6IGZhbHNlIH0pOwogICAgdmFyIHRoYXQgPSB0aGlzOwogICAgdGhpcy5nZXRMb2NhdGlvbkhvc3ROYW1lKCk7CiAgICB0aGlzLmxvYWRJbWFnZVRvQ2FudmFzTWFpbkNhbWVyYSgpOwogICAgdGhpcy5sb2FkSW1hZ2VUb0NhbnZhc0d1aWRlckNhbWVyYSgpOwogICAgdGhpcy5pbml0Q2FudmFzKCk7CiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCk7CgogICAgZm9yICh2YXIgaSBpbiB0aGlzLiRzdGVsbGFyaXVtV2ViUGx1Z2lucygpKSB7CiAgICAgIHZhciBwbHVnaW4gPSB0aGlzLiRzdGVsbGFyaXVtV2ViUGx1Z2lucygpW2ldOwoKICAgICAgaWYgKHBsdWdpbi5vbkFwcE1vdW50ZWQpIHsKICAgICAgICBwbHVnaW4ub25BcHBNb3VudGVkKHRoYXQpOwogICAgICB9CiAgICB9CgogICAgdGhpcy5jb25uZWN0KCk7CiAgICB0aGlzLnNldHVwTmV0d29ya1N0YXR1c0xpc3RlbmVyKCk7IC8vIOS9v+eUqCBQcm9taXNlIOajgOafpSBPcGVuQ1YuanMg5piv5ZCm5Yqg6L295a6M5oiQCgogICAgdGhpcy5sb2FkT3BlbkN2KCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghX3RoaXMyNy5faXNEZXN0cm95ZWQpIHsKICAgICAgICAvLyDmo4Dmn6Xnu4Tku7bmmK/lkKblt7LplIDmr4EKICAgICAgICBjb25zb2xlLmxvZygnT3BlbkNWLmpzIGlzIHJlYWR5Jyk7CgogICAgICAgIF90aGlzMjcub25DdlJlYWR5KCk7IC8vIOiwg+eUqCBPcGVuQ1Yg5YeG5aSH5aW955qE5Zue6LCDCgogICAgICB9CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBPcGVuQ1YuanM6JywgZXJyb3IpOwogICAgfSk7IC8vIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogICAgLy8gc2NyaXB0LnNyYyA9ICdodHRwczovL2RvY3Mub3BlbmN2Lm9yZy80LjUuNS9vcGVuY3YuanMnOwogICAgLy8gc2NyaXB0LmFzeW5jID0gdHJ1ZTsKICAgIC8vIHNjcmlwdC5vbmxvYWQgPSAoKSA9PiB0aGlzLm9uQ3ZSZWFkeSgpOwogICAgLy8gZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpOwoKICAgIGltcG9ydCgnQC9hc3NldHMvanMvc3RlbGxhcml1bS13ZWItZW5naW5lLndhc20nKS50aGVuKGZ1bmN0aW9uIChmKSB7CiAgICAgIGlmICghX3RoaXMyNy5faXNEZXN0cm95ZWQpIHsKICAgICAgICAvLyDlho3mrKHmo4Dmn6Xnu4Tku7bmmK/lkKblt7LplIDmr4EKICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBTdGVsV2ViRW5naW5lIHZpZXdlciBzaW5nbGV0b24KICAgICAgICAvLyBBZnRlciB0aGlzIGNhbGwsIHRoZSBTdGVsV2ViRW5naW5lIHN0YXRlIHdpbGwgYWx3YXlzIGJlIGF2YWlsYWJsZSBpbiB2dWV4IHN0b3JlCiAgICAgICAgLy8gaW4gdGhlICRzdG9yZS5zdGVsIG9iamVjdCBpbiBhIHJlYWN0aXZlIHdheSAodXNlZnVsIGZvciB2dWUgY29tcG9uZW50cykuCiAgICAgICAgLy8gVG8gbW9kaWZ5IHRoZSBzdGF0ZSBvZiB0aGUgU3RlbFdlYkVuZ2luZSwgaXQncyBlbm91Z2ggdG8gY2FsbC9zZXQgdmFsdWVzIGRpcmVjdGx5IG9uIHRoZSAkc3RlbCBvYmplY3QKICAgICAgICB0cnkgewogICAgICAgICAgc3doLmluaXRTdGVsV2ViRW5naW5lKHRoYXQuJHN0b3JlLCBmLmRlZmF1bHQsIHRoYXQuJHJlZnMuc3RlbENhbnZhcywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyBTdGFydCBhdXRvIGxvY2F0aW9uIGRldGVjdGlvbiAoZXZlbiBpZiB3ZSBkb24ndCB1c2UgaXQpCiAgICAgICAgICAgIHN3aC5nZXRHZW9sb2NhdGlvbigpLnRoZW4oZnVuY3Rpb24gKHApIHsKICAgICAgICAgICAgICByZXR1cm4gc3doLmdlb0NvZGVQb3NpdGlvbihwLCB0aGF0KTsKICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAobG9jKSB7CiAgICAgICAgICAgICAgdGhhdC4kc3RvcmUuY29tbWl0KCdzZXRBdXRvRGV0ZWN0ZWRMb2NhdGlvbicsIGxvYyk7CiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoYXQuJHN0ZWwuc2V0Rm9udCgncmVndWxhcicsIHByb2Nlc3MuZW52LkJBU0VfVVJMICsgJ2ZvbnRzL1JvYm90by1SZWd1bGFyLnR0ZicsIDEuMzgpOwogICAgICAgICAgICB0aGF0LiRzdGVsLnNldEZvbnQoJ2JvbGQnLCBwcm9jZXNzLmVudi5CQVNFX1VSTCArICdmb250cy9Sb2JvdG8tQm9sZC50dGYnLCAxLjM4KTsKICAgICAgICAgICAgdGhhdC4kc3RlbC5jb3JlLmNvbnN0ZWxsYXRpb25zLnNob3dfb25seV9wb2ludGVkID0gZmFsc2U7CiAgICAgICAgICAgIHRoYXQuc2V0U3RhdGVGcm9tUXVlcnlBcmdzKCk7CiAgICAgICAgICAgIHRoYXQuZ3VpQ29tcG9uZW50ID0gJ0d1aSc7CgogICAgICAgICAgICBmb3IgKHZhciBfaTggaW4gdGhhdC4kc3RlbGxhcml1bVdlYlBsdWdpbnMoKSkgewogICAgICAgICAgICAgIHZhciBfcGx1Z2luID0gdGhhdC4kc3RlbGxhcml1bVdlYlBsdWdpbnMoKVtfaThdOwoKICAgICAgICAgICAgICBpZiAoX3BsdWdpbi5vbkVuZ2luZVJlYWR5KSB7CiAgICAgICAgICAgICAgICBfcGx1Z2luLm9uRW5naW5lUmVhZHkodGhhdCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIXRoYXQuZGF0YVNvdXJjZUluaXREb25lKSB7CiAgICAgICAgICAgICAgLy8gU2V0IGFsbCBkZWZhdWx0IGRhdGEgc291cmNlcwogICAgICAgICAgICAgIHZhciBjb3JlID0gdGhhdC4kc3RlbC5jb3JlOwogICAgICAgICAgICAgIGNvcmUuc3RhcnMuYWRkRGF0YVNvdXJjZSh7CiAgICAgICAgICAgICAgICB1cmw6IHByb2Nlc3MuZW52LkJBU0VfVVJMICsgJ3NreWRhdGEvc3RhcnMnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY29yZS5zdGFycy5hZGREYXRhU291cmNlKHsKICAgICAgICAgICAgICAgIHVybDogcHJvY2Vzcy5lbnYuQkFTRV9VUkwgKyAnc2t5ZGF0YS9zdGFyc19iYXNlJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNvcmUuc3RhcnMuYWRkRGF0YVNvdXJjZSh7CiAgICAgICAgICAgICAgICB1cmw6IHByb2Nlc3MuZW52LkJBU0VfVVJMICsgJ3NreWRhdGEvc3RhcnNfZXh0ZW5kJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNvcmUuZHNzLmFkZERhdGFTb3VyY2UoewogICAgICAgICAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5CQVNFX1VSTCArICdza3lkYXRhL2Rzcy92MScKICAgICAgICAgICAgICB9KTsgLy8gY29yZS5zdGFycy5hZGREYXRhU291cmNlKHsgdXJsOiBwcm9jZXNzLmVudi5CQVNFX1VSTCArICdza3lkYXRhL3N0YXJzJyB9KQogICAgICAgICAgICAgIC8vIEFsbG93IHRvIHNwZWNpZnkgYSBjdXN0b20gcGF0aCBmb3Igc2t5IGN1bHR1cmUgZGF0YQoKICAgICAgICAgICAgICBpZiAodGhhdC4kcm91dGUucXVlcnkuc2MpIHsKICAgICAgICAgICAgICAgIHZhciBrZXkgPSB0aGF0LiRyb3V0ZS5xdWVyeS5zYy5zdWJzdHJpbmcodGhhdC4kcm91dGUucXVlcnkuc2MubGFzdEluZGV4T2YoJy8nKSArIDEpOwogICAgICAgICAgICAgICAgY29yZS5za3ljdWx0dXJlcy5hZGREYXRhU291cmNlKHsKICAgICAgICAgICAgICAgICAgdXJsOiB0aGF0LiRyb3V0ZS5xdWVyeS5zYywKICAgICAgICAgICAgICAgICAga2V5OiBrZXkKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY29yZS5za3ljdWx0dXJlcy5jdXJyZW50X2lkID0ga2V5OwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb3JlLnNreWN1bHR1cmVzLmFkZERhdGFTb3VyY2UoewogICAgICAgICAgICAgICAgICB1cmw6IHByb2Nlc3MuZW52LkJBU0VfVVJMICsgJ3NreWRhdGEvc2t5Y3VsdHVyZXMvd2VzdGVybicsCiAgICAgICAgICAgICAgICAgIGtleTogJ3dlc3Rlcm4nCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNvcmUuZHNvcy5hZGREYXRhU291cmNlKHsKICAgICAgICAgICAgICAgIHVybDogcHJvY2Vzcy5lbnYuQkFTRV9VUkwgKyAnc2t5ZGF0YS9kc28nCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY29yZS5sYW5kc2NhcGVzLmFkZERhdGFTb3VyY2UoewogICAgICAgICAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5CQVNFX1VSTCArICdza3lkYXRhL2xhbmRzY2FwZXMvZ3VlcmVpbnMnLAogICAgICAgICAgICAgICAga2V5OiAnZ3VlcmVpbnMnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY29yZS5taWxreXdheS5hZGREYXRhU291cmNlKHsKICAgICAgICAgICAgICAgIHVybDogcHJvY2Vzcy5lbnYuQkFTRV9VUkwgKyAnc2t5ZGF0YS9zdXJ2ZXlzL21pbGt5d2F5JwogICAgICAgICAgICAgIH0pOyAvLyBjb3JlLmRzcy5hZGREYXRhU291cmNlKHsgdXJsOiBwcm9jZXNzLmVudi5CQVNFX1VSTCArICdza3lkYXRhL3N1cnZleXMvZHNzJyB9KQoKICAgICAgICAgICAgICBjb3JlLm1pbm9yX3BsYW5ldHMuYWRkRGF0YVNvdXJjZSh7CiAgICAgICAgICAgICAgICB1cmw6IHByb2Nlc3MuZW52LkJBU0VfVVJMICsgJ3NreWRhdGEvbXBjb3JiLmRhdCcsCiAgICAgICAgICAgICAgICBrZXk6ICdtcGNfYXN0ZXJvaWRzJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNvcmUucGxhbmV0cy5hZGREYXRhU291cmNlKHsKICAgICAgICAgICAgICAgIHVybDogcHJvY2Vzcy5lbnYuQkFTRV9VUkwgKyAnc2t5ZGF0YS9zdXJ2ZXlzL3Nzby9tb29uJywKICAgICAgICAgICAgICAgIGtleTogJ21vb24nCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY29yZS5wbGFuZXRzLmFkZERhdGFTb3VyY2UoewogICAgICAgICAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5CQVNFX1VSTCArICdza3lkYXRhL3N1cnZleXMvc3NvL3N1bicsCiAgICAgICAgICAgICAgICBrZXk6ICdzdW4nCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY29yZS5wbGFuZXRzLmFkZERhdGFTb3VyY2UoewogICAgICAgICAgICAgICAgdXJsOiBwcm9jZXNzLmVudi5CQVNFX1VSTCArICdza3lkYXRhL3N1cnZleXMvc3NvL21vb24nLAogICAgICAgICAgICAgICAga2V5OiAnZGVmYXVsdCcKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb3JlLmNvbWV0cy5hZGREYXRhU291cmNlKHsKICAgICAgICAgICAgICAgIHVybDogcHJvY2Vzcy5lbnYuQkFTRV9VUkwgKyAnc2t5ZGF0YS9Db21ldEVscy50eHQnLAogICAgICAgICAgICAgICAga2V5OiAnbXBjX2NvbWV0cycKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb3JlLnNhdGVsbGl0ZXMuYWRkRGF0YVNvdXJjZSh7CiAgICAgICAgICAgICAgICB1cmw6IHByb2Nlc3MuZW52LkJBU0VfVVJMICsgJ3NreWRhdGEvdGxlX3NhdGVsbGl0ZS5qc29ubC5neicsCiAgICAgICAgICAgICAgICBrZXk6ICdqc29ubC9zYXQnCiAgICAgICAgICAgICAgfSk7IC8vIE1vdW50IFBvaW50aW5nCgogICAgICAgICAgICAgIGdsU3RlbCA9IHRoYXQuc2V0R2xvYWJhbFN0ZWwodGhhdC4kc3RlbCk7CiAgICAgICAgICAgICAgZ2xMYXllciA9IHRoYXQuc2V0R2xvYmFsTGF5ZXIodGhhdC4kc3RlbCk7CiAgICAgICAgICAgICAgZ2xUZXN0Q2lyY2xlID0gdGhhdC50ZXN0QWRkQ2lyY2xlKHRoYXQuJHN0ZWwsIGdsTGF5ZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICBfdGhpczI3LiRzdG9yZS5jb21taXQoJ3NldFZhbHVlJywgewogICAgICAgICAgICB2YXJOYW1lOiAnd2FzbVN1cHBvcnQnLAogICAgICAgICAgICBuZXdWYWx1ZTogZmFsc2UKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHsKICAgICAgLy8g6aG16Z2i5a6M5YWo5Yqg6L29CiAgICAgIF90aGlzMjcuU2VuZENvbnNvbGVMb2dNc2coJ+mhtemdouW3suWujOWFqOWKoOi9vScsICdpbmZvJyk7CgogICAgICBfdGhpczI3LiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Byb2Nlc3NfQ29tbWFuZF9SZXR1cm4nLCAnVnVlQ2xpZW50VmVyc2lvbjonICsgcHJvY2Vzcy5lbnYuVlVFX0FQUF9WRVJTSU9OKTsKICAgIH0pOwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHsKICAgICAgLy8gRE9N5Yqg6L295a6M5oiQCiAgICAgIF90aGlzMjcuU2VuZENvbnNvbGVMb2dNc2coJ0RPTeW3suWKoOi9veWujOaIkCcsICdpbmZvJyk7CiAgICB9KTsKICB9LAogIC8vIOWcqOe7hOS7tumUgOavgeaXtuenu+mZpAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5wcmV2ZW50RGVmYXVsdCk7CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLnByZXZlbnREZWZhdWx0KTsKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5wcmV2ZW50RGVmYXVsdCk7CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLnByZXZlbnREZWZhdWx0KTsKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMucHJldmVudERlZmF1bHQpOwogICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMucHJldmVudERlZmF1bHQpOwogICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLnByZXZlbnREZWZhdWx0KTsgLy8g5riF55CG5p6B6L205qCh5YeG55u45YWz55qE5ZyG5ZyICgogICAgaWYgKHRoaXMuY2FsaWJyYXRpb25DaXJjbGVzKSB7CiAgICAgIHRoaXMuY2FsaWJyYXRpb25DaXJjbGVzLmZvckVhY2goZnVuY3Rpb24gKGNpcmNsZSkgewogICAgICAgIGlmIChnbExheWVyICYmIGNpcmNsZSkgewogICAgICAgICAgZ2xMYXllci5yZW1vdmUoY2lyY2xlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmNhbGlicmF0aW9uQ2lyY2xlcyA9IFtdOwogICAgfQoKICAgIGlmICh0aGlzLmFkanVzdG1lbnRDaXJjbGVzKSB7CiAgICAgIHRoaXMuYWRqdXN0bWVudENpcmNsZXMuZm9yRWFjaChmdW5jdGlvbiAoY2lyY2xlKSB7CiAgICAgICAgaWYgKGdsTGF5ZXIgJiYgY2lyY2xlKSB7CiAgICAgICAgICBnbExheWVyLnJlbW92ZShjaXJjbGUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuYWRqdXN0bWVudENpcmNsZXMgPSBbXTsKICAgIH0gLy8g5YGc5q2i6KeG5Zy65pu05paw5a6a5pe25ZmoCgoKICAgIHRoaXMuc3RvcEZpZWxkVXBkYXRlVGltZXIoKTsKICB9Cn07"},{"version":3,"sources":["App.vue"],"names":[],"mappings":"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aAAA;AACA,WAAA,QAAA,CAAA,IAAA,GAAA,IAAA;AACA,WAAA,QAAA,CAAA,IAAA,GAAA,IAAA;AACA,WAAA,QAAA,CAAA,IAAA,GAAA,IAAA;AAEA,aAAA;AAAA,QAAA,IAAA,EAAA,IAAA;AAAA,QAAA,IAAA,EAAA,IAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KApxGA;AAqxGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA;AACA;AACA;AAEA;AACA;AACA;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;A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","sourcesContent":["// Stellarium Web - Copyright (c) 2022 - Stellarium Labs SRL\n//\n// This program is licensed under the terms of the GNU AGPL v3, or\n// alternatively under a commercial licence.\n//\n// The terms of the AGPL v3 license can be found in the main directory of this\n// repository.\n\n<template>\n  <v-app>\n    <v-navigation-drawer v-model=\"drawer_2\" ref=\"Drawer_2\" app absolute temporary :width=\"DeviceIsConnected ? 200 : 200\"\n      style=\"left: 170px; backdrop-filter: blur(5px); background-color: rgba(0, 0, 0, 0.1);\">\n\n      <div v-show=\"isOpenDevicePage\">\n        <span\n          style=\"position: absolute; top: 0px; left: 50%; transform: translateX(-50%); font-size: 30px; color: rgba(255, 255, 255, 0.5); user-select: none;\">\n          {{ $t(CurrentDriverType) }}\n          <v-divider></v-divider>\n        </span>\n\n        <div :style=\"{ width: DeviceIsConnected ? '200px' : '200px' }\"\n          style=\"position: absolute; top: 50px; max-height: calc(100% - 95px); overflow-y: auto;\"\n          class=\"params-container\">\n\n          <div v-show=\"!DeviceIsConnected\" style=\"text-align: center;\">\n            <span style=\"display: inline-block; font-size: 15px; color: rgba(255, 255, 255, 0.5); user-select: none;\">\n              {{ $t('Device Connection') }}\n            </span>\n\n            <!-- 驱动选择下拉框，添加@change事件 -->\n            <v-select :label=\"$t('Select Driver')\" :items=\"drivers\" item-text=\"label\" item-value=\"value\"\n              v-model=\"selectedDriver\" @change=\"confirmDriver\" style=\"width: 150px; display: inline-block;\">\n            </v-select>\n\n            <!-- 波特率下拉框，添加@change事件 -->\n            <v-select v-if=\"CurrentDriverType === 'Mount' || CurrentDriverType === 'Focuser'\" :label=\"$t('Baud Rate')\"\n              :items=\"BaudRateItems\" item-text=\"label\" item-value=\"value\" v-model=\"BaudRateSelected\"\n              @change=\"confirmDriver\" style=\"width: 150px; display: inline-block;\">\n            </v-select>\n\n            <v-row no-gutters>\n              <v-col cols=\"6\">\n                <button @click=\"clearDriver\" class=\"btn-confirm\" style=\"display: inline-block;\">\n                  <div style=\"display: flex; justify-content: center; align-items: center;\">\n                    <img src=\"@/assets/images/svg/ui/delete.svg\" height=\"20px\"\n                      style=\"min-height: 20px; pointer-events: none;\"></img>\n                  </div>\n                </button>\n              </v-col>\n              <v-col cols=\"6\">\n                <button v-if=\"!isConnecting\" @click=\"connectDriver(selectedDriver)\" class=\"btn-confirm\"\n                  style=\"display: inline-block; background-color: green;\">\n                  <div style=\"display: flex; justify-content: center; align-items: center;\">\n                    <v-icon color=\"white\">mdi-link</v-icon>\n                  </div>\n                </button>\n                <v-progress-circular v-else indeterminate color=\"green\" size=\"24\"></v-progress-circular>\n              </v-col>\n            </v-row>\n          </div>\n\n          <div v-show=\"DeviceIsConnected\" v-for=\"(item, index) in CurrentConfigItems()\" :key=\"index\"\n            class=\"config-item\">\n            <!-- 标题，仅在第一个项目显示 -->\n            <span v-if=\"index === 0\" class=\"config-title\">\n              {{ $t('Device Config Items') }}\n            </span>\n\n            <!-- 配置项卡片内容 -->\n            <v-card-text>\n              <!-- 文本输入类型 -->\n              <v-text-field v-if=\"item.inputType === 'text'\" v-model=\"item.value\" :label=\"item.label\"\n                @input=\"handleConfigChange(item.label, item.value)\" class=\"config-input\">\n              </v-text-field>\n\n              <!-- 数字输入类型 -->\n              <v-text-field v-if=\"item.inputType === 'number'\" v-model=\"item.value\" :label=\"item.label\"\n                :type=\"isDesktop ? 'number' : 'text'\" :min=\"item.min\" :max=\"item.max\"\n                :step=\"item.step !== undefined && item.step !== null ? item.step : 1\" :rules=\"numberRules(item)\"\n                :inputmode=\"isMobile ? getInputMode(item) : ''\" :pattern=\"isMobile ? getPattern(item) : ''\"\n                enterkeyhint=\"done\" @blur=\"onNumberCommit(item)\" @keydown.enter.prevent=\"onNumberCommit(item)\"\n                class=\"config-input\" />\n\n              <!-- 滑动条类型 -->\n              <div v-if=\"item.inputType === 'slider'\" class=\"slider-container\">\n                <span class=\"slider-label\">\n                  {{ item.label }}: {{ item.value }}\n                </span>\n                <div>\n                  <!-- 减小按钮 -->\n                  <button @click=\"decrementAndNotify(item)\" class=\"get-click btn-slider btn-minus\">\n                    <div class=\"btn-content\">\n                      <img src=\"@/assets/images/svg/ui/Minus.svg\" height=\"10px\" class=\"btn-icon\">\n                    </div>\n                  </button>\n\n                  <!-- 滑动条 -->\n                  <v-slider v-model=\"item.value\" :step=\"item.inputStep\" :max=\"item.inputMax\" :min=\"item.inputMin\"\n                    @change=\"handleConfigChange(item.label, item.value)\" color=\"white\"\n                    class=\"align-center slider-control\">\n                  </v-slider>\n\n                  <!-- 增加按钮 -->\n                  <button @click=\"incrementAndNotify(item)\" class=\"get-click btn-slider btn-plus\">\n                    <div class=\"btn-content\">\n                      <img src=\"@/assets/images/svg/ui/Plus.svg\" height=\"10px\" class=\"btn-icon\">\n                    </div>\n                  </button>\n                </div>\n              </div>\n\n              <!-- 选择框类型 -->\n              <v-select v-if=\"item.inputType === 'select'\" v-model=\"item.value\" :label=\"item.label\"\n                @change=\"handleConfigChange(item.label, item.value)\" :items=\"item.selectValue\" class=\"config-input\">\n              </v-select>\n\n              <!-- 开关类型 -->\n              <v-switch v-if=\"item.inputType === 'switch'\" v-model=\"item.value\" :label=\"item.label\"\n                @change=\"handleConfigChange(item.label, item.value)\" class=\"config-switch\">\n              </v-switch>\n\n              <!-- 提示信息类型（只读） -->\n              <div v-if=\"item.inputType === 'tip'\" class=\"tip-field\">\n                <div class=\"tip-label\">{{ item.label }}</div>\n                <div class=\"tip-value\" :title=\"formatTipTitle(item)\">\n                  {{ formatTipValue(item) }}\n                </div>\n              </div>\n            </v-card-text>\n          </div>\n\n          <div v-show=\"DeviceIsConnected\"\n            style=\"text-align: center; position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); display: flex; gap: 10px;\">\n            <button @click=\"disconnectDriver\" class=\"btn-confirm\" style=\"display: inline-block; background-color: red;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <v-icon color=\"white\">mdi-link-off</v-icon>\n              </div>\n            </button>\n          </div>\n\n        </div>\n\n        <div v-show=\"isOpenPowerPage\">\n          <span\n            style=\"position: absolute; top: 0px; left: 50%; transform: translateX(-50%); font-size: 26px; color: rgba(255, 255, 255, 0.5); user-select: none; white-space: nowrap; \">\n            {{ $t('Power Management') }}\n            <v-divider></v-divider>\n          </span>\n\n          <div style=\"position: absolute; top: 50px; max-height: calc(100% - 50px); width: 200px; overflow-y: auto;\">\n            <v-list dense>\n\n              <v-list-item @click.stop=\"SwitchOutPutPower(1, OutPutPower_1_ON)\"\n                :style=\"{ height: '36px', marginBottom: '10px' }\">\n                <v-list-item-icon style=\"margin-right: 10px;\">\n                  <div style=\"display: flex; justify-content: center; align-items: center;\">\n                    <img src=\"@/assets/images/svg/ui/OutPutPower.svg\" height=\"30px\"\n                      style=\"min-height: 30px; pointer-events: none;\"></img>\n                  </div>\n                </v-list-item-icon>\n                <v-list-item-content>\n                  <v-list-item-title>\n                    <span>\n                      <div :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('OutPut Power 1') }}\n                      </div>\n                      <div :style=\"{ fontSize: '7px' }\" :class=\"{ 'connected-device': OutPutPower_1_ON }\">{{\n                        OutPutPower_1_ON ?\n                          '[ON]' : '[OFF]' }}</div>\n                    </span>\n                  </v-list-item-title>\n\n                </v-list-item-content>\n              </v-list-item>\n\n              <v-list-item @click.stop=\"SwitchOutPutPower(2, OutPutPower_2_ON)\"\n                :style=\"{ height: '36px', marginBottom: '10px' }\">\n                <v-list-item-icon style=\"margin-right: 10px;\">\n                  <div style=\"display: flex; justify-content: center; align-items: center;\">\n                    <img src=\"@/assets/images/svg/ui/OutPutPower.svg\" height=\"30px\"\n                      style=\"min-height: 30px; pointer-events: none;\"></img>\n                  </div>\n                </v-list-item-icon>\n                <v-list-item-content>\n                  <v-list-item-title>\n                    <span>\n                      <div :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('OutPut Power 2') }}\n                      </div>\n                      <div :style=\"{ fontSize: '7px' }\" :class=\"{ 'connected-device': OutPutPower_2_ON }\">{{\n                        OutPutPower_2_ON ?\n                          '[ON]' : '[OFF]' }}</div>\n                    </span>\n                  </v-list-item-title>\n\n                </v-list-item-content>\n              </v-list-item>\n\n              <v-divider :style=\"{ marginBottom: '10px' }\"></v-divider>\n\n              <v-list-item @click.stop=\"RestartRaspberryPi()\" :style=\"{ height: '36px', marginBottom: '10px' }\">\n                <v-list-item-icon style=\"margin-right: 10px;\">\n                  <div style=\"display: flex; justify-content: center; align-items: center;\">\n                    <img src=\"@/assets/images/svg/ui/Reboot.svg\" height=\"30px\"\n                      style=\"min-height: 30px; pointer-events: none;\"></img>\n                  </div>\n                </v-list-item-icon>\n                <v-list-item-content>\n                  <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Restart')\n                  }}</v-list-item-title>\n                </v-list-item-content>\n              </v-list-item>\n\n              <v-list-item @click.stop=\"ShutdownRaspberryPi()\" :style=\"{ height: '36px', marginBottom: '10px' }\">\n                <v-list-item-icon style=\"margin-right: 10px;\">\n                  <div style=\"display: flex; justify-content: center; align-items: center;\">\n                    <img src=\"@/assets/images/svg/ui/PowerOFF.svg\" height=\"30px\"\n                      style=\"min-height: 30px; pointer-events: none;\"></img>\n                  </div>\n                </v-list-item-icon>\n                <v-list-item-content>\n                  <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Shut Down')\n                  }}</v-list-item-title>\n                </v-list-item-content>\n              </v-list-item>\n              <!-- 强制更新 -->\n              <v-list-item @click.stop=\"ForceUpdate()\" :style=\"{ height: '36px', marginBottom: '10px' }\">\n                <v-list-item-icon style=\"margin-right: 10px;\">\n                  <div style=\"display: flex; justify-content: center; align-items: center;\">\n                    <img src=\"@/assets/images/svg/ui/PowerOFF.svg\" height=\"30px\"\n                      style=\"min-height: 30px; pointer-events: none;\"></img>\n                  </div>\n                </v-list-item-icon>\n                <v-list-item-content>\n                  <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Force Update')\n                  }}</v-list-item-title>\n                </v-list-item-content>\n              </v-list-item>\n\n            </v-list>\n          </div>\n\n        </div>\n\n      </div>\n\n    </v-navigation-drawer>\n\n    <v-navigation-drawer v-model=\"nav\" app :stateless=\"drawer_2\" temporary width=\"170\"\n      style=\"backdrop-filter: blur(5px); background-color: rgba(0, 0, 0, 0.1);\">\n      <v-layout column fill-height>\n        <v-list dense>\n          <!-- 客户端版本和服务器版本信息 -->\n          <template>\n            <div style=\"display: flex; justify-content: center; align-items: center;\">\n              <span style=\"font-size: 10px; color: rgba(255, 255, 255, 0.5); user-select: none; white-space: nowrap;\">\n                Client Version: {{ VueClientVersion }}\n              </span>\n            </div>\n            <div style=\"display: flex; justify-content: center; align-items: center;\">\n              <!-- <span style=\"font-size: 10px; color: getQTClientVersionColor,rgba(255, 255, 255, 0.5); user-select: none; white-space: nowrap;\">\n                Server Version: {{ QTClientVersion }}\n              </span> -->\n              <span :style=\"{\n                fontSize: '10px',\n                color: getQTClientVersionColor,\n                userSelect: 'none',\n                whiteSpace: 'nowrap'\n              }\">\n                Server Version: {{ QTClientVersion }}\n              </span>\n            </div>\n            <v-divider></v-divider>\n          </template>\n\n          <!-- 退出(Quit) -->\n          <v-list-item @click.stop=\"QuitToMainApp()\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/Quit.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Quit')\n                }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <!-- 视图设置(View Settings) -->\n          <v-list-item @click.stop=\"toggleStoreValue('showViewSettingsDialog')\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/Setting.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('General Settings')\n                }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <!-- 电源管理(Power Management) -->\n          <v-list-item @click.stop=\"openPowerManagerPage()\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/Power.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Power Management')\n                }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <v-divider></v-divider>\n\n          <!-- 设备列表(动态生成) -->\n          <v-list-item v-for=\"(device, index) in devices\" :key=\"index\" @click.stop=\"selectDevice(device)\"\n            :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img :src=\"require(`@/assets/images/svg/ui/${device.driverType}.svg`)\" height=\"30px\"\n                  style=\"min-height: 30px\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title>\n                <span>\n                  <div :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t(device.driverType) }}</div>\n                  <div :style=\"{ fontSize: '7px' }\" :class=\"{ 'connected-device': device.isConnected }\">{{\n                    device.device }}\n                  </div>\n                </span>\n              </v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <v-divider></v-divider>\n\n          <!-- 连接所有(Connect All) -->\n          <v-list-item :disabled=\"loadingConnectAllDevice\" @touchstart=\"startConnectBtnPress\"\n            @touchend=\"endConnectBtnPress\" @mousedown=\"startConnectBtnPress\" @mouseup=\"endConnectBtnPress\"\n            :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/Connect.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\">\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px', userSelect: 'none' }\">\n                {{ $t('Connect All') }}\n              </v-list-item-title>\n              <v-progress-linear v-if=\"loadingConnectAllDevice\" indeterminate color=\"white\"\n                height=\"5\"></v-progress-linear>\n            </v-list-item-content>\n          </v-list-item>\n\n          <!-- 断开所有连接(Disconnect All) -->\n          <v-list-item @click.stop=\"disconnectAllDevice(false)\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/DisConnect.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px', userSelect: 'none' }\">{{\n                $t('Disconnect All') }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <!-- 设备分配(Device Allocation) -->\n          <v-list-item @click.stop=\"DeviceAllocation()\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/Allocation.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{\n                $t('Device Allocation') }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <!-- 校准极轴(Calibrate Polar Axis) -->\n          <v-list-item @click.stop=\"CalibratePolarAxis()\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/PoleAxis.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{\n                $t('Calibrate Polar Axis') }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <!-- 图像文件(Image Files) -->\n          <v-list-item @click.stop=\"OpenIamgeFolder()\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/FolderSwitch.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Image Files')\n                }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <!-- 日志(Logs) -->\n          <v-list-item @click.stop=\"OpenDebugLog()\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/DebugLog.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Logs')\n                }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <v-divider></v-divider>\n\n          <!-- 纬度和经度(Lat & Long) -->\n          <v-list-item @click.stop=\"locationClicked()\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img :src=\"require(`@/assets/images/svg/ui/Location.svg`)\" height=\"30px\" style=\"min-height: 30px\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title>\n                <span>\n                  <div :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Lat & Long') }}</div>\n                  <div :style=\"{ fontSize: '7px' }\">{{ '(' + $store.state.currentLocation.lat + ', ' +\n                    $store.state.currentLocation.lng + ')' }}</div>\n                </span>\n              </v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <!-- 刷新页面(Refresh Page) -->\n          <v-list-item @click.stop=\"ShowConfirmDialog('Confirm', $t('Are you sure you need to refresh?'), 'Refresh')\"\n            :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img :src=\"require(`@/assets/images/svg/ui/Refresh.svg`)\" height=\"30px\" style=\"min-height: 30px\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title>\n                <span>\n                  <div :style=\"{ fontSize: '10px' }\">{{ $t('Refresh Page') }}</div>\n                </span>\n              </v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n          <!-- 数据版权(Data Credits) -->\n          <v-list-item @click.stop=\"toggleStoreValue('showDataCreditsDialog')\" :style=\"{ height: '36px' }\">\n            <v-list-item-icon style=\"margin-right: 10px;\">\n              <div style=\"display: flex; justify-content: center; align-items: center;\">\n                <img src=\"@/assets/images/svg/ui/DataCredits.svg\" height=\"30px\"\n                  style=\"min-height: 30px; pointer-events: none;\"></img>\n              </div>\n            </v-list-item-icon>\n            <v-list-item-content>\n              <v-list-item-title :style=\"{ height: '15px', padding: '1px', fontSize: '10px' }\">{{ $t('Data Credits')\n                }}</v-list-item-title>\n            </v-list-item-content>\n          </v-list-item>\n\n        </v-list>\n      </v-layout>\n    </v-navigation-drawer>\n\n\n\n\n    <v-main>\n\n      <canvas v-show=false id=\"TestCanvas\" width=\"1920\" height=\"1080\"></canvas>\n\n      <v-container class=\"fill-height\" fluid style=\"padding: 0\">\n        <div id=\"stel\" v-bind:class=\"{ right_panel: $store.state.showSidePanel }\">\n          <div style=\"position: relative; width: 100%; height: 100%\">\n            <component v-bind:is=\"guiComponent\"></component>\n            <canvas id=\"stel-canvas\" ref='stelCanvas' :style=\"{ zIndex: canvasZIndexStel }\"></canvas>\n            <canvas ref=\"mainCanvas\" id=\"mainCamera-canvas\" :style=\"{ zIndex: canvasZIndexMainCamera }\"\n              @click=\"handleMainCanvasClick\" @touchstart=\"handleTouchStart\" @touchmove=\"handleTouchMove\"\n              @touchend=\"handleTouchEnd\" @mousedown=\"handleMouseDown\" @mouseup=\"handleMouseUp\"\n              @mousemove=\"handleMouseMove\" @wheel=\"handleWheel\">\n            </canvas>\n            <canvas ref=\"guiderCanvas\" id=\"guiderCamera-canvas\" :style=\"{ zIndex: canvasZIndexGuiderCamera }\"\n              @click=\"handleGuiderCanvasClick\"></canvas>\n            <!-- <img id=\"imageSrc\" alt=\"Source\" :src=\"imageSrc\" crossOrigin = \"\" /> -->\n            <ProgressBar :progress=\"progressValue\" :description=\"progressDescription\" :showDescription=\"true\"\n              :isShow=\"currentcanvas === 'MainCamera'\" />\n            <!-- <MeridianFlipNotifier\n              :remaining-seconds=\"flipEtaSeconds\"\n              :menu-offset-px=\"56\"\n              :is-mount-connected=\"isMountConnected\"\n            /> -->\n          </div>\n        </div>\n\n\n      </v-container>\n    </v-main>\n\n    <v-dialog v-model=\"showDisconnectDialog\" persistent max-width=\"290\">\n      <v-card>\n        <v-card-title class=\"text-h5\">Confirm Action</v-card-title>\n        <v-card-text>Are you sure you want to disconnect the driver {{ currentDisconnectDriverName }}?</v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"red darken-1\" text @click=\"showDisconnectDialog = false\">Cancel</v-btn>\n          <v-btn color=\"green darken-1\" text @click=\"confirmDisconnect\">Confirm</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <!-- 校准信息显示框 -->\n    <div v-if=\"calibrationInfo.isCalibrating || calibrationInfo.calibrationState === 'complete'\"\n      class=\"calibration-info-box\">\n      <div class=\"calibration-content\">\n        <div class=\"calibration-title\">{{ $t('Focuser Travel Calibration') }}</div>\n        <div class=\"calibration-message\">{{ calibrationInfo.calibrationMessage }}</div>\n        <div class=\"calibration-progress\">{{ $t('Step') }} {{ calibrationInfo.calibrationStep }}/3</div>\n      </div>\n    </div>\n\n    <!-- 自动对焦信息显示框 - [AUTO_FOCUS_UI_ENHANCEMENT] -->\n    <div v-if=\"(autoFocusInfo.isRunning || autoFocusInfo.state === 'complete') && currentcanvas === 'MainCamera'\"\n      class=\"calibration-info-box\">\n      <div class=\"calibration-content\">\n        <div class=\"calibration-title\">{{ $t('Auto Focus') }}</div>\n        <div class=\"calibration-message\">{{ autoFocusInfo.message }}</div>\n        <div class=\"calibration-progress\">{{ $t('Step') }} {{ autoFocusInfo.step }}/3</div>\n      </div>\n    </div>\n\n  </v-app>\n</template>\n<script>\nimport _ from 'lodash'\nimport Gui from '@/components/gui.vue'\nimport GuiLoader from '@/components/gui-loader.vue'\nimport swh from '@/assets/sw_helpers.js'\nimport Moment from 'moment'\nimport BackgroundImage from '@/assets/images/svg/ui/Background.svg';\nimport ErrorImage from '@/assets/images/svg/ui/errorImage.svg';\nimport ProgressBar from '@/components/ProgressBar.vue';\nimport MeridianFlipNotifier from '@/components/MeridianFlipNotifier.vue';\n\nlet glTestCircle;\nlet glLayer;\nlet glStel;\n\nexport default {\n  data(context) {\n    return {\n      menuItems: [\n        { title: this.$t('View Settings'), icon: 'mdi-settings', store_var_name: 'showViewSettingsDialog', store_show_menu_item: 'showViewSettingsMenuItem' },\n        { title: this.$t('Planets Tonight'), icon: 'mdi-panorama-fisheye', store_var_name: 'showPlanetsVisibilityDialog', store_show_menu_item: 'showPlanetsVisibilityMenuItem' },\n        { divider: true }\n      ].concat(this.getPluginsMenuItems()).concat([\n        { title: this.$t('Data Credits'), footer: true, icon: 'mdi-copyright', store_var_name: 'showDataCreditsDialog' }\n      ]),\n      menuComponents: [].concat(this.getPluginsMenuComponents()),\n      guiComponent: 'GuiLoader',\n      startTimeIsSet: false,\n      initDone: false,\n      dataSourceInitDone: false,\n      imageSrc: 'https://i.imgur.com/egA5FIv.jpeg', // 替换为你的图像路径\n      cvReady: false,\n      canvasZIndexStel: -10,\n      canvasZIndexMainCamera: -11,\n      canvasZIndexGuiderCamera: -12,\n      currentcanvas: 'Stel',\n\n      WebSocketUrl: '',\n\n      websocket: null,\n      message: '',\n      receivedMessages: [],// 存储接收到的消息\n      sentMessages: [], // 存储已发送的消息\n      messageCounter: 0, // 用于生成唯一的消息ID\n      websocketState: 'disconnected', // 添加WebSocket连接状态\n      networkDisconnected: false, // 添加网络连接状态\n\n      QTClientVersion: 'Not connected',\n      VueClientVersion: process.env.VUE_APP_VERSION,\n\n      // 校准信息对象\n      calibrationInfo: {\n        isCalibrating: false,\n        calibrationState: 'idle',\n        calibrationStep: 0,\n        calibrationMessage: ''\n      },\n\n      // 自动对焦信息对象 - [AUTO_FOCUS_UI_ENHANCEMENT]\n      autoFocusInfo: {\n        isRunning: false,\n        state: 'idle',\n        step: 0,\n        message: ''\n      },\n\n      // isMessageBoxShow: false,\n\n      CurrentDriverType: '',\n      DeviceIsConnected: null,\n      confirmDriverType: '',\n\n      MainCameraOffsetMin: 0,\n      MainCameraOffsetMax: 0,\n\n      MainCameraGainMin: 0,\n      MainCameraGainMax: 0,\n\n      devices: [\n        { name: '导星镜', driverType: 'Guider', type: 'CCDs', ListNum: \"1\", isget: false, device: '', BaudRate: 9600, driverName: '', usbSerialPath: '', sdkVersion: '',isConnected: false, dialogStateVar: 'showDeviceSettingsDialog_Guider' },\n        { name: '主相机', driverType: 'MainCamera', type: 'CCDs', ListNum: \"20\", isget: false, device: '', BaudRate: 9600, driverName: '', usbSerialPath: '', sdkVersion: '',isConnected: false, dialogStateVar: 'showDeviceSettingsDialog_MainCamera' },\n        { name: '赤道仪', driverType: 'Mount', type: 'Telescopes', ListNum: \"0\", isget: false, device: '', BaudRate: 9600, driverName: '', usbSerialPath: '', sdkVersion: '',isConnected: false, dialogStateVar: 'showDeviceSettingsDialog_Mount' },\n        { name: '望远镜', driverType: 'Telescopes', device: '', isConnected: true },\n        { name: '电动调焦器', driverType: 'Focuser', type: 'Focusers', ListNum: \"22\", isget: false, device: '', BaudRate: 9600, driverName: '', usbSerialPath: '', sdkVersion: '',isConnected: false, dialogStateVar: 'showDeviceSettingsDialog_Focuser' },\n        { name: '电子极轴镜', driverType: 'PoleCamera', type: 'CCDs', ListNum: \"2\", isget: false, device: '', BaudRate: 9600, driverName: '', usbSerialPath: '', sdkVersion: '',isConnected: false, dialogStateVar: 'showDeviceSettingsDialog_PoleCamera' },\n        { name: '滤镜轮', driverType: 'CFW', type: 'Filter Wheels', ListNum: \"21\", isget: false, device: '', BaudRate: 9600, driverName: '', usbSerialPath: '', sdkVersion: '',isConnected: false, dialogStateVar: 'showDeviceSettingsDialog_CFW' },\n      ],\n\n      // Changing the label name also requires changing the emit signal name\n      GuiderConfigItems: [\n        { driverType: 'Guider', label: 'Guider Focal Length (mm)', value: '', inputType: 'text' },\n        { driverType: 'Guider', label: 'Multi Star Guider', value: false, inputType: 'switch' },\n        // { driverType: 'Guider', label: 'Guider Pixel size', value: '', inputType: 'text'},\n        { driverType: 'Guider', label: 'Guider Gain', value: '', inputType: 'slider', inputMin: 0, inputMax: 100, inputStep: 1 },\n        { driverType: 'Guider', label: 'Calibration step (ms)', value: '', inputType: 'text' },\n        { driverType: 'Guider', label: 'Ra Aggression', value: '', inputType: 'slider', inputMin: 0, inputMax: 100, inputStep: 1 },\n        { driverType: 'Guider', label: 'Dec Aggression', value: '', inputType: 'slider', inputMin: 0, inputMax: 100, inputStep: 1 },\n\n      ],\n\n      MainCameraConfigItems: [\n        // vue处理参数\n        { driverType: 'MainCamera', label: 'ImageCFA', value: '', inputType: 'select', selectValue: ['GR', 'GB', 'BG', 'RGGB', 'null'] },\n        // 硬件处理参数\n        { driverType: 'MainCamera', label: 'Binning', value: '', inputType: 'slider', inputMin: 1, inputMax: 16, inputStep: 1 },\n        { driverType: 'MainCamera', label: 'Temperature', value: '', inputType: 'select', selectValue: [5, 0, -5, -10, -15, -20, -25] },\n        { driverType: 'MainCamera', label: 'Gain', value: '', inputType: 'slider', inputMin: 0, inputMax: 0, inputStep: 1 },\n        { driverType: 'MainCamera', label: 'Offset', value: '', inputType: 'slider', inputMin: 0, inputMax: 0, inputStep: 1 },\n      ],\n\n      MountConfigItems: [\n        { driverType: 'Mount', label: 'Flip ETA', value: '00:00:00', displayValue: '00:00:00', inputType: 'tip' },\n        { driverType: 'Mount', label: 'GotoThenSolve', value: false, inputType: 'switch' },\n        // { driverType: 'Mount', label: 'AutoFlip', value: false, inputType: 'switch' },\n\n      ],\n\n\n      TelescopesConfigItems: [\n        { driverType: 'Telescopes', num: 1, label: 'Focal Length (mm)', value: '', inputType: 'number' },\n      ],\n\n      FocuserConfigItems: [\n        { driverType: 'Focuser', num: 2, label: 'Sync Focuser Step', value: '', inputType: 'text' },\n        { driverType: 'Focuser', num: 2, label: 'Min Limit', value: '', inputType: 'number' },\n        { driverType: 'Focuser', num: 2, label: 'Max Limit', value: '', inputType: 'number' },\n        { driverType: 'Focuser', num: 2, label: 'Backlash', value: '', inputType: 'number' },\n      ],\n\n      PoleCameraConfigItems: [\n\n      ],\n\n      CFWConfigItems: [\n\n      ],\n\n      BeforeChangeConfigItems: [],\n\n\n\n      imageData: null,\n\n      histogramImage: null,\n      histogram_min: 0,    // 直方图自动拉伸的最小值\n      histogram_max: 255,  // 直方图自动拉伸的最大值\n\n      currentHistogramMin: 0,\n      currentHistogramMax: 255,\n\n      ImageGainR: 1,\n      ImageGainB: 1,\n\n      ImageOffset: 0,\n\n      ImageCFA: 'BG',\n\n      cameraBin: 1,   // 当前相机binning\n\n      CanvasWidth: 1920,  // 主画布宽度\n      CanvasHeight: 1080, // 主画布高度\n\n      scale: 1, // 缩放比例\n      translateX: 0, // 平移x坐标\n      translateY: 0, // 平移y坐标\n      bufferCanvas: null, // 存储画布\n      bufferCtx: null, // 存储画布上下文\n      tempCanvas: null, // 临时画布\n      tempCtx: null, // 临时画布上下文\n\n      visibleWidth: 0, // 可见区域宽度\n      visibleHeight: 0, // 可见区域高度\n      visibleX: 0, // 可见区域x坐标\n      visibleY: 0, // 可见区域y坐标\n      isDragging: false, // 标记画布是否正在拖动\n      pendingScaleChange: false, // 标记画布是否正在缩放\n\n      touchStartX: 0, // 触摸开始x坐标\n      touchStartY: 0, // 触摸开始y坐标\n      startDistance: 0, // 触摸开始距离\n\n      moveIntervalId: null, // 拖动定时器\n      zoomIntervalId: null, // 缩放定时器\n\n\n      imageWidth: 0, // 图像宽度\n      imageHeight: 0, // 图像高度\n      drawImgData: null,\n      OriginalImage: null,\n      detectStarsImg: null,\n\n      isNotDrawStars: true,\n\n      mainCameraSizeX: 0,\n      mainCameraSizeY: 0,\n\n      ImageProportion: 0,\n\n      DetectedStarsList: [],\n      DetectedStarsFinish: false,\n\n      CartesianList: [],\n\n      PolarPoint_Altitude: 0,\n\n      LastPoint_AzAlt: null,\n\n      MarkCircleNum: 0,\n\n      LastCircle_RaDec: null,\n      LastCircle_AzAlt: null,\n\n      Circles: [],\n\n      // 极轴校准相关数组\n      calibrationCircles: [],  // 校准点圆圈数组\n      adjustmentCircles: [],   // 调整点圆圈数组\n      targetPointCircle: null, // 目标点圆形对象\n      fakePolarAxisCircle: null, // 假极点圆形对象\n      lastPosition: null,      // 上一次位置\n      fieldUpdateTimer: null,  // 视场更新定时器\n      fieldOfViewPolygons: [], // 存储视场多边形对象\n\n      drawer_2: null,    // 设置侧边栏的显示与隐藏\n\n      drivers: [], // 驱动选项数组\n      selectedDriver: null, // 选中的驱动\n\n      devicesList: [], // 设备选项数组\n      selectedDevice: null, // 选中的设备\n      ToBeConnectDevice: [],\n\n      loadingSelectDriver: false,\n      loadingConnectAllDevice: false,\n\n      CurrentLocationLng: 0,\n      CurrentLocationLat: 0,\n\n      histogramData: [],\n\n      ImageArrayBuffer: null,\n\n      isOpenDevicePage: false, // 设置设备页面是否打开\n      isOpenPowerPage: false, // 设置电源页面是否打开\n\n      OutPutPower_1_ON: true,\n      OutPutPower_2_ON: false,\n\n      isPolarAxisMode: false,\n\n      isTouching: false, // 标记是否正在处理触摸事件\n      ConnectBtnPressTimer: null,\n      ConnectBtnlongPressThreshold: 1000,\n      isConnectBtnLongPress: false, // 标记是否为长按\n      ConnectBtnCanClick: true,\n\n\n      haveDeviceConnect: false,\n      isConnecting: false, // 添加连接状态\n\n      disconnectTimeoutTriggered: false,\n      disconnectTimeout: null,\n\n      isDownloadingImage: false,\n      isDownloadingImageName: '',\n      isWaitingLogged: false, // 添加等待日志标志\n\n      showDisconnectDialog: false,\n      currentDisconnectDriverName: '',\n\n      enableMainCanvasClick: false, // 控制画布是否可以点击，用来移动调焦选择框和选星\n\n      lastImageProcessParams: { // 最后处理图像的参数\n        blackLevel: 0,\n        whiteLevel: 65535,\n        CFA: 'null',\n        analysis: null,\n        isColorCamera: false,\n      },\n      focuserPictureFileName: '',  // 焦距图片文件名\n      isProcessingImage: false,   // 控制是否正在处理图像\n      isFocusLoopShooting: false,  // 控制是否进行ROi循环拍摄\n      focuserROIStarsList: [],  // 用来保存ROI区域的星点列表，分别保存x,y,HFR\n      selectStarX: -1,\n      selectStarY: -1,\n      DrawSelectStarX: -1,\n      DrawSelectStarY: -1,\n      DrawSelectStarHFR: -1,\n      ROI_x: -1,    // 用来保存ROI区域的x坐标,在vue中计算\n      ROI_y: -1,    // 用来保存ROI区域的y坐标,在vue中计算\n      ROI_x_qt: -1,    // 用来保存ROI区域的x坐标,在qt中计算\n      ROI_y_qt: -1,    // 用来保存ROI区域的y坐标,在qt中计算\n      ROI_length: 300, // 用来保存ROI区域的长度\n      showSelectStar: false,\n\n      isOneTouch: false,\n      currentTouchX: [0, 0],\n      currentTouchY: [0, 0],\n      startTouchX: [0, 0],\n      startTouchY: [0, 0],\n      startTouchDistance: 0,\n\n      // 定义波特率选项\n      BaudRateItems: [\n        { label: '9600', value: 9600 },\n        { label: '19200', value: 19200 },\n        { label: '38400', value: 38400 },\n        { label: '57600', value: 57600 },\n        { label: '115200', value: 115200 },\n        { label: '230400', value: 230400 },\n      ],\n      BaudRateSelected: 9600, // 波特率选择\n      cpuTemp: null,  // CPU温度\n      cpuUsage: null, // CPU使用率\n\n      progressValue: 0,// 控制图像处理进度条的变量\n      progressDescription: '', // 控制进度条显示内容\n\n      calculateGain: true, // 控制是否计算白平衡增益\n      lutCache: {\n        lastParams: null, // 用于存储上次的参数\n        lutR: null,\n        lutG: null,\n        lutB: null\n      },\n    }\n  },\n  components: {\n    Gui,\n    GuiLoader,\n    ProgressBar,\n    MeridianFlipNotifier,\n    // MessageBox,\n  },\n  created() {\n    this.$bus.$on('AppSendMessage', this.sendMessage);\n    this.$bus.$on('AppUpdateDevices', this.updateDevices);\n    this.$bus.$on('Switch-MainPage', this.handleButtonTestClick);\n    this.$bus.$on('HandleHistogramNum', this.applyHistStretch);\n    this.$bus.$on('ImageGainR', this.ImageGainSet);\n    this.$bus.$on('ImageGainB', this.ImageGainSet);\n    this.$bus.$on('Offset', this.ImageOffsetSet);\n    this.$bus.$on('Binning', this.BinningSet);\n    this.$bus.$on('Gain', this.GainSet);\n    this.$bus.$on('Offset', this.OffsetSet);\n    this.$bus.$on('ImageCFA', this.ImageCFASet);\n    // this.$bus.$on('MainCameraCFA', this.ImageCFASet);\n    this.$bus.$on('Temperature', this.CameraTemperatureSet);\n    this.$bus.$on('Focal Length (mm)', this.FocalLengthSet);\n    this.$bus.$on('Guider Focal Length (mm)', this.GuiderFocalLengthSet);\n    this.$bus.$on('Multi Star Guider', this.MultiStarGuiderSet);\n    this.$bus.$on('Guider Pixel size', this.GuiderPixelSizeSet);\n    this.$bus.$on('Guider Gain', this.GuiderGainSet);\n    this.$bus.$on('Calibration step (ms)', this.CalibrationDurationSet);\n    this.$bus.$on('Ra Aggression', this.RaAggressionSet);\n    this.$bus.$on('Dec Aggression', this.DecAggressionSet);\n    this.$bus.$on('Sync Focuser Step', this.SyncFocuserStep);\n    this.$bus.$on('Min Limit', this.MinLimitSet);\n    this.$bus.$on('Max Limit', this.MaxLimitSet);\n    this.$bus.$on('Backlash', this.BacklashSet);\n    this.$bus.$on('GotoThenSolve', this.GotoThenSolve);\n    this.$bus.$on('AutoFlip', this.AutoFlipSet);\n    this.$bus.$on('WestMinutesPastMeridian', this.WestMinutesPastMeridianSet);\n    this.$bus.$on('EastMinutesPastMeridian', this.EastMinutesPastMeridianSet);\n    this.$bus.$on('ImageProportion', this.setImageProportion);\n    this.$bus.$on('MountGoto', this.lookatcircle);\n    this.$bus.$on('SwitchImageToShow', this.SwitchImageToShow);\n    this.$bus.$on('PolarPointAltitude', this.setPolarPointAltitude);\n    this.$bus.$on('showStelCanvas', this.showStelCanvas);\n    this.$bus.$on('RecalibratePolarAxis', this.RecalibratePolarAxis);\n    this.$bus.$on('CurrentExpTimeList', this.CurrentExpTimeList);\n    this.$bus.$on('disconnectAllDevice', this.disconnectAllDevice);\n    this.$bus.$on('GetConnectedDevices', this.ReturnConnectedDevices);\n    this.$bus.$on('GetCurrentConnectedDevices', this.ReturnCurrentConnectedDevices);\n    this.$bus.$on('CurrentCFWList', this.CurrentCFWList);\n    this.$bus.$on('calcWhiteBalanceGains', this.calcWhiteBalanceGains);\n    this.$bus.$on('SwitchOutPutPower', this.SwitchOutPutPower);\n    this.$bus.$on('PolarAxisMode', this.PolarAxisMode);\n    this.$bus.$on('SendConsoleLogMsg', this.SendConsoleLogMsg);\n    // this.$bus.$on('DisconnectDriverSuccess', this.disconnectDriversuccess);\n    this.$bus.$on('UnBindingDevice', this.UnBindingDevice);\n    this.$bus.$on('CloseWebView', this.QuitToMainApp)\n    this.$bus.$on('RedBoxSizeChange', this.RedBoxSizeChange);\n    this.$bus.$on('setFocuserState', this.setFocuserState);  // 设置调焦状态和进度\n    this.$bus.$on('setShowSelectStar', this.setShowSelectStar);  // 设置是否显示选择星点\n    this.$bus.$on('ScaleChange', this.ScaleChange);\n    this.$bus.$on('showCanvas', this.showCanvas);\n    this.$bus.$on('getMountAutoFlip', this.sendMountAutoFlip);  // 子组件获取赤道仪自动翻转模式\n    // 极轴校准绘制相关监听器\n    this.$bus.$on('DrawCalibrationPointPolygon', this.drawCalibrationPointPolygon);\n    this.$bus.$on('ClearCalibrationPoints', this.clearCalibrationPoints);\n    this.$bus.$on('DrawAdjustmentPointsPolygon', this.drawAdjustmentPointsPolygon);\n    this.$bus.$on('DrawTargetPointCircle', this.drawTargetPointCircle);\n    this.$bus.$on('DrawFakePolarAxisCircle', this.DrawFakePolarAxisCircle)\n\n    // 校准相关事件监听器\n    this.$bus.$on('StartCalibration', this.startCalibrationProcess);\n    this.$bus.$on('UpdateCalibrationInfo', this.updateCalibrationInfo);\n    this.$bus.$on('EndCalibration', this.endCalibration);\n\n    // 自动对焦相关事件监听器 - [AUTO_FOCUS_UI_ENHANCEMENT]\n    this.$bus.$on('StartAutoFocus', this.startAutoFocusProcess);\n    this.$bus.$on('UpdateAutoFocusStep', this.updateAutoFocusStep);\n    this.$bus.$on('EndAutoFocus', this.endAutoFocus);\n\n    this.memoryCheckInterval = setInterval(this.checkMemoryUsage, 30000);\n\n\n  },\n  methods: {\n    // 是否允许小数：step 不是整数，或显式允许\n    allowsDecimal(item) {\n      const step = item.step ?? 1;\n      return item.allowDecimal === true || !Number.isInteger(step) || String(step).includes('.');\n    },\n    // 是否允许负数：根据配置或 min<0 猜测\n    allowsNegative(item) {\n      return item.allowNegative === true || (typeof item.min === 'number' && item.min < 0);\n    },\n    // 移动端键盘类型\n    getInputMode(item) {\n      // 仅移动端生效；桌面忽略\n      if (!this.isMobile) return undefined;\n      // 需要小数或负数，用 decimal（更容易出现小数点/负号）\n      return this.allowsDecimal(item) || this.allowsNegative(item) ? 'decimal' : 'numeric';\n    },\n    // 配合 iOS：pattern 可影响弹出键盘与校验\n    getPattern(item) {\n      const neg = this.allowsNegative(item);\n      if (this.allowsDecimal(item)) {\n        // 允许 . 或 , 作为小数点，便于不同语言键盘\n        return neg ? '^[-]?[0-9]*([.,][0-9]*)?$' : '^[0-9]*([.,][0-9]*)?$';\n      }\n      // 整数\n      return neg ? '^[-]?[0-9]*$' : '^[0-9]*$';\n    },\n\n    numberRules(item) {\n      return [\n        v => v === '' || v === null || !isNaN(this._toNumber(v)) || '请输入数字',\n        v => item.min === undefined || this._toNumber(v) >= item.min || `最小值 ${item.min}`,\n        v => item.max === undefined || this._toNumber(v) <= item.max || `最大值 ${item.max}`,\n      ];\n    },\n\n    // 统一把逗号小数转为点，去掉多余空白\n    _toNumber(v) {\n      if (v === '' || v === null || v === undefined) return NaN;\n      if (typeof v === 'number') return v;\n      const s = String(v).trim().replace(',', '.');\n      return Number(s);\n    },\n\n    onNumberCommit(item) {\n      let v = this._toNumber(item.value);\n      if (!Number.isFinite(v)) return;\n\n      // 1) 夹取到 min/max\n      if (item.min !== undefined && v < item.min) v = item.min;\n      if (item.max !== undefined && v > item.max) v = item.max;\n\n      // 2) 按 step 对齐（以 min 或 0 为基准）\n      const step = item.step ?? 1;\n      if (step > 0) {\n        const base = (item.min !== undefined ? item.min : 0);\n        v = base + Math.round((v - base) / step) * step;\n        if (item.min !== undefined && v < item.min) v = item.min;\n        if (item.max !== undefined && v > item.max) v = item.max;\n        v = Number(v.toFixed(12)); // 去浮点误差\n      }\n\n      // 回写并通知\n      item.value = v;\n      this.handleConfigChange(item.label, v);\n    },\n    checkMemoryUsage() {\n      if (window.performance && window.performance.memory) {\n        const memoryInfo = window.performance.memory;\n        const used = Math.round(memoryInfo.usedJSHeapSize / 1048576);\n        const limit = Math.round(memoryInfo.jsHeapSizeLimit / 1048576);\n\n        // console.log(`内存使用: ${used}MB / ${limit}MB`);\n\n        if (memoryInfo.usedJSHeapSize > memoryInfo.jsHeapSizeLimit * 0.7) {\n          this.$bus.$emit('showWarning', this.$i18n.locale === 'cn' ?\n            '内存使用接近限制，请保存工作后刷新页面' :\n            'Memory usage is approaching limit. Please save your work and refresh the page.');\n\n          // 可选：尝试手动触发垃圾回收\n          if (window.gc) {\n            try { window.gc(); } catch (e) { }\n          }\n        }\n      }\n    },\n\n    formatTipValue(item) {\n      return (item && item.displayValue != null)\n        ? String(item.displayValue)\n        : (item && item.value != null ? String(item.value) : '-');\n    },\n    formatTipTitle(item) {\n      if (item && item.tooltip != null) return String(item.tooltip);\n      if (item && item.value != null) return String(item.value);\n      return '';\n    },\n    copyTip(item) {\n      const text = (item && item.value != null) ? String(item.value) : '';\n      if (!text) return;\n      if (navigator && navigator.clipboard && navigator.clipboard.writeText) {\n        navigator.clipboard.writeText(text);\n      }\n    },\n\n    preventDefault(event) {\n      event.preventDefault();\n    },\n    getLocationHostName() {\n      const hostname = window.location.hostname;\n      const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';\n      const port = window.location.protocol === 'https:' ? '8601' : '8600';\n      this.SendConsoleLogMsg('location hostname:' + hostname, 'info');\n      this.WebSocketUrl = `${protocol}//${hostname}:${port}`;\n      console.log('WebSocketUrl:', this.WebSocketUrl);\n    },\n    getQTClientVersion() {\n      this.sendMessage('Vue_Command', 'getQTClientVersion');\n    },\n    connect() {\n      // 替换为你的 WebSocket 服务器地址\n      // this.websocket = new WebSocket('ws://192.168.2.31:8600');  // process.env.VUE_APP_WEBSOCKET\n      // this.websocket = new WebSocket(process.env.VUE_APP_WEBSOCKET);\n      const wsOptions = {\n        rejectUnauthorized: false  // 禁用证书验证\n      };\n      this.websocket = new WebSocket(this.WebSocketUrl, [], wsOptions);\n\n      this.websocket.onopen = () => {\n        this.websocketState = 'connected';\n        this.networkDisconnected = false; // WebSocket连接成功时重置网络连接状态\n        if (this.disconnectTimeoutTriggered) {\n          this.callShowMessageBox('WebSocket connected', 'success');\n        }\n        this.$bus.$emit('ShowNetStatus', 'true');\n        this.StatusRecovery();\n        console.log('process.env.NODE_ENV:', process.env.NODE_ENV);\n      };\n\n      this.websocket.onmessage = (message) => {\n        // console.log('QHYCCD | Received message:', message.data);\n\n        const data = JSON.parse(message.data);\n\n        if (data.type === 'QT_Return') {\n          const parts = data.message.split(':');\n          let messageType;\n          if (parts.length > 0) {\n            messageType = parts[0];\n            // console.log('QHYCCD | 获得信息('+messageType+'):', parts);\n          }\n          else {\n            console.error('消息格式错误，无法分割:', data.message);\n            return;\n          }\n          let acceptMessage = false;\n          if (data.message.startsWith('StagingScheduleData:')) {\n            console.log('------------------------------');\n            acceptMessage = true;\n            const parts = data.message.split('[');\n\n            if (parts.length > 0) {\n              console.log('parts.length: ', parts.length);\n              this.$bus.$emit('StagingScheduleData', data.message);\n            }\n            console.log('------------------------------');\n          }\n\n          if (data.message.startsWith('SendDebugMessage|')) {\n            acceptMessage = true;\n            const parts = data.message.split('|');\n            if (parts.length === 3) {\n              const type = parts[1];\n              const message = parts[2];\n              this.$bus.$emit('SendDebugMessage', type, message);\n            }\n          }\n\n          if (!acceptMessage) {\n            switch (messageType) {\n              case 'AddDriver':\n                if (parts.length === 3) {\n                  const label = parts[1];\n                  const value = parts[2];\n                  const type = this.CurrentDriverType;\n                  // 创建一个驱动对象\n                  const driver = { type, label, value };\n\n                  // if (type === 'MainCamera' && label === \"QHY CCD2\") {\n                  //   break;\n                  // }\n                  // if (type === 'Guider' && label === \"QHY CCD\") {\n                  //   break;\n                  // }\n\n                  // 检查label是否为\"QHY CCD\"或\"QFocuser\"，如果是，则插入到数组首位\n                  if (label === \"QHY CCD\" || label === \"QFocuser\" || label === \"QHY CCD2\") {\n                    this.drivers.unshift(driver); // 将新驱动添加到数组的开始位置\n                  } else {\n                    this.drivers.push(driver); // 将新驱动添加到数组的末尾\n                  }\n                }\n                break;\n\n              case 'AddDevice':\n                if (parts.length === 2) {\n                  const label = parts[1];\n                  console.log('QHYCCD | AddDevice: ', label);\n                  // const value = parts[2];\n                  const type = this.confirmDriverType;\n                  // 创建一个驱动对象\n                  const device = { type, label, label };\n                  console.log('QHYCCD | AddDevice: ', device);\n                  // this.$bus.$emit('add-device', device);\n                  this.devicesList.push(device);\n\n                  this.ToBeConnectDevice = [];\n                  this.devicesList.forEach(devicesList => {\n                    if (devicesList.type === this.CurrentDriverType) {\n                      this.ToBeConnectDevice.push(devicesList);\n                    }\n                  });\n\n                  this.loadingSelectDriver = false;\n                }\n                break;\n\n              case 'updateDevices_':\n                if (parts.length === 3) {\n                  const ListNum = parts[1];\n                  const name = parts[2];\n                  this.updateDevices_(ListNum, name);\n                }\n                break;\n\n              case 'ConnectSuccess':\n                if (parts.length === 4) {\n                  const type = parts[1];\n                  const deviceName = parts[2];\n                  const driverName = parts[3];\n\n                  if (deviceName != '') {\n                    this.updateDevicesConnect(type, deviceName, driverName, true);\n                  } else {\n                    this.updateDevicesConnect(type, deviceName, driverName, false);\n                  }\n                }\n                break;\n\n              case 'ConnectFailed':\n                if (parts.length === 2) {\n                  const reason = parts[1];\n                  this.callShowMessageBox(reason, 'error');\n                  this.loadingConnectAllDevice = false;\n                }\n                break;\n\n              case 'ScanFailed':\n                if (parts.length === 2) {\n                  const reason = parts[1];\n                  this.callShowMessageBox(reason, 'error');\n                  this.loadingSelectDriver = false;\n                }\n                break;\n\n              case 'AddDeviceType':\n                if (parts.length === 2) {\n                  const DeviceType = parts[1];\n                  this.$bus.$emit('AddDeviceType', DeviceType);\n                }\n                break;\n\n              case 'DeviceToBeAllocated':\n                if (parts.length === 4) {\n                  const DeviceType = parts[1];\n                  const DeviceIndex = parts[2];\n                  const DeviceName = parts[3];\n                  this.$bus.$emit('DeviceToBeAllocated', DeviceIndex, DeviceName);\n                }\n                break;\n\n              case 'ShowDeviceAllocationWindow':\n                this.$bus.$emit('toggleDeviceAllocationPanel');\n                this.nav = false;\n                break;\n\n              case 'ExposureCompleted':\n                this.$bus.$emit('ExposureCompleted');\n                break;\n\n              case 'SaveJpgSuccess':\n                if (parts.length === 4) {\n                  const fileName = parts[1];\n                  const roi_x = parseInt(parts[2]);\n                  const roi_y = parseInt(parts[3]);\n                  this.ROI_x = roi_x;\n                  this.ROI_y = roi_y;\n\n                  // this.$bus.$emit('showRoiImage', fileName);\n                  this.showRoiImage(fileName, roi_x, roi_y);\n                }\n                break;\n\n              case 'SaveBinSuccess':\n                if (parts.length === 2) {\n                  const fileName = parts[1];\n                  this.readBinFile('img/' + fileName);\n                  this.DetectedStarsFinish = false;\n                }\n                break;\n\n\n              case 'SaveGuiderImageSuccess':\n                if (parts.length === 2) {\n                  const fileName = parts[1];\n                  this.loadAndDisplayImage('img/' + fileName);\n                }\n                break;\n              case 'GuideSize':\n                if (parts.length === 3) {\n                  const col = parts[1];\n                  const row = parts[2];\n                  this.$bus.$emit(\"GuideSize\", col, row);\n                }\n\n              case 'AddScatterChartData':\n                if (parts.length === 3) {\n                  const Data_x = parts[1];\n                  const Data_y = parts[2];\n                  const newDataPoint = [Data_x, Data_y];\n                  this.$bus.$emit('AddScatterChartData', newDataPoint);\n                }\n                break;\n\n              case 'AddLineChartData':\n                if (parts.length === 4) {\n                  const Data_x = parts[1];\n                  const Data_Ra = parts[2];\n                  const Data_Dec = parts[3];\n                  const newDataPoint_Ra = [Data_x, Data_Ra];\n                  const newDataPoint_Dec = [Data_x, Data_Dec];\n                  this.$bus.$emit('AddLineChartData', newDataPoint_Ra, newDataPoint_Dec);\n                }\n                break;\n\n              case 'SetLineChartRange':\n                if (parts.length === 3) {\n                  const min = parts[1];\n                  const max = parts[2];\n                  this.$bus.$emit('SetLineChartRange', min, max);\n                }\n                break;\n\n              case 'GuiderStatus':\n                if (parts.length === 2) {\n                  const status = parts[1];\n                  this.$bus.$emit('GuiderStatus', status);\n                }\n                break;\n\n              case 'FocusChangeSpeedSuccess':\n                if (parts.length === 2) {\n                  const Speed = parts[1];\n                  this.$bus.$emit('FocusChangeSpeedSuccess', Speed);\n                }\n                break;\n\n\n              case 'FocusPosition':\n                if (parts.length === 3) {\n                  const CurrentPosition = parts[1];\n                  const TargetPosition = parts[2];\n                  this.$bus.$emit('FocusPosition', CurrentPosition, TargetPosition);\n                }\n                break;\n\n              case 'FocusMoveDone':\n                if (parts.length === 3) {\n                  const CurrentPosition = parts[1];\n                  const FWHM = parts[2];\n                  this.$bus.$emit('UpdateFWHM', CurrentPosition, FWHM);\n                  this.$bus.$emit('addData_Point', CurrentPosition, FWHM);\n                }\n                break;\n              case 'FitResult':\n                if (parts.length === 3) {\n                  this.callShowMessageBox('FitResult:' + parts[2], 'warning');\n                }\n\n              case 'StarDetectionResult':\n                if (parts.length === 3) {\n                  const detected = parts[1] === 'true';\n                  const hfr = parseFloat(parts[2]);\n                  if (detected) {\n                    this.callShowMessageBox(`星点的HFR为：${hfr}`, 'info');\n                  } else {\n                    this.callShowMessageBox('未识别到星点', 'warning');\n                  }\n                }\n                break;\n\n              case 'AutoFocusModeChanged':\n                if (parts.length === 3) {\n                  const mode = parts[1];\n                  const hfr = parseFloat(parts[2]);\n                  if (mode === 'coarse') {\n                    this.callShowMessageBox('进入粗调模式', 'info');\n                  } else if (mode === 'fine') {\n                    this.callShowMessageBox('进入精调模式', 'info');\n                  }\n                }\n                break;\n\n              case 'AutoFocusStepChanged': // [AUTO_FOCUS_UI_ENHANCEMENT]\n                if (parts.length >= 3) {\n                  const step = parts[1];\n                  const description = parts[2];\n                  console.log('AutoFocusStepChanged:', step, description);\n                  this.$bus.$emit('UpdateAutoFocusStep', step, description);\n                }\n                break;\n\n              case 'addMinPointData_Point':\n                if (parts.length === 3) {\n                  const x = parseInt(parts[1]);\n                  const y = parseFloat(parts[2]);\n                  this.$bus.$emit('addMinPointData_Point', x, y);\n                }\n                break;\n              case 'addLineData_Point':\n                if (parts.length === 4) {\n                  const a = parseFloat(parts[1]);\n                  const b = parseFloat(parts[2]);\n                  const c = parseFloat(parts[3]);\n                  console.log('addLineData_Point:', a, b, c);\n                  this.$bus.$emit('addLineData_Point', a, b, c);\n                }\n                break;\n              case 'MainCameraSize':\n                if (parts.length === 3) {\n                  const SizeX = parts[1];\n                  const SizeY = parts[2];\n                  this.$bus.$emit('MainCameraSize', SizeX, SizeY);\n                  this.mainCameraSizeX = SizeX;\n                  this.mainCameraSizeY = SizeY;\n                }\n                break;\n\n              case 'MainCameraBinning':\n                if (parts.length === 2) {\n                  this.cameraBin = parseInt(parts[1]);\n                  this.MainCameraConfigItems.find(item => item.label === 'Binning').value = this.cameraBin;\n                  this.$bus.$emit('MainCameraBinning', this.cameraBin);\n                }\n                break;\n\n              // -------------- 特殊处理,内部解析数据\n              case 'fitQuadraticCurve':\n                // 新的数据格式: \"fitQuadraticCurve:a:b:c:bestPosition:minHFR\"\n                console.log('App.vue | 接收到fitQuadraticCurve消息:', data.message);\n                // 使用setTimeout确保清除操作在添加数据之前完成\n                this.$bus.$emit('ClearfitQuadraticCurve');\n                setTimeout(() => {\n                  this.$bus.$emit('fitQuadraticCurve', data.message);\n                }, 10);\n                break;\n\n              case 'fitQuadraticCurve_minPoint':\n                // 新的数据格式: \"fitQuadraticCurve_minPoint:bestPosition:minHFR\"\n                console.log('App.vue | 接收到fitQuadraticCurve_minPoint消息:', data.message);\n                this.$bus.$emit('fitQuadraticCurve_minPoint', data.message);\n                break;\n\n              // --------------------------------------\n\n              case 'TelescopePark':\n                if (parts.length === 2) {\n                  const Switch = parts[1];\n                  this.$bus.$emit('MountParkSwitch', Switch);\n                }\n                break;\n\n              case 'TelescopeTrack':\n                if (parts.length === 2) {\n                  const Switch = parts[1];\n                  this.$bus.$emit('MountTrackSwitch', Switch);\n                }\n                break;\n\n              case 'MountSetSpeedSuccess':\n                if (parts.length === 2) {\n                  const num = parts[1];\n                  this.$bus.$emit('newMountSlewRate', num);\n                }\n                break;\n\n\n              case 'TelescopePierSide':\n                if (parts.length === 2) {\n                  const Side = parts[1];\n                  this.$bus.$emit('updateMountPierSide', Side);\n                }\n                break;\n\n              case 'TelescopeTotalSlewRate':\n                if (parts.length === 2) {\n                  const num = parts[1];\n                  this.$bus.$emit('MountTotalSlewRate', num);\n                }\n                break;\n\n\n              case 'UpdateScheduleProcess':\n                if (parts.length === 3) {\n                  const RowNum = parts[1];\n                  const Process = parts[2];\n                  this.$bus.$emit('UpdateScheduleProcess', RowNum, Process);\n                }\n                break;\n\n              case 'ExpTimeList':\n                if (parts.length === 2) {\n                  this.$bus.$emit('initExpTimeList', parts[1]);\n                }\n                break;\n\n\n              case 'CameraInExposuring':\n                if (parts.length === 2) {\n                  const status = parts[1];\n                  this.$bus.$emit('CameraInExposuring', status);\n                }\n                break;\n\n              case 'AutoFocusOver':\n                if (parts.length >= 4) {\n                  // 新格式: AutoFocusOver:success:bestPosition:minHFR\n                  const success = parts[1] === 'true';\n                  const bestPosition = parseFloat(parts[2]);\n                  const minHFR = parseFloat(parts[3]);\n                  this.$bus.$emit('AutoFocusOver', success, bestPosition, minHFR);\n                } else {\n                  // 兼容旧格式: AutoFocusOver\n                  this.$bus.$emit('AutoFocusOver');\n                }\n                break;\n\n              case 'CFWPositionMax':\n                if (parts.length === 2) {\n                  this.$bus.$emit('SetCFWPositionMax', parts[1]);\n\n                  for (let i = 1; i <= parts[1]; i++) {\n                    this.CFWConfigItems.push({ driverType: 'CFW', label: `CFW [${i}]`, value: '', inputType: 'text' });\n                  }\n\n                  this.$bus.$emit('AppSendMessage', 'Vue_Command', 'getCFWList');\n                }\n                break;\n\n\n              case 'SetCFWPositionSuccess':\n                if (parts.length === 2) {\n                  this.$bus.$emit('SetCFWPositionSuccess', parts[1]);\n                }\n                break;\n\n              case 'getCFWList':\n                if (parts.length === 2) {\n                  this.$bus.$emit('initCFWList', parts[1]);\n                }\n                break;\n\n              case 'GuiderSwitchStatus':\n                if (parts.length === 2) {\n                  this.$bus.$emit('GuiderSwitchStatus', parts[1]);\n                }\n                break;\n\n              case 'GuiderLoopExpStatus':\n                if (parts.length === 2) {\n                  this.$bus.$emit('GuiderLoopExpStatus', parts[1]);\n                }\n                break;\n\n              case 'TelescopeRADEC':\n                if (parts.length === 3) {\n                  this.UpdateCirclePos(parts[1], parts[2]);\n                  this.$bus.$emit('updateCurrentLocation', parts[1], parts[2]);\n                }\n                break;\n\n\n              case 'TelescopeStatus':\n                if (parts.length === 2) {\n                  this.UpdateTelescopeStatus(parts[1]);\n                }\n                break;\n\n              case 'MainCameraStatus':\n                if (parts.length === 2) {\n                  this.UpdateMainCameraStatus(parts[1]);\n                }\n                break;\n\n\n              case 'MainCameraTemperature':\n                if (parts.length === 2) {\n                  this.UpdateMainCameraTemperature(parts[1]);\n                }\n                break;\n\n\n              case 'ShowAllImageFolder':\n                if (parts.length === 3) {\n                  this.$bus.$emit('ShowAllImageFolder', parts[1], parts[2]);\n                }\n                break;\n\n\n              case 'ImageFilesName':\n                if (parts.length === 2) {\n                  this.$bus.$emit('ImageFilesName', parts[1]);\n                }\n                break;\n\n\n              case 'USBCheck':\n                if (parts.length === 2) {\n                  const USBdata = parts[1].split(',');\n                  console.log('USB name: ', USBdata[0]);\n                  console.log('USB space: ', USBdata[1]);\n                  this.SendConsoleLogMsg('USB name:' + USBdata[0], 'info');\n                  this.SendConsoleLogMsg('USB space:' + USBdata[1], 'info');\n\n                  this.$bus.$emit('USB_Name_Sapce', USBdata[0], USBdata[1]);\n                }\n                break;\n\n              case 'ImageSaveErroe':\n                if (parts.length === 2) {\n                  const Erroe = parts[1];\n                  if (Erroe === 'USB-Null') {\n                    this.callShowMessageBox('No USB Drive Detected.', 'error');\n                  } else if (Erroe === 'USB-Multiple') {\n                    this.callShowMessageBox('Multiple USB drives detected, please remove excess USB drives.', 'error');\n                  }\n                }\n                break;\n\n              case 'DetectedStars':\n                console.log('Detected', parts.length, 'stars.');\n                this.SendConsoleLogMsg('Detected ' + parts.length + ' stars.', 'info');\n                this.DetectedStarsList = [];\n                for (let i = 0; i < parts.length; i++) {\n                  const a = parts[i];\n                  const b = a.split('|');\n                  if (b.length === 3) {\n                    const x = b[0];\n                    const y = b[1];\n                    const hfr = b[2];\n                    // console.log('Stars at(', x, ',', y, ') with HFR:', hfr);\n                    this.DetectedStarsList.push({ x: x, y: y, hfr: hfr });\n                  }\n                }\n                this.DetectedStarsFinish = true;\n                break;\n\n              case 'SolveImageResult':\n                if (parts.length === 5) {\n                  // this.UpdateCirclePos(parts[1], parts[2]);\n                  console.log('Solve Image Result(RA_Degree, DEC_Degree, Azimuth, Altitude):', parts[1], ',', parts[2], ',', parts[3], ',', parts[4]);\n                  this.SendConsoleLogMsg('Solve Image Result(RA_Degree, DEC_Degree, Azimuth, Altitude):' + parts[1] + ',' + parts[2] + ',' + parts[3] + ',' + parts[4], 'info');\n                  this.SolveResultMark(parts[1], parts[2], parts[3], parts[4]);\n                  this.$bus.$emit(\"ImageSolveFinished\", true);\n                  this.$bus.$emit('setParsingProgress', false);\n                }\n                break;\n\n              case 'SolveFovResult':\n                if (parts.length === 9) {\n                  const RaDec = [\n                    { Ra: parts[1], Dec: parts[2] },\n                    { Ra: parts[3], Dec: parts[4] },\n                    { Ra: parts[5], Dec: parts[6] },\n                    { Ra: parts[7], Dec: parts[8] },\n                  ];\n                  this.SolveFovMark(RaDec);\n                }\n                break;\n\n              case 'RealTimeSolveImageResult':\n                if (parts.length === 5) {\n                  console.log('Solve Image Result(RA_Degree, DEC_Degree, Azimuth, Altitude):', parts[1], ',', parts[2], ',', parts[3], ',', parts[4]);\n                  this.SendConsoleLogMsg('Solve Image Result(RA_Degree, DEC_Degree, Azimuth, Altitude):' + parts[1] + ',' + parts[2] + ',' + parts[3] + ',' + parts[4], 'info');\n                  const result = this.SolveResultMark_RealTime(parts[1], parts[2], parts[3], parts[4])\n                }\n                break;\n\n              case 'SolveImageSucceeded':\n                console.log('解析同步成功');\n                this.$bus.$emit(\"handleOperationComplete\", \"solve\");\n                this.$bus.$emit('showMsgBox', 'Solve image succeed!', 'success');\n                break;\n\n              case 'SolveImagefailed':\n                this.callShowMessageBox('Solve image faild...', 'error');\n                this.$bus.$emit(\"ImageSolveFinished\", false);\n                this.$bus.$emit('setParsingProgress', false);\n                this.$bus.$emit('MountOperationComplete', 'solve');\n                break;\n\n              case 'MainCameraOffsetRange':\n                if (parts.length === 3) {\n                  console.log('MainCameraOffsetRange:', parts[1], ',', parts[2]);\n                  this.SendConsoleLogMsg('MainCameraOffsetRange:' + parts[1] + ',' + parts[2], 'info');\n                  this.MainCameraOffsetMin = parts[1];\n                  this.MainCameraOffsetMax = parts[2];\n\n                  const OffsetItem = this.MainCameraConfigItems.find(item => item.label === 'Offset');\n                  if (OffsetItem) {\n                    console.log('MainCameraOffsetRange:', parseInt(this.MainCameraOffsetMin, 10), ',', parseInt(this.MainCameraOffsetMax, 10));\n                    OffsetItem.inputMin = parseInt(this.MainCameraOffsetMin, 10);\n                    OffsetItem.inputMax = parseInt(this.MainCameraOffsetMax, 10);\n                  }\n                }\n                break;\n\n              case 'MainCameraGainRange':\n                if (parts.length === 3) {\n                  console.log('MainCameraGainRange:', parts[1], ',', parts[2]);\n                  this.SendConsoleLogMsg('MainCameraGainRange:' + parts[1] + ',' + parts[2], 'info');\n                  this.MainCameraGainMin = parts[1];\n                  this.MainCameraGainMax = parts[2];\n\n                  const gainItem = this.MainCameraConfigItems.find(item => item.label === 'Gain');\n                  if (gainItem) {\n                    console.log('MainCameraGainRange:', parseInt(this.MainCameraGainMin, 10), ',', parseInt(this.MainCameraGainMax, 10));\n                    gainItem.inputMin = parseInt(this.MainCameraGainMin, 10);\n                    gainItem.inputMax = parseInt(this.MainCameraGainMax, 10);\n                  }\n                }\n                break;\n\n              case 'OutputPowerStatus':\n                if (parts.length === 3) {\n                  const index = parseInt(parts[1], 10);\n                  const value = parseInt(parts[2], 10);\n\n                  if (index === 1) {\n                    this.OutPutPower_1_ON = value === 1;\n                  } else if (index === 2) {\n                    this.OutPutPower_2_ON = value === 1;\n                  }\n                }\n                break;\n\n              case 'PHD2StarBoxView':\n                if (parts.length === 2) {\n                  const view = parts[1];\n                  this.$bus.$emit('PHD2StarBoxView', view);\n                }\n                break;\n\n              case 'PHD2StarCrossView':\n                if (parts.length === 2) {\n                  const view = parts[1];\n                  this.$bus.$emit('PHD2StarCrossView', view);\n                }\n                break;\n\n              case 'PHD2StarBoxPosition':\n                if (parts.length === 5) {\n                  const PHD2ImageSize_X = parseInt(parts[1], 10);\n                  const PHD2ImageSize_Y = parseInt(parts[2], 10);\n                  const Box_X = parseInt(parts[3], 10);\n                  const Box_Y = parseInt(parts[4], 10);\n                  this.DrawPHD2Box(PHD2ImageSize_X, PHD2ImageSize_Y, Box_X, Box_Y);\n                }\n                break;\n\n              case 'PHD2MultiStarsPosition':\n                if (parts.length === 5) {\n                  const PHD2ImageSize_X = parseInt(parts[1], 10);\n                  const PHD2ImageSize_Y = parseInt(parts[2], 10);\n                  const Box_X = parseInt(parts[3], 10);\n                  const Box_Y = parseInt(parts[4], 10);\n                  this.DrawPHD2MultiStars(PHD2ImageSize_X, PHD2ImageSize_Y, Box_X, Box_Y);\n                }\n                break;\n\n              case 'ClearPHD2MultiStars':\n                this.$bus.$emit('ClearPHD2MultiStars');\n                break;\n\n              case 'PHD2StarCrossPosition':\n                if (parts.length === 5) {\n                  const PHD2ImageSize_X = parseInt(parts[1], 10);\n                  const PHD2ImageSize_Y = parseInt(parts[2], 10);\n                  const Cross_X = parseInt(parts[3], 10);\n                  const Cross_Y = parseInt(parts[4], 10);\n                  this.DrawPHD2Cross(PHD2ImageSize_X, PHD2ImageSize_Y, Cross_X, Cross_Y);\n                }\n                break;\n\n              case 'QTClientVersion':\n                if (parts.length === 2) {\n                  this.QTClientVersion = parts[1];\n                }\n                break;\n\n\n              case 'CaptureImageSaveStatus':\n                if (parts.length === 2) {\n                  const status = parts[1];\n                  if (status === 'Repeat') {\n                    this.callShowMessageBox(this.$t('There is no need to save it again'), 'error');\n                  } else if (status === 'Success') {\n                    this.callShowMessageBox(this.$t('Image saved successfully'), 'success');\n                  } else if (status === 'Null') {\n                    this.callShowMessageBox(this.$t('No images to save'), 'error');\n                  }\n                }\n                break;\n\n              case 'INDIServerDebug':\n                if (parts.length === 2) {\n                  const message = parts[1];\n                  this.$bus.$emit('INDIServerDebug', message);\n                }\n                break;\n\n              case 'HotspotName':\n                if (parts.length === 2) {\n                  const Name = parts[1];\n                  this.$bus.$emit('HotspotName', Name);\n                }\n                break;\n              case 'EditHotspotNameSuccess':\n                this.$bus.$emit('EditHotspotNameSuccess');\n                break;\n\n              case 'DSLRsSetup':\n                if (parts.length === 2) {\n                  const Name = parts[1];\n                  this.$bus.$emit('ShowDSLRsSetup', Name);\n                }\n                break;\n\n              case 'ConfigureRecovery':\n                if (parts.length === 3) {\n                  const ConfigName = parts[1];\n                  const ConfigValue = parts[2];\n                  console.log('Configure:', ConfigName, ',', ConfigValue);\n                  this.SendConsoleLogMsg('Configure Recovery:' + parts[1] + ',' + parts[2], 'info');\n                  this.$bus.$emit(ConfigName, ConfigValue);\n\n                  if (parts[1] === 'FocalLength') {\n                    this.TelescopesConfigItems[0].value = parts[2];\n                    for (const device of this.devices) {\n                      if (device.driverType === 'Telescopes') {\n                        if (parts[2] === '' || parts[2] === NaN) {\n                          device.device = '';\n                          device.isConnected = false;\n                        } else {\n                          device.device = parts[2] + ' mm';\n                          device.isConnected = true;\n                        }\n                      }\n                    }\n                  }\n\n                  if (parts[1] === 'GuiderFocalLength') {\n                    this.GuiderConfigItems[0].value = parts[2];\n                    this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GuiderFocalLength:' + parts[2]);\n                  }\n\n                  if (parts[1] === 'Coordinates') {\n                    const [latStr, lngStr, isAutoStr] = parts[2].split(',').map(item => item.trim());\n                    const lat = parseFloat(latStr);\n                    const lng = parseFloat(lngStr);\n                    const isAuto = isAutoStr === 'true' || isAutoStr === '1';\n                    this.SetCurrentLocation(lat, lng, isAuto);\n                  }\n\n                  if (parts[1] === 'MultiStarGuider') {\n                    this.GuiderConfigItems[1].value = (parts[2] === 'true');\n                    this.$bus.$emit('AppSendMessage', 'Vue_Command', 'MultiStarGuider:' + parts[2]);\n                  }\n\n                  if (parts[1] === 'GuiderGain') {\n                    this.GuiderConfigItems[2].value = parts[2];\n                    this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GuiderGain:' + parts[2]);\n                  }\n\n                  if (parts[1] === 'CalibrationDuration') {\n                    this.GuiderConfigItems[3].value = parts[2];\n                    this.$bus.$emit('AppSendMessage', 'Vue_Command', 'CalibrationDuration:' + parts[2]);\n                  }\n\n                  if (parts[1] === 'RaAggression') {\n                    this.GuiderConfigItems[4].value = parts[2];\n                    this.$bus.$emit('AppSendMessage', 'Vue_Command', 'RaAggression:' + parts[2]);\n                  }\n\n                  if (parts[1] === 'DecAggression') {\n                    this.GuiderConfigItems[5].value = parts[2];\n                    this.$bus.$emit('AppSendMessage', 'Vue_Command', 'DecAggression:' + parts[2]);\n                  }\n                }\n                break;\n\n\n              case 'ConnectDriverSuccess':\n                if (parts.length === 2) {\n                  const device = parts[1];\n                  this.connectDriverSuccess(device);\n                }\n                break;\n\n              case 'getDevicePort':\n                if (parts.length === 3) {\n                  const driverType = parts[1];\n                  const usbSerialPath = parts[2];\n                  const target = this.devices.find(dev => dev.driverType === driverType);\n                  if (target) {\n                    target.usbSerialPath = usbSerialPath;\n                    this.$bus.$emit('sendCurrentConnectedDevices', this.devices);\n                  } else {\n                    console.warn('getUSBSerialPath | device not found for type:', driverType);\n                  }\n                }\n                break;\n\n              case 'getSDKVersion':\n                if (parts.length === 3) {\n                  const driverType = parts[1];\n                  const sdkVersion = parts[2];\n                  console.log('getSDKVersion:', driverType, ',', sdkVersion);\n                  const target = this.devices.find(dev => dev.driverType === driverType);\n                  if (target) {\n                    target.sdkVersion = sdkVersion;\n                    this.$bus.$emit('sendCurrentConnectedDevices', this.devices);\n                  } else {\n                    console.warn('getSDKVersion | device not found for type:', driverType);\n                  }\n                  console.log('New devices:', this.devices);\n                }\n                break;\n\n              case 'ConnectDriverFailed':\n                if (parts.length === 2) {\n                  const message = parts[1];\n                  this.connectDriverFailed(message);\n                }\n                break;\n\n              case 'DisconnectDriverSuccess':\n                if (parts.length === 2) {\n                  const device = parts[1];\n                  this.disconnectDriversuccess(device);\n                }\n                break;\n\n              case 'DisconnectDriverFail':\n                if (parts.length === 2) {\n                  const driver = parts[1];\n                  this.disconnectDriverFail(driver)\n                }\n\n              case 'SelectedDriverList':\n                if (parts.length >= 3) {\n                  const deviceObjects = parts.slice(1).reduce((acc, part, index, array) => {\n                    if (index % 2 === 0) {\n                      acc.push({ [array[index]]: array[index + 1] });\n                    }\n                    return acc;\n                  }, []);\n                  this.loadSelectedDriverList(deviceObjects);\n                }\n                break;\n\n\n              case 'BindDeviceList':\n                if (parts.length >= 3) {\n                  const deviceObjects = parts.slice(1).reduce((acc, part, index, array) => {\n                    if (index % 2 === 0) {\n                      acc.push({ [array[index]]: array[index + 1] });\n                    }\n                    return acc;\n                  }, []);\n                  this.loadBindDeviceList(deviceObjects);\n                }\n                break;\n\n              case 'SDKVersionAndUSBSerialPath':\n                // 固定格式：SDKVersionAndUSBSerialPath:Type1:SDK1:USB1:Type2:SDK2:USB2:...\n                if (parts.length > 1 && ((parts.length - 1) % 3 === 0)) {\n                  for (let i = 1; i < parts.length; i += 3) {\n                    const Type = (parts[i] || '').trim();\n                    const SDK = (parts[i + 1] || '').trim();\n                    const USB = (parts[i + 2] || '').trim();\n                    const target = this.devices.find(dev => dev.driverType === Type);\n                    if (target) {\n                      // 非空才赋值；空或 \"null\" 则清空\n                      if (SDK && SDK.toLowerCase() !== 'null') target.sdkVersion = SDK; else target.sdkVersion = '';\n                      if (USB && USB.toLowerCase() !== 'null') target.usbSerialPath = USB; else target.usbSerialPath = '';\n                    } else {\n                      console.warn('SDKVersionAndUSBSerialPath | device not found for type:', Type);\n                    }\n                  }\n                  this.$bus.$emit('sendCurrentConnectedDevices', this.devices);\n                } else {\n                  console.warn('SDKVersionAndUSBSerialPath | invalid payload:', data.message);\n                }\n                break;\n\n\n              case 'BindDeviceTypeList':\n                if (parts.length >= 5) { // 确保至少有五个参数加上前缀\n                  const deviceTypeObjects = [];\n                  for (let i = 1; i < parts.length; i += 4) {\n                    const deviceTypeObject = {\n                      Type: parts[i],\n                      DeviceName: parts[i + 1],\n                      DriverName: parts[i + 2],\n                      isbind: parts[i + 3] == \"true\" ? true : false,\n                    };\n                    deviceTypeObjects.push(deviceTypeObject);\n                  }\n                  this.loadBindDeviceTypeList(deviceTypeObjects);\n                }\n                break;\n\n              case 'deleteDeviceAllocationList':\n                if (parts.length === 2) {\n                  const deviceName = parts[1];\n                  this.deleteDeviceAllocationList(deviceName);\n                }\n                break;\n\n              case 'deleteDeviceTypeAllocationList':\n                if (parts.length === 2) {\n                  const deviceType = parts[1];\n                  if (deviceType != '') {\n                    this.$bus.$emit('deleteDeviceTypeAllocationList', deviceType);\n                  }\n                  if (deviceType == 'CFW') {\n                    for (let i = 0; i < this.devices.length; i++) {\n                      if (this.devices[i].driverType == 'CFW') {\n                        this.devices[i].isConnected = false;\n                        this.devices[i].device = '';\n                        this.devices[i].driverName = '';\n                        this.devices[i].BaudRate = 9600;\n                        this.$bus.$emit('CFWConnected', 0);\n                      }\n                    }\n                  }\n                }\n                break;\n\n              case 'ParseInfoEmitted':\n                if (parts.length === 2) {\n                  const progress = parts[1];\n                  this.$bus.$emit('ParseInfoEmitted', progress);\n                }\n                break;\n\n              case 'GuiderUpdateStatus':\n                if (parts.length === 2) {\n                  const status = parts[1];\n                  this.$bus.$emit('GuiderUpdateStatus', parseInt(status, 10));\n                }\n                break;\n\n              case 'LoopSolveImageFinished':\n                this.$bus.$emit('LoopSolveImageFinished');\n                break;\n\n              case 'disconnectDevicehasortherdevice':\n                if (parts.length === 2) {\n                  const drivername = parts[1];\n                  this.showSelectdisconnectDriver(drivername);\n                }\n                break;\n\n              case 'getFocuserMoveState':\n                this.$bus.$emit('getFocuserMoveState');\n                break;\n\n              case 'FocusMoveToLimit':\n                if (parts.length === 2) {\n                  const errorlog = parts[1];\n                  this.callShowMessageBox(errorlog, 'error');\n                }\n                break;\n\n              case 'startFocusLoopFailed':\n                if (parts.length === 2) {\n                  const message = parts[1];\n                  this.$bus.$emit('startFocusLoopFailed', message);\n                }\n                break;\n\n              case 'setFocuserLoopingState':\n                if (parts.length === 2) {\n                  const message = parts[1];\n                  this.$bus.$emit('setFocuserLoopingState', message);\n                  if (message == 'true') {\n                    this.isFocusLoopShooting = true;\n                  } else {\n                    this.isFocusLoopShooting = false;\n                  }\n                }\n                break;\n\n              case 'focuserROIStarsList':\n                if (parts.length === 4) {\n                  const x = parts[1];\n                  const y = parts[2];\n                  const HFR = parts[3];\n                  this.focuserROIStarsList.push({ x, y, HFR });\n                }\n                break;\n\n              // case 'clearFocuserROIStarsList':\n              //   this.focuserROIStarsList = [];\n              //   break;\n\n              case 'setSelectStarPosition':\n                if (parts.length === 4) {\n                  this.DrawSelectStarX = parseFloat(parts[1]);\n                  this.DrawSelectStarY = parseFloat(parts[2]);\n                  this.DrawSelectStarHFR = parseFloat(parts[3]);\n                }\n                break;\n\n              case 'SetRedBoxState':\n                if (parts.length === 4) {\n                  const length = parseInt(parts[1]);\n                  this.ROI_x = parseFloat(parts[2]);\n                  this.ROI_y = parseFloat(parts[3]);\n\n                  this.setRedBoxState(length, this.ROI_x, this.ROI_y);\n                  console.log('设置红色ROI框: ', length, this.ROI_x, this.ROI_y);\n                }\n                break;\n\n              case 'SetVisibleArea':\n                if (parts.length === 4) {\n                  this.visibleX = parseFloat(parts[1]);\n                  this.visibleY = parseFloat(parts[2]);\n                  this.scale = parseFloat(parts[3]);\n                  this.$bus.$emit('setScale', this.scale);\n                  console.log('设置可见区域: ', this.visibleX, this.visibleY, this.scale);\n                  this.SendConsoleLogMsg('update VisibleArea x=' + this.visibleX + ', y=' + this.visibleY + ', scale=' + this.scale, 'info');\n                }\n                break;\n\n              case 'SetSelectStars':\n                if (parts.length === 3) {\n                  this.selectStarX = parseFloat(parts[1]);\n                  this.selectStarY = parseFloat(parts[2]);\n                  this.SendConsoleLogMsg('update SelectStars x=' + this.selectStarX + ', y=' + this.selectStarY, 'info');\n                }\n                break;\n\n              case 'updateCPUInfo':\n                if (parts.length === 3) {\n                  let cpuTemp = parseFloat(parts[1]);\n                  let cpuUsage = parseFloat(parts[2]);\n                  this.cpuTemp = isNaN(cpuTemp) ? null : (cpuTemp % 1 === 0 ? cpuTemp : cpuTemp.toFixed(1));  // 如果 cpuTemp 是 NaN，设置为 null，否则如果 cpuTemp 是整数，就不保留小数，否则保留一位小数\n                  this.cpuUsage = isNaN(cpuUsage) ? null : (cpuUsage % 1 === 0 ? cpuUsage : cpuUsage.toFixed(1));  // 如果 cpuUsage 是 NaN，设置为 null，否则如果 cpuUsage 是整数，就不保留小数，否则保留一位小数\n                  this.$bus.$emit('updateCPUInfo', this.cpuTemp, this.cpuUsage);\n                }\n                break;\n\n              case 'TianWen':\n                if (parts.length === 4) {\n                  const notice_type = parts[1];\n                  const ra = parts[2];\n                  const dec = parts[3];\n                  this.$bus.$emit('TianWen', notice_type, ra, dec);\n                }\n                break;\n\n              case 'setMainCameraParameters':\n                if (parts.length >= 3) {\n                  let parameters = {};\n                  for (let i = 1; i < parts.length; i += 2) {\n                    const parameter = parts[i];\n                    const value = parts[i + 1];\n                    parameters[parameter] = value;\n                  }\n                  this.setMainCameraParameters(parameters);\n                }\n                break;\n\n              case 'localMessage':\n                if (parts.length === 4) {\n                  const lat = parts[1];\n                  const lon = parts[2];\n                  const language = parts[3];\n                  this.SendConsoleLogMsg('2------------获得参数设置localMessage: ' + lat + ',' + lon + ',' + language, 'info');\n                  if (language == 'zh') {\n                    this.$bus.$emit('ClientLanguage', 'cn');\n                  } else {\n                    this.$bus.$emit('ClientLanguage', 'en');\n                  }\n                  this.$bus.$emit('setLocationLatAndLon', lat, lon);\n                }\n                break;\n\n              case 'isAutoLocation':\n                if (parts.length === 2) {\n                  const isAutoLocation = parts[1];\n                  this.$bus.$emit('isAutoLocation', isAutoLocation);\n                }\n                break;\n\n              case 'sendGetLocation':\n                if (parts.length === 3) {\n                  const lat = parts[1];\n                  const lon = parts[2];\n                  this.SendConsoleLogMsg('sendGetLocation: ' + lat + ',' + lon, 'info');\n                  this.$bus.$emit('sendGetLocation', lat, lon);\n                }\n                break;\n\n              case 'MainCameraCFA':\n                if (parts.length === 2) {\n                  let value = parts[1];\n                  if (value === '') {\n                    value = 'null';\n                  } else if (value === 'GRBG') {\n                    value = 'GR';\n                  } else if (value === 'GBRG') {\n                    value = 'GB';\n                  } else if (value === 'BGGR') {\n                    value = 'BG';\n                  } else if (value === 'RG') {\n                    value = 'RGGB';\n                  }\n                  this.ImageCFA = value;\n                  console.log(\"获取到的主相机参数  MainCameraCFA: \", this.ImageCFA);\n                  this.MainCameraConfigItems.find(item => item.label === 'ImageCFA').value = this.ImageCFA;\n                }\n                break;\n\n              case 'CameraNotIdle':\n                this.callShowMessageBox('Camera is not idle', 'error');\n                this.$bus.$emit('MountOperationComplete', 'solve');\n                break;\n\n              case 'MainCameraNotConnect':\n                this.callShowMessageBox('Main Camera is not connect', 'error');\n                this.$bus.$emit('MountOperationComplete', 'solve');\n                break;\n              case 'ServerInitSuccess':\n                this.callShowMessageBox('Server init success', 'success');\n                window.location.reload();\n                break;\n              case 'PolarAlignmentState':\n                if (parts.length === 5) {\n                  const isRunning = parts[1];\n                  const state = parts[2];\n                  const message = parts[3];\n                  const percentage = parts[4];\n                  console.log('PolarAlignmentState: ', isRunning, state, message, percentage);\n                  this.$bus.$emit('PolarAlignmentIsRunning', isRunning);\n                  this.$bus.$emit('PolarAlignmentState', state, message, percentage);\n                }\n                break;\n              case 'PolarAlignmentAdjustmentGuideData':\n                if (parts.length === 21) {  // 从17改为21\n                  const ra = parseFloat(parts[1]);\n                  const dec = parseFloat(parts[2]);\n                  // 新增：四个角点\n                  const ra0 = parseFloat(parts[3]);\n                  const dec0 = parseFloat(parts[4]);\n                  const ra1 = parseFloat(parts[5]);\n                  const dec1 = parseFloat(parts[6]);\n                  const ra2 = parseFloat(parts[7]);\n                  const dec2 = parseFloat(parts[8]);\n                  const ra3 = parseFloat(parts[9]);\n                  const dec3 = parseFloat(parts[10]);\n\n                  const targetra = parseFloat(parts[11]);\n                  const targetdec = parseFloat(parts[12]);\n                  const offsetra = parseFloat(parts[13]);\n                  const offsetdec = parseFloat(parts[14]);\n                  const adjustmentra = parts[15];\n                  const adjustmentdec = parts[16];\n                  const fakePolarRA = parseFloat(parts[17]);\n                  const fakePolarDEC = parseFloat(parts[18]);\n                  const realPolarRA = parseFloat(parts[19]);\n                  const realPolarDEC = parseFloat(parts[20]);\n\n\n                  // console.log('自动对焦绘制数据: ', ra, dec, targetra, targetdec, fakePolarRA, fakePolarDEC, realPolarRA, realPolarDEC);\n                  console.log('四角点数据: ', ra0, dec0, ra1, dec1, ra2, dec2, ra3, dec3);\n\n                  // 现有事件保持不变（使用计算的max/min值兼容）\n                  this.$bus.$emit('FieldDataUpdate', [ra, dec, ra0, dec0, ra1, dec1, ra2, dec2, ra3, dec3, targetra, targetdec, fakePolarRA, fakePolarDEC, realPolarRA, realPolarDEC]);\n\n                  // console.log('自动对焦显示更新数据: ', offsetra, offsetdec, adjustmentra, adjustmentdec);\n                  this.$bus.$emit('updateCardInfo', ra, dec, targetra, targetdec, offsetra, offsetdec, adjustmentra, adjustmentdec, \"deg\");\n\n                }\n                break;\n\n              case 'focusMoveFailed':\n                if (parts.length === 2) {\n                  const message = parts[1];\n                  this.callShowMessageBox(message, 'error');\n                  this.$bus.$emit('focusMoveFailed', message);\n                }\n\n              case 'focusMoveFailed':\n                if (parts.length === 2) {\n                  const message = parts[1];\n                  this.callShowMessageBox(message, 'error');\n                  this.$bus.$emit('focusMoveFailed', message);\n                }\n                break;\n\n              case 'MeridianETA_hms': {\n                if (parts.length >= 4) {\n                  const h = parts[1];\n                  const m = parts[2];\n                  const s = parts[3];\n\n                  const hms = `${h}:${m}:${s}`;\n                  const item = this.MountConfigItems.find(i => i.label === 'Flip ETA');\n                  if (item) {\n                    item.value = hms;\n                    item.displayValue = hms;\n                  }\n                }\n                break;\n              }\n\n              case 'AutoFlip':\n                if (parts.length >= 2) {\n                  // TODO::自动翻转功能暂时关闭，需要时再打开\n                  console.log('当前AutoFlip命令未启用: ', parts[1]);\n                  break;\n                  const isAutoFlip = parts[1];\n                  // 查找是否已存在 \"AutoFlip\" 项\n                  let item = this.MountConfigItems.find(i => i.label === 'AutoFlip');\n                  if (item) {\n                    // 已存在 → 更新\n                    item.value = isAutoFlip == 'true';\n                  } else {\n                    // 不存在 → 新增\n                    this.MountConfigItems.push({ driverType: 'Mount', label: 'AutoFlip', value: isAutoFlip == 'true', inputType: 'switch' },);\n                  }\n                  // 同步子组件模式（无需重建组件）\n                  const next = (isAutoFlip == 'true') ? 'auto' : 'manual';\n                  if (this.$bus && this.$bus.$emit) {\n                    this.$bus.$emit('SetFlipMode', next);\n                  }\n                }\n                break;\n              \n              case 'FlipStatus':\n                if (parts.length === 2) {\n                  if (this.$bus && this.$bus.$emit) {\n                    this.$bus.$emit('FlipStatus', parts[1]);\n                  }\n                }\n                break;\n              // case 'MinutesPastMeridian':\n              //   if (parts.length >= 3) {\n              //     const EastMinutesPastMeridian = parts[1];\n              //     const WestMinutesPastMeridian = parts[2];\n              //     let item = this.MountConfigItems.find(i => i.label === 'EastMinutesPastMeridian');\n              //     if (item) {\n              //       item.value = EastMinutesPastMeridian;\n              //     } else {\n              //       this.MountConfigItems.push({ driverType: 'Mount', label: 'EastMinutesPastMeridian', value: EastMinutesPastMeridian,min:-180,max:180, inputType: 'number' },);\n              //     }\n              //     item = this.MountConfigItems.find(i => i.label === 'WestMinutesPastMeridian');\n              //     if (item) {\n              //       item.value = WestMinutesPastMeridian;\n              //     } else {\n              //       this.MountConfigItems.push({ driverType: 'Mount', label: 'WestMinutesPastMeridian', value: WestMinutesPastMeridian,min:-180,max:180, inputType: 'number' },);\n              //     }\n              //   }\n              //   break;\n              case 'EastMinutesPastMeridian':\n                if (parts.length === 2) {\n                  const EastMinutesPastMeridian = parts[1];\n                  let item = this.MountConfigItems.find(i => i.label === 'EastMinutesPastMeridian');\n                  if (item) {\n                    item.value = EastMinutesPastMeridian;\n                  } else {\n                    this.MountConfigItems.push({ driverType: 'Mount', label: 'EastMinutesPastMeridian', value: EastMinutesPastMeridian, min: -180, max: 180, inputType: 'number' },);\n                  }\n                }\n                break;\n              case 'WestMinutesPastMeridian':\n                if (parts.length === 2) {\n                  const WestMinutesPastMeridian = parts[1];\n                  let item = this.MountConfigItems.find(i => i.label === 'WestMinutesPastMeridian');\n                  if (item) {\n                    item.value = WestMinutesPastMeridian;\n                  } else {\n                    this.MountConfigItems.push({ driverType: 'Mount', label: 'WestMinutesPastMeridian', value: WestMinutesPastMeridian, min: -180, max: 180, inputType: 'number' },);\n                  }\n                }\n                break;\n              case 'GotoThenSolve':\n                if (parts.length === 2) {\n                  const GotoThenSolve = parts[1];\n                  let item = this.MountConfigItems.find(i => i.label === 'GotoThenSolve');\n                  if (item) {\n                    item.value = GotoThenSolve;\n                  }\n                }\n                break;\n\n              case 'addFwhmNow':\n                if (parts.length >= 2) {\n                  const fwhm = parseFloat(parts[1]);\n                  console.log('Received addFwhmNow:', fwhm);\n                  this.$bus.$emit('addFwhmNow', fwhm);\n                }\n                break;\n              case 'Box_Space':\n                // 后端返回盒子可用空间（字节），转发给内存设置面板\n                if (parts.length === 2) {\n                  const bytes = parts[1];\n                  this.$bus.$emit('Box_Space', bytes);\n                }\n                break;\n              case 'ClearLogs':\n                // 后端清理日志完成回执\n                if (parts.length >= 2 && parts[1] === 'Success') {\n                  this.SendConsoleLogMsg('Logs cleared successfully', 'info');\n                }\n                break;\n              case 'ClearBoxCache':\n                // 后端清理缓存完成回执\n                if (parts.length >= 2 && parts[1] === 'Success') {\n                  this.SendConsoleLogMsg('Box cache cleared successfully', 'info');\n                }\n                break;\n\n              case 'FocuserLimit':\n                if (parts.length === 3) {\n                  const FocuserMinLimit = parts[1];\n                  const FocuserMaxLimit = parts[2];\n                  let item = this.FocuserConfigItems.find(i => i.label === 'Min Limit');\n                  if (item) {\n                    item.value = FocuserMinLimit;\n                  } else {\n                    this.FocuserConfigItems.push({ driverType: 'Focuser', label: 'Min Limit', value: FocuserMinLimit, inputType: 'number' },);\n                  }\n                  item = this.FocuserConfigItems.find(i => i.label === 'Max Limit');\n                  if (item) {\n                    item.value = FocuserMaxLimit;\n                  } else {\n                    this.FocuserConfigItems.push({ driverType: 'Focuser', label: 'Max Limit', value: FocuserMaxLimit, inputType: 'number' },);\n                  }\n                  this.$bus.$emit('setFocusChartRange', FocuserMinLimit, FocuserMaxLimit);\n                }\n                break;\n              case 'Backlash':\n                if (parts.length === 2) {\n                  const FocuserBacklash = parts[1];\n                  let item = this.FocuserConfigItems.find(i => i.label === 'Backlash');\n                  if (item) {\n                    item.value = FocuserBacklash;\n                  }\n                }\n                break;\n              case 'updateAutoFocuserState':\n                if (parts.length === 2 ) {\n                  const autoFocusState = parts[1];\n                  this.$bus.$emit('updateAutoFocuserState', autoFocusState == 'true'); // 更新自动对焦按钮状态\n                  \n                }\n                break;\n              case 'AutoFocusConfirm': // [AUTO_FOCUS_UI_ENHANCEMENT]\n                if (parts.length >= 2) {\n                  const question = parts[1];\n                  console.log('AutoFocusConfirm:', question);\n                  this.ShowConfirmDialog('自动对焦', question, 'AutoFocusConfirm');\n                }\n                break;\n\n              case 'AutoFocusStepChanged': // [AUTO_FOCUS_UI_ENHANCEMENT]\n                if (parts.length >= 3) {\n                  const step = parts[1];\n                  const description = parts[2];\n                  console.log('AutoFocusStepChanged:', step, description);\n                  this.$bus.$emit('UpdateAutoFocusStep', step, description);\n                }\n                break;\n\n              case 'AutoFocusCancelled': // [AUTO_FOCUS_UI_ENHANCEMENT]\n                if (parts.length >= 2) {\n                  const reason = parts[1];\n                  console.log('AutoFocusCancelled:', reason);\n                  this.callShowMessageBox(reason, 'info');\n                }\n                break;\n\n              case 'AutoFocusStarted': // [AUTO_FOCUS_UI_ENHANCEMENT]\n                if (parts.length >= 2) {\n                  const message = parts[1];\n                  console.log('AutoFocusStarted:', message);\n                  this.$bus.$emit('StartAutoFocus');\n                }\n                break;\n\n              case 'AutoFocusEnded': // [AUTO_FOCUS_UI_ENHANCEMENT]\n                if (parts.length >= 2) {\n                  const message = parts[1];\n                  console.log('AutoFocusEnded:', message);\n                  this.$bus.$emit('EndAutoFocus');\n                }\n                break;\n              default:\n                console.warn('未处理命令: ', data.message);\n                break;\n            }\n          }\n        }\n        else if (data.type === 'QT_Confirm') {\n          // 处理确认消息\n          const messageId = data.msgid;\n          this.handleMessageResponse(messageId);\n        } else if (data.type === 'Process_Command') {\n          console.log('Process_Command: ', data.message);\n          // 处理返回消息\n          const parts = data.message.split(':');\n          if (parts[0] === 'qtServerIsOver') {\n            this.callShowMessageBox('QT Server is over', 'error');\n            this.ShowConfirmDialog('restart', 'QT server encountered a segmentation fault or is frozen, please restart or exit!', 'restartQtServer');\n          }\n          else if (parts[0] === 'checkHasNewUpdatePack') {\n            if (parts.length === 2) {\n              const version = parts[1];\n              this.SendConsoleLogMsg('获取到更新包版本: ' + version, 'info');\n\n              this.ShowConfirmDialog('ForceUpdate', this.$t('checkHasNewUpdatePack') + ': ' + version + '，' + this.$t('updateConfirm'), 'updateCurrentClient:' + version);\n            }\n          }\n          else if (parts[0] === 'No_update_pack_found') {\n            this.callShowMessageBox(this.$t('No_update_pack_found'), 'error');\n          } else if (parts[0] === 'update_progress') {\n            this.$bus.$emit('update_progress', data.message);\n          } else if (parts[0] === 'update_error') {\n            this.$bus.$emit('update_error', data.message);\n          } else if (parts[0] === 'update_success') {\n            this.$bus.$emit('update_success', data.message);\n          } else if (parts[0] === 'testQtServerProcess') {\n\n          }\n          else {\n            console.warn('未处理命令: ', data.message);\n          }\n        }\n\n        this.receivedMessages.push(data.message); // 将接收到的消息添加到数组中\n      };\n\n      this.websocket.onerror = (error) => {\n        const errorDetails = {\n          type: error.type,\n          timestamp: new Date().toISOString(),\n          url: this.WebSocketUrl,\n          readyState: this.websocket.readyState,\n          protocol: this.websocket.protocol,\n          extensions: this.websocket.extensions\n        };\n        console.error('WebSocket Error Details:', errorDetails);\n        this.SendConsoleLogMsg('WebSocket Error: ' + JSON.stringify(errorDetails), 'error');\n        this.websocketState = 'error';\n        this.networkDisconnected = true;\n      };\n\n      this.websocket.onclose = () => {\n        console.log('QHYCCD | WebSocket disconnected');\n        this.websocketState = 'disconnected';\n        this.networkDisconnected = true; // WebSocket连接关闭时设置网络连接状态\n        console.log('QHYCCD | WebSocket disconnected');\n        this.$bus.$emit('ShowNetStatus', 'false');\n\n        // 设置一个定时器，1秒后检查网络状态\n        this.disconnectTimeout = setTimeout(() => {\n          if (this.networkDisconnected) { // 如果1秒后仍然断开\n            this.callShowMessageBox('WebSocket disconnected', 'error');\n            this.disconnectTimeoutTriggered = true;\n          }\n        }, 1000); // 1秒后执行\n\n        // 启动自动重连\n        this.reconnectWebSocket();\n      };\n    },\n\n    // 自动重连\n    reconnectWebSocket() {\n      setTimeout(() => {\n        console.log('QHYCCD | WebSocket reconnected');\n        this.SendConsoleLogMsg('WebSocket reconnected.', 'info');\n        this.connect();\n      }, 2000); // 2秒后尝试重新连接\n    },\n    // 自动重连\n\n    //监听网络连接状态\n    setupNetworkStatusListener() {\n      window.addEventListener('online', () => {\n        // 检查断开连接的定时器是否已经触发\n        if (this.disconnectTimeoutTriggered) {\n          this.callShowMessageBox('WebSocket connected', 'success');\n        }\n        clearTimeout(this.disconnectTimeout); // 清除断开连接的定时器\n        this.networkDisconnected = false; // 网络恢复时重置网络连接状态\n        this.$bus.$emit('ShowNetStatus', 'true');\n        this.StatusRecovery();\n        this.reconnectWebSocket(); // 网络恢复后自动重连WebSocket\n      });\n\n      window.addEventListener('offline', () => {\n        this.networkDisconnected = true; // 网络断开时设置网络连接状态\n        this.$bus.$emit('ShowNetStatus', 'false');\n        this.disconnectTimeoutTriggered = false; // 初始化断开连接定时器触发标志\n        // 设置一个定时器，1秒后检查网络状态\n        this.disconnectTimeout = setTimeout(() => {\n          if (this.networkDisconnected) { // 如果1秒后仍然断开\n            this.disconnectTimeoutTriggered = true; // 标记定时器已触发\n            this.callShowMessageBox('WebSocket disconnected', 'error');\n          }\n        }, 1000); // 1秒后执行\n      });\n    },\n    //监听网络连接状态\n\n    sendMessage(type, message) {\n      console.log(\"QHYCCD | sendMessage: \", message);\n\n      const messageId = this.generateMessageId(); // 生成唯一的消息ID\n      const messageObj = { type: type, msgid: messageId, message: message }; // 创建包含类型和消息的对象\n      const messageJson = JSON.stringify(messageObj); // 将消息对象转换为 JSON 字符串\n      const messageState = { msgid: messageId, text: messageJson, success: false }; // 创建包含消息和状态信息的对象\n\n      if (this.websocket.readyState === WebSocket.OPEN) {\n        this.websocket.send(messageJson);\n        // messageState.success = true; // 设置消息为成功\n      }\n      this.sentMessages.push(messageState); // 添加消息对象到已发送的消息数组\n    },\n\n    generateMessageId() {\n      // 使用时间戳和计数器生成唯一的消息ID\n      return Date.now() + \"-\" + (this.messageCounter++);\n    },\n\n    handleMessageResponse(messageId) {\n      // 根据返回的消息ID更新消息发送状态\n      const lastMessage = this.sentMessages[this.sentMessages.length - 1];\n      if (lastMessage && lastMessage.msgid === messageId) {\n        lastMessage.success = true;\n      }\n    },\n\n    // 消息框\n    callShowMessageBox(msg, type) {\n      console.log('QHYCCD | callShowMessageBox:', msg, type);\n      this.SendConsoleLogMsg(msg, type);\n      this.$bus.$emit('showMsgBox', msg, type);\n    },\n    // 消息框\n\n    locationClicked: function () {\n      this.$bus.$emit('Vue_Command', 'localMessage'); // 获取位置信息\n      this.$store.commit('toggleBool', 'showLocationDialog');\n\n      this.$bus.$emit('ResetTime');\n    },\n\n    SetCurrentLocation(lat, lng, isAuto) {\n      console.log('SetCurrentLocation:', lat, ',', lng);\n      this.$bus.$emit('SendConsoleLogMsg', 'Set Current Location:' + lat + ',' + lng, 'info');\n      this.$bus.$emit('PolarPointAltitude', lat);\n      this.$bus.$emit('resetLocation', lat, lng, isAuto);\n      const loc = {\n        short_name: 'Unknown',\n        country: 'Unknown',\n        lng: lng,\n        lat: lat,\n        alt: 0,\n        accuracy: 0,\n        street_address: ''\n      }\n      this.$store.commit('setCurrentLocation', loc);\n\n      this.$bus.$emit('ShowPositionInfo', lat, lng);\n\n      setTimeout(() => {\n        this.$bus.$emit('ResetTime');\n      }, 1000);\n    },\n    // 状态恢复\n    StatusRecovery() {\n      // this.sendMessage('SendConsoleLogMsg', '网络连接恢复，恢复当前状态!', 'warning');\n      this.getQTClientVersion();                // 获取QTClient版本\n      this.sendMessage('Vue_Command', 'getROIInfo'); // 获取ROI信息\n      this.sendMessage('Vue_Command', 'localMessage'); // 获取位置信息\n      this.sendMessage('Vue_Command', 'getLastSelectDevice'); // 获取上一次选择的设备\n      this.sendMessage('Vue_Command', 'getMainCameraParameters'); // 获取主相机参数\n      this.sendMessage('Vue_Command', 'getMountParameters'); // 获取赤道仪UI信息\n      this.sendMessage('Vue_Command', 'getFocuserParameters'); // 获取焦距器参数\n      this.RecalibratePolarAxis(); // 重新校准极轴\n      this.sendMessage('Vue_Command', 'getStagingSolveResult'); // 获取定标结果\n      this.sendMessage('Vue_Command', 'getFocuserLoopingState'); // 获取焦距器循环状态\n      \n      this.sendMessage('Vue_Command', 'getStagingScheduleData'); // 获取定标计划数据\n      this.sendMessage('Vue_Command', 'getStagingSolveResult'); // 获取定标结果\n      this.sendMessage('Vue_Command', 'getGPIOsStatus'); // 获取GPIO状态\n\n      // this.sendMessage('Vue_Command', 'getStagingImage'); // 获取最后拍摄的图像\n      // this.sendMessage('Vue_Command', 'getPolarAlignmentState'); // 获取极轴对齐状态\n      this.sendMessage('Vue_Command', 'loadSDKVersionAndUSBSerialPath'); // 获取SDK版本和USB序列号路径\n\n\n      this.disconnectTimeoutTriggered = false;\n    },\n\n    openPowerManagerPage() {\n      this.isOpenDevicePage = false;\n      this.isOpenPowerPage = true;\n\n      this.drawer_2 = true;\n    },\n\n    QuitToMainApp() {\n      this.sendMessage('Broadcast_Msg', 'CloseWebView');\n    },\n\n    selectDevice(device) {\n      if (!this.haveDeviceConnect || (this.haveDeviceConnect) || device.driverType === 'Telescopes') {\n        this.isOpenDevicePage = true;\n        this.isOpenPowerPage = false;\n\n        if (device.isget === false) {\n          // device.isget = true;\n          this.sendMessage('Vue_Command', 'SelectIndiDriver:' + device.type + \":\" + device.ListNum);\n          this.drivers = [];\n        }\n\n        this.CurrentDriverType = device.driverType;\n        this.DeviceIsConnected = device.isConnected;\n        this.BaudRateSelected = device.BaudRate;\n        if (device.driverType === 'Telescopes') {\n          this.DeviceIsConnected = true;\n        }\n\n        this.drawer_2 = true;\n\n        this.ToBeConnectDevice = [];\n        this.devicesList.forEach(devicesList => {\n          if (devicesList.type === this.CurrentDriverType) {\n            this.ToBeConnectDevice.push(devicesList);\n          }\n        });\n      } else {\n        this.callShowMessageBox('The device is not connected.', 'error');\n      }\n\n    },\n\n    CurrentConfigItems() {\n      console.log('CurrentConfigItems: ', this.CurrentDriverType + 'ConfigItems');\n      switch (this.CurrentDriverType) {\n        case 'Guider':\n          return this.GuiderConfigItems;\n        case 'MainCamera':\n          return this.MainCameraConfigItems;\n        case 'Mount':\n          return this.MountConfigItems;\n        case 'Telescopes':\n          return this.TelescopesConfigItems;\n        case 'Focuser':\n          return this.FocuserConfigItems;\n        case 'PoleCamera':\n          return this.PoleCameraConfigItems;\n        case 'CFW':\n          return this.CFWConfigItems;\n        default:\n          return [];\n      }\n    },\n\n    confirmDriver() {\n      // 确定驱动的逻辑\n      console.log(\"QHYCCD | confirmDriver: \", this.selectedDriver);\n      this.SendConsoleLogMsg('Confirm Indi Driver:' + this.selectedDriver, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'ConfirmIndiDriver:' + this.selectedDriver + ':' + this.BaudRateSelected);\n      this.confirmDriverType = this.CurrentDriverType;\n      this.loadingSelectDriver = true;\n\n      this.devices.forEach(device => {\n        if (device.driverType === this.CurrentDriverType) {\n          device.device = this.selectedDriver;\n          device.driverName = this.selectedDriver;\n          device.BaudRate = this.BaudRateSelected;\n        }\n      });\n    },\n    clearDriver() {\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'ClearIndiDriver');\n      this.SendConsoleLogMsg('Clear Indi Driver', 'info');\n      this.devices.forEach(device => {\n        if (device.driverType === this.CurrentDriverType) {\n          device.device = '';\n          device.driverName = '';\n          device.BaudRate = 9600;\n        }\n      });\n      this.selectedDriver = '';\n    },\n    confirmDevice() {\n      // 确定设备的逻辑\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'ConfirmIndiDevice:' + this.selectedDevice + ':' + this.selectedDriver);\n      // this.$bus.$emit('AppUpdateDevices', this.CurrentDriverType, this.selectedDevice);\n      this.updateDevices(this.CurrentDriverType, this.selectedDevice);\n    },\n\n    updateDevices(driverType, newDevice) {    // 手动选择\n      this.devices.forEach(device => {\n        if (device.driverType === driverType) {\n          device.device = newDevice;\n        }\n      });\n    },\n\n    updateDevices_(ListNum, newDevice) {    // 从文件导入\n      this.devices.forEach(device => {\n        if (device.ListNum === ListNum) {\n          device.device = newDevice;\n        }\n      });\n      this.loadingConnectAllDevice = false;\n    },\n\n    updateDevicesConnect(type, DeviceName, DriverName, isBind = true) {    // 连接成功\n      this.SendConsoleLogMsg('updateDevicesConnect' + type + ' ' + DeviceName + ' ' + DriverName + ' ' + isBind, 'info');\n      this.devices.forEach(device => {\n        if (device.driverType === type) {\n          if (isBind == true) {\n            device.device = DeviceName;\n          } else {\n            device.device = \"Not Bind Device\";\n          }\n          device.driverName = DriverName;\n          device.isConnected = true;\n        }\n      });\n      this.callShowMessageBox(DeviceName + ' success connected', 'success');\n      this.haveDeviceConnect = true;\n      this.loadingConnectAllDevice = false;\n\n      if (type === 'MainCamera') {\n        this.$bus.$emit('MainCameraConnected', 1);\n        console.log('MainCamera is Connected.');\n      } else if (type === 'Mount') {\n        this.$bus.$emit('MountConnected', 1);\n        console.log('Mount is Connected.');\n      } else if (type === 'CFW') {\n        this.$bus.$emit('CFWConnected', 1);\n        console.log('Mount is Connected.');\n      } else if (type === 'Focuser') {\n        this.$bus.$emit('FocuserConnected', 1);\n        console.log('Focuser is Connected.');\n      } else if (type === 'Guider') {\n        this.$bus.$emit('GuiderConnected', 1);\n        console.log('Guider is Connected.');\n      }\n      console.log('updateDevicesConnect: ', type, DeviceName, DriverName, isBind);\n\n      this.$bus.$emit('DeviceConnectSuccess', type, DeviceName, DriverName, isBind);\n    },\n    startConnectBtnPress(event) {\n      // 如果是触摸事件，标记并处理\n      if (event.type === 'touchstart') {\n        this.isTouching = true;\n        this.isConnectBtnLongPress = false; // 重置长按标记\n        // this.ConnectBtnPressTimer = setTimeout(() => {\n        //   this.isConnectBtnLongPress = true; // 标记为长按\n        //   this.handleConnectBtnLongPress();\n        // }, this.ConnectBtnlongPressThreshold);\n        this.handleConnectBtnClick();\n      }\n      // 如果是鼠标事件，且没有正在进行的触摸事件，则处理\n      else if (event.type === 'mousedown' && !this.isTouching) {\n        this.isConnectBtnLongPress = false; // 重置长按标记\n        // this.ConnectBtnPressTimer = setTimeout(() => {\n        //   this.isConnectBtnLongPress = true; // 标记为长按\n        //   this.handleConnectBtnLongPress();\n        // }, this.ConnectBtnlongPressThreshold);\n        this.handleConnectBtnClick();\n      }\n    },\n    endConnectBtnPress(event) {\n      // 如果是触摸事件，处理并重置标记\n      if (event.type === 'touchend') {\n        clearTimeout(this.ConnectBtnPressTimer); // 清除定时器\n        // if (!this.isConnectBtnLongPress) {\n        //   this.handleConnectBtnClick(); // 如果不是长按，则触发点击事件\n        // }\n        this.handleConnectBtnClick();\n        this.ConnectBtnPressTimer = null; // 重置定时器\n        this.isTouching = false; // 重置触摸标记\n      }\n      // 如果是鼠标事件，且没有正在进行的触摸事件，则处理\n      else if (event.type === 'mouseup' && !this.isTouching) {\n        clearTimeout(this.ConnectBtnPressTimer); // 清除定时器\n        // if (!this.isConnectBtnLongPress) {\n        //   this.handleConnectBtnClick(); // 如果不是长按，则触发点击事件\n        // }\n        this.handleConnectBtnClick();\n        this.ConnectBtnPressTimer = null; // 重置定时器\n      }\n    },\n    handleConnectBtnClick() {\n      if (this.haveDeviceConnect) {\n        this.callShowMessageBox('Please disconnect all devices first.', 'error');\n        return;\n      }\n      if (!this.ConnectBtnCanClick) return; // 如果不可点击，直接返回\n      this.ConnectBtnCanClick = false; // 设置为不可点击\n      console.log(\"Connect Button clicked\");\n\n      this.connectAllDevice();\n\n      // 恢复点击权限\n      setTimeout(() => {\n        this.ConnectBtnCanClick = true;\n      }, 1000); // 1秒后恢复\n    },\n    handleConnectBtnLongPress() {\n      if (this.haveDeviceConnect) {\n        this.callShowMessageBox('Please disconnect all devices first.', 'error');\n        return;\n      }\n      // 长按事件的处理\n      console.log(\"Connect Button long pressed\");\n\n      this.autoConnectAllDevice();\n    },\n    connectAllDevice() {\n      console.log(\"QHYCCD | connectAllDevice.\");\n      this.SendConsoleLogMsg('Connect All Device', 'info');\n      this.sendMessage('Vue_Command', 'connectAllDevice');\n      this.loadingConnectAllDevice = true;\n    },\n    autoConnectAllDevice() {\n      console.log(\"QHYCCD | autoConnectAllDevice.\");\n      this.SendConsoleLogMsg('Auto Connect All Device', 'info');\n      this.sendMessage('Vue_Command', 'autoConnectAllDevice');\n      this.loadingConnectAllDevice = true;\n    },\n\n    disconnectAllDevice(confirm) {\n      // 检查是否有设备的 isConnected 属性为 true\n      // const hasConnectedDevices = this.devices.some(device => device.isConnected);\n\n      if (this.haveDeviceConnect) {\n        if (confirm === false) {\n          this.ShowConfirmDialog('Confirm', 'Are you sure you want to disconnect all devices?', 'disconnectAllDevice');\n        } else {\n          this.sendMessage('Vue_Command', 'disconnectAllDevice');\n          this.SendConsoleLogMsg('Disconnect All Device', 'info');\n          this.haveDeviceConnect = false;\n          // this.devices.forEach(device => {\n          //   device.isConnected = false;\n          //   // device.device = '';\n          // });\n\n          this.$bus.$emit('MainCameraConnected', 0);\n          this.$bus.$emit('MountConnected', 0);\n          this.$bus.$emit('CFWConnected', 0);\n          this.$bus.$emit('FocuserConnected', 0);\n          this.$bus.$emit('GuiderConnected', 0);\n          this.clearDeviceList();\n        }\n      } else {\n        this.callShowMessageBox('No devices have been connected.', 'error');\n      }\n      this.selectedDriver = '';\n    },\n\n    clearDeviceList() {\n      this.devices.forEach(device => {\n        device.device = device.driverName;\n        device.isConnected = false;\n        device.isget = false;\n        device.BaudRate = 9600;\n      });\n      this.ToBeConnectDevice = [];\n      this.devicesList = [];\n      this.drivers = [];\n      this.$bus.$emit('clearDeviceAllocationList');\n    },\n\n    SwitchOutPutPower(index, isPowerON) {\n      if (isPowerON) {\n        this.drawer_2 = false;\n        this.ShowConfirmDialog('Output Power:' + index, 'Are you sure you want to turn off this output power?', 'SwitchOutPutPower');\n      } else {\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'SwitchOutPutPower:' + index);\n        this.SendConsoleLogMsg('Switch OutPutPower' + index, 'info');\n      }\n    },\n\n    RestartRaspberryPi() {\n      this.drawer_2 = false;\n      this.ShowConfirmDialog('Restart', 'Are you sure you want to restart the Raspberry Pi?', 'RestartRaspberryPi');\n    },\n\n    ShutdownRaspberryPi() {\n      this.drawer_2 = false;\n      this.ShowConfirmDialog('Shut Down', 'Are you sure you want to shut down the Raspberry Pi?', 'ShutdownRaspberryPi');\n    },\n\n    ForceUpdate() {\n      this.drawer_2 = false;\n      this.ShowConfirmDialog('Force Update', 'Are you sure you want to force update the Raspberry Pi?', 'ForceUpdate');\n    },\n\n    ReturnConnectedDevices() {\n      this.devices.forEach(device => {\n        if (device.driverType === 'MainCamera') {\n          if (device.isConnected === true) {\n            this.$bus.$emit('MainCameraConnected', 1);\n            console.log('MainCamera is Connected.');\n            this.SendConsoleLogMsg('MainCamera is Connected.', 'info');\n          }\n        } else if (device.driverType === 'Mount') {\n          if (device.isConnected === true) {\n            this.$bus.$emit('MountConnected', 1);\n            console.log('Mount is Connected.');\n            this.SendConsoleLogMsg('Mount is Connected.', 'info');\n          }\n        }\n      });\n      this.sendMessage('Vue_Command', 'loadSelectedDriverList');\n      this.sendMessage('Vue_Command', 'loadBindDeviceList');\n      this.sendMessage('Vue_Command', 'loadBindDeviceTypeList');\n      \n    },\n    ReturnCurrentConnectedDevices() {\n      this.$bus.$emit('sendCurrentConnectedDevices',this.devices);\n    },\n\n    OpenIamgeFolder() {\n      this.$bus.$emit('ImageManagerPanelOpen');\n      this.nav = false;\n    },\n\n    OpenDebugLog() {\n      this.$bus.$emit('toggleINDIDebugDialog');\n      this.nav = false;\n    },\n\n    SendConsoleLogMsg(message, type) {\n      if (type == 'error') {\n        console.error('Error: ' + message);\n        this.$bus.$emit('SendConsoleLog', type, message);\n      } else if (type == 'info') {\n        console.log('Info: ' + message);\n        this.$bus.$emit('SendConsoleLog', type, message);\n      } else if (type == 'warning') {\n        console.warn('Warning: ' + message);\n        this.$bus.$emit('SendConsoleLog', type, message);\n      } else {\n        console.log('Debug: ' + message);\n      }\n    },\n\n    DeviceAllocation() {\n      this.$bus.$emit('toggleDeviceAllocationPanel');\n      this.nav = false;\n    },\n\n    // CurrentExpTimeList(index, value) {\n    //   const expTimeIndex = this.MainCameraConfigItems.findIndex(item => item.label === 'ExpTime [' + (index + 1) + ']');\n    //   if (expTimeIndex !== -1) { // 确保找到了对应的配置项\n    //     // 更新 ExpTime1 配置项的值\n    //     this.MainCameraConfigItems[expTimeIndex].value = value;\n    //   } else {\n    //     console.error('ExpTime [' + index + '] configuration item not found.');\n    //   }\n    // },\n\n    CurrentCFWList(index, value) {\n      const expTimeIndex = this.CFWConfigItems.findIndex(item => item.label === 'CFW [' + (index + 1) + ']');\n      if (expTimeIndex !== -1) { // 确保找到了对应的配置项\n        // 更新 ExpTime1 配置项的值\n        this.CFWConfigItems[expTimeIndex].value = value;\n      } else {\n        console.error('CFW [' + index + '] configuration item not found.');\n      }\n    },\n\n    confirmConfiguration(List) {\n      List.forEach(item => {\n        if (item.value !== '') {\n          // console.log(item.label, item.value);\n          this.SendConsoleLogMsg(item.label + ':' + item.value, 'info');\n          this.$bus.$emit(item.label, item.label + ':' + item.value);\n        } else if (item.value == '' && item.label === 'Focal Length (mm)') {\n          this.SendConsoleLogMsg(item.label + 'is NULL', 'info');\n          this.$bus.$emit(item.label, item.label + ':');\n        }\n      });\n      this.callShowMessageBox('Configuration has been modified!', 'success');\n    },\n\n    loadAndDisplayImage(imagePath) {\n      const canvas = document.getElementById('guiderCamera-canvas');\n      // const canvas = document.getElementById('mainCamera-canvas');\n      if (canvas.getContext) {\n        const ctx = canvas.getContext('2d');\n        const img = new Image();\n\n        img.onload = () => {\n          canvas.width = img.width;\n          canvas.height = img.height;\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\n          ctx.drawImage(img, 0, 0);\n          // this.$bus.$emit('showSolveImage', img);\n        };\n\n        // 添加错误处理\n        img.onerror = (error) => {\n          console.log(`加载图像失败: ${imagePath}`);\n          this.SendConsoleLogMsg(`加载图像失败: ${imagePath}`, 'error');\n        };\n\n        img.src = imagePath;\n      }\n    },\n\n    ImageGainSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const doubleValue = parseFloat(value); // 将值转换为 double 类型\n\n      if (signal === 'ImageGainR') {\n        // 处理 ImageGainR 信号\n        this.ImageGainR = doubleValue;\n        this.SendConsoleLogMsg('ImageGainR is set to:' + doubleValue, 'info');\n        this.sendMessage('Vue_Command', 'ImageGainR:' + doubleValue);\n      } else if (signal === 'ImageGainB') {\n        // 处理 ImageGainB 信号\n        this.ImageGainB = doubleValue;\n        this.SendConsoleLogMsg('ImageGainB is set to:' + doubleValue, 'info');\n        this.sendMessage('Vue_Command', 'ImageGainB:' + doubleValue);\n      }\n    },\n\n    ImageOffsetSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const doubleValue = parseFloat(value); // 将值转换为 double 类型\n\n      this.ImageOffset = doubleValue;\n      console.log('Image Offset is set to:', doubleValue);\n      this.SendConsoleLogMsg('Image Offset is set to:' + doubleValue, 'info');\n      this.sendMessage('Vue_Command', 'ImageOffset:' + doubleValue);\n    },\n\n    BinningSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value); // 将值转换为 Int 类型\n      this.cameraBin = IntValue;\n      console.log('Image Binning is set to:', IntValue);\n      this.SendConsoleLogMsg('Image Binning is set to:' + IntValue, 'info');\n      this.sendMessage('Vue_Command', 'SetBinning:' + IntValue);\n      this.$bus.$emit('SetBinningNum', IntValue);\n    },\n\n    GainSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value); // 将值转换为 Int 类型\n\n      console.log('Camera Gain is set to:', IntValue);\n      this.SendConsoleLogMsg('Camera Gain is set to:' + IntValue, 'info');\n      this.sendMessage('Vue_Command', 'SetCameraGain:' + IntValue);\n    },\n\n    OffsetSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value); // 将值转换为 Int 类型\n\n      console.log('Camera Offset is set to:', IntValue);\n      this.SendConsoleLogMsg('Camera Offset is set to:' + IntValue, 'info');\n      this.sendMessage('Vue_Command', 'SetCameraOffset:' + IntValue);\n    },\n\n    ImageCFASet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n\n      // if (['GR', 'GB', 'BG', 'RGGB','null'].includes(value)) {\n      if (['GR', 'GB', 'BG', 'RG', 'GRBG', 'GBRG', 'BGGR', 'RGGB', 'null', ''].includes(value)) {\n        if (value === '') {\n          value = 'null';\n        } else if (value === 'GRBG') {\n          value = 'GR';\n        } else if (value === 'GBRG') {\n          value = 'GB';\n        } else if (value === 'BGGR') {\n          value = 'BG';\n        } else if (value === 'RG') {\n          value = 'RGGB';\n        }\n        this.ImageCFA = value;\n        // console.log('ImageCFA is set to:', value);\n        this.SendConsoleLogMsg('ImageCFA is set to:' + value, 'info');\n        this.sendMessage('Vue_Command', 'ImageCFA:' + value);\n      } else {\n        // console.log(`Invalid value for ImageCFA: '${value}'. Please set it to one of 'GR', 'GB', 'BG', 'RGGB'.`);\n        this.callShowMessageBox(`Invalid value for ImageCFA: '${value}'. Please set it to one of 'GR', 'GB', 'BG', 'RGGB'.`, 'error');\n      }\n    },\n\n    CameraTemperatureSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value); // 将值转换为 Int 类型\n\n      console.log('Camera Temperature is set to:', IntValue);\n      this.SendConsoleLogMsg('Camera Temperature is set to:' + IntValue, 'info');\n      this.sendMessage('Vue_Command', 'SetCameraTemperature:' + IntValue);\n    },\n\n    FocalLengthSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n\n      for (const device of this.devices) {\n        if (device.driverType === 'Telescopes') {\n\n          if (value === '' || value === NaN) {\n            device.device = '';\n            this.SendConsoleLogMsg('Focal Length is set to:' + 0, 'info');\n            this.$bus.$emit('SetFocalLengthNum', '');\n          } else {\n            const IntValue = parseInt(value); // 将值转换为 Int 类型\n            device.device = value + ' mm';\n            this.SendConsoleLogMsg('Focal Length is set to:' + IntValue, 'info');\n            this.$bus.$emit('SetFocalLengthNum', IntValue);\n          }\n        }\n      }\n\n\n    },\n\n    GuiderFocalLengthSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value); // 将值转换为 Int 类型\n\n\n      this.SendConsoleLogMsg('Guider Focal Length is set to:' + IntValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GuiderFocalLength:' + IntValue);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:GuiderFocalLength:' + IntValue);\n    },\n\n    MultiStarGuiderSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      this.SendConsoleLogMsg('Multi Star Guider is set to:' + value, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'MultiStarGuider:' + value);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:MultiStarGuider:' + value);\n    },\n\n    GuiderPixelSizeSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const doubleValue = parseFloat(value);\n      this.SendConsoleLogMsg('Guider Pixel size is set to:' + doubleValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GuiderPixelSize:' + doubleValue);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:GuiderPixelSize:' + doubleValue);\n    },\n\n    GuiderGainSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value);\n      this.SendConsoleLogMsg('Guider Gain is set to:' + IntValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GuiderGain:' + IntValue);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:GuiderGain:' + IntValue);\n    },\n\n    CalibrationDurationSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value);\n      this.SendConsoleLogMsg('Guider Calibration step is set to:' + IntValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'CalibrationDuration:' + IntValue);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:CalibrationDuration:' + IntValue);\n    },\n\n    RaAggressionSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value);\n      this.SendConsoleLogMsg('Ra Aggression is set to:' + IntValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'RaAggression:' + IntValue);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:RaAggression:' + IntValue);\n    },\n\n    DecAggressionSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value);\n      this.SendConsoleLogMsg('Dec Aggression is set to:' + IntValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'DecAggression:' + IntValue);\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'saveToConfigFile:DecAggression:' + IntValue);\n    },\n\n    SyncFocuserStep(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value);\n      this.SendConsoleLogMsg('Sync Focuser Step:' + IntValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'SyncFocuserStep:' + IntValue);\n    },\n    MinLimitSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value);\n      this.SendConsoleLogMsg('Min Limit:' + IntValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'MinLimit:' + IntValue);\n    },\n    MaxLimitSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value);\n      this.SendConsoleLogMsg('Max Limit:' + IntValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'MaxLimit:' + IntValue);\n    },\n    BacklashSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const IntValue = parseInt(value);\n      this.SendConsoleLogMsg('Backlash:' + IntValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'Backlash:' + IntValue);\n    },\n\n    GotoThenSolve(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const BooleanValue = Boolean(value);\n      this.SendConsoleLogMsg('Goto Then Solve:' + BooleanValue, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GotoThenSolve:' + BooleanValue);\n    },\n\n    AutoFlipSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const BooleanValue = Boolean(value);\n      this.SendConsoleLogMsg('Auto Flip:' + BooleanValue, 'info');\n      this.$bus.$emit('SetFlipMode', BooleanValue ? 'auto' : 'manual');  // 同步子组件模式\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'AutoFlip:' + BooleanValue); // 同步到后端\n    },\n\n    sendMountAutoFlip() {\n      const isAutoFlip = this.MountConfigItems.find(item => item.label === 'AutoFlip').value;\n      this.$bus.$emit('SetFlipMode', isAutoFlip ? 'auto' : 'manual');\n    },\n\n    WestMinutesPastMeridianSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const WestMinutesPastMeridian = parseFloat(value);\n      this.SendConsoleLogMsg('Minutes Past Meridian:' + WestMinutesPastMeridian, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'WestMinutesPastMeridian:' + WestMinutesPastMeridian);\n    },\n\n    EastMinutesPastMeridianSet(payload) {\n      const [signal, value] = payload.split(':'); // 拆分信号和值\n      const EastMinutesPastMeridian = parseFloat(value);\n      this.SendConsoleLogMsg('Minutes Past Meridian:' + EastMinutesPastMeridian, 'info');\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'EastMinutesPastMeridian:' + EastMinutesPastMeridian);\n    },\n\n    async readBinFile(fileName, retryCount = 1) {\n      while (this.isDownloadingImage) {\n        await new Promise(resolve => setTimeout(resolve, 1000));\n        if (!this.isWaitingLogged) {\n          this.SendConsoleLogMsg('The image is already being processed. Please wait for the previous process to complete.', 'warning');\n          this.isWaitingLogged = true; // 确保只记录一次等待信息\n        }\n      }\n\n      if (this.isDownloadingImageName === fileName) {\n        this.SendConsoleLogMsg('The image(' + fileName + ') is already processed.', 'info');\n        return;\n      }\n\n      this.isDownloadingImage = true;\n      this.isWaitingLogged = false; // 重置等待日志标志\n      this.SendConsoleLogMsg('CaptureTestTime | Read image(' + fileName + ') data start.', 'info');\n\n      const startTime = new Date();\n      try {\n        // Check if the fileName is valid\n        if (!fileName || typeof fileName !== 'string') {\n          throw new Error('Invalid file name provided');\n        }\n\n        // Fetch with progress tracking\n        const response = await fetch(fileName, { cache: 'no-store' });\n        if (!response.ok) {\n          throw new Error(`Network response was not ok. Status: ${response.status}`);\n        }\n\n        const contentLength = response.headers.get('content-length');\n        if (!contentLength) {\n          throw new Error('Content-Length header is missing');\n        }\n\n        const total = parseInt(contentLength, 10);\n        if (isNaN(total) || total <= 0) {\n          throw new Error('Invalid content-length value');\n        }\n\n        let loaded = 0;\n\n        const reader = response.body.getReader();\n        const stream = new ReadableStream({\n          start: (controller) => {\n            const push = () => {\n              reader.read().then(({ done, value }) => {\n                if (done) {\n                  controller.close();\n                  return;\n                }\n                loaded += value.byteLength;\n                const percent = (loaded / total) * 100;\n                if (Math.round(percent) % 10 === 0) {\n                  // this.SendConsoleLogMsg(`Progress: ${Math.round(percent)}%`, 'info');\n                  this.updateCaptureImageProgress(Math.round(percent));\n                }\n                // this.SendConsoleLogMsg(`当前进度: ${Math.round(percent)}%`, 'info');\n                controller.enqueue(value);\n                push();\n              }).catch(error => {\n                console.error('Stream reading error:', error);\n                this.SendConsoleLogMsg('Stream reading error: ' + error.message, 'error');\n                controller.error(error);\n              });\n            };\n            push();\n          }\n        });\n\n        const newResponse = new Response(stream);\n        const blob = await newResponse.blob();\n\n        // FileReader with progress tracking\n        const fileReader = new FileReader();\n        fileReader.onload = () => {\n          this.ImageArrayBuffer = fileReader.result;\n\n          const endTime = new Date();\n          const elapsedTime = endTime.getTime() - startTime.getTime();\n          this.SendConsoleLogMsg('CaptureTestTime | Read image data end: ' + elapsedTime + ' ms', 'info');\n          if (!this.isPolarAxisMode) {\n            this.callShowMessageBox(`Read image data end: '${elapsedTime}' ms.`, 'info');\n          }\n          this.isDownloadingImageName = fileName;\n          this.processImage(this.ImageArrayBuffer);\n        };\n\n        fileReader.onerror = (error) => {\n          console.error('FileReader error:', error);\n          this.SendConsoleLogMsg('FileReader error: ' + error.message, 'error');\n        };\n\n        fileReader.readAsArrayBuffer(blob);\n      } catch (error) {\n        console.error('There was a problem with the fetch operation:', error);\n        this.SendConsoleLogMsg('There was a problem with the fetch operation: ' + error.message, 'error');\n\n        // 下载失败，重试\n        if (retryCount > 0) {\n          console.log('Retrying download...');\n          this.SendConsoleLogMsg('Retrying download...', 'warning');\n          this.isDownloadingImage = false;\n          this.updateCaptureImageProgress(100);\n          await this.readBinFile(fileName, retryCount - 1);\n        } else {\n          this.SendConsoleLogMsg('Max retries reached. Download failed.', 'error');\n        }\n      } finally {\n        this.isDownloadingImage = false; // 确保在任何情况下都重置状态\n      }\n    },\n\n\n    // async readBinFile(fileName, retryCount = 1) {\n    //   while (this.isDownloadingImage) {\n    //     await new Promise(resolve => setTimeout(resolve, 1000));\n    //     if (!this.isWaitingLogged) {\n    //       this.SendConsoleLogMsg('The image is already being processed. Please wait for the previous process to complete.', 'warning');\n    //       this.isWaitingLogged = true; // 确保只记录一次等待信息\n    //     }\n    //   }\n\n    //   if (this.isDownloadingImageName === fileName) {\n    //     this.SendConsoleLogMsg('The image(' + fileName + ') is already processed.', 'info');\n    //     return;\n    //   }\n\n    //   this.isDownloadingImage = true;\n    //   this.isWaitingLogged = false; // 重置等待日志标志\n    //   this.SendConsoleLogMsg('CaptureTestTime | Read image(' + fileName + ') data start.', 'info');\n\n    //   const startTime = new Date();\n    //   try {\n    //     // Fetch with progress tracking\n    //     const response = await fetch(fileName);\n    //     if (!response.ok) {\n    //       throw new Error('Network response was not ok');\n    //     }\n\n    //     const contentLength = response.headers.get('content-length');\n    //     if (!contentLength) {\n    //       throw new Error('Content-Length header is missing');\n    //     }\n\n    //     const total = parseInt(contentLength, 10);\n    //     let loaded = 0;\n\n    //     const reader = response.body.getReader();\n    //     const stream = new ReadableStream({\n    //       start: (controller) => {\n    //         const push = () => {\n    //           reader.read().then(({ done, value }) => {\n    //             if (done) {\n    //               controller.close();\n    //               return;\n    //             }\n    //             loaded += value.byteLength;\n    //             const percent = (loaded / total) * 100;\n    //             if (Math.round(percent) % 10 === 0) {\n    //               this.SendConsoleLogMsg(`Progress: ${Math.round(percent)}%`,'info');\n    //               this.updateCaptureImageProgress(Math.round(percent));\n    //             }\n    //             controller.enqueue(value);\n    //             push();\n    //           }).catch(error => {\n    //             console.error('Stream reading error:', error);\n    //             controller.error(error);\n    //           });\n    //         };\n    //         push();\n    //       }\n    //     });\n\n    //     const newResponse = new Response(stream);\n    //     const blob = await newResponse.blob();\n\n    //     // FileReader with progress tracking\n    //     const fileReader = new FileReader();\n    //     fileReader.onload = () => {\n    //       this.ImageArrayBuffer = fileReader.result;\n\n    //       const endTime = new Date();\n    //       const elapsedTime = endTime.getTime() - startTime.getTime();\n    //       this.SendConsoleLogMsg('CaptureTestTime | Read image data end: ' + elapsedTime + ' ms', 'info');\n    //       if (!this.isPolarAxisMode) {\n    //         this.callShowMessageBox(`Read image data end: '${elapsedTime}' ms.`, 'info');\n    //       }\n    //       this.isDownloadingImageName = fileName;\n    //       this.processImage(this.ImageArrayBuffer);\n    //     };\n\n    //     fileReader.onerror = (error) => {\n    //       console.error('FileReader error:', error);\n    //       this.SendConsoleLogMsg('FileReader error:' + error, 'error');\n    //     };\n\n    //     fileReader.readAsArrayBuffer(blob);\n    //   } catch (error) {\n    //     console.error('There was a problem with the fetch operation:', error);\n    //     this.SendConsoleLogMsg('There was a problem with the fetch operation:' + error, 'error');\n\n    //     // 下载失败，重试\n    //     if (retryCount > 0) {\n    //       console.log('Retrying download...');\n    //       this.SendConsoleLogMsg('Retrying download...', 'warning');\n    //       this.isDownloadingImage = false;\n    //       this.updateCaptureImageProgress(100);\n    //       await this.readBinFile(fileName, retryCount - 1);\n    //     }\n    //   } finally {\n    //     this.isDownloadingImage = false; // 确保在任何情况下都重置状态\n    //   }\n    // },\n\n    updateCaptureImageProgress(num) {\n      this.$bus.$emit('ShowCaptureImageProgress', num);\n    },\n\n    setImageProportion(value) {\n      this.ImageProportion = value;\n    },\n\n    async processImage(imgArray, histogramMin = -1, histogramMax = -1, options = {}) {\n      let { calculateHistogram = true } = options;\n      this.progressValue = 0;\n      this.progressDescription = this.$i18n.locale === 'cn' ? '开始处理图像...' : 'Processing image...';\n      let mat = null;\n      let targetImg8 = null;\n      let resizeImg = null;\n\n      // 使用setTimeout和Promise创建非阻塞处理\n      const processAsync = (fn) => {\n        return new Promise(resolve => {\n          setTimeout(() => {\n            const result = fn();\n            resolve(result);\n          }, 0);\n        });\n      };\n\n      try {\n        if (!(imgArray instanceof ArrayBuffer) && !ArrayBuffer.isView(imgArray)) {\n          throw new Error(\"Input must be ArrayBuffer or TypedArray\");\n        }\n        let uintArray = new Uint16Array(imgArray);\n\n        if (uintArray.length != parseInt(this.mainCameraSizeY) * parseInt(this.mainCameraSizeX)) {\n          throw new Error(\"Image size mismatch\");\n        }\n        // 创建Mat对象\n        await processAsync(() => {\n          mat = new cv.Mat(parseInt(this.mainCameraSizeY), parseInt(this.mainCameraSizeX), cv.CV_16UC1);\n          mat.data16U.set(uintArray);\n          this.progressValue = 10;\n          this.progressDescription = this.$i18n.locale === 'cn' ? '创建Mat对象...' : 'Creating Mat object...';\n          return true;\n        });\n\n        // 用户自定义参数\n        let CFA = this.ImageCFA;\n        let isColorCamera = false;\n        let mode = 1;\n        let blackLevel, whiteLevel;\n\n        if (histogramMin == -1 && histogramMax == -1) {\n          // 获取自动拉伸参数\n          const result = await processAsync(() => {\n            const res = this.GetAutoStretch(mat, mode);\n            this.progressValue = 20;\n            this.progressDescription = this.$i18n.locale === 'cn' ? '获取自动拉伸参数...' : 'Getting auto stretch parameters...';\n            return res;\n          });\n\n          calculateHistogram = true;\n          // 从结果中提取值\n          blackLevel = result.blackLevel;\n          whiteLevel = result.whiteLevel;\n        } else {\n          blackLevel = histogramMin;  // 现在可以正常工作\n          whiteLevel = histogramMax;  // 现在可以正常工作\n        }\n\n        // 根据CFA设置颜色转换模式\n        if (CFA === 'GR') {\n          isColorCamera = true;\n        } else if (CFA === 'GB') {\n          isColorCamera = true;\n        } else if (CFA === 'BG') {\n          isColorCamera = true;\n        } else if (CFA === 'RGGB') {\n          isColorCamera = true;\n        } else {\n          isColorCamera = false;\n        }\n        console.log(\"当前拍摄参数:isColorCamera:\", isColorCamera, \"CFA:\", CFA);\n        // 计算直方图\n        const analysis = await processAsync(() => {\n          const result = isColorCamera\n            ? this.analyzeImageStatistics(mat, 'bayer', CFA, { calculateGain: this.calculateGain, calculateHistogram: calculateHistogram })\n            : this.analyzeImageStatistics(mat, 'gray', { calculateGain: this.calculateGain, calculateHistogram: calculateHistogram });\n\n          if (this.ImageGainR != 1 || this.ImageGainB != 1 || this.ImageOffset != 0) {\n            result.gainR = this.ImageGainR;\n            result.gainB = this.ImageGainB;\n            result.offset = this.ImageOffset;\n          }\n\n          this.progressValue = 40;\n          this.progressDescription = this.$i18n.locale === 'cn' ? '计算直方图...' : 'Calculating histogram...';\n          return result;\n        });\n\n        if (analysis.histogram) {\n          this.$bus.$emit('showHistogram', analysis.histogram);  // 更新 直方图数据\n          this.$bus.$emit('ChangeDialPosition', blackLevel, whiteLevel);  // 更新直方图的显示轴\n          this.$bus.$emit('AutoHistogramNum', blackLevel, whiteLevel);\n        }\n\n        this.lastImageProcessParams = {\n          blackLevel: blackLevel,\n          whiteLevel: whiteLevel,\n          CFA: CFA,\n          analysis: analysis,\n          isColorCamera: isColorCamera,\n        };\n\n        // 使用增益和拉伸，并转化为8位图像\n        targetImg8 = await processAsync(() => {\n          const result = isColorCamera\n            ? this.applyStretchAndGain(mat, analysis, 'bayer', CFA, blackLevel, whiteLevel)\n            : this.applyStretchAndGain(mat, analysis, 'gray', CFA, blackLevel, whiteLevel);\n\n          // 释放mat\n          if (mat) {\n            mat.delete();\n            mat = null;\n          }\n\n          this.progressValue = 60;\n          this.progressDescription = this.$i18n.locale === 'cn' ? '根据参数处理...' : 'Processing with parameters...';\n          return result;\n        });\n\n        // 根据模式处理图像\n        if (this.isPolarAxisMode) {\n          await processAsync(() => {\n            resizeImg = new cv.Mat();\n            cv.resize(targetImg8, resizeImg, new cv.Size(this.CanvasWidth, this.CanvasHeight), 0, 0, cv.INTER_LINEAR);\n\n            if (targetImg8) {\n              targetImg8.delete();\n              targetImg8 = null;\n            }\n            this.progressValue = 0;\n            return true;\n          });\n\n          this.$bus.$emit('showSolveImage', resizeImg);\n\n          if (resizeImg) {\n            resizeImg.delete();\n            resizeImg = null;\n          }\n        } else {\n          // 转换为ImageData对象\n          const colorData = await processAsync(() => {\n            const data = new ImageData(\n              new Uint8ClampedArray(targetImg8.data),\n              targetImg8.cols,\n              targetImg8.rows\n            );\n\n            if (targetImg8) {\n              targetImg8.delete();\n              targetImg8 = null;\n            }\n            if (resizeImg) {\n              resizeImg.delete();\n              resizeImg = null;\n            }\n            this.progressValue = 80;\n            this.progressDescription = this.$i18n.locale === 'cn' ? '转换为ImageData对象...' : 'Converting to ImageData object...';\n            return data;\n          });\n\n          this.drawImgData = true;\n\n          // 设置缓冲画布\n          await processAsync(() => {\n            this.bufferCanvas.width = colorData.width;\n            this.bufferCanvas.height = colorData.height;\n            this.bufferCtx.putImageData(colorData, 0, 0);\n            this.progressValue = 90;\n            this.progressDescription = this.$i18n.locale === 'cn' ? '绘制缓冲画布图像...' : 'Drawing buffer canvas image...';\n            return true;\n          });\n\n          // 绘制主画布图像\n          this.progressValue = 100;\n          this.progressDescription = this.$i18n.locale === 'cn' ? '绘制主画布图像...' : 'Drawing main canvas image...';\n          this.drawImageData();\n        }\n      } catch (error) {\n        this.handleError('Process image data error', 'processImage', error);\n        this.progressValue = 0;\n        this.progressDescription = '';\n      } finally {\n        this.progressValue = 0;\n        // 确保所有Mat对象都被释放\n        if (mat) {\n          mat.delete();\n          mat = null;\n        }\n        if (targetImg8) {\n          targetImg8.delete();\n          targetImg8 = null;\n        }\n        if (resizeImg) {\n          resizeImg.delete();\n          resizeImg = null;\n        }\n        // 处理后检查内存\n        this.checkMemoryUsage();\n        // 在处理完大量数据后手动请求垃圾回收\n        if (window.gc) {\n          try { window.gc(); } catch (e) { }\n        }\n      }\n    },\n\n\n    /**\n     * 获取自动拉伸参数，返回黑色和白色阈值\n     * @param {cv.Mat} imgMat 输入的图像Mat对象\n     * @param {int} mode 模式\n     * @returns {int，int} 黑色和白色阈值\n     */\n    GetAutoStretch(imgMat, mode) {\n      // 仅支持 Mat 类型输入，并假定为16位图像\n      // 使用 OpenCV 的 meanStdDev 函数直接计算均值和标准差\n      const means = new cv.Mat();\n      const stdDevs = new cv.Mat();\n\n      // 高效计算均值和标准差\n      cv.meanStdDev(imgMat, means, stdDevs);\n\n      // 获取计算结果\n      const mean = means.doubleAt(0, 0);\n      const stdDev = stdDevs.doubleAt(0, 0);\n\n      // 释放临时 Mat 对象\n      means.delete();\n      stdDevs.delete();\n\n      // 根据模式设置标准差倍数\n      let a, b;\n      switch (mode) {\n        case 0: a = 3; b = 5; break;\n        case 1: a = 2; b = 5; break;\n        case 2: a = 3; b = 8; break;\n        default: a = 2; b = 8;\n      }\n\n      // 固定为16位图像处理\n      const maxValue = 65535;\n\n      // 计算黑白点\n      let blackLevel = Math.round(Math.max(0, mean - stdDev * a));\n      let whiteLevel = Math.round(Math.min(maxValue, mean + stdDev * b));\n\n      // 确保 blackLevel < whiteLevel\n      if (blackLevel >= whiteLevel) {\n        blackLevel = whiteLevel - 1;\n      }\n\n      return { blackLevel, whiteLevel };\n    },\n\n    /**\n     * 分析16位图像并计算直方图和白平衡增益\n     * @param {cv.Mat} img16 - 输入的16位图像Mat对象\n     * @param {string} imageType - 图像类型: 'gray'(灰度图) 或 'bayer'(Bayer格式)\n     * @param {string} bayerPattern - Bayer模式，如果imageType为'bayer'则需提供: 'RGGB', 'GR', 'GB', 'BG'\n     * @param {Object} options - 可选参数\n     * @param {number} options.bins - 直方图箱数，默认256\n     * @param {boolean} options.calculateGain - 是否计算白平衡增益参数，默认true\n     * @param {boolean} options.usePercentile - 是否使用百分位计算增益，默认true\n     * @param {number} options.lowPercentile - 下截断百分位，默认1\n     * @param {number} options.highPercentile - 上截断百分位，默认99\n     * @returns {Object} 直方图数据和增益参数\n     */\n    analyzeImageStatistics(img16, imageType, bayerPattern = 'RGGB', options = {}) {\n      // 首先检查输入Mat是否有效\n      if (!img16 || img16.rows <= 0 || img16.cols <= 0) {\n        console.error('无效的图像数据');\n        return {};\n      }\n\n      const { calculateGain = true, calculateHistogram = true } = options;\n      const result = {};\n\n\n      // 设置直方图参数\n      const step = 4;\n\n      // 安全访问函数\n      const safeUshortAt = (mat, y, x) => {\n        if (y >= 0 && y < mat.rows && x >= 0 && x < mat.cols) {\n          try {\n            return mat.ushortAt(y, x);\n          } catch (e) {\n            console.error(`访问位置错误: (${y},${x})`);\n            return 0;\n          }\n        }\n        return 0;\n      };\n\n      // 安全掩码设置（setter）：OpenCV.js 设置像素需使用 ucharPtr 返回的视图再赋值\n      const safeSetMask = (mask, y, x, value) => {\n        if (y >= 0 && y < mask.rows && x >= 0 && x < mask.cols) {\n          try {\n            const ptr = mask.ucharPtr(y, x);\n            if (ptr && ptr.length > 0) ptr[0] = value;\n          } catch (e) {\n            console.error(`设置掩码错误: (${y},${x})`);\n          }\n        }\n      };\n\n      if (imageType === 'gray') {\n        if (calculateHistogram) {\n          // 计算直方图\n          const histData = Array(65536).fill(0);\n          for (let i = 0; i < img16.rows; i += step) {\n            for (let j = 0; j < img16.cols; j += step) {\n              try {\n                histData[safeUshortAt(img16, i, j)]++;\n              } catch (e) {\n                // 忽略错误继续执行\n              }\n            }\n          }\n          result.histogram = histData;\n        }\n      } else if (imageType === 'bayer') {\n        // 确保图像大小足够进行Bayer处理\n        if (img16.rows < 2 || img16.cols < 2) {\n          console.error('图像尺寸过小，无法进行Bayer处理');\n          return {};\n        }\n\n        const rows = img16.rows;\n        const cols = img16.cols;\n\n        // 创建掩码 - 使用稀疏采样\n        const maskR = new cv.Mat(rows, cols, cv.CV_8UC1, new cv.Scalar(0));\n        const maskG = new cv.Mat(rows, cols, cv.CV_8UC1, new cv.Scalar(0));\n        const maskB = new cv.Mat(rows, cols, cv.CV_8UC1, new cv.Scalar(0));\n\n        // 确定采样步长 - 大图像时采用更大步长\n        const sampleStep = Math.max(2, Math.floor(Math.min(rows, cols) / 200) * 2);\n\n        // 确定Bayer模式位置\n        let rOffsets, gOffsets, bOffsets;\n        switch (bayerPattern) {\n          case 'RGGB':\n            rOffsets = [{ y: 0, x: 0 }];\n            gOffsets = [{ y: 0, x: 1 }, { y: 1, x: 0 }];\n            bOffsets = [{ y: 1, x: 1 }];\n            break;\n          case 'GR':\n            gOffsets = [{ y: 0, x: 0 }, { y: 1, x: 1 }];\n            rOffsets = [{ y: 0, x: 1 }];\n            bOffsets = [{ y: 1, x: 0 }];\n            break;\n          case 'GB':\n            gOffsets = [{ y: 0, x: 0 }, { y: 1, x: 1 }];\n            bOffsets = [{ y: 0, x: 1 }];\n            rOffsets = [{ y: 1, x: 0 }];\n            break;\n          case 'BG':\n            bOffsets = [{ y: 0, x: 0 }];\n            gOffsets = [{ y: 0, x: 1 }, { y: 1, x: 0 }];\n            rOffsets = [{ y: 1, x: 1 }];\n            break;\n          default:\n            rOffsets = [{ y: 0, x: 0 }];\n            gOffsets = [{ y: 0, x: 1 }, { y: 1, x: 0 }];\n            bOffsets = [{ y: 1, x: 1 }];\n        }\n\n        // 采样数据用于增益计算\n        const rValues = [];\n        const gValues = [];\n        const bValues = [];\n\n        // 采样设置掩码和收集采样数据\n        for (let y = 0; y < rows; y += sampleStep) {\n          for (let x = 0; x < cols; x += sampleStep) {\n            // 处理红色通道\n            for (const pos of rOffsets) {\n              const py = y + pos.y;\n              const px = x + pos.x;\n              if (py < rows && px < cols && py >= 0 && px >= 0) {\n                try {\n                  safeSetMask(maskR, py, px, 255);\n                  if (calculateGain && y % (sampleStep * 2) === 0 && x % (sampleStep * 2) === 0) {\n                    rValues.push(safeUshortAt(img16, py, px));\n                  }\n                } catch (e) {\n                  console.error(`R通道错误：(${py},${px})`, e);\n                }\n              }\n            }\n\n            // 处理绿色通道\n            for (const pos of gOffsets) {\n              const py = y + pos.y;\n              const px = x + pos.x;\n              if (py < rows && px < cols && py >= 0 && px >= 0) {\n                try {\n                  safeSetMask(maskG, py, px, 255);\n                  if (calculateGain && y % (sampleStep * 2) === 0 && x % (sampleStep * 2) === 0) {\n                    gValues.push(safeUshortAt(img16, py, px));\n                  }\n                } catch (e) {\n                  console.error(`G通道错误：(${py},${px})`, e);\n                }\n              }\n            }\n\n            // 处理蓝色通道\n            for (const pos of bOffsets) {\n              const py = y + pos.y;\n              const px = x + pos.x;\n              if (py < rows && px < cols && py >= 0 && px >= 0) {\n                try {\n                  safeSetMask(maskB, py, px, 255);\n                  if (calculateGain && y % (sampleStep * 2) === 0 && x % (sampleStep * 2) === 0) {\n                    bValues.push(safeUshortAt(img16, py, px));\n                  }\n                } catch (e) {\n                  console.error(`B通道错误：(${py},${px})`, e);\n                }\n              }\n            }\n          }\n        }\n\n        if (calculateHistogram) {\n          // 计算三个通道的直方图\n          const histDataR = Array(65536).fill(0);\n          const histDataG = Array(65536).fill(0);\n          const histDataB = Array(65536).fill(0);\n\n          // 确保安全访问\n          const maxRows = rows - 1;\n          const maxCols = cols - 1;\n\n          for (let i = 0; i < maxRows; i += 2) {\n            for (let j = 0; j < maxCols; j += 2) {\n              try {\n                if (bayerPattern === 'RGGB') {\n                  histDataR[safeUshortAt(img16, i, j)]++;\n                  const g1 = safeUshortAt(img16, i + 1, j);\n                  const g2 = safeUshortAt(img16, i, j + 1);\n                  histDataG[Math.floor((g1 + g2) / 2)]++;\n                  histDataB[safeUshortAt(img16, i + 1, j + 1)]++;\n                } else if (bayerPattern === 'GR') {\n                  const g1 = safeUshortAt(img16, i, j);\n                  const g2 = safeUshortAt(img16, i + 1, j + 1);\n                  histDataG[Math.floor((g1 + g2) / 2)]++;\n                  histDataR[safeUshortAt(img16, i + 1, j)]++;\n                  histDataB[safeUshortAt(img16, i, j + 1)]++;\n                } else if (bayerPattern === 'GB') {\n                  const g1 = safeUshortAt(img16, i, j);\n                  const g2 = safeUshortAt(img16, i + 1, j + 1);\n                  histDataG[Math.floor((g1 + g2) / 2)]++;\n                  histDataB[safeUshortAt(img16, i + 1, j)]++;\n                  histDataR[safeUshortAt(img16, i, j + 1)]++;\n                } else if (bayerPattern === 'BG') {\n                  histDataB[safeUshortAt(img16, i, j)]++;\n                  const g1 = safeUshortAt(img16, i + 1, j);\n                  const g2 = safeUshortAt(img16, i, j + 1);\n                  histDataG[Math.floor((g1 + g2) / 2)]++;\n                  histDataR[safeUshortAt(img16, i + 1, j + 1)]++;\n                }\n              } catch (e) {\n                console.error(`直方图计算错误：(${i},${j})`, e);\n              }\n            }\n          }\n          result.histogram = [histDataR, histDataG, histDataB];\n        }\n\n        // 计算白平衡增益参数 - 使用快速中位数近似法\n        if (calculateGain && rValues.length > 0 && gValues.length > 0 && bValues.length > 0) {\n          try {\n            // 快速计算中位数而非排序全部数组\n            const rMean = this.truncatedMean(rValues);\n            const gMean = this.truncatedMean(gValues);\n            const bMean = this.truncatedMean(bValues);\n\n            // 计算增益\n            const gainR = Math.min(Math.max(gMean / rMean, 0.1), 2);\n            const gainB = Math.min(Math.max(gMean / bMean, 0.1), 2);\n\n            result.whiteBalance = {\n              gainR: gainR,\n              gainB: gainB\n            };\n          } catch (e) {\n            console.error(\"白平衡增益计算错误\", e);\n            result.whiteBalance = { gainR: 1.0, gainB: 1.0 };\n          }\n        }\n\n        // 释放资源\n        try {\n          maskR.delete();\n          maskG.delete();\n          maskB.delete();\n        } catch (e) {\n          console.error(\"释放资源错误\", e);\n        }\n      }\n\n      return result;\n    },\n\n    /**\n     * 使用截断均值计算 - 去除上下一定比例的极值后计算平均值\n     * @param {Array} arr - 输入数据数组\n     * @param {number} lowerPercent - 下截断百分比，默认5%\n     * @param {number} upperPercent - 上截断百分比，默认5%\n     * @returns {number} 截断均值\n     */\n    truncatedMean(arr, lowerPercent = 5, upperPercent = 5) {\n      if (arr.length === 0) return 0;\n\n      // 过滤极端黑点和过饱和点\n      const filtered = arr.filter(v => v > 100 && v < 65000);\n      if (filtered.length === 0) return arr.length > 0 ? arr[0] : 0;\n\n      // 对于特别大的数组，采样处理\n      let workingArray = filtered;\n      if (filtered.length > 10000) {\n        workingArray = [];\n        const step = Math.ceil(filtered.length / 5000);\n        for (let i = 0; i < filtered.length; i += step) {\n          workingArray.push(filtered[i]);\n        }\n      }\n\n      // 排序数组\n      workingArray.sort((a, b) => a - b);\n\n      // 计算截断点\n      const lowerCutoff = Math.floor(workingArray.length * (lowerPercent / 100));\n      const upperCutoff = Math.floor(workingArray.length * (1 - upperPercent / 100));\n\n      // 获取截断后的子数组\n      const truncated = workingArray.slice(lowerCutoff, upperCutoff);\n\n      // 计算平均值\n      if (truncated.length === 0) return workingArray[Math.floor(workingArray.length / 2)];\n\n      const sum = truncated.reduce((acc, val) => acc + val, 0);\n      return sum / truncated.length;\n    },\n    /**\n     * 快速计算中位数 - 使用随机选择算法\n     */\n    quickMedian(arr) {\n      if (arr.length === 0) return 0;\n      if (arr.length < 100) {\n        // 小数组直接排序\n        const sortedArr = [...arr].sort((a, b) => a - b);\n        return sortedArr[Math.floor(sortedArr.length / 2)];\n      }\n\n      // 大数组随机采样\n      const samples = [];\n      for (let i = 0; i < 100; i++) {\n        samples.push(arr[Math.floor(Math.random() * arr.length)]);\n      }\n      samples.sort((a, b) => a - b);\n      return samples[50]; // 返回采样的中位数\n    },\n\n    /**\n     * 应用白平衡和亮度拉伸，将16位图像转换为8位图像\n     * @param {cv.Mat} img16 - 输入的16位图像Mat对象\n     * @param {Object} analysis - 从analyzeImageStatistics获取的分析结果\n     * @param {string} imageType - 图像类型: 'gray'(灰度图) 或 'bayer'(彩色相机)\n     * @param {string} bayerPattern - Bayer模式，仅当imageType为'bayer'时需要\n     * @param {Object} stretchParams - 手动指定拉伸参数，可选\n     * @param {number} stretchParams.blackLevel - 黑点值 \n     * @param {number} stretchParams.whiteLevel - 白点值\n     * @returns {cv.Mat} 处理后的8位RGBA图像\n     */\n    applyStretchAndGain(img16, analysis, imageType, bayerPattern = 'RGGB', blackLevel, whiteLevel) {\n      // 确保黑点小于白点\n      if (blackLevel >= whiteLevel) {\n        blackLevel = whiteLevel - 1;\n      }\n\n      // 计算转换比例和偏移\n      const scale = 255.0 / (whiteLevel - blackLevel);\n      const offset = -blackLevel * scale;\n\n      if (imageType === 'gray') {\n        // 单色相机 - 一步转换到8位RGBA\n        const rgbaImg = new cv.Mat();\n        const gray8 = new cv.Mat();\n\n        img16.convertTo(gray8, cv.CV_8U, scale, offset);\n        cv.cvtColor(gray8, rgbaImg, cv.COLOR_GRAY2RGBA);\n        gray8.delete();\n\n        return rgbaImg;\n      } else {\n        // 彩色相机处理\n        let gainR = 1.0, gainB = 1.0;\n        if (analysis && analysis.whiteBalance) {\n          gainR = analysis.whiteBalance.gainR;\n          gainB = analysis.whiteBalance.gainB;\n        }\n\n        // 使用LUT优化白平衡和拉伸\n        // 1. 创建三个LUT表\n        const { lutR, lutG, lutB } = this.getLUT(blackLevel, whiteLevel, gainR, gainB);\n\n        // 3. 创建8位输出图像\n        const img8 = new cv.Mat(img16.rows, img16.cols, cv.CV_8UC1);\n\n        // 4. 使用LUT应用白平衡和拉伸\n        // 为避免像素遍历，我们使用更高效的方式\n        const rows = img16.rows;\n        const cols = img16.cols;\n        const data8 = img8.data;\n\n        // 确定Bayer模式的位置\n        let rOffsets, gOffsets, bOffsets;\n        switch (bayerPattern) {\n          case 'RGGB':\n            rOffsets = [{ y: 0, x: 0 }];\n            gOffsets = [{ y: 0, x: 1 }, { y: 1, x: 0 }];\n            bOffsets = [{ y: 1, x: 1 }];\n            break;\n          case 'GR':\n            gOffsets = [{ y: 0, x: 0 }, { y: 1, x: 1 }];\n            rOffsets = [{ y: 0, x: 1 }];\n            bOffsets = [{ y: 1, x: 0 }];\n            break;\n          case 'GB':\n            gOffsets = [{ y: 0, x: 0 }, { y: 1, x: 1 }];\n            bOffsets = [{ y: 0, x: 1 }];\n            rOffsets = [{ y: 1, x: 0 }];\n            break;\n          case 'BG':\n            bOffsets = [{ y: 0, x: 0 }];\n            gOffsets = [{ y: 0, x: 1 }, { y: 1, x: 0 }];\n            rOffsets = [{ y: 1, x: 1 }];\n            break;\n          default:\n            rOffsets = [{ y: 0, x: 0 }];\n            gOffsets = [{ y: 0, x: 1 }, { y: 1, x: 0 }];\n            bOffsets = [{ y: 1, x: 1 }];\n        }\n\n        // 使用TypedArray方式处理 - 比逐个像素处理更快\n        const data16U = img16.data16U;\n\n        // 使用Bayer掩码创建转换LUT，批量处理\n        for (let y = 0; y < rows; y += 2) {\n          for (let x = 0; x < cols; x += 2) {\n            // 处理2x2块\n            // R位置\n            for (const pos of rOffsets) {\n              const idx = (y + pos.y) * cols + (x + pos.x);\n              if (idx < data16U.length) {\n                data8[idx] = lutR[data16U[idx]];\n              }\n            }\n\n            // G位置\n            for (const pos of gOffsets) {\n              const idx = (y + pos.y) * cols + (x + pos.x);\n              if (idx < data16U.length) {\n                data8[idx] = lutG[data16U[idx]];\n              }\n            }\n\n            // B位置\n            for (const pos of bOffsets) {\n              const idx = (y + pos.y) * cols + (x + pos.x);\n              if (idx < data16U.length) {\n                data8[idx] = lutB[data16U[idx]];\n              }\n            }\n          }\n        }\n\n        // 5. 将8位单通道转为RGBA\n        const rgbaImg = new cv.Mat();\n        let cvmode;\n        switch (bayerPattern) {\n          case 'RGGB': cvmode = cv.COLOR_BayerRG2RGBA; break;\n          case 'GR': cvmode = cv.COLOR_BayerGR2RGBA; break;\n          case 'GB': cvmode = cv.COLOR_BayerGB2RGBA; break;\n          case 'BG': cvmode = cv.COLOR_BayerBG2RGBA; break;\n          default: cvmode = cv.COLOR_GRAY2RGBA;\n        }\n\n        cv.cvtColor(img8, rgbaImg, cvmode);\n        img8.delete();\n\n        return rgbaImg;\n      }\n    },\n    /**\n     * 获取或计算LUT表\n     * @param {number} blackLevel - 黑点值\n     * @param {number} whiteLevel - 白点值\n     * @param {number} gainR - 红色增益\n     * @param {number} gainB - 蓝色增益\n     * @returns {Object} 包含LUT表的Object\n     */\n    getLUT(blackLevel, whiteLevel, gainR, gainB) {\n      // 创建当前参数的快照\n      const currentParams = `${blackLevel}_${whiteLevel}_${gainR}_${gainB}`;\n\n      // 如果参数未变化，直接返回缓存的LUT表\n      if (this.lutCache.lastParams === currentParams &&\n        this.lutCache.lutR && this.lutCache.lutG && this.lutCache.lutB) {\n        return {\n          lutR: this.lutCache.lutR,\n          lutG: this.lutCache.lutG,\n          lutB: this.lutCache.lutB\n        };\n      }\n\n      // 参数变化，需要重新计算LUT表\n      console.log('重新计算LUT表');\n\n      // 计算转换比例\n      const scale = 255.0 / (whiteLevel - blackLevel);\n\n      // 创建LUT表\n      const lutR = this.lutCache.lutR || new Uint8Array(65536);\n      const lutG = this.lutCache.lutG || new Uint8Array(65536);\n      const lutB = this.lutCache.lutB || new Uint8Array(65536);\n\n      // 计算LUT表\n      for (let i = 0; i < 65536; i++) {\n        lutR[i] = Math.min(255, Math.max(0, Math.round((i * gainR - blackLevel) * scale)));\n        lutG[i] = Math.min(255, Math.max(0, Math.round((i - blackLevel) * scale)));\n        lutB[i] = Math.min(255, Math.max(0, Math.round((i * gainB - blackLevel) * scale)));\n      }\n\n      // 更新缓存\n      this.lutCache.lastParams = currentParams;\n      this.lutCache.lutR = lutR;\n      this.lutCache.lutG = lutG;\n      this.lutCache.lutB = lutB;\n\n      return { lutR, lutG, lutB };\n    },\n    // checkImageData(img) {\n    //   // 检查是否为 cv.Mat 类型\n    //   if (!(img instanceof cv.Mat)) {\n    //     this.SendConsoleLogMsg('The image is not a valid cv.Mat object.', 'error');\n    //     return false;\n    //   }\n\n    //   // 检查图像是否为空\n    //   if (img.empty()) {\n    //     this.SendConsoleLogMsg('The image is empty.', 'error');\n    //     return false;\n    //   }\n\n    //   // 检查图像深度是否为 8 位或 16 位\n    //   const depth = img.type() & cv.CV_MAT_DEPTH_MASK;\n    //   if (depth !== cv.CV_8U && depth !== cv.CV_16U) {\n    //     this.SendConsoleLogMsg('The image depth is not 8-bit or 16-bit.', 'error');\n    //     return false;\n    //   }\n\n    //   // 检查图像尺寸是否合理\n    //   if (img.rows <= 0 || img.cols <= 0) {\n    //     this.SendConsoleLogMsg('The image dimensions are not valid.', 'error');\n    //     return false;\n    //   }\n\n    //   // 检查图像数据是否超出范围或全为0\n    //   const data = img.data;\n    //   let isAllZero = true;\n    //   const maxValue = depth === cv.CV_8U ? 255 : 65535;\n\n    //   for (let i = 0; i < data.length; i++) {\n    //     if (data[i] < 0 || data[i] > maxValue) {\n    //       this.SendConsoleLogMsg('The image data contains out-of-range values.', 'error');\n    //       return false;\n    //     }\n    //     if (data[i] !== 0) {\n    //       isAllZero = false;\n    //     }\n    //   }\n\n    //   if (isAllZero) {\n    //     this.SendConsoleLogMsg('The image data is all zero.', 'error');\n    //     return false;\n    //   }\n    //   return true;\n    // },\n\n\n    // processImage(imgArray) {\n    //   this.progressValue = 0;\n    //   try {\n    //     if (!(imgArray instanceof ArrayBuffer) && !ArrayBuffer.isView(imgArray)) {\n    //       throw new Error(\"Input must be ArrayBuffer or TypedArray\");\n    //     }\n    //     const totalStartTime = new Date(); // 总开始时间\n\n    //     this.SendConsoleLogMsg('CaptureTestTime | Process image data start.', 'info');\n    //     const startTime = new Date();\n    //     let img_bit = -1;\n    //     let uintArray;\n    //     if (imgArray.byteLength === this.mainCameraSizeX * this.mainCameraSizeY * 2 ){\n    //       uintArray = new Uint16Array(imgArray);\n    //       img_bit = 16;\n    //     }else if(imgArray.byteLength === this.mainCameraSizeX * this.mainCameraSizeY){\n    //       uintArray = new Uint8Array(imgArray);\n    //       img_bit = 8;\n    //     }else{\n    //       this.SendConsoleLogMsg(`Image data is underfind bit`, 'error');\n    //       return;\n    //     }\n\n    //     this.SendConsoleLogMsg(`Image data detected as ${img_bit}-bit.`, 'info');\n\n\n\n    //     // 设置画布宽高常量\n    //     const canvasWidth = parseInt(this.mainCameraSizeX);\n    //     const canvasHeight = parseInt(this.mainCameraSizeY);\n\n    //     // 获取原始画布和修改后的画布以及对应上下文\n    //     const modifiedCanvas = document.getElementById('mainCamera-canvas');\n    //     const modifiedCtx = modifiedCanvas.getContext('2d');\n\n\n\n    //     modifiedCanvas.width = canvasWidth;\n    //     modifiedCanvas.height = canvasHeight;\n\n    //     let mat;\n    //     if (img_bit === 16){\n    //       mat = new cv.Mat(canvasHeight, canvasWidth, cv.CV_16UC1);\n    //       mat.data16U.set(uintArray);\n    //     }else{\n    //       mat = new cv.Mat(canvasHeight, canvasWidth, cv.CV_8UC1);\n    //       mat.data.set(uintArray);\n    //     }\n    //     this.progressValue = 10;\n\n    //     const matEndTime = new Date(); // mat 结束时间\n    //     this.SendConsoleLogMsg('CaptureTestTime | Mat creation time: ' + (matEndTime.getTime() - startTime.getTime()) + ' ms', 'info');\n\n    //     // 用户自定义参数\n    //     let gainR = this.ImageGainR;\n    //     let gainB = this.ImageGainB;\n    //     let offset = this.ImageOffset;\n    //     let CFA = this.ImageCFA;\n    //     let mode = 1;\n\n    //     // 参数\n    //     let B = 0;\n    //     let W = 65535;\n    //     let cvmode = 0;\n\n    //     const { blackLevel, whiteLevel } = this.GetAutoStretch(uintArray, mode, img_bit);\n    //     B = blackLevel;\n    //     W = whiteLevel;\n    //     this.progressValue = 30;\n    //     const GetAutoStretchEndTime = new Date(); // GetAutoStretch 结束时间\n    //     this.SendConsoleLogMsg('CaptureTestTime | GetAutoStretch time: ' + (GetAutoStretchEndTime.getTime() - matEndTime.getTime()) + ' ms', 'info');\n\n    //     // 根据CFA设置颜色转换模式\n    //     if (CFA === 'GR') {\n    //       cvmode = cv.COLOR_BayerGR2RGBA;\n    //     } else if (CFA === 'GB') {\n    //       cvmode = cv.COLOR_BayerGB2RGBA;\n    //     } else if (CFA === 'BG') {\n    //       cvmode = cv.COLOR_BayerBG2RGBA;\n    //     } else if (CFA === 'RGGB') {\n    //       cvmode = cv.COLOR_BayerRG2RGBA;\n    //     }else{\n    //       cvmode = cv.COLOR_GRAY2RGBA\n    //     }\n\n    //     // 对目标图像进行颜色转换\n    //     let dst = new cv.Mat();\n\n    //     try {\n    //       cv.cvtColor(mat, dst, cvmode);\n    //     } catch (error) {\n    //       this.handleError('cvtColor 出错', 'cvtColor', error);\n    //       mat.delete();\n    //       return;\n    //     }\n\n    //     this.progressValue = 50;\n\n    //     const cvtColorEndTime = new Date(); // cvtColor 结束时间\n    //     this.SendConsoleLogMsg('CaptureTestTime | cvtColor time: ' + (cvtColorEndTime.getTime() - GetAutoStretchEndTime.getTime()) + ' ms', 'info');\n\n    //     mat.delete();\n\n    //     // 调整图像大小\n    //     // cv.resize(dst, resizeImg, new cv.Size(this.CanvasWidth, this.CanvasHeight), 0, 0, cv.INTER_LINEAR);\n    //     // dst.delete();\n\n    //     // let originalImg8 = this.Bit16To8_Stretch(resizeImg, B, W);\n    //     // resizeImg.delete();\n\n    //     let resizeImg = new cv.Mat(); // 用来存储调整后的图像\n    //     if (this.isPolarAxisMode) {\n    //       this.progressValue = 0;\n    //       // 调整图像大小\n    //       cv.resize(dst, resizeImg, new cv.Size(this.CanvasWidth, this.CanvasHeight), 0, 0, cv.INTER_LINEAR);\n    //       dst.delete();\n\n    //       let originalImg8;\n    //       if (img_bit === 16){\n    //         originalImg8 = this.Bit16To8_Stretch(resizeImg, B, W);\n    //       }else{\n    //         originalImg8 = resizeImg;\n    //       }\n\n    //       resizeImg.delete();\n\n    //       const Bit16To8_StretchEndTime = new Date(); // Bit16To8_Stretch 结束时间\n    //       this.SendConsoleLogMsg('CaptureTestTime | Bit16To8_Stretch time: ' + (Bit16To8_StretchEndTime.getTime() - GetAutoStretchEndTime.getTime()) + ' ms', 'info');\n\n    //       let targetImg8 = this.ImageSoftAWB(originalImg8, gainR, gainB, offset);\n    //       this.$bus.$emit('showSolveImage', targetImg8);\n\n    //       const ImageSoftAWBEndTime = new Date(); // ImageSoftAWB 结束时间\n    //       this.SendConsoleLogMsg('CaptureTestTime | ImageSoftAWB time: ' + (ImageSoftAWBEndTime.getTime() - Bit16To8_StretchEndTime.getTime()) + ' ms', 'info');\n    //     } else {\n    //       modifiedCtx.clearRect(0, 0, modifiedCanvas.width, modifiedCanvas.height);\n    //       cv.resize(dst, resizeImg, new cv.Size(this.CanvasWidth, this.CanvasHeight), 0, 0, cv.INTER_LINEAR);\n    //       this.progressValue = 70;\n    //       let originalResizeImg8 = this.Bit16To8_Stretch(resizeImg, B, W);\n    //       this.OriginalImage = new ImageData(new Uint8ClampedArray(originalResizeImg8.data), originalResizeImg8.cols, originalResizeImg8.rows);\n    //       resizeImg.delete();\n    //       originalResizeImg8.delete();\n    //       console.log('dst.data.length: ', dst.data.length);\n    //       console.log('dst.cols: ', dst.cols);\n    //       console.log('dst.rows: ', dst.rows);\n    //       let originalImg8 = this.Bit16To8_Stretch(dst, B, W);\n    //       dst.delete();\n    //       this.progressValue = 80;\n\n    //       const Bit16To8_StretchEndTime = new Date(); // Bit16To8_Stretch 结束时间\n    //       this.SendConsoleLogMsg('CaptureTestTime | Bit16To8_Stretch time: ' + (Bit16To8_StretchEndTime.getTime() - GetAutoStretchEndTime.getTime()) + ' ms', 'info');\n\n    //       // let targetImg8 = this.ImageSoftAWB(originalImg8, gainR, gainB, offset);\n\n    //       // const ImageSoftAWBEndTime = new Date(); // ImageSoftAWB 结束时间\n    //       // this.SendConsoleLogMsg('CaptureTestTime | ImageSoftAWB time: ' + (ImageSoftAWBEndTime.getTime() - Bit16To8_StretchEndTime.getTime()) + ' ms', 'info');\n\n    //       // originalImg8.delete();\n\n    //       this.lastImageProcessParams = {\n    //         gainR: gainR,\n    //         gainB: gainB,\n    //         offset: offset,\n    //         CFA: CFA,\n    //         mode: mode,\n    //         B: B,\n    //         W: W,\n    //         cvmode: cvmode,\n    //       };\n\n    //       modifiedCanvas.width = this.CanvasWidth;\n    //       modifiedCanvas.height = this.CanvasHeight;\n    //       let colorData = new ImageData(new Uint8ClampedArray(originalImg8.data), originalImg8.cols, originalImg8.rows);\n    //       originalImg8.delete();\n    //       this.drawImgData = colorData;\n    //       this.progressValue = 90;\n    //       // 设置缓冲画布宽高\n    //       this.bufferCanvas.width = colorData.width;\n    //       this.bufferCanvas.height = colorData.height;\n    //       // 绘制缓存画布图像\n    //       this.bufferCtx.putImageData(colorData, 0, 0);\n    //       // 绘制主画布图像\n    //       this.drawImageData();\n    //       this.progressValue = 100;\n    //       const DrawImageDataEndTime = new Date(); // DrawImageData 结束时间\n    //       this.SendConsoleLogMsg('CaptureTestTime | DrawImageData time: ' + (DrawImageDataEndTime.getTime() - Bit16To8_StretchEndTime.getTime()) + ' ms', 'info');\n\n    //       const endTime = new Date();\n    //       const elapsedTime = endTime.getTime() - startTime.getTime();\n    //       this.SendConsoleLogMsg('CaptureTestTime | Process image data end:' + elapsedTime + ' milliseconds', 'info');\n\n    //       const totalEndTime = new Date(); // 总结束时间\n    //       this.SendConsoleLogMsg('CaptureTestTime | Total process image data time: ' + (totalEndTime.getTime() - totalStartTime.getTime()) + ' ms', 'info');\n\n    //       this.$bus.$emit('showCaptureImage');\n    //       this.MakeHistogram(colorData);\n    //       this.histogramImage = colorData;\n\n    //       const checkDetectedStarsFinish = () => {\n    //         if (this.DetectedStarsFinish) {\n    //           this.detectStarsImg = this.DrawDetectStars(targetImg8, this.DetectedStarsList);\n    //           targetImg8.delete();\n    //           clearInterval(intervalId);\n    //         }\n    //       };\n\n    //       const intervalId = setInterval(checkDetectedStarsFinish, 1000);\n    //     }\n\n    //     // if (this.isNotDrawStars) {\n    //     //   this.drawImageData(this.drawImgData);\n    //     // } else {\n    //     //   if (this.detectStarsImg != null) {\n    //     //     this.drawImageData(this.detectStarsImg);\n    //     //   } else {\n    //     //     this.drawImageData(this.drawImgData);\n    //     //   }\n    //     // }\n\n    //     // const windowWidth = window.innerWidth;\n    //     // const windowHeight = window.innerHeight;\n\n    //     // const minTranslateX = this.imageWidth - this.CanvasWidth;\n    //     // const minTranslateY = this.imageHeight - this.CanvasHeight;\n\n    //     // 计算初始的 ScaleImageSize_X 和 ScaleImageSize_Y\n    //     // this.ScaleImageSize_X = Math.floor(minTranslateX / this.CanvasWidth * windowWidth + windowWidth);\n    //     // this.ScaleImageSize_Y = Math.floor(minTranslateY / this.CanvasHeight * windowHeight + windowHeight);\n\n    //     // this.$bus.$emit('ScaleImageSize', this.ScaleImageSize_X, this.ScaleImageSize_Y);\n\n    //   } catch (error) {\n    //     this.handleError('Process image data error', 'processImage', error);\n    //     if (mat) {\n    //       mat.delete();\n    //     }\n    //     if (resizeImg) {\n    //       resizeImg.delete();\n    //     }\n    //     if (originalImg8) {\n    //       originalImg8.delete();\n    //     }\n    //     if (targetImg8) {\n    //       targetImg8.delete();\n    //     }\n    //   }\n    // },\n\n    // histogramStretch(imageData, min, max) {\n    //   const startTime = new Date();\n    //   // Convert ImageData to cv.Mat\n    //   const image = cv.matFromImageData(imageData);\n    //   let Time1 = new Date();\n    //   this.SendConsoleLogMsg('histogramStretch | 转换图像数据时间: ' + (Time1.getTime() - startTime.getTime()) + ' ms', 'info');\n    //   // Perform the histogram stretch\n    //   const channels = new cv.MatVector();\n    //   cv.split(image, channels); // Split channels (BGR) into separate Mat objects\n    //   let Time2 = new Date();\n    //   this.SendConsoleLogMsg('histogramStretch | 分割通道时间: ' + (Time2.getTime() - Time1.getTime()) + ' ms', 'info');\n    //   // Calculate alpha and beta for each channel\n    //   let alpha = 255.0 / (max - min);\n    //   let beta = -min * alpha;\n\n    //   if (alpha < 0) {\n    //     alpha = 0;\n    //     beta = 0;\n    //   } else if (alpha > 255) {\n    //     alpha = 255;\n    //     beta = 0;\n    //   }\n    //   Time1 = new Date();\n    //   this.SendConsoleLogMsg('histogramStretch | 计算alpha和beta时间: ' + (Time1.getTime() - Time2.getTime()) + ' ms', 'info');\n    //   // Iterate over each channel and apply histogram stretching\n    //   for (let i = 0; i < channels.size(); i++) {\n    //     let channel = channels.get(i);\n\n\n    //     // Apply histogram stretching to the channel\n    //     channel.convertTo(channel, -1, alpha, beta);\n\n    //     // Release the memory of channel\n    //     channel.delete();\n    //   }\n    //   Time2 = new Date();\n    //   this.SendConsoleLogMsg('histogramStretch | 各通道拉伸时间: ' + (Time2.getTime() - Time1.getTime()) + ' ms', 'info');\n    //   // Merge the channels back into a single image\n    //   const stretchImage = new cv.Mat();\n    //   cv.merge(channels, stretchImage);\n    //   Time1 = new Date();\n    //   this.SendConsoleLogMsg('histogramStretch | 合并通道时间: ' + (Time1.getTime() - Time2.getTime()) + ' ms', 'info');\n    //   // Release the memory of channels and MatVector\n    //   channels.delete();\n\n    //   // Convert cv.Mat back to ImageData\n    //   const stretchedImageData = new ImageData(new Uint8ClampedArray(stretchImage.data), stretchImage.cols, stretchImage.rows);\n    //   Time2 = new Date();\n    //   this.SendConsoleLogMsg('histogramStretch | 转换图像数据时间: ' + (Time2.getTime() - Time1.getTime()) + ' ms', 'info');\n    //   // Clean up\n    //   image.delete();\n    //   stretchImage.delete();\n    //   Time1 = new Date();\n    //   this.SendConsoleLogMsg('histogramStretch | 释放内存时间: ' + (Time1.getTime() - Time2.getTime()) + ' ms', 'info');\n    //   this.SendConsoleLogMsg('histogramStretch | 总时间: ' + (Time1.getTime() - startTime.getTime()) + ' ms', 'info');\n    //   return stretchedImageData;\n    // },\n\n    histogramStretch(imageData, min, max) {\n      if (max < min) {\n        this.SendConsoleLogMsg('histogramStretch | max < min, return original imageData', 'warning');\n        max = min;\n      }\n      const startTime = new Date();\n      // Calculate alpha and beta\n      let alpha = 255.0 / (max - min);\n      let beta = -min * alpha;\n\n      if (alpha < 0) {\n        alpha = 0;\n        beta = 0;\n      } else if (alpha > 255) {\n        alpha = 255;\n        beta = 0;\n      }\n\n      // Apply histogram stretching directly on ImageData\n      for (let i = 0; i < imageData.data.length; i += 4) {\n        for (let j = 0; j < 3; j++) { // For each color channel\n          let value = imageData.data[i + j];\n          value = value * alpha + beta;\n          imageData.data[i + j] = Math.max(0, Math.min(255, value));\n        }\n      }\n\n      const endTime = new Date();\n      this.SendConsoleLogMsg('histogramStretch | 总时间: ' + (endTime.getTime() - startTime.getTime()) + ' ms', 'info');\n      return imageData;\n    },\n    localWhiteBalanceAdjustment(imageData, gainR, gainB, offset) {\n      // 分离通道\n      let value;\n      for (let i = 0; i < imageData.data.length; i += 4) {\n        for (let j = 0; j < 3; j++) { // For each color channel\n          if (j == 0) {\n            value = imageData.data[i + j];\n            value = value * gainB + offset;\n          } else if (j == 2) {\n            value = imageData.data[i + j];\n            value = value * gainR + offset;\n          } else {\n            value = imageData.data[i + j];\n            value = value * 1 + offset;\n          }\n          imageData.data[i + j] = Math.max(0, Math.min(255, value));\n        }\n      }\n\n\n      return imageData;\n    },\n\n    initCanvas() {\n      this.bufferCanvas = document.createElement('canvas');\n      this.bufferCtx = this.bufferCanvas.getContext('2d');\n\n      this.tempCanvas = document.createElement('canvas');\n      this.tempCtx = this.tempCanvas.getContext('2d');\n    },\n\n    //*/*/*/*/*/*/*/*/*/*/*/\n    SwitchImageToShow(isOriginal) {\n      // console.log('Show Original Image: ', isOriginal);\n      this.SendConsoleLogMsg('Show Original Image:' + isOriginal, 'info');\n      this.isNotDrawStars = isOriginal;\n      if (isOriginal) {\n        // document.removeEventListener('click', this.handleTouchOrMouseDown);\n        this.enableMainCanvasClick = false;\n        this.drawImageData();\n      } else {\n        // document.addEventListener('click', this.handleTouchOrMouseDown);\n        this.enableMainCanvasClick = true;\n        // this.drawImageData(this.detectStarsImg);\n      }\n    },\n\n\n\n    drawImageData() {\n      if (this.bufferCanvas == null) {\n        this.SendConsoleLogMsg('drawImageData error: bufferCanvas is null or undefined.', 'error');\n        return;\n      }\n      if (!this.drawImgData) return;\n\n      // 可用相关参数\n      // window.innerWidth; // 窗口宽度\n      // window.innerHeight; // 窗口高度\n      // this.scale 缩放比例\n      // this.translateX 平移x坐标\n      // this.translateY 平移y坐标\n      // this.CanvasWidth 主画布宽度 1920\n      // this.CanvasHeight 主画布高度 1080\n      // this.mainCameraSizeX 原始图像宽度\n      // this.mainCameraSizeY 原始图像高度\n      // this.bufferCanvas.width 缓冲画布宽度\n      // this.bufferCanvas.height 缓冲画布高度\n      // this.ImageProportion 图像比例\n      // this.ROI_x ROI的x坐标\n      // this.ROI_y ROI的y坐标\n      // this.ROI_length ROI的长度\n\n      // console.log('当前画布参数:\\n bufferCanvas.width: ', this.bufferCanvas.width, '\\n bufferCanvas.height: ', this.bufferCanvas.height, '\\n ImageProportion: ', this.ImageProportion, '\\n scale: ', this.scale, '\\n visibleX: ', this.visibleX, '\\n visibleY: ', this.visibleY, '\\n visibleWidth: ', this.visibleWidth, '\\n visibleHeight: ', this.visibleHeight, '\\n ROI_x: ', this.ROI_x, '\\n ROI_y: ', this.ROI_y, '\\n ROI_length: ', this.ROI_length);\n\n\n      // 计算可见区域\n      const newVisibleWidth = this.bufferCanvas.width * this.scale;\n      const newVisibleHeight = newVisibleWidth / this.ImageProportion;\n\n      // 计算可见区域x坐标\n      let newVisibleX = this.visibleX;\n      // 计算可见区域y坐标\n      let newVisibleY = this.visibleY;\n\n      // 避免图像越界\n      if (newVisibleX - newVisibleWidth / 2 < 0) {\n        newVisibleX = newVisibleWidth / 2;\n      } else if (newVisibleX + newVisibleWidth / 2 > this.bufferCanvas.width) {\n        newVisibleX = this.bufferCanvas.width - newVisibleWidth / 2;\n      }\n\n      if (newVisibleY - newVisibleHeight / 2 < 0) {\n        newVisibleY = newVisibleHeight / 2;\n      } else if (newVisibleY + newVisibleHeight / 2 > this.bufferCanvas.height) {\n        newVisibleY = this.bufferCanvas.height - newVisibleHeight / 2;\n      }\n\n      // 更新ROI区域\n      // 计算可见区域的边界\n      const visibleLeft = newVisibleX - newVisibleWidth / 2;\n      const visibleRight = newVisibleX + newVisibleWidth / 2;\n      const visibleTop = newVisibleY - newVisibleHeight / 2;\n      const visibleBottom = newVisibleY + newVisibleHeight / 2;\n\n      // 计算 ROI 区域的边界\n      const roiLeft = this.ROI_x;\n      const roiRight = this.ROI_x + this.ROI_length;\n      const roiTop = this.ROI_y;\n      const roiBottom = this.ROI_y + this.ROI_length;\n\n      // 判断 ROI 区域是否在可见区域内\n      const isRoiInVisible = roiRight >= visibleLeft && roiLeft <= visibleRight && roiBottom >= visibleTop && roiTop <= visibleBottom;\n\n      // 计算 ROI 区域在屏幕上的位置，中心点坐标\n      const roiScreenX = (this.ROI_x - visibleLeft) * (window.innerWidth / newVisibleWidth) + this.RedBoxSideLength * window.innerWidth / newVisibleWidth / 2;\n      const roiScreenY = (this.ROI_y - visibleTop) * (window.innerHeight / newVisibleHeight) + this.RedBoxSideLength * window.innerHeight / newVisibleHeight / 2;\n      // this.SendConsoleLogMsg('ROI 区域在屏幕上的位置: ' + roiScreenX + '*' + roiScreenY + '长度 ' + this.RedBoxSideLength * window.innerWidth / newVisibleWidth + '*' + this.RedBoxSideLength * window.innerHeight / newVisibleHeight, 'info');\n      this.$bus.$emit('setRedBoxLength', this.RedBoxSideLength * window.innerWidth / newVisibleWidth, this.RedBoxSideLength * window.innerHeight / newVisibleHeight);\n      this.$bus.$emit('setRedBoxPosition', roiScreenX, roiScreenY);\n\n\n      const canvas = this.$refs.mainCanvas;\n      const ctx = canvas.getContext('2d');\n      canvas.width = this.CanvasWidth;\n      canvas.height = this.CanvasHeight;\n\n      ctx.drawImage(this.bufferCanvas, visibleLeft, visibleTop, newVisibleWidth, newVisibleHeight, 0, 0, canvas.width, canvas.height);\n\n      this.visibleX = newVisibleX;\n      this.visibleY = newVisibleY;\n      this.visibleWidth = newVisibleWidth;\n      this.visibleHeight = newVisibleHeight;\n\n      this.$bus.$emit('setCurrentMainCanvasHasImage', true); // 发送给电调，用于判断是否可以进行循环拍摄\n      // 发送消息给QT客户端，用于信息图标\n      // 统一坐标：发送给 QT 的 ROI 坐标采用传感器像素坐标（不再按 bin 放大），避免在回环中被重复乘以 bin 导致指数级增长\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'sendVisibleArea:' + this.visibleX + ':' + this.visibleY + ':' + this.scale);\n\n      // 如果选择了星点，则根据选择位置，在ROI区域中绘制一个圆\n      if (this.DrawSelectStarX != -1 && this.DrawSelectStarY != -1 && this.showSelectStar) {\n        let radius, canvasStarX, canvasStarY, color;\n        // 如果有星点\n        if (this.DrawSelectStarHFR != -1) {\n          radius = this.DrawSelectStarHFR / this.scale * 2;\n          if (radius <= 1) radius = 1;\n          canvasStarX = (this.DrawSelectStarX / this.cameraBin + this.ROI_x - visibleLeft) * ctx.canvas.width / newVisibleWidth;\n          canvasStarY = (this.DrawSelectStarY / this.cameraBin + this.ROI_y - visibleTop) * ctx.canvas.height / newVisibleHeight;\n          color = 'green'; // 有星点，绘制绿色的圆\n        } else {\n          // 否则，在选择的位置绘制一个圆\n          radius = 10 / this.scale; // 你可以根据需要调整这个值\n          canvasStarX = (this.DrawSelectStarX / this.cameraBin + this.ROI_x - visibleLeft) * ctx.canvas.width / newVisibleWidth;\n          canvasStarY = (this.DrawSelectStarY / this.cameraBin + this.ROI_y - visibleTop) * ctx.canvas.height / newVisibleHeight;\n          color = 'red'; // 无星点，绘制红色的圆\n        }\n\n        // 获取绘制圆的位置的图像数据\n        const imageData = ctx.getImageData(canvasStarX - radius, canvasStarY - radius, 2 * radius, 2 * radius);\n        // 发送图像数据给显示框\n        this.$bus.$emit('selectStarImage', imageData);\n        console.log('绘制星点的位置和大小: x =', canvasStarX, 'y =', canvasStarY, 'radius =', radius);\n        // 在指定位置开始绘制圆\n        ctx.beginPath();\n        ctx.arc(canvasStarX, canvasStarY, radius, 0, 2 * Math.PI);\n        ctx.strokeStyle = color;\n        ctx.lineWidth = 3;\n        ctx.stroke();\n        ctx.closePath();\n      }\n\n    },\n\n    addEventListeners() {\n\n    },\n\n    // 节流函数\n    throttle(func, delay) {\n      let lastExecuted = 0;\n      return function (...args) {\n        const now = Date.now();\n        if (now - lastExecuted >= delay) {\n          func.apply(this, args);\n          lastExecuted = now;\n        }\n      };\n    },\n\n    Bit16To8_Stretch(img16, B, W) {\n      console.log('Bit16To8_Stretch | B = ' + B + ', W = ' + W);\n      let img8 = new cv.Mat(img16.rows, img16.cols, cv.CV_8UC4);\n      img16.convertTo(img8, cv.CV_8U, 255.0 / (W - B), -B * 255.0 / (W - B));\n      return img8;\n    },\n\n    DrawDetectStars(image, Stars) {\n      console.log('Draw circle on the Capture Image(', image.cols, ',', image.rows, ').');\n      if (!(image instanceof cv.Mat)) {\n        throw new Error('Invalid image data');\n      }\n      Stars.forEach(star => {\n        let centerX = Math.round(star.x / (this.mainCameraSizeX / image.cols));\n        let centerY = Math.round(star.y / (this.mainCameraSizeY / image.rows));\n        let radius = Math.round(star.hfr);\n\n        console.log('Draw circle at(', centerX, ',', centerY, ') with radius:', radius);\n\n        let center = new cv.Point(centerX, centerY);\n        let color = new cv.Scalar(255, 0, 0, 255);\n        let thickness = 2; // 圆圈厚度\n\n        cv.circle(image, center, radius, color, thickness);\n\n        // 添加 hfr 值到圆的上方\n        // 确保 star.hfr 是一个数字\n        let hfrValue = parseFloat(star.hfr);\n        if (isNaN(hfrValue)) {\n          hfrValue = 0; // 如果 star.hfr 不能转换为数字，则默认值设为0\n        }\n\n        // 保留到小数点后2位\n        let text = hfrValue.toFixed(2);\n        let fontFace = cv.FONT_HERSHEY_SIMPLEX;\n        let fontScale = 1;\n        let textColor = new cv.Scalar(255, 0, 0, 255);\n        let textThickness = 2;\n\n        // 手动设置文本的位置，假设字体高度大约为10像素\n        let textX = centerX - (text.length * 10); // 估算每个字符宽度为5像素\n        let textY = centerY - radius - 3; // 圆的上方 3 像素\n\n        // 在图像上绘制文本\n        cv.putText(image, text, new cv.Point(textX, textY), fontFace, fontScale, textColor, textThickness);\n      });\n\n      const imageData = new ImageData(new Uint8ClampedArray(image.data), image.cols, image.rows);\n\n      return imageData;\n    },\n\n    DrawPHD2Box(PHD2ImageSize_X, PHD2ImageSize_Y, Box_X, Box_Y) {\n      const ratioZoomX = PHD2ImageSize_X / window.innerWidth;\n      const ratioZoomY = PHD2ImageSize_Y / window.innerHeight;\n\n      const BoxWidth = 20 / ratioZoomX;\n      const BoxHeight = 20 / ratioZoomY;\n\n      const BoxStartX = Box_X / ratioZoomX - BoxWidth / 2;\n      const BoxStartY = Box_Y / ratioZoomY - BoxHeight / 2;\n\n      this.$bus.$emit('PHD2BoxPosition', BoxStartX, BoxStartY, BoxWidth, BoxHeight);\n    },\n\n    DrawPHD2Cross(PHD2ImageSize_X, PHD2ImageSize_Y, Cross_X, Cross_Y) {\n      const ratioZoomX = PHD2ImageSize_X / window.innerWidth;\n      const ratioZoomY = PHD2ImageSize_Y / window.innerHeight;\n\n      const CrossStartX = Cross_X / ratioZoomX;\n      const CrossStartY = Cross_Y / ratioZoomY;\n\n      this.$bus.$emit('PHD2CrossPosition', CrossStartX, CrossStartY);\n    },\n\n    DrawPHD2MultiStars(PHD2ImageSize_X, PHD2ImageSize_Y, Star_X, Star_Y) {\n      const ratioZoomX = PHD2ImageSize_X / window.innerWidth;\n      const ratioZoomY = PHD2ImageSize_Y / window.innerHeight;\n\n      const StarStartX = Star_X / ratioZoomX - 12 / 2;\n      const StarStartY = Star_Y / ratioZoomY - 12 / 2;\n\n      this.$bus.$emit('PHD2MultiStarsPosition', StarStartX, StarStartY);\n    },\n\n    calculateHistogram(imageData) {\n      console.log('QHYCCD | calculateHistogram');\n      const histogram = [\n        Array(256).fill(0), // 存储蓝色通道直方图\n        Array(256).fill(0), // 存储绿色通道直方图\n        Array(256).fill(0)  // 存储红色通道直方图\n      ];\n\n      // 分别计算三个通道的直方图\n      for (let i = 0; i < imageData.data.length; i += 4) {\n        const r = imageData.data[i];\n        const g = imageData.data[i + 1];\n        const b = imageData.data[i + 2];\n\n        // 更新每个通道的直方图\n        histogram[0][b]++;\n        histogram[1][g]++;\n        histogram[2][r]++;\n      }\n\n      return histogram;\n    },\n\n    applyHistStretch(Min, Max) {\n      this.currentHistogramMin = Min;\n      this.currentHistogramMax = Max;\n      if (this.ImageArrayBuffer) {\n        this.processImage(this.ImageArrayBuffer, Min, Max, { calculateHistogram: false });\n      }\n      this.$bus.$emit('ChangeDialPosition', Min, Max);\n    },\n\n\n    calcWhiteBalanceGains() {\n      // const Gains = this.calculateWhiteBalanceGains(this.histogramData, this.ImageOffset);\n      this.calculateGain = true;\n      this.processImage(this.ImageArrayBuffer, this.currentHistogramMin, this.currentHistogramMax, { calculateHistogram: false });\n\n      this.ImageGainR = Gains.GainR;\n      this.ImageGainB = Gains.GainB;\n\n      const GainRIndex = this.MainCameraConfigItems.findIndex(item => item.label === 'ImageGainR');\n      if (GainRIndex !== -1) { // 确保找到了对应的配置项\n        // 更新 ExpTime1 配置项的值\n        this.MainCameraConfigItems[GainRIndex].value = this.ImageGainR;\n      } else {\n        console.error('ImageGainR configuration item not found.');\n      }\n\n      const GainBIndex = this.MainCameraConfigItems.findIndex(item => item.label === 'ImageGainB');\n      if (GainBIndex !== -1) { // 确保找到了对应的配置项\n        // 更新 ExpTime1 配置项的值\n        this.MainCameraConfigItems[GainBIndex].value = this.ImageGainB;\n      } else {\n        console.error('ImageGainB configuration item not found.');\n      }\n\n    },\n\n\n    calculateWhiteBalanceGains() {\n      if (!(this.OriginalImage instanceof ImageData)) {\n        throw new Error('Invalid image data');\n      }\n\n      // 创建 cv.Mat 对象\n      const img8 = cv.matFromImageData(this.OriginalImage);\n\n      // 分割通道\n      const channels = new cv.MatVector();\n      cv.split(img8, channels);\n\n      // 获取各通道\n      const b = channels.get(0);\n      const g = channels.get(1);\n      const r = channels.get(2);\n\n      // 计算中位数\n      const medianB = new cv.Mat();\n      const medianG = new cv.Mat();\n      const medianR = new cv.Mat();\n      cv.medianBlur(b, medianB, 5);\n      cv.medianBlur(g, medianG, 5);\n      cv.medianBlur(r, medianR, 5);\n\n      // 计算平均亮度\n      const avgB = cv.mean(medianB)[0];\n      const avgG = cv.mean(medianG)[0];\n      const avgR = cv.mean(medianR)[0];\n\n      // 计算增益\n      const gainR = Math.min(Math.max(avgG / avgR, 0.1), 3);\n      const gainB = Math.min(Math.max(avgG / avgB, 0.1), 3);\n\n      // 释放内存\n      b.delete();\n      g.delete();\n      r.delete();\n      medianB.delete();\n      medianG.delete();\n      medianR.delete();\n      channels.delete();\n      img8.delete();\n\n      return { GainR: gainR, GainB: gainB };\n    },\n\n    loadOpenCv() {\n      return new Promise((resolve, reject) => {\n        if (typeof cv === 'undefined') {\n          // 如果 cv 未定义，尝试加载 OpenCV.js\n          const script = document.createElement('script');\n          script.src = '/opencv.js'; // 使用 public 文件夹中的路径\n          script.async = true;\n          script.onload = () => {\n            resolve();\n          };\n          script.onerror = (error) => {\n            reject(error);\n          };\n          document.head.appendChild(script);\n        } else {\n          // 如果 cv 已定义，直接解析\n          resolve();\n        }\n      });\n    },\n\n\n    onCvReady() {\n\n      // Test if some of opencv method can work.\n      if (cv) {\n        console.log(\"QHYCCD | OpenCV.js is ready.\");\n        this.SendConsoleLogMsg('OpenCV.js is ready.', 'info');\n      } else {\n        console.log(\"QHYCCD | Failed to load OpenCV.js\");\n        this.SendConsoleLogMsg('Failed to load OpenCV.js.', 'error');\n      }\n\n      this.cvReady = true;\n    },\n\n\n    loadImageToCanvasMainCamera: function () {\n      const canvas = document.getElementById('mainCamera-canvas');\n      const ctx = canvas.getContext('2d');\n      const image = new Image();\n      image.onload = () => {\n        // 获取设备像素比\n        const devicePixelRatio = window.devicePixelRatio || 1;\n\n        // 调整画布尺寸以适应高清显示\n        canvas.width = image.width * devicePixelRatio;\n        canvas.height = image.height * devicePixelRatio;\n        ctx.scale(devicePixelRatio, devicePixelRatio); // 缩放ctx以适应高清画布\n\n        // 绘制图像\n        ctx.drawImage(image, 0, 0);\n      };\n      image.src = BackgroundImage;\n    },\n    loadImageToCanvasGuiderCamera: function () {\n      const canvas = document.getElementById('guiderCamera-canvas');\n      const ctx = canvas.getContext('2d');\n      const image = new Image();\n      image.onload = () => {\n        // 获取设备像素比\n        const devicePixelRatio = window.devicePixelRatio || 1;\n\n        // 调整画布尺寸以适应高清显示\n        canvas.width = image.width * devicePixelRatio;\n        canvas.height = image.height * devicePixelRatio;\n        ctx.scale(devicePixelRatio, devicePixelRatio); // 缩放ctx以适应高清画布\n\n        // 绘制图像\n        ctx.drawImage(image, 0, 0);\n      };\n      image.src = BackgroundImage;\n    },\n\n\n    showGuiderCameraCanvas() {\n      // 动态更新z-index\n      this.canvasZIndexStel = -10;\n      this.canvasZIndexMainCamera = -11;\n      this.canvasZIndexGuiderCamera = 0;\n      this.$bus.$emit('setParsingProgress', false);\n\n      // this.convertToGrayscale();\n    },\n\n    showStelCanvas() {\n      if (this.isPolarAxisMode) {\n        this.$bus.$emit('setParsingProgress', true);\n      } else {\n        this.$bus.$emit('setParsingProgress', false);\n      }\n      this.canvasZIndexStel = 0;\n      this.canvasZIndexMainCamera = -10;\n      this.canvasZIndexGuiderCamera = -11;\n    },\n\n    showMainCameraCanvas() {\n      this.canvasZIndexStel = -10;\n      this.canvasZIndexMainCamera = 0;\n      this.canvasZIndexGuiderCamera = -11;\n\n      this.$bus.$emit('setParsingProgress', false);\n    },\n\n\n    handleButtonTestClick() {\n      // this.changeOrder();\n      if (this.currentcanvas === 'Stel') {\n        this.currentcanvas = 'MainCamera';\n        this.showMainCameraCanvas();\n      }\n      else if (this.currentcanvas === 'MainCamera') {\n        this.currentcanvas = 'GuiderCamera';\n        this.showGuiderCameraCanvas();\n      }\n      else if (this.currentcanvas === 'GuiderCamera') {\n        this.currentcanvas = 'Stel';\n        this.showStelCanvas();\n      }\n    },\n\n    getPluginsMenuItems: function () {\n      let res = []\n      for (const i in this.$stellariumWebPlugins()) {\n        const plugin = this.$stellariumWebPlugins()[i]\n        if (plugin.menuItems) {\n          res = res.concat(plugin.menuItems)\n        }\n      }\n      return res\n    },\n    getPluginsMenuComponents: function () {\n      let res = []\n      for (const i in this.$stellariumWebPlugins()) {\n        const plugin = this.$stellariumWebPlugins()[i]\n        if (plugin.menuComponents) {\n          res = res.concat(plugin.menuComponents)\n        }\n      }\n      return res\n    },\n    toggleStoreValue: function (storeVarName) {\n      this.nav = false;\n      this.$store.commit('toggleBool', storeVarName)\n    },\n    getStoreValue: function (storeVarName) {\n      return _.get(this.$store.state, storeVarName)\n    },\n    setStateFromQueryArgs: function () {\n      // Check whether the observing panel must be displayed\n      this.$store.commit('setValue', { varName: 'showSidePanel', newValue: this.$route.path.startsWith('/p/') })\n\n      // Set the core's state from URL query arguments such\n      // as date, location, view direction & fov\n      let that = this\n\n      if (!this.initDone) {\n        this.$stel.core.time_speed = 1\n        let d = new Date()\n        if (this.$route.query.date) {\n          d = new Moment(this.$route.query.date).toDate()\n          this.$stel.core.observer.utc = d.getMJD()\n          this.startTimeIsSet = true\n        }\n\n        if (this.$route.query.lng && this.$route.query.lat) {\n          const pos = { lat: Number(this.$route.query.lat), lng: Number(this.$route.query.lng), alt: this.$route.query.elev ? Number(this.$route.query.elev) : 0, accuracy: 1 }\n          swh.geoCodePosition(pos, that).then((loc) => {\n            that.$store.commit('setCurrentLocation', loc)\n          }, (error) => { console.log(error) })\n        }\n\n        this.$stel.core.observer.yaw = this.$route.query.az ? Number(this.$route.query.az) * Math.PI / 180 : 0\n        this.$stel.core.observer.pitch = this.$route.query.alt ? Number(this.$route.query.alt) * Math.PI / 180 : 30 * Math.PI / 180\n        this.$stel.core.fov = this.$route.query.fov ? Number(this.$route.query.fov) * Math.PI / 180 : 120 * Math.PI / 180\n\n        this.initDone = true\n      }\n\n      if (this.$route.path.startsWith('/skysource/')) {\n        const name = decodeURIComponent(this.$route.path.substring(11))\n        console.log('Will select object: ' + name)\n        this.SendConsoleLogMsg('Will select object: ' + name, 'info');\n        return swh.lookupSkySourceByName(name).then(ss => {\n          if (!ss) {\n            return\n          }\n          let obj = swh.skySource2SweObj(ss)\n          if (!obj) {\n            obj = this.$stel.createObj(ss.model, ss)\n            this.$selectionLayer.add(obj)\n          }\n          if (!obj) {\n            console.warning(\"Can't find object in SWE: \" + ss.names[0])\n          }\n          swh.setSweObjAsSelection(obj)\n        }, err => {\n          console.log(err)\n          console.log(\"Couldn't find skysource for name: \" + name)\n          this.SendConsoleLogMsg(\"Couldn't find skysource for name: \" + name, 'error');\n        })\n      }\n    },\n\n    lookatcircle() {\n      // glStel.core.selection = glTestCircle;\n      glStel.pointAndLock(glTestCircle);\n    },\n\n    setGloabalStel: function (stel) {\n      return stel;\n    },\n\n    setGlobalLayer: function (stel) {\n      return stel.createLayer({ id: 'testLayerStars', z: 7, visible: true });\n    },\n\n    // 坐标验证方法\n    isValidCoordinate: function (coord) {\n      // 如果是字符串，尝试转换为数字\n      if (typeof coord === 'string') {\n        coord = parseFloat(coord);\n      }\n\n      return typeof coord === 'number' &&\n        !isNaN(coord) &&\n        isFinite(coord) &&\n        coord >= -360 &&\n        coord <= 360;\n    },\n\n    vec3_from_sphe: function (ra_degree, dec_degree, out) {\n      // 确保坐标是数字类型\n      let ra = ra_degree;\n      let dec = dec_degree;\n\n      if (typeof ra === 'string') {\n        ra = parseFloat(ra);\n      }\n      if (typeof dec === 'string') {\n        dec = parseFloat(dec);\n      }\n\n      // 添加坐标验证\n      if (!this.isValidCoordinate(ra) || !this.isValidCoordinate(dec)) {\n        console.error('无效的坐标输入:', { ra_degree, dec_degree, converted: { ra, dec } });\n        return;\n      }\n\n      try {\n        const cp = Math.cos(dec * Math.PI / 180);\n        out[0] = Math.cos(ra * Math.PI / 180) * cp;\n        out[1] = Math.sin(ra * Math.PI / 180) * cp;\n        out[2] = Math.sin(dec * Math.PI / 180);\n      } catch (error) {\n        console.error('坐标转换出错:', error, { ra_degree, dec_degree, converted: { ra, dec } });\n      }\n    },\n\n    testAddCircle: function (stel, layer) {\n      console.log(\"Add a circle star near polaris\");\n\n      // 为临时对象创建带有名称的配置\n      const circleConfig = {\n        id: 'test_circle_' + Date.now(),\n        model_data: {},\n        names: ['Test Circle'],  // 添加名称\n        types: ['Temporary'],\n        model: 'temporary'\n      };\n\n      let circle = stel.createObj('circle', circleConfig);\n\n      circle.update();\n      layer.add(circle);\n\n      // 现在可以安全地选择对象，因为它有名称\n      stel.core.selection = circle;\n      stel.pointAndLock(circle);\n\n      // Circle Property\n      let mm = circle.pos;\n      this.vec3_from_sphe(2.52971, 89.2641, mm);\n      circle.pos = mm;\n      console.log(\"circle pos:\" + mm);\n      circle.label = \"\";\n      circle.frame = 1;\n      circle.size = [0.05, 0.05];\n      circle.color = [0, 1, 0, 0.25];\n      circle.border_color = [0, 1, 0, 1];\n\n      return circle;\n    },\n\n    UpdateCirclePos(Ra_degree, Dec_degree) {\n      // 添加安全检查\n      if (!glTestCircle || !glTestCircle.pos) {\n        console.warn('glTestCircle 未初始化，跳过位置更新');\n        return;\n      }\n      \n      let mm = glTestCircle.pos;\n      this.vec3_from_sphe(Ra_degree, Dec_degree, mm);\n      glTestCircle.pos = mm;\n      // console.log(\"赤道仪位置更新为:\"+Ra_degree+\"+\"+Dec_degree);\n    },\n\n    UpdateTelescopeStatus(status) {\n      this.$bus.$emit('MountStatus', status);\n      \n      // 添加安全检查\n      if (!glTestCircle) {\n        console.warn('glTestCircle 未初始化，跳过状态更新');\n        return;\n      }\n      \n      if (status === 'Moving') {\n        glTestCircle.color = [1, 0, 0, 0.25];\n        glTestCircle.border_color = [1, 0, 0, 1];\n      } else {\n        glTestCircle.color = [0, 1, 0, 0.25];\n        glTestCircle.border_color = [0, 1, 0, 1];\n      }\n    },\n\n    UpdateMainCameraStatus(status) {\n      this.$bus.$emit('MainCameraStatus', status);\n    },\n\n    // 绘制视场多边形（基于五个RA/DEC坐标的闭环）\n    AddFieldOfViewPolygon: function (stel, layer, coordinates, color, name) {\n      console.log(`开始创建视场多边形: ${name}`, { coordinates, color });\n\n      try {\n        // 验证输入参数\n        if (!coordinates || !Array.isArray(coordinates)) {\n          console.error('视场坐标必须是数组');\n          return null;\n        }\n\n        if (coordinates.length !== 5) {\n          console.error(`视场坐标必须是5个点，当前有${coordinates.length}个点`);\n          return null;\n        }\n\n        // 验证每个坐标点\n        for (let i = 0; i < coordinates.length; i++) {\n          const coord = coordinates[i];\n          if (!coord || typeof coord.ra === 'undefined' || typeof coord.dec === 'undefined') {\n            console.error(`坐标点${i}格式错误，需要包含ra和dec属性:`, coord);\n            return null;\n          }\n\n          // 验证坐标值\n          if (!this.isValidCoordinate(coord.ra) || !this.isValidCoordinate(coord.dec)) {\n            console.error(`坐标点${i}的值无效:`, coord);\n            return null;\n          }\n        }\n\n        // 设置默认颜色\n        const defaultColor = {\n          stroke: \"#FFFFFF\",\n          strokeOpacity: 1,\n          fill: \"#1E90FF\",\n          fillOpacity: 0.25\n        };\n\n        const finalColor = { ...defaultColor, ...color };\n        console.log('最终颜色配置:', finalColor);\n\n        // 创建多边形对象\n        const polygonConfig = {\n          id: 'field_of_view_' + Date.now(),\n          model_data: {},\n          names: [name || 'Field of View'],\n          types: ['FieldOfView'],\n          model: 'field_of_view'\n        };\n\n        console.log('创建GeoJSON多边形对象');\n        let polygon = stel.createObj('geojson', {\n          data: {\n            \"type\": \"FeatureCollection\",\n            \"features\": [\n              {\n                \"type\": \"Feature\",\n                \"properties\": {\n                  \"stroke\": finalColor.stroke,\n                  \"stroke-opacity\": finalColor.strokeOpacity,\n                  \"fill\": finalColor.fill,\n                  \"fill-opacity\": finalColor.fillOpacity,\n                  \"name\": name || 'Field of View'\n                },\n                \"geometry\": {\n                  \"type\": \"Polygon\",\n                  \"coordinates\": [\n                    [\n                      // 五个坐标点，形成闭环\n                      [coordinates[0].ra, coordinates[0].dec],\n                      [coordinates[1].ra, coordinates[1].dec],\n                      [coordinates[2].ra, coordinates[2].dec],\n                      [coordinates[3].ra, coordinates[3].dec],\n                      [coordinates[0].ra, coordinates[0].dec]  // 闭合多边形\n                    ]\n                  ]\n                }\n              }\n            ]\n          }\n        });\n\n        if (!polygon) {\n          console.error('GeoJSON多边形对象创建失败');\n          return null;\n        }\n\n        console.log('多边形对象创建成功，开始更新和添加到图层');\n\n        // 设置对象属性\n        polygon.update();\n        layer.add(polygon);\n\n        console.log('多边形已添加到图层');\n\n        // // 添加标签（可选）\n        // if (name) {\n        //   console.log('添加多边形标签');\n        //   // 计算视场中心点\n        //   const centerRa = coordinates.reduce((sum, coord) => sum + coord.ra, 0) / coordinates.length;\n        //   const centerDec = coordinates.reduce((sum, coord) => sum + coord.dec, 0) / coordinates.length;\n\n        //   let labelCircle = this.AddMarkCircle(stel, layer, 4, name);\n        //   if (labelCircle) {\n        //     let labelMm = labelCircle.pos;\n        //     this.vec3_from_sphe(centerRa, centerDec + 0.02, labelMm); // 在视场上方显示名称\n        //     labelCircle.pos = labelMm;\n        //     labelCircle.color = [1, 1, 1, 0.8];  // 白色，半透明\n        //     labelCircle.border_color = [0, 0, 0, 0.5];  // 黑色边框，半透明\n        //     labelCircle.size = [0.01, 0.01];  // 很小的圆圈作为名称标签\n\n        //     // 将标签与多边形关联\n        //     polygon.labelCircle = labelCircle;\n        //     console.log('标签已添加到多边形');\n        //   } else {\n        //     console.warn('标签创建失败');\n        //   }\n        // }\n\n        console.log(`视场多边形创建完成: ${name || 'Field of View'}`, {\n          coordinates: coordinates,\n          color: finalColor,\n          polygon: polygon\n        });\n\n        return polygon;\n\n      } catch (error) {\n        console.error('创建视场多边形时出错:', error);\n        console.error('错误堆栈:', error.stack);\n        return null;\n      }\n    },\n\n    // 删除指定的视场多边形\n    RemoveFieldOfViewPolygon: function (polygon) {\n      try {\n        if (!polygon) {\n          console.warn('要删除的多边形对象为空');\n          return false;\n        }\n\n        // 删除关联的标签\n        if (polygon.labelCircle) {\n          glLayer.remove(polygon.labelCircle);\n        }\n\n        // 删除多边形\n        glLayer.remove(polygon);\n\n        console.log('视场多边形已删除:', polygon);\n        return true;\n\n      } catch (error) {\n        console.error('删除视场多边形时出错:', error);\n        return false;\n      }\n    },\n\n    // 删除所有视场多边形\n    RemoveAllFieldOfViewPolygons: function () {\n      try {\n        // 如果有多边形数组，遍历删除\n        if (this.fieldOfViewPolygons && Array.isArray(this.fieldOfViewPolygons)) {\n          this.fieldOfViewPolygons.forEach(polygon => {\n            this.RemoveFieldOfViewPolygon(polygon);\n          });\n          this.fieldOfViewPolygons = [];\n        }\n\n        console.log('所有视场多边形已删除');\n        return true;\n\n      } catch (error) {\n        console.error('删除所有视场多边形时出错:', error);\n        return false;\n      }\n    },\n\n    // 更新视场多边形的位置\n    UpdateFieldOfViewPolygonPosition: function (polygon, newCoordinates) {\n      try {\n        if (!polygon || !newCoordinates || !Array.isArray(newCoordinates) || newCoordinates.length !== 5) {\n          console.error('更新视场多边形位置时参数无效');\n          return false;\n        }\n\n        // 验证新坐标\n        for (let i = 0; i < newCoordinates.length; i++) {\n          const coord = newCoordinates[i];\n          if (!this.isValidCoordinate(coord.ra) || !this.isValidCoordinate(coord.dec)) {\n            console.error(`新坐标点${i}的值无效:`, coord);\n            return false;\n          }\n        }\n\n        // 更新多边形数据\n        polygon.data.features[0].geometry.coordinates[0] = [\n          [newCoordinates[0].ra, newCoordinates[0].dec],\n          [newCoordinates[1].ra, newCoordinates[1].dec],\n          [newCoordinates[2].ra, newCoordinates[2].dec],\n          [newCoordinates[3].ra, newCoordinates[3].dec],\n          [newCoordinates[4].ra, newCoordinates[4].dec],\n          [newCoordinates[0].ra, newCoordinates[0].dec]  // 闭合\n        ];\n\n        polygon.update();\n\n        // 更新标签位置（如果存在）\n        if (polygon.labelCircle) {\n          const centerRa = newCoordinates.reduce((sum, coord) => sum + coord.ra, 0) / newCoordinates.length;\n          const centerDec = newCoordinates.reduce((sum, coord) => sum + coord.dec, 0) / newCoordinates.length;\n\n          let labelMm = polygon.labelCircle.pos;\n          this.vec3_from_sphe(centerRa, centerDec + 0.02, labelMm);\n          polygon.labelCircle.pos = labelMm;\n        }\n\n        console.log('视场多边形位置已更新:', newCoordinates);\n        return true;\n\n      } catch (error) {\n        console.error('更新视场多边形位置时出错:', error);\n        return false;\n      }\n    },\n\n    UpdateMainCameraTemperature(value) {\n      // console.log('Main Camera Temperature:', value + '°');\n      this.$bus.$emit('MainCameraTemperature', value);\n    },\n\n    setPolarPointAltitude(Altitude) {\n      this.PolarPoint_Altitude = Altitude;\n      console.log('Polar Point Altitude:', this.PolarPoint_Altitude);\n      this.SendConsoleLogMsg('Polar Point Altitude:' + this.PolarPoint_Altitude, 'info');\n    },\n\n    AddMarkCircle: function (stel, layer, frame, label) {\n      console.log(`开始创建标记圆圈: ${label}`);\n\n      try {\n        // 为临时对象创建带有名称的配置\n        const circleConfig = {\n          id: 'temp_circle_' + Date.now(),\n          model_data: {},\n          names: [label || 'Temporary Marker'],  // 添加名称\n          types: ['Temporary'],\n          model: 'temporary'\n        };\n\n        console.log('创建圆形对象');\n        let circle = stel.createObj('circle', circleConfig);\n\n        if (!circle) {\n          console.error('圆形对象创建失败');\n          return null;\n        }\n\n        console.log('圆形对象创建成功，开始设置属性');\n        circle.update();\n        layer.add(circle);\n\n        // 设置默认位置（北极星附近）\n        let mm = circle.pos;\n        this.vec3_from_sphe(2.52971, 89.2641, mm);\n        circle.pos = mm;\n\n        // 设置圆形属性\n        circle.label = label;\n        circle.frame = frame;\n        circle.size = [0.04, 0.04];\n        circle.color = [1, 1, 1, 0.5];\n        circle.border_color = [1, 1, 1, 1];\n\n        console.log(`标记圆圈创建完成: ${label}`, {\n          pos: mm,\n          size: circle.size,\n          color: circle.color,\n          border_color: circle.border_color\n        });\n\n        return circle;\n      } catch (error) {\n        console.error('创建标记圆圈时出错:', error);\n        console.error('错误堆栈:', error.stack);\n        return null;\n      }\n    },\n\n    AddMarkRectangle: function (stel, layer, RaDec) {\n      let line = stel.createObj('geojson', {\n        data: {\n          \"type\": \"FeatureCollection\",\n          \"features\": [\n            {\n              \"type\": \"Feature\",\n              \"properties\": {\n                \"stroke\": \"#FFFFFF\",\n                \"stroke-opacity\": 1,\n                \"fill\": \"#1E90FF\",\n                \"fill-opacity\": 0.25\n              },\n              \"geometry\": {\n                \"type\": \"Polygon\",\n                \"coordinates\": [\n                  [\n                    // [139.76, 35.52], [139.32, 33.41], [140.92, 33.08], [141.35, 35.19], [139.76, 35.52]\n                    [parseFloat(RaDec[0].Ra), parseFloat(RaDec[0].Dec)], [parseFloat(RaDec[1].Ra), parseFloat(RaDec[1].Dec)],\n                    [parseFloat(RaDec[2].Ra), parseFloat(RaDec[2].Dec)], [parseFloat(RaDec[3].Ra), parseFloat(RaDec[3].Dec)],\n                    [parseFloat(RaDec[0].Ra), parseFloat(RaDec[0].Dec)]\n                  ]\n                ]\n              }\n            },\n          ]\n        }\n      });\n\n      line.update();\n      layer.add(line);\n      return line;\n    },\n\n\n\n    // 辅助方法：将十六进制颜色转换为RGB\n    hexToRgb: function (hex) {\n      // 移除#号\n      hex = hex.replace('#', '');\n\n      // 解析RGB值\n      const r = parseInt(hex.substr(0, 2), 16);\n      const g = parseInt(hex.substr(2, 2), 16);\n      const b = parseInt(hex.substr(4, 2), 16);\n\n      return { r, g, b };\n    },\n\n    // 更新视场方法\n    updateFieldOfView: function (field) {\n      if (!field || !field.fieldInfo) return;\n\n      const info = field.fieldInfo;\n\n      // 计算视场的四个角点\n      const corners = [\n        { Ra: info.maxRa, Dec: info.maxDec },\n        { Ra: info.minRa, Dec: info.maxDec },\n        { Ra: info.minRa, Dec: info.minDec },\n        { Ra: info.maxRa, Dec: info.minDec },\n        { Ra: info.maxRa, Dec: info.maxDec }  // 闭合多边形\n      ];\n\n      // 更新GeoJSON数据\n      field.data = {\n        \"type\": \"FeatureCollection\",\n        \"features\": [\n          {\n            \"type\": \"Feature\",\n            \"properties\": {\n              \"stroke\": info.color,\n              \"strokeOpacity\": 0.8,\n              \"fill\": info.color,\n              \"fillOpacity\": 0.2\n            },\n            \"geometry\": {\n              \"type\": \"Polygon\",\n              \"coordinates\":\n                [\n                  [parseFloat(corners[0].Ra), parseFloat(corners[0].Dec)],\n                  [parseFloat(corners[1].Ra), parseFloat(corners[1].Dec)],\n                  [parseFloat(corners[2].Ra), parseFloat(corners[2].Dec)],\n                  [parseFloat(corners[3].Ra), parseFloat(corners[3].Dec)],\n                  [parseFloat(corners[4].Ra), parseFloat(corners[4].Dec)]\n                ]\n            }\n          }\n        ]\n      };\n\n      field.update();\n    },\n\n    // 启动视场更新定时器\n    startFieldUpdateTimer: function () {\n      if (this.fieldUpdateTimer) {\n        clearInterval(this.fieldUpdateTimer);\n      }\n\n      this.fieldUpdateTimer = setInterval(() => {\n        // 更新校准点视场\n        if (this.calibrationCircles) {\n          this.calibrationCircles.forEach(field => {\n            if (field.fieldInfo) {\n              this.updateFieldOfView(field);\n            }\n          });\n        }\n\n        // 更新调整点视场\n        if (this.adjustmentCircles) {\n          this.adjustmentCircles.forEach(field => {\n            if (field.fieldInfo) {\n              this.updateFieldOfView(field);\n            }\n          });\n        }\n      }, 3000); // 每3秒更新一次\n    },\n\n    // 停止视场更新定时器\n    stopFieldUpdateTimer: function () {\n      if (this.fieldUpdateTimer) {\n        clearInterval(this.fieldUpdateTimer);\n        this.fieldUpdateTimer = null;\n      }\n    },\n\n    getCiecleAzAlt(Circle) {\n      let obs = this.$stel.core.observer;\n      let cirs = this.$stel.convertFrame(obs, 'ICRF', 'CIRS', Circle.getInfo('radec'));\n      let observed = this.$stel.convertFrame(obs, 'CIRS', 'OBSERVED', cirs);\n      // const azalt = this.$stel.c2s(this.$stel.convertFrame(this.$stel.core.observer, 'ICRF', 'OBSERVED', obj.getInfo('radec')))\n      let azalt = this.$stel.c2s(observed);\n      let az = this.$stel.anp(azalt[0]);\n      let alt = this.$stel.anp(azalt[1]);\n\n      const az_raf = this.$stel.a2af(az, 1);\n      const Az_degree = (az_raf.degrees < 0 ? az_raf.degrees + 180 : az_raf.degrees) + az_raf.arcminutes / 60 + az_raf.arcseconds / 3600;\n\n      const alt_raf = this.$stel.a2af(alt, 1);\n      const Alt_degree = alt_raf.degrees + alt_raf.arcminutes / 60 + alt_raf.arcseconds / 3600;\n\n      console.log('AzAlt:', Az_degree, Alt_degree);\n\n      return { Az_degree, Alt_degree };\n    },\n\n    SolveResultMark(RaDegree, DecDegree, Azimuth, Altitude) {\n      let MarkCircle_RaDec = this.AddMarkCircle(this.$stel, glLayer, 1, \"RaDec\");\n      let mm = MarkCircle_RaDec.pos;\n      this.vec3_from_sphe(RaDegree, DecDegree, mm);\n      MarkCircle_RaDec.pos = mm;\n      console.log(\"RaDec circle coordinates:\" + mm);\n\n      const AzAlt = this.getCiecleAzAlt(MarkCircle_RaDec);\n      glLayer.remove(MarkCircle_RaDec);\n\n      this.MarkCircleNum++;\n      let Label = \"AzAlt_Vue_\" + this.MarkCircleNum;\n\n      let MarkCircle_AltAz = this.AddMarkCircle(this.$stel, glLayer, 4, Label);\n      mm = MarkCircle_AltAz.pos;\n      this.vec3_from_sphe(AzAlt.Az_degree, AzAlt.Alt_degree, mm);\n      MarkCircle_AltAz.pos = mm;\n      console.log(\"AzAlt_Vue circle coordinates:\" + mm);\n\n      console.log(\"AzAlt_Vue circle x:\" + mm[0]);\n      console.log(\"AzAlt_Vue circle y:\" + mm[1]);\n      console.log(\"AzAlt_Vue circle z:\" + mm[2]);\n\n      this.LastPoint_AzAlt = this.getCiecleAzAlt(MarkCircle_AltAz);\n\n      this.CalculationPolarPoint(mm);\n\n      // 将创建的圆存储到数组中\n      // this.Circles.push(MarkCircle_RaDec);\n      this.Circles.push(MarkCircle_AltAz);\n\n    },\n\n    RemoveAllCircles() {\n      this.Circles.forEach(circle => {\n        glLayer.remove(circle);\n      });\n      this.Circles = [];\n    },\n\n    SolveResultMark_RealTime(RaDegree, DecDegree, Azimuth, Altitude) {\n      this.LastCircle_RaDec = this.AddMarkCircle(this.$stel, glLayer, 1, \"RaDec\");\n      let mm = this.LastCircle_RaDec.pos;\n      this.vec3_from_sphe(RaDegree, DecDegree, mm);\n      this.LastCircle_RaDec.pos = mm;\n      console.log(\"RaDec circle coordinates:\" + mm);\n\n      const AzAlt = this.getCiecleAzAlt(this.LastCircle_RaDec);\n      glLayer.remove(this.LastCircle_RaDec);\n\n      if (this.LastCircle_AzAlt !== null && this.LastCircle_AzAlt !== undefined) {\n        glLayer.remove(this.LastCircle_AzAlt);\n      }\n      this.LastCircle_AzAlt = this.AddMarkCircle(this.$stel, glLayer, 4, 'Current');\n      mm = this.LastCircle_AzAlt.pos;\n      this.vec3_from_sphe(AzAlt.Az_degree, AzAlt.Alt_degree, mm);\n      this.LastCircle_AzAlt.pos = mm;\n      this.LastCircle_AzAlt.color = [0, 1, 1, 0.25];\n      console.log(\"AzAlt_Vue circle coordinates:\" + mm);\n\n      console.log(\"AzAlt_Vue circle x:\" + mm[0]);\n      console.log(\"AzAlt_Vue circle y:\" + mm[1]);\n      console.log(\"AzAlt_Vue circle z:\" + mm[2]);\n\n      this.Current_AzAlt = this.getCiecleAzAlt(this.LastCircle_AzAlt);\n      console.log(\"Current AzAlt:\", this.Current_AzAlt.Az_degree, this.Current_AzAlt.Alt_degree);\n      this.$bus.$emit('ShowCurrentAzAltText', this.Current_AzAlt.Az_degree, this.Current_AzAlt.Alt_degree);\n    },\n\n\n    CalculationPolarPoint(coordinate) {\n      this.CartesianList.push(coordinate);\n\n      if (this.CartesianList.length < 3) {\n        return;\n      }\n\n      this.$bus.$emit('HideSingleSolveBtn');\n\n      // 获取三个点的坐标\n      const p1 = this.CartesianList[0];\n      const p2 = this.CartesianList[1];\n      const p3 = this.CartesianList[2];\n\n      // 计算两个向量\n      const v1 = [\n        p2[0] - p1[0],\n        p2[1] - p1[1],\n        p2[2] - p1[2]\n      ];\n\n      const v2 = [\n        p3[0] - p1[0],\n        p3[1] - p1[1],\n        p3[2] - p1[2]\n      ];\n\n      // 计算法向量\n      const normal = [\n        v1[1] * v2[2] - v1[2] * v2[1],\n        v1[2] * v2[0] - v1[0] * v2[2],\n        v1[0] * v2[1] - v1[1] * v2[0]\n      ];\n\n      // 计算法向量的长度\n      const normalLength = Math.sqrt(normal[0] ** 2 + normal[1] ** 2 + normal[2] ** 2);\n\n      // 归一化法向量\n      const unitNormal = [\n        normal[0] / normalLength,\n        normal[1] / normalLength,\n        normal[2] / normalLength\n      ];\n\n      // 假设球的半径为r，圆心为(0, 0, 0)\n      const r = 1; // 根据你的实际情况调整\n\n      // 计算与球面的交点\n      const intersection1 = [\n        unitNormal[0] * r,\n        unitNormal[1] * r,\n        unitNormal[2] * r\n      ];\n\n      const intersection2 = [\n        -unitNormal[0] * r,\n        -unitNormal[1] * r,\n        -unitNormal[2] * r\n      ];\n\n      console.log('Intersection Points:', intersection1, intersection2);\n\n      // 选择离(0,0,1)更近的交点\n      const closerIntersection = intersection1[2] > 0 ? intersection1 : intersection2;\n\n      let MarkCircle_FakePolarPoint = this.AddMarkCircle(this.$stel, glLayer, 4, \"FakePolarPoint\");\n      let mm = MarkCircle_FakePolarPoint.pos;\n      mm[0] = closerIntersection[0];\n      mm[1] = closerIntersection[1];\n      mm[2] = closerIntersection[2];\n      MarkCircle_FakePolarPoint.pos = mm;\n      console.log(\"FakePolarPoint circle coordinates:\" + mm);\n\n      const AzAlt_FakePolarPoint = this.getCiecleAzAlt(MarkCircle_FakePolarPoint);\n\n      console.log(\"Fake Polar Point AzAlt:\", AzAlt_FakePolarPoint.Az_degree, ',', AzAlt_FakePolarPoint.Alt_degree);\n\n      this.Circles.push(MarkCircle_FakePolarPoint);\n\n      let AzAlt_PolarPoint = {\n        Az_degree: 0,\n        Alt_degree: this.PolarPoint_Altitude\n      };\n\n      // console.log(\"Real Polar Point AzAlt:\", AzAlt_PolarPoint.Az_degree, ',', AzAlt_PolarPoint.Alt_degree);\n      this.SendConsoleLogMsg('Real Polar Point AzAlt:' + AzAlt_PolarPoint.Az_degree + ',' + AzAlt_PolarPoint.Alt_degree, 'info');\n      // console.log(\"Last Point AzAlt:\", this.LastPoint_AzAlt.Az_degree, this.LastPoint_AzAlt.Alt_degree);\n      this.SendConsoleLogMsg('Last Point AzAlt:' + this.LastPoint_AzAlt.Az_degree + ',' + this.LastPoint_AzAlt.Alt_degree, 'info');\n\n      ////////////////////////////////////////////////\n\n      // // 将球坐标转换为笛卡尔坐标\n      // let fakePolarPoint = this.sphericalToCartesian(AzAlt_FakePolarPoint.Az_degree, AzAlt_FakePolarPoint.Alt_degree);\n      // let polarPoint = this.sphericalToCartesian(AzAlt_PolarPoint.Az_degree, AzAlt_PolarPoint.Alt_degree);\n      // let lastPoint = this.sphericalToCartesian(this.LastPoint_AzAlt.Az_degree, this.LastPoint_AzAlt.Alt_degree);\n\n      // // 计算旋转四元数\n      // let quaternion = this.computeQuaternion(fakePolarPoint, polarPoint);\n\n      // // 应用旋转\n      // let fourthPoint = this.applyQuaternion(lastPoint, quaternion);\n\n      // // 将结果转换回球坐标\n      // let fourthPointAzAlt = this.cartesianToSpherical(fourthPoint);\n      // console.log(\"Fourth Point AzAlt:\", fourthPointAzAlt.Az_degree, ',', fourthPointAzAlt.Alt_degree);\n\n      ////////////////////////////////////////////////\n\n      // 计算角度差值，考虑角度的循环性质\n      function calculateAngleDifference(angle1, angle2) {\n        let difference = angle2 - angle1;\n        while (difference > 180) difference -= 360;\n        while (difference < -180) difference += 360;\n        return difference;\n      }\n\n      let azimuthDifference = calculateAngleDifference(AzAlt_FakePolarPoint.Az_degree, AzAlt_PolarPoint.Az_degree);\n      let altitudeDifference = AzAlt_PolarPoint.Alt_degree - AzAlt_FakePolarPoint.Alt_degree;\n\n      // 应用差值到LastPoint\n      let fourthPointAzAlt = {\n        Az_degree: this.LastPoint_AzAlt.Az_degree + azimuthDifference,\n        Alt_degree: this.LastPoint_AzAlt.Alt_degree + altitudeDifference\n      };\n\n      // 确保方位角在0到360度之间\n      fourthPointAzAlt.Az_degree = (fourthPointAzAlt.Az_degree + 360) % 360;\n\n      // 确保高度角在-90到90度之间\n      fourthPointAzAlt.Alt_degree = Math.max(Math.min(fourthPointAzAlt.Alt_degree, 90), -90);\n\n      console.log(\"Fourth Point AzAlt:\", fourthPointAzAlt.Az_degree, ',', fourthPointAzAlt.Alt_degree);\n\n      this.$bus.$emit('ShowAzAltText', azimuthDifference, altitudeDifference, fourthPointAzAlt.Az_degree, fourthPointAzAlt.Alt_degree);\n\n      ////////////////////////////////////////////////\n\n      // 将角度转换为弧度\n      function degreesToRadians(degrees) {\n        return degrees * Math.PI / 180;\n      }\n\n      // 将球坐标转换为笛卡尔坐标\n      function sphericalToCartesian(azimuth, altitude) {\n        let az = degreesToRadians(azimuth);\n        let alt = degreesToRadians(altitude);\n        let x = Math.cos(alt) * Math.cos(az);\n        let y = Math.cos(alt) * Math.sin(az);\n        let z = Math.sin(alt);\n        return { x: x, y: y, z: z };\n      }\n\n      // 将第四个点转换为笛卡尔坐标\n      let fourthPointCartesian = sphericalToCartesian(fourthPointAzAlt.Az_degree, fourthPointAzAlt.Alt_degree);\n      console.log(\"Fourth Point Cartesian:\", fourthPointCartesian.x, ',', fourthPointCartesian.y, ',', fourthPointCartesian.z);\n\n      let MarkCircle_fourthPoint = this.AddMarkCircle(this.$stel, glLayer, 4, \"Target Point\");\n      mm = MarkCircle_fourthPoint.pos;\n      mm[0] = fourthPointCartesian.x;\n      mm[1] = fourthPointCartesian.y;\n      mm[2] = fourthPointCartesian.z;\n      MarkCircle_fourthPoint.pos = mm;\n      MarkCircle_fourthPoint.color = [1, 0, 0, 0.25];\n\n      this.Circles.push(MarkCircle_fourthPoint);\n\n      // 清空列表，准备下次计算\n      this.CartesianList = [];\n      this.MarkCircleNum = 0;\n    },\n\n    // 将角度转换为弧度\n    degreesToRadians(degrees) {\n      return degrees * Math.PI / 180;\n    },\n\n    // 将球坐标转换为笛卡尔坐标\n    sphericalToCartesian(azimuth, altitude) {\n      let az = this.degreesToRadians(azimuth);\n      let alt = this.degreesToRadians(altitude);\n      let x = Math.cos(alt) * Math.cos(az);\n      let y = Math.cos(alt) * Math.sin(az);\n      let z = Math.sin(alt);\n      return { x: x, y: y, z: z };\n    },\n\n    // 计算旋转四元数\n    computeQuaternion(from, to) {\n      let w = from.x * to.x + from.y * to.y + from.z * to.z + 1;\n      let x = from.y * to.z - from.z * to.y;\n      let y = from.z * to.x - from.x * to.z;\n      let z = from.x * to.y - from.y * to.x;\n\n      let norm = Math.sqrt(w * w + x * x + y * y + z * z);\n      return { w: w / norm, x: x / norm, y: y / norm, z: z / norm };\n    },\n\n    // 应用四元数旋转\n    applyQuaternion(point, quat) {\n      let x = quat.w * quat.w * point.x + 2 * quat.y * quat.w * point.z - 2 * quat.z * quat.w * point.y + quat.x * quat.x * point.x + 2 * quat.y * quat.x * point.y + 2 * quat.z * quat.x * point.z - quat.z * quat.z * point.x - quat.y * quat.y * point.x;\n      let y = 2 * quat.x * quat.y * point.x + quat.y * quat.y * point.y + 2 * quat.z * quat.y * point.z + 2 * quat.w * quat.z * point.x - quat.z * quat.z * point.y + quat.w * quat.w * point.y - 2 * quat.x * quat.w * point.z - quat.x * quat.x * point.y;\n      let z = 2 * quat.x * quat.z * point.x + 2 * quat.y * quat.z * point.y + quat.z * quat.z * point.z - 2 * quat.w * quat.y * point.x - quat.y * quat.y * point.z + 2 * quat.w * quat.x * point.y - quat.x * quat.x * point.z + quat.w * quat.w * point.z;\n      return { x: x, y: y, z: z };\n    },\n\n    // 将笛卡尔坐标转换回球坐标\n    cartesianToSpherical(cartesian) {\n      let r = Math.sqrt(cartesian.x ** 2 + cartesian.y ** 2 + cartesian.z ** 2);\n      let azimuth = Math.atan2(cartesian.y, cartesian.x);\n      let altitude = Math.asin(cartesian.z / r);\n      return {\n        Az_degree: azimuth * 180 / Math.PI,\n        Alt_degree: altitude * 180 / Math.PI\n      };\n    },\n\n    SolveFovMark(RaDec) {\n      console.log('RaDec[4]:', RaDec);\n\n      // let rectangle = this.AddMarkRectangle(this.$stel, glLayer, RaDec);\n\n      this.Circles.push(rectangle);\n\n    },\n\n    CalibratePolarAxis() {\n      this.$bus.$emit('CalibratePolarAxisMode');\n      // this.$bus.$emit('AppSendMessage', 'Vue_Command', 'StartLoopCapture');\n      this.nav = false;\n    },\n\n    RecalibratePolarAxis() {\n      // 清空列表，准备下次计算\n      this.CartesianList = [];\n      this.MarkCircleNum = 0;\n      this.RemoveAllCircles();\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'ClearSloveResultList');\n    },\n\n\n\n    // 使用新的多边形方式绘制校准点\n    drawCalibrationPointPolygon(coordinates, color, name) {\n      console.log(`绘制校准点多边形: ${name}`, coordinates);\n\n      try {\n        // 验证输入参数\n        if (!coordinates || !Array.isArray(coordinates)) {\n          console.error('校准点坐标必须是数组');\n          return;\n        }\n\n        if (coordinates.length !== 5) {\n          console.error(`校准点坐标必须是5个点，当前有${coordinates.length}个点`);\n          return;\n        }\n\n        // 验证每个坐标点\n        for (let i = 0; i < coordinates.length; i++) {\n          const coord = coordinates[i];\n          if (!coord || typeof coord.ra === 'undefined' || typeof coord.dec === 'undefined') {\n            console.error(`校准点坐标${i}格式错误：`, coord);\n            return;\n          }\n\n          if (!this.isValidCoordinate(coord.ra) || !this.isValidCoordinate(coord.dec)) {\n            console.error(`校准点坐标${i}值无效：`, coord);\n            return;\n          }\n        }\n\n        // 使用新的多边形绘制方法\n        let calibrationPolygon = this.AddFieldOfViewPolygon(\n          this.$stel,\n          glLayer,\n          coordinates,\n          color,\n          name\n        );\n\n        if (calibrationPolygon) {\n          // 添加到校准点数组\n          if (!this.calibrationCircles) {\n            this.calibrationCircles = [];\n          }\n          this.calibrationCircles.push(calibrationPolygon);\n\n          console.log(`校准点多边形创建成功: ${name}`, calibrationPolygon);\n        } else {\n          console.error(`校准点多边形创建失败: ${name}`);\n        }\n\n      } catch (error) {\n        console.error('绘制校准点多边形时出错:', error);\n      }\n    },\n\n    // 清除所有校准点\n    clearCalibrationPoints() {\n      console.log('清除所有校准点');\n\n      // 确保数组存在\n      if (!this.calibrationCircles) {\n        this.calibrationCircles = [];\n      }\n      if (!this.adjustmentCircles) {\n        this.adjustmentCircles = [];\n      }\n\n      // 清除校准点\n      if (this.calibrationCircles.length > 0) {\n        console.log(`清除 ${this.calibrationCircles.length} 个校准点`);\n        this.calibrationCircles.forEach((circle, index) => {\n          try {\n            if (circle && glLayer) {\n              glLayer.remove(circle);\n              console.log(`成功清除校准点 ${index + 1}`);\n            }\n          } catch (error) {\n            console.warn(`清除校准点 ${index + 1} 时出错:`, error);\n          }\n        });\n        this.calibrationCircles = [];\n      }\n\n      // 清除调整点\n      if (this.adjustmentCircles.length > 0) {\n        console.log(`清除 ${this.adjustmentCircles.length} 个调整点`);\n        this.adjustmentCircles.forEach((circle, index) => {\n          try {\n            if (circle && glLayer) {\n              glLayer.remove(circle);\n              console.log(`成功清除调整点 ${index + 1}`);\n            }\n          } catch (error) {\n            console.warn(`清除调整点 ${index + 1} 时出错:`, error);\n          }\n        });\n        this.adjustmentCircles = [];\n      }\n\n      // 清除上一次位置\n      this.lastPosition = null;\n\n      // 清除目标点\n      if (this.targetPointCircle) {\n        try {\n          if (glLayer) {\n            glLayer.remove(this.targetPointCircle);\n            console.log('成功清除目标点');\n          }\n          this.targetPointCircle = null;\n        } catch (error) {\n          console.warn('清除目标点时出错:', error);\n        }\n      }\n\n      if (this.fakePolarAxisCircle) {\n        try {\n          if (glLayer) {\n            glLayer.remove(this.fakePolarAxisCircle);\n            console.log('成功清除假极轴');\n          }\n        } catch (error) {\n          console.warn('清除假极轴时出错:', error);\n        }\n        this.fakePolarAxisCircle = null;\n      }\n\n      console.log('所有校准相关元素清除完成');\n    },\n\n\n    // 使用新的多边形方式绘制调整点\n    // 使用新的多边形方式绘制调整点（不在此处画圆）\n    drawAdjustmentPointsPolygon(currentCoordinates, targetCoordinates, currentColor, targetColor, isTimerUpdate) {\n      if (isTimerUpdate === undefined) isTimerUpdate = false;\n      console.log('绘制调整点多边形', { currentCoordinates, targetCoordinates });\n\n      try {\n        // 1) 清除之前的调整点\n        if (this.adjustmentCircles) {\n          this.adjustmentCircles.forEach(obj => {\n            try { glLayer.remove(obj); } catch (e) { console.warn('清除调整点时出错:', e); }\n          });\n        }\n        this.adjustmentCircles = [];\n\n        // 2) 绘制当前位置视场多边形\n        if (currentCoordinates && Array.isArray(currentCoordinates) && currentCoordinates.length === 5) {\n          console.log('绘制当前位置多边形');\n          const currentPolygon = this.AddFieldOfViewPolygon(\n            this.$stel,\n            glLayer,\n            currentCoordinates,\n            currentColor,\n            'Current'\n          );\n          if (currentPolygon) {\n            this.adjustmentCircles.push(currentPolygon);\n            console.log('当前位置多边形创建成功');\n          } else {\n            console.error('当前位置多边形创建失败');\n          }\n        } else {\n          console.warn('当前位置坐标无效，跳过绘制');\n        }\n\n        // 3) 视角转向（可选；不创建圆）\n        if (!isTimerUpdate && targetCoordinates && Array.isArray(targetCoordinates) && targetCoordinates.length === 5) {\n          try {\n            const centerRa = targetCoordinates.reduce((s, c) => s + c.ra, 0) / targetCoordinates.length;\n            const centerDec = targetCoordinates.reduce((s, c) => s + c.dec, 0) / targetCoordinates.length;\n            console.log(`视角转向目标: RA=${centerRa}, DEC=${centerDec}`);\n\n            // 用临时对象只做指向，不加入 layer\n            const targetObjConfig = {\n              id: 'temp_target_' + Date.now(),\n              model_data: {},\n              names: ['Target Position'],\n              types: ['Temporary'],\n              model: 'temporary'\n            };\n            const targetObj = this.$stel.createObj('circle', targetObjConfig);\n            let mm = targetObj.pos;\n            this.vec3_from_sphe(centerRa, centerDec, mm);\n            targetObj.pos = mm;\n            if (typeof targetObj.update === 'function') targetObj.update();\n\n            this.$stel.pointAndLock(targetObj, 1.0);\n            console.log('视角转向完成');\n\n            // 清理临时对象（未加入 layer，无需 remove）\n            setTimeout(() => { try { /* no-op */ } catch (_) { } }, 0);\n          } catch (error) {\n            console.error('视角转向出错:', error);\n          }\n        }\n\n      } catch (error) {\n        console.error('绘制调整点多边形时出错:', error);\n      }\n    },\n\n\n    // 绘制目标点圆形（坐标：RA/Dec，单位：度）\n    drawTargetPointCircle(targetRa, targetDec, color, name, text, clearlast) {\n      if (clearlast === undefined) clearlast = true; // 内部设置默认值\n      console.log('绘制目标点圆形', { targetRa, targetDec, color });\n\n      try {\n        // 1) 校验\n        if (!this.isValidCoordinate(targetRa) || !this.isValidCoordinate(targetDec)) {\n          console.error(text + '坐标无效:', { targetRa, targetDec });\n          return;\n        }\n\n        // 2) 清除之前的目标点\n        if (this.targetPointCircle && clearlast) {\n          try {\n            if (glLayer) {\n              glLayer.remove(this.targetPointCircle);\n              console.log('成功清除之前的' + name);\n            }\n          } catch (error) {\n            console.warn('清除之前的' + text + '时出错:', error);\n          }\n        }\n\n        // 3) 创建圆对象\n        const circle = this.AddMarkCircle(this.$stel, glLayer, 4, name); // frame=4：赤道系\n        if (!circle) {\n          console.error(text + '圆形创建失败');\n          return;\n        }\n\n        // 4) 位置（RA/Dec 度 → 3D 单位向量）\n        const mm = circle.pos;\n        this.vec3_from_sphe(targetRa, targetDec, mm);\n        circle.pos = mm;\n\n        // 5) 样式\n        if (color) {\n          const rgb = this.hexToRgb(color.stroke || color.fill || '#FF8C00');\n          const alpha = (color.fillOpacity || 0.3);\n          const borderAlpha = (color.strokeOpacity || 1.0);\n          circle.color = [rgb.r / 255, rgb.g / 255, rgb.b / 255, alpha];\n          circle.border_color = [rgb.r / 255, rgb.g / 255, rgb.b / 255, borderAlpha];\n        } else {\n          circle.color = [1, 0.55, 0, 0.3];\n          circle.border_color = [1, 0.55, 0, 1];\n        }\n        const size = 0.02;\n        circle.size = [size, size];\n\n        // 6) 更新 & 保存引用\n        if (typeof circle.update === 'function') circle.update();\n        this.targetPointCircle = circle;\n\n        console.log(text + '圆形创建成功', circle);\n      } catch (error) {\n        console.error('绘制' + text + '圆形时出错:', error);\n      }\n    },\n\n\n    // 绘制假极轴圆形\n    DrawFakePolarAxisCircle(targetRa, targetDec, color, name, text) {\n      console.log('绘制目标点圆形', { targetRa, targetDec, color });\n\n      try {\n        // 验证输入参数\n        if (!this.isValidCoordinate(targetRa) || !this.isValidCoordinate(targetDec)) {\n          console.error(text + '坐标无效:', { targetRa, targetDec });\n          return;\n        }\n\n        // 清除之前的目标点\n        if (this.fakePolarAxisCircle) {\n          try {\n            if (glLayer) {\n              glLayer.remove(this.fakePolarAxisCircle);\n              console.log('成功清除之前的' + name);\n            }\n          } catch (error) {\n            console.warn('清除之前的' + text + '时出错:', error);\n          }\n        }\n\n        // 创建目标点圆形\n        let targetCircle = this.AddMarkCircle(this.$stel, glLayer, 4, name);\n        if (targetCircle) {\n          // 设置目标点位置\n          let targetMm = targetCircle.pos;\n          this.vec3_from_sphe(targetRa, targetDec, targetMm);\n          targetCircle.pos = targetMm;\n\n          // 设置目标点颜色和样式\n          if (color) {\n            // 将十六进制颜色转换为RGB数组\n            const rgb = this.hexToRgb(color.stroke || color.fill || '#FF8C00');\n            const alpha = (color.fillOpacity || 0.3);\n            const borderAlpha = (color.strokeOpacity || 1.0);\n\n            targetCircle.color = [rgb.r / 255, rgb.g / 255, rgb.b / 255, alpha];\n            targetCircle.border_color = [rgb.r / 255, rgb.g / 255, rgb.b / 255, borderAlpha];\n          } else {\n            // 默认橙色\n            targetCircle.color = [1, 0.55, 0, 0.3];  // 橙色，半透明\n            targetCircle.border_color = [1, 0.55, 0, 1];  // 橙色边框\n          }\n\n          // 设置目标点大小\n          const targetSize = 0.02; // 固定小尺寸\n          targetCircle.size = [targetSize, targetSize];\n\n          // 保存目标点引用，用于后续清除\n          this.fakePolarAxisCircle = targetCircle;\n\n          console.log(text + '圆形创建成功', targetCircle);\n        } else {\n          console.error(text + '圆形创建失败');\n        }\n\n      } catch (error) {\n        console.error('绘制' + text + '圆形时出错:', error);\n      }\n    },\n\n    ShowConfirmDialog(Title, Text, ToDo) {\n      // window.location.reload();\n      this.nav = false;\n      this.$bus.$emit('ShowConfirmDialog', Title, Text, ToDo);\n    },\n\n    decrement(item) {\n      console.log('decrement:', item.value);\n      if (item.value > item.inputMin) {\n        item.value -= item.inputStep;\n      }\n    },\n\n    increment(item) {\n      console.log('increment:', item.value);\n      if (item.value < item.inputMax) {\n        item.value += item.inputStep;\n      }\n    },\n\n    PolarAxisMode(bool) {\n      this.isPolarAxisMode = bool;\n    },\n\n    handleGuiderCanvasClick(event) {\n      const canvas = this.$refs.guiderCanvas;\n      const rect = canvas.getBoundingClientRect();\n      const x = event.clientX - rect.left; // 点击坐标X\n      const y = event.clientY - rect.top;  // 点击坐标Y\n      console.log(`Clicked at: (${x}, ${y})`);\n      const CanvasWidth = window.innerWidth;\n      const CanvasHeight = window.innerHeight;\n      this.$bus.$emit('AppSendMessage', 'Vue_Command', 'GuiderCanvasClick:' + CanvasWidth + ':' + CanvasHeight + ':' + x + ':' + y);\n    },\n    connectDriver() {\n      this.isConnecting = true;\n      // this.isOpenDevicePage = false;\n      this.startLoading();\n      const DeviceType = this.CurrentDriverType;\n      for (const device of this.devices) {\n        if (device.driverType === DeviceType && device.isConnected == false) {\n          const DriverName = device.driverName;\n          if (DriverName == '') {\n            this.SendConsoleLogMsg('No driver selected', 'warning');\n            this.isConnecting = false;\n            return;\n          }\n          this.$bus.$emit('AppSendMessage', 'Vue_Command', 'ConnectDriver:' + DriverName + ':' + DeviceType);\n          this.SendConsoleLogMsg('Start Connecting driver:' + DeviceType + ' ' + DriverName, 'info');\n          return;\n        }\n      }\n    },\n    connectDriverSuccess(devicetype) {\n      console.log('connectDriverSuccess:', devicetype);\n      this.SendConsoleLogMsg(\"connectDriverSuccess:\" + devicetype, 'info');\n      this.isConnecting = false;\n      if (this.drawer_2 == true) {\n        this.drawer_2 = false\n      }\n\n      this.stopLoading();\n    },\n    connectDriverFailed(message) {\n      console.log('connectDriverFailed:', message);\n      this.SendConsoleLogMsg(\"connectDriverFailed:\" + message, 'error');\n      this.isConnecting = false;\n      this.stopLoading();\n    },\n    disconnectDriver() {\n      const DeviceType = this.CurrentDriverType;\n      for (const device of this.devices) {\n        if (device.driverType === DeviceType && device.isConnected) {\n          this.$bus.$emit('AppSendMessage', 'Vue_Command', 'DisconnectDevice:' + device.device + \":\" + DeviceType);\n        }\n      }\n    },\n    disconnectDriversuccess(devicetype) {\n      console.log('disconnectDevicesuccess:', devicetype);\n      this.drawer_2 = false\n      if (devicetype == \"all\") {\n        this.sendMessage('Vue_Command', 'disconnectAllDevice');\n        this.SendConsoleLogMsg('Disconnect All Device', 'info');\n        this.haveDeviceConnect = false;\n        this.$bus.$emit('MainCameraConnected', 0);\n        this.$bus.$emit('MountConnected', 0);\n        this.$bus.$emit('CFWConnected', 0);\n        this.$bus.$emit('GuiderConnected', 0);\n        this.clearDeviceList();\n        this.$bus.$emit('deleteDeviceTypeAllocationList', 'all');\n        return;\n      };\n\n      for (const device of this.devices) {\n        if (device.driverType === devicetype && device.isConnected) {\n          device.isConnected = false;\n          device.isget = false;\n          device.device = device.driverName;\n        }\n      }\n      for (const device of this.ToBeConnectDevice) {\n        if (device.driverType === devicetype) {\n          device.isConnected = false;\n          device.isget = false;\n          device.device = device.driverName;\n        }\n      }\n\n      this.$bus.$emit('deleteDeviceTypeAllocationList', devicetype);\n      if (devicetype == \"MainCamera\") {\n        this.$bus.$emit('MainCameraConnected', 0);\n      } else if (devicetype == \"Mount\") {\n        this.$bus.$emit('MountConnected', 0);\n      } else if (devicetype == \"CFW\") {\n        this.$bus.$emit('CFWConnected', 0);\n      } else if (devicetype == \"Guider\") {\n        this.$bus.$emit('GuiderConnected', 0);\n      }\n    },\n\n    disconnectDriverFail(devicetype) {\n      console.log('disconnectDeviceFail:', devicetype);\n      this.drawer_2 = false\n      if (devicetype == \"all\") {\n        this.sendMessage('Vue_Command', 'disconnectAllDevice');\n        this.SendConsoleLogMsg('Disconnect All Device', 'info');\n        this.haveDeviceConnect = false;\n        this.$bus.$emit('MainCameraConnected', 0);\n        this.$bus.$emit('MountConnected', 0);\n        this.$bus.$emit('CFWConnected', 0);\n        this.$bus.$emit('GuiderConnected', 0);\n        this.clearDeviceList();\n        this.$bus.$emit('deleteDeviceTypeAllocationList', 'all');\n        return;\n      };\n\n      for (const device of this.devices) {\n        if (device.driverType === devicetype && device.isConnected) {\n          device.isConnected = false;\n          device.isget = false;\n          device.device = device.driverName;\n        }\n      }\n      for (const device of this.ToBeConnectDevice) {\n        if (device.driverType === devicetype) {\n          device.isConnected = false;\n          device.isget = false;\n          device.device = device.driverName;\n        }\n      }\n\n      this.$bus.$emit('deleteDeviceTypeAllocationList', devicetype);\n      if (devicetype == \"MainCamera\") {\n        this.$bus.$emit('MainCameraConnected', 0);\n      } else if (devicetype == \"Mount\") {\n        this.$bus.$emit('MountConnected', 0);\n      } else if (devicetype == \"CFW\") {\n        this.$bus.$emit('CFWConnected', 0);\n      } else if (devicetype == \"Guider\") {\n        this.$bus.$emit('GuiderConnected', 0);\n      }\n    },\n    loadSelectedDriverList(deviceObject) {\n      console.log('loadSelectedDriverList:', deviceObject);\n      deviceObject.forEach(device => {\n        // 假设你想要打印每个设备对象的键值对\n        for (const [driverType, driverName] of Object.entries(device)) {\n          this.devices.forEach(device => {\n            if (device.driverType === driverType && device.isConnected == false) {\n              device.device = driverName;\n              device.driverName = driverName;\n            }\n          });\n        }\n      });\n    },\n    loadBindDeviceList(deviceObject) {\n      console.log('loadBindDeviceList:', deviceObject);\n      this.$bus.$emit('loadBindDeviceList', deviceObject);\n\n    },\n    loadBindDeviceTypeList(deviceTypeObject) {\n      console.log('loadBindDeviceTypeList:', deviceTypeObject);\n      this.$bus.$emit('loadBindDeviceTypeList', deviceTypeObject);\n      deviceTypeObject.forEach(deviceType => {\n        const { Type, DeviceName, DriverName, isbind } = deviceType;\n        this.updateDevicesConnect(Type, DeviceName, DriverName, isbind);\n      });\n    },\n    updateSelectedDriver(driverType) {\n\n      this.selectedDriver = null;\n      this.devices.forEach(device => {\n        if (device.driverType === driverType) {\n          this.selectedDriver = device.driverName\n        }\n      });\n      console.log('Current drivers:', this.selectedDriver);\n    },\n    startLoading() {\n      this.loadingDeviceSelection = true;\n    },\n    stopLoading() {\n      this.loadingDeviceSelection = false;\n    },\n    deleteDeviceAllocationList(deviceName) {\n      console.log('deleteDeviceAllocationList:', deviceName);\n      this.$bus.$emit('deleteDeviceAllocationList', deviceName);\n    },\n    UnBindingDevice(type, name, driverName) {\n      console.log('UnBindingDevice:', type, name, driverName);\n      this.updateDevicesConnect(type, name, driverName, false);\n    },\n\n    displayErrorImage() {\n      console.error(\"image is error, load errorImage.svg\");\n      const canvas = document.getElementById('mainCamera-canvas');\n      const ctx = canvas.getContext('2d');\n      const image = new Image();\n\n      image.onload = () => {\n        // 获取设备像素比\n        const devicePixelRatio = window.devicePixelRatio || 1;\n\n        // 调整画布尺寸以适应高清显示\n        canvas.width = image.width * devicePixelRatio;\n        canvas.height = image.height * devicePixelRatio;\n        ctx.scale(devicePixelRatio, devicePixelRatio); // 缩放ctx以适应高清画布\n\n        // 绘制图像\n        ctx.drawImage(image, 0, 0);\n      };\n\n      image.onerror = () => {\n        console.error(\"Failed to load image from \" + image.src);\n        // 可以在这里添加备用图像或其他错误处理逻辑\n      };\n\n      // 确保ErrorImage是有效的URL\n      image.src = ErrorImage; // 请替换为实际的图像路径\n    },\n    handleError(message, location, error = null) {\n      const errorMsg = error ? `${message} at ${location}: ${error}` : `${message} at ${location}`;\n      console.error(errorMsg);\n      this.SendConsoleLogMsg(errorMsg, 'error');\n      this.displayErrorImage(); // 显示错误图像\n    },\n    showSelectdisconnectDriver(drivername) {\n      this.showDisconnectDialog = true;\n      this.currentDisconnectDriverName = drivername;\n    },\n    confirmDisconnect() {\n      this.sendMessage('Vue_Command', 'disconnectSelectDriver:' + this.currentDisconnectDriverName);\n      this.showDisconnectDialog = false;\n    },\n\n    // 主画布点击事件\n    handleMainCanvasClick(event) {\n      // this.SendConsoleLogMsg('触发鼠标点击事件:', 'info');\n      if (!this.enableMainCanvasClick || this.isDragging || this.drawImgData == null) return; // 如果画布不可点击，则不处理点击事件\n      // console.log('触发鼠标点击事件:', event);\n      const canvas = this.$refs.mainCanvas;\n      if (!canvas) return; // 确保 canvas 元素存在\n      const rect = canvas.getBoundingClientRect();// 获取 canvas 元素的边界矩形\n      const x = event.clientX - rect.left;\n      const y = event.clientY - rect.top;\n      console.log('Mouse clicked at:', x, y);\n      if (!this.isFocusLoopShooting) {\n        // 期望中心（画布坐标 → 传感器像素坐标）\n        const desiredCenterX = (x / window.innerWidth * this.visibleWidth) + this.visibleX - this.visibleWidth / 2;\n        const desiredCenterY = (y / window.innerHeight * this.visibleHeight) + this.visibleY - this.visibleHeight / 2;\n\n        // ROI 边长（像素，偶数化），来源于固定 RedBoxSideLength\n        let side = this.RedBoxSideLength / this.cameraBin;\n        side = Math.max(2, Math.floor(side));\n        if (side % 2 !== 0) side += 1; // 强制偶数\n\n        // 将 ROI 左上角按中心反推，并约束在图像范围内\n        const half = side / 2;\n        const imgW = this.mainCameraSizeX;\n        const imgH = this.mainCameraSizeY;\n\n        let roiX = desiredCenterX - half;\n        let roiY = desiredCenterY - half;\n\n        // 边界约束\n        const maxX = Math.max(0, imgW - side);\n        const maxY = Math.max(0, imgH - side);\n        roiX = Math.min(Math.max(0, roiX), maxX);\n        roiY = Math.min(Math.max(0, roiY), maxY);\n\n        // 偶数对齐位置\n        roiX = Math.floor(roiX);\n        roiY = Math.floor(roiY);\n        if (roiX % 2 !== 0) roiX += 1;\n        if (roiY % 2 !== 0) roiY += 1;\n\n        this.ROI_x = roiX;\n        this.ROI_y = roiY;\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'sendRedBoxState:' + this.RedBoxSideLength + ':' + this.ROI_x + ':' + this.ROI_y);\n      } else {\n        this.selectStarX = ((x / window.innerWidth * this.visibleWidth) + this.visibleX - this.visibleWidth / 2 - this.ROI_x) * this.cameraBin; // 计算选择位置的x坐标\n        this.selectStarY = ((y / window.innerHeight * this.visibleHeight) + this.visibleY - this.visibleHeight / 2 - this.ROI_y) * this.cameraBin; // 计算选择位置的y坐标\n\n        if (this.selectStarX >= 0 && this.selectStarX < this.RedBoxSideLength &&\n          this.selectStarY >= 0 && this.selectStarY < this.RedBoxSideLength) {\n          this.SendConsoleLogMsg('Select Star is in ROI', 'info');\n        } else {\n          this.SendConsoleLogMsg('Select Star is not in ROI', 'error');\n          this.selectStarX = -1;\n          this.selectStarY = -1;\n        }\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'sendSelectStars:' + this.selectStarX + ':' + this.selectStarY);\n      }\n      this.drawImageData();\n    },\n\n    // 主画布拖动\n    handleMouseDown(event) {\n      // this.SendConsoleLogMsg('触发鼠标按下事件:', 'info');\n      if (this.isDragging || this.drawImgData == null) return;\n      this.isDragging = true;\n      this.startX = event.clientX;\n      this.startY = event.clientY;\n      this.currentX = event.clientX;\n      this.currentY = event.clientY;\n\n      // 设置一个定时器，每100ms执行一次鼠标移动的逻辑\n      this.moveIntervalId = setInterval(() => {\n        if (!this.isDragging) return;\n\n        const dx = this.startX - this.currentX;\n        const dy = this.startY - this.currentY;\n        if (isNaN(dx) || isNaN(dy)) {\n          return;\n        }\n        let newVisibleX = this.visibleX + dx / window.innerWidth * this.visibleWidth;\n        let newVisibleY = this.visibleY + dy / window.innerHeight * this.visibleHeight;\n        if (newVisibleX < 0) {\n          newVisibleX = 0;\n        }\n        if (newVisibleY < 0) {\n          newVisibleY = 0;\n        }\n        if (newVisibleX > this.mainCameraSizeX) {\n          newVisibleX = this.mainCameraSizeX;\n        }\n        if (newVisibleY > this.mainCameraSizeY) {\n          newVisibleY = this.mainCameraSizeY;\n        }\n\n        this.visibleX = newVisibleX;\n        this.visibleY = newVisibleY;\n\n        this.startX = this.currentX;\n        this.startY = this.currentY;\n        this.drawImageData();\n        // this.SendConsoleLogMsg('拖动事件,拖动距离:' + dx + ',' + dy, 'info');\n      }, 100);\n    },\n    handleMouseMove(event) {\n      // this.SendConsoleLogMsg('触发鼠标移动事件:', 'info');\n      if (!this.isDragging) return;\n      this.currentX = event.clientX;\n      this.currentY = event.clientY;\n    },\n    handleMouseUp(event) {\n      // this.SendConsoleLogMsg('触发鼠标抬起事件:', 'info');\n      this.isDragging = false;\n\n      // 清除定时器\n      clearInterval(this.moveIntervalId);\n      this.moveIntervalId = null;\n    },\n    handleWheel(event) {\n      // this.SendConsoleLogMsg('触发鼠标滚轮事件:', 'info');\n      if (this.drawImgData == null) return;\n      const scaleChange = event.deltaY > 0 ? 0.1 : -0.1; // 根据滚轮的滚动方向，计算缩放比例的变化量\n      let newScale = this.scale + scaleChange; // 更新缩放比例\n      if (newScale < 0.1) {\n        newScale = 0.1;\n      }\n      if (newScale > 1) {\n        newScale = 1;\n      }\n\n      // 如果已经有一个待执行的缩放操作，则直接返回\n      if (this.pendingScaleChange) {\n        return;\n      }\n\n      // 标记有一个待执行的缩放操作\n      this.pendingScaleChange = true;\n\n      // 使用 requestAnimationFrame 来控制缩放操作的执行频率\n      requestAnimationFrame(() => {\n        if (newScale != this.scale) {\n          this.scale = newScale; // 更新缩放比例\n          this.$bus.$emit('setScale', this.scale);\n          this.drawImageData();\n          this.SendConsoleLogMsg('缩放比例变化,缩放比例:' + newScale, 'info');\n        } else {\n          this.SendConsoleLogMsg('缩放比例没有变化,缩放比例:' + this.scale, 'info');\n        }\n        this.pendingScaleChange = false; // 清除待执行的缩放操作标记\n      });\n    },\n\n    handleMainCanvasTouch(event) {\n      // this.SendConsoleLogMsg('触发触摸事件:', 'info');\n      if (!this.enableMainCanvasClick || this.isDragging || this.drawImgData == null) return; // 如果画布不可点击，则不处理点击事件\n      // console.log('触发触摸事件:', event);\n      if (!this.enableMainCanvasClick || !event.touches || event.touches.length === 0) return;\n      const canvas = this.$refs.mainCanvas;\n      if (!canvas) return; // 确保 canvas 元素存在\n      const touch = event.touches[0];\n      const rect = canvas.getBoundingClientRect();// 获取 canvas 元素的边界矩形\n      const x = touch.clientX - rect.left;\n      const y = touch.clientY - rect.top;\n      console.log('Touch at:', x, y);\n      event.preventDefault();// 阻止默认事件，如页面滚动\n      if (!this.isFocusLoopShooting) {\n        // 期望中心（画布坐标 → 传感器像素坐标）\n        const desiredCenterX = (x / window.innerWidth * this.visibleWidth) + this.visibleX - this.visibleWidth / 2;\n        const desiredCenterY = (y / window.innerHeight * this.visibleHeight) + this.visibleY - this.visibleHeight / 2;\n\n        // ROI 边长（像素，偶数化），来源于固定 RedBoxSideLength\n        let side = this.RedBoxSideLength / this.cameraBin;\n        side = Math.max(2, Math.floor(side));\n        if (side % 2 !== 0) side += 1; // 强制偶数\n\n        // 将 ROI 左上角按中心反推，并约束在图像范围内\n        const half = side / 2;\n        const imgW = this.mainCameraSizeX;\n        const imgH = this.mainCameraSizeY;\n\n        let roiX = desiredCenterX - half;\n        let roiY = desiredCenterY - half;\n\n        // 边界约束\n        const maxX = Math.max(0, imgW - side);\n        const maxY = Math.max(0, imgH - side);\n        roiX = Math.min(Math.max(0, roiX), maxX);\n        roiY = Math.min(Math.max(0, roiY), maxY);\n\n        // 偶数对齐位置\n        roiX = Math.floor(roiX);\n        roiY = Math.floor(roiY);\n        if (roiX % 2 !== 0) roiX += 1;\n        if (roiY % 2 !== 0) roiY += 1;\n\n        this.ROI_x = roiX;\n        this.ROI_y = roiY;\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'sendRedBoxState:' + this.RedBoxSideLength + ':' + this.ROI_x + ':' + this.ROI_y);\n      } else {\n        this.selectStarX = ((x / window.innerWidth * this.visibleWidth) + this.visibleX - this.visibleWidth / 2 - this.ROI_x) * this.cameraBin; // 计算选择位置的x坐标\n        this.selectStarY = ((y / window.innerHeight * this.visibleHeight) + this.visibleY - this.visibleHeight / 2 - this.ROI_y) * this.cameraBin; // 计算选择位置的y坐标\n\n        if (this.selectStarX >= 0 && this.selectStarX < this.RedBoxSideLength &&\n          this.selectStarY >= 0 && this.selectStarY < this.RedBoxSideLength) {\n          this.SendConsoleLogMsg('Select Star is in ROI', 'info');\n        } else {\n          this.SendConsoleLogMsg('Select Star is not in ROI', 'error');\n          this.selectStarX = -1;\n          this.selectStarY = -1;\n        }\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'sendSelectStars:' + this.selectStarX + ':' + this.selectStarY);\n      }\n      this.drawImageData();\n    },\n    handleTouchStart(event) {\n      if (this.drawImgData == null) return;\n      // this.SendConsoleLogMsg('触发触摸开始事件:', 'info');\n      if (event.touches.length === 1) { // 单指触摸，开始拖动\n        this.isOneTouch = true;\n        // this.SendConsoleLogMsg('触发单指触摸事件', 'info');\n        this.isDragging = true;\n        this.startTouchX[0] = event.touches[0].clientX;\n        this.startTouchY[0] = event.touches[0].clientY;\n        this.currentTouchX[0] = event.touches[0].clientX;\n        this.currentTouchY[0] = event.touches[0].clientY;\n        // 清除可能存在的双指触摸的定时器\n        if (this.zoomIntervalId) {\n          clearInterval(this.zoomIntervalId);\n          this.zoomIntervalId = null;\n        }\n\n\n        this.handleMainCanvasTouch(event);\n      } else if (event.touches.length >= 2) { // 双指触摸，开始缩放\n        this.isOneTouch = false;\n        // this.SendConsoleLogMsg('触发双指触摸事件', 'info');\n        this.isDragging = true;\n        // 计算两个触摸点之间的距离\n        const dx = this.currentTouchX[0] - this.currentTouchX[1];\n        const dy = this.currentTouchY[0] - this.currentTouchY[1];\n        this.startTouchDistance = Math.sqrt(dx * dx + dy * dy);\n        // 清除可能存在的单指触摸的定时器\n        if (this.moveIntervalId) {\n          clearInterval(this.moveIntervalId);\n          this.moveIntervalId = null;\n        }\n\n\n      } else {\n        // this.SendConsoleLogMsg('触发多指触摸事件，获取当前触摸点数量:' + event.touches.length, 'info');\n      }\n\n    },\n\n    handleTouchMove(event) {\n      // this.SendConsoleLogMsg('触发触摸移动事件:', 'info');\n      if (!this.isDragging || this.drawImgData == null) return;\n      if (event.touches.length == 1) {\n        this.currentTouchX[0] = event.touches[0].clientX;\n        this.currentTouchY[0] = event.touches[0].clientY;\n        if (this.zoomIntervalId) {\n          clearInterval(this.zoomIntervalId);\n          this.zoomIntervalId = null;\n        }\n        if (this.moveIntervalId != null) {\n          return;\n        }\n        // 设置一个定时器，每100ms执行一次触摸移动的逻辑\n        this.moveIntervalId = setInterval(() => {\n          // console.log('执行触摸移动!');\n          if (!this.isDragging || !this.isOneTouch) return;\n\n          const dx = this.startTouchX[0] - this.currentTouchX[0];\n          const dy = this.startTouchY[0] - this.currentTouchY[0];\n          if (isNaN(dx) || isNaN(dy)) {\n            return;\n          }\n          if (dx == 0 && dy == 0) {\n            return;\n          }\n\n          let newVisibleX = this.visibleX + dx / window.innerWidth * this.visibleWidth;\n          let newVisibleY = this.visibleY + dy / window.innerHeight * this.visibleHeight;\n          if (newVisibleX < 0) {\n            newVisibleX = 0;\n          }\n          if (newVisibleY < 0) {\n            newVisibleY = 0;\n          }\n          if (newVisibleX > this.mainCameraSizeX) {\n            newVisibleX = this.mainCameraSizeX;\n          }\n          if (newVisibleY > this.mainCameraSizeY) {\n            newVisibleY = this.mainCameraSizeY;\n          }\n\n          this.visibleX = newVisibleX;\n          this.visibleY = newVisibleY;\n\n          this.startTouchX[0] = this.currentTouchX[0];\n          this.startTouchY[0] = this.currentTouchY[0];\n\n          this.drawImageData();\n        }, 100);\n\n      } else if (event.touches.length >= 2) {\n        this.currentTouchX[0] = event.touches[0].clientX;\n        this.currentTouchY[0] = event.touches[0].clientY;\n        this.currentTouchX[1] = event.touches[1].clientX;\n        this.currentTouchY[1] = event.touches[1].clientY;\n\n        // 清除可能存在的单指触摸的定时器\n        if (this.moveIntervalId) {\n          clearInterval(this.moveIntervalId);\n          this.moveIntervalId = null;\n        }\n        if (this.zoomIntervalId != null) {\n          return;\n        }\n        // 设置一个定时器，每100ms执行一次缩放逻辑\n        this.zoomIntervalId = setInterval(() => {\n          if (!this.isDragging || !this.isOneTouch) return;\n          const dx = this.currentTouchX[0] - this.currentTouchX[1];\n          const dy = this.currentTouchY[0] - this.currentTouchY[1];\n          const distance = Math.sqrt(dx * dx + dy * dy);\n          this.SendConsoleLogMsg('距离变化 distance:' + distance, 'info');\n          if (this.startTouchDistance == 0) {\n            this.startTouchDistance = distance;\n          }\n          // 计算缩放比例的变化量\n          const scaleChange = distance / this.startTouchDistance;\n          this.SendConsoleLogMsg('距离变化比例 scaleChange:' + scaleChange, 'info');\n          let newScale = this.scale * scaleChange; // 更新缩放比例\n          if (newScale < 0.1) {\n            newScale = 0.1;\n          }\n          if (newScale > 1) {\n            newScale = 1;\n          }\n          if (newScale != this.scale) {\n            this.SendConsoleLogMsg('缩放比例变化,缩放比例:' + newScale, 'info');\n            this.scale = newScale; // 更新缩放比例\n            this.$bus.$emit('setScale', this.scale);\n            this.drawImageData();\n          } else {\n            this.SendConsoleLogMsg('缩放比例没有变化,缩放比例:' + this.scale, 'info');\n          }\n          this.startTouchDistance = distance; // 更新两个触摸点之间的距离\n        }, 100);\n      } else {\n        this.SendConsoleLogMsg('触发多指触摸事件，获取当前触摸点数量:' + event.touches.length, 'info');\n      }\n    },\n\n    handleTouchEnd(event) {\n      // this.SendConsoleLogMsg('触发触摸结束事件:', 'info');\n      this.isDragging = false; // 停止拖动\n      // 清除定时器\n      if (this.moveIntervalId) {\n        clearInterval(this.moveIntervalId);\n        this.moveIntervalId = null;\n      }\n      if (this.zoomIntervalId) {\n        clearInterval(this.zoomIntervalId);\n        this.zoomIntervalId = null;\n      }\n    },\n\n    ScaleChange(type) {\n      if (this.drawImgData == null) return;\n      if (type == '+') {\n        this.scale -= 0.1;\n      } else if (type == '-') {\n        this.scale += 0.1;\n      }\n      if (this.scale < 0.1) {\n        this.scale = 0.1;\n      }\n      if (this.scale > 1) {\n        this.scale = 1;\n      }\n      this.$bus.$emit('setScale', this.scale);\n      this.drawImageData();\n    },\n\n    // 显示ROI图像\n    showRoiImage(fileName, destX, destY) {\n      if (this.RedBoxSideLength == 0 || this.RedBoxSideLength == null) {\n        this.SendConsoleLogMsg('RedBoxSideLength is 0 or null', 'error');\n        return;\n      }\n      if (this.isProcessingImage) {\n        this.SendConsoleLogMsg('Image is being transmitted, current processing is slow, skipping one frame.', 'warning');\n        return;\n      }\n      this.isProcessingImage = true;\n      const imagePath = 'img/' + fileName;\n      // 创建一个AbortController实例来取消fetch请求\n      const fetchController = new AbortController();\n      const fetchSignal = fetchController.signal;\n\n      // const startDownloadTime = performance.now();\n\n      // 使用 fetch API 获取二进制数据\n      fetch(imagePath, { cache: 'no-store', signal: fetchSignal })\n        .then(response => response.arrayBuffer())\n        .then(buffer => {\n          // const endDownloadTime = performance.now();\n          // const downloadTime = endDownloadTime - startDownloadTime;\n          if (this.isFocusLoopShooting) this.$bus.$emit('AppSendMessage', 'Vue_Command', 'showRoiImageSuccess:true');\n          else this.$bus.$emit('AppSendMessage', 'Vue_Command', 'showRoiImageSuccess:false');\n          let time1 = performance.now();\n          let src, imgData, targetImg8;\n          try {\n            const uint16Array = new Uint16Array(buffer);\n            let newWidth = parseInt(this.RedBoxSideLength / this.cameraBin);\n            let newHeight = parseInt(this.RedBoxSideLength / this.cameraBin);\n            if (newWidth % 2 != 0) {\n              newWidth = newWidth - 1;\n            }\n            if (newHeight % 2 != 0) {\n              newHeight = newHeight - 1;\n            }\n            if (uint16Array.length !== newWidth * newHeight) {\n              this.SendConsoleLogMsg('uint16Array.length (' + uint16Array.length + ') !== newWidth * newHeight (' + newWidth * newHeight + ')', 'error');\n              return;\n            }\n            // 创建一个空的 Mat 对象\n            src = new cv.Mat(newHeight, newWidth, cv.CV_16UC1);\n            src.data16U.set(uint16Array);\n            let time2 = performance.now();\n            this.SendConsoleLogMsg('创建mat对象时间: ' + (time2 - time1).toFixed(0) + 'ms', 'info');\n            if (this.lastImageProcessParams.isColorCamera == 'true' || this.lastImageProcessParams.isColorCamera == 'True' || this.lastImageProcessParams.isColorCamera) {\n              targetImg8 = this.applyStretchAndGain(src, this.lastImageProcessParams.analysis, 'bayer', this.lastImageProcessParams.CFA, this.lastImageProcessParams.blackLevel, this.lastImageProcessParams.whiteLevel);\n\n            } else {\n              targetImg8 = this.applyStretchAndGain(src, this.lastImageProcessParams.analysis, 'gray', this.lastImageProcessParams.CFA, this.lastImageProcessParams.blackLevel, this.lastImageProcessParams.whiteLevel);\n     \n            }\n            time1 = performance.now();\n            this.SendConsoleLogMsg('applyStretchAndGain时间: ' + (time1 - time2).toFixed(0) + 'ms', 'info');\n            src.delete();\n            src = null;\n\n            // 将 Mat 对象转换回 ImageData 对象\n            imgData = new ImageData(new Uint8ClampedArray(targetImg8.data), targetImg8.cols, targetImg8.rows);\n            targetImg8.delete();\n            targetImg8 = null;\n            // 在指定位置开始绘制图像\n            // this.bufferCtx.clearRect(this.ROI_x, this.ROI_y, targetImg8.cols, targetImg8.rows);\n            this.bufferCtx.putImageData(imgData, this.ROI_x, this.ROI_y);\n            // this.SendConsoleLogMsg('绘制一次ROI数据:' + fileName + ':' + this.ROI_x + ':' + this.ROI_y, 'info');\n            // 标注识别到的星点位置\n            // time2 = performance.now();\n            // this.SendConsoleLogMsg('绘制在缓存画布耗时: ' + (time2 - time1).toFixed(0) + 'ms', 'info');\n            this.drawImageData();\n            // time1 = performance.now();\n            // this.SendConsoleLogMsg('drawImageData时间: ' + (time1 - time2).toFixed(0) + 'ms', 'info');\n            this.focuserPictureFileName = fileName;\n            // const processTime = performance.now() - downloadTime;\n            // this.SendConsoleLogMsg(`ROI的执行时间 下载: ${downloadTime.toFixed(0)}ms, 处理: ${processTime.toFixed(0)}ms`, 'info');\n\n          } catch (error) {\n            console.error(`处理图像失败: ${imagePath}`, error);\n          } finally {\n            // 确保 Mat 对象和 ImageData 对象被删除\n            if (src && !src.isDeleted()) {\n              src.delete();\n              src = null; // 添加这行代码，确保 src 对象被清理\n            }\n            if (targetImg8 && !targetImg8.isDeleted()) {\n              targetImg8.delete();\n              targetImg8 = null; // 添加这行代码，确保 originalImg8 对象被清理\n            }\n            // 确保 buffer 被清理\n            buffer = null;\n            this.isProcessingImage = false;\n          }\n        })\n        .catch(error => {\n          if (error.name === 'AbortError') {\n            console.log('Fetch request cancelled');\n          } else {\n            console.error(`获取图像失败: ${imagePath}`, error);\n          }\n          this.isProcessingImage = false;\n        });\n\n      // 在组件卸载时取消 fetch 请求\n      this.$once('hook:beforeDestroy', () => {\n        fetchController.abort();\n      });\n    },\n    setRedBoxState(length, x, y) {\n      this.SendConsoleLogMsg('setRedBoxState:' + length + ',' + x + ',' + y, 'info');\n      this.$bus.$emit('setRedBoxPosition', x, y);\n      this.$bus.$emit('setRedBoxSideLength', length);\n    },\n    setFocuserState(state) {\n      if (state === 'selectstars') {\n        this.isFocusLoopShooting = true;\n      } else {\n        this.isFocusLoopShooting = false;\n      }\n    },\n    setShowSelectStar(state) {\n      this.showSelectStar = state;\n    },\n    RedBoxSizeChange(length) {\n      this.RedBoxSideLength = parseInt(length);\n      // this.$bus.$emit('AppSendMessage', 'Vue_Command', 'sendRedBoxState:' + this.RedBoxSideLength + ':' + this.ROI_x + ':' + this.ROI_y);\n    },\n    setMainCameraParameters(parameters) {\n      for (const parameter in parameters) {\n        const item = this.MainCameraConfigItems.find(item => item.label === parameter);\n        if (item) {\n          item.value = parameters[parameter];\n        } else {\n          if (parameter == 'RedBoxSize') {\n            this.$bus.$emit('setRedBoxSideLength', parameters[parameter]);\n            this.RedBoxSideLength = parseInt(parameters[parameter]);\n          } else if (parameter == 'ROI_x') {\n            this.ROI_x = parseFloat(parameters[parameter]);\n          } else if (parameter == 'ROI_y') {\n            this.ROI_y = parseFloat(parameters[parameter]);\n          } \n          else {\n            console.error(`未找到参数：${parameter}`);\n          }\n        }\n      }\n      this.confirmConfiguration(this.MainCameraConfigItems);\n    },\n    showCanvas(canvas) {\n      if (canvas === 'Stel') {\n        this.currentcanvas = 'Stel';\n        this.showStelCanvas();\n      }\n      else if (canvas === 'MainCamera') {\n\n        this.currentcanvas = 'MainCamera';\n        this.showMainCameraCanvas();\n        this.drawImageData()\n      }\n      else if (canvas === 'GuiderCamera') {\n        this.currentcanvas = 'GuiderCamera';\n        this.showGuiderCameraCanvas();\n      } else {\n        this.SendConsoleLogMsg(\"unknown canvas: \" + canvas, 'error');\n      }\n    },\n    // 现有的加减函数需要修改\n    decrementAndNotify(item) {\n      if (item.value > item.inputMin) {\n        item.value -= item.inputStep;\n        this.handleConfigChange(item.label, item.value);\n      }\n    },\n\n    incrementAndNotify(item) {\n      if (item.value < item.inputMax) {\n        item.value += item.inputStep;\n        this.handleConfigChange(item.label, item.value);\n      }\n    },\n\n    // 通用的配置更改处理函数\n    handleConfigChange(label, value) {\n      console.log(`配置已更改: ${label} = ${value}`);\n      if (value !== '') {\n        // console.log(item.label, item.value);\n        this.SendConsoleLogMsg(label + ':' + value, 'info');\n        this.$bus.$emit(label, label + ':' + value);\n      } else if (value == '' && label === 'Focal Length (mm)') {\n        this.SendConsoleLogMsg(label + 'is NULL', 'info');\n        this.$bus.$emit(item.label, item.label + ':');\n      }\n    },\n    // 校准相关方法\n    startCalibrationProcess() {\n      this.calibrationInfo.isCalibrating = true;\n      this.calibrationInfo.calibrationState = 'running';\n      this.calibrationInfo.calibrationStep = 0;\n      this.calibrationInfo.calibrationMessage = this.$t('Preparing to start focuser travel calibration...');\n      console.log('App: Calibration started:', this.calibrationInfo);\n    },\n\n    updateCalibrationInfo(step, message, state) {\n      try {\n        this.calibrationInfo.calibrationStep = step;\n        // 如果消息是国际化键，则翻译它\n        if (message && typeof message === 'string') {\n          this.calibrationInfo.calibrationMessage = this.$t(message);\n        } else {\n          this.calibrationInfo.calibrationMessage = message;\n        }\n        if (state) {\n          this.calibrationInfo.calibrationState = state;\n        }\n        if (step === 0) {\n          this.calibrationInfo.isCalibrating = true;\n        }\n        console.log('App: Calibration info updated:', this.calibrationInfo);\n      } catch (error) {\n        console.error('Error in updateCalibrationInfo:', error);\n      }\n    },\n\n    endCalibration() {\n      this.calibrationInfo.isCalibrating = false;\n      this.calibrationInfo.calibrationState = 'idle';\n      this.calibrationInfo.calibrationStep = 0;\n      this.calibrationInfo.calibrationMessage = '';\n      console.log('App: Calibration ended');\n    },// 自动对焦相关方法 - [AUTO_FOCUS_UI_ENHANCEMENT]\n    startAutoFocusProcess() {\n      this.autoFocusInfo.isRunning = true;\n      this.autoFocusInfo.state = 'running';\n      this.autoFocusInfo.step = 0;\n      this.autoFocusInfo.message = this.$t('Preparing to start auto focus...');\n      console.log('App: Auto focus started:', this.autoFocusInfo);\n    },\n\n    updateAutoFocusStep(step, message) {\n      try {\n        \n        this.autoFocusInfo.step = step;\n        this.autoFocusInfo.message = message;\n        if (step === 0) {\n          this.autoFocusInfo.isRunning = true;\n        }\n        console.log('App: Auto focus info updated:', this.autoFocusInfo);\n      } catch (error) {\n        console.error('Error in updateAutoFocusStep:', error);\n      }\n    },\n\n    endAutoFocus() {\n      this.autoFocusInfo.isRunning = false;\n      this.autoFocusInfo.state = 'idle';\n      this.autoFocusInfo.step = 0;\n      this.autoFocusInfo.message = '';\n      console.log('App: Auto focus ended');\n    },\n  },\n  computed: {\n    nav: {\n      get: function () {\n        console.log('nav:', this.$store.state.showNavigationDrawer);\n        return this.$store.state.showNavigationDrawer\n      },\n      set: function (v) {\n        if (this.$store.state.showNavigationDrawer !== v) {\n          console.log('nav:', this.$store.state.showNavigationDrawer);\n          this.$store.commit('toggleBool', 'showNavigationDrawer')\n        }\n      }\n    },\n    storeCurrentLocation: function () {\n      return this.$store.state.currentLocation\n    },\n    getQTClientVersionColor() {\n      if (this.QTClientVersion === 'Not connected') {\n        return 'rgba(255, 0, 0, 0.5)'; // 红色，透明度 0.5\n      } else {\n        return 'rgba(255, 255, 255, 0.5)'; // 默认白色，透明度 0.5\n      }\n    },\n    isMobile() {\n      var ua = navigator.userAgent || '';\n      var touch = ('ontouchstart' in window) || (navigator.maxTouchPoints > 0);\n      var uaDataMobile = null;\n      // 兼容老浏览器：避免可选链\n      if (navigator.userAgentData && typeof navigator.userAgentData.mobile !== 'undefined') {\n        uaDataMobile = navigator.userAgentData.mobile;\n      }\n      var mobileLike = /Android|iPhone|iPad|iPod|Mobile|Tablet/i.test(ua);\n      return (uaDataMobile !== null ? uaDataMobile : mobileLike) && !!touch;\n    },\n    isDesktop() {\n      return !this.isMobile;\n    },\n    isMountConnected() {\n      try {\n        const dev = this.devices && this.devices.find(d => d.driverType === 'Mount');\n        return !!(dev && dev.isConnected);\n      } catch (e) {\n        return false;\n      }\n    },\n    flipEtaSeconds() {\n      try {\n        const item = this.MountConfigItems && this.MountConfigItems.find(i => i.label === 'Flip ETA');\n        const raw = item ? (item.displayValue != null ? String(item.displayValue) : String(item.value || '')) : '';\n        const m = raw.match(/^(-)?(\\d{1,2}):(\\d{1,2}):(\\d{1,2})$/);\n        if (!m) return 999999;\n        const sign = m[1] === '-' ? -1 : 1;\n        const h = parseInt(m[2], 10) || 0;\n        const mi = parseInt(m[3], 10) || 0;\n        const s = parseInt(m[4], 10) || 0;\n        const total = sign * (h * 3600 + mi * 60 + s);\n        return Number.isFinite(total) ? total : 999999;\n      } catch (e) {\n        return 999999;\n      }\n    },\n  },\n  watch: {\n    storeCurrentLocation: function (loc) {\n      const DD2R = Math.PI / 180\n      this.$stel.core.observer.latitude = loc.lat * DD2R\n      this.$stel.core.observer.longitude = loc.lng * DD2R\n      this.$stel.core.observer.elevation = loc.alt\n\n      // At startup, we need to wait for the location to be set before deciding which\n      // startup time to set so that it's night time.\n      if (!this.startTimeIsSet) {\n        this.$stel.core.observer.utc = swh.getTimeAfterSunset(this.$stel)\n        this.startTimeIsSet = true\n      }\n      // Init of time and date is complete\n      this.$store.commit('setValue', { varName: 'initComplete', newValue: true })\n    },\n    $route: function () {\n      // react to route changes...\n      this.setStateFromQueryArgs()\n    },\n    CurrentDriverType(newVal) {\n      // 当 CurrentDriverType 变化时，更新 selectedDriver\n      this.updateSelectedDriver(newVal);\n    }\n  },\n  mounted: function () {\n    // // 阻止默认的触摸行为\n    // document.addEventListener('touchstart', this.preventDefault, { passive: false });\n    // document.addEventListener('touchmove', this.preventDefault, { passive: false });\n    // document.addEventListener('touchend', this.preventDefault, { passive: false });\n\n    // // 阻止默认的鼠标行为\n    // document.addEventListener('mousedown', this.preventDefault, { passive: false });\n    // document.addEventListener('mousemove', this.preventDefault, { passive: false });\n    // document.addEventListener('mouseup', this.preventDefault, { passive: false });\n\n    // // 阻止默认的滚轮行为\n    // document.addEventListener('wheel', this.preventDefault, { passive: false });\n\n    let that = this\n\n    this.getLocationHostName();\n\n    this.loadImageToCanvasMainCamera();\n    this.loadImageToCanvasGuiderCamera();\n\n    this.initCanvas();\n    this.addEventListeners();\n\n    for (const i in this.$stellariumWebPlugins()) {\n      const plugin = this.$stellariumWebPlugins()[i]\n      if (plugin.onAppMounted) {\n        plugin.onAppMounted(that)\n      }\n    }\n\n    this.connect();\n    this.setupNetworkStatusListener();\n\n    // 使用 Promise 检查 OpenCV.js 是否加载完成\n    this.loadOpenCv().then(() => {\n      if (!this._isDestroyed) { // 检查组件是否已销毁\n        console.log('OpenCV.js is ready');\n        this.onCvReady();  // 调用 OpenCV 准备好的回调\n      }\n    }).catch(error => {\n      console.error('Error loading OpenCV.js:', error);\n    });\n\n    // const script = document.createElement('script');\n    // script.src = 'https://docs.opencv.org/4.5.5/opencv.js';\n    // script.async = true;\n    // script.onload = () => this.onCvReady();\n    // document.head.appendChild(script);\n\n    import('@/assets/js/stellarium-web-engine.wasm').then(f => {\n      if (!this._isDestroyed) { // 再次检查组件是否已销毁\n        // Initialize the StelWebEngine viewer singleton\n        // After this call, the StelWebEngine state will always be available in vuex store\n        // in the $store.stel object in a reactive way (useful for vue components).\n        // To modify the state of the StelWebEngine, it's enough to call/set values directly on the $stel object\n        try {\n          swh.initStelWebEngine(that.$store, f.default, that.$refs.stelCanvas, function () {\n            // Start auto location detection (even if we don't use it)\n            swh.getGeolocation().then(p => swh.geoCodePosition(p, that)).then((loc) => {\n              that.$store.commit('setAutoDetectedLocation', loc)\n            }, (error) => { console.log(error) })\n\n            that.$stel.setFont('regular', process.env.BASE_URL + 'fonts/Roboto-Regular.ttf', 1.38)\n            that.$stel.setFont('bold', process.env.BASE_URL + 'fonts/Roboto-Bold.ttf', 1.38)\n            that.$stel.core.constellations.show_only_pointed = false\n\n            that.setStateFromQueryArgs()\n            that.guiComponent = 'Gui'\n            for (const i in that.$stellariumWebPlugins()) {\n              const plugin = that.$stellariumWebPlugins()[i]\n              if (plugin.onEngineReady) {\n                plugin.onEngineReady(that)\n              }\n            }\n\n            if (!that.dataSourceInitDone) {\n              // Set all default data sources\n              const core = that.$stel.core\n              core.stars.addDataSource({ url: process.env.BASE_URL + 'skydata/stars' })\n              core.stars.addDataSource({ url: process.env.BASE_URL + 'skydata/stars_base' })\n              core.stars.addDataSource({ url: process.env.BASE_URL + 'skydata/stars_extend' })\n              core.dss.addDataSource({ url: process.env.BASE_URL + 'skydata/dss/v1' })\n              // core.stars.addDataSource({ url: process.env.BASE_URL + 'skydata/stars' })\n\n              // Allow to specify a custom path for sky culture data\n              if (that.$route.query.sc) {\n                const key = that.$route.query.sc.substring(that.$route.query.sc.lastIndexOf('/') + 1)\n                core.skycultures.addDataSource({ url: that.$route.query.sc, key: key })\n                core.skycultures.current_id = key\n              } else {\n                core.skycultures.addDataSource({ url: process.env.BASE_URL + 'skydata/skycultures/western', key: 'western' })\n              }\n\n              core.dsos.addDataSource({ url: process.env.BASE_URL + 'skydata/dso' })\n              core.landscapes.addDataSource({ url: process.env.BASE_URL + 'skydata/landscapes/guereins', key: 'guereins' })\n              core.milkyway.addDataSource({ url: process.env.BASE_URL + 'skydata/surveys/milkyway' })\n              // core.dss.addDataSource({ url: process.env.BASE_URL + 'skydata/surveys/dss' })\n              core.minor_planets.addDataSource({ url: process.env.BASE_URL + 'skydata/mpcorb.dat', key: 'mpc_asteroids' })\n              core.planets.addDataSource({ url: process.env.BASE_URL + 'skydata/surveys/sso/moon', key: 'moon' })\n              core.planets.addDataSource({ url: process.env.BASE_URL + 'skydata/surveys/sso/sun', key: 'sun' })\n              core.planets.addDataSource({ url: process.env.BASE_URL + 'skydata/surveys/sso/moon', key: 'default' })\n              core.comets.addDataSource({ url: process.env.BASE_URL + 'skydata/CometEls.txt', key: 'mpc_comets' })\n              core.satellites.addDataSource({ url: process.env.BASE_URL + 'skydata/tle_satellite.jsonl.gz', key: 'jsonl/sat' })\n\n              // Mount Pointing\n              glStel = that.setGloabalStel(that.$stel);\n              glLayer = that.setGlobalLayer(that.$stel);\n              glTestCircle = that.testAddCircle(that.$stel, glLayer);\n\n            }\n          })\n        } catch (e) {\n          this.$store.commit('setValue', { varName: 'wasmSupport', newValue: false })\n        }\n      }\n    });\n\n    window.addEventListener('load', () => {\n      // 页面完全加载\n      this.SendConsoleLogMsg('页面已完全加载', 'info');\n      this.$bus.$emit('AppSendMessage', 'Process_Command_Return', 'VueClientVersion:' + process.env.VUE_APP_VERSION);\n    })\n\n    document.addEventListener('DOMContentLoaded', () => {\n      // DOM加载完成\n      this.SendConsoleLogMsg('DOM已加载完成', 'info');\n    })\n\n  },\n  // 在组件销毁时移除\n  beforeDestroy() {\n    document.removeEventListener('touchstart', this.preventDefault);\n    document.removeEventListener('touchmove', this.preventDefault);\n    document.removeEventListener('touchend', this.preventDefault);\n\n    document.removeEventListener('mousedown', this.preventDefault);\n    document.removeEventListener('mousemove', this.preventDefault);\n    document.removeEventListener('mouseup', this.preventDefault);\n\n    document.removeEventListener('wheel', this.preventDefault);\n\n    // 清理极轴校准相关的圆圈\n    if (this.calibrationCircles) {\n      this.calibrationCircles.forEach(circle => {\n        if (glLayer && circle) {\n          glLayer.remove(circle);\n        }\n      });\n      this.calibrationCircles = [];\n    }\n\n    if (this.adjustmentCircles) {\n      this.adjustmentCircles.forEach(circle => {\n        if (glLayer && circle) {\n          glLayer.remove(circle);\n        }\n      });\n      this.adjustmentCircles = [];\n    }\n\n    // 停止视场更新定时器\n    this.stopFieldUpdateTimer();\n  },\n\n\n}\n</script>\n\n<style>\nbody {\n  background-color: black;\n  /* 禁用文本选择 */\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n\n  /* 禁用触摸操作 */\n  /* touch-action: none;\n  -ms-touch-action: none; */\n\n  /* 禁用双击缩放 */\n  -webkit-tap-highlight-color: transparent;\n\n  /* 禁用滚动和缩放 */\n  overscroll-behavior: none;\n  -webkit-overflow-scrolling: touch;\n\n  /* 禁用长按菜单 */\n  -webkit-touch-callout: none;\n\n  /* 禁用图片拖拽 */\n  -webkit-user-drag: none;\n  -khtml-user-drag: none;\n  -moz-user-drag: none;\n  -o-user-drag: none;\n}\n\n/* 确保画布元素也继承这些属性 */\ncanvas {\n  /* touch-action: none;\n  -ms-touch-action: none; */\n  -webkit-tap-highlight-color: transparent;\n  -webkit-user-drag: none;\n}\n\n/* 禁用所有元素的默认触摸行为 */\n/* * {\n  touch-action: none;\n  -ms-touch-action: none;\n} */\n\na {\n  color: #82b1ff;\n}\n\na:link {\n  text-decoration-line: none;\n}\n\n.divider_menu {\n  margin-top: 8px;\n  margin-bottom: 8px;\n}\n\nhtml {\n  overflow-y: visible;\n}\n\nhtml,\nbody,\n#app {\n  overflow-y: visible !important;\n  overflow-x: visible;\n  position: fixed !important;\n  width: 100%;\n  height: 100%;\n  padding: 0 !important;\n  font-size: 10px;\n}\n\n.fullscreen {\n  overflow-y: hidden;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  padding: 0 !important;\n}\n\n.click-through {\n  pointer-events: none;\n}\n\n.get-click {\n  pointer-events: all;\n}\n\n.dialog {\n  background: transparent;\n}\n\n.menu__content {\n  background-color: transparent !important;\n}\n\n#stel {\n  height: 100%;\n  width: 100%;\n  position: absolute;\n}\n\n#stel-canvas {\n  width: 100%;\n  height: 100%;\n}\n\n#mainCamera-canvas {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n#guiderCamera-canvas {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.right_panel {\n  padding-right: 400px;\n}\n\n.v-btn {\n  margin-left: 8px;\n  margin-right: 8px;\n  margin-top: 6px;\n  margin-bottom: 6px;\n}\n\n.v-application--wrap {\n  min-height: 100% !important;\n}\n\n\n.my-custom-button {\n  background-color: #4CAF50;\n  /* 绿色背景 */\n  color: white;\n  /* 白色文字 */\n  padding: 15px 32px;\n  /* 内边距 */\n  text-align: center;\n  /* 文字居中 */\n  text-decoration: none;\n  /* 无文本装饰 */\n  display: inline-block;\n  /* 行内块显示 */\n  font-size: 16px;\n  /* 字体大小 */\n  margin: 4px 2px;\n  /* 外边距 */\n  cursor: pointer;\n  /* 鼠标样式 */\n  border: none;\n  /* 无边框 */\n}\n\n.connected-device {\n  color: #4dc251;\n}\n\n.btn-confirm {\n  width: 60px;\n  height: 30px;\n  background-color: rgba(255, 255, 255, 0.1);\n  border-radius: 10px;\n}\n\n.btn-slider {\n  width: 20px;\n  height: 20px;\n  background-color: rgba(255, 255, 255, 0.1);\n  border-radius: 10px;\n}\n\n.btn-confirm:active,\n.btn-slider:active {\n  transform: scale(0.95);\n  background-color: rgba(255, 255, 255, 0.5);\n}\n\n\n/* 配置项样式 */\n.config-item {\n  text-align: center;\n  width: 100%;\n  margin-bottom: 5px;\n}\n\n/* 配置项标题 */\n.config-title {\n  display: inline-block;\n  font-size: 15px;\n  color: rgba(255, 255, 255, 0.5);\n  user-select: none;\n  margin-top: 10px;\n  margin-bottom: 5px;\n}\n\n/* 配置输入框 */\n.config-input {\n  width: 150px;\n  display: inline-block;\n  margin: 5px 0;\n}\n\n/* 滑块容器 */\n.slider-container {\n  text-align: left;\n  height: 30px;\n  width: 150px;\n  display: inline-block;\n  margin-bottom: 20px;\n  position: relative;\n}\n\n/* 滑块标签 */\n.slider-label {\n  display: inline-block;\n  font-size: 15px;\n  color: rgba(255, 255, 255, 0.5);\n  user-select: none;\n  margin-bottom: 5px;\n}\n\n/* 滑块控制样式 */\n.slider-control {\n  position: absolute;\n  left: 30px;\n  width: calc(100% - 60px);\n}\n\n/* 提示控制样式 */\n.tip-field {\n  display: grid;\n  grid-template-columns: auto 1fr auto;\n  /* 左标签 | 中值 | 右复制 */\n  align-items: center;\n  gap: 8px;\n  padding: 8px 4px 4px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n  /* 与其他输入项的下划线保持一致 */\n}\n\n.tip-label {\n  color: var(--v-theme-primary, #42a5f5);\n  font-size: 0.9rem;\n  line-height: 1.2;\n  white-space: nowrap;\n}\n\n.tip-value {\n  font-size: 1.25rem;\n  font-weight: 600;\n  letter-spacing: 0.02em;\n  user-select: text;\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", monospace;\n}\n\n.tip-copy {\n  margin-left: 4px;\n  opacity: 0.9;\n}\n\n/* 减少按钮样式 */\n.btn-minus {\n  position: absolute;\n  left: 5px;\n  transform: translateY(5px);\n}\n\n/* 增加按钮样式 */\n.btn-plus {\n  position: absolute;\n  right: 5px;\n  transform: translateY(5px);\n}\n\n/* 按钮内容居中 */\n.btn-content {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n}\n\n/* 按钮图标样式 */\n.btn-icon {\n  min-height: 10px;\n  pointer-events: none;\n}\n\n/* 开关样式 */\n.config-switch {\n  width: 150px;\n  display: inline-block;\n  margin-bottom: 0;\n  margin-top: 0;\n}\n\n/* 自定义滚动条样式 */\n.config-items-container::-webkit-scrollbar {\n  width: 6px;\n}\n\n.config-items-container::-webkit-scrollbar-track {\n  background: rgba(0, 0, 0, 0.1);\n  border-radius: 3px;\n}\n\n.config-items-container::-webkit-scrollbar-thumb {\n  background: rgba(255, 255, 255, 0.3);\n  border-radius: 3px;\n}\n\n.config-items-container::-webkit-scrollbar-thumb:hover {\n  background: rgba(255, 255, 255, 0.5);\n}\n\n/* Firefox滚动条样式 */\n.config-items-container {\n  scrollbar-width: thin;\n  scrollbar-color: rgba(255, 255, 255, 0.3) rgba(0, 0, 0, 0.1);\n}\n\n/* 参数容器滚动条样式 */\n.params-container {\n  overflow-y: auto;\n  height: 100%;\n}\n\n.params-container::-webkit-scrollbar {\n  width: 6px;\n}\n\n.params-container::-webkit-scrollbar-track {\n  background: rgba(0, 0, 0, 0.1);\n  border-radius: 3px;\n}\n\n.params-container::-webkit-scrollbar-thumb {\n  background: white;\n  border-radius: 3px;\n}\n\n.params-container::-webkit-scrollbar-thumb:hover {\n  background: rgba(255, 255, 255, 0.8);\n}\n\n/* Firefox滚动条样式 */\n.params-container {\n  scrollbar-width: thin;\n  scrollbar-color: white rgba(0, 0, 0, 0.1);\n}\n\n/* 校准信息显示框样式 */\n.calibration-info-box {\n  position: fixed;\n  top: 50vh;\n  left: 50vw;\n  transform: translate(-50%, -50%);\n  background-color: rgba(0, 0, 0, 0.9);\n  backdrop-filter: blur(15px);\n  border: 2px solid rgba(255, 165, 0, 0.8);\n  border-radius: 15px;\n  padding: 25px;\n  z-index: 10001;\n  min-width: 350px;\n  max-width: 450px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);\n}\n\n.calibration-content {\n  text-align: center;\n  color: white;\n}\n\n.calibration-title {\n  font-size: 20px;\n  font-weight: bold;\n  margin-bottom: 20px;\n  color: #FFA500;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);\n}\n\n.calibration-message {\n  font-size: 16px;\n  line-height: 1.6;\n  margin-bottom: 20px;\n  color: #FFFFFF;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\n}\n\n.calibration-progress {\n  font-size: 14px;\n  color: #FFA500;\n  font-weight: bold;\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\n}\n</style>"],"sourceRoot":"src"}]}