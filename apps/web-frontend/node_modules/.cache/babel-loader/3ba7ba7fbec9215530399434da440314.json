{"remainingRequest":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/components/Chart-Focus.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/components/Chart-Focus.vue","mtime":1761182226519},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js","mtime":1707125450000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiL2hvbWUvcXVhcmNzL3dvcmtzcGFjZS9RVUFSQ1MvUVVBUkNTX3N0ZWxsYXJpdW0td2ViLWVuZ2luZS9hcHBzL3dlYi1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvaG9tZS9xdWFyY3Mvd29ya3NwYWNlL1FVQVJDUy9RVUFSQ1Nfc3RlbGxhcml1bS13ZWItZW5naW5lL2FwcHMvd2ViLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuaXMtZmluaXRlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICogYXMgZWNoYXJ0cyBmcm9tICdlY2hhcnRzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMaW5lQ2hhcnQnLAogIHByb3BzOiB7CiAgICAvLyDmmK/lkKbkvb/nlKjml7bpl7TovbTmqKHlvI/vvIjkuZ/lj6/pgJrov4fmgLvnur8gc2V0Rm9jdXNDaGFydFRpbWVNb2RlIOWIh+aNou+8iQogICAgdXNlVGltZUF4aXM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICAvLyDml7bpl7Tnqpflj6Pplb/luqbvvIjnp5LvvInvvIzku4XlnKjml7bpl7TovbTmqKHlvI/kuIvnlJ/mlYgKICAgIHRpbWVXaW5kb3dTZWM6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiA2MAogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbnRhaW5lck1heFdpZHRoOiAxNTAsCiAgICAgIC8vIOmdnuaXtumXtOi9tO+8muaVo+eCueaVsOaNru+8iHgg5Li655S16LCD5L2N572u77yJCiAgICAgIGNoYXJ0RGF0YTFfcG9zOiBbXSwKICAgICAgLy8g5pe26Ze06L2077ya5pWj54K55pWw5o2u77yIeCDkuLrml7bpl7TmiLPvvIkKICAgICAgY2hhcnREYXRhMV90aW1lOiBbXSwKICAgICAgY2hhcnREYXRhMjogW10sCiAgICAgIGNoYXJ0RGF0YTM6IFtdLAogICAgICB4QXhpc19taW46IDAsCiAgICAgIHhBeGlzX21heDogNjAwMCwKICAgICAgeUF4aXNfbWluOiAwLAogICAgICB5QXhpc19tYXg6IDMwLAogICAgICByYW5nZTogNCwKICAgICAgY3VycmVudFg6IDAsCiAgICAgIEZXSE1NYXg6IDAsCiAgICAgIGlzRHJhZ2dpbmc6IGZhbHNlLAogICAgICBzdGFydFg6IDAsCiAgICAgIGRlbHRhWDogMCwKICAgICAgeF9taW46IC02MDAwMCwKICAgICAgeF9tYXg6IDYwMDAwLAogICAgICAvLyDml7bpl7TovbTmqKHlvI8KICAgICAgaXNUaW1lTW9kZTogZmFsc2UsCiAgICAgIHRpbWVUaWNrZXI6IG51bGwsCiAgICAgIC8vIOWPr+ingeaAp+aOp+WItgogICAgICBpc1Zpc2libGU6IGZhbHNlLAogICAgICBpb09ic2VydmVyOiBudWxsLAogICAgICAvLyDmuLLmn5PosIPluqYKICAgICAgcmVuZGVyUmFmSWQ6IG51bGwsCiAgICAgIHJlbmRlclNjaGVkdWxlZDogZmFsc2UsCiAgICAgIHBlbmRpbmdMb3dlckJvdW5kOiBudWxsLAogICAgICBwZW5kaW5nVXBwZXJCb3VuZDogbnVsbCwKICAgICAgLy8g57q/5p2h5pWw5o2u5p2l5rqQ77ya6Iul5Li6IG51bGwg5YiZ5L2/55SoIHF1YWRyYXRpY1BhcmFtcyDliqjmgIHph4fmoLcKICAgICAgbGluZURhdGFGcm9tUG9pbnRzOiBudWxsLAogICAgICBxdWFkcmF0aWNQYXJhbXM6IG51bGwsCiAgICAgIC8vIHsgYSxiLGMseDA/IH0KICAgICAgLy8g5LqM5qyh5ouf5ZCI57uT5p6c5pi+56S677yI5ZCI5bm25paw5aKe5Yqf6IO977yJCiAgICAgIHF1YWRyYXRpY1Jlc3VsdDogewogICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgIGE6ICcwLjAwMDAwMCcsCiAgICAgICAgYjogJzAuMDAwMDAwJywKICAgICAgICBjOiAnMC4wMDAwMDAnLAogICAgICAgIGJlc3RQb3NpdGlvbjogJzAuMDAnLAogICAgICAgIG1pbkhGUjogJzAuMDAwJwogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOWQiOW5tuaWsOWinu+8muacieaViOaVsOaNrueCueaVsAogICAgdmFsaWREYXRhUG9pbnRDb3VudDogZnVuY3Rpb24gdmFsaWREYXRhUG9pbnRDb3VudCgpIHsKICAgICAgdmFyIGN1cnJlbnREYXRhID0gdGhpcy5pc1RpbWVNb2RlID8gdGhpcy5jaGFydERhdGExX3RpbWUgOiB0aGlzLmNoYXJ0RGF0YTFfcG9zOwogICAgICByZXR1cm4gY3VycmVudERhdGEubGVuZ3RoOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgLy8g5qC55o2u5Y+v6KeB5oCn5ZCv5YqoL+WBnOatouaXtumXtOaOqOi/mwogICAgdmFyIGVsID0gdGhpcy4kcmVmcy5saW5lY2hhcnQ7CgogICAgaWYgKHdpbmRvdyAmJiAnSW50ZXJzZWN0aW9uT2JzZXJ2ZXInIGluIHdpbmRvdyAmJiBlbCkgewogICAgICB0aGlzLmlvT2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKGVudHJpZXMpIHsKICAgICAgICB2YXIgZSA9IGVudHJpZXNbMF07CiAgICAgICAgX3RoaXMuaXNWaXNpYmxlID0gISEoZSAmJiBlLmlzSW50ZXJzZWN0aW5nKTsKCiAgICAgICAgX3RoaXMudXBkYXRlVGlja2VyQnlWaXNpYmlsaXR5KCk7CiAgICAgIH0sIHsKICAgICAgICB0aHJlc2hvbGQ6IDAuMDEKICAgICAgfSk7CiAgICAgIHRoaXMuaW9PYnNlcnZlci5vYnNlcnZlKGVsKTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIOWbnumAgO+8muS4jeWPr+ingeaAp+acquefpeaXtuinhuS4uuWPr+ingQogICAgICB0aGlzLmlzVmlzaWJsZSA9IHRydWU7CiAgICB9CgogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIHRoaXMudXBkYXRlVGlja2VyQnlWaXNpYmlsaXR5KTsgLy8g5Yid5aeL5YyW5pe26Ze06L205qih5byP77yI55SxIHByb3Ag5o6n5Yi277yJCgogICAgdGhpcy5pc1RpbWVNb2RlID0gISF0aGlzLnVzZVRpbWVBeGlzOwogICAgdGhpcy51cGRhdGVUaWNrZXJCeVZpc2liaWxpdHkoKTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiRidXMuJG9uKCdGb2N1c1Bvc2l0aW9uJywgdGhpcy5jaGFuZ2VSYW5nZV94KTsgLy8g5ZCI5bm277ya5ZCv55So5ZCO56uv5ouf5ZCI5pi+56S6CgogICAgdGhpcy4kYnVzLiRvbignZml0UXVhZHJhdGljQ3VydmUnLCB0aGlzLmZpdFF1YWRyYXRpY0N1cnZlKTsKICAgIHRoaXMuJGJ1cy4kb24oJ2ZpdFF1YWRyYXRpY0N1cnZlX21pblBvaW50JywgdGhpcy5maXRRdWFkcmF0aWNDdXJ2ZV9taW5Qb2ludCk7CiAgICB0aGlzLiRidXMuJG9uKCdDbGVhcmZpdFF1YWRyYXRpY0N1cnZlJywgdGhpcy5jbGVhckNoYXJ0RGF0YTIpOwogICAgdGhpcy4kYnVzLiRvbignQ2xlYXJBbGxEYXRhJywgdGhpcy5DbGVhckFsbERhdGEpOwogICAgdGhpcy4kYnVzLiRvbigndXBkYXRlRm9jdXNDaGFydFdpZHRoJywgdGhpcy5pbml0Q2hhcnQpOwogICAgdGhpcy4kYnVzLiRvbignYWRkRGF0YV9Qb2ludCcsIHRoaXMuYWRkRGF0YV9Qb2ludCk7CiAgICB0aGlzLiRidXMuJG9uKCdhZGRNaW5Qb2ludERhdGFfUG9pbnQnLCB0aGlzLmFkZE1pblBvaW50RGF0YV9Qb2ludCk7CiAgICB0aGlzLiRidXMuJG9uKCdhZGRMaW5lRGF0YV9Qb2ludCcsIHRoaXMuYWRkTGluZURhdGFfUG9pbnQpOwogICAgdGhpcy4kYnVzLiRvbignc2V0Rm9jdXNDaGFydFJhbmdlJywgdGhpcy5zZXRGb2N1c0NoYXJ0UmFuZ2UpOyAvLyDmlrDlop7vvJrml7bpl7TovbTmqKHlvI/mjqfliLbkuI7ngrnov73liqAKCiAgICB0aGlzLiRidXMuJG9uKCdzZXRGb2N1c0NoYXJ0VGltZU1vZGUnLCB0aGlzLnNldFRpbWVNb2RlKTsKICAgIHRoaXMuJGJ1cy4kb24oJ2FkZEZ3aG1Ob3cnLCB0aGlzLmFkZEZ3aG1Qb2ludE5vdyk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy50ZWFyZG93bkJ1c0FuZFRpbWVycygpOwogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICB0aGlzLnRlYXJkb3duQnVzQW5kVGltZXJzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRCZXN0UG9zaXRpb25EaXNwbGF5OiBmdW5jdGlvbiBnZXRCZXN0UG9zaXRpb25EaXNwbGF5KCkgewogICAgICByZXR1cm4gdGhpcy5xdWFkcmF0aWNSZXN1bHQuYmVzdFBvc2l0aW9uOwogICAgfSwKICAgIGNsb3NlUGFuZWw6IGZ1bmN0aW9uIGNsb3NlUGFuZWwoKSB7CiAgICAgIHRoaXMucXVhZHJhdGljUmVzdWx0LnNob3cgPSBmYWxzZTsKICAgIH0sCiAgICBmb3JtYXRDb2VmZmljaWVudDogZnVuY3Rpb24gZm9ybWF0Q29lZmZpY2llbnQodmFsdWUpIHsKICAgICAgaWYgKE1hdGguYWJzKHZhbHVlKSA8IDFlLTYpIHJldHVybiB2YWx1ZS50b0V4cG9uZW50aWFsKDYpOwogICAgICByZXR1cm4gdmFsdWUudG9GaXhlZCg2KTsKICAgIH0sCiAgICB0ZWFyZG93bkJ1c0FuZFRpbWVyczogZnVuY3Rpb24gdGVhcmRvd25CdXNBbmRUaW1lcnMoKSB7CiAgICAgIHRoaXMuJGJ1cy4kb2ZmKCdGb2N1c1Bvc2l0aW9uJywgdGhpcy5jaGFuZ2VSYW5nZV94KTsKICAgICAgdGhpcy4kYnVzLiRvZmYoJ0NsZWFyZml0UXVhZHJhdGljQ3VydmUnLCB0aGlzLmNsZWFyQ2hhcnREYXRhMik7CiAgICAgIHRoaXMuJGJ1cy4kb2ZmKCdDbGVhckFsbERhdGEnLCB0aGlzLkNsZWFyQWxsRGF0YSk7CiAgICAgIHRoaXMuJGJ1cy4kb2ZmKCd1cGRhdGVGb2N1c0NoYXJ0V2lkdGgnLCB0aGlzLmluaXRDaGFydCk7CiAgICAgIHRoaXMuJGJ1cy4kb2ZmKCdhZGREYXRhX1BvaW50JywgdGhpcy5hZGREYXRhX1BvaW50KTsKICAgICAgdGhpcy4kYnVzLiRvZmYoJ2FkZE1pblBvaW50RGF0YV9Qb2ludCcsIHRoaXMuYWRkTWluUG9pbnREYXRhX1BvaW50KTsKICAgICAgdGhpcy4kYnVzLiRvZmYoJ2FkZExpbmVEYXRhX1BvaW50JywgdGhpcy5hZGRMaW5lRGF0YV9Qb2ludCk7CiAgICAgIHRoaXMuJGJ1cy4kb2ZmKCdhZGRRdWFkcmF0aWNDdXJ2ZScsIHRoaXMuYWRkTGluZURhdGFfUG9pbnQpOwogICAgICB0aGlzLiRidXMuJG9mZignc2V0Rm9jdXNDaGFydFJhbmdlJywgdGhpcy5zZXRGb2N1c0NoYXJ0UmFuZ2UpOwogICAgICB0aGlzLiRidXMuJG9mZignc2V0Rm9jdXNDaGFydFRpbWVNb2RlJywgdGhpcy5zZXRUaW1lTW9kZSk7CiAgICAgIHRoaXMuJGJ1cy4kb2ZmKCdhZGRGd2htTm93JywgdGhpcy5hZGRGd2htUG9pbnROb3cpOwoKICAgICAgaWYgKHRoaXMudGltZVRpY2tlcikgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lVGlja2VyKTsKICAgICAgICB0aGlzLnRpbWVUaWNrZXIgPSBudWxsOwogICAgICB9CgogICAgICBpZiAodGhpcy5pb09ic2VydmVyKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHRoaXMuaW9PYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgICAgfSBjYXRjaCAoZSkge30KCiAgICAgICAgdGhpcy5pb09ic2VydmVyID0gbnVsbDsKICAgICAgfQoKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIHRoaXMudXBkYXRlVGlja2VyQnlWaXNpYmlsaXR5KTsKICAgIH0sCiAgICBpbml0Q2hhcnQ6IGZ1bmN0aW9uIGluaXRDaGFydChXaWR0aCkgewogICAgICB0aGlzLmNvbnRhaW5lck1heFdpZHRoID0gV2lkdGggLSA5NTsKICAgICAgdmFyIGNoYXJ0RG9tID0gdGhpcy4kcmVmcy5saW5lY2hhcnQ7CiAgICAgIGNoYXJ0RG9tLnN0eWxlLndpZHRoID0gdGhpcy5jb250YWluZXJNYXhXaWR0aCArICdweCc7CiAgICAgIHRoaXMubXlDaGFydCA9IGVjaGFydHMuaW5pdChjaGFydERvbSk7CiAgICAgIHRoaXMucmVuZGVyQ2hhcnQodGhpcy54QXhpc19taW4sIHRoaXMueEF4aXNfbWF4KTsKICAgIH0sCiAgICBzdGFydERyYWc6IGZ1bmN0aW9uIHN0YXJ0RHJhZyhldmVudCkgewogICAgICBpZiAodGhpcy5pc1RpbWVNb2RlKSByZXR1cm47IC8vIOaXtumXtOi9tOaooeW8j+S4i+emgeeUqOaLluaLvQoKICAgICAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTsKICAgICAgdmFyIHggPSB0aGlzLmdldENsaWVudFgoZXZlbnQpOwogICAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB0aGlzLnN0YXJ0WCA9IHg7CiAgICB9LAogICAgZHJhZ2dpbmc6IGZ1bmN0aW9uIGRyYWdnaW5nKGV2ZW50KSB7CiAgICAgIGlmICh0aGlzLmlzRHJhZ2dpbmcgJiYgIXRoaXMuaXNUaW1lTW9kZSkgewogICAgICAgIHZhciB4ID0gdGhpcy5nZXRDbGllbnRYKGV2ZW50KTsKICAgICAgICBpZiAodHlwZW9mIHggIT09ICdudW1iZXInKSByZXR1cm47CiAgICAgICAgdGhpcy5kZWx0YVggPSAoeCAtIHRoaXMuc3RhcnRYKSAqIDEwOwogICAgICAgIHRoaXMuc3RhcnRYID0geDsKICAgICAgICB2YXIgd2luZG93V2lkdGggPSB0aGlzLnhBeGlzX21heCAtIHRoaXMueEF4aXNfbWluOyAvLyDorqHnrpfmlrDnmoTojIPlm7TlubblgZrovrnnlYzoo4HliaoKCiAgICAgICAgdmFyIG5ld01pbiA9IHRoaXMueEF4aXNfbWluIC0gdGhpcy5kZWx0YVg7CiAgICAgICAgdmFyIG1pbkFsbG93ZWQgPSB0aGlzLnhfbWluOwogICAgICAgIHZhciBtYXhBbGxvd2VkID0gdGhpcy54X21heCAtIHdpbmRvd1dpZHRoOwoKICAgICAgICBpZiAobWF4QWxsb3dlZCA8IG1pbkFsbG93ZWQpIHsKICAgICAgICAgIC8vIOWuieWFqOWkhOeQhu+8muiLpeiuvue9ruS4jeWQiOeQhu+8jOWbnumAgOWIsOS4jeenu+WKqAogICAgICAgICAgbmV3TWluID0gdGhpcy54X21pbjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbmV3TWluID0gTWF0aC5tYXgobWluQWxsb3dlZCwgTWF0aC5taW4obWF4QWxsb3dlZCwgbmV3TWluKSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnhBeGlzX21pbiA9IG5ld01pbjsKICAgICAgICB0aGlzLnhBeGlzX21heCA9IG5ld01pbiArIHdpbmRvd1dpZHRoOwogICAgICAgIHRoaXMuc2NoZWR1bGVSZW5kZXIodGhpcy54QXhpc19taW4sIHRoaXMueEF4aXNfbWF4KTsKICAgICAgfQogICAgfSwKICAgIGdldENsaWVudFg6IGZ1bmN0aW9uIGdldENsaWVudFgoZSkgewogICAgICBpZiAoZSAmJiBlLnRvdWNoZXMgJiYgZS50b3VjaGVzLmxlbmd0aCkgcmV0dXJuIGUudG91Y2hlc1swXS5jbGllbnRYOwogICAgICBpZiAoZSAmJiBlLmNoYW5nZWRUb3VjaGVzICYmIGUuY2hhbmdlZFRvdWNoZXMubGVuZ3RoKSByZXR1cm4gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYOwogICAgICBpZiAodHlwZW9mIGUuY2xpZW50WCA9PT0gJ251bWJlcicpIHJldHVybiBlLmNsaWVudFg7CiAgICAgIHJldHVybiB1bmRlZmluZWQ7CiAgICB9LAogICAgZW5kRHJhZzogZnVuY3Rpb24gZW5kRHJhZygpIHsKICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7CiAgICAgIHRoaXMuZGVsdGFYID0gMDsgLy8gdGhpcy4kYnVzLiRlbWl0KCdzZXRUYXJnZXRQb3NpdGlvbicsICh0aGlzLnhBeGlzX21pbiArIHRoaXMueEF4aXNfbWF4KSAvIDIpOwogICAgfSwKICAgIHNjaGVkdWxlUmVuZGVyOiBmdW5jdGlvbiBzY2hlZHVsZVJlbmRlcihsb3dlckJvdW5kLCB1cHBlckJvdW5kKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5wZW5kaW5nTG93ZXJCb3VuZCA9IGxvd2VyQm91bmQ7CiAgICAgIHRoaXMucGVuZGluZ1VwcGVyQm91bmQgPSB1cHBlckJvdW5kOwogICAgICBpZiAodGhpcy5yZW5kZXJTY2hlZHVsZWQpIHJldHVybjsKICAgICAgdGhpcy5yZW5kZXJTY2hlZHVsZWQgPSB0cnVlOwoKICAgICAgdmFyIGNiID0gZnVuY3Rpb24gY2IoKSB7CiAgICAgICAgX3RoaXMyLnJlbmRlclJhZklkID0gbnVsbDsKICAgICAgICBfdGhpczIucmVuZGVyU2NoZWR1bGVkID0gZmFsc2U7CgogICAgICAgIF90aGlzMi5yZW5kZXJDaGFydChfdGhpczIucGVuZGluZ0xvd2VyQm91bmQsIF90aGlzMi5wZW5kaW5nVXBwZXJCb3VuZCk7CiAgICAgIH07CgogICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkgewogICAgICAgIHRoaXMucmVuZGVyUmFmSWQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDlm57pgIDvvJrml6AgckFGIOaXtu+8jOS9v+eUqOW+ruS7u+WKoemZjeS9jumYu+WhngogICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oY2IpOwogICAgICB9CiAgICB9LAogICAgcmVuZGVyQ2hhcnQ6IGZ1bmN0aW9uIHJlbmRlckNoYXJ0KGxvd2VyQm91bmQsIHVwcGVyQm91bmQpIHsKICAgICAgdmFyIGRhdGExID0gdGhpcy5pc1RpbWVNb2RlID8gdGhpcy5jaGFydERhdGExX3RpbWUgOiB0aGlzLmNoYXJ0RGF0YTFfcG9zOwogICAgICB2YXIgeV9tYXggPSBkYXRhMS5sZW5ndGggPiAwID8gTWF0aC5tYXguYXBwbHkoTWF0aCwgX3RvQ29uc3VtYWJsZUFycmF5KGRhdGExLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtWzFdOwogICAgICB9KSkpICogMiA6IHRoaXMueUF4aXNfbWF4OyAvLyDnur/mlbDmja7vvJroi6XkvKDlhaXns7vmlbDvvIzliJnmoLnmja7lvZPliY3op4blm77ojIPlm7TliqjmgIHph4fmoLfvvIzpgb/lhY3mi5bliqjlkI7mlq3oo4LmiJbmtojlpLEKCiAgICAgIHZhciBkZWNEYXRhID0gW107CgogICAgICBpZiAoIXRoaXMuaXNUaW1lTW9kZSkgewogICAgICAgIGlmICh0aGlzLmxpbmVEYXRhRnJvbVBvaW50cyAmJiBBcnJheS5pc0FycmF5KHRoaXMubGluZURhdGFGcm9tUG9pbnRzKSkgewogICAgICAgICAgZGVjRGF0YSA9IHRoaXMubGluZURhdGFGcm9tUG9pbnRzOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5xdWFkcmF0aWNQYXJhbXMpIHsKICAgICAgICAgIHZhciBfdGhpcyRxdWFkcmF0aWNQYXJhbXMgPSB0aGlzLnF1YWRyYXRpY1BhcmFtcywKICAgICAgICAgICAgICBhID0gX3RoaXMkcXVhZHJhdGljUGFyYW1zLmEsCiAgICAgICAgICAgICAgYiA9IF90aGlzJHF1YWRyYXRpY1BhcmFtcy5iLAogICAgICAgICAgICAgIGMgPSBfdGhpcyRxdWFkcmF0aWNQYXJhbXMuYywKICAgICAgICAgICAgICB4MCA9IF90aGlzJHF1YWRyYXRpY1BhcmFtcy54MDsKCiAgICAgICAgICBpZiAoaXNGaW5pdGUoYSkgJiYgaXNGaW5pdGUoYikgJiYgaXNGaW5pdGUoYykpIHsKICAgICAgICAgICAgZGVjRGF0YSA9IHRoaXMuZ2VuZXJhdGVRdWFkcmF0aWNEYXRhKGEsIGIsIGMsIGxvd2VyQm91bmQsIHVwcGVyQm91bmQsIGlzRmluaXRlKHgwKSA/IHgwIDogMCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRlY0RhdGEgPSB0aGlzLmNoYXJ0RGF0YTI7IC8vIOWFvOWuueaXp+mAu+i+kQogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIG9wdGlvblhBeGlzID0gdGhpcy5pc1RpbWVNb2RlID8gewogICAgICAgIHR5cGU6ICd0aW1lJywKICAgICAgICBtaW46IERhdGUubm93KCkgLSB0aGlzLnRpbWVXaW5kb3dTZWMgKiAxMDAwLAogICAgICAgIG1heDogRGF0ZS5ub3coKSwKICAgICAgICBheGlzTGFiZWw6IHsKICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLAogICAgICAgICAgZm9udFNpemU6IDUsCiAgICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uIGZvcm1hdHRlcih2YWx1ZSkgewogICAgICAgICAgICB2YXIgZCA9IG5ldyBEYXRlKHZhbHVlKTsKCiAgICAgICAgICAgIHZhciBwYWQgPSBmdW5jdGlvbiBwYWQobikgewogICAgICAgICAgICAgIHJldHVybiBuIDwgMTAgPyAnMCcgKyBuIDogJycgKyBuOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgcmV0dXJuIHBhZChkLmdldEhvdXJzKCkpICsgJzonICsgcGFkKGQuZ2V0TWludXRlcygpKSArICc6JyArIHBhZChkLmdldFNlY29uZHMoKSk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBheGlzTGluZTogewogICAgICAgICAgbGluZVN0eWxlOiB7CiAgICAgICAgICAgIGNvbG9yOiAncmdiYSgyMDAsIDIwMCwgMjAwLCAwLjUpJwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc3BsaXRMaW5lOiB7CiAgICAgICAgICBzaG93OiB0cnVlLAogICAgICAgICAgbGluZVN0eWxlOiB7CiAgICAgICAgICAgIGNvbG9yOiAncmdiYSgxMjgsIDEyOCwgMTI4LCAwLjUpJywKICAgICAgICAgICAgd2lkdGg6IDEsCiAgICAgICAgICAgIHR5cGU6ICdzb2xpZCcKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gOiB7CiAgICAgICAgdHlwZTogJ3ZhbHVlJywKICAgICAgICBtaW46IGxvd2VyQm91bmQsCiAgICAgICAgbWF4OiB1cHBlckJvdW5kLAogICAgICAgIGF4aXNMaW5lOiB7CiAgICAgICAgICBsaW5lU3R5bGU6IHsKICAgICAgICAgICAgY29sb3I6ICdyZ2JhKDIwMCwgMjAwLCAyMDAsIDAuNSknCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBheGlzTGFiZWw6IHsKICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLAogICAgICAgICAgZm9udFNpemU6IDUKICAgICAgICB9LAogICAgICAgIHNwbGl0TGluZTogewogICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgIGxpbmVTdHlsZTogewogICAgICAgICAgICBjb2xvcjogJ3JnYmEoMTI4LCAxMjgsIDEyOCwgMC41KScsCiAgICAgICAgICAgIHdpZHRoOiAxLAogICAgICAgICAgICB0eXBlOiAnc29saWQnCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwogICAgICB2YXIgb3B0aW9uID0gewogICAgICAgIGdyaWQ6IHsKICAgICAgICAgIGxlZnQ6ICcwJScsCiAgICAgICAgICByaWdodDogJzIlJywKICAgICAgICAgIGJvdHRvbTogJzAlJywKICAgICAgICAgIHRvcDogJzEwJScsCiAgICAgICAgICBjb250YWluTGFiZWw6IHRydWUKICAgICAgICB9LAogICAgICAgIHhBeGlzOiBvcHRpb25YQXhpcywKICAgICAgICB5QXhpczogewogICAgICAgICAgbWluOiB0aGlzLnlBeGlzX21pbiwKICAgICAgICAgIG1heDogeV9tYXgsCiAgICAgICAgICBheGlzTGluZTogewogICAgICAgICAgICBsaW5lU3R5bGU6IHsKICAgICAgICAgICAgICBjb2xvcjogJ3JnYmEoMjAwLCAyMDAsIDIwMCwgMC41KScgLy8geei9tOe6v+minOiJsgoKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIGF4aXNMYWJlbDogewogICAgICAgICAgICBjb2xvcjogJ3doaXRlJywKICAgICAgICAgICAgZm9udFNpemU6IDUKICAgICAgICAgIH0sCiAgICAgICAgICBzcGxpdE51bWJlcjogMywKICAgICAgICAgIHNwbGl0TGluZTogewogICAgICAgICAgICBzaG93OiB0cnVlLAogICAgICAgICAgICBsaW5lU3R5bGU6IHsKICAgICAgICAgICAgICBjb2xvcjogJ3JnYmEoMTI4LCAxMjgsIDEyOCwgMC41KScsCiAgICAgICAgICAgICAgd2lkdGg6IDEsCiAgICAgICAgICAgICAgdHlwZTogJ3NvbGlkJwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBzZXJpZXM6IFt7CiAgICAgICAgICBuYW1lOiAnRldITScsCiAgICAgICAgICB0eXBlOiAnc2NhdHRlcicsCiAgICAgICAgICBkYXRhOiBkYXRhMSwKICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICBjb2xvcjogJ3JlZCcKICAgICAgICAgIH0sCiAgICAgICAgICBzeW1ib2xTaXplOiA0CiAgICAgICAgfSwgIXRoaXMuaXNUaW1lTW9kZSA/IHsKICAgICAgICAgIG5hbWU6ICdEZWMnLAogICAgICAgICAgdHlwZTogJ2xpbmUnLAogICAgICAgICAgZGF0YTogZGVjRGF0YSwKICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICBjb2xvcjogJ2dyZWVuJwogICAgICAgICAgfSwKICAgICAgICAgIGxpbmVTdHlsZTogewogICAgICAgICAgICB3aWR0aDogMQogICAgICAgICAgfSwKICAgICAgICAgIHN5bWJvbFNpemU6IDAKICAgICAgICB9IDogbnVsbCwgIXRoaXMuaXNUaW1lTW9kZSA/IHsKICAgICAgICAgIG5hbWU6ICdtaW5Qb2ludCcsCiAgICAgICAgICB0eXBlOiAnc2NhdHRlcicsCiAgICAgICAgICBkYXRhOiB0aGlzLmNoYXJ0RGF0YTMsCiAgICAgICAgICBpdGVtU3R5bGU6IHsKICAgICAgICAgICAgY29sb3I6ICdyZ2JhKDc1LCAxNTUsIDI1MCwgMC43KScKICAgICAgICAgIH0sCiAgICAgICAgICBzeW1ib2xTaXplOiA0CiAgICAgICAgfSA6IG51bGwsICF0aGlzLmlzVGltZU1vZGUgPyB7CiAgICAgICAgICBuYW1lOiAneE1pbkxpbmUnLAogICAgICAgICAgdHlwZTogJ2xpbmUnLAogICAgICAgICAgZGF0YTogW1t0aGlzLnhfbWluLCB0aGlzLnlBeGlzX21pbl0sIFt0aGlzLnhfbWluLCB5X21heF1dLAogICAgICAgICAgbGluZVN0eWxlOiB7CiAgICAgICAgICAgIGNvbG9yOiAncmVkJywKICAgICAgICAgICAgd2lkdGg6IDEKICAgICAgICAgIH0sCiAgICAgICAgICBzeW1ib2w6ICdub25lJwogICAgICAgIH0gOiBudWxsLCAhdGhpcy5pc1RpbWVNb2RlID8gewogICAgICAgICAgbmFtZTogJ3hNYXhMaW5lJywKICAgICAgICAgIHR5cGU6ICdsaW5lJywKICAgICAgICAgIGRhdGE6IFtbdGhpcy54X21heCwgdGhpcy55QXhpc19taW5dLCBbdGhpcy54X21heCwgeV9tYXhdXSwKICAgICAgICAgIGxpbmVTdHlsZTogewogICAgICAgICAgICBjb2xvcjogJ3JlZCcsCiAgICAgICAgICAgIHdpZHRoOiAxCiAgICAgICAgICB9LAogICAgICAgICAgc3ltYm9sOiAnbm9uZScKICAgICAgICB9IDogbnVsbCwgIXRoaXMuaXNUaW1lTW9kZSA/IHsKICAgICAgICAgIG5hbWU6ICdjdXJyZW50UG9zaXRpb24nLAogICAgICAgICAgdHlwZTogJ2xpbmUnLAogICAgICAgICAgZGF0YTogW1t0aGlzLmN1cnJlbnRYLCB0aGlzLnlBeGlzX21pbl0sIFt0aGlzLmN1cnJlbnRYLCB5X21heF1dLAogICAgICAgICAgbGluZVN0eWxlOiB7CiAgICAgICAgICAgIGNvbG9yOiAnZ3JlZW4nLAogICAgICAgICAgICB3aWR0aDogMQogICAgICAgICAgfSwKICAgICAgICAgIHN5bWJvbDogJ25vbmUnCiAgICAgICAgfSA6IG51bGxdCiAgICAgIH07IC8vIOi/h+a7pOaOieS4uiBudWxsIOeahCBzZXJpZXMg6aG5CgogICAgICBvcHRpb24uc2VyaWVzID0gb3B0aW9uLnNlcmllcy5maWx0ZXIoQm9vbGVhbik7IC8vIOS9v+eUqCBsYXp5VXBkYXRlIOmZjeS9juWQjOatpeW8gOmUgAoKICAgICAgdGhpcy5teUNoYXJ0LnNldE9wdGlvbihvcHRpb24sIGZhbHNlLCB0cnVlKTsKICAgIH0sCiAgICAvLyDov73liqDkuIDkuKrku6Ui5b2T5YmN5pe26Ze0IuS4uiB4IOeahCBGV0hNIOeCue+8iOaXtumXtOi9tOaooeW8j++8iQogICAgYWRkRndobVBvaW50Tm93OiBmdW5jdGlvbiBhZGRGd2htUG9pbnROb3coZndobSkgewogICAgICAvLyDnoa7kv50gZndobSDmmK/mlbDlrZcKICAgICAgdmFyIGZ3aG1OdW0gPSB0eXBlb2YgZndobSA9PT0gJ251bWJlcicgPyBmd2htIDogcGFyc2VGbG9hdChmd2htKTsKCiAgICAgIGlmIChpc05hTihmd2htTnVtKSB8fCBmd2htTnVtIDw9IDApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpOwogICAgICB2YXIgcG9pbnQgPSBbbm93LCBmd2htTnVtXTsKICAgICAgdGhpcy5jaGFydERhdGExX3RpbWUucHVzaChwb2ludCk7IC8vIOS7heS/neeVmeeql+WPo+acn+WGheeahOaVsOaNrgoKICAgICAgdmFyIG1pblRzID0gbm93IC0gdGhpcy50aW1lV2luZG93U2VjICogMTAwMDsKICAgICAgdGhpcy5jaGFydERhdGExX3RpbWUgPSB0aGlzLmNoYXJ0RGF0YTFfdGltZS5maWx0ZXIoZnVuY3Rpb24gKHApIHsKICAgICAgICByZXR1cm4gcFswXSA+PSBtaW5UczsKICAgICAgfSk7IC8vIOW8uuWItumHjeaWsOa4suafkwoKICAgICAgaWYgKHRoaXMubXlDaGFydCkgewogICAgICAgIHRoaXMuc2NoZWR1bGVSZW5kZXIodGhpcy54QXhpc19taW4sIHRoaXMueEF4aXNfbWF4KTsKICAgICAgfQogICAgfSwKICAgIC8vIOW8gOWQry/lhbPpl63ml7bpl7TovbTmqKHlvI8KICAgIHNldFRpbWVNb2RlOiBmdW5jdGlvbiBzZXRUaW1lTW9kZShmbGFnKSB7CiAgICAgIHZhciBlbmFibGUgPSAhIWZsYWc7CiAgICAgIGlmIChlbmFibGUgPT09IHRoaXMuaXNUaW1lTW9kZSkgcmV0dXJuOwogICAgICB0aGlzLmlzVGltZU1vZGUgPSBlbmFibGU7CiAgICAgIHRoaXMudXBkYXRlVGlja2VyQnlWaXNpYmlsaXR5KCk7CgogICAgICBpZiAodGhpcy5teUNoYXJ0KSB7CiAgICAgICAgdGhpcy5teUNoYXJ0LmNsZWFyKCk7CiAgICAgIH0KCiAgICAgIHRoaXMuc2NoZWR1bGVSZW5kZXIodGhpcy54QXhpc19taW4sIHRoaXMueEF4aXNfbWF4KTsKICAgIH0sCiAgICBzdG9wVGltZVRpY2tlcjogZnVuY3Rpb24gc3RvcFRpbWVUaWNrZXIoKSB7CiAgICAgIGlmICh0aGlzLnRpbWVUaWNrZXIpIHsKICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZVRpY2tlcik7CiAgICAgICAgdGhpcy50aW1lVGlja2VyID0gbnVsbDsKICAgICAgfQogICAgfSwKICAgIHN0YXJ0VGltZVRpY2tlcjogZnVuY3Rpb24gc3RhcnRUaW1lVGlja2VyKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnRpbWVUaWNrZXIpIHJldHVybjsKICAgICAgdGhpcy50aW1lVGlja2VyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIC8vIOayoeacieaWsOeCueaXtuS5n+aOqOWKqOaXtumXtOi9tOWJjei/mwogICAgICAgIGlmIChfdGhpczMubXlDaGFydCkgewogICAgICAgICAgX3RoaXMzLnNjaGVkdWxlUmVuZGVyKF90aGlzMy54QXhpc19taW4sIF90aGlzMy54QXhpc19tYXgpOwogICAgICAgIH0KICAgICAgfSwgMTAwMCk7CiAgICB9LAogICAgdXBkYXRlVGlja2VyQnlWaXNpYmlsaXR5OiBmdW5jdGlvbiB1cGRhdGVUaWNrZXJCeVZpc2liaWxpdHkoKSB7CiAgICAgIHZhciBkb2NWaXNpYmxlID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/ICFkb2N1bWVudC5oaWRkZW4gOiB0cnVlOwogICAgICB2YXIgc2hvdWxkUnVuID0gdGhpcy5pc1RpbWVNb2RlICYmIHRoaXMuaXNWaXNpYmxlICYmIGRvY1Zpc2libGU7CiAgICAgIGlmIChzaG91bGRSdW4pIHRoaXMuc3RhcnRUaW1lVGlja2VyKCk7ZWxzZSB0aGlzLnN0b3BUaW1lVGlja2VyKCk7CiAgICB9LAogICAgYWRkRGF0YV9Qb2ludDogZnVuY3Rpb24gYWRkRGF0YV9Qb2ludCh4LCB5KSB7CiAgICAgIHZhciBuZXdEYXRhUG9pbnQgPSBbeCwgeV07CiAgICAgIHZhciBleGlzdGluZ1BvaW50SW5kZXggPSB0aGlzLmNoYXJ0RGF0YTFfcG9zLmZpbmRJbmRleChmdW5jdGlvbiAocG9pbnQpIHsKICAgICAgICByZXR1cm4gcG9pbnRbMF0gPT09IG5ld0RhdGFQb2ludFswXTsKICAgICAgfSk7CgogICAgICBpZiAoZXhpc3RpbmdQb2ludEluZGV4ICE9PSAtMSkgewogICAgICAgIC8vIElmIHRoZSB4IHZhbHVlIGFscmVhZHkgZXhpc3RzLCB1cGRhdGUgdGhlIHkgdmFsdWUKICAgICAgICBpZiAobmV3RGF0YVBvaW50WzFdID09IDAgfHwgbmV3RGF0YVBvaW50WzFdID09IHRoaXMuY2hhcnREYXRhMV9wb3NbZXhpc3RpbmdQb2ludEluZGV4XVsxXSkgcmV0dXJuOwogICAgICAgIHRoaXMuY2hhcnREYXRhMV9wb3NbZXhpc3RpbmdQb2ludEluZGV4XSA9IG5ld0RhdGFQb2ludDsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBJZiB0aGUgeCB2YWx1ZSBkb2VzIG5vdCBleGlzdCwgYWRkIHRoZSBuZXcgZGF0YSBwb2ludAogICAgICAgIHRoaXMuY2hhcnREYXRhMV9wb3MucHVzaChuZXdEYXRhUG9pbnQpOwogICAgICB9CgogICAgICB0aGlzLnNjaGVkdWxlUmVuZGVyKHRoaXMueEF4aXNfbWluLCB0aGlzLnhBeGlzX21heCk7CiAgICB9LAogICAgLy8g57uY5Yi25oqY57q/L+S6jOasoeabsue6vwogICAgYWRkTGluZURhdGFfUG9pbnQ6IGZ1bmN0aW9uIGFkZExpbmVEYXRhX1BvaW50KGRhdGFPckEsIGIsIGMpIHsKICAgICAgLy8g5YW85a6577ya5aaC5p6c5Lyg5YWl55qE5piv54K55pWw57uE77yM55u05o6l5L2/55SoCiAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGFPckEpKSB7CiAgICAgICAgdGhpcy5saW5lRGF0YUZyb21Qb2ludHMgPSBkYXRhT3JBOwogICAgICAgIHRoaXMucXVhZHJhdGljUGFyYW1zID0gbnVsbDsKICAgICAgICB0aGlzLnNjaGVkdWxlUmVuZGVyKHRoaXMueEF4aXNfbWluLCB0aGlzLnhBeGlzX21heCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIOiLpeS8oOWFpeeahOaYr+ezu+aVsOWvueixoSB7IGEsIGIsIGMgfQoKCiAgICAgIGlmIChkYXRhT3JBICYmIF90eXBlb2YoZGF0YU9yQSkgPT09ICdvYmplY3QnICYmICh0eXBlb2YgZGF0YU9yQS5hID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgZGF0YU9yQS5hID09PSAnc3RyaW5nJykgJiYgKHR5cGVvZiBkYXRhT3JBLmIgPT09ICdudW1iZXInIHx8IHR5cGVvZiBkYXRhT3JBLmIgPT09ICdzdHJpbmcnKSAmJiAodHlwZW9mIGRhdGFPckEuYyA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGRhdGFPckEuYyA9PT0gJ3N0cmluZycpKSB7CiAgICAgICAgdmFyIGFOdW0gPSB0eXBlb2YgZGF0YU9yQS5hID09PSAnbnVtYmVyJyA/IGRhdGFPckEuYSA6IHBhcnNlRmxvYXQoZGF0YU9yQS5hKTsKICAgICAgICB2YXIgYk51bSA9IHR5cGVvZiBkYXRhT3JBLmIgPT09ICdudW1iZXInID8gZGF0YU9yQS5iIDogcGFyc2VGbG9hdChkYXRhT3JBLmIpOwogICAgICAgIHZhciBjTnVtID0gdHlwZW9mIGRhdGFPckEuYyA9PT0gJ251bWJlcicgPyBkYXRhT3JBLmMgOiBwYXJzZUZsb2F0KGRhdGFPckEuYyk7CgogICAgICAgIGlmICghaXNGaW5pdGUoYU51bSkgfHwgIWlzRmluaXRlKGJOdW0pIHx8ICFpc0Zpbml0ZShjTnVtKSkgewogICAgICAgICAgdGhpcy5zY2hlZHVsZVJlbmRlcih0aGlzLnhBeGlzX21pbiwgdGhpcy54QXhpc19tYXgpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIGNlbnRlclggPSB0eXBlb2YgZGF0YU9yQS54MCA9PT0gJ251bWJlcicgPyBkYXRhT3JBLngwIDogdHlwZW9mIGRhdGFPckEueDAgPT09ICdzdHJpbmcnID8gcGFyc2VGbG9hdChkYXRhT3JBLngwKSA6IDA7CiAgICAgICAgdGhpcy5xdWFkcmF0aWNQYXJhbXMgPSB7CiAgICAgICAgICBhOiBhTnVtLAogICAgICAgICAgYjogYk51bSwKICAgICAgICAgIGM6IGNOdW0sCiAgICAgICAgICB4MDogaXNGaW5pdGUoY2VudGVyWCkgPyBjZW50ZXJYIDogMAogICAgICAgIH07CiAgICAgICAgdGhpcy5saW5lRGF0YUZyb21Qb2ludHMgPSBudWxsOwogICAgICAgIHRoaXMuc2NoZWR1bGVSZW5kZXIodGhpcy54QXhpc19taW4sIHRoaXMueEF4aXNfbWF4KTsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8g5oiW6ICF5Lul5LiJ5Liq54us56uL5Y+C5pWw5b2i5byP5Lyg5YWlIGEsIGIsIGMKCgogICAgICBpZiAoKHR5cGVvZiBkYXRhT3JBID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgZGF0YU9yQSA9PT0gJ3N0cmluZycpICYmICh0eXBlb2YgYiA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGIgPT09ICdzdHJpbmcnKSAmJiAodHlwZW9mIGMgPT09ICdudW1iZXInIHx8IHR5cGVvZiBjID09PSAnc3RyaW5nJykpIHsKICAgICAgICB2YXIgX2FOdW0gPSB0eXBlb2YgZGF0YU9yQSA9PT0gJ251bWJlcicgPyBkYXRhT3JBIDogcGFyc2VGbG9hdChkYXRhT3JBKTsKCiAgICAgICAgdmFyIF9iTnVtID0gdHlwZW9mIGIgPT09ICdudW1iZXInID8gYiA6IHBhcnNlRmxvYXQoYik7CgogICAgICAgIHZhciBfY051bSA9IHR5cGVvZiBjID09PSAnbnVtYmVyJyA/IGMgOiBwYXJzZUZsb2F0KGMpOwoKICAgICAgICBpZiAoIWlzRmluaXRlKF9hTnVtKSB8fCAhaXNGaW5pdGUoX2JOdW0pIHx8ICFpc0Zpbml0ZShfY051bSkpIHsKICAgICAgICAgIHRoaXMuc2NoZWR1bGVSZW5kZXIodGhpcy54QXhpc19taW4sIHRoaXMueEF4aXNfbWF4KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHRoaXMucXVhZHJhdGljUGFyYW1zID0gewogICAgICAgICAgYTogX2FOdW0sCiAgICAgICAgICBiOiBfYk51bSwKICAgICAgICAgIGM6IF9jTnVtCiAgICAgICAgfTsKICAgICAgICB0aGlzLmxpbmVEYXRhRnJvbVBvaW50cyA9IG51bGw7CiAgICAgICAgdGhpcy5zY2hlZHVsZVJlbmRlcih0aGlzLnhBeGlzX21pbiwgdGhpcy54QXhpc19tYXgpOwogICAgICAgIHJldHVybjsKICAgICAgfSAvLyDlhbbku5bpnZ7ms5XovpPlhaXvvJrkuI3lpITnkIbvvIzku4XliLfmlrDnjrDnirYKCgogICAgICB0aGlzLnNjaGVkdWxlUmVuZGVyKHRoaXMueEF4aXNfbWluLCB0aGlzLnhBeGlzX21heCk7CiAgICB9LAogICAgLy8g5ZCI5bm277ya5ZCO56uv5ouf5ZCI57uT5p6c5aSE55CG77yI5aeL57uI5oyJ5LqM5qyh5puy57q/57uY5Yi277yJCiAgICBmaXRRdWFkcmF0aWNDdXJ2ZTogZnVuY3Rpb24gZml0UXVhZHJhdGljQ3VydmUoZGF0YVN0cmluZykgewogICAgICB2YXIgcGFydHMgPSBkYXRhU3RyaW5nLnNwbGl0KCc6Jyk7CgogICAgICBpZiAocGFydHMubGVuZ3RoID49IDYpIHsKICAgICAgICB2YXIgYSA9IHBhcnNlRmxvYXQocGFydHNbMV0pOwogICAgICAgIHZhciBiID0gcGFyc2VGbG9hdChwYXJ0c1syXSk7CiAgICAgICAgdmFyIGMgPSBwYXJzZUZsb2F0KHBhcnRzWzNdKTsKICAgICAgICB2YXIgYmVzdFBvc2l0aW9uID0gcGFyc2VGbG9hdChwYXJ0c1s0XSk7CiAgICAgICAgdmFyIG1pbkhGUiA9IHBhcnNlRmxvYXQocGFydHNbNV0pOwogICAgICAgIHRoaXMucXVhZHJhdGljUmVzdWx0LmEgPSB0aGlzLmZvcm1hdENvZWZmaWNpZW50KGEpOwogICAgICAgIHRoaXMucXVhZHJhdGljUmVzdWx0LmIgPSB0aGlzLmZvcm1hdENvZWZmaWNpZW50KGIpOwogICAgICAgIHRoaXMucXVhZHJhdGljUmVzdWx0LmMgPSB0aGlzLmZvcm1hdENvZWZmaWNpZW50KGMpOwogICAgICAgIHRoaXMucXVhZHJhdGljUmVzdWx0LmJlc3RQb3NpdGlvbiA9IGJlc3RQb3NpdGlvbi50b0ZpeGVkKDIpOwogICAgICAgIHRoaXMucXVhZHJhdGljUmVzdWx0Lm1pbkhGUiA9IG1pbkhGUi50b0ZpeGVkKDMpOwogICAgICAgIHRoaXMucXVhZHJhdGljUmVzdWx0LnNob3cgPSB0cnVlOwogICAgICAgIHRoaXMuZ2VuZXJhdGVRdWFkcmF0aWNDdXJ2ZShhLCBiLCBjLCBiZXN0UG9zaXRpb24pOwogICAgICB9CiAgICB9LAogICAgZ2VuZXJhdGVRdWFkcmF0aWNDdXJ2ZTogZnVuY3Rpb24gZ2VuZXJhdGVRdWFkcmF0aWNDdXJ2ZShhLCBiLCBjLCBiZXN0UG9zaXRpb24pIHsKICAgICAgLy8g5aSN55So5bey5pyJIGdlbmVyYXRlUXVhZHJhdGljRGF0YSDkuI4gY2hhcnREYXRhMV9wb3MKICAgICAgdmFyIG1pblBvcyA9IDA7CgogICAgICBpZiAodGhpcy5jaGFydERhdGExX3Bvcy5sZW5ndGggPiAwKSB7CiAgICAgICAgbWluUG9zID0gTWF0aC5taW4uYXBwbHkoTWF0aCwgX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuY2hhcnREYXRhMV9wb3MubWFwKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICByZXR1cm4gcFswXTsKICAgICAgICB9KSkpOwogICAgICB9CgogICAgICB2YXIgc3RhcnRYLCBlbmRYLCBzdGVwU2l6ZTsKCiAgICAgIGlmICh0aGlzLmNoYXJ0RGF0YTFfcG9zLmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgZGF0YU1pblggPSBNYXRoLm1pbi5hcHBseShNYXRoLCBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5jaGFydERhdGExX3Bvcy5tYXAoZnVuY3Rpb24gKHApIHsKICAgICAgICAgIHJldHVybiBwWzBdOwogICAgICAgIH0pKSk7CiAgICAgICAgdmFyIGRhdGFNYXhYID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuY2hhcnREYXRhMV9wb3MubWFwKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICByZXR1cm4gcFswXTsKICAgICAgICB9KSkpOwogICAgICAgIHZhciBkYXRhUmFuZ2UgPSBkYXRhTWF4WCAtIGRhdGFNaW5YOwogICAgICAgIHZhciBleHRlbnNpb24gPSBNYXRoLm1heChkYXRhUmFuZ2UgKiAwLjIsIDEwMDApOwogICAgICAgIHN0YXJ0WCA9IGRhdGFNaW5YIC0gZXh0ZW5zaW9uOwogICAgICAgIGVuZFggPSBkYXRhTWF4WCArIGV4dGVuc2lvbjsKICAgICAgICBzdGVwU2l6ZSA9IE1hdGgubWF4KE1hdGguZmxvb3IoZGF0YVJhbmdlIC8gMTAwKSwgMjApOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciByYW5nZSA9IDUwMDA7CiAgICAgICAgc3RhcnRYID0gYmVzdFBvc2l0aW9uIC0gcmFuZ2U7CiAgICAgICAgZW5kWCA9IGJlc3RQb3NpdGlvbiArIHJhbmdlOwogICAgICAgIHN0ZXBTaXplID0gNTA7CiAgICAgIH0gLy8g6ZKI5a+5IHxhfCDlvojlsI/ml7bmianlsZXojIPlm7Tku6Xlj6/op4Hmm7LnjocKCgogICAgICB2YXIgbWluQSA9IDFlLTE2OwogICAgICB2YXIgdGFyZ2V0RGVsdGEgPSAxLjA7IC8vIOacn+acm+WcqOWPr+inhuiMg+WbtOWGheiHs+WwkSB+MSDnmoQgSEZSIOWPmOWMlgoKICAgICAgdmFyIGN1cnZhdHVyZVJhbmdlID0gTWF0aC5zcXJ0KHRhcmdldERlbHRhIC8gTWF0aC5tYXgoTWF0aC5hYnMoYSksIG1pbkEpKTsKICAgICAgc3RhcnRYID0gTWF0aC5taW4oc3RhcnRYLCBiZXN0UG9zaXRpb24gLSBjdXJ2YXR1cmVSYW5nZSwgdGhpcy54QXhpc19taW4pOwogICAgICBlbmRYID0gTWF0aC5tYXgoZW5kWCwgYmVzdFBvc2l0aW9uICsgY3VydmF0dXJlUmFuZ2UsIHRoaXMueEF4aXNfbWF4KTsKICAgICAgdmFyIGN1cnZlID0gW107CgogICAgICBmb3IgKHZhciB4ID0gc3RhcnRYOyB4IDw9IGVuZFg7IHggKz0gc3RlcFNpemUpIHsKICAgICAgICB2YXIgcnggPSB4IC0gbWluUG9zOwogICAgICAgIHZhciB5ID0gYSAqIHJ4ICogcnggKyBiICogcnggKyBjOwogICAgICAgIGlmIChpc0Zpbml0ZSh5KSAmJiB5ID49IDApIGN1cnZlLnB1c2goW3gsIHldKTsKICAgICAgfSAvLyDliqDlr4bpobbngrnpmYTov5EKCgogICAgICB2YXIgZmluZVJhbmdlID0gTWF0aC5tYXgoc3RlcFNpemUgKiAyLCAyMDAsIGN1cnZhdHVyZVJhbmdlIC8gNCk7CiAgICAgIHZhciBmaW5lU3RlcCA9IE1hdGgubWF4KHN0ZXBTaXplIC8gMTAsIDUpOwoKICAgICAgZm9yICh2YXIgb2ZmID0gLWZpbmVSYW5nZTsgb2ZmIDw9IGZpbmVSYW5nZTsgb2ZmICs9IGZpbmVTdGVwKSB7CiAgICAgICAgdmFyIF94ID0gYmVzdFBvc2l0aW9uICsgb2ZmOwoKICAgICAgICBpZiAoX3ggPj0gc3RhcnRYICYmIF94IDw9IGVuZFgpIHsKICAgICAgICAgIHZhciBfcnggPSBfeCAtIG1pblBvczsKCiAgICAgICAgICB2YXIgX3kgPSBhICogX3J4ICogX3J4ICsgYiAqIF9yeCArIGM7CgogICAgICAgICAgaWYgKGlzRmluaXRlKF95KSAmJiBfeSA+PSAwKSBjdXJ2ZS5wdXNoKFtfeCwgX3ldKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGN1cnZlLnNvcnQoZnVuY3Rpb24gKHAsIHEpIHsKICAgICAgICByZXR1cm4gcFswXSAtIHFbMF07CiAgICAgIH0pOwogICAgICB0aGlzLmNoYXJ0RGF0YTIgPSBjdXJ2ZTsKCiAgICAgIGlmIChjdXJ2ZS5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy54QXhpc19taW4gPSBNYXRoLm1pbih0aGlzLnhBeGlzX21pbiwgY3VydmVbMF1bMF0pOwogICAgICAgIHRoaXMueEF4aXNfbWF4ID0gTWF0aC5tYXgodGhpcy54QXhpc19tYXgsIGN1cnZlW2N1cnZlLmxlbmd0aCAtIDFdWzBdKTsKICAgICAgfQoKICAgICAgdGhpcy5yZW5kZXJDaGFydCh0aGlzLnhBeGlzX21pbiwgdGhpcy54QXhpc19tYXgpOwogICAgfSwKICAgIC8vIOWIoOmZpOe6v+aAp+WIhuaUr++8jOe7n+S4gOeUqOS6jOasoeabsue6vwogICAgLy8g55Sf5oiQ5LiA5YWD5LqM5qyh5puy57q/6YeH5qC354K5CiAgICBnZW5lcmF0ZVF1YWRyYXRpY0RhdGE6IGZ1bmN0aW9uIGdlbmVyYXRlUXVhZHJhdGljRGF0YShhLCBiLCBjLCB4TWluLCB4TWF4KSB7CiAgICAgIHZhciBjZW50ZXJYID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiAwOwogICAgICB2YXIgc3RhcnQgPSBOdW1iZXIuaXNGaW5pdGUoeE1pbikgPyB4TWluIDogMDsKICAgICAgdmFyIGVuZCA9IE51bWJlci5pc0Zpbml0ZSh4TWF4KSA/IHhNYXggOiAxMDA7CiAgICAgIHZhciBzcGFuID0gZW5kIC0gc3RhcnQ7CiAgICAgIHZhciBzYW1wbGVzID0gTWF0aC5tYXgoMiwgTWF0aC5taW4oNDAwLCBNYXRoLmNlaWwoc3BhbiAvIDUwKSkpOyAvLyDmoLnmja7ojIPlm7Toh6rpgILlupTph4fmoLflr4bluqYKCiAgICAgIHZhciBzdGVwID0gc3BhbiAvIHNhbXBsZXMgfHwgMTsKICAgICAgdmFyIGRhdGEgPSBbXTsKCiAgICAgIGZvciAodmFyIHggPSBzdGFydDsgeCA8PSBlbmQ7IHggKz0gc3RlcCkgewogICAgICAgIHZhciB0ID0geCAtIGNlbnRlclg7CiAgICAgICAgdmFyIHkgPSBhICogdCAqIHQgKyBiICogdCArIGM7CiAgICAgICAgZGF0YS5wdXNoKFt4LCB5XSk7CiAgICAgIH0gLy8g56Gu5L+d5YyF5ZCr5bC+54K5CgoKICAgICAgaWYgKGRhdGEubGVuZ3RoID09PSAwIHx8IGRhdGFbZGF0YS5sZW5ndGggLSAxXVswXSA8IGVuZCkgewogICAgICAgIHZhciB0RW5kID0gZW5kIC0gY2VudGVyWDsKICAgICAgICB2YXIgeUVuZCA9IGEgKiB0RW5kICogdEVuZCArIGIgKiB0RW5kICsgYzsKICAgICAgICBkYXRhLnB1c2goW2VuZCwgeUVuZF0pOwogICAgICB9CgogICAgICByZXR1cm4gZGF0YTsKICAgIH0sCiAgICBhZGRNaW5Qb2ludERhdGFfUG9pbnQ6IGZ1bmN0aW9uIGFkZE1pblBvaW50RGF0YV9Qb2ludCh4LCB5KSB7CiAgICAgIHZhciBuZXdEYXRhUG9pbnQgPSBbeCwgeV07CiAgICAgIHRoaXMuY2hhcnREYXRhMy5wdXNoKG5ld0RhdGFQb2ludCk7CiAgICAgIHRoaXMuc2NoZWR1bGVSZW5kZXIodGhpcy54QXhpc19taW4sIHRoaXMueEF4aXNfbWF4KTsKICAgIH0sCiAgICAvLyDmm7TmlLnmmL7npLrnmoR46L206IyD5Zu0CiAgICBjaGFuZ2VSYW5nZV94OiBmdW5jdGlvbiBjaGFuZ2VSYW5nZV94KGN1cnJlbnQsIHRhcmdldCkgewogICAgICB0aGlzLnhBeGlzX21pbiA9IE51bWJlcihjdXJyZW50KSAtIDMwMDA7CiAgICAgIHRoaXMueEF4aXNfbWF4ID0gTnVtYmVyKGN1cnJlbnQpICsgMzAwMDsKICAgICAgdGhpcy5jdXJyZW50WCA9IGN1cnJlbnQ7CiAgICAgIHRoaXMuc2NoZWR1bGVSZW5kZXIodGhpcy54QXhpc19taW4sIHRoaXMueEF4aXNfbWF4KTsKICAgIH0sCiAgICAvLyDmuIXpmaTmlbDmja4KICAgIGNsZWFyQ2hhcnREYXRhMTogZnVuY3Rpb24gY2xlYXJDaGFydERhdGExKCkgewogICAgICB0aGlzLmNoYXJ0RGF0YTFfcG9zID0gW107CiAgICAgIHRoaXMuY2hhcnREYXRhMV90aW1lID0gW107CiAgICAgIHRoaXMuc2NoZWR1bGVSZW5kZXIodGhpcy54QXhpc19taW4sIHRoaXMueEF4aXNfbWF4KTsKICAgIH0sCiAgICBjbGVhckNoYXJ0RGF0YTI6IGZ1bmN0aW9uIGNsZWFyQ2hhcnREYXRhMigpIHsKICAgICAgdGhpcy5jaGFydERhdGEyID0gW107CiAgICAgIHRoaXMuc2NoZWR1bGVSZW5kZXIodGhpcy54QXhpc19taW4sIHRoaXMueEF4aXNfbWF4KTsKICAgIH0sCiAgICBDbGVhckFsbERhdGE6IGZ1bmN0aW9uIENsZWFyQWxsRGF0YSgpIHsKICAgICAgdGhpcy5jaGFydERhdGExX3BvcyA9IFtdOwogICAgICB0aGlzLmNoYXJ0RGF0YTFfdGltZSA9IFtdOwogICAgICB0aGlzLmNoYXJ0RGF0YTIgPSBbXTsKICAgICAgdGhpcy5jaGFydERhdGEzID0gW107CiAgICAgIHRoaXMueUF4aXNfbWF4ID0gMzA7CiAgICAgIHRoaXMuRldITU1heCA9IDE1OwogICAgICB0aGlzLnJlbmRlckNoYXJ0KHRoaXMueEF4aXNfbWluLCB0aGlzLnhBeGlzX21heCk7CiAgICB9LAogICAgLy8g5YiH5o2i5pi+56S66IyD5Zu0CiAgICBSYW5nZVN3aXRjaDogZnVuY3Rpb24gUmFuZ2VTd2l0Y2goKSB7CiAgICAgIGlmICh0aGlzLnJhbmdlID09PSA0KSB7CiAgICAgICAgdGhpcy5yYW5nZSA9IDI7CiAgICAgICAgdGhpcy55QXhpc19taW4gPSAtMjsKICAgICAgICB0aGlzLnlBeGlzX21heCA9IDI7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5yYW5nZSA9PT0gMikgewogICAgICAgIHRoaXMucmFuZ2UgPSAxOwogICAgICAgIHRoaXMueUF4aXNfbWluID0gLTE7CiAgICAgICAgdGhpcy55QXhpc19tYXggPSAxOwogICAgICB9IGVsc2UgaWYgKHRoaXMucmFuZ2UgPT09IDEpIHsKICAgICAgICB0aGlzLnJhbmdlID0gNDsKICAgICAgICB0aGlzLnlBeGlzX21pbiA9IC00OwogICAgICAgIHRoaXMueUF4aXNfbWF4ID0gNDsKICAgICAgfQoKICAgICAgdGhpcy5yZW5kZXJDaGFydCh0aGlzLnhBeGlzX21pbiwgdGhpcy54QXhpc19tYXgpOwogICAgfSwKICAgIC8vIOabtOaWsEZXSE0KICAgIC8vIFVwZGF0ZUZXSE0oRldITSkgewogICAgLy8gICBjb25zdCBuZXdEYXRhUG9pbnQgPSBbdGhpcy5jdXJyZW50WCwgRldITV07CiAgICAvLyAgIHRoaXMuYWRkRGF0YV9Qb2ludChuZXdEYXRhUG9pbnQpOwogICAgLy8gICAvLyBjb25zb2xlLmxvZygiUUhZQ0NEIHwgVXBkYXRlRldITToiLCBuZXdEYXRhUG9pbnQpOwogICAgLy8gICAvLyB0aGlzLiRidXMuJGVtaXQoJ1NlbmRDb25zb2xlTG9nTXNnJywgJ1VwZGF0ZUZXSE06JyArIG5ld0RhdGFQb2ludCwgJ2luZm8nKTsKICAgIC8vICAgdGhpcy5yZW5kZXJDaGFydCh0aGlzLnhBeGlzX21pbiwgdGhpcy54QXhpc19tYXgpOwogICAgLy8gfSwKICAgIC8vIOaLn+WQiOS6jOasoeabsue6vwogICAgLy8gZml0UXVhZHJhdGljQ3VydmUoeCwgeSkgewogICAgLy8gICBjb25zdCBuZXdEYXRhUG9pbnQgPSBbeCwgeV07CiAgICAvLyAgIHRoaXMuYWRkRGF0YV9MaW5lKG5ld0RhdGFQb2ludCk7CiAgICAvLyB9LAogICAgLy8g5ouf5ZCI5LqM5qyh5puy57q/5pyA5bCP54K5CiAgICAvLyBmaXRRdWFkcmF0aWNDdXJ2ZV9taW5Qb2ludCh4LCB5KSB7CiAgICAvLyAgIGNvbnNvbGUubG9nKCJRSFlDQ0QgfCBtaW5Qb2ludDoiLCB4LCAnLCcsIHkpOwogICAgLy8gICB0aGlzLiRidXMuJGVtaXQoJ1NlbmRDb25zb2xlTG9nTXNnJywgJ21pblBvaW50OicgKyB4ICsgJywnICsgeSwgJ2luZm8nKTsKICAgIC8vICAgdGhpcy5jaGFydERhdGEzID0gW107CiAgICAvLyAgIGNvbnN0IG5ld0RhdGFQb2ludCA9IFt4LCB5XTsKICAgIC8vICAgdGhpcy5jaGFydERhdGEzLnB1c2gobmV3RGF0YVBvaW50KTsKICAgIC8vIH0sCiAgICBzZXRGb2N1c0NoYXJ0UmFuZ2U6IGZ1bmN0aW9uIHNldEZvY3VzQ2hhcnRSYW5nZShsb3dlckJvdW5kLCB1cHBlckJvdW5kKSB7CiAgICAgIGlmICh0eXBlb2YgbG93ZXJCb3VuZCA9PT0gJ3N0cmluZycpIHsKICAgICAgICBsb3dlckJvdW5kID0gcGFyc2VJbnQobG93ZXJCb3VuZCk7CiAgICAgIH0KCiAgICAgIGlmICh0eXBlb2YgdXBwZXJCb3VuZCA9PT0gJ3N0cmluZycpIHsKICAgICAgICB1cHBlckJvdW5kID0gcGFyc2VJbnQodXBwZXJCb3VuZCk7CiAgICAgIH0KCiAgICAgIGlmIChpc05hTihsb3dlckJvdW5kKSB8fCBpc05hTih1cHBlckJvdW5kKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKGxvd2VyQm91bmQgPT09IHVwcGVyQm91bmQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChsb3dlckJvdW5kIDwgdXBwZXJCb3VuZCkgewogICAgICAgIHRoaXMueF9taW4gPSBsb3dlckJvdW5kOwogICAgICAgIHRoaXMueF9tYXggPSB1cHBlckJvdW5kOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMueF9taW4gPSB1cHBlckJvdW5kOwogICAgICAgIHRoaXMueF9tYXggPSBsb3dlckJvdW5kOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Chart-Focus.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div\n      ref=\"linechart\"\n      :style=\"{ width: containerMaxWidth + 'px', height: 80 + 'px' }\"\n      class=\"linechart-panel\"\n      @mousedown=\"startDrag\"\n      @mousemove=\"dragging\"\n      @mouseup=\"endDrag\"\n      @touchstart=\"startDrag\"\n      @touchmove=\"dragging\"\n      @touchend=\"endDrag\"\n    ></div>\n    \n    <!-- 对焦结果状态框（移入根节点内部，保持单一根元素） -->\n    <div class=\"focus-result-panel\" v-if=\"quadraticResult && quadraticResult.show\">\n      <div class=\"panel-header\">\n        <div class=\"header-left\">\n          <div class=\"status-icon success\">\n            <i class=\"icon-check\">✓</i>\n          </div>\n          <div class=\"panel-title\">{{ $t('Focus.status') }}</div>\n        </div>\n        <div class=\"close-button\" @click=\"closePanel\">\n          <i class=\"icon-close\">×</i>\n        </div>\n      </div>\n      <div class=\"panel-content\">\n        <div class=\"status-row\">\n          <span class=\"label\">{{ $t('Focus.bestPosition') }}</span>\n          <span class=\"value\">{{ getBestPositionDisplay() }}</span>\n        </div>\n        <div class=\"status-row\">\n          <span class=\"label\">{{ $t('Focus.minHFR') }}</span>\n          <span class=\"value\">{{ quadraticResult.minHFR }}</span>\n        </div>\n        <div class=\"status-row\">\n          <span class=\"label\">{{ $t('Focus.dataPoints') }}</span>\n          <span class=\"value\">{{ validDataPointCount }}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as echarts from 'echarts';\n\nexport default {\n  name: 'LineChart',\n  props: {\n    // 是否使用时间轴模式（也可通过总线 setFocusChartTimeMode 切换）\n    useTimeAxis: {\n      type: Boolean,\n      default: false\n    },\n    // 时间窗口长度（秒），仅在时间轴模式下生效\n    timeWindowSec: {\n      type: Number,\n      default: 60\n    }\n  },\n  data() {\n    return {\n      containerMaxWidth: 150,\n      // 非时间轴：散点数据（x 为电调位置）\n      chartData1_pos: [],\n      // 时间轴：散点数据（x 为时间戳）\n      chartData1_time: [],\n      chartData2: [],\n      chartData3: [],\n      xAxis_min: 0,\n      xAxis_max: 6000,\n      yAxis_min: 0,\n      yAxis_max: 30,\n      range: 4,\n      currentX: 0,\n      FWHMMax: 0,\n      isDragging: false,\n      startX: 0,\n      deltaX: 0,\n      x_min: -60000,\n      x_max: 60000,\n      // 时间轴模式\n      isTimeMode: false,\n      timeTicker: null,\n      // 可见性控制\n      isVisible: false,\n      ioObserver: null,\n      // 渲染调度\n      renderRafId: null,\n      renderScheduled: false,\n      pendingLowerBound: null,\n      pendingUpperBound: null,\n      // 线条数据来源：若为 null 则使用 quadraticParams 动态采样\n      lineDataFromPoints: null,\n      quadraticParams: null, // { a,b,c,x0? }\n      // 二次拟合结果显示（合并新增功能）\n      quadraticResult: {\n        show: false,\n        a: '0.000000',\n        b: '0.000000',\n        c: '0.000000',\n        bestPosition: '0.00',\n        minHFR: '0.000'\n      }\n    };\n  },\n  computed: {\n    // 合并新增：有效数据点数\n    validDataPointCount() {\n      const currentData = this.isTimeMode ? this.chartData1_time : this.chartData1_pos;\n      return currentData.length;\n    }\n  },\n  mounted() {\n    // 根据可见性启动/停止时间推进\n    const el = this.$refs.linechart;\n    if (window && 'IntersectionObserver' in window && el) {\n      this.ioObserver = new IntersectionObserver((entries) => {\n        const e = entries[0];\n        this.isVisible = !!(e && e.isIntersecting);\n        this.updateTickerByVisibility();\n      }, { threshold: 0.01 });\n      this.ioObserver.observe(el);\n    } else {\n      // 回退：不可见性未知时视为可见\n      this.isVisible = true;\n    }\n    document.addEventListener('visibilitychange', this.updateTickerByVisibility);\n\n    // 初始化时间轴模式（由 prop 控制）\n    this.isTimeMode = !!this.useTimeAxis;\n    this.updateTickerByVisibility();\n  },\n  created() {\n    this.$bus.$on('FocusPosition', this.changeRange_x);\n    // 合并：启用后端拟合显示\n    this.$bus.$on('fitQuadraticCurve', this.fitQuadraticCurve);\n    this.$bus.$on('fitQuadraticCurve_minPoint', this.fitQuadraticCurve_minPoint);\n\n    this.$bus.$on('ClearfitQuadraticCurve', this.clearChartData2);\n    this.$bus.$on('ClearAllData', this.ClearAllData);\n    this.$bus.$on('updateFocusChartWidth', this.initChart);\n    this.$bus.$on('addData_Point', this.addData_Point);\n    this.$bus.$on('addMinPointData_Point', this.addMinPointData_Point);\n    this.$bus.$on('addLineData_Point', this.addLineData_Point);\n    this.$bus.$on('setFocusChartRange', this.setFocusChartRange);\n    // 新增：时间轴模式控制与点追加\n    this.$bus.$on('setFocusChartTimeMode', this.setTimeMode);\n    this.$bus.$on('addFwhmNow', this.addFwhmPointNow);\n\n  },\n  beforeDestroy() {\n    this.teardownBusAndTimers();\n  },\n  destroyed() {\n    this.teardownBusAndTimers();\n  },\n  methods: {\n    getBestPositionDisplay() {\n      return this.quadraticResult.bestPosition;\n    },\n    closePanel() {\n      this.quadraticResult.show = false;\n    },\n    formatCoefficient(value) {\n      if (Math.abs(value) < 1e-6) return value.toExponential(6);\n      return value.toFixed(6);\n    },\n    \n    teardownBusAndTimers() {\n      this.$bus.$off('FocusPosition', this.changeRange_x);\n      this.$bus.$off('ClearfitQuadraticCurve', this.clearChartData2);\n      this.$bus.$off('ClearAllData', this.ClearAllData);\n      this.$bus.$off('updateFocusChartWidth', this.initChart);\n      this.$bus.$off('addData_Point', this.addData_Point);\n      this.$bus.$off('addMinPointData_Point', this.addMinPointData_Point);\n      this.$bus.$off('addLineData_Point', this.addLineData_Point);\n      this.$bus.$off('addQuadraticCurve', this.addLineData_Point);\n      this.$bus.$off('setFocusChartRange', this.setFocusChartRange);\n      this.$bus.$off('setFocusChartTimeMode', this.setTimeMode);\n      this.$bus.$off('addFwhmNow', this.addFwhmPointNow);\n      if (this.timeTicker) {\n        clearInterval(this.timeTicker);\n        this.timeTicker = null;\n      }\n      if (this.ioObserver) {\n        try { this.ioObserver.disconnect(); } catch (e) {}\n        this.ioObserver = null;\n      }\n      document.removeEventListener('visibilitychange', this.updateTickerByVisibility);\n    },\n    initChart(Width) {\n      this.containerMaxWidth = Width - 95;\n      const chartDom = this.$refs.linechart;\n      chartDom.style.width = this.containerMaxWidth + 'px';\n      this.myChart = echarts.init(chartDom);\n      this.renderChart(this.xAxis_min, this.xAxis_max);\n    },\n    startDrag(event) {\n      if (this.isTimeMode) return; // 时间轴模式下禁用拖拽\n      this.isDragging = true;\n      const x = this.getClientX(event);\n      if (typeof x === 'number') this.startX = x;\n    },\n    dragging(event) {\n      if (this.isDragging && !this.isTimeMode) {\n        const x = this.getClientX(event);\n        if (typeof x !== 'number') return;\n        this.deltaX = (x - this.startX) * 10;\n        this.startX = x;\n        const windowWidth = this.xAxis_max - this.xAxis_min;\n        // 计算新的范围并做边界裁剪\n        let newMin = this.xAxis_min - this.deltaX;\n        const minAllowed = this.x_min;\n        const maxAllowed = this.x_max - windowWidth;\n        if (maxAllowed < minAllowed) {\n          // 安全处理：若设置不合理，回退到不移动\n          newMin = this.x_min;\n        } else {\n          newMin = Math.max(minAllowed, Math.min(maxAllowed, newMin));\n        }\n        this.xAxis_min = newMin;\n        this.xAxis_max = newMin + windowWidth;\n        this.scheduleRender(this.xAxis_min, this.xAxis_max);\n      }\n    },\n    getClientX(e) {\n      if (e && e.touches && e.touches.length) return e.touches[0].clientX;\n      if (e && e.changedTouches && e.changedTouches.length) return e.changedTouches[0].clientX;\n      if (typeof e.clientX === 'number') return e.clientX;\n      return undefined;\n    },\n    endDrag() {\n      this.isDragging = false;\n      this.deltaX = 0;\n      // this.$bus.$emit('setTargetPosition', (this.xAxis_min + this.xAxis_max) / 2);\n    },\n    scheduleRender(lowerBound, upperBound) {\n      this.pendingLowerBound = lowerBound;\n      this.pendingUpperBound = upperBound;\n      if (this.renderScheduled) return;\n      this.renderScheduled = true;\n      const cb = () => {\n        this.renderRafId = null;\n        this.renderScheduled = false;\n        this.renderChart(this.pendingLowerBound, this.pendingUpperBound);\n      };\n      if (typeof window !== 'undefined' && window.requestAnimationFrame) {\n        this.renderRafId = window.requestAnimationFrame(cb);\n      } else {\n        // 回退：无 rAF 时，使用微任务降低阻塞\n        Promise.resolve().then(cb);\n      }\n    },\n    renderChart(lowerBound, upperBound) {\n      const data1 = this.isTimeMode ? this.chartData1_time : this.chartData1_pos;\n      const y_max = data1.length > 0 ? Math.max(...data1.map(item => item[1])) * 2 : this.yAxis_max;\n      // 线数据：若传入系数，则根据当前视图范围动态采样，避免拖动后断裂或消失\n      let decData = [];\n      if (!this.isTimeMode) {\n        if (this.lineDataFromPoints && Array.isArray(this.lineDataFromPoints)) {\n          decData = this.lineDataFromPoints;\n        } else if (this.quadraticParams) {\n          const { a, b, c, x0 } = this.quadraticParams;\n          if (isFinite(a) && isFinite(b) && isFinite(c)) {\n            decData = this.generateQuadraticData(a, b, c, lowerBound, upperBound, isFinite(x0) ? x0 : 0);\n          }\n        } else {\n          decData = this.chartData2; // 兼容旧逻辑\n        }\n      }\n      \n      \n      const optionXAxis = this.isTimeMode\n        ? {\n            type: 'time',\n            min: Date.now() - this.timeWindowSec * 1000,\n            max: Date.now(),\n            axisLabel: {\n              color: 'white',\n              fontSize: 5,\n              formatter: function (value) {\n                const d = new Date(value);\n                const pad = (n) => (n < 10 ? '0' + n : '' + n);\n                return pad(d.getHours()) + ':' + pad(d.getMinutes()) + ':' + pad(d.getSeconds());\n              }\n            },\n            axisLine: { lineStyle: { color: 'rgba(200, 200, 200, 0.5)' } },\n            splitLine: {\n              show: true,\n              lineStyle: { color: 'rgba(128, 128, 128, 0.5)', width: 1, type: 'solid' }\n            }\n          }\n        : {\n            type: 'value',\n            min: lowerBound,\n            max: upperBound,\n            axisLine: { lineStyle: { color: 'rgba(200, 200, 200, 0.5)' } },\n            axisLabel: { color: 'white', fontSize: 5 },\n            splitLine: { show: true, lineStyle: { color: 'rgba(128, 128, 128, 0.5)', width: 1, type: 'solid' } }\n          };\n      const option = {\n        grid: {\n          left: '0%',\n          right: '2%',\n          bottom: '0%',\n          top: '10%',\n          containLabel: true\n        },\n        xAxis: optionXAxis,\n        yAxis: {\n          min: this.yAxis_min,\n          max: y_max,\n          axisLine: {\n            lineStyle: {\n              color: 'rgba(200, 200, 200, 0.5)'  // y轴线颜色\n            }\n          },\n          axisLabel: {\n            color: 'white',\n            fontSize: 5\n          },\n          splitNumber: 3,\n          splitLine: {\n            show: true,\n            lineStyle: {\n              color: 'rgba(128, 128, 128, 0.5)',\n              width: 1,\n              type: 'solid'\n            }\n          }\n        },\n        series: [\n          {\n            name: 'FWHM',\n            type: 'scatter',\n            data: data1,\n            itemStyle: {\n              color: 'red'\n            },\n            symbolSize: 4\n          },\n          !this.isTimeMode ? {\n            name: 'Dec',\n            type: 'line',\n            data: decData,\n            itemStyle: {\n              color: 'green'\n            },\n            lineStyle: {\n              width: 1\n            },\n            symbolSize: 0\n          } : null,\n          !this.isTimeMode ? {\n            name: 'minPoint',\n            type: 'scatter',\n            data: this.chartData3,\n            itemStyle: {\n              color: 'rgba(75, 155, 250, 0.7)'\n            },\n            symbolSize: 4\n          } : null,\n          !this.isTimeMode ? {\n            name: 'xMinLine',\n            type: 'line',\n            data: [\n              [this.x_min, this.yAxis_min],\n              [this.x_min, y_max]\n            ],\n            lineStyle: {\n              color: 'red',\n              width: 1\n            },\n            symbol: 'none'\n          } : null,\n          !this.isTimeMode ? {\n            name: 'xMaxLine',\n            type: 'line',\n            data: [\n              [this.x_max, this.yAxis_min],\n              [this.x_max, y_max]\n            ],\n            lineStyle: {\n              color: 'red',\n              width: 1\n            },\n            symbol: 'none'\n          } : null,\n          !this.isTimeMode ? {\n            name: 'currentPosition',\n            type: 'line',\n            data: [\n              [this.currentX, this.yAxis_min],\n              [this.currentX, y_max]\n            ],\n            lineStyle: {\n              color: 'green',\n              width: 1\n            },\n            symbol: 'none'\n          } : null\n        ]\n      };\n      // 过滤掉为 null 的 series 项\n      option.series = option.series.filter(Boolean);\n      // 使用 lazyUpdate 降低同步开销\n      this.myChart.setOption(option, false, true);\n    },\n    // 追加一个以\"当前时间\"为 x 的 FWHM 点（时间轴模式）\n    addFwhmPointNow(fwhm) {\n      // 确保 fwhm 是数字\n      const fwhmNum = typeof fwhm === 'number' ? fwhm : parseFloat(fwhm);\n      if (isNaN(fwhmNum) || fwhmNum <= 0) { return; }\n      \n      const now = Date.now();\n      const point = [now, fwhmNum];\n      this.chartData1_time.push(point);\n      \n      \n      // 仅保留窗口期内的数据\n      const minTs = now - this.timeWindowSec * 1000;\n      this.chartData1_time = this.chartData1_time.filter(p => p[0] >= minTs);\n      \n      // 强制重新渲染\n      if (this.myChart) { this.scheduleRender(this.xAxis_min, this.xAxis_max); }\n    },\n    // 开启/关闭时间轴模式\n    setTimeMode(flag) {\n      const enable = !!flag;\n      if (enable === this.isTimeMode) return;\n      this.isTimeMode = enable;\n      this.updateTickerByVisibility();\n      if (this.myChart) { this.myChart.clear(); }\n      this.scheduleRender(this.xAxis_min, this.xAxis_max);\n    },\n    stopTimeTicker() {\n      if (this.timeTicker) {\n        clearInterval(this.timeTicker);\n        this.timeTicker = null;\n      }\n    },\n    startTimeTicker() {\n      if (this.timeTicker) return;\n      this.timeTicker = setInterval(() => {\n        // 没有新点时也推动时间轴前进\n        if (this.myChart) {\n          this.scheduleRender(this.xAxis_min, this.xAxis_max);\n        }\n      }, 1000);\n    },\n    updateTickerByVisibility() {\n      const docVisible = typeof document !== 'undefined' ? !document.hidden : true;\n      const shouldRun = this.isTimeMode && this.isVisible && docVisible;\n      if (shouldRun) this.startTimeTicker(); else this.stopTimeTicker();\n    },\n    addData_Point(x,y) {\n      const newDataPoint = [x, y];\n      const existingPointIndex = this.chartData1_pos.findIndex(point => point[0] === newDataPoint[0]);\n      if (existingPointIndex !== -1) {\n        // If the x value already exists, update the y value\n        if (newDataPoint[1] == 0 || newDataPoint[1] == this.chartData1_pos[existingPointIndex][1]) return;\n        this.chartData1_pos[existingPointIndex] = newDataPoint;\n      } else {\n        // If the x value does not exist, add the new data point\n        this.chartData1_pos.push(newDataPoint);\n      }\n      this.scheduleRender(this.xAxis_min, this.xAxis_max);\n    },\n    // 绘制折线/二次曲线\n    addLineData_Point(dataOrA, b, c) {\n      // 兼容：如果传入的是点数组，直接使用\n      if (Array.isArray(dataOrA)) {\n        this.lineDataFromPoints = dataOrA;\n        this.quadraticParams = null;\n        this.scheduleRender(this.xAxis_min, this.xAxis_max);\n        return;\n      }\n\n      // 若传入的是系数对象 { a, b, c }\n      if (dataOrA && typeof dataOrA === 'object' &&\n          (typeof dataOrA.a === 'number' || typeof dataOrA.a === 'string') &&\n          (typeof dataOrA.b === 'number' || typeof dataOrA.b === 'string') &&\n          (typeof dataOrA.c === 'number' || typeof dataOrA.c === 'string')) {\n        const aNum = typeof dataOrA.a === 'number' ? dataOrA.a : parseFloat(dataOrA.a);\n        const bNum = typeof dataOrA.b === 'number' ? dataOrA.b : parseFloat(dataOrA.b);\n        const cNum = typeof dataOrA.c === 'number' ? dataOrA.c : parseFloat(dataOrA.c);\n        if (!isFinite(aNum) || !isFinite(bNum) || !isFinite(cNum)) {\n          this.scheduleRender(this.xAxis_min, this.xAxis_max);\n          return;\n        }\n        const centerX = typeof dataOrA.x0 === 'number' ? dataOrA.x0 : (typeof dataOrA.x0 === 'string' ? parseFloat(dataOrA.x0) : 0);\n        this.quadraticParams = { a: aNum, b: bNum, c: cNum, x0: isFinite(centerX) ? centerX : 0 };\n        this.lineDataFromPoints = null;\n        this.scheduleRender(this.xAxis_min, this.xAxis_max);\n        return;\n      }\n\n      // 或者以三个独立参数形式传入 a, b, c\n      if ((typeof dataOrA === 'number' || typeof dataOrA === 'string') &&\n          (typeof b === 'number' || typeof b === 'string') &&\n          (typeof c === 'number' || typeof c === 'string')) {\n        const aNum = typeof dataOrA === 'number' ? dataOrA : parseFloat(dataOrA);\n        const bNum = typeof b === 'number' ? b : parseFloat(b);\n        const cNum = typeof c === 'number' ? c : parseFloat(c);\n        if (!isFinite(aNum) || !isFinite(bNum) || !isFinite(cNum)) {\n          this.scheduleRender(this.xAxis_min, this.xAxis_max);\n          return;\n        }\n        this.quadraticParams = { a: aNum, b: bNum, c: cNum };\n        this.lineDataFromPoints = null;\n        this.scheduleRender(this.xAxis_min, this.xAxis_max);\n        return;\n      }\n\n      // 其他非法输入：不处理，仅刷新现状\n      this.scheduleRender(this.xAxis_min, this.xAxis_max);\n    },\n    // 合并：后端拟合结果处理（始终按二次曲线绘制）\n    fitQuadraticCurve(dataString) {\n      const parts = dataString.split(':');\n      if (parts.length >= 6) {\n        const a = parseFloat(parts[1]);\n        const b = parseFloat(parts[2]);\n        const c = parseFloat(parts[3]);\n        const bestPosition = parseFloat(parts[4]);\n        const minHFR = parseFloat(parts[5]);\n        this.quadraticResult.a = this.formatCoefficient(a);\n        this.quadraticResult.b = this.formatCoefficient(b);\n        this.quadraticResult.c = this.formatCoefficient(c);\n        this.quadraticResult.bestPosition = bestPosition.toFixed(2);\n        this.quadraticResult.minHFR = minHFR.toFixed(3);\n        this.quadraticResult.show = true;\n\n        this.generateQuadraticCurve(a, b, c, bestPosition);\n      }\n    },\n    generateQuadraticCurve(a, b, c, bestPosition) {\n      // 复用已有 generateQuadraticData 与 chartData1_pos\n      let minPos = 0;\n      if (this.chartData1_pos.length > 0) {\n        minPos = Math.min(...this.chartData1_pos.map(p => p[0]));\n      }\n      let startX, endX, stepSize;\n      if (this.chartData1_pos.length > 0) {\n        const dataMinX = Math.min(...this.chartData1_pos.map(p => p[0]));\n        const dataMaxX = Math.max(...this.chartData1_pos.map(p => p[0]));\n        const dataRange = dataMaxX - dataMinX;\n        const extension = Math.max(dataRange * 0.2, 1000);\n        startX = dataMinX - extension;\n        endX = dataMaxX + extension;\n        stepSize = Math.max(Math.floor(dataRange / 100), 20);\n      } else {\n        const range = 5000;\n        startX = bestPosition - range;\n        endX = bestPosition + range;\n        stepSize = 50;\n      }\n      // 针对 |a| 很小时扩展范围以可见曲率\n      const minA = 1e-16;\n      const targetDelta = 1.0; // 期望在可视范围内至少 ~1 的 HFR 变化\n      const curvatureRange = Math.sqrt(targetDelta / Math.max(Math.abs(a), minA));\n      startX = Math.min(startX, bestPosition - curvatureRange, this.xAxis_min);\n      endX = Math.max(endX, bestPosition + curvatureRange, this.xAxis_max);\n\n      const curve = [];\n      for (let x = startX; x <= endX; x += stepSize) {\n        const rx = x - minPos;\n        const y = a * rx * rx + b * rx + c;\n        if (isFinite(y) && y >= 0) curve.push([x, y]);\n      }\n      // 加密顶点附近\n      const fineRange = Math.max(stepSize * 2, 200, curvatureRange / 4);\n      const fineStep = Math.max(stepSize / 10, 5);\n      for (let off = -fineRange; off <= fineRange; off += fineStep) {\n        const x = bestPosition + off;\n        if (x >= startX && x <= endX) {\n          const rx = x - minPos;\n          const y = a * rx * rx + b * rx + c;\n          if (isFinite(y) && y >= 0) curve.push([x, y]);\n        }\n      }\n      curve.sort((p, q) => p[0] - q[0]);\n      this.chartData2 = curve;\n      if (curve.length > 0) {\n        this.xAxis_min = Math.min(this.xAxis_min, curve[0][0]);\n        this.xAxis_max = Math.max(this.xAxis_max, curve[curve.length - 1][0]);\n      }\n      this.renderChart(this.xAxis_min, this.xAxis_max);\n    },\n    // 删除线性分支，统一用二次曲线\n    // 生成一元二次曲线采样点\n    generateQuadraticData(a, b, c, xMin, xMax, centerX = 0) {\n      const start = Number.isFinite(xMin) ? xMin : 0;\n      const end = Number.isFinite(xMax) ? xMax : 100;\n      const span = end - start;\n      const samples = Math.max(2, Math.min(400, Math.ceil(span / 50))); // 根据范围自适应采样密度\n      const step = span / samples || 1;\n      const data = [];\n      for (let x = start; x <= end; x += step) {\n        const t = x - centerX;\n        const y = a * t * t + b * t + c;\n        data.push([x, y]);\n      }\n      // 确保包含尾点\n      if (data.length === 0 || data[data.length - 1][0] < end) {\n        const tEnd = end - centerX;\n        const yEnd = a * tEnd * tEnd + b * tEnd + c;\n        data.push([end, yEnd]);\n      }\n      return data;\n    },\n    addMinPointData_Point(x,y) {\n      const newDataPoint = [x, y];\n      this.chartData3.push(newDataPoint);\n      this.scheduleRender(this.xAxis_min, this.xAxis_max);\n    },\n    // 更改显示的x轴范围\n    changeRange_x(current, target) {\n      this.xAxis_min = Number(current) - 3000;\n      this.xAxis_max = Number(current) + 3000;\n      this.currentX = current;\n      \n      this.scheduleRender(this.xAxis_min, this.xAxis_max);\n    },\n\n    // 清除数据\n    clearChartData1() {\n      this.chartData1_pos = [];\n      this.chartData1_time = [];\n      this.scheduleRender(this.xAxis_min, this.xAxis_max);\n    },\n    clearChartData2() {\n      this.chartData2 = [];\n      this.scheduleRender(this.xAxis_min, this.xAxis_max);\n    },\n    ClearAllData() {\n      this.chartData1_pos = [];\n      this.chartData1_time = [];\n      this.chartData2 = [];\n      this.chartData3 = [];\n      this.yAxis_max = 30;\n      this.FWHMMax = 15;\n      this.renderChart(this.xAxis_min, this.xAxis_max);\n    },\n    // 切换显示范围\n    RangeSwitch() {\n      if (this.range === 4) {\n        this.range = 2;\n        this.yAxis_min = -2;\n        this.yAxis_max = 2;\n      } else if (this.range === 2) {\n        this.range = 1;\n        this.yAxis_min = -1;\n        this.yAxis_max = 1;\n      } else if (this.range === 1) {\n        this.range = 4;\n        this.yAxis_min = -4;\n        this.yAxis_max = 4;\n      }\n      this.renderChart(this.xAxis_min, this.xAxis_max);\n    },\n    // 更新FWHM\n    // UpdateFWHM(FWHM) {\n    //   const newDataPoint = [this.currentX, FWHM];\n    //   this.addData_Point(newDataPoint);\n    //   // console.log(\"QHYCCD | UpdateFWHM:\", newDataPoint);\n    //   // this.$bus.$emit('SendConsoleLogMsg', 'UpdateFWHM:' + newDataPoint, 'info');\n    //   this.renderChart(this.xAxis_min, this.xAxis_max);\n    // },\n    // 拟合二次曲线\n    // fitQuadraticCurve(x, y) {\n    //   const newDataPoint = [x, y];\n    //   this.addData_Line(newDataPoint);\n    // },\n    // 拟合二次曲线最小点\n    // fitQuadraticCurve_minPoint(x, y) {\n    //   console.log(\"QHYCCD | minPoint:\", x, ',', y);\n    //   this.$bus.$emit('SendConsoleLogMsg', 'minPoint:' + x + ',' + y, 'info');\n    //   this.chartData3 = [];\n    //   const newDataPoint = [x, y];\n    //   this.chartData3.push(newDataPoint);\n    // },\n    setFocusChartRange(lowerBound, upperBound) {\n      if (typeof lowerBound === 'string') {\n        lowerBound = parseInt(lowerBound);\n      }\n      if (typeof upperBound === 'string') {\n        upperBound = parseInt(upperBound);\n      }\n      if (isNaN(lowerBound) || isNaN(upperBound)) {\n        return;\n      }\n      if (lowerBound === upperBound) {\n        return;\n      }\n      if (lowerBound < upperBound) {\n        this.x_min = lowerBound;\n        this.x_max = upperBound;\n      } else {\n        this.x_min = upperBound;\n        this.x_max = lowerBound;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.linechart-panel {\n  background-color: rgba(0, 0, 0, 0.0);\n  /* backdrop-filter: blur(5px); */\n  border-radius: 5px;\n  box-sizing: border-box;\n}\n</style>\n"],"sourceRoot":"src/components"}]}