{"remainingRequest":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/components/AutomaticPolarAlignmentCalibration.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/src/components/AutomaticPolarAlignmentCalibration.vue","mtime":1760678746836},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/thread-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/babel-loader/lib/index.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1707125360000},{"path":"/home/quarcs/workspace/QUARCS/QUARCS_stellarium-web-engine/apps/web-frontend/node_modules/vue-loader/lib/index.js","mtime":1707125450000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL3F1YXJjcy93b3Jrc3BhY2UvUVVBUkNTL1FVQVJDU19zdGVsbGFyaXVtLXdlYi1lbmdpbmUvYXBwcy93ZWItZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvaG9tZS9xdWFyY3Mvd29ya3NwYWNlL1FVQVJDUy9RVUFSQ1Nfc3RlbGxhcml1bS13ZWItZW5naW5lL2FwcHMvd2ViLWZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuaXMtZmluaXRlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucGFkLXN0YXJ0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8g5bi46YeP5a6a5LmJCnZhciBDT0xPUlMgPSB7CiAgUFJJTUFSWTogJyM2NGI1ZjYnLAogIFNVQ0NFU1M6ICcjNGNhZjUwJywKICBXQVJOSU5HOiAnI2ZmOTgwMCcsCiAgRVJST1I6ICcjZjQ0MzM2JywKICBJTkZPOiAnIzIxOTZmMycsCiAgV0hJVEU6ICcjZmZmZmZmJywKICBCQUNLR1JPVU5EOiAncmdiYSgzNSwgMzUsIDQ1LCAwLjk1KScsCiAgU1VSRkFDRTogJ3JnYmEoNjAsIDYwLCA3MCwgMC45KScKfTsKdmFyIENBTElCUkFUSU9OX1BIQVNFUyA9IHsKICBJTklUSUFMOiAnaW5pdGlhbCcsCiAgQ09MTEVDVElORzogJ2NvbGxlY3RpbmcnLAogIEFESlVTVElORzogJ2FkanVzdGluZycsCiAgVkVSSUZZSU5HOiAndmVyaWZ5aW5nJwp9Owp2YXIgUFJPR1JFU1NfVEhSRVNIT0xEUyA9IHsKICBJTklUSUFMSVpBVElPTjogMTUsCiAgRklSU1RfQ0FMSUJSQVRJT046IDI1LAogIFNFQ09ORF9DQUxJQlJBVElPTjogNTAsCiAgVEhJUkRfQ0FMSUJSQVRJT046IDc1LAogIENBTElCUkFUSU9OX0xPT1A6IDk1LAogIENPTVBMRVRJT046IDEwMAp9Owp2YXIgRElNRU5TSU9OUyA9IHsKICBNSU5JTUlaRUQ6IHsKICAgIHdpZHRoOiAyNTAsCiAgICBoZWlnaHQ6IDgwCiAgfSwKICBDT0xMQVBTRUQ6IHsKICAgIHdpZHRoOiAzMDAsCiAgICBoZWlnaHQ6IDEyMAogIH0sCiAgRVhQQU5ERUQ6IHsKICAgIHdpZHRoOiAzNTAsCiAgICBoZWlnaHQ6IDQwMAogIH0KfTsKdmFyIExPR19MSU1JVCA9IDEwMDsKdmFyIERJU1BMQVlfTE9HX0xJTUlUID0gMTA7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXV0b21hdGljUG9sYXJBbGlnbm1lbnRDYWxpYnJhdGlvbicsCiAgcHJvcHM6IHsKICAgIHZpc2libGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBhdXRvU3RhcnQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICAvLyDmlrDlop7vvJrkvKDlhaXosIPmlbTmlbDmja7nmoTljZXkvY3vvIgnZGVnJyB8ICdhcmNtaW4nIHwgJ2FyY3NlYyfvvIkKICAgIGFkanVzdG1lbnRVbml0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2FyY21pbicKICAgIH0sCiAgICAvLyDmlrDlop7vvJrnlKjmiLfnq5nkvY3op4bop5LvvIgnbm9ydGgnIHwgJ3NvdXRoJ++8ie+8jOeUqOS6juW3puWPs+aYoOWwhAogICAgZmFjaW5nUG9sZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdub3J0aCcKICAgIH0sCiAgICAvLyDmlrDlop7vvJrliqjkvZzmrbvljLrvvIjku6Xop5LliIblrprkuYnvvIxVSeWIpOWumuaYr+WQpumcgOimgeWKqOS9nO+8iQogICAgZGVhZGJhbmRBcmNtaW46IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwLjUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDov57mjqXnirbmgIEKICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLAogICAgICAvLyDkvY3nva7kv6Hmga8KICAgICAgY3VycmVudFBvc2l0aW9uOiB7CiAgICAgICAgcmE6ICcwMGggMDBtIDAwcycsCiAgICAgICAgZGVjOiAnKzAwwrAgMDBcJyAwMCInCiAgICAgIH0sCiAgICAgIHRhcmdldFBvc2l0aW9uOiB7CiAgICAgICAgcmE6ICcwMGggMDBtIDAwcycsCiAgICAgICAgZGVjOiAnKzAwwrAgMDBcJyAwMCInCiAgICAgIH0sCiAgICAgIHByZXZpb3VzUG9zaXRpb246IHsKICAgICAgICByYTogJzAwaCAwMG0gMDBzJywKICAgICAgICBkZWM6ICcrMDDCsCAwMFwnIDAwIicKICAgICAgfSwKICAgICAgLy8g5qCh5YeG5pWw5o2uCiAgICAgIGlzQ2FsaWJyYXRpb25Db21wbGV0ZTogZmFsc2UsCiAgICAgIGlzUG9sYXJBbGlnbmVkOiBmYWxzZSwKICAgICAgLy8g6LCD5pW05L+h5oGvCiAgICAgIGFkanVzdG1lbnQ6IHsKICAgICAgICBhemltdXRoOiAwLjAsCiAgICAgICAgYWx0aXR1ZGU6IDAuMAogICAgICB9LAogICAgICAvLyDml6Xlv5fns7vnu58gLSDkvb/nlKjlvqrnjq/mlbDnu4TkvJjljJblhoXlrZgKICAgICAgbG9nczogW10sCiAgICAgIGxvZ0luZGV4OiAwLAogICAgICBsb2dDYXBhY2l0eTogTE9HX0xJTUlULAogICAgICAvLyDmoKHlh4bov5DooYznirbmgIEKICAgICAgaXNDYWxpYnJhdGlvblJ1bm5pbmc6IGZhbHNlLAogICAgICAvLyDop4blnLrmlbDmja4KICAgICAgZmllbGREYXRhOiBudWxsLAogICAgICAvLyDlvZPliY3ov5vluqYKICAgICAgY3VycmVudFByb2dyZXNzOiAwLAogICAgICAvLyA9PT0g5paw5aKe77ya55WM6Z2i5o6n5Yi254q25oCBID09PQogICAgICAvLyDmi5bliqjnirbmgIEKICAgICAgaXNEcmFnZ2luZzogZmFsc2UsCiAgICAgIGRyYWdPZmZzZXQ6IHsKICAgICAgICB4OiAwLAogICAgICAgIHk6IDAKICAgICAgfSwKICAgICAgLy8g5o6n5Lu25L2N572uCiAgICAgIHBvc2l0aW9uOiB7CiAgICAgICAgeDogNTAsCiAgICAgICAgeTogNTAKICAgICAgfSwKICAgICAgLy8g55WM6Z2i54q25oCBCiAgICAgIGlzTWluaW1pemVkOiBmYWxzZSwKICAgICAgaXNDb2xsYXBzZWQ6IGZhbHNlLAogICAgICAvLyA9PT0g5paw5aKe77ya5oCn6IO95LyY5YyWID09PQogICAgICAvLyDnvJPlrZjlsLrlr7jorqHnrpfnu5PmnpwKICAgICAgY2FjaGVkRGltZW5zaW9uczogewogICAgICAgIHdpZHRoOiAzNTAsCiAgICAgICAgaGVpZ2h0OiA0MDAKICAgICAgfSwKICAgICAgLy8g5ouW5Yqo54q25oCB5qCH6K6wCiAgICAgIGlzRHJhZ2dpbmdTdGF0ZTogZmFsc2UsCiAgICAgIC8vIOWGheWtmOa4heeQhuWumuaXtuWZqAogICAgICBtZW1vcnlDbGVhbnVwVGltZXI6IG51bGwsCiAgICAgIC8vIOiuoeeul+e8k+WtmAogICAgICBjYWNoZWRBemltdXRoQXJjbWluOiBudWxsLAogICAgICBjYWNoZWRBbHRpdHVkZUFyY21pbjogbnVsbCwKICAgICAgbGFzdEF6aW11dGhWYWx1ZTogbnVsbCwKICAgICAgbGFzdEFsdGl0dWRlVmFsdWU6IG51bGwsCiAgICAgIC8vIOaLluWKqOaAp+iDveS8mOWMlgogICAgICBsYXN0RHJhZ1RpbWU6IDAsCiAgICAgIC8vIOaegei9tOWBj+enu+mHjwogICAgICBwb2xhckF4aXNPZmZzZXQ6IHsKICAgICAgICBhemltdXRoOiAwLAogICAgICAgIGFsdGl0dWRlOiAwCiAgICAgIH0sCiAgICAgIC8vIOagoeWHhuW+queOr+iuoeaVsAogICAgICBjYWxpYnJhdGlvbkxvb3BDb3VudDogMCwKICAgICAgbGFzdENhbGlicmF0aW9uUHJvZ3Jlc3M6IDAsCiAgICAgIC8vIOagoeWHhumYtuauteeKtuaAgQogICAgICBjYWxpYnJhdGlvblBoYXNlOiAnaW5pdGlhbCcsCiAgICAgIC8vICdpbml0aWFsJywgJ2NvbGxlY3RpbmcnLCAnYWRqdXN0aW5nJywgJ3ZlcmlmeWluZycKICAgICAgY2FsaWJyYXRpb25Qb2ludHM6IFtdLAogICAgICAvLyDlrZjlgqjkuInkuKrmoKHlh4bngrnnmoTlnZDmoIcKICAgICAgbWF4Q2FsaWJyYXRpb25Qb2ludHM6IDMsCiAgICAgIC8vIOacgOWkp+agoeWHhueCueaVsOmHjwogICAgICB0YXJnZXRQb2ludDogbnVsbCwKICAgICAgLy8g5a2Y5YKo55uu5qCH54K55Z2Q5qCHCiAgICAgIC8vIOenu+mZpOWBh+aegei9tOebuOWFs+aVsOaNrgogICAgICAvLyBmYWtlUG9sYXJBeGlzOiB7CiAgICAgIC8vICAgcmE6IG51bGwsCiAgICAgIC8vICAgZGVjOiBudWxsLAogICAgICAvLyAgIGNhbGN1bGF0ZWQ6IGZhbHNlCiAgICAgIC8vIH0sCiAgICAgIC8vID09PSDovajov7nnlLvluIPnirbmgIEgPT09CiAgICAgIHNob3dUcmFqZWN0b3J5T3ZlcmxheTogZmFsc2UsCiAgICAgIG92ZXJsYXlNb2RlOiAnZnVsbHNjcmVlbicsCiAgICAgIC8vICdmdWxsc2NyZWVuJyB8ICd3aW5kb3dlZCcKICAgICAgdHJhamVjdG9yeVNjYWxlOiAxLAogICAgICAvLyDlt7LlvIPnlKjvvIjkuI3lho3kvb/nlKjmiYvliqjnvKnmlL7vvIkKICAgICAgYXV0b0ZpdFB4UGVyRGVnOiA0MCwKICAgICAgLy8g6Ieq5Yqo6YCC6YWN6K6h566X5Ye655qEIHB4L2RlZ++8iOWfuuS6juW9k+WJjeeUu+W4g+WwuuWvuOS4juaVsOaNruiMg+WbtO+8iQogICAgICB0cmFqZWN0b3J5UG9pbnRzOiBbXSwKICAgICAgLy8gW3t4LCB5fV0gaW4gb3ZlcmxheSBjYW52YXMgc3BhY2UgYWZ0ZXIgdHJhbnNmb3JtCiAgICAgIHJhd1RyYWplY3RvcnlQb2ludHM6IFtdLAogICAgICAvLyDkv53lrZjljp/lp4vnmoQge3JhLCBkZWN9IOW6j+WIlwogICAgICBsYXN0UmF3UG9zaXRpb246IG51bGwsCiAgICAgIC8vIHtyYSwgZGVjfSBudW1lcmljCiAgICAgIHRhcmdldFJhd1Bvc2l0aW9uOiBudWxsLAogICAgICAvLyB7cmEsIGRlY30gbnVtZXJpYywgZml4ZWQgYXMgb3ZlcmxheSBjZW50ZXIgcmVmZXJlbmNlCiAgICAgIHdpbmRvd2VkUmVjdDogewogICAgICAgIHg6IDQwLAogICAgICAgIHk6IDgwLAogICAgICAgIHdpZHRoOiA0MjAsCiAgICAgICAgaGVpZ2h0OiAzMDAKICAgICAgfSwKICAgICAgLy8g6YC76L6R55S75biD5bC65a+477ya55So5LqO56qX5Y+j5qih5byP5bCG4oCc5YWo5bGP55S75biD4oCd5oyJ5q+U5L6L57yp5pS+6L+b56qX5Y+jCiAgICAgIGJhc2VDYW52YXNMb2dpY2FsU2l6ZTogewogICAgICAgIHdpZHRoOiAxMjgwLAogICAgICAgIGhlaWdodDogNzIwCiAgICAgIH0sCiAgICAgIHdpbmRvd0RyYWc6IHsKICAgICAgICBhY3RpdmU6IGZhbHNlLAogICAgICAgIG9mZnNldFg6IDAsCiAgICAgICAgb2Zmc2V0WTogMAogICAgICB9LAogICAgICAvLyA9PT0g6KeG5Zu+5Y+Y5o2i77yI5LuF57yp5bCP5q+U5L6L77yb5Lul55uu5qCH5LiO6aaW54K55aGr5ruh55S75biD77yJID09PQogICAgICBjdXJyZW50UHhQZXJEZWc6IG51bGwsCiAgICAgIC8vIOW9k+WJjeWDj+e0oC/luqbvvIzlj6rkvJrnvKnlsI8KICAgICAgdmlld01pbldvcmxkWDogbnVsbCwKICAgICAgLy8g5LiW55WM5Z2Q5qCH77yaWCDkuLogZFJBKHVud3JhcHBlZCnvvIxZIOS4uiBkRGVjCiAgICAgIHZpZXdNYXhXb3JsZFg6IG51bGwsCiAgICAgIHZpZXdNaW5Xb3JsZFk6IG51bGwsCiAgICAgIHZpZXdNYXhXb3JsZFk6IG51bGwsCiAgICAgIHJhVW53cmFwQW5jaG9yOiBudWxsLAogICAgICAvLyBkUkEg5bGV5byA6ZSa54K577yI6aaW54K555u45a+555uu5qCH77yJCiAgICAgIHZpZXdQYWRSYXRpb1g6IDAuMTIsCiAgICAgIHZpZXdQYWRSYXRpb1k6IDAuMTAsCiAgICAgIHZpZXdPZmZzZXRYUHg6IDAsCiAgICAgIHZpZXdPZmZzZXRZUHg6IDAKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLy8g5pi+56S655qE5pel5b+XIC0g5L2/55So57yT5a2Y5LyY5YyWCiAgICBkaXNwbGF5TG9nczogZnVuY3Rpb24gZGlzcGxheUxvZ3MoKSB7CiAgICAgIC8vIOi/lOWbnuacgOi/keeahDEw5p2h5pel5b+X77yM5oyJ5pe26Ze05YCS5bqP77yI55So5LqO5pi+56S65pyA5paw5LiA5p2h77yJCiAgICAgIHZhciBsb2dzID0gdGhpcy5sb2dzOwoKICAgICAgaWYgKGxvZ3MubGVuZ3RoIDw9IERJU1BMQVlfTE9HX0xJTUlUKSB7CiAgICAgICAgcmV0dXJuIGxvZ3Muc2xpY2UoKS5yZXZlcnNlKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBsb2dzLnNsaWNlKC1ESVNQTEFZX0xPR19MSU1JVCkucmV2ZXJzZSgpOwogICAgfSwKICAgIC8vIOagoeWHhui/m+W6pueZvuWIhuavlAogICAgcHJvZ3Jlc3NQZXJjZW50YWdlOiBmdW5jdGlvbiBwcm9ncmVzc1BlcmNlbnRhZ2UoKSB7CiAgICAgIC8vIOS9v+eUqOS7juWQjuerr+S8oOWFpeeahOi/m+W6pgogICAgICByZXR1cm4gdGhpcy5jdXJyZW50UHJvZ3Jlc3M7CiAgICB9LAogICAgLy8g5piv5ZCm5Y+v5Lul6Ieq5Yqo5qCh5YeGCiAgICBjYW5BdXRvQ2FsaWJyYXRlOiBmdW5jdGlvbiBjYW5BdXRvQ2FsaWJyYXRlKCkgewogICAgICByZXR1cm4gdGhpcy5pc0Nvbm5lY3RlZDsKICAgIH0sCiAgICAvLyDmmK/lkKbpnIDopoHmlrnkvY3op5LosIPmlbQgLSDkvb/nlKjnvJPlrZjpgb/lhY3ph43lpI3orqHnrpcKICAgIG5lZWRzQXppbXV0aEFkanVzdG1lbnQ6IGZ1bmN0aW9uIG5lZWRzQXppbXV0aEFkanVzdG1lbnQoKSB7CiAgICAgIHZhciBfdGhpcyRhZGp1c3RtZW50OwoKICAgICAgdmFyIHYgPSAoX3RoaXMkYWRqdXN0bWVudCA9IHRoaXMuYWRqdXN0bWVudCkgPT09IG51bGwgfHwgX3RoaXMkYWRqdXN0bWVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkYWRqdXN0bWVudC5hemltdXRoOwogICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2KSkgcmV0dXJuIGZhbHNlOyAvLyDkvb/nlKjnvJPlrZjnmoTlgLzvvIzpgb/lhY3ph43lpI3orqHnrpcKCiAgICAgIHJldHVybiB0aGlzLmNhY2hlZEF6aW11dGhBcmNtaW4gIT09IG51bGwgPyBNYXRoLmFicyh0aGlzLmNhY2hlZEF6aW11dGhBcmNtaW4pID4gdGhpcy5kZWFkYmFuZEFyY21pbiA6IE1hdGguYWJzKHRoaXMudW5pdFRvQXJjbWluKHYsIHRoaXMuYWRqdXN0bWVudFVuaXQpKSA+IHRoaXMuZGVhZGJhbmRBcmNtaW47CiAgICB9LAogICAgLy8g5piv5ZCm6ZyA6KaB6auY5bqm6KeS6LCD5pW0IC0g5L2/55So57yT5a2Y6YG/5YWN6YeN5aSN6K6h566XCiAgICBuZWVkc0FsdGl0dWRlQWRqdXN0bWVudDogZnVuY3Rpb24gbmVlZHNBbHRpdHVkZUFkanVzdG1lbnQoKSB7CiAgICAgIHZhciBfdGhpcyRhZGp1c3RtZW50MjsKCiAgICAgIHZhciB2ID0gKF90aGlzJGFkanVzdG1lbnQyID0gdGhpcy5hZGp1c3RtZW50KSA9PT0gbnVsbCB8fCBfdGhpcyRhZGp1c3RtZW50MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkYWRqdXN0bWVudDIuYWx0aXR1ZGU7CiAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHYpKSByZXR1cm4gZmFsc2U7IC8vIOS9v+eUqOe8k+WtmOeahOWAvO+8jOmBv+WFjemHjeWkjeiuoeeulwoKICAgICAgcmV0dXJuIHRoaXMuY2FjaGVkQWx0aXR1ZGVBcmNtaW4gIT09IG51bGwgPyBNYXRoLmFicyh0aGlzLmNhY2hlZEFsdGl0dWRlQXJjbWluKSA+IHRoaXMuZGVhZGJhbmRBcmNtaW4gOiBNYXRoLmFicyh0aGlzLnVuaXRUb0FyY21pbih2LCB0aGlzLmFkanVzdG1lbnRVbml0KSkgPiB0aGlzLmRlYWRiYW5kQXJjbWluOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHZpc2libGU6IGZ1bmN0aW9uIHZpc2libGUobmV3VmFsKSB7CiAgICAgIGlmIChuZXdWYWwgJiYgdGhpcy5hdXRvU3RhcnQpIHsKICAgICAgICB0aGlzLnN0YXJ0QXV0b0NhbGlicmF0aW9uKCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDnm5HlkKzlvZPliY3lnZDmoIflj5jljJbvvIzoh6rliqjmm7TmlrDmnJ3lkJHmnoHngrkKICAgICckc3RvcmUuc3RhdGUuY3VycmVudExvY2F0aW9uLmxhdCc6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXdMYXQsIG9sZExhdCkgewogICAgICAgIGlmIChuZXdMYXQgIT09IG9sZExhdCAmJiBuZXdMYXQgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdmFyIGZhY2luZ1BvbGUgPSB0aGlzLmNhbGN1bGF0ZUZhY2luZ1BvbGUoKTsKICAgICAgICAgIHRoaXMuYWRkTG9nKHRoaXMuJHQoJ0xvY2F0aW9uIENoYW5nZWQnLCBbZmFjaW5nUG9sZSwgbmV3TGF0XSksICdpbmZvJyk7IC8vIOWmguaenOato+WcqOiwg+aVtOmYtuaute+8jOmHjeaWsOiuoeeul+iwg+aVtOW7uuiurgoKICAgICAgICAgIGlmICh0aGlzLmNhbGlicmF0aW9uUGhhc2UgPT09ICdhZGp1c3RpbmcnKSB7CiAgICAgICAgICAgIHRoaXMuYWRkTG9nKHRoaXMuJHQoJ1JlY2FsY3VsYXRpbmcgQWRqdXN0bWVudCBEaXJlY3Rpb25zJyksICdpbmZvJyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBpbW1lZGlhdGU6IGZhbHNlCiAgICB9LAogICAgLy8g55uR5ZCs6LCD5pW05YC85Y+Y5YyW77yM5pu05paw57yT5a2YIC0g5L2/55So6Ziy5oqW6YG/5YWN6aKR57mB5pu05pawCiAgICAnYWRqdXN0bWVudC5hemltdXRoJzogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUobmV3VmFsKSkgewogICAgICAgICAgLy8g5riF6Zmk5LmL5YmN55qE5a6a5pe25ZmoCiAgICAgICAgICBpZiAodGhpcy5fYXppbXV0aFVwZGF0ZVRpbWVyKSB7CiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9hemltdXRoVXBkYXRlVGltZXIpOwogICAgICAgICAgfSAvLyDkvb/nlKjpmLLmipbvvIzlu7bov58xMDBtc+abtOaWsAoKCiAgICAgICAgICB0aGlzLl9hemltdXRoVXBkYXRlVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMuY2FjaGVkQXppbXV0aEFyY21pbiA9IF90aGlzLnVuaXRUb0FyY21pbihuZXdWYWwsIF90aGlzLmFkanVzdG1lbnRVbml0KTsKICAgICAgICAgICAgX3RoaXMubGFzdEF6aW11dGhWYWx1ZSA9IG5ld1ZhbDsKICAgICAgICAgIH0sIDEwMCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0sCiAgICAnYWRqdXN0bWVudC5hbHRpdHVkZSc6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXdWYWwpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShuZXdWYWwpKSB7CiAgICAgICAgICAvLyDmuIXpmaTkuYvliY3nmoTlrprml7blmagKICAgICAgICAgIGlmICh0aGlzLl9hbHRpdHVkZVVwZGF0ZVRpbWVyKSB7CiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9hbHRpdHVkZVVwZGF0ZVRpbWVyKTsKICAgICAgICAgIH0gLy8g5L2/55So6Ziy5oqW77yM5bu26L+fMTAwbXPmm7TmlrAKCgogICAgICAgICAgdGhpcy5fYWx0aXR1ZGVVcGRhdGVUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczIuY2FjaGVkQWx0aXR1ZGVBcmNtaW4gPSBfdGhpczIudW5pdFRvQXJjbWluKG5ld1ZhbCwgX3RoaXMyLmFkanVzdG1lbnRVbml0KTsKICAgICAgICAgICAgX3RoaXMyLmxhc3RBbHRpdHVkZVZhbHVlID0gbmV3VmFsOwogICAgICAgICAgfSwgMTAwKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIC8vIOWunueOsOe7hOS7tuWIneWni+WMlumAu+i+kQogICAgdGhpcy5pbml0aWFsaXplKCk7IC8vIOWIneWni+WMlue8k+WtmOeahOWwuuWvuOS/oeaBrwoKICAgIHRoaXMudXBkYXRlQ2FjaGVkRGltZW5zaW9ucygpOyAvLyDnm5HlkKzkv6Hlj7fmgLvnur/kuovku7YKCiAgICB0aGlzLiRidXMuJG9uKCdzaG93UG9sYXJBbGlnbm1lbnQnLCB0aGlzLnNob3dJbnRlcmZhY2UpOwogICAgdGhpcy4kYnVzLiRvbignaGlkZVBvbGFyQWxpZ25tZW50JywgdGhpcy5oaWRlSW50ZXJmYWNlKTsgLy8g55uR5ZCs6LWk6YGT5Luq6L+e5o6l54q25oCBCgogICAgdGhpcy4kYnVzLiRvbignTW91bnRDb25uZWN0ZWQnLCB0aGlzLnVwZGF0ZU1vdW50Q29ubmVjdGlvbik7IC8vIOaOpeaUtueKtuaAgeabtOaWsAoKICAgIHRoaXMuJGJ1cy4kb24oJ1BvbGFyQWxpZ25tZW50U3RhdGUnLCB0aGlzLnVwZGF0ZVBvbGFyQWxpZ25tZW50U3RhdGUpOyAvLyDnm5HlkKzop4blnLrmlbDmja7mm7TmlrAKCiAgICB0aGlzLiRidXMuJG9uKCdGaWVsZERhdGFVcGRhdGUnLCB0aGlzLnVwZGF0ZUZpZWxkRGF0YSk7IC8vIOebkeWQrOWNoeeJh+S/oeaBr+abtOaWsAoKICAgIHRoaXMuJGJ1cy4kb24oJ3VwZGF0ZUNhcmRJbmZvJywgdGhpcy51cGRhdGVDYXJkSW5mbyk7IC8vIOebkeWQrOiHquWKqOagoeWHhueKtuaAgQoKICAgIHRoaXMuJGJ1cy4kb24oJ1BvbGFyQWxpZ25tZW50SXNSdW5uaW5nJywgdGhpcy51cGRhdGVQb2xhckFsaWdubWVudElzUnVubmluZyk7IC8vIOWQr+WKqOWumuacn+WGheWtmOa4heeQhu+8iOavjzXliIbpkp/muIXnkIbkuIDmrKHvvIkKCiAgICB0aGlzLnN0YXJ0TWVtb3J5Q2xlYW51cCgpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIC8vIOenu+mZpOS/oeWPt+aAu+e6v+ebkeWQrAogICAgdGhpcy4kYnVzLiRvZmYoJ3Nob3dQb2xhckFsaWdubWVudCcsIHRoaXMuc2hvd0ludGVyZmFjZSk7CiAgICB0aGlzLiRidXMuJG9mZignaGlkZVBvbGFyQWxpZ25tZW50JywgdGhpcy5oaWRlSW50ZXJmYWNlKTsKICAgIHRoaXMuJGJ1cy4kb2ZmKCdNb3VudENvbm5lY3RlZCcsIHRoaXMudXBkYXRlTW91bnRDb25uZWN0aW9uKTsKICAgIHRoaXMuJGJ1cy4kb2ZmKCdQb2xhckFsaWdubWVudFN0YXRlJywgdGhpcy51cGRhdGVQb2xhckFsaWdubWVudFN0YXRlKTsKICAgIHRoaXMuJGJ1cy4kb2ZmKCdGaWVsZERhdGFVcGRhdGUnLCB0aGlzLnVwZGF0ZUZpZWxkRGF0YSk7CiAgICB0aGlzLiRidXMuJG9mZigndXBkYXRlQ2FyZEluZm8nLCB0aGlzLnVwZGF0ZUNhcmRJbmZvKTsKICAgIHRoaXMuJGJ1cy4kb2ZmKCdQb2xhckFsaWdubWVudElzUnVubmluZycsIHRoaXMudXBkYXRlUG9sYXJBbGlnbm1lbnRJc1J1bm5pbmcpOyAvLyDmuIXnkIbmi5bliqjkuovku7bnm5HlkKwKCiAgICB0aGlzLmNsZWFudXBEcmFnTGlzdGVuZXJzKCk7IC8vIOa4heeQhue8k+WtmOaVsOaNrgoKICAgIHRoaXMuY2xlYXJDYWNoZWREYXRhKCk7IC8vIOWBnOatouWGheWtmOa4heeQhuWumuaXtuWZqAoKICAgIHRoaXMuc3RvcE1lbW9yeUNsZWFudXAoKTsgLy8g5riF55CG6Ziy5oqW5a6a5pe25ZmoCgogICAgdGhpcy5jbGVhckRlYm91bmNlVGltZXJzKCk7IC8vIOWunueOsOe7hOS7tumUgOavgemAu+i+kQoKICAgIHRoaXMuY2xlYW51cCgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8g5L+h5Y+35oC757q/5LqL5Lu25aSE55CGCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICBzaG93SW50ZXJmYWNlOiBmdW5jdGlvbiBzaG93SW50ZXJmYWNlKCkgewogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6dmlzaWJsZScsIHRydWUpOwogICAgfSwKICAgIGhpZGVJbnRlcmZhY2U6IGZ1bmN0aW9uIGhpZGVJbnRlcmZhY2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTp2aXNpYmxlJywgZmFsc2UpOwogICAgfSwKICAgIHVwZGF0ZU1vdW50Q29ubmVjdGlvbjogZnVuY3Rpb24gdXBkYXRlTW91bnRDb25uZWN0aW9uKHN0YXR1cykgewogICAgICB0aGlzLmlzQ29ubmVjdGVkID0gc3RhdHVzID09PSAxOwogICAgICB2YXIgc3RhdHVzVGV4dCA9IHRoaXMuaXNDb25uZWN0ZWQgPyB0aGlzLiR0KCdDb25uZWN0ZWQnKSA6IHRoaXMuJHQoJ0Rpc2Nvbm5lY3RlZCcpOwogICAgICB0aGlzLmFkZExvZyh0aGlzLiR0KCdNb3VudCBDb25uZWN0aW9uIFN0YXR1cycsIFtzdGF0dXNUZXh0XSksIHRoaXMuaXNDb25uZWN0ZWQgPyAnc3VjY2VzcycgOiAnd2FybmluZycpOwogICAgfSwKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIOWIneWni+WMluWSjOa4heeQhgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHsKICAgICAgdmFyIF90aGlzJCRzdG9yZSwgX3RoaXMkJHN0b3JlJHN0YXRlLCBfdGhpcyQkc3RvcmUkc3RhdGUkY3U7CgogICAgICB0aGlzLmFkZExvZyh0aGlzLiR0KCdQb2xhciBBbGlnbm1lbnQgQ29tcG9uZW50IEluaXRpYWxpemVkJyksICdpbmZvJyk7IC8vIOiusOW9leW9k+WJjeacneWQkeaegeeCuQoKICAgICAgdmFyIGZhY2luZ1BvbGUgPSB0aGlzLmNhbGN1bGF0ZUZhY2luZ1BvbGUoKTsKICAgICAgdmFyIGxhdCA9ICgoX3RoaXMkJHN0b3JlID0gdGhpcy4kc3RvcmUpID09PSBudWxsIHx8IF90aGlzJCRzdG9yZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzJCRzdG9yZSRzdGF0ZSA9IF90aGlzJCRzdG9yZS5zdGF0ZSkgPT09IG51bGwgfHwgX3RoaXMkJHN0b3JlJHN0YXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RoaXMkJHN0b3JlJHN0YXRlJGN1ID0gX3RoaXMkJHN0b3JlJHN0YXRlLmN1cnJlbnRMb2NhdGlvbikgPT09IG51bGwgfHwgX3RoaXMkJHN0b3JlJHN0YXRlJGN1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyQkc3RvcmUkc3RhdGUkY3UubGF0KSB8fCAndW5rbm93bic7CiAgICAgIHRoaXMuYWRkTG9nKHRoaXMuJHQoJ0ZhY2luZyBQb2xlJywgW2ZhY2luZ1BvbGUsIGxhdF0pLCAnaW5mbycpOwogICAgfSwKICAgIGNsZWFudXA6IGZ1bmN0aW9uIGNsZWFudXAoKSB7CiAgICAgIHRoaXMuYWRkTG9nKHRoaXMuJHQoJ1BvbGFyIEFsaWdubWVudCBDb21wb25lbnQgQ2xlYW5lZCcpLCAnaW5mbycpOwogICAgfSwKICAgIC8vIOWGheWtmOS9v+eUqOebkeaOp++8iOS7heWcqOW8gOWPkeeOr+Wig++8iQogICAgZ2V0TWVtb3J5VXNhZ2U6IGZ1bmN0aW9uIGdldE1lbW9yeVVzYWdlKCkgewogICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgJiYgcGVyZm9ybWFuY2UubWVtb3J5KSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHVzZWRKU0hlYXBTaXplOiBNYXRoLnJvdW5kKHBlcmZvcm1hbmNlLm1lbW9yeS51c2VkSlNIZWFwU2l6ZSAvIDEwMjQgLyAxMDI0KSArICdNQicsCiAgICAgICAgICB0b3RhbEpTSGVhcFNpemU6IE1hdGgucm91bmQocGVyZm9ybWFuY2UubWVtb3J5LnRvdGFsSlNIZWFwU2l6ZSAvIDEwMjQgLyAxMDI0KSArICdNQicsCiAgICAgICAgICBqc0hlYXBTaXplTGltaXQ6IE1hdGgucm91bmQocGVyZm9ybWFuY2UubWVtb3J5LmpzSGVhcFNpemVMaW1pdCAvIDEwMjQgLyAxMDI0KSArICdNQicsCiAgICAgICAgICBsb2dzQ291bnQ6IHRoaXMubG9ncy5sZW5ndGgsCiAgICAgICAgICBjYWxpYnJhdGlvblBvaW50c0NvdW50OiB0aGlzLmNhbGlicmF0aW9uUG9pbnRzLmxlbmd0aAogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfSwKICAgIC8vIOWQr+WKqOWumuacn+WGheWtmOa4heeQhgogICAgc3RhcnRNZW1vcnlDbGVhbnVwOiBmdW5jdGlvbiBzdGFydE1lbW9yeUNsZWFudXAoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5tZW1vcnlDbGVhbnVwVGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLnBlcmZvcm1NZW1vcnlDbGVhbnVwKCk7CiAgICAgIH0sIDUgKiA2MCAqIDEwMDApOyAvLyDmr4815YiG6ZKf5riF55CG5LiA5qyhCiAgICB9LAogICAgLy8g5YGc5q2i5YaF5a2Y5riF55CG5a6a5pe25ZmoCiAgICBzdG9wTWVtb3J5Q2xlYW51cDogZnVuY3Rpb24gc3RvcE1lbW9yeUNsZWFudXAoKSB7CiAgICAgIGlmICh0aGlzLm1lbW9yeUNsZWFudXBUaW1lcikgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5tZW1vcnlDbGVhbnVwVGltZXIpOwogICAgICAgIHRoaXMubWVtb3J5Q2xlYW51cFRpbWVyID0gbnVsbDsKICAgICAgfQogICAgfSwKICAgIC8vIOaJp+ihjOWGheWtmOa4heeQhgogICAgcGVyZm9ybU1lbW9yeUNsZWFudXA6IGZ1bmN0aW9uIHBlcmZvcm1NZW1vcnlDbGVhbnVwKCkgewogICAgICAvLyDmuIXnkIbov4fmnJ/nmoTml6Xlv5fvvIjkv53nlZnmnIDov5E1MOadoe+8iQogICAgICBpZiAodGhpcy5sb2dzLmxlbmd0aCA+IDUwKSB7CiAgICAgICAgdGhpcy5sb2dzID0gdGhpcy5sb2dzLnNsaWNlKC01MCk7CiAgICAgICAgdGhpcy5sb2dJbmRleCA9IE1hdGgubWluKHRoaXMubG9nSW5kZXgsIDUwKTsKICAgICAgfSAvLyDmuIXnkIbov4fmnJ/nmoTmoKHlh4bngrnvvIjlpoLmnpzotoXov4fmnIDlpKfmlbDph4/vvIkKCgogICAgICBpZiAodGhpcy5jYWxpYnJhdGlvblBvaW50cy5sZW5ndGggPiB0aGlzLm1heENhbGlicmF0aW9uUG9pbnRzKSB7CiAgICAgICAgdGhpcy5jYWxpYnJhdGlvblBvaW50cyA9IHRoaXMuY2FsaWJyYXRpb25Qb2ludHMuc2xpY2UoLXRoaXMubWF4Q2FsaWJyYXRpb25Qb2ludHMpOwogICAgICB9IC8vIOW8uuWItuWeg+WcvuWbnuaUtu+8iOWmguaenOWPr+eUqO+8iQoKCiAgICAgIGlmICh3aW5kb3cuZ2MgJiYgdHlwZW9mIHdpbmRvdy5nYyA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHdpbmRvdy5nYygpOwogICAgICB9IC8vIOWcqOW8gOWPkeeOr+Wig+i+k+WHuuWGheWtmOS9v+eUqOaDheWGtQoKCiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JykgewogICAgICAgIHZhciBtZW1vcnlJbmZvID0gdGhpcy5nZXRNZW1vcnlVc2FnZSgpOwoKICAgICAgICBpZiAobWVtb3J5SW5mbykgewogICAgICAgICAgY29uc29sZS5sb2coJ01lbW9yeSBjbGVhbnVwIHBlcmZvcm1lZDonLCBtZW1vcnlJbmZvKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDmuIXnkIbmi5bliqjkuovku7bnm5HlkKzlmagKICAgIGNsZWFudXBEcmFnTGlzdGVuZXJzOiBmdW5jdGlvbiBjbGVhbnVwRHJhZ0xpc3RlbmVycygpIHsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbkRyYWcpOwogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5zdG9wRHJhZyk7CiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25EcmFnKTsKICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLnN0b3BEcmFnKTsKICAgIH0sCiAgICAvLyDmuIXnkIbpmLLmipblrprml7blmagKICAgIGNsZWFyRGVib3VuY2VUaW1lcnM6IGZ1bmN0aW9uIGNsZWFyRGVib3VuY2VUaW1lcnMoKSB7CiAgICAgIGlmICh0aGlzLl9hemltdXRoVXBkYXRlVGltZXIpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fYXppbXV0aFVwZGF0ZVRpbWVyKTsKICAgICAgICB0aGlzLl9hemltdXRoVXBkYXRlVGltZXIgPSBudWxsOwogICAgICB9CgogICAgICBpZiAodGhpcy5fYWx0aXR1ZGVVcGRhdGVUaW1lcikgewogICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9hbHRpdHVkZVVwZGF0ZVRpbWVyKTsKICAgICAgICB0aGlzLl9hbHRpdHVkZVVwZGF0ZVRpbWVyID0gbnVsbDsKICAgICAgfQogICAgfSwKICAgIC8vIOa4heeQhue8k+WtmOaVsOaNrgogICAgY2xlYXJDYWNoZWREYXRhOiBmdW5jdGlvbiBjbGVhckNhY2hlZERhdGEoKSB7CiAgICAgIC8vIOa4heeQhuiuoeeul+e8k+WtmAogICAgICB0aGlzLmNhY2hlZEF6aW11dGhBcmNtaW4gPSBudWxsOwogICAgICB0aGlzLmNhY2hlZEFsdGl0dWRlQXJjbWluID0gbnVsbDsKICAgICAgdGhpcy5sYXN0QXppbXV0aFZhbHVlID0gbnVsbDsKICAgICAgdGhpcy5sYXN0QWx0aXR1ZGVWYWx1ZSA9IG51bGw7CiAgICAgIHRoaXMubGFzdERyYWdUaW1lID0gMDsgLy8g5riF55CG5pel5b+X5pWw5o2uCgogICAgICB0aGlzLmxvZ3MgPSBbXTsKICAgICAgdGhpcy5sb2dJbmRleCA9IDA7IC8vIOa4heeQhuagoeWHhuaVsOaNrgoKICAgICAgdGhpcy5jYWxpYnJhdGlvblBvaW50cyA9IFtdOwogICAgICB0aGlzLnRhcmdldFBvaW50ID0gbnVsbDsKICAgICAgdGhpcy5maWVsZERhdGEgPSBudWxsOyAvLyDmuIXnkIbkvY3nva7mlbDmja4KCiAgICAgIHRoaXMuY3VycmVudFBvc2l0aW9uID0gewogICAgICAgIHJhOiAnMDBoIDAwbSAwMHMnLAogICAgICAgIGRlYzogJyswMMKwIDAwXCcgMDAiJwogICAgICB9OwogICAgICB0aGlzLnRhcmdldFBvc2l0aW9uID0gewogICAgICAgIHJhOiAnMDBoIDAwbSAwMHMnLAogICAgICAgIGRlYzogJyswMMKwIDAwXCcgMDAiJwogICAgICB9OwogICAgICB0aGlzLnByZXZpb3VzUG9zaXRpb24gPSB7CiAgICAgICAgcmE6ICcwMGggMDBtIDAwcycsCiAgICAgICAgZGVjOiAnKzAwwrAgMDBcJyAwMCInCiAgICAgIH07IC8vIOa4heeQhuiwg+aVtOaVsOaNrgoKICAgICAgdGhpcy5hZGp1c3RtZW50ID0gewogICAgICAgIGF6aW11dGg6IDAuMCwKICAgICAgICBhbHRpdHVkZTogMC4wCiAgICAgIH07CiAgICAgIHRoaXMucG9sYXJBeGlzT2Zmc2V0ID0gewogICAgICAgIGF6aW11dGg6IDAsCiAgICAgICAgYWx0aXR1ZGU6IDAKICAgICAgfTsgLy8g6YeN572u54q25oCBCgogICAgICB0aGlzLmlzQ2FsaWJyYXRpb25Db21wbGV0ZSA9IGZhbHNlOwogICAgICB0aGlzLmlzUG9sYXJBbGlnbmVkID0gZmFsc2U7CiAgICAgIHRoaXMuY2FsaWJyYXRpb25Mb29wQ291bnQgPSAwOwogICAgICB0aGlzLmxhc3RDYWxpYnJhdGlvblByb2dyZXNzID0gMDsKICAgICAgdGhpcy5jYWxpYnJhdGlvblBoYXNlID0gJ2luaXRpYWwnOwogICAgfSwKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIOaLluWKqOaOp+WItuaWueazlQogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgc3RhcnREcmFnOiBmdW5jdGlvbiBzdGFydERyYWcoZXZlbnQpIHsKICAgICAgdmFyIF9ldmVudCR0b3VjaGVzLCBfZXZlbnQkdG91Y2hlcyQsIF9ldmVudCR0b3VjaGVzMiwgX2V2ZW50JHRvdWNoZXMyJDsKCiAgICAgIGlmIChldmVudC50YXJnZXQuY2xvc2VzdCgnLmhlYWRlci1jb250cm9scywgLm1pbmltaXplZC1jb250cm9scywgLmhlYWRlci1idG4sIC5taW5pbWl6ZWQtYnRuJykpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7CiAgICAgIHRoaXMuaXNEcmFnZ2luZ1N0YXRlID0gdHJ1ZTsgLy8g5re75YqgZHJhZ2dpbmfnsbvvvIznp7vpmaTov4fmuKHliqjnlLsKCiAgICAgIHRoaXMuJGVsLmNsYXNzTGlzdC5hZGQoJ2RyYWdnaW5nJyk7CiAgICAgIHZhciByZWN0ID0gZXZlbnQuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgdmFyIGNsaWVudFggPSBldmVudC5jbGllbnRYIHx8ICgoX2V2ZW50JHRvdWNoZXMgPSBldmVudC50b3VjaGVzKSA9PT0gbnVsbCB8fCBfZXZlbnQkdG91Y2hlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9ldmVudCR0b3VjaGVzJCA9IF9ldmVudCR0b3VjaGVzWzBdKSA9PT0gbnVsbCB8fCBfZXZlbnQkdG91Y2hlcyQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ldmVudCR0b3VjaGVzJC5jbGllbnRYKSB8fCAwOwogICAgICB2YXIgY2xpZW50WSA9IGV2ZW50LmNsaWVudFkgfHwgKChfZXZlbnQkdG91Y2hlczIgPSBldmVudC50b3VjaGVzKSA9PT0gbnVsbCB8fCBfZXZlbnQkdG91Y2hlczIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZXZlbnQkdG91Y2hlczIkID0gX2V2ZW50JHRvdWNoZXMyWzBdKSA9PT0gbnVsbCB8fCBfZXZlbnQkdG91Y2hlczIkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXZlbnQkdG91Y2hlczIkLmNsaWVudFkpIHx8IDA7CiAgICAgIHRoaXMuZHJhZ09mZnNldCA9IHsKICAgICAgICB4OiBjbGllbnRYIC0gcmVjdC5sZWZ0LAogICAgICAgIHk6IGNsaWVudFkgLSByZWN0LnRvcAogICAgICB9OyAvLyDpooTorqHnrpflubbnvJPlrZjlsLrlr7jvvIzpgb/lhY3mi5bliqjml7bph43lpI3orqHnrpcKCiAgICAgIHRoaXMudXBkYXRlQ2FjaGVkRGltZW5zaW9ucygpOyAvLyDkvJjljJbop6bmkbjkuovku7blpITnkIYKCiAgICAgIGlmIChldmVudC50eXBlID09PSAndG91Y2hzdGFydCcpIHsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uRHJhZywgewogICAgICAgICAgcGFzc2l2ZTogZmFsc2UKICAgICAgICB9KTsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuc3RvcERyYWcsIHsKICAgICAgICAgIHBhc3NpdmU6IGZhbHNlCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbkRyYWcpOwogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLnN0b3BEcmFnKTsKICAgICAgfQogICAgfSwKICAgIG9uRHJhZzogZnVuY3Rpb24gb25EcmFnKGV2ZW50KSB7CiAgICAgIHZhciBfZXZlbnQkdG91Y2hlczMsIF9ldmVudCR0b3VjaGVzMyQsIF9ldmVudCR0b3VjaGVzNCwgX2V2ZW50JHRvdWNoZXM0JDsKCiAgICAgIGlmICghdGhpcy5pc0RyYWdnaW5nKSByZXR1cm47IC8vIOmYu+atoum7mOiupOihjOS4uu+8jOaPkOmrmOinpuaRuOWTjeW6lOaApwoKICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICd0b3VjaG1vdmUnKSB7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgfSAvLyDkvb/nlKjmm7Tpq5jmlYjnmoToioLmtYHmnLrliLYKCgogICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTsKICAgICAgaWYgKHRoaXMubGFzdERyYWdUaW1lICYmIG5vdyAtIHRoaXMubGFzdERyYWdUaW1lIDwgMTYpIHJldHVybjsgLy8gNjBmcHPpmZDliLYKCiAgICAgIHRoaXMubGFzdERyYWdUaW1lID0gbm93OwogICAgICB2YXIgY2xpZW50WCA9IGV2ZW50LmNsaWVudFggfHwgKChfZXZlbnQkdG91Y2hlczMgPSBldmVudC50b3VjaGVzKSA9PT0gbnVsbCB8fCBfZXZlbnQkdG91Y2hlczMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZXZlbnQkdG91Y2hlczMkID0gX2V2ZW50JHRvdWNoZXMzWzBdKSA9PT0gbnVsbCB8fCBfZXZlbnQkdG91Y2hlczMkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXZlbnQkdG91Y2hlczMkLmNsaWVudFgpIHx8IDA7CiAgICAgIHZhciBjbGllbnRZID0gZXZlbnQuY2xpZW50WSB8fCAoKF9ldmVudCR0b3VjaGVzNCA9IGV2ZW50LnRvdWNoZXMpID09PSBudWxsIHx8IF9ldmVudCR0b3VjaGVzNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9ldmVudCR0b3VjaGVzNCQgPSBfZXZlbnQkdG91Y2hlczRbMF0pID09PSBudWxsIHx8IF9ldmVudCR0b3VjaGVzNCQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ldmVudCR0b3VjaGVzNCQuY2xpZW50WSkgfHwgMDsKICAgICAgdmFyIG5ld1ggPSBjbGllbnRYIC0gdGhpcy5kcmFnT2Zmc2V0Lng7CiAgICAgIHZhciBuZXdZID0gY2xpZW50WSAtIHRoaXMuZHJhZ09mZnNldC55OyAvLyDkvb/nlKjnvJPlrZjnmoTlsLrlr7jvvIzpgb/lhY3ph43lpI3orqHnrpcKCiAgICAgIHZhciBtYXhYID0gd2luZG93LmlubmVyV2lkdGggLSB0aGlzLmNhY2hlZERpbWVuc2lvbnMud2lkdGg7CiAgICAgIHZhciBtYXhZID0gd2luZG93LmlubmVySGVpZ2h0IC0gdGhpcy5jYWNoZWREaW1lbnNpb25zLmhlaWdodDsKICAgICAgdGhpcy5wb3NpdGlvbiA9IHsKICAgICAgICB4OiBNYXRoLm1heCgwLCBNYXRoLm1pbihuZXdYLCBtYXhYKSksCiAgICAgICAgeTogTWF0aC5tYXgoMCwgTWF0aC5taW4obmV3WSwgbWF4WSkpCiAgICAgIH07CiAgICB9LAogICAgc3RvcERyYWc6IGZ1bmN0aW9uIHN0b3BEcmFnKCkgewogICAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5pc0RyYWdnaW5nU3RhdGUgPSBmYWxzZTsgLy8g56e76ZmkZHJhZ2dpbmfnsbvvvIzmgaLlpI3ov4fmuKHliqjnlLsKCiAgICAgIHRoaXMuJGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdnaW5nJyk7IC8vIOa4heeQhuaJgOacieS6i+S7tuebkeWQrOWZqAoKICAgICAgdGhpcy5jbGVhbnVwRHJhZ0xpc3RlbmVycygpOwogICAgfSwKICAgIC8vIOaWsOWinu+8muabtOaWsOe8k+WtmOeahOWwuuWvuOS/oeaBrwogICAgdXBkYXRlQ2FjaGVkRGltZW5zaW9uczogZnVuY3Rpb24gdXBkYXRlQ2FjaGVkRGltZW5zaW9ucygpIHsKICAgICAgaWYgKHRoaXMuaXNNaW5pbWl6ZWQpIHsKICAgICAgICB0aGlzLmNhY2hlZERpbWVuc2lvbnMgPSBfb2JqZWN0U3ByZWFkKHt9LCBESU1FTlNJT05TLk1JTklNSVpFRCk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0NvbGxhcHNlZCkgewogICAgICAgIHRoaXMuY2FjaGVkRGltZW5zaW9ucyA9IF9vYmplY3RTcHJlYWQoe30sIERJTUVOU0lPTlMuQ09MTEFQU0VEKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDlsZXlvIDnirbmgIHvvIzkvb/nlKjln7rnoYDlsLrlr7gKICAgICAgICB0aGlzLmNhY2hlZERpbWVuc2lvbnMgPSBfb2JqZWN0U3ByZWFkKHt9LCBESU1FTlNJT05TLkVYUEFOREVEKTsKICAgICAgfQogICAgfSwKICAgIC8vIOiOt+WPlue7hOS7tumrmOW6pu+8iOS8mOWMlueJiOacrO+8iQogICAgZ2V0Q29tcG9uZW50SGVpZ2h0OiBmdW5jdGlvbiBnZXRDb21wb25lbnRIZWlnaHQoKSB7CiAgICAgIC8vIOWmguaenOato+WcqOaLluWKqO+8jOS9v+eUqOe8k+WtmOeahOWwuuWvuAogICAgICBpZiAodGhpcy5pc0RyYWdnaW5nU3RhdGUpIHsKICAgICAgICByZXR1cm4gdGhpcy5jYWNoZWREaW1lbnNpb25zLmhlaWdodDsKICAgICAgfSAvLyDmraPluLjnirbmgIHkuIvnmoTorqHnrpcKCgogICAgICBpZiAodGhpcy5pc01pbmltaXplZCkgewogICAgICAgIHJldHVybiA4MDsgLy8g5pyA5bCP5YyW54q25oCB6auY5bqmCiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0NvbGxhcHNlZCkgewogICAgICAgIHJldHVybiAxMjA7IC8vIOaUtue8qeeKtuaAgemrmOW6pgogICAgICB9IGVsc2UgewogICAgICAgIC8vIOWxleW8gOeKtuaAge+8jOagueaNruWGheWuueiHqumAguW6lAogICAgICAgIHZhciBiYXNlSGVpZ2h0ID0gNDAwOyAvLyDln7rnoYDpq5jluqYKCiAgICAgICAgdmFyIGxvZ0hlaWdodCA9IHRoaXMuZGlzcGxheUxvZ3MubGVuZ3RoID4gMCA/IDYwIDogNDA7CiAgICAgICAgdmFyIGFkanVzdG1lbnRIZWlnaHQgPSB0aGlzLm5lZWRzQXppbXV0aEFkanVzdG1lbnQgfHwgdGhpcy5uZWVkc0FsdGl0dWRlQWRqdXN0bWVudCA/IDEyMCA6IDgwOwogICAgICAgIHJldHVybiBNYXRoLm1pbihiYXNlSGVpZ2h0ICsgbG9nSGVpZ2h0ICsgYWRqdXN0bWVudEhlaWdodCwgd2luZG93LmlubmVySGVpZ2h0ICogMC44KTsKICAgICAgfQogICAgfSwKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIOeVjOmdoueKtuaAgeaOp+WItuaWueazlQogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgdG9nZ2xlTWluaW1pemU6IGZ1bmN0aW9uIHRvZ2dsZU1pbmltaXplKCkgewogICAgICB0aGlzLmlzTWluaW1pemVkID0gIXRoaXMuaXNNaW5pbWl6ZWQ7CiAgICAgIHRoaXMuaXNDb2xsYXBzZWQgPSBmYWxzZTsgLy8g5pu05paw57yT5a2Y55qE5bC65a+45L+h5oGvCgogICAgICB0aGlzLnVwZGF0ZUNhY2hlZERpbWVuc2lvbnMoKTsKICAgICAgdGhpcy5hZGRMb2codGhpcy5pc01pbmltaXplZCA/IHRoaXMuJHQoJ0ludGVyZmFjZSBNaW5pbWl6ZWQnKSA6IHRoaXMuJHQoJ0ludGVyZmFjZSBFeHBhbmRlZCcpLCAnaW5mbycpOwogICAgfSwKICAgIHRvZ2dsZUNvbGxhcHNlOiBmdW5jdGlvbiB0b2dnbGVDb2xsYXBzZSgpIHsKICAgICAgdGhpcy5pc0NvbGxhcHNlZCA9ICF0aGlzLmlzQ29sbGFwc2VkOyAvLyDmm7TmlrDnvJPlrZjnmoTlsLrlr7jkv6Hmga8KCiAgICAgIHRoaXMudXBkYXRlQ2FjaGVkRGltZW5zaW9ucygpOwogICAgICB0aGlzLmFkZExvZyh0aGlzLmlzQ29sbGFwc2VkID8gdGhpcy4kdCgnSW50ZXJmYWNlIENvbGxhcHNlZCcpIDogdGhpcy4kdCgnSW50ZXJmYWNlIEV4cGFuZGVkJyksICdpbmZvJyk7CiAgICB9LAogICAgLy8gPT09IOi9qOi/ueeUu+W4g+ebuOWFsyA9PT0KICAgIHRvZ2dsZVRyYWplY3RvcnlPdmVybGF5OiBmdW5jdGlvbiB0b2dnbGVUcmFqZWN0b3J5T3ZlcmxheSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLnNob3dUcmFqZWN0b3J5T3ZlcmxheSA9ICF0aGlzLnNob3dUcmFqZWN0b3J5T3ZlcmxheTsKCiAgICAgIGlmICh0aGlzLnNob3dUcmFqZWN0b3J5T3ZlcmxheSkgewogICAgICAgIGlmICh0aGlzLm92ZXJsYXlNb2RlID09PSAnZnVsbHNjcmVlbicpIHRoaXMuZW5hYmxlT3ZlcmxheUV2ZW50Q2FwdHVyZSgpO2Vsc2UgdGhpcy5kaXNhYmxlT3ZlcmxheUV2ZW50Q2FwdHVyZSgpOwogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzNC5pbml0VHJhamVjdG9yeUNhbnZhcygpOwoKICAgICAgICAgIF90aGlzNC5yZWRyYXdUcmFqZWN0b3J5KCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kaXNhYmxlT3ZlcmxheUV2ZW50Q2FwdHVyZSgpOwogICAgICB9CiAgICB9LAogICAgc3dpdGNoVG9XaW5kb3dlZDogZnVuY3Rpb24gc3dpdGNoVG9XaW5kb3dlZCgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLm92ZXJsYXlNb2RlID0gJ3dpbmRvd2VkJzsKICAgICAgdGhpcy5kaXNhYmxlT3ZlcmxheUV2ZW50Q2FwdHVyZSgpOwogICAgICB0aGlzLnJlc2V0Vmlld01hcHBpbmcoKTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNS5pbml0VHJhamVjdG9yeUNhbnZhcygpOwoKICAgICAgICBfdGhpczUucmVkcmF3VHJhamVjdG9yeSgpOwogICAgICB9KTsKICAgIH0sCiAgICBzd2l0Y2hUb0Z1bGxzY3JlZW46IGZ1bmN0aW9uIHN3aXRjaFRvRnVsbHNjcmVlbigpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLm92ZXJsYXlNb2RlID0gJ2Z1bGxzY3JlZW4nOwogICAgICB0aGlzLmVuYWJsZU92ZXJsYXlFdmVudENhcHR1cmUoKTsKICAgICAgdGhpcy5yZXNldFZpZXdNYXBwaW5nKCk7CiAgICAgIHRoaXMuY2xlYXJUcmFqZWN0b3J5Q2FudmFzKCk7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczYuaW5pdFRyYWplY3RvcnlDYW52YXMoKTsKCiAgICAgICAgX3RoaXM2LnJlZHJhd1RyYWplY3RvcnkoKTsKICAgICAgfSk7CiAgICB9LAogICAgb25PdmVybGF5V2hlZWw6IGZ1bmN0aW9uIG9uT3ZlcmxheVdoZWVsKGUpIHsKICAgICAgLy8g5bey5Y+W5raI5YWo5bGP57yp5pS+6ZyA5rGC77ya5b+955Wl5rua6L2u77yM5LuF6Ziy5q2i56m/6YCPCiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIH0sCiAgICByZXNldFZpZXdNYXBwaW5nOiBmdW5jdGlvbiByZXNldFZpZXdNYXBwaW5nKCkgewogICAgICB0aGlzLmN1cnJlbnRQeFBlckRlZyA9IG51bGw7CiAgICAgIHRoaXMudmlld01pbldvcmxkWCA9IG51bGw7CiAgICAgIHRoaXMudmlld01heFdvcmxkWCA9IG51bGw7CiAgICAgIHRoaXMudmlld01pbldvcmxkWSA9IG51bGw7CiAgICAgIHRoaXMudmlld01heFdvcmxkWSA9IG51bGw7CiAgICAgIHRoaXMucmFVbndyYXBBbmNob3IgPSBudWxsOwogICAgICB0aGlzLnZpZXdPZmZzZXRYUHggPSAwOwogICAgICB0aGlzLnZpZXdPZmZzZXRZUHggPSAwOwogICAgfSwKICAgIC8vIOa4heepuuinhuWbvuaYoOWwhO+8jOS9huS/neeVmSBSQSDlsZXlvIDplJrngrnvvIzpmLLmraLmuIXnkIbml6fngrnmiJbmqKHlvI/liIfmjaLml7bmlrnlkJHnv7vovawKICAgIHJlc2V0Vmlld01hcHBpbmdLZWVwQW5jaG9yOiBmdW5jdGlvbiByZXNldFZpZXdNYXBwaW5nS2VlcEFuY2hvcigpIHsKICAgICAgdmFyIGFuY2hvciA9IHRoaXMucmFVbndyYXBBbmNob3I7CiAgICAgIHRoaXMuY3VycmVudFB4UGVyRGVnID0gbnVsbDsKICAgICAgdGhpcy52aWV3TWluV29ybGRYID0gbnVsbDsKICAgICAgdGhpcy52aWV3TWF4V29ybGRYID0gbnVsbDsKICAgICAgdGhpcy52aWV3TWluV29ybGRZID0gbnVsbDsKICAgICAgdGhpcy52aWV3TWF4V29ybGRZID0gbnVsbDsKICAgICAgdGhpcy52aWV3T2Zmc2V0WFB4ID0gMDsKICAgICAgdGhpcy52aWV3T2Zmc2V0WVB4ID0gMDsKICAgICAgdGhpcy5yYVVud3JhcEFuY2hvciA9IGFuY2hvcjsKICAgIH0sCiAgICBzdGFydFdpbmRvd0RyYWc6IGZ1bmN0aW9uIHN0YXJ0V2luZG93RHJhZyhldmVudCkgewogICAgICB2YXIgZSA9IGV2ZW50LnRvdWNoZXMgPyBldmVudC50b3VjaGVzWzBdIDogZXZlbnQ7CiAgICAgIHRoaXMud2luZG93RHJhZy5hY3RpdmUgPSB0cnVlOwogICAgICB0aGlzLndpbmRvd0RyYWcub2Zmc2V0WCA9IGUuY2xpZW50WCAtIHRoaXMud2luZG93ZWRSZWN0Lng7CiAgICAgIHRoaXMud2luZG93RHJhZy5vZmZzZXRZID0gZS5jbGllbnRZIC0gdGhpcy53aW5kb3dlZFJlY3QueTsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25XaW5kb3dEcmFnTW92ZSwgewogICAgICAgIHBhc3NpdmU6IGZhbHNlCiAgICAgIH0pOwogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuc3RvcFdpbmRvd0RyYWcsIHsKICAgICAgICBwYXNzaXZlOiBmYWxzZQogICAgICB9KTsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25XaW5kb3dEcmFnTW92ZSwgewogICAgICAgIHBhc3NpdmU6IGZhbHNlCiAgICAgIH0pOwogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLnN0b3BXaW5kb3dEcmFnLCB7CiAgICAgICAgcGFzc2l2ZTogZmFsc2UKICAgICAgfSk7CiAgICB9LAogICAgb25XaW5kb3dEcmFnTW92ZTogZnVuY3Rpb24gb25XaW5kb3dEcmFnTW92ZShldmVudCkgewogICAgICBpZiAoIXRoaXMud2luZG93RHJhZy5hY3RpdmUpIHJldHVybjsKICAgICAgdmFyIGUgPSBldmVudC50b3VjaGVzID8gZXZlbnQudG91Y2hlc1swXSA6IGV2ZW50OwogICAgICB2YXIgbnggPSBlLmNsaWVudFggLSB0aGlzLndpbmRvd0RyYWcub2Zmc2V0WDsKICAgICAgdmFyIG55ID0gZS5jbGllbnRZIC0gdGhpcy53aW5kb3dEcmFnLm9mZnNldFk7CiAgICAgIHRoaXMud2luZG93ZWRSZWN0LnggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihueCwgd2luZG93LmlubmVyV2lkdGggLSB0aGlzLndpbmRvd2VkUmVjdC53aWR0aCkpOwogICAgICB0aGlzLndpbmRvd2VkUmVjdC55ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4obnksIHdpbmRvdy5pbm5lckhlaWdodCAtIHRoaXMud2luZG93ZWRSZWN0LmhlaWdodCkpOwogICAgfSwKICAgIHN0b3BXaW5kb3dEcmFnOiBmdW5jdGlvbiBzdG9wV2luZG93RHJhZygpIHsKICAgICAgdGhpcy53aW5kb3dEcmFnLmFjdGl2ZSA9IGZhbHNlOwogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vbldpbmRvd0RyYWdNb3ZlKTsKICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLnN0b3BXaW5kb3dEcmFnKTsKICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25XaW5kb3dEcmFnTW92ZSk7CiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuc3RvcFdpbmRvd0RyYWcpOwogICAgfSwKICAgIGVuYWJsZU92ZXJsYXlFdmVudENhcHR1cmU6IGZ1bmN0aW9uIGVuYWJsZU92ZXJsYXlFdmVudENhcHR1cmUoKSB7CiAgICAgIC8vIOaLpuaIquWFqOWxgOa7mui9ri/op6bmkbgv6byg5qCH5LqL5Lu277yM6YG/5YWN56m/6YCP5Yiw5bqV5Zu+CiAgICAgIHZhciBwcmV2ZW50QWxsID0gZnVuY3Rpb24gcHJldmVudEFsbChlKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIH07CgogICAgICB0aGlzLl9vdmVybGF5SGFuZGxlcnMgPSB0aGlzLl9vdmVybGF5SGFuZGxlcnMgfHwge307CiAgICAgIHRoaXMuX292ZXJsYXlIYW5kbGVycy53aGVlbCA9IHByZXZlbnRBbGw7CiAgICAgIHRoaXMuX292ZXJsYXlIYW5kbGVycy50b3VjaG1vdmUgPSBwcmV2ZW50QWxsOwogICAgICB0aGlzLl9vdmVybGF5SGFuZGxlcnMubW91c2Vkb3duID0gcHJldmVudEFsbDsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy5fb3ZlcmxheUhhbmRsZXJzLndoZWVsLCB7CiAgICAgICAgcGFzc2l2ZTogZmFsc2UsCiAgICAgICAgY2FwdHVyZTogdHJ1ZQogICAgICB9KTsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX292ZXJsYXlIYW5kbGVycy50b3VjaG1vdmUsIHsKICAgICAgICBwYXNzaXZlOiBmYWxzZSwKICAgICAgICBjYXB0dXJlOiB0cnVlCiAgICAgIH0pOwogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fb3ZlcmxheUhhbmRsZXJzLm1vdXNlZG93biwgewogICAgICAgIHBhc3NpdmU6IGZhbHNlLAogICAgICAgIGNhcHR1cmU6IHRydWUKICAgICAgfSk7CiAgICB9LAogICAgZGlzYWJsZU92ZXJsYXlFdmVudENhcHR1cmU6IGZ1bmN0aW9uIGRpc2FibGVPdmVybGF5RXZlbnRDYXB0dXJlKCkgewogICAgICBpZiAoIXRoaXMuX292ZXJsYXlIYW5kbGVycykgcmV0dXJuOwogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLl9vdmVybGF5SGFuZGxlcnMud2hlZWwsIHsKICAgICAgICBjYXB0dXJlOiB0cnVlCiAgICAgIH0pOwogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5fb3ZlcmxheUhhbmRsZXJzLnRvdWNobW92ZSwgewogICAgICAgIGNhcHR1cmU6IHRydWUKICAgICAgfSk7CiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9vdmVybGF5SGFuZGxlcnMubW91c2Vkb3duLCB7CiAgICAgICAgY2FwdHVyZTogdHJ1ZQogICAgICB9KTsKICAgICAgdGhpcy5fb3ZlcmxheUhhbmRsZXJzID0gbnVsbDsKICAgIH0sCiAgICBjbGVhckFsbFRyYWplY3Rvcnk6IGZ1bmN0aW9uIGNsZWFyQWxsVHJhamVjdG9yeSgpIHsKICAgICAgdGhpcy5yYXdUcmFqZWN0b3J5UG9pbnRzID0gW107CiAgICAgIHRoaXMudHJhamVjdG9yeVBvaW50cyA9IFtdOwogICAgICB0aGlzLmxhc3RSYXdQb3NpdGlvbiA9IG51bGw7CiAgICAgIHRoaXMucmVzZXRWaWV3TWFwcGluZygpOwogICAgICB0aGlzLnJlZHJhd1RyYWplY3RvcnkoKTsKICAgIH0sCiAgICBjbGVhck9sZFRyYWplY3Rvcnk6IGZ1bmN0aW9uIGNsZWFyT2xkVHJhamVjdG9yeSgpIHsKICAgICAgaWYgKHRoaXMucmF3VHJhamVjdG9yeVBvaW50cy5sZW5ndGggPD0gMikgcmV0dXJuOwogICAgICB0aGlzLnJhd1RyYWplY3RvcnlQb2ludHMgPSB0aGlzLnJhd1RyYWplY3RvcnlQb2ludHMuc2xpY2UoLTIpOwogICAgICB0aGlzLnRyYWplY3RvcnlQb2ludHMgPSBbXTsKICAgICAgdGhpcy5yZXNldFZpZXdNYXBwaW5nS2VlcEFuY2hvcigpOwogICAgICB0aGlzLnJlZHJhd1RyYWplY3RvcnkoKTsKICAgIH0sCiAgICBpbml0VHJhamVjdG9yeUNhbnZhczogZnVuY3Rpb24gaW5pdFRyYWplY3RvcnlDYW52YXMoKSB7CiAgICAgIHZhciBjYW52YXMgPSB0aGlzLiRyZWZzLnRyYWplY3RvcnlDYW52YXM7CiAgICAgIGlmICghY2FudmFzKSByZXR1cm47CiAgICAgIHZhciBkcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxOwogICAgICB2YXIgdywKICAgICAgICAgIGgsCiAgICAgICAgICBzY2FsZVggPSAxLAogICAgICAgICAgc2NhbGVZID0gMTsKCiAgICAgIGlmICh0aGlzLm92ZXJsYXlNb2RlID09PSAnZnVsbHNjcmVlbicpIHsKICAgICAgICB3ID0gd2luZG93LmlubmVyV2lkdGg7CiAgICAgICAgaCA9IHdpbmRvdy5pbm5lckhlaWdodDsKICAgICAgICBjYW52YXMud2lkdGggPSBNYXRoLnJvdW5kKHcgKiBkcHIpOwogICAgICAgIGNhbnZhcy5oZWlnaHQgPSBNYXRoLnJvdW5kKGggKiBkcHIpOwogICAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IHcgKyAncHgnOwogICAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBoICsgJ3B4JzsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDnqpflj6PmqKHlvI/vvJrkvb/nlKjpgLvovpHnlLvluIPlsLrlr7jvvIznu5jliLblkI7mlbTkvZPnvKnmlL7liLDnqpflj6PljLrln58KICAgICAgICB2YXIgSEVBREVSID0gMzI7CiAgICAgICAgdmFyIHZ3ID0gTWF0aC5tYXgoNTAsIE1hdGgucm91bmQodGhpcy53aW5kb3dlZFJlY3Qud2lkdGgpKTsKICAgICAgICB2YXIgdmggPSBNYXRoLm1heCg1MCwgTWF0aC5yb3VuZCh0aGlzLndpbmRvd2VkUmVjdC5oZWlnaHQgLSBIRUFERVIpKTsKICAgICAgICB2YXIgbHcgPSB0aGlzLmJhc2VDYW52YXNMb2dpY2FsU2l6ZS53aWR0aDsKICAgICAgICB2YXIgbGggPSB0aGlzLmJhc2VDYW52YXNMb2dpY2FsU2l6ZS5oZWlnaHQ7IC8vIOiuoeeul+WwhumAu+i+keeUu+W4g+e8qeaUvuWIsOWPr+inhueql+WPo+eahOe8qeaUvuavlAoKICAgICAgICBzY2FsZVggPSB2dyAvIGx3OwogICAgICAgIHNjYWxlWSA9IHZoIC8gbGg7IC8vIENhbnZhcyDmmL7npLrlsLrlr7ggPSDnqpflj6PlsLrlr7jvvIzlhoXpg6jlg4/ntKAgPSDmmL7npLrlsLrlr7ggKiBEUFIKCiAgICAgICAgdyA9IHZ3OwogICAgICAgIGggPSB2aDsKICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSB2dyArICdweCc7CiAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IHZoICsgJ3B4JzsKICAgICAgICBjYW52YXMud2lkdGggPSBNYXRoLnJvdW5kKHZ3ICogZHByKTsKICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTWF0aC5yb3VuZCh2aCAqIGRwcik7CiAgICAgIH0KCiAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsgLy8g6K6+572u6K6+5aSH5YOP57Sg5q+U57yp5pS+CgogICAgICBjdHguc2V0VHJhbnNmb3JtKGRwciwgMCwgMCwgZHByLCAwLCAwKTsgLy8g56qX5Y+j5qih5byP5LiL5aKe5Yqg5pW05L2T57yp5pS+77yM5bCG6YC76L6R55S75biD57yp5pS+5Yiw56qX5Y+j5bC65a+4CgogICAgICBpZiAodGhpcy5vdmVybGF5TW9kZSA9PT0gJ3dpbmRvd2VkJykgewogICAgICAgIGN0eC5zY2FsZShzY2FsZVgsIHNjYWxlWSk7CiAgICAgIH0KCiAgICAgIHRoaXMuY2xlYXJUcmFqZWN0b3J5Q2FudmFzKCk7IC8vIOiDjOaZr+eUsSBkcmF3VGFyZ2V0TWFya2VyIOe7n+S4gOe7mOWItgogICAgfSwKICAgIGNsZWFyVHJhamVjdG9yeUNhbnZhczogZnVuY3Rpb24gY2xlYXJUcmFqZWN0b3J5Q2FudmFzKCkgewogICAgICB2YXIgY2FudmFzID0gdGhpcy4kcmVmcy50cmFqZWN0b3J5Q2FudmFzOwogICAgICBpZiAoIWNhbnZhcykgcmV0dXJuOwogICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgIGN0eC5zYXZlKCk7CiAgICAgIGN0eC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7CiAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICAgICAgY3R4LnJlc3RvcmUoKTsKICAgIH0sCiAgICAvLyA9PT0g6KeG5Zu+5pig5bCE5LiO5bel5YW3ID09PQogICAgZ2V0Q2FudmFzR2VvbTogZnVuY3Rpb24gZ2V0Q2FudmFzR2VvbSgpIHsKICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuJHJlZnMudHJhamVjdG9yeUNhbnZhczsKICAgICAgaWYgKCFjYW52YXMpIHJldHVybiBudWxsOyAvLyDlnKjnqpflj6PmqKHlvI/kuIvvvIxDYW52YXMg5YaF6YOo6YC76L6R5Li6IGJhc2VDYW52YXNMb2dpY2FsU2l6Ze+8jAogICAgICAvLyDlpJbpg6jpgJrov4cgY3R4LnNjYWxlIOaYvuekuuWIsOeql+WPo++8jOaJgOS7peWHoOS9leiuoeeul+i/lOWbnumAu+i+keWwuuWvuAoKICAgICAgdmFyIHcgPSB0aGlzLm92ZXJsYXlNb2RlID09PSAnd2luZG93ZWQnID8gdGhpcy5iYXNlQ2FudmFzTG9naWNhbFNpemUud2lkdGggOiBjYW52YXMuY2xpZW50V2lkdGg7CiAgICAgIHZhciBoID0gdGhpcy5vdmVybGF5TW9kZSA9PT0gJ3dpbmRvd2VkJyA/IHRoaXMuYmFzZUNhbnZhc0xvZ2ljYWxTaXplLmhlaWdodCA6IGNhbnZhcy5jbGllbnRIZWlnaHQ7CiAgICAgIHZhciBwYWRYID0gTWF0aC5yb3VuZCh3ICogKHRoaXMudmlld1BhZFJhdGlvWCB8fCAwLjEyKSk7CiAgICAgIHZhciBwYWRZID0gTWF0aC5yb3VuZChoICogKHRoaXMudmlld1BhZFJhdGlvWSB8fCAwLjEwKSk7CiAgICAgIHJldHVybiB7CiAgICAgICAgdzogdywKICAgICAgICBoOiBoLAogICAgICAgIHBhZFg6IHBhZFgsCiAgICAgICAgcGFkWTogcGFkWQogICAgICB9OwogICAgfSwKICAgIHdvcmxkRm9yUG9pbnQ6IGZ1bmN0aW9uIHdvcmxkRm9yUG9pbnQocmFEZWcsIGRlY0RlZykgewogICAgICAvLyDkuJbnlYzlnZDmoIfku6Xnm67moIfkuLrljp/ngrnvvJpYPeWxleW8gOWQjueahCBkUkHvvIxZPWREZWPvvIhEZWMg5aKe5aSn5Li65q2j77yJCiAgICAgIGlmICghdGhpcy50YXJnZXRSYXdQb3NpdGlvbikgcmV0dXJuIHsKICAgICAgICB4OiAwLAogICAgICAgIHk6IDAKICAgICAgfTsKICAgICAgdmFyIGRSYU5vcm0gPSB0aGlzLm5vcm1hbGl6ZVJhRGVsdGEocmFEZWcgLSB0aGlzLnRhcmdldFJhd1Bvc2l0aW9uLnJhKTsgLy8g5L2/55So5Z+65LqO6aaW54K555qE5bGV5byA6ZSa54K577yM6YG/5YWN6LeoIDAvMzYwIOi3s+WPmAoKICAgICAgdmFyIHggPSBkUmFOb3JtOwoKICAgICAgaWYgKHRoaXMucmFVbndyYXBBbmNob3IgIT0gbnVsbCkgewogICAgICAgIC8vIOWwhiB4IOiwg+aVtOWIsOmdoOi/kemUmueCuemCu+WfnwogICAgICAgIHdoaWxlICh4IC0gdGhpcy5yYVVud3JhcEFuY2hvciA+IDE4MCkgewogICAgICAgICAgeCAtPSAzNjA7CiAgICAgICAgfQoKICAgICAgICB3aGlsZSAoeCAtIHRoaXMucmFVbndyYXBBbmNob3IgPCAtMTgwKSB7CiAgICAgICAgICB4ICs9IDM2MDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciB5ID0gZGVjRGVnIC0gdGhpcy50YXJnZXRSYXdQb3NpdGlvbi5kZWM7CiAgICAgIHJldHVybiB7CiAgICAgICAgeDogeCwKICAgICAgICB5OiB5CiAgICAgIH07CiAgICB9LAogICAgbWFrZVdvcmxkU2VxOiBmdW5jdGlvbiBtYWtlV29ybGRTZXEocmF3UG9pbnRzKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLnRhcmdldFJhd1Bvc2l0aW9uIHx8ICFyYXdQb2ludHMgfHwgcmF3UG9pbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIFtdOwogICAgICB2YXIgZFJhc05vcm0gPSByYXdQb2ludHMubWFwKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgcmV0dXJuIF90aGlzNy5ub3JtYWxpemVSYURlbHRhKHAucmEgLSBfdGhpczcudGFyZ2V0UmF3UG9zaXRpb24ucmEpOwogICAgICB9KTsgLy8g5bCG5omA5pyJIGRSQSDlhYjlr7npvZDliLAgcmFVbndyYXBBbmNob3Ig55qE6YK75Z+f77yM6YG/5YWN5YiH5o2i5qih5byP5oiW54K55pWw5Y+Y5YyW5pe25bGV5byA5pa55ZCR5Y+N6L2sCgogICAgICB2YXIgYW5jaG9yID0gdGhpcy5yYVVud3JhcEFuY2hvcjsKICAgICAgaWYgKGFuY2hvciA9PSBudWxsICYmIGRSYXNOb3JtLmxlbmd0aCA+IDApIGFuY2hvciA9IGRSYXNOb3JtWzBdOwogICAgICB2YXIgYWxpZ25lZCA9IGRSYXNOb3JtLm1hcChmdW5jdGlvbiAoeCkgewogICAgICAgIHZhciB2ID0geDsKCiAgICAgICAgd2hpbGUgKHYgLSBhbmNob3IgPiAxODApIHsKICAgICAgICAgIHYgLT0gMzYwOwogICAgICAgIH0KCiAgICAgICAgd2hpbGUgKHYgLSBhbmNob3IgPCAtMTgwKSB7CiAgICAgICAgICB2ICs9IDM2MDsKICAgICAgICB9CgogICAgICAgIHJldHVybiB2OwogICAgICB9KTsgLy8g5YaN5YGa6L+e57ut5bGV5byA77yM5L+d6K+B55u46YK754K56L+e5o6l6L+e6LSvCgogICAgICB2YXIgZFJhcyA9IHRoaXMudW53cmFwUmFEZWx0YVNlcXVlbmNlKGFsaWduZWQpOwogICAgICByZXR1cm4gcmF3UG9pbnRzLm1hcChmdW5jdGlvbiAocCwgaSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB4OiBkUmFzW2ldLAogICAgICAgICAgeTogcC5kZWMgLSBfdGhpczcudGFyZ2V0UmF3UG9zaXRpb24uZGVjCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Z+65LqO4oCc5YWo6YeP6L2o6L+54oCd55qE6L+e57ut5bGV5byA77yM6L+U5Zue55So5LqO5Z6C57q/55qE5pyA5ZCO5Lik54K55LiW55WM5Z2Q5qCH77yI5YWB6K646LaF5Ye65bi46KeE6IyD5Zu077yJCiAgICBnZXRXb3JsZEFCRm9yUGVycDogZnVuY3Rpb24gZ2V0V29ybGRBQkZvclBlcnAoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLnRhcmdldFJhd1Bvc2l0aW9uIHx8IHRoaXMucmF3VHJhamVjdG9yeVBvaW50cy5sZW5ndGggPCAyKSByZXR1cm4gbnVsbDsKICAgICAgdmFyIGFsbCA9IHRoaXMucmF3VHJhamVjdG9yeVBvaW50czsKICAgICAgdmFyIGRSYXNOb3JtID0gYWxsLm1hcChmdW5jdGlvbiAocCkgewogICAgICAgIHJldHVybiBfdGhpczgubm9ybWFsaXplUmFEZWx0YShwLnJhIC0gX3RoaXM4LnRhcmdldFJhd1Bvc2l0aW9uLnJhKTsKICAgICAgfSk7IC8vIOWFiOaMiemUmueCueWvuem9kOWIsOWQjOS4gOmCu+Wfn++8jOWGjeWBmui/nue7reWxleW8gO+8jOehruS/neWdkOagh+i9tC/lsZXlvIDmlrnlkJHkuIDoh7QKCiAgICAgIHZhciBhbmNob3IgPSB0aGlzLnJhVW53cmFwQW5jaG9yOwogICAgICBpZiAoYW5jaG9yID09IG51bGwgJiYgZFJhc05vcm0ubGVuZ3RoID4gMCkgYW5jaG9yID0gZFJhc05vcm1bMF07CiAgICAgIHZhciBhbGlnbmVkID0gZFJhc05vcm0ubWFwKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgdmFyIHYgPSB4OwoKICAgICAgICB3aGlsZSAodiAtIGFuY2hvciA+IDE4MCkgewogICAgICAgICAgdiAtPSAzNjA7CiAgICAgICAgfQoKICAgICAgICB3aGlsZSAodiAtIGFuY2hvciA8IC0xODApIHsKICAgICAgICAgIHYgKz0gMzYwOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHY7CiAgICAgIH0pOwogICAgICB2YXIgZFJhcyA9IHRoaXMudW53cmFwUmFEZWx0YVNlcXVlbmNlKGFsaWduZWQpOwogICAgICB2YXIgbiA9IGFsbC5sZW5ndGg7CiAgICAgIHZhciBBID0gewogICAgICAgIHg6IGRSYXNbbiAtIDJdLAogICAgICAgIHk6IGFsbFtuIC0gMl0uZGVjIC0gdGhpcy50YXJnZXRSYXdQb3NpdGlvbi5kZWMKICAgICAgfTsKICAgICAgdmFyIEIgPSB7CiAgICAgICAgeDogZFJhc1tuIC0gMV0sCiAgICAgICAgeTogYWxsW24gLSAxXS5kZWMgLSB0aGlzLnRhcmdldFJhd1Bvc2l0aW9uLmRlYwogICAgICB9OwogICAgICByZXR1cm4gewogICAgICAgIEE6IEEsCiAgICAgICAgQjogQgogICAgICB9OwogICAgfSwKICAgIHNjcmVlbkZvcldvcmxkOiBmdW5jdGlvbiBzY3JlZW5Gb3JXb3JsZCh3eCwgd3kpIHsKICAgICAgdmFyIGcgPSB0aGlzLmdldENhbnZhc0dlb20oKTsKICAgICAgaWYgKCFnIHx8ICFOdW1iZXIuaXNGaW5pdGUodGhpcy5jdXJyZW50UHhQZXJEZWcpKSByZXR1cm4gewogICAgICAgIHg6IDAsCiAgICAgICAgeTogMAogICAgICB9OwogICAgICB2YXIgdyA9IGcudywKICAgICAgICAgIGggPSBnLmgsCiAgICAgICAgICBwYWRYID0gZy5wYWRYLAogICAgICAgICAgcGFkWSA9IGcucGFkWTsKICAgICAgdmFyIHggPSBwYWRYICsgdGhpcy52aWV3T2Zmc2V0WFB4ICsgKHd4IC0gKHRoaXMudmlld01pbldvcmxkWCB8fCAwKSkgKiB0aGlzLmN1cnJlbnRQeFBlckRlZzsKICAgICAgdmFyIHkgPSBoIC0gcGFkWSAtIHRoaXMudmlld09mZnNldFlQeCAtICh3eSAtICh0aGlzLnZpZXdNaW5Xb3JsZFkgfHwgMCkpICogdGhpcy5jdXJyZW50UHhQZXJEZWc7CiAgICAgIHJldHVybiB7CiAgICAgICAgeDogeCwKICAgICAgICB5OiB5CiAgICAgIH07CiAgICB9LAogICAgZW5zdXJlVmlld01hcHBpbmdJbml0aWFsaXplZDogZnVuY3Rpb24gZW5zdXJlVmlld01hcHBpbmdJbml0aWFsaXplZChzZXFXb3JsZCkgewogICAgICBpZiAoIXNlcVdvcmxkIHx8IHNlcVdvcmxkLmxlbmd0aCA9PT0gMCkgcmV0dXJuOwogICAgICBpZiAodGhpcy5jdXJyZW50UHhQZXJEZWcgIT0gbnVsbCAmJiB0aGlzLnZpZXdNaW5Xb3JsZFggIT0gbnVsbCkgcmV0dXJuOwogICAgICB2YXIgZyA9IHRoaXMuZ2V0Q2FudmFzR2VvbSgpOwogICAgICBpZiAoIWcpIHJldHVybjsKICAgICAgdmFyIHcgPSBnLncsCiAgICAgICAgICBoID0gZy5oLAogICAgICAgICAgcGFkWCA9IGcucGFkWCwKICAgICAgICAgIHBhZFkgPSBnLnBhZFk7IC8vIOi1t+Wni+eCue+8muW6j+WIl+esrOS4gOS4qu+8m+ebruagh+WOn+eCueS4uiAoMCwwKQoKICAgICAgdmFyIGZpcnN0ID0gc2VxV29ybGRbMF07IC8vIOWIneWni+WMluWxleW8gOmUmueCueS4uummlueCuSBY77yI55u45a+555uu5qCH77yJCgogICAgICB0aGlzLnJhVW53cmFwQW5jaG9yID0gZmlyc3QueDsKICAgICAgdmFyIG1pblggPSBNYXRoLm1pbigwLCBmaXJzdC54KTsKICAgICAgdmFyIG1heFggPSBNYXRoLm1heCgwLCBmaXJzdC54KTsKICAgICAgdmFyIG1pblkgPSBNYXRoLm1pbigwLCBmaXJzdC55KTsKICAgICAgdmFyIG1heFkgPSBNYXRoLm1heCgwLCBmaXJzdC55KTsKICAgICAgdmFyIHNwYW5YID0gTWF0aC5tYXgoMWUtNiwgbWF4WCAtIG1pblgpOwogICAgICB2YXIgc3BhblkgPSBNYXRoLm1heCgxZS02LCBtYXhZIC0gbWluWSk7CiAgICAgIHZhciBzY2FsZVggPSAodyAtIDIgKiBwYWRYKSAvIHNwYW5YOwogICAgICB2YXIgc2NhbGVZID0gKGggLSAyICogcGFkWSkgLyBzcGFuWTsKICAgICAgdGhpcy5jdXJyZW50UHhQZXJEZWcgPSBNYXRoLm1heCg1LCBNYXRoLm1pbihzY2FsZVgsIHNjYWxlWSkpOwogICAgICB0aGlzLnZpZXdNaW5Xb3JsZFggPSBtaW5YOwogICAgICB0aGlzLnZpZXdNYXhXb3JsZFggPSBtYXhYOwogICAgICB0aGlzLnZpZXdNaW5Xb3JsZFkgPSBtaW5ZOwogICAgICB0aGlzLnZpZXdNYXhXb3JsZFkgPSBtYXhZOyAvLyDliJ3mrKHop4blm77lhoXlrrnlsYXkuK3vvJrku4XlnKjliJ3lp4vljJbml7borr7nva7kuIDmrKHlgY/np7sKCiAgICAgIHZhciBjb250ZW50V3B4ID0gc3BhblggKiB0aGlzLmN1cnJlbnRQeFBlckRlZzsKICAgICAgdmFyIGNvbnRlbnRIcHggPSBzcGFuWSAqIHRoaXMuY3VycmVudFB4UGVyRGVnOwogICAgICB0aGlzLnZpZXdPZmZzZXRYUHggPSBNYXRoLnJvdW5kKCh3IC0gMiAqIHBhZFggLSBjb250ZW50V3B4KSAvIDIpOwogICAgICB0aGlzLnZpZXdPZmZzZXRZUHggPSBNYXRoLnJvdW5kKChoIC0gMiAqIHBhZFkgLSBjb250ZW50SHB4KSAvIDIpOwogICAgfSwKICAgIG1heWJlRXhwYW5kVmlld0ZvclBvaW50OiBmdW5jdGlvbiBtYXliZUV4cGFuZFZpZXdGb3JQb2ludCh3eCwgd3kpIHsKICAgICAgLy8g6Iul54K55Zyo5b2T5YmN5bGP5bmV5YaF77yM5YiZ5LiN5pu05paw5q+U5L6L5bC677yb6Iul6LaK55WM77yM5omp5bGV6L6555WM5bm25LuF57yp5bCP5q+U5L6L5bC6CiAgICAgIHZhciBnID0gdGhpcy5nZXRDYW52YXNHZW9tKCk7CiAgICAgIGlmICghZyB8fCB0aGlzLmN1cnJlbnRQeFBlckRlZyA9PSBudWxsKSByZXR1cm47CiAgICAgIHZhciB3ID0gZy53LAogICAgICAgICAgaCA9IGcuaCwKICAgICAgICAgIHBhZFggPSBnLnBhZFgsCiAgICAgICAgICBwYWRZID0gZy5wYWRZOwogICAgICB2YXIgcHggPSBwYWRYICsgdGhpcy52aWV3T2Zmc2V0WFB4ICsgKHd4IC0gdGhpcy52aWV3TWluV29ybGRYKSAqIHRoaXMuY3VycmVudFB4UGVyRGVnOwogICAgICB2YXIgcHkgPSBoIC0gcGFkWSAtIHRoaXMudmlld09mZnNldFlQeCAtICh3eSAtIHRoaXMudmlld01pbldvcmxkWSkgKiB0aGlzLmN1cnJlbnRQeFBlckRlZzsKICAgICAgdmFyIGluc2lkZSA9IHB4ID49IHBhZFggJiYgcHggPD0gdyAtIHBhZFggJiYgcHkgPj0gcGFkWSAmJiBweSA8PSBoIC0gcGFkWTsKICAgICAgaWYgKGluc2lkZSkgcmV0dXJuOyAvLyDmianlsZXkuJbnlYzovrnnlYzliLDljIXlkKvor6XngrkKCiAgICAgIHZhciBuZXdNaW5YID0gTWF0aC5taW4odGhpcy52aWV3TWluV29ybGRYLCB3eCk7CiAgICAgIHZhciBuZXdNYXhYID0gTWF0aC5tYXgodGhpcy52aWV3TWF4V29ybGRYLCB3eCk7CiAgICAgIHZhciBuZXdNaW5ZID0gTWF0aC5taW4odGhpcy52aWV3TWluV29ybGRZLCB3eSk7CiAgICAgIHZhciBuZXdNYXhZID0gTWF0aC5tYXgodGhpcy52aWV3TWF4V29ybGRZLCB3eSk7CiAgICAgIHZhciBzcGFuWCA9IE1hdGgubWF4KDFlLTYsIG5ld01heFggLSBuZXdNaW5YKTsKICAgICAgdmFyIHNwYW5ZID0gTWF0aC5tYXgoMWUtNiwgbmV3TWF4WSAtIG5ld01pblkpOwogICAgICB2YXIgc2NhbGVYID0gKHcgLSAyICogcGFkWCkgLyBzcGFuWDsKICAgICAgdmFyIHNjYWxlWSA9IChoIC0gMiAqIHBhZFkpIC8gc3Bhblk7CiAgICAgIHZhciBjYW5kaWRhdGUgPSBNYXRoLm1heCg1LCBNYXRoLm1pbihzY2FsZVgsIHNjYWxlWSkpOyAvLyDku4XnvKnlsI8KCiAgICAgIHRoaXMuY3VycmVudFB4UGVyRGVnID0gdGhpcy5jdXJyZW50UHhQZXJEZWcgPT0gbnVsbCA/IGNhbmRpZGF0ZSA6IE1hdGgubWluKHRoaXMuY3VycmVudFB4UGVyRGVnLCBjYW5kaWRhdGUpOwogICAgICB0aGlzLnZpZXdNaW5Xb3JsZFggPSBuZXdNaW5YOwogICAgICB0aGlzLnZpZXdNYXhXb3JsZFggPSBuZXdNYXhYOwogICAgICB0aGlzLnZpZXdNaW5Xb3JsZFkgPSBuZXdNaW5ZOwogICAgICB0aGlzLnZpZXdNYXhXb3JsZFkgPSBuZXdNYXhZOyAvLyDlm7rlrprplJrngrnvvJrkuI3lho3ph43nrpflgY/np7vvvIzkv53mjIHnm67moIfngrnlsY/luZXkvY3nva7mgZLlrpoKICAgIH0sCiAgICBkcmF3VGFyZ2V0TWFya2VyOiBmdW5jdGlvbiBkcmF3VGFyZ2V0TWFya2VyKCkgewogICAgICB2YXIgc2NhbGVPdmVycmlkZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbnVsbDsKICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuJHJlZnMudHJhamVjdG9yeUNhbnZhczsKICAgICAgaWYgKCFjYW52YXMpIHJldHVybjsKICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICB2YXIgZyA9IHRoaXMuZ2V0Q2FudmFzR2VvbSgpOwogICAgICBpZiAoIWcpIHJldHVybjsKICAgICAgdmFyIHcgPSBnLncsCiAgICAgICAgICBoID0gZy5oOwogICAgICBjdHguc2F2ZSgpOyAvLyDog4zmma8KCiAgICAgIGN0eC5maWxsU3R5bGUgPSAnYmxhY2snOwogICAgICBjdHguZmlsbFJlY3QoMCwgMCwgdywgaCk7IC8vIOebruagh+WchueOrwoKICAgICAgdmFyIGNlbnRlciA9IHRoaXMuc2NyZWVuRm9yV29ybGQoMCwgMCk7CiAgICAgIHZhciByaW5nRGVnID0gdGhpcy5nZXRUYXJnZXRSaW5nRGVnKCk7CiAgICAgIHZhciBzY2FsZSA9IChzY2FsZU92ZXJyaWRlICE9IG51bGwgPyBzY2FsZU92ZXJyaWRlIDogdGhpcy5jdXJyZW50UHhQZXJEZWcpIHx8IDQwOyAvLyDljYrlvoTpmZDliLbvvJrkuI3otoXlh7rlj6/op4HljLrln58KCiAgICAgIHZhciByUHggPSBNYXRoLm1heCg2LCBNYXRoLm1pbihNYXRoLm1pbih3LCBoKSAqIDAuNDUsIHJpbmdEZWcgKiBzY2FsZSkpOwogICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzRDQUY1MCc7CiAgICAgIGN0eC5saW5lV2lkdGggPSAyOwogICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgIGN0eC5hcmMoY2VudGVyLngsIGNlbnRlci55LCByUHgsIDAsIE1hdGguUEkgKiAyKTsKICAgICAgY3R4LnN0cm9rZSgpOwogICAgICBjdHguZmlsbFN0eWxlID0gJyM0Q0FGNTAnOwogICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgIGN0eC5hcmMoY2VudGVyLngsIGNlbnRlci55LCAzLCAwLCBNYXRoLlBJICogMik7CiAgICAgIGN0eC5maWxsKCk7CiAgICAgIGN0eC5yZXN0b3JlKCk7CiAgICB9LAogICAgZHJhd1RhcmdldEF0Q2VudGVyOiBmdW5jdGlvbiBkcmF3VGFyZ2V0QXRDZW50ZXIoKSB7CiAgICAgIHZhciByaW5nRGVnT3ZlcnJpZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG51bGw7CiAgICAgIHZhciBjYW52YXMgPSB0aGlzLiRyZWZzLnRyYWplY3RvcnlDYW52YXM7CiAgICAgIGlmICghY2FudmFzKSByZXR1cm47CiAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgdmFyIGN4ID0gTWF0aC5yb3VuZCgodGhpcy5vdmVybGF5TW9kZSA9PT0gJ3dpbmRvd2VkJyA/IHRoaXMuYmFzZUNhbnZhc0xvZ2ljYWxTaXplLndpZHRoIDogY2FudmFzLmNsaWVudFdpZHRoKSAvIDIpOwogICAgICB2YXIgY3kgPSBNYXRoLnJvdW5kKCh0aGlzLm92ZXJsYXlNb2RlID09PSAnd2luZG93ZWQnID8gdGhpcy5iYXNlQ2FudmFzTG9naWNhbFNpemUuaGVpZ2h0IDogY2FudmFzLmNsaWVudEhlaWdodCkgLyAyKTsKICAgICAgY3R4LnNhdmUoKTsgLy8g6buR6Imy6IOM5pmvCgogICAgICBjdHguZmlsbFN0eWxlID0gJ2JsYWNrJzsKICAgICAgdmFyIGJ3ID0gdGhpcy5vdmVybGF5TW9kZSA9PT0gJ3dpbmRvd2VkJyA/IHRoaXMuYmFzZUNhbnZhc0xvZ2ljYWxTaXplLndpZHRoIDogY2FudmFzLmNsaWVudFdpZHRoOwogICAgICB2YXIgYmggPSB0aGlzLm92ZXJsYXlNb2RlID09PSAnd2luZG93ZWQnID8gdGhpcy5iYXNlQ2FudmFzTG9naWNhbFNpemUuaGVpZ2h0IDogY2FudmFzLmNsaWVudEhlaWdodDsKICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIGJ3LCBiaCk7IC8vIOebruagh+eCueeOr++8iOepuuW/g++8iSsg5Lit5b+D5bCP54K5CgogICAgICB2YXIgYmFzZSA9IHRoaXMuYXV0b0ZpdFB4UGVyRGVnIHx8IDQwOwogICAgICB2YXIgc2NhbGVQeFBlckRlZyA9IGJhc2U7CiAgICAgIHZhciByaW5nRGVnID0gcmluZ0RlZ092ZXJyaWRlICE9PSBudWxsID8gcmluZ0RlZ092ZXJyaWRlIDogdGhpcy5nZXRUYXJnZXRSaW5nRGVnKCk7CiAgICAgIHZhciBoYWxmVyA9IGJ3IC8gMjsKICAgICAgdmFyIGhhbGZIID0gYmggLyAyOwogICAgICB2YXIgcGFkID0gMjQ7CiAgICAgIHZhciByTWF4ID0gTWF0aC5tYXgoNiwgTWF0aC5taW4oaGFsZlcgLSBwYWQsIGhhbGZIIC0gcGFkKSk7CiAgICAgIHZhciByUHggPSBNYXRoLm1heCg2LCBNYXRoLm1pbihyTWF4LCByaW5nRGVnICogc2NhbGVQeFBlckRlZykpOyAvLyDnqbrlv4PlnIYKCiAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjNENBRjUwJzsKICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7CiAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgY3R4LmFyYyhjeCwgY3ksIHJQeCwgMCwgTWF0aC5QSSAqIDIpOwogICAgICBjdHguc3Ryb2tlKCk7IC8vIOS4reW/g+Wwj+eCuQoKICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjNENBRjUwJzsKICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICBjdHguYXJjKGN4LCBjeSwgMywgMCwgTWF0aC5QSSAqIDIpOwogICAgICBjdHguZmlsbCgpOwogICAgICBjdHgucmVzdG9yZSgpOwogICAgfSwKICAgIGdldFRhcmdldFJpbmdEZWc6IGZ1bmN0aW9uIGdldFRhcmdldFJpbmdEZWcoKSB7CiAgICAgIC8vIOeOr+Wkp+Wwj+S4jei2hei/h+inhuWcuuWNiuW+hO+8iOWPliBSQS9ERUMg6Leo5bqm55qE6L6D5bCP5LiA5Y2K77yM55WZIDkwJSDovrnot53vvIkKICAgICAgaWYgKCF0aGlzLmZpZWxkRGF0YSkgcmV0dXJuIDAuMzsKICAgICAgdmFyIHJhcyA9IFt0aGlzLmZpZWxkRGF0YS5yYTAsIHRoaXMuZmllbGREYXRhLnJhMSwgdGhpcy5maWVsZERhdGEucmEyLCB0aGlzLmZpZWxkRGF0YS5yYTNdOwogICAgICB2YXIgZGVjcyA9IFt0aGlzLmZpZWxkRGF0YS5kZWMwLCB0aGlzLmZpZWxkRGF0YS5kZWMxLCB0aGlzLmZpZWxkRGF0YS5kZWMyLCB0aGlzLmZpZWxkRGF0YS5kZWMzXTsKICAgICAgdmFyIHJhU3BhbiA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIHJhcykgLSBNYXRoLm1pbi5hcHBseShNYXRoLCByYXMpOwogICAgICB2YXIgZGVjU3BhbiA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIGRlY3MpIC0gTWF0aC5taW4uYXBwbHkoTWF0aCwgZGVjcyk7CiAgICAgIHZhciBoYWxmTWluID0gTWF0aC5tYXgoMC4wMSwgTWF0aC5taW4ocmFTcGFuLCBkZWNTcGFuKSAvIDIpOwogICAgICByZXR1cm4gaGFsZk1pbiAqIDAuOTsKICAgIH0sCiAgICByYURlY1RvQ2FudmFzRGVsdGE6IGZ1bmN0aW9uIHJhRGVjVG9DYW52YXNEZWx0YShyYURlZywgZGVjRGVnKSB7CiAgICAgIC8vIOWwhuebuOWvueebruagh+eCueeahCAozpRSQSwgzpRERUMpIOi9rOaNouS4uueUu+W4g+WDj+e0oOWBj+enu+OAggogICAgICAvLyDkvb/nlKjoh6rpgILlupTlg4/ntKAv5bqm5q+U5L6L77yM5bm25Zyo5YWo5bGP5qih5byP5LiL5YaN5LmY5Lul55So5oi357yp5pS+5Zug5a2Q44CCCiAgICAgIHZhciBiYXNlID0gdGhpcy5hdXRvRml0UHhQZXJEZWcgfHwgNDA7CiAgICAgIHZhciBzY2FsZVB4UGVyRGVnID0gYmFzZTsgLy8g5Zu65a6a57qm5a6a77yaUkEg5aKe5aSn5ZCR5Y+zCgogICAgICB2YXIgZHggPSB0aGlzLm5vcm1hbGl6ZVJhRGVsdGEocmFEZWcpICogc2NhbGVQeFBlckRlZzsKICAgICAgdmFyIGR5ID0gLWRlY0RlZyAqIHNjYWxlUHhQZXJEZWc7CiAgICAgIHJldHVybiB7CiAgICAgICAgZHg6IGR4LAogICAgICAgIGR5OiBkeQogICAgICB9OwogICAgfSwKICAgIG5vcm1hbGl6ZVJhRGVsdGE6IGZ1bmN0aW9uIG5vcm1hbGl6ZVJhRGVsdGEoZGVsdGFEZWcpIHsKICAgICAgLy8g5bCGIFJBIOW3ruWAvOW9kuS4gOWIsCBbLTE4MCwgMTgwKQogICAgICB2YXIgeCA9IGRlbHRhRGVnOwogICAgICB4ID0gKHggKyA1NDApICUgMzYwIC0gMTgwOwogICAgICByZXR1cm4geDsKICAgIH0sCiAgICB1bndyYXBSYURlbHRhU2VxdWVuY2U6IGZ1bmN0aW9uIHVud3JhcFJhRGVsdGFTZXF1ZW5jZShkUmFEZWdMaXN0KSB7CiAgICAgIC8vIOS9v+ebuOmCuyBkUkEg5bqP5YiX5Zyo5pWw5YC85LiK6L+e57ut77yM6YG/5YWN6LeoIDAvMzYwIOWPkeeUn+mVv+i/nue6vwogICAgICBpZiAoIWRSYURlZ0xpc3QgfHwgZFJhRGVnTGlzdC5sZW5ndGggPT09IDApIHJldHVybiBbXTsKICAgICAgdmFyIG91dCA9IFtkUmFEZWdMaXN0WzBdXTsKCiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZFJhRGVnTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBjdXJyID0gZFJhRGVnTGlzdFtpXTsKICAgICAgICB2YXIgcHJldiA9IG91dFtpIC0gMV07CiAgICAgICAgdmFyIGRpZmYgPSBjdXJyIC0gcHJldjsKCiAgICAgICAgd2hpbGUgKGRpZmYgPiAxODApIHsKICAgICAgICAgIGN1cnIgLT0gMzYwOwogICAgICAgICAgZGlmZiA9IGN1cnIgLSBwcmV2OwogICAgICAgIH0KCiAgICAgICAgd2hpbGUgKGRpZmYgPCAtMTgwKSB7CiAgICAgICAgICBjdXJyICs9IDM2MDsKICAgICAgICAgIGRpZmYgPSBjdXJyIC0gcHJldjsKICAgICAgICB9CgogICAgICAgIG91dC5wdXNoKGN1cnIpOwogICAgICB9CgogICAgICByZXR1cm4gb3V0OwogICAgfSwKICAgIGFwcGVuZFRyYWplY3RvcnlQb2ludDogZnVuY3Rpb24gYXBwZW5kVHJhamVjdG9yeVBvaW50KHJhd1JhRGVnLCByYXdEZWNEZWcpIHsKICAgICAgLy8g5bey5L+d55WZ5Lul5YW85a656LCD55So77yM5L2G5b2T5YmN6YeN57uY5L2/55SoIHJlZHJhd1RyYWplY3Rvcnkg6KaG55uW5YWo6YeP57uY5Yi2CiAgICAgIGlmICghdGhpcy50YXJnZXRSYXdQb3NpdGlvbikgcmV0dXJuOwogICAgICB2YXIgY2FudmFzID0gdGhpcy4kcmVmcy50cmFqZWN0b3J5Q2FudmFzOwogICAgICBpZiAoIWNhbnZhcykgcmV0dXJuOwogICAgICB2YXIgY3ggPSBNYXRoLnJvdW5kKCh0aGlzLm92ZXJsYXlNb2RlID09PSAnd2luZG93ZWQnID8gdGhpcy5iYXNlQ2FudmFzTG9naWNhbFNpemUud2lkdGggOiBjYW52YXMuY2xpZW50V2lkdGgpIC8gMik7CiAgICAgIHZhciBjeSA9IE1hdGgucm91bmQoKHRoaXMub3ZlcmxheU1vZGUgPT09ICd3aW5kb3dlZCcgPyB0aGlzLmJhc2VDYW52YXNMb2dpY2FsU2l6ZS5oZWlnaHQgOiBjYW52YXMuY2xpZW50SGVpZ2h0KSAvIDIpOwogICAgICB2YXIgZFJhID0gcmF3UmFEZWcgLSB0aGlzLnRhcmdldFJhd1Bvc2l0aW9uLnJhOwogICAgICB2YXIgZERlYyA9IHJhd0RlY0RlZyAtIHRoaXMudGFyZ2V0UmF3UG9zaXRpb24uZGVjOwoKICAgICAgdmFyIF90aGlzJHJhRGVjVG9DYW52YXNEZSA9IHRoaXMucmFEZWNUb0NhbnZhc0RlbHRhKGRSYSwgZERlYyksCiAgICAgICAgICBkeCA9IF90aGlzJHJhRGVjVG9DYW52YXNEZS5keCwKICAgICAgICAgIGR5ID0gX3RoaXMkcmFEZWNUb0NhbnZhc0RlLmR5OwoKICAgICAgdmFyIHBvaW50ID0gewogICAgICAgIHg6IGN4ICsgZHgsCiAgICAgICAgeTogY3kgKyBkeQogICAgICB9OwogICAgICB0aGlzLnRyYWplY3RvcnlQb2ludHMucHVzaChwb2ludCk7CiAgICAgIHRoaXMuZHJhd1BvaW50KHBvaW50LngsIHBvaW50LnksICcjRkZENTRGJyk7CiAgICB9LAogICAgZHJhd1BvaW50OiBmdW5jdGlvbiBkcmF3UG9pbnQoeCwgeSwgY29sb3IpIHsKICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuJHJlZnMudHJhamVjdG9yeUNhbnZhczsKICAgICAgaWYgKCFjYW52YXMpIHJldHVybjsKICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICBjdHguc2F2ZSgpOwogICAgICBjdHguZmlsbFN0eWxlID0gY29sb3IgfHwgJyMwMEJGRkYnOwogICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgIGN0eC5hcmMoeCwgeSwgMywgMCwgTWF0aC5QSSAqIDIpOwogICAgICBjdHguZmlsbCgpOwogICAgICBjdHgucmVzdG9yZSgpOwogICAgfSwKICAgIGRyYXdBcnJvdzogZnVuY3Rpb24gZHJhd0Fycm93KHgxLCB5MSwgeDIsIHkyLCBjb2xvcikgewogICAgICB2YXIgY2FudmFzID0gdGhpcy4kcmVmcy50cmFqZWN0b3J5Q2FudmFzOwogICAgICBpZiAoIWNhbnZhcykgcmV0dXJuOwogICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgIGN0eC5zYXZlKCk7CiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yIHx8ICcjRkZENTRGJzsKICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yIHx8ICcjRkZENTRGJzsKICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7CiAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgY3R4Lm1vdmVUbyh4MSwgeTEpOwogICAgICBjdHgubGluZVRvKHgyLCB5Mik7CiAgICAgIGN0eC5zdHJva2UoKTsgLy8g566t5aS0CgogICAgICB2YXIgYW5nbGUgPSBNYXRoLmF0YW4yKHkyIC0geTEsIHgyIC0geDEpOwogICAgICB2YXIgaGVhZExlbiA9IDg7CiAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgY3R4Lm1vdmVUbyh4MiwgeTIpOwogICAgICBjdHgubGluZVRvKHgyIC0gaGVhZExlbiAqIE1hdGguY29zKGFuZ2xlIC0gTWF0aC5QSSAvIDYpLCB5MiAtIGhlYWRMZW4gKiBNYXRoLnNpbihhbmdsZSAtIE1hdGguUEkgLyA2KSk7CiAgICAgIGN0eC5saW5lVG8oeDIgLSBoZWFkTGVuICogTWF0aC5jb3MoYW5nbGUgKyBNYXRoLlBJIC8gNiksIHkyIC0gaGVhZExlbiAqIE1hdGguc2luKGFuZ2xlICsgTWF0aC5QSSAvIDYpKTsKICAgICAgY3R4LmxpbmVUbyh4MiwgeTIpOwogICAgICBjdHguZmlsbCgpOwogICAgICBjdHgucmVzdG9yZSgpOwogICAgfSwKICAgIC8vIOeUu+S7juebruagh+WIsOacgOWQjuS4gOauteeahOWegue6v++8iOiZmue6v++8ie+8m+WmguWegui2s+S4jeWcqOauteWGhe+8jOS7heWwhue6v+auteaciemZkOW7tumVv+iHs+WegueCuQogICAgZHJhd1BlcnBlbmRpY3VsYXJBdXhMaW5lOiBmdW5jdGlvbiBkcmF3UGVycGVuZGljdWxhckF1eExpbmUoKSB7CiAgICAgIGlmICghdGhpcy50YXJnZXRSYXdQb3NpdGlvbiB8fCB0aGlzLnJhd1RyYWplY3RvcnlQb2ludHMubGVuZ3RoIDwgMikgcmV0dXJuOyAvLyDkvb/nlKjigJzlhajph4/ov57nu63lsZXlvIDigJ3nmoTmnIDlkI7kuKTngrnvvIzlhYHorrggUkEg6LaF5Ye65bi46KeE6IyD5Zu077yM5L+d6K+B5Yeg5L2V6L+e57utCgogICAgICB2YXIgcGFpciA9IHRoaXMuZ2V0V29ybGRBQkZvclBlcnAoKTsKICAgICAgaWYgKCFwYWlyKSByZXR1cm47CiAgICAgIHZhciBBID0gcGFpci5BLAogICAgICAgICAgQiA9IHBhaXIuQjsKICAgICAgdmFyIE8gPSB7CiAgICAgICAgeDogMCwKICAgICAgICB5OiAwCiAgICAgIH07IC8vIOebruagh+WcqOS4lueVjOWdkOagh+S4uuWOn+eCue+8iOS4jiB3b3JsZEZvclBvaW50L+WxleW8gOS/neaMgeS4gOiHtO+8iQogICAgICAvLyDnur/mrrUgQUIg55qE5ZCR6YeP5LiOIE8g5YiwIEFCIOeahOaKleW9seWPguaVsCB0CgogICAgICB2YXIgdnggPSBCLnggLSBBLng7CiAgICAgIHZhciB2eSA9IEIueSAtIEEueTsKICAgICAgdmFyIGxlbjIgPSB2eCAqIHZ4ICsgdnkgKiB2eTsKICAgICAgaWYgKGxlbjIgPCAxZS05KSByZXR1cm47CiAgICAgIHZhciB0ID0gKChPLnggLSBBLngpICogdnggKyAoTy55IC0gQS55KSAqIHZ5KSAvIGxlbjI7CiAgICAgIHZhciBIeCwgSHksIHNlZ21lbnQ7CgogICAgICBpZiAodCA+PSAwICYmIHQgPD0gMSkgewogICAgICAgIC8vIOWegui2s+WcqOe6v+auteS4igogICAgICAgIEh4ID0gQS54ICsgdCAqIHZ4OwogICAgICAgIEh5ID0gQS55ICsgdCAqIHZ5OyAvLyDlnoLotrPlnKjnur/mrrXkuIrml7bvvIzkuI3lho3nu5jliLbmlbTmrrXvvIzlj6rnlLsgT+KGkkgg55qE5Z6C57q/CgogICAgICAgIHNlZ21lbnQgPSBudWxsOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOWegui2s+WcqOe6v+auteWklu+8muiuoeeul+ecn+ato+eahOWegui2syBI77yM5bm25oqK57q/5q615pydIEgg5pa55ZCR5pyJ6ZmQ5bu26ZW/6IezIEgKICAgICAgICBIeCA9IEEueCArIHQgKiB2eDsKICAgICAgICBIeSA9IEEueSArIHQgKiB2eTsKCiAgICAgICAgaWYgKHQgPCAwKSB7CiAgICAgICAgICBzZWdtZW50ID0gewogICAgICAgICAgICB4MTogSHgsCiAgICAgICAgICAgIHkxOiBIeSwKICAgICAgICAgICAgeDI6IEEueCwKICAgICAgICAgICAgeTI6IEEueQogICAgICAgICAgfTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2VnbWVudCA9IHsKICAgICAgICAgICAgeDE6IEIueCwKICAgICAgICAgICAgeTE6IEIueSwKICAgICAgICAgICAgeDI6IEh4LAogICAgICAgICAgICB5MjogSHkKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9IC8vIOeUu+Wegue6v++8iE8tPkjvvInkuI7vvIjlj6/og73nmoTlu7bplb/vvInnur/mrrXvvIzlnYfkvb/nlKjomZrnur8KCgogICAgICB2YXIgY2FudmFzID0gdGhpcy4kcmVmcy50cmFqZWN0b3J5Q2FudmFzOwogICAgICBpZiAoIWNhbnZhcykgcmV0dXJuOwogICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgIHZhciBPcHggPSB0aGlzLnNjcmVlbkZvcldvcmxkKE8ueCwgTy55KTsKICAgICAgdmFyIEhweCA9IHRoaXMuc2NyZWVuRm9yV29ybGQoSHgsIEh5KTsgLy8gY29uc3QgUzEgPSB0aGlzLnNjcmVlbkZvcldvcmxkKHNlZ21lbnQueDEsIHNlZ21lbnQueTEpCiAgICAgIC8vIGNvbnN0IFMyID0gdGhpcy5zY3JlZW5Gb3JXb3JsZChzZWdtZW50LngyLCBzZWdtZW50LnkyKQoKICAgICAgY3R4LnNhdmUoKTsKICAgICAgY3R4LnNldExpbmVEYXNoKFs2LCA2XSk7CiAgICAgIGN0eC5saW5lV2lkdGggPSAxLjU7CiAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjOUU5RTlFJzsgLy8g5Z6C57q/IE8tSAoKICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICBjdHgubW92ZVRvKE9weC54LCBPcHgueSk7CiAgICAgIGN0eC5saW5lVG8oSHB4LngsIEhweC55KTsKICAgICAgY3R4LnN0cm9rZSgpOyAvLyDlnKjovoXliqnnur/vvIjomZrnur/vvInkuIrnlKjnrq3lpLTmoIfmmI7mlrnlkJHvvJrku44gSCDmjIflkJEgT++8iOaMh+WQkeebruagh++8iQogICAgICAvLyDpgInmi6nnur/mrrXlhoXkuIDngrnkvZzkuLrnrq3lpLTkvY3nva7vvIzpgb/lhY3kuI7nm67moIfnjq/ph43lj6AKCiAgICAgIHZhciB0QXJyb3cgPSAwLjY7CiAgICAgIHZhciBheCA9IEhweC54ICsgKE9weC54IC0gSHB4LngpICogdEFycm93OwogICAgICB2YXIgYXkgPSBIcHgueSArIChPcHgueSAtIEhweC55KSAqIHRBcnJvdzsKICAgICAgdmFyIGFuZyA9IE1hdGguYXRhbjIoT3B4LnkgLSBIcHgueSwgT3B4LnggLSBIcHgueCk7CiAgICAgIHZhciBoZWFkID0gODsKICAgICAgY3R4LnNldExpbmVEYXNoKFtdKTsKICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjOUU5RTlFJzsKICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICBjdHgubW92ZVRvKGF4LCBheSk7CiAgICAgIGN0eC5saW5lVG8oYXggLSBoZWFkICogTWF0aC5jb3MoYW5nIC0gTWF0aC5QSSAvIDYpLCBheSAtIGhlYWQgKiBNYXRoLnNpbihhbmcgLSBNYXRoLlBJIC8gNikpOwogICAgICBjdHgubGluZVRvKGF4IC0gaGVhZCAqIE1hdGguY29zKGFuZyArIE1hdGguUEkgLyA2KSwgYXkgLSBoZWFkICogTWF0aC5zaW4oYW5nICsgTWF0aC5QSSAvIDYpKTsKICAgICAgY3R4LmNsb3NlUGF0aCgpOwogICAgICBjdHguZmlsbCgpOyAvLyDmgaLlpI3omZrnur/moLflvI/vvIznlKjkuo7nu5jliLblu7bplb/mrrUKCiAgICAgIGN0eC5zZXRMaW5lRGFzaChbNiwgNl0pOyAvLyDku4XlvZPlnoLotrPkuI3lnKjmrrXkuIrml7bnu5jliLbigJzlu7bplb/liLDlnoLngrnigJ3nmoTpgqPmrrUKCiAgICAgIGlmIChzZWdtZW50KSB7CiAgICAgICAgdmFyIFMxID0gdGhpcy5zY3JlZW5Gb3JXb3JsZChzZWdtZW50LngxLCBzZWdtZW50LnkxKTsKICAgICAgICB2YXIgUzIgPSB0aGlzLnNjcmVlbkZvcldvcmxkKHNlZ21lbnQueDIsIHNlZ21lbnQueTIpOwogICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICBjdHgubW92ZVRvKFMxLngsIFMxLnkpOwogICAgICAgIGN0eC5saW5lVG8oUzIueCwgUzIueSk7CiAgICAgICAgY3R4LnN0cm9rZSgpOyAvLyDlnKjlu7bplb/mrrXkuIrkuZ/moIfms6jkuIDkuKrmnJ3lkJHigJzlnoLotrMgSOKAneeahOWwj+eureWktAoKICAgICAgICB2YXIgZXhTdGFydCA9IHQgPCAwID8gewogICAgICAgICAgeDogQS54LAogICAgICAgICAgeTogQS55CiAgICAgICAgfSA6IHsKICAgICAgICAgIHg6IEIueCwKICAgICAgICAgIHk6IEIueQogICAgICAgIH07CiAgICAgICAgdmFyIGV4RW5kID0gewogICAgICAgICAgeDogSHgsCiAgICAgICAgICB5OiBIeQogICAgICAgIH07CiAgICAgICAgdmFyIEVTID0gdGhpcy5zY3JlZW5Gb3JXb3JsZChleFN0YXJ0LngsIGV4U3RhcnQueSk7CiAgICAgICAgdmFyIEVFID0gdGhpcy5zY3JlZW5Gb3JXb3JsZChleEVuZC54LCBleEVuZC55KTsKICAgICAgICB2YXIgZXhkeCA9IEVFLnggLSBFUy54OwogICAgICAgIHZhciBleGR5ID0gRUUueSAtIEVTLnk7CiAgICAgICAgdmFyIGV4TGVuMiA9IGV4ZHggKiBleGR4ICsgZXhkeSAqIGV4ZHk7CgogICAgICAgIGlmIChleExlbjIgPiAxKSB7CiAgICAgICAgICB2YXIgdEV4ID0gMC41OwogICAgICAgICAgdmFyIGVheCA9IEVTLnggKyBleGR4ICogdEV4OwogICAgICAgICAgdmFyIGVheSA9IEVTLnkgKyBleGR5ICogdEV4OwogICAgICAgICAgdmFyIGVhbmcgPSBNYXRoLmF0YW4yKGV4ZHksIGV4ZHgpOwogICAgICAgICAgY3R4LnNldExpbmVEYXNoKFtdKTsKICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgICAgIGN0eC5tb3ZlVG8oZWF4LCBlYXkpOwogICAgICAgICAgY3R4LmxpbmVUbyhlYXggLSBoZWFkICogTWF0aC5jb3MoZWFuZyAtIE1hdGguUEkgLyA2KSwgZWF5IC0gaGVhZCAqIE1hdGguc2luKGVhbmcgLSBNYXRoLlBJIC8gNikpOwogICAgICAgICAgY3R4LmxpbmVUbyhlYXggLSBoZWFkICogTWF0aC5jb3MoZWFuZyArIE1hdGguUEkgLyA2KSwgZWF5IC0gaGVhZCAqIE1hdGguc2luKGVhbmcgKyBNYXRoLlBJIC8gNikpOwogICAgICAgICAgY3R4LmNsb3NlUGF0aCgpOwogICAgICAgICAgY3R4LmZpbGwoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGN0eC5yZXN0b3JlKCk7CiAgICB9LAogICAgY29tcHV0ZUF1dG9GaXRTY2FsZTogZnVuY3Rpb24gY29tcHV0ZUF1dG9GaXRTY2FsZSgpIHsKICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuJHJlZnMudHJhamVjdG9yeUNhbnZhczsKICAgICAgaWYgKCFjYW52YXMgfHwgIXRoaXMudGFyZ2V0UmF3UG9zaXRpb24pIHJldHVybiA0MDsKICAgICAgdmFyIGN4ID0gdGhpcy50YXJnZXRSYXdQb3NpdGlvbi5yYTsKICAgICAgdmFyIGN5ID0gdGhpcy50YXJnZXRSYXdQb3NpdGlvbi5kZWM7CiAgICAgIHZhciBtYXhEeCA9IDAsCiAgICAgICAgICBtYXhEeSA9IDA7IC8vIOWOhuWPsueCuQoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJhd1RyYWplY3RvcnlQb2ludHMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgcCA9IHRoaXMucmF3VHJhamVjdG9yeVBvaW50c1tpXTsKICAgICAgICBtYXhEeCA9IE1hdGgubWF4KG1heER4LCBNYXRoLmFicyh0aGlzLm5vcm1hbGl6ZVJhRGVsdGEocC5yYSAtIGN4KSkpOwogICAgICAgIG1heER5ID0gTWF0aC5tYXgobWF4RHksIE1hdGguYWJzKHAuZGVjIC0gY3kpKTsKICAgICAgfSAvLyDnm67moIfnjq/ljYrlvoTvvIjnoa7kv53njq/kuI3kvJrpobbovrnvvIkKCgogICAgICB2YXIgcmluZ0RlZyA9IHRoaXMuZ2V0VGFyZ2V0UmluZ0RlZygpOwogICAgICBtYXhEeCA9IE1hdGgubWF4KG1heER4LCByaW5nRGVnKTsKICAgICAgbWF4RHkgPSBNYXRoLm1heChtYXhEeSwgcmluZ0RlZyk7IC8vIOWFqOWxj+aXtue6s+WFpeinhuWcuuinkueCueS7pemAgumFjeinhuWcuuahhu+8m+eql+WPo+aooeW8j+S4jee6s+WFpQoKICAgICAgaWYgKHRoaXMub3ZlcmxheU1vZGUgPT09ICdmdWxsc2NyZWVuJykgewogICAgICAgIGlmICh0aGlzLmZpZWxkRGF0YSAmJiBOdW1iZXIuaXNGaW5pdGUodGhpcy5maWVsZERhdGEucmEwKSkgewogICAgICAgICAgdmFyIGNvcm5lcnMgPSBbewogICAgICAgICAgICByYTogdGhpcy5maWVsZERhdGEucmEwLAogICAgICAgICAgICBkZWM6IHRoaXMuZmllbGREYXRhLmRlYzAKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgcmE6IHRoaXMuZmllbGREYXRhLnJhMSwKICAgICAgICAgICAgZGVjOiB0aGlzLmZpZWxkRGF0YS5kZWMxCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHJhOiB0aGlzLmZpZWxkRGF0YS5yYTIsCiAgICAgICAgICAgIGRlYzogdGhpcy5maWVsZERhdGEuZGVjMgogICAgICAgICAgfSwgewogICAgICAgICAgICByYTogdGhpcy5maWVsZERhdGEucmEzLAogICAgICAgICAgICBkZWM6IHRoaXMuZmllbGREYXRhLmRlYzMKICAgICAgICAgIH1dOwoKICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2Nvcm5lcnMgPSBjb3JuZXJzOyBfaSA8IF9jb3JuZXJzLmxlbmd0aDsgX2krKykgewogICAgICAgICAgICB2YXIgYyA9IF9jb3JuZXJzW19pXTsKICAgICAgICAgICAgbWF4RHggPSBNYXRoLm1heChtYXhEeCwgTWF0aC5hYnModGhpcy5ub3JtYWxpemVSYURlbHRhKGMucmEgLSBjeCkpKTsKICAgICAgICAgICAgbWF4RHkgPSBNYXRoLm1heChtYXhEeSwgTWF0aC5hYnMoYy5kZWMgLSBjeSkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKG1heER4ID09PSAwICYmIG1heER5ID09PSAwKSByZXR1cm4gNDA7CiAgICAgIHZhciB3ID0gdGhpcy5vdmVybGF5TW9kZSA9PT0gJ3dpbmRvd2VkJyA/IHRoaXMuYmFzZUNhbnZhc0xvZ2ljYWxTaXplLndpZHRoIDogY2FudmFzLmNsaWVudFdpZHRoOwogICAgICB2YXIgaCA9IHRoaXMub3ZlcmxheU1vZGUgPT09ICd3aW5kb3dlZCcgPyB0aGlzLmJhc2VDYW52YXNMb2dpY2FsU2l6ZS5oZWlnaHQgOiBjYW52YXMuY2xpZW50SGVpZ2h0OyAvLyDlm7rlrprlg4/ntKDlhoXovrnot53vvIzogIPomZHnrq3lpLTplb/luqbvvIg4cHjvvInkuI7ngrnljYrlvoTvvIg0cHjvvIkKCiAgICAgIHZhciBhcnJvd0hlYWQgPSA4LAogICAgICAgICAgcG9pbnRSID0gNDsKICAgICAgdmFyIHBpeGVsUGFkZGluZyA9IDMyICsgYXJyb3dIZWFkICsgcG9pbnRSOwogICAgICB2YXIgaGFsZlcgPSBNYXRoLm1heCg2MCwgdyAvIDIgLSBwaXhlbFBhZGRpbmcpOwogICAgICB2YXIgaGFsZkggPSBNYXRoLm1heCg1MCwgaCAvIDIgLSBwaXhlbFBhZGRpbmcpOyAvLyDorqnmnIDov5zngrnokL3lnKjkuK3lv4PliLDovrnnlYzot53nprvnmoQgODAlIOWkhO+8iOeVmei2s+WPr+inhuS9memHj++8iQoKICAgICAgdmFyIG1hcmdpbiA9IDAuODsKICAgICAgdmFyIHNjYWxlID0gTWF0aC5tYXgoNSwgTWF0aC5taW4oaGFsZlcgKiBtYXJnaW4gLyAobWF4RHggfHwgMWUtNiksIGhhbGZIICogbWFyZ2luIC8gKG1heER5IHx8IDFlLTYpKSk7IC8vIOS6jOasoeagoemqjO+8muaMieivpeavlOS+i+i9rOaNouS4gOasoe+8jOehruS/neehruWunuacqui2iueVjO+8jOWmgui2iueVjOWGjee8qeWwj+avlOS+iwoKICAgICAgdmFyIHBhZCA9IHBpeGVsUGFkZGluZzsKICAgICAgdmFyIGN4UHggPSB3IC8gMiwKICAgICAgICAgIGN5UHggPSBoIC8gMjsKICAgICAgdmFyIG1heEFic1B4WCA9IDAsCiAgICAgICAgICBtYXhBYnNQeFkgPSAwOwogICAgICB2YXIgY29sbGVjdCA9IFtdOwoKICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgdGhpcy5yYXdUcmFqZWN0b3J5UG9pbnRzLmxlbmd0aDsgX2kyKyspIHsKICAgICAgICBjb2xsZWN0LnB1c2godGhpcy5yYXdUcmFqZWN0b3J5UG9pbnRzW19pMl0pOwogICAgICB9CgogICAgICBpZiAodGhpcy5vdmVybGF5TW9kZSA9PT0gJ2Z1bGxzY3JlZW4nICYmIHRoaXMuZmllbGREYXRhICYmIE51bWJlci5pc0Zpbml0ZSh0aGlzLmZpZWxkRGF0YS5yYTApKSB7CiAgICAgICAgY29sbGVjdC5wdXNoKHsKICAgICAgICAgIHJhOiB0aGlzLmZpZWxkRGF0YS5yYTAsCiAgICAgICAgICBkZWM6IHRoaXMuZmllbGREYXRhLmRlYzAKICAgICAgICB9KTsKICAgICAgICBjb2xsZWN0LnB1c2goewogICAgICAgICAgcmE6IHRoaXMuZmllbGREYXRhLnJhMSwKICAgICAgICAgIGRlYzogdGhpcy5maWVsZERhdGEuZGVjMQogICAgICAgIH0pOwogICAgICAgIGNvbGxlY3QucHVzaCh7CiAgICAgICAgICByYTogdGhpcy5maWVsZERhdGEucmEyLAogICAgICAgICAgZGVjOiB0aGlzLmZpZWxkRGF0YS5kZWMyCiAgICAgICAgfSk7CiAgICAgICAgY29sbGVjdC5wdXNoKHsKICAgICAgICAgIHJhOiB0aGlzLmZpZWxkRGF0YS5yYTMsCiAgICAgICAgICBkZWM6IHRoaXMuZmllbGREYXRhLmRlYzMKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgZm9yICh2YXIgX2kzID0gMCwgX2NvbGxlY3QgPSBjb2xsZWN0OyBfaTMgPCBfY29sbGVjdC5sZW5ndGg7IF9pMysrKSB7CiAgICAgICAgdmFyIF9wID0gX2NvbGxlY3RbX2kzXTsKICAgICAgICB2YXIgZHhEZWcgPSB0aGlzLm5vcm1hbGl6ZVJhRGVsdGEoX3AucmEgLSBjeCk7CiAgICAgICAgdmFyIGR5RGVnID0gX3AuZGVjIC0gY3k7CiAgICAgICAgbWF4QWJzUHhYID0gTWF0aC5tYXgobWF4QWJzUHhYLCBNYXRoLmFicyhkeERlZyAqIHNjYWxlKSk7CiAgICAgICAgbWF4QWJzUHhZID0gTWF0aC5tYXgobWF4QWJzUHhZLCBNYXRoLmFicyhkeURlZyAqIHNjYWxlKSk7CiAgICAgIH0KCiAgICAgIHZhciBhbGxvd2VkWCA9IGhhbGZXIC0gcGFkOwogICAgICB2YXIgYWxsb3dlZFkgPSBoYWxmSCAtIHBhZDsKICAgICAgdmFyIGFkaiA9IE1hdGgubWluKDEsIGFsbG93ZWRYIC8gKG1heEFic1B4WCB8fCAxZS02KSwgYWxsb3dlZFkgLyAobWF4QWJzUHhZIHx8IDFlLTYpKTsKICAgICAgc2NhbGUgKj0gYWRqOwogICAgICByZXR1cm4gc2NhbGU7CiAgICB9LAogICAgcmVkcmF3VHJhamVjdG9yeTogZnVuY3Rpb24gcmVkcmF3VHJhamVjdG9yeSgpIHsKICAgICAgaWYgKCF0aGlzLnNob3dUcmFqZWN0b3J5T3ZlcmxheSB8fCAhdGhpcy50YXJnZXRSYXdQb3NpdGlvbikgcmV0dXJuOwogICAgICB0aGlzLmluaXRUcmFqZWN0b3J5Q2FudmFzKCk7CiAgICAgIHZhciBjYW52YXMgPSB0aGlzLiRyZWZzLnRyYWplY3RvcnlDYW52YXM7CiAgICAgIGlmICghY2FudmFzKSByZXR1cm47CiAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsgLy8g6aKE5YWI5bCG5omA5pyJ54K56L2s5o2i5Yiw5LiW55WM5Z2Q5qCH77yM5bm25Yid5aeL5YyW5pig5bCECgogICAgICB2YXIgcmF3QWxsID0gdGhpcy5yYXdUcmFqZWN0b3J5UG9pbnRzOyAvLyDkvb/nlKjlhajph4/ngrnluo/liJfliJ3lp4vljJYv5omp5bGV6KeG5Zu+5pig5bCE77yM56Gu5L+d6LeoIDAvMzYwIOaXtuWxleW8gOaWueWQkeS4gOiHtAoKICAgICAgdmFyIGVuc3VyZVJhdyA9IHJhd0FsbDsKICAgICAgdmFyIHdvcmxkU2VxID0gdGhpcy5tYWtlV29ybGRTZXEoZW5zdXJlUmF3KTsKICAgICAgdGhpcy5lbnN1cmVWaWV3TWFwcGluZ0luaXRpYWxpemVkKHdvcmxkU2VxKTsgLy8g6YCJ5oup57uY5Yi255qE5pWw5o2u6ZuG77ya5YWo5bGPPeWFqOmDqO+8m+eql+WPoz3mnIDmlrDkuInkuKrvvIzkvYbkv53mjIHlsZXlvIDplJrngrnnqLPlrpoKCiAgICAgIHZhciByYXcgPSB0aGlzLm92ZXJsYXlNb2RlID09PSAnd2luZG93ZWQnID8gcmF3QWxsLnNsaWNlKC0zKSA6IHJhd0FsbDsKICAgICAgdmFyIHdvcmxkID0gdGhpcy5tYWtlV29ybGRTZXEocmF3KTsgLy8g5YWI6LWw5LiA6YGN5pu05paw5q+U5L6LL+i+ueeVjO+8jOS4jee7mOWItu+8jOehruS/neS4i+a4uOWbvuWFg+WdkOagh+ezu+S4gOiHtAoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3b3JsZC5sZW5ndGg7IGkrKykgewogICAgICAgIHRoaXMubWF5YmVFeHBhbmRWaWV3Rm9yUG9pbnQod29ybGRbaV0ueCwgd29ybGRbaV0ueSk7CiAgICAgIH0gLy8g5YaN57uY6IOM5pmvL+ebruagh+eOrwoKCiAgICAgIHRoaXMuZHJhd1RhcmdldE1hcmtlcigpOyAvLyDnu5jliLbovajov7kKCiAgICAgIHRoaXMudHJhamVjdG9yeVBvaW50cyA9IFtdOwogICAgICB2YXIgcHJldlB0ID0gbnVsbDsKCiAgICAgIGZvciAodmFyIF9pNCA9IDA7IF9pNCA8IHdvcmxkLmxlbmd0aDsgX2k0KyspIHsKICAgICAgICB2YXIgc3B0ID0gdGhpcy5zY3JlZW5Gb3JXb3JsZCh3b3JsZFtfaTRdLngsIHdvcmxkW19pNF0ueSk7CiAgICAgICAgdmFyIHB4ID0gc3B0Lng7CiAgICAgICAgdmFyIHB5ID0gc3B0Lnk7CiAgICAgICAgdmFyIGlzTGFzdCA9IF9pNCA9PT0gcmF3Lmxlbmd0aCAtIDE7CgogICAgICAgIGlmICghaXNMYXN0KSB7CiAgICAgICAgICB0aGlzLmRyYXdQb2ludChweCwgcHksICcjRkZENTRGJyk7CiAgICAgICAgICBpZiAocHJldlB0KSB0aGlzLmRyYXdBcnJvdyhwcmV2UHQueCwgcHJldlB0LnksIHB4LCBweSwgJyNGRkQ1NEYnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHRoaXMub3ZlcmxheU1vZGUgPT09ICdmdWxsc2NyZWVuJykgewogICAgICAgICAgICB0aGlzLmRyYXdQb2ludChweCwgcHksICcjMDBCRkZGJyk7CiAgICAgICAgICAgIHRoaXMuZHJhd0N1cnJlbnRGb1YoJyMwMEJGRkYnLCAwLjMpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5kcmF3SG9sbG93Q2lyY2xlKHB4LCBweSwgOCwgJyMwMEJGRkYnLCAyKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAocHJldlB0KSB0aGlzLmRyYXdBcnJvdyhwcmV2UHQueCwgcHJldlB0LnksIHB4LCBweSwgJyNGRkQ1NEYnKTsKICAgICAgICB9CgogICAgICAgIHByZXZQdCA9IHsKICAgICAgICAgIHg6IHB4LAogICAgICAgICAgeTogcHkKICAgICAgICB9OwogICAgICAgIHRoaXMudHJhamVjdG9yeVBvaW50cy5wdXNoKHsKICAgICAgICAgIHg6IHB4LAogICAgICAgICAgeTogcHkKICAgICAgICB9KTsKICAgICAgfSAvLyDovoXliqnvvJrnm67moIfliLDmnIDlkI7mrrXnmoTlnoLnur/vvIjomZrnur/vvIkKCgogICAgICB0aGlzLmRyYXdQZXJwZW5kaWN1bGFyQXV4TGluZSgpOwogICAgfSwKICAgIGRyYXdIb2xsb3dDaXJjbGU6IGZ1bmN0aW9uIGRyYXdIb2xsb3dDaXJjbGUoeCwgeSkgewogICAgICB2YXIgciA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogODsKICAgICAgdmFyIGNvbG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAnI0ZGRkZGRic7CiAgICAgIHZhciBsaW5lV2lkdGggPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IDI7CiAgICAgIHZhciBjYW52YXMgPSB0aGlzLiRyZWZzLnRyYWplY3RvcnlDYW52YXM7CiAgICAgIGlmICghY2FudmFzKSByZXR1cm47CiAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgY3R4LnNhdmUoKTsKICAgICAgY3R4LnN0cm9rZVN0eWxlID0gY29sb3I7CiAgICAgIGN0eC5saW5lV2lkdGggPSBsaW5lV2lkdGg7CiAgICAgIGN0eC5iZWdpblBhdGgoKTsKICAgICAgY3R4LmFyYyh4LCB5LCByLCAwLCBNYXRoLlBJICogMik7CiAgICAgIGN0eC5zdHJva2UoKTsKICAgICAgY3R4LnJlc3RvcmUoKTsKICAgIH0sCiAgICBkcmF3Q3VycmVudEZvVjogZnVuY3Rpb24gZHJhd0N1cnJlbnRGb1YoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgdmFyIGNvbG9yID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnIzAwQkZGRic7CiAgICAgIHZhciBmaWxsT3BhY2l0eSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMC4yNTsKICAgICAgaWYgKCF0aGlzLmZpZWxkRGF0YSB8fCAhdGhpcy50YXJnZXRSYXdQb3NpdGlvbikgcmV0dXJuOwogICAgICB2YXIgY2FudmFzID0gdGhpcy4kcmVmcy50cmFqZWN0b3J5Q2FudmFzOwogICAgICBpZiAoIWNhbnZhcykgcmV0dXJuOwogICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgIHZhciBjb3JuZXJzID0gW3sKICAgICAgICByYTogdGhpcy5maWVsZERhdGEucmEwLAogICAgICAgIGRlYzogdGhpcy5maWVsZERhdGEuZGVjMAogICAgICB9LCB7CiAgICAgICAgcmE6IHRoaXMuZmllbGREYXRhLnJhMSwKICAgICAgICBkZWM6IHRoaXMuZmllbGREYXRhLmRlYzEKICAgICAgfSwgewogICAgICAgIHJhOiB0aGlzLmZpZWxkRGF0YS5yYTIsCiAgICAgICAgZGVjOiB0aGlzLmZpZWxkRGF0YS5kZWMyCiAgICAgIH0sIHsKICAgICAgICByYTogdGhpcy5maWVsZERhdGEucmEzLAogICAgICAgIGRlYzogdGhpcy5maWVsZERhdGEuZGVjMwogICAgICB9XTsgLy8g5L6d5o2u4oCc5bGV5byA6ZSa54K5IHJhVW53cmFwQW5jaG9y4oCd5Yaz5a6a5bGV5byA5pa55ZCR77yM6YG/5YWN5YiH5o2i5qih5byP5pe25pyd5ZCR5Y+N6L2sCgogICAgICB2YXIgYW5jaG9yID0gdGhpcy5yYVVud3JhcEFuY2hvciAhPSBudWxsID8gdGhpcy5yYVVud3JhcEFuY2hvciA+PSAwID8gMSA6IC0xIDogMTsKICAgICAgdmFyIHB0cyA9IGNvcm5lcnMubWFwKGZ1bmN0aW9uIChjLCBpKSB7CiAgICAgICAgLy8g5YWI5Y+W5LiW55WM5Z2Q5qCH77yM5YaN5ZyoIFgg5pa55ZCR5oyJIGxhc3RTaWRlIOmAieaLqeacgOS4tOi/keWxleW8gAogICAgICAgIHZhciB3cHQgPSBfdGhpczkud29ybGRGb3JQb2ludChjLnJhLCBjLmRlYyk7IC8vIOWmguaenOS4jiBsYXN0U2lkZSDnm7jlj43kuJTkuKTkvqfnrYnku7fvvIzpgInmi6kgbGFzdFNpZGUg5pa55ZCR55qE562J5pWI54K5CgoKICAgICAgICB2YXIgd3ggPSB3cHQueDsKICAgICAgICBpZiAoYW5jaG9yID4gMCAmJiB3eCA8IDApIHd4ICs9IE1hdGguY2VpbCgtd3ggLyAzNjApICogMzYwOwogICAgICAgIGlmIChhbmNob3IgPCAwICYmIHd4ID4gMCkgd3ggLT0gTWF0aC5jZWlsKHd4IC8gMzYwKSAqIDM2MDsKICAgICAgICByZXR1cm4gX3RoaXM5LnNjcmVlbkZvcldvcmxkKHd4LCB3cHQueSk7CiAgICAgIH0pOwogICAgICBpZiAocHRzLmxlbmd0aCAhPT0gNCkgcmV0dXJuOwogICAgICBjdHguc2F2ZSgpOwogICAgICBjdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjsKICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yOwogICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxOwogICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgIGN0eC5tb3ZlVG8ocHRzWzBdLngsIHB0c1swXS55KTsKCiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgcHRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY3R4LmxpbmVUbyhwdHNbaV0ueCwgcHRzW2ldLnkpOwogICAgICB9CgogICAgICBjdHguY2xvc2VQYXRoKCk7CiAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDE7CiAgICAgIGN0eC5zdHJva2UoKTsKICAgICAgY3R4Lmdsb2JhbEFscGhhID0gZmlsbE9wYWNpdHk7CiAgICAgIGN0eC5maWxsKCk7CiAgICAgIGN0eC5yZXN0b3JlKCk7CiAgICB9LAogICAgcmVzZXRDYWxpYnJhdGlvbjogZnVuY3Rpb24gcmVzZXRDYWxpYnJhdGlvbigpIHsKICAgICAgLy8g5L2/55So57uf5LiA55qE5YaF5a2Y5riF55CG5pa55rOVCiAgICAgIHRoaXMuY2xlYXJDYWNoZWREYXRhKCk7CiAgICAgIHRoaXMuYWRkTG9nKHRoaXMuJHQoJ0NhbGlicmF0aW9uIERhdGEgUmVzZXQnKSwgJ2luZm8nKTsgLy8gdGhpcy4kYnVzLiRlbWl0KCdBcHBTZW5kTWVzc2FnZScsICdWdWVfQ29tbWFuZCcsICdSZXNldEF1dG9Qb2xhckFsaWdubWVudCcpCgogICAgICB0aGlzLiRidXMuJGVtaXQoJ0NsZWFyQ2FsaWJyYXRpb25Qb2ludHMnKTsKICAgICAgdGhpcy4kYnVzLiRlbWl0KCdDbGVhclN0YXR1c1RleHRGcm9tU3Rhck1hcCcpOyAvLyDmuIXnqbrovajov7kKCiAgICAgIHRoaXMucmF3VHJhamVjdG9yeVBvaW50cyA9IFtdOwogICAgICB0aGlzLnRyYWplY3RvcnlQb2ludHMgPSBbXTsKICAgICAgdGhpcy5sYXN0UmF3UG9zaXRpb24gPSBudWxsOwogICAgICB0aGlzLnRhcmdldFJhd1Bvc2l0aW9uID0gbnVsbDsKICAgIH0sCiAgICByZXN0b3JlQ2FsaWJyYXRpb246IGZ1bmN0aW9uIHJlc3RvcmVDYWxpYnJhdGlvbigpIHsKICAgICAgdGhpcy5hZGRMb2codGhpcy4kdCgnQ2FsaWJyYXRpb24gRGF0YSBSZXN0b3JlZCcpLCAnc3VjY2VzcycpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ1Jlc3RvcmVBdXRvUG9sYXJBbGlnbm1lbnQnKTsKICAgIH0sCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyDmoKHlh4bmjqfliLbmlrnms5UKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIHN0YXJ0QXV0b0NhbGlicmF0aW9uOiBmdW5jdGlvbiBzdGFydEF1dG9DYWxpYnJhdGlvbigpIHsKICAgICAgaWYgKCF0aGlzLmlzQ29ubmVjdGVkKSB7CiAgICAgICAgdGhpcy5hZGRMb2codGhpcy4kdCgnRXJyb3I6IE1vdW50IE5vdCBDb25uZWN0ZWQnKSwgJ2Vycm9yJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5pc0NhbGlicmF0aW9uUnVubmluZykgewogICAgICAgIHRoaXMuc3RvcEF1dG9DYWxpYnJhdGlvbigpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5pc0NhbGlicmF0aW9uUnVubmluZyA9IHRydWU7CiAgICAgIHRoaXMucmVzZXRDYWxpYnJhdGlvbigpOwogICAgICB0aGlzLmFkZExvZyh0aGlzLiR0KCdTdGFydGluZyBBdXRvIENhbGlicmF0aW9uJyksICdpbmZvJyk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQXBwU2VuZE1lc3NhZ2UnLCAnVnVlX0NvbW1hbmQnLCAnU3RhcnRBdXRvUG9sYXJBbGlnbm1lbnQnKTsKICAgIH0sCiAgICBzdG9wQXV0b0NhbGlicmF0aW9uOiBmdW5jdGlvbiBzdG9wQXV0b0NhbGlicmF0aW9uKCkgewogICAgICB0aGlzLmlzQ2FsaWJyYXRpb25SdW5uaW5nID0gZmFsc2U7CiAgICAgIHRoaXMuYWRkTG9nKHRoaXMuJHQoJ0F1dG8gQ2FsaWJyYXRpb24gU3RvcHBlZCcpLCAnd2FybmluZycpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0FwcFNlbmRNZXNzYWdlJywgJ1Z1ZV9Db21tYW5kJywgJ1N0b3BBdXRvUG9sYXJBbGlnbm1lbnQnKTsKICAgIH0sCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyDop4blnLrmlbDmja7lpITnkIbmlrnms5UKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIHVwZGF0ZUZpZWxkRGF0YTogZnVuY3Rpb24gdXBkYXRlRmllbGREYXRhKGRhdGEpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgaWYgKGRhdGEgJiYgQXJyYXkuaXNBcnJheShkYXRhKSAmJiBkYXRhLmxlbmd0aCA+PSAxMikgewogICAgICAgIC8vIOS/ruaUuemVv+W6puajgOafpe+8jOehruS/neWMheWQq+WBh+aegei9tOaVsOaNrgogICAgICAgIHZhciBpc1ZhbGlkRGF0YSA9IGRhdGEuZXZlcnkoZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdudW1iZXInICYmICFpc05hTih2YWwpOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoIWlzVmFsaWREYXRhKSB7CiAgICAgICAgICB0aGlzLmFkZExvZyh0aGlzLiR0KCdXYXJuaW5nOiBJbnZhbGlkIEZpZWxkIERhdGEgUmVjZWl2ZWQnKSwgJ3dhcm5pbmcnKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHRoaXMuZmllbGREYXRhID0gewogICAgICAgICAgcmE6IGRhdGFbMF0sCiAgICAgICAgICBkZWM6IGRhdGFbMV0sCiAgICAgICAgICByYTA6IGRhdGFbMl0sCiAgICAgICAgICBkZWMwOiBkYXRhWzNdLAogICAgICAgICAgcmExOiBkYXRhWzRdLAogICAgICAgICAgZGVjMTogZGF0YVs1XSwKICAgICAgICAgIHJhMjogZGF0YVs2XSwKICAgICAgICAgIGRlYzI6IGRhdGFbN10sCiAgICAgICAgICByYTM6IGRhdGFbOF0sCiAgICAgICAgICBkZWMzOiBkYXRhWzldLAogICAgICAgICAgdGFyZ2V0cmE6IGRhdGFbMTBdLAogICAgICAgICAgdGFyZ2V0ZGVjOiBkYXRhWzExXSwKICAgICAgICAgIGZha2VQb2xhclJBOiBkYXRhWzEyXSwKICAgICAgICAgIGZha2VQb2xhckRFQzogZGF0YVsxM10sCiAgICAgICAgICByZWFsUG9sYXJSQTogZGF0YVsxNF0sCiAgICAgICAgICByZWFsUG9sYXJERUM6IGRhdGFbMTVdCiAgICAgICAgfTsgLy8g5L+d5a2Y5LiK5LiA5qyh5L2N572u77yI5Zyo5pu05paw5b2T5YmN5L2N572u5LmL5YmN77yJCgogICAgICAgIGlmICh0aGlzLmN1cnJlbnRQb3NpdGlvbi5yYSAhPT0gJzAwaCAwMG0gMDBzJykgewogICAgICAgICAgdGhpcy5wcmV2aW91c1Bvc2l0aW9uID0gX29iamVjdFNwcmVhZCh7fSwgdGhpcy5jdXJyZW50UG9zaXRpb24pOwogICAgICAgIH0gLy8g5pu05paw5b2T5YmN5L2N572uCgoKICAgICAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbiA9IHsKICAgICAgICAgIHJhOiB0aGlzLmZvcm1hdENvb3JkaW5hdGUoZGF0YVswXSwgJ3JhJyksCiAgICAgICAgICBkZWM6IHRoaXMuZm9ybWF0Q29vcmRpbmF0ZShkYXRhWzFdLCAnZGVjJykKICAgICAgICB9OyAvLyA9PT0g6L2o6L+56YC76L6R5oyC5o6lID09PQogICAgICAgIC8vIOS9v+eUqOWOn+Wni+inkuW6pu+8iOWBh+iuviBkYXRhWzBdLCBkYXRhWzFdLCBkYXRhWzEwXSwgZGF0YVsxMV0g5Li65bqm5Y2V5L2N77yJCgogICAgICAgIHZhciByYXdSYSA9IGRhdGFbMF07CiAgICAgICAgdmFyIHJhd0RlYyA9IGRhdGFbMV07IC8vIOWcqOi/m+WFpeiwg+aVtOmYtuaute+8iOebruagh+aPkOS+m++8ieaXtuWbuuWumuebruagh+eCue+8m+WQpuWImeS4jee7mOWItgoKICAgICAgICBpZiAoZGF0YVsxMF0gIT09IC0xICYmIGRhdGFbMTFdICE9PSAtMSkgewogICAgICAgICAgaWYgKCF0aGlzLnRhcmdldFJhd1Bvc2l0aW9uIHx8IHRoaXMudGFyZ2V0UmF3UG9zaXRpb24ucmEgIT09IGRhdGFbMTBdIHx8IHRoaXMudGFyZ2V0UmF3UG9zaXRpb24uZGVjICE9PSBkYXRhWzExXSkgewogICAgICAgICAgICB0aGlzLnRhcmdldFJhd1Bvc2l0aW9uID0gewogICAgICAgICAgICAgIHJhOiBkYXRhWzEwXSwKICAgICAgICAgICAgICBkZWM6IGRhdGFbMTFdCiAgICAgICAgICAgIH07IC8vIOmHjee7mOS7peebruagh+eCueS4uuS4reW/gwoKICAgICAgICAgICAgaWYgKHRoaXMuc2hvd1RyYWplY3RvcnlPdmVybGF5KSB0aGlzLnJlZHJhd1RyYWplY3RvcnkoKTsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgcG9zQ2hhbmdlZCA9ICF0aGlzLmxhc3RSYXdQb3NpdGlvbiB8fCB0aGlzLmxhc3RSYXdQb3NpdGlvbi5yYSAhPT0gcmF3UmEgfHwgdGhpcy5sYXN0UmF3UG9zaXRpb24uZGVjICE9PSByYXdEZWM7CgogICAgICAgICAgaWYgKHBvc0NoYW5nZWQpIHsKICAgICAgICAgICAgdGhpcy5yYXdUcmFqZWN0b3J5UG9pbnRzLnB1c2goewogICAgICAgICAgICAgIHJhOiByYXdSYSwKICAgICAgICAgICAgICBkZWM6IHJhd0RlYwogICAgICAgICAgICB9KTsgLy8g5pS55Li65YWo6YeP6YeN57uY77yI56Gu5L+d6Ieq6YCC5bqU5q+U5L6L5YyF5ZCr5omA5pyJ54K544CB5bm257uY5Yi26KeG5Zy65qGG77yJCgogICAgICAgICAgICBpZiAodGhpcy5zaG93VHJhamVjdG9yeU92ZXJsYXkpIHRoaXMucmVkcmF3VHJhamVjdG9yeSgpOwogICAgICAgICAgICB0aGlzLmxhc3RSYXdQb3NpdGlvbiA9IHsKICAgICAgICAgICAgICByYTogcmF3UmEsCiAgICAgICAgICAgICAgZGVjOiByYXdEZWMKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChkYXRhWzEwXSA9PT0gLTEgJiYgZGF0YVsxMV0gPT09IC0xKSB7CiAgICAgICAgICAvLyDmoKHlh4bngrnmlLbpm4bpmLbmrrUKICAgICAgICAgIHRoaXMuY2FsaWJyYXRpb25QaGFzZSA9ICdjb2xsZWN0aW5nJzsKICAgICAgICAgIHZhciBwb2ludE51bWJlciA9IHRoaXMuY2FsaWJyYXRpb25Qb2ludHMubGVuZ3RoICsgMTsgLy8g5re75Yqg6LCD6K+V5L+h5oGvCgogICAgICAgICAgdGhpcy5hZGRMb2coIlx1NTFDNlx1NTkwN1x1NjUzNlx1OTZDNlx1NjgyMVx1NTFDNlx1NzBCOSIuY29uY2F0KHBvaW50TnVtYmVyLCAiXHVGRjBDXHU1RjUzXHU1MjREXHU1REYyXHU2NzA5IikuY29uY2F0KHRoaXMuY2FsaWJyYXRpb25Qb2ludHMubGVuZ3RoLCAiXHU0RTJBXHU3MEI5IiksICdpbmZvJyk7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdGhpcy5kcmF3Q2FsaWJyYXRpb25Qb2ludFBvbHlnb24oZGF0YVswXSwgZGF0YVsxXSwgcG9pbnROdW1iZXIsIHRoaXMuZmllbGREYXRhKTsKICAgICAgICAgICAgdGhpcy5hZGRMb2codGhpcy4kdCgnQ2FsaWJyYXRpb24gUG9pbnQnLCBbcG9pbnROdW1iZXIsIGRhdGFbMF0udG9GaXhlZCg0KSwgZGF0YVsxXS50b0ZpeGVkKDQpXSksICdpbmZvJyk7IC8vIOS/neWtmOagoeWHhueCuSAtIOmZkOWItuacgOWkp+aVsOmHjwoKICAgICAgICAgICAgaWYgKHRoaXMuY2FsaWJyYXRpb25Qb2ludHMubGVuZ3RoIDwgdGhpcy5tYXhDYWxpYnJhdGlvblBvaW50cykgewogICAgICAgICAgICAgIHRoaXMuY2FsaWJyYXRpb25Qb2ludHMucHVzaCh7CiAgICAgICAgICAgICAgICByYTogZGF0YVswXSwKICAgICAgICAgICAgICAgIGRlYzogZGF0YVsxXSwKICAgICAgICAgICAgICAgIGluZGV4OiBwb2ludE51bWJlcgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIOWmguaenOi2hei/h+acgOWkp+aVsOmHj++8jOabv+aNouacgOaXp+eahOeCuQogICAgICAgICAgICAgIHZhciBvbGRlc3RJbmRleCA9IChwb2ludE51bWJlciAtIDEpICUgdGhpcy5tYXhDYWxpYnJhdGlvblBvaW50czsKICAgICAgICAgICAgICB0aGlzLmNhbGlicmF0aW9uUG9pbnRzW29sZGVzdEluZGV4XSA9IHsKICAgICAgICAgICAgICAgIHJhOiBkYXRhWzBdLAogICAgICAgICAgICAgICAgZGVjOiBkYXRhWzFdLAogICAgICAgICAgICAgICAgaW5kZXg6IHBvaW50TnVtYmVyCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy5hZGRMb2coIlx1NjgyMVx1NTFDNlx1NzBCOSIuY29uY2F0KHBvaW50TnVtYmVyLCAiXHU1REYyXHU2REZCXHU1MkEwXHVGRjBDXHU3M0IwXHU1NzI4XHU2MDNCXHU1MTcxXHU2NzA5IikuY29uY2F0KHRoaXMuY2FsaWJyYXRpb25Qb2ludHMubGVuZ3RoLCAiXHU0RTJBXHU3MEI5IiksICdpbmZvJyk7IC8vIOWmguaenOaUtumbhuS6hjPkuKrngrnvvIzov5vlhaXosIPmlbTpmLbmrrUKCiAgICAgICAgICAgIGlmICh0aGlzLmNhbGlicmF0aW9uUG9pbnRzLmxlbmd0aCA9PT0gdGhpcy5tYXhDYWxpYnJhdGlvblBvaW50cykgewogICAgICAgICAgICAgIHRoaXMuY2FsaWJyYXRpb25QaGFzZSA9ICdhZGp1c3RpbmcnOwogICAgICAgICAgICAgIHRoaXMuYWRkTG9nKHRoaXMuJHQoJ1RocmVlIGNhbGlicmF0aW9uIHBvaW50cyBjb2xsZWN0ZWQsIGVudGVyaW5nIGFkanVzdG1lbnQgcGhhc2UnKSwgJ3N1Y2Nlc3MnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgdGhpcy5hZGRMb2codGhpcy4kdCgnRXJyb3IgcHJvY2Vzc2luZyBjYWxpYnJhdGlvbiBwb2ludCcsIFtlcnJvci5tZXNzYWdlXSksICdlcnJvcicpOwogICAgICAgICAgICBjb25zb2xlLmVycm9yKCflpITnkIbmoKHlh4bngrnplJnor6/vvJonLCBlcnJvcik7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChkYXRhWzEwXSAhPT0gLTEgJiYgZGF0YVsxMV0gIT09IC0xKSB7CiAgICAgICAgICAvLyDosIPmlbTpmLbmrrXvvJrmmL7npLrnm67moIfkvY3nva7lkozlgYfmnoHovbQKICAgICAgICAgIHRoaXMuY2FsaWJyYXRpb25QaGFzZSA9ICdhZGp1c3RpbmcnOwogICAgICAgICAgdGhpcy50YXJnZXRQb2ludCA9IHsKICAgICAgICAgICAgcmE6IGRhdGFbMTBdLAogICAgICAgICAgICBkZWM6IGRhdGFbMTFdCiAgICAgICAgICB9OwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIC8vIOWFiOa4hemZpOaJgOacieS5i+WJjeeahOWFg+e0oAogICAgICAgICAgICB0aGlzLmFkZExvZygn6LCD5pW05qih5byP77ya5YeG5aSH5riF6Zmk5LmL5YmN55qE5qCh5YeG5YWD57SgJywgJ2luZm8nKTsKICAgICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdDbGVhckNhbGlicmF0aW9uUG9pbnRzJyk7CiAgICAgICAgICAgIHRoaXMuYWRkTG9nKCfosIPmlbTmqKHlvI/vvJrmuIXpmaTlkb3ku6Tlt7Llj5HpgIEnLCAnaW5mbycpOyAvLyDnu5jliLbmoKHlh4bngrnvvIjlpoLmnpzlt7LmlLbpm4Yz5Liq54K577yJCgogICAgICAgICAgICBpZiAodGhpcy5jYWxpYnJhdGlvblBvaW50cy5sZW5ndGggPT09IHRoaXMubWF4Q2FsaWJyYXRpb25Qb2ludHMpIHsKICAgICAgICAgICAgICB0aGlzLmNhbGlicmF0aW9uUG9pbnRzLmZvckVhY2goZnVuY3Rpb24gKHBvaW50LCBpbmRleCkgewogICAgICAgICAgICAgICAgdmFyIHBvaW50Q29vcmRpbmF0ZXMgPSBfdGhpczEwLmNhbGN1bGF0ZUZpZWxkQ29ybmVycyhwb2ludC5yYSwgcG9pbnQuZGVjLCBfdGhpczEwLmZpZWxkRGF0YSwgZmFsc2UpOwoKICAgICAgICAgICAgICAgIHZhciBwb2ludENvbG9yID0gewogICAgICAgICAgICAgICAgICBzdHJva2U6ICIjRkZENzAwIiwKICAgICAgICAgICAgICAgICAgLy8g6YeR6Imy6L655qGG77ya5qCh5YeG54K5CiAgICAgICAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgIC8vIOi+ueahhuS4jemAj+aYjuW6pgogICAgICAgICAgICAgICAgICBmaWxsOiAiI0ZGRDcwMCIsCiAgICAgICAgICAgICAgICAgIC8vIOmHkeiJsuWhq+WFhe+8muagoeWHhueCuQogICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC4zIC8vIOWhq+WFheS4jemAj+aYjuW6pu+8iOWNiumAj+aYju+8iQoKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgX3RoaXMxMC4kYnVzLiRlbWl0KCdEcmF3Q2FsaWJyYXRpb25Qb2ludFBvbHlnb24nLCBwb2ludENvb3JkaW5hdGVzLCBwb2ludENvbG9yLCAiQ2FsaWJyYXRpb25fUG9pbnRfIi5jb25jYXQoaW5kZXggKyAxKSwgIlx1NjgyMVx1NTFDNlx1NzBCOSIuY29uY2F0KGluZGV4ICsgMSksICIjRkZENzAwIik7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gLy8g57uY5Yi25b2T5YmN5L2N572u77yI6JOd6Imy77yJCgoKICAgICAgICAgICAgdmFyIGN1cnJlbnRDb29yZGluYXRlcyA9IHRoaXMuY2FsY3VsYXRlRmllbGRDb3JuZXJzKGRhdGFbMF0sIGRhdGFbMV0sIHRoaXMuZmllbGREYXRhLCBmYWxzZSk7CiAgICAgICAgICAgIHZhciBjdXJyZW50Q29sb3IgPSB7CiAgICAgICAgICAgICAgc3Ryb2tlOiAiIzAwQkZGRiIsCiAgICAgICAgICAgICAgLy8g6JOd6Imy6L655qGG77ya5b2T5YmN5L2N572uCiAgICAgICAgICAgICAgc3Ryb2tlT3BhY2l0eTogMSwKICAgICAgICAgICAgICAvLyDovrnmoYbkuI3pgI/mmI7luqYKICAgICAgICAgICAgICBmaWxsOiAiIzAwQkZGRiIsCiAgICAgICAgICAgICAgLy8g6JOd6Imy5aGr5YWF77ya5b2T5YmN5L2N572uCiAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuMyAvLyDloavlhYXkuI3pgI/mmI7luqbvvIjljYrpgI/mmI7vvIkKCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnRHJhd0NhbGlicmF0aW9uUG9pbnRQb2x5Z29uJywgY3VycmVudENvb3JkaW5hdGVzLCBjdXJyZW50Q29sb3IsICdDdXJyZW50X1Bvc2l0aW9uJywgJ+W9k+WJjeS9jee9ricsICIjMDBCRkZGIik7IC8vIOe7mOWItuebruagh+eCue+8iOe7v+iJsuWchuW9ou+8iQoKICAgICAgICAgICAgdmFyIHRhcmdldENvbG9yID0gewogICAgICAgICAgICAgIHN0cm9rZTogIiM0Q0FGNTAiLAogICAgICAgICAgICAgIC8vIOe7v+iJsui+ueahhu+8muebruagh+eCuQogICAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgLy8g6L655qGG5LiN6YCP5piO5bqmCiAgICAgICAgICAgICAgZmlsbDogIiM0Q0FGNTAiLAogICAgICAgICAgICAgIC8vIOe7v+iJsuWhq+WFhe+8muebruagh+eCuQogICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjMgLy8g5aGr5YWF5LiN6YCP5piO5bqm77yI5Y2K6YCP5piO77yJCgogICAgICAgICAgICB9OwoKICAgICAgICAgICAgdmFyIF90aGlzJGVxdWF0b3JpYWxUb0hvciA9IHRoaXMuZXF1YXRvcmlhbFRvSG9yaXpvbnRhbChkYXRhWzEwXSwgZGF0YVsxMV0sIG5ldyBEYXRlKERhdGUubm93KCkpLCB0aGlzLiRzdG9yZS5zdGF0ZS5jdXJyZW50TG9jYXRpb24ubGF0LCB0aGlzLiRzdG9yZS5zdGF0ZS5jdXJyZW50TG9jYXRpb24ubG5nKSwKICAgICAgICAgICAgICAgIGF6ID0gX3RoaXMkZXF1YXRvcmlhbFRvSG9yLmF6LAogICAgICAgICAgICAgICAgYWx0ID0gX3RoaXMkZXF1YXRvcmlhbFRvSG9yLmFsdDsgLy8gY29uc29sZS5sb2coJ+W9k+WJjeS9jee9ruebruagh+eCuScsIGRhdGFbNl0sIGRhdGFbN10gKyAnIOi9rOWMluS4uuWcsOW5s+WdkOagh+S4uicgKyBheiArICcgJyArIGFsdCk7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCfkvb/nlKjml7bpl7TlkozlnLDngrknLCBuZXcgRGF0ZShEYXRlLm5vdygpKSwgJHN0b3JlLnN0YXRlLmN1cnJlbnRMb2NhdGlvbi5sYXQsICRzdG9yZS5zdGF0ZS5jdXJyZW50TG9jYXRpb24ubG5nKTsKCgogICAgICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0RyYXdUYXJnZXRQb2ludENpcmNsZScsIGF6LCBhbHQsIHRhcmdldENvbG9yLCAnVGFyZ2V0X1BvaW50JywgJ+ebruagh+eCuScpOyAvLyDnu5jliLblgYfmnoHovbTvvIjntKvoibLlnIblvaLvvIkKCiAgICAgICAgICAgIGlmIChkYXRhWzEyXSAhPT0gLTEgJiYgZGF0YVsxM10gIT09IC0xICYmICFpc05hTihkYXRhWzEyXSkgJiYgIWlzTmFOKGRhdGFbMTNdKSkgewogICAgICAgICAgICAgIHZhciBfdGhpcyRlcXVhdG9yaWFsVG9Ib3IyID0gdGhpcy5lcXVhdG9yaWFsVG9Ib3Jpem9udGFsKGRhdGFbMTJdLCBkYXRhWzEzXSwgbmV3IERhdGUoRGF0ZS5ub3coKSksIHRoaXMuJHN0b3JlLnN0YXRlLmN1cnJlbnRMb2NhdGlvbi5sYXQsIHRoaXMuJHN0b3JlLnN0YXRlLmN1cnJlbnRMb2NhdGlvbi5sbmcpLAogICAgICAgICAgICAgICAgICBfYXogPSBfdGhpcyRlcXVhdG9yaWFsVG9Ib3IyLmF6LAogICAgICAgICAgICAgICAgICBfYWx0ID0gX3RoaXMkZXF1YXRvcmlhbFRvSG9yMi5hbHQ7CgogICAgICAgICAgICAgIHRoaXMuZHJhd0Zha2VQb2xhckF4aXMoX2F6LCBfYWx0KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy5hZGRMb2coIlx1OEMwM1x1NjU3NFx1NkEyMVx1NUYwRlx1RkYxQVx1NUY1M1x1NTI0RFx1NEY0RFx1N0Y2RSgiLmNvbmNhdChkYXRhWzBdLnRvRml4ZWQoNCksICIsICIpLmNvbmNhdChkYXRhWzFdLnRvRml4ZWQoNCksICIpIFx1NzZFRVx1NjgwN1x1NEY0RFx1N0Y2RSgiKS5jb25jYXQoZGF0YVs2XS50b0ZpeGVkKDQpLCAiLCAiKS5jb25jYXQoZGF0YVs3XS50b0ZpeGVkKDQpLCAiKSBcdTUwNDdcdTY3ODFcdThGNzQoIikuY29uY2F0KGRhdGFbOF0udG9GaXhlZCg0KSwgIiwgIikuY29uY2F0KGRhdGFbOV0udG9GaXhlZCg0KSwgIikiKSwgJ2luZm8nKTsKICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgIHRoaXMuYWRkTG9nKHRoaXMuJHQoJ0Vycm9yIHByb2Nlc3NpbmcgYWRqdXN0bWVudCBkYXRhJywgW2Vycm9yLm1lc3NhZ2VdKSwgJ2Vycm9yJyk7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WkhOeQhuiwg+aVtOaVsOaNrumUmeivr++8micsIGVycm9yKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hZGRMb2codGhpcy4kdCgnRXJyb3I6IEludmFsaWQgRmllbGQgRGF0YSBGb3JtYXQnKSwgJ2Vycm9yJyk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDnu5jliLbmoKHlh4bngrkKICAgIGRyYXdDYWxpYnJhdGlvblBvaW50UG9seWdvbjogZnVuY3Rpb24gZHJhd0NhbGlicmF0aW9uUG9pbnRQb2x5Z29uKHJhLCBkZWMsIHBvaW50TnVtYmVyLCBmaWVsZERhdGEpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgdGhpcy5hZGRMb2codGhpcy4kdCgnRHJhd2luZyBDYWxpYnJhdGlvbiBQb2ludCcsIFtwb2ludE51bWJlciwgcmEsIGRlY10pLCAnaW5mbycpOwoKICAgICAgdHJ5IHsKICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSB0aGlzLmNhbGN1bGF0ZUZpZWxkQ29ybmVycyhyYSwgZGVjLCBmaWVsZERhdGEpOwogICAgICAgIHRoaXMuYWRkTG9nKHRoaXMuJHQoJ0NhbGN1bGF0ZWQgRmllbGQgQ29ybmVyIENvb3JkaW5hdGVzJywgW0pTT04uc3RyaW5naWZ5KGNvb3JkaW5hdGVzKV0pLCAnaW5mbycpOyAvLyDpqozor4HlnZDmoIfmnInmlYjmgKcKCiAgICAgICAgdmFyIHZhbGlkQ29vcmRpbmF0ZXMgPSBjb29yZGluYXRlcy5ldmVyeShmdW5jdGlvbiAoY29vcmQsIGluZGV4KSB7CiAgICAgICAgICB2YXIgaXNWYWxpZCA9IGNvb3JkICYmIHR5cGVvZiBjb29yZC5yYSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGNvb3JkLmRlYyA9PT0gJ251bWJlcicgJiYgIWlzTmFOKGNvb3JkLnJhKSAmJiAhaXNOYU4oY29vcmQuZGVjKSAmJiBpc0Zpbml0ZShjb29yZC5yYSkgJiYgaXNGaW5pdGUoY29vcmQuZGVjKTsKCiAgICAgICAgICBpZiAoIWlzVmFsaWQpIHsKICAgICAgICAgICAgX3RoaXMxMS5hZGRMb2coX3RoaXMxMS4kdCgnV2FybmluZzogSW52YWxpZCBDb29yZGluYXRlIFBvaW50JywgW2luZGV4LCBKU09OLnN0cmluZ2lmeShjb29yZCldKSwgJ3dhcm5pbmcnKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gaXNWYWxpZDsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKCF2YWxpZENvb3JkaW5hdGVzKSB7CiAgICAgICAgICB0aGlzLmFkZExvZyh0aGlzLiR0KCdJbnZhbGlkIEZpZWxkIENvb3JkaW5hdGVzJyksICdlcnJvcicpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIGNvbG9yID0gdGhpcy5nZXRDYWxpYnJhdGlvblBvaW50Q29sb3IoKTsgLy8g5re75Yqg5paH5pys5qCH562+CgogICAgICAgIHZhciBsYWJlbCA9ICJcdTY4MjFcdTUxQzZcdTcwQjkiLmNvbmNhdChwb2ludE51bWJlcik7CiAgICAgICAgdmFyIGxhYmVsQ29sb3IgPSAiI0ZGRkZGRiI7CiAgICAgICAgdGhpcy5hZGRMb2codGhpcy4kdCgnU2VuZGluZyBEcmF3IENhbGlicmF0aW9uIEV2ZW50JywgW3BvaW50TnVtYmVyXSksICdpbmZvJyk7CiAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdEcmF3Q2FsaWJyYXRpb25Qb2ludFBvbHlnb24nLCBjb29yZGluYXRlcywgY29sb3IsICJDYWxpYnJhdGlvbl8iLmNvbmNhdChwb2ludE51bWJlciksIGxhYmVsLCBsYWJlbENvbG9yKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB0aGlzLmFkZExvZyh0aGlzLiR0KCdFcnJvciBEcmF3aW5nIENhbGlicmF0aW9uIFBvaW50JywgW2Vycm9yLm1lc3NhZ2VdKSwgJ2Vycm9yJyk7CiAgICAgICAgY29uc29sZS5lcnJvcign57uY5Yi25qCh5YeG54K56ZSZ6K+v77yaJywgZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgLy8g5riF6Zmk5omA5pyJ5qCh5YeG54K5CiAgICBjbGVhckNhbGlicmF0aW9uUG9pbnRzOiBmdW5jdGlvbiBjbGVhckNhbGlicmF0aW9uUG9pbnRzKCkgewogICAgICB0aGlzLmFkZExvZyh0aGlzLiR0KCdDbGVhcmluZyBBbGwgQ2FsaWJyYXRpb24gUG9pbnRzJyksICdpbmZvJyk7CiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnQ2xlYXJDYWxpYnJhdGlvblBvaW50cycpOwogICAgICB0aGlzLiRidXMuJGVtaXQoJ0NsZWFyU3RhdHVzVGV4dEZyb21TdGFyTWFwJyk7CiAgICB9LAoKICAgIC8qKgogICAgICog57uY5Yi25p6B6L205qCh5YeG6LCD5pW054K5CiAgICAgKiDlnKjmmJ/lm77kuIrnu5jliLblvZPliY3kvY3nva7jgIHnm67moIfkvY3nva7jgIHmoKHlh4bngrnnrYnlhbPplK7kvY3nva7moIforrAKICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjdXJyZW50UmEgLSDlvZPliY3otaTnu4/kvY3nva4KICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjdXJyZW50RGVjIC0g5b2T5YmN6LWk57qs5L2N572uICAKICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXRSYSAtIOebruagh+i1pOe7j+S9jee9rgogICAgICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldERlYyAtIOebruagh+i1pOe6rOS9jee9rgogICAgICogQHBhcmFtIHtvYmplY3R9IGZpZWxkRGF0YSAtIOinhuWcuuaVsOaNru+8iOWMheWQq+inhuWcuui+ueeVjOS/oeaBr++8iQogICAgICogQHBhcmFtIHtib29sZWFufSBpc1RpbWVyVXBkYXRlIC0g5piv5ZCm5Li65a6a5pe25Zmo5pu05paw77yI55So5LqO5Yy65YiG5omL5Yqo5pu05paw5ZKM6Ieq5Yqo5pu05paw77yJCiAgICAgKi8KICAgIGRyYXdBZGp1c3RtZW50UG9pbnRzOiBmdW5jdGlvbiBkcmF3QWRqdXN0bWVudFBvaW50cyhjdXJyZW50UmEsIGN1cnJlbnREZWMsIHRhcmdldFJhLCB0YXJnZXREZWMsIGZpZWxkRGF0YSkgewogICAgICB2YXIgaXNUaW1lclVwZGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogZmFsc2U7CiAgICAgIC8vIOi/meS4quaWueazleeOsOWcqOS4u+imgeeUqOS6juagoeWHhueCueaUtumbhumYtuautQogICAgICAvLyDosIPmlbTpmLbmrrXnmoTnu5jliLbpgLvovpHlt7Lnu4/np7vliLB1cGRhdGVGaWVsZERhdGHmlrnms5XkuK0KICAgICAgdGhpcy5hZGRMb2codGhpcy4kdCgnU3RhcnRpbmcgRHJhdyBBZGp1c3RtZW50IFBvaW50cycsIFtjdXJyZW50UmEsIGN1cnJlbnREZWMsIHRhcmdldFJhLCB0YXJnZXREZWNdKSwgJ2luZm8nKTsKCiAgICAgIHRyeSB7CiAgICAgICAgLy8g5Y+q5Zyo5qCh5YeG54K55pS26ZuG6Zi25q615L2/55So6L+Z5Liq5pa55rOVCiAgICAgICAgaWYgKHRoaXMuY2FsaWJyYXRpb25QaGFzZSA9PT0gJ2NvbGxlY3RpbmcnKSB7CiAgICAgICAgICAvLyDnu5jliLbmoKHlh4bngrnmlLbpm4bpmLbmrrXnmoTpgLvovpEKICAgICAgICAgIHZhciBjdXJyZW50Q29vcmRpbmF0ZXMgPSB0aGlzLmNhbGN1bGF0ZUZpZWxkQ29ybmVycyhjdXJyZW50UmEsIGN1cnJlbnREZWMsIGZpZWxkRGF0YSwgZmFsc2UpOwogICAgICAgICAgdmFyIGN1cnJlbnRDb2xvciA9IHsKICAgICAgICAgICAgc3Ryb2tlOiAiIzAwQkZGRiIsCiAgICAgICAgICAgIC8vIOiTneiJsui+ueahhu+8muW9k+WJjeS9jee9rgogICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAxLAogICAgICAgICAgICAvLyDovrnmoYbkuI3pgI/mmI7luqYKICAgICAgICAgICAgZmlsbDogIiMwMEJGRkYiLAogICAgICAgICAgICAvLyDok53oibLloavlhYXvvJrlvZPliY3kvY3nva4KICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuMyAvLyDloavlhYXkuI3pgI/mmI7luqbvvIjljYrpgI/mmI7vvIkKCiAgICAgICAgICB9OwogICAgICAgICAgdGhpcy4kYnVzLiRlbWl0KCdEcmF3Q2FsaWJyYXRpb25Qb2ludFBvbHlnb24nLCBjdXJyZW50Q29vcmRpbmF0ZXMsIGN1cnJlbnRDb2xvciwgJ0N1cnJlbnRfUG9zaXRpb24nLCAn5b2T5YmN5L2N572uJywgIiMwMEJGRkYiKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdGhpcy5hZGRMb2codGhpcy4kdCgnRXJyb3IgRHJhd2luZyBBZGp1c3RtZW50IFBvaW50cycsIFtlcnJvci5tZXNzYWdlXSksICdlcnJvcicpOwogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+e7mOWItuiwg+aVtOeCuemUmeivr++8micsIGVycm9yKTsKICAgICAgfQogICAgfSwKCiAgICAvKioKICAgICAqIOiuoeeul+inhuWcuueahOS6lOS4quinkueCueWdkOaghwogICAgICogQHBhcmFtIHtudW1iZXJ9IGNlbnRlclJhIC0g6KeG5Zy65Lit5b+D55qE6LWk57uP5Z2Q5qCHCiAgICAgKiBAcGFyYW0ge251bWJlcn0gY2VudGVyRGVjIC0g6KeG5Zy65Lit5b+D55qE6LWk57qs5Z2Q5qCHCiAgICAgKiBAcGFyYW0ge29iamVjdH0gZmllbGREYXRhIC0g6KeG5Zy65pWw5o2u77yI5YyF5ZCr6KeG5Zy66L6555WM5L+h5oGv77yJCiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHVzZURlZmF1bHRTaXplIC0g5piv5ZCm5L2/55So6buY6K6k6KeG5Zy65aSn5bCP77yI55So5LqO55uu5qCH54K5562J5Zu65a6a5L2N572u77yJCiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IOWMheWQqzXkuKrop5LngrnlnZDmoIfnmoTmlbDnu4TvvIznlKjkuo7nu5jliLblpJrovrnlvaIKICAgICAqLwogICAgY2FsY3VsYXRlRmllbGRDb3JuZXJzOiBmdW5jdGlvbiBjYWxjdWxhdGVGaWVsZENvcm5lcnMoY2VudGVyUmEsIGNlbnRlckRlYywgZmllbGREYXRhKSB7CiAgICAgIHZhciB1c2VEZWZhdWx0U2l6ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7CiAgICAgIHRoaXMuYWRkTG9nKHRoaXMuJHQoJ0NhbGN1bGF0aW5nIEZpZWxkIENvcm5lcnMnLCBbY2VudGVyUmEsIGNlbnRlckRlY10pLCAnaW5mbycpOyAvLyDlpoLmnpzmjIflrprkvb/nlKjpu5jorqTlpKflsI/miJbogIXmsqHmnInop4blnLrmlbDmja7vvIzkvb/nlKjpu5jorqTnmoQwLjXluqbop4blnLrlpKflsI8KCiAgICAgIGlmICh1c2VEZWZhdWx0U2l6ZSB8fCAhZmllbGREYXRhKSB7CiAgICAgICAgdGhpcy5hZGRMb2codGhpcy4kdCgnVXNpbmcgRGVmYXVsdCBGaWVsZCBTaXplOiAwLjUgRGVncmVlcycpLCAnaW5mbycpOwogICAgICAgIHZhciBmaWVsZFNpemUgPSAwLjU7CiAgICAgICAgdmFyIF9jb29yZGluYXRlcyA9IFt7CiAgICAgICAgICByYTogY2VudGVyUmEgKyBmaWVsZFNpemUgLyAyLAogICAgICAgICAgZGVjOiBjZW50ZXJEZWMgKyBmaWVsZFNpemUgLyAyCiAgICAgICAgfSwgewogICAgICAgICAgcmE6IGNlbnRlclJhIC0gZmllbGRTaXplIC8gMiwKICAgICAgICAgIGRlYzogY2VudGVyRGVjICsgZmllbGRTaXplIC8gMgogICAgICAgIH0sIHsKICAgICAgICAgIHJhOiBjZW50ZXJSYSAtIGZpZWxkU2l6ZSAvIDIsCiAgICAgICAgICBkZWM6IGNlbnRlckRlYyAtIGZpZWxkU2l6ZSAvIDIKICAgICAgICB9LCB7CiAgICAgICAgICByYTogY2VudGVyUmEgKyBmaWVsZFNpemUgLyAyLAogICAgICAgICAgZGVjOiBjZW50ZXJEZWMgLSBmaWVsZFNpemUgLyAyCiAgICAgICAgfSwgewogICAgICAgICAgcmE6IGNlbnRlclJhICsgZmllbGRTaXplIC8gMiwKICAgICAgICAgIGRlYzogY2VudGVyRGVjICsgZmllbGRTaXplIC8gMgogICAgICAgIH1dOwogICAgICAgIHRoaXMuYWRkTG9nKHRoaXMuJHQoJ0RlZmF1bHQgRmllbGQgQ29ybmVycycsIFtKU09OLnN0cmluZ2lmeShfY29vcmRpbmF0ZXMpXSksICdpbmZvJyk7CiAgICAgICAgcmV0dXJuIF9jb29yZGluYXRlczsKICAgICAgfSAvLyDlpoLmnpzmnInop4blnLrmlbDmja7kuJTkuI3lvLrliLbkvb/nlKjpu5jorqTlpKflsI/vvIzln7rkuo7kvKDlhaXnmoTkuK3lv4PngrnlnZDmoIforqHnrpfop4blnLrop5LngrkKICAgICAgLy8g6L+Z56eN5oOF5Ya15Li76KaB55So5LqO5b2T5YmN5L2N572u55qE5pi+56S677yM6ZyA6KaB5Y+N5pig5a6e6ZmF55qE6KeG5Zy65aSn5bCPCgoKICAgICAgdmFyIHJhMCA9IGZpZWxkRGF0YS5yYTAsCiAgICAgICAgICBkZWMwID0gZmllbGREYXRhLmRlYzAsCiAgICAgICAgICByYTEgPSBmaWVsZERhdGEucmExLAogICAgICAgICAgZGVjMSA9IGZpZWxkRGF0YS5kZWMxLAogICAgICAgICAgcmEyID0gZmllbGREYXRhLnJhMiwKICAgICAgICAgIGRlYzIgPSBmaWVsZERhdGEuZGVjMiwKICAgICAgICAgIHJhMyA9IGZpZWxkRGF0YS5yYTMsCiAgICAgICAgICBkZWMzID0gZmllbGREYXRhLmRlYzM7IC8vIOiuoeeul+inhuWcuueahOWunumZheWkp+Wwj++8iFJB5ZKMREVD5pa55ZCR55qE6Leo5bqm77yJCiAgICAgIC8vIOWfuuS6juS8oOWFpeeahOS4reW/g+eCueWdkOagh++8jOiuoeeul+inhuWcuueahOS6lOS4quinkueCuQoKICAgICAgdmFyIGNvb3JkaW5hdGVzID0gW3sKICAgICAgICByYTogcmEwLAogICAgICAgIGRlYzogZGVjMAogICAgICB9LCAvLyDlj7PkuIrop5IKICAgICAgewogICAgICAgIHJhOiByYTEsCiAgICAgICAgZGVjOiBkZWMxCiAgICAgIH0sIC8vIOW3puS4iuinkgogICAgICB7CiAgICAgICAgcmE6IHJhMiwKICAgICAgICBkZWM6IGRlYzIKICAgICAgfSwgLy8g5bem5LiL6KeSCiAgICAgIHsKICAgICAgICByYTogcmEzLAogICAgICAgIGRlYzogZGVjMwogICAgICB9LCAvLyDlj7PkuIvop5IKICAgICAgewogICAgICAgIHJhOiByYTAsCiAgICAgICAgZGVjOiBkZWMwCiAgICAgIH0gLy8g5Zue5Yiw5Y+z5LiK6KeS77yI6Zet5ZCI5aSa6L655b2i77yJCiAgICAgIF07CiAgICAgIHRoaXMuYWRkTG9nKHRoaXMuJHQoJ1VzaW5nIEZpZWxkIERhdGEnLCBbcmEwLCBkZWMwLCByYTEsIGRlYzEsIHJhMiwgZGVjMiwgcmEzLCBkZWMzXSksICdpbmZvJyk7CiAgICAgIHRoaXMuYWRkTG9nKHRoaXMuJHQoJ0ZpZWxkIENvcm5lciBDYWxjdWxhdGlvbiBSZXN1bHQnLCBbSlNPTi5zdHJpbmdpZnkoY29vcmRpbmF0ZXMpXSksICdpbmZvJyk7CiAgICAgIHJldHVybiBjb29yZGluYXRlczsKICAgIH0sCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyDmoLzlvI/ljJbmlrnms5UKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIGZvcm1hdFRpbWU6IGZ1bmN0aW9uIGZvcm1hdFRpbWUodGltZXN0YW1wKSB7CiAgICAgIGlmICghdGltZXN0YW1wKSByZXR1cm4gJyc7CiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUodGltZXN0YW1wKTsKICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKCd6aC1DTicsIHsKICAgICAgICBob3VyMTI6IGZhbHNlLAogICAgICAgIGhvdXI6ICcyLWRpZ2l0JywKICAgICAgICBtaW51dGU6ICcyLWRpZ2l0JywKICAgICAgICBzZWNvbmQ6ICcyLWRpZ2l0JwogICAgICB9KTsKICAgIH0sCiAgICBmb3JtYXRBZGp1c3RtZW50VmFsdWU6IGZ1bmN0aW9uIGZvcm1hdEFkanVzdG1lbnRWYWx1ZSh2YWx1ZSkgewogICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpIHJldHVybiAiMC4wIi5jb25jYXQodGhpcy51bml0R2x5cGgodGhpcy5hZGp1c3RtZW50VW5pdCkpOyAvLyB2YWx1ZSDnmoTljZXkvY0gPSBwcm9wcy5hZGp1c3RtZW50VW5pdAoKICAgICAgdmFyIHZhbEFyY21pbiA9IHRoaXMudW5pdFRvQXJjbWluKHZhbHVlLCB0aGlzLmFkanVzdG1lbnRVbml0KTsgLy8g5bGV56S65Y2V5L2N5LuN54S255SoIHByb3BzLmFkanVzdG1lbnRVbml077yI5Lmf5Y+v5pS55oiQ5Zu65a6aJ2FyY21pbifvvIkKCiAgICAgIHJldHVybiB0aGlzLmZvcm1hdFdpdGhVbml0KHZhbEFyY21pbiwgdGhpcy5hZGp1c3RtZW50VW5pdCwgMSk7CiAgICB9LAogICAgLy8g5qC85byP5YyW5Z2Q5qCH5pi+56S6CiAgICBmb3JtYXRDb29yZGluYXRlOiBmdW5jdGlvbiBmb3JtYXRDb29yZGluYXRlKHZhbHVlLCB0eXBlKSB7CiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IGlzTmFOKHZhbHVlKSkgewogICAgICAgIHJldHVybiB0eXBlID09PSAncmEnID8gJzAwaCAwMG0gMDBzJyA6ICcrMDDCsCAwMFwnIDAwIic7CiAgICAgIH0KCiAgICAgIGlmICh0eXBlID09PSAncmEnKSB7CiAgICAgICAgLy8g5qC85byP5YyWUkHkuLrml7bliIbnp5LmoLzlvI8KICAgICAgICB2YXIgaG91cnMgPSBNYXRoLmZsb29yKHZhbHVlIC8gMTUpOwogICAgICAgIHZhciBtaW51dGVzID0gTWF0aC5mbG9vcih2YWx1ZSAlIDE1ICogNCk7CiAgICAgICAgdmFyIHNlY29uZHMgPSBNYXRoLmZsb29yKCh2YWx1ZSAlIDE1ICogNCAtIG1pbnV0ZXMpICogNjApOwogICAgICAgIHJldHVybiAiIi5jb25jYXQoaG91cnMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpLCAiaCAiKS5jb25jYXQobWludXRlcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyksICJtICIpLmNvbmNhdChzZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKSwgInMiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDmoLzlvI/ljJZERUPkuLrluqbliIbnp5LmoLzlvI8KICAgICAgICB2YXIgc2lnbiA9IHZhbHVlID49IDAgPyAnKycgOiAnLSc7CiAgICAgICAgdmFyIGFic1ZhbHVlID0gTWF0aC5hYnModmFsdWUpOwogICAgICAgIHZhciBkZWdyZWVzID0gTWF0aC5mbG9vcihhYnNWYWx1ZSk7CgogICAgICAgIHZhciBfbWludXRlcyA9IE1hdGguZmxvb3IoKGFic1ZhbHVlIC0gZGVncmVlcykgKiA2MCk7CgogICAgICAgIHZhciBfc2Vjb25kcyA9IE1hdGguZmxvb3IoKChhYnNWYWx1ZSAtIGRlZ3JlZXMpICogNjAgLSBfbWludXRlcykgKiA2MCk7CgogICAgICAgIHJldHVybiAiIi5jb25jYXQoc2lnbikuY29uY2F0KGRlZ3JlZXMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpLCAiXHhCMCAiKS5jb25jYXQoX21pbnV0ZXMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpLCAiJyAiKS5jb25jYXQoX3NlY29uZHMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpLCAiXCIiKTsKICAgICAgfQogICAgfSwKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIOi+heWKqeaWueazlQogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgcGFyc2VDb29yZGluYXRlOiBmdW5jdGlvbiBwYXJzZUNvb3JkaW5hdGUodmFsdWUsIHR5cGUpIHsKICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHsKICAgICAgICBpZiAodHlwZSA9PT0gJ3JhJykgewogICAgICAgICAgLy8g6Kej5p6Q5pe25YiG56eS5qC85byPICIwMGggMDBtIDAwcyIKICAgICAgICAgIHZhciBtYXRjaCA9IHZhbHVlLm1hdGNoKC8oXGQrKWhccyooXGQrKW1ccyooXGQrKXMvKTsKCiAgICAgICAgICBpZiAobWF0Y2gpIHsKICAgICAgICAgICAgdmFyIGhvdXJzID0gcGFyc2VJbnQobWF0Y2hbMV0pOwogICAgICAgICAgICB2YXIgbWludXRlcyA9IHBhcnNlSW50KG1hdGNoWzJdKTsKICAgICAgICAgICAgdmFyIHNlY29uZHMgPSBwYXJzZUludChtYXRjaFszXSk7CiAgICAgICAgICAgIHJldHVybiBob3VycyArIG1pbnV0ZXMgLyA2MCArIHNlY29uZHMgLyAzNjAwOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDop6PmnpDluqbliIbnp5LmoLzlvI8gIiswMMKwIDAwJyAwMCIiCiAgICAgICAgICB2YXIgX21hdGNoID0gdmFsdWUubWF0Y2goLyhbKy1dPykoXGQrKcKwXHMqKFxkKyknXHMqKFxkKykiLyk7CgogICAgICAgICAgaWYgKF9tYXRjaCkgewogICAgICAgICAgICB2YXIgc2lnbiA9IF9tYXRjaFsxXSA9PT0gJy0nID8gLTEgOiAxOwogICAgICAgICAgICB2YXIgZGVncmVlcyA9IHBhcnNlSW50KF9tYXRjaFsyXSk7CgogICAgICAgICAgICB2YXIgX21pbnV0ZXMyID0gcGFyc2VJbnQoX21hdGNoWzNdKTsKCiAgICAgICAgICAgIHZhciBfc2Vjb25kczIgPSBwYXJzZUludChfbWF0Y2hbNF0pOwoKICAgICAgICAgICAgcmV0dXJuIHNpZ24gKiAoZGVncmVlcyArIF9taW51dGVzMiAvIDYwICsgX3NlY29uZHMyIC8gMzYwMCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0sCiAgICBhZGRTdGF0dXNUZXh0VG9TdGFyTWFwOiBmdW5jdGlvbiBhZGRTdGF0dXNUZXh0VG9TdGFyTWFwKCkgewogICAgICAvLyDmt7vliqDnirbmgIHmlofmnKzliLDmmJ/lm74KICAgICAgdmFyIHN0YXR1c1RleHQgPSB7CiAgICAgICAgdGV4dDogIlx1Njc4MVx1OEY3NFx1NjgyMVx1NTFDNlx1OEMwM1x1NjU3NFx1NEUyRCAtIFx1NjgyMVx1NTFDNlx1NzBCOTogIi5jb25jYXQodGhpcy5jYWxpYnJhdGlvblBvaW50cy5sZW5ndGgsICIvMyIpLAogICAgICAgIHBvc2l0aW9uOiB7CiAgICAgICAgICByYTogdGhpcy5jdXJyZW50UG9zaXRpb24ucmEsCiAgICAgICAgICBkZWM6IHRoaXMuY3VycmVudFBvc2l0aW9uLmRlYwogICAgICAgIH0sCiAgICAgICAgY29sb3I6ICIjRkZGRkZGIiwKICAgICAgICBmb250U2l6ZTogMTQsCiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAicmdiYSgwLCAwLCAwLCAwLjcpIgogICAgICB9OyAvLyDlj5HpgIHnirbmgIHmlofmnKzliLDmmJ/lm74KICAgICAgLy8gdGhpcy4kYnVzLiRlbWl0KCdBZGRTdGF0dXNUZXh0VG9TdGFyTWFwJywgc3RhdHVzVGV4dCkKICAgIH0sCiAgICBnZXRTdGVwQ2xhc3M6IGZ1bmN0aW9uIGdldFN0ZXBDbGFzcyhpbmRleCkgewogICAgICAvLyDmoLnmja7ov5vluqbnmb7liIbmr5Tnoa7lrproioLngrnnirbmgIEKICAgICAgdmFyIHByb2dyZXNzID0gdGhpcy5wcm9ncmVzc1BlcmNlbnRhZ2U7CgogICAgICBzd2l0Y2ggKGluZGV4KSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgLy8g5Yid5aeL5YyW6IqC54K5CiAgICAgICAgICBpZiAocHJvZ3Jlc3MgPj0gUFJPR1JFU1NfVEhSRVNIT0xEUy5JTklUSUFMSVpBVElPTikgcmV0dXJuIHsKICAgICAgICAgICAgY29tcGxldGVkOiB0cnVlCiAgICAgICAgICB9OwogICAgICAgICAgaWYgKHByb2dyZXNzID49IDApIHJldHVybiB7CiAgICAgICAgICAgIGN1cnJlbnQ6IHRydWUKICAgICAgICAgIH07CiAgICAgICAgICByZXR1cm4ge307CgogICAgICAgIGNhc2UgMToKICAgICAgICAgIC8vIOesrOS4gOasoeagoeWHhuiKgueCuQogICAgICAgICAgaWYgKHByb2dyZXNzID49IFBST0dSRVNTX1RIUkVTSE9MRFMuRklSU1RfQ0FMSUJSQVRJT04pIHJldHVybiB7CiAgICAgICAgICAgIGNvbXBsZXRlZDogdHJ1ZQogICAgICAgICAgfTsKICAgICAgICAgIGlmIChwcm9ncmVzcyA+PSBQUk9HUkVTU19USFJFU0hPTERTLklOSVRJQUxJWkFUSU9OKSByZXR1cm4gewogICAgICAgICAgICBjdXJyZW50OiB0cnVlCiAgICAgICAgICB9OwogICAgICAgICAgcmV0dXJuIHt9OwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICAvLyDnrKzkuozmrKHmoKHlh4boioLngrkKICAgICAgICAgIGlmIChwcm9ncmVzcyA+PSBQUk9HUkVTU19USFJFU0hPTERTLlNFQ09ORF9DQUxJQlJBVElPTikgcmV0dXJuIHsKICAgICAgICAgICAgY29tcGxldGVkOiB0cnVlCiAgICAgICAgICB9OwogICAgICAgICAgaWYgKHByb2dyZXNzID49IFBST0dSRVNTX1RIUkVTSE9MRFMuRklSU1RfQ0FMSUJSQVRJT04pIHJldHVybiB7CiAgICAgICAgICAgIGN1cnJlbnQ6IHRydWUKICAgICAgICAgIH07CiAgICAgICAgICByZXR1cm4ge307CgogICAgICAgIGNhc2UgMzoKICAgICAgICAgIC8vIOesrOS4ieasoeagoeWHhuiKgueCuQogICAgICAgICAgaWYgKHByb2dyZXNzID49IFBST0dSRVNTX1RIUkVTSE9MRFMuVEhJUkRfQ0FMSUJSQVRJT04pIHJldHVybiB7CiAgICAgICAgICAgIGNvbXBsZXRlZDogdHJ1ZQogICAgICAgICAgfTsKICAgICAgICAgIGlmIChwcm9ncmVzcyA+PSBQUk9HUkVTU19USFJFU0hPTERTLlNFQ09ORF9DQUxJQlJBVElPTikgcmV0dXJuIHsKICAgICAgICAgICAgY3VycmVudDogdHJ1ZQogICAgICAgICAgfTsKICAgICAgICAgIHJldHVybiB7fTsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKICAgIGdldEF6aW11dGhBY3Rpb246IGZ1bmN0aW9uIGdldEF6aW11dGhBY3Rpb24oYXpWYWwpIHsKICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoYXpWYWwpKSByZXR1cm4gJyc7CiAgICAgIHZhciBhcmNtaW4gPSB0aGlzLnVuaXRUb0FyY21pbihhelZhbCwgdGhpcy5hZGp1c3RtZW50VW5pdCk7CiAgICAgIGlmIChNYXRoLmFicyhhcmNtaW4pIDw9IHRoaXMuZGVhZGJhbmRBcmNtaW4pIHJldHVybiB0aGlzLiR0KCdObyBhZGp1c3RtZW50IG5lZWRlZCcpOwogICAgICB2YXIgZGlyID0gdGhpcy5hekxhYmVsQnlTaWduKGFyY21pbik7IC8vIOi+k+WHuuWNleS9jeS4jiBwcm9wcy5hZGp1c3RtZW50VW5pdCDkv53mjIHkuIDoh7QKCiAgICAgIHJldHVybiAiIi5jb25jYXQoZGlyLCAiICIpLmNvbmNhdCh0aGlzLmZvcm1hdFdpdGhVbml0KGFyY21pbiwgdGhpcy5hZGp1c3RtZW50VW5pdCwgMSkpOwogICAgfSwKICAgIGdldEFsdGl0dWRlQWN0aW9uOiBmdW5jdGlvbiBnZXRBbHRpdHVkZUFjdGlvbihhbHRWYWwpIHsKICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoYWx0VmFsKSkgcmV0dXJuICcnOwogICAgICB2YXIgYXJjbWluID0gdGhpcy51bml0VG9BcmNtaW4oYWx0VmFsLCB0aGlzLmFkanVzdG1lbnRVbml0KTsKICAgICAgaWYgKE1hdGguYWJzKGFyY21pbikgPD0gdGhpcy5kZWFkYmFuZEFyY21pbikgcmV0dXJuIHRoaXMuJHQoJ05vIGFkanVzdG1lbnQgbmVlZGVkJyk7CiAgICAgIHZhciBkaXIgPSB0aGlzLmFsdExhYmVsQnlTaWduKGFyY21pbik7CiAgICAgIHJldHVybiAiIi5jb25jYXQoZGlyLCAiICIpLmNvbmNhdCh0aGlzLmZvcm1hdFdpdGhVbml0KGFyY21pbiwgdGhpcy5hZGp1c3RtZW50VW5pdCwgMSkpOwogICAgfSwKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIOaXpeW/l+aWueazlQogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgYWRkTG9nOiBmdW5jdGlvbiBhZGRMb2cobWVzc2FnZSkgewogICAgICB2YXIgbGV2ZWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdpbmZvJzsKICAgICAgdmFyIGxvZyA9IHsKICAgICAgICBpZDogRGF0ZS5ub3coKSArIE1hdGgucmFuZG9tKCksCiAgICAgICAgbWVzc2FnZTogbWVzc2FnZSwKICAgICAgICBsZXZlbDogbGV2ZWwsCiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpCiAgICAgIH07IC8vIOeUn+S6p+eOr+Wig+WHj+WwkWNvbnNvbGXovpPlh7oKCiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JykgewogICAgICAgIGNvbnNvbGUubG9nKGxvZy5tZXNzYWdlKTsKICAgICAgfSAvLyDkvb/nlKjlvqrnjq/mlbDnu4TkvJjljJblhoXlrZjkvb/nlKgKCgogICAgICBpZiAodGhpcy5sb2dzLmxlbmd0aCA8IHRoaXMubG9nQ2FwYWNpdHkpIHsKICAgICAgICB0aGlzLmxvZ3MucHVzaChsb2cpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOW+queOr+imhuebluaXp+aXpeW/lwogICAgICAgIHRoaXMubG9nc1t0aGlzLmxvZ0luZGV4XSA9IGxvZzsKICAgICAgICB0aGlzLmxvZ0luZGV4ID0gKHRoaXMubG9nSW5kZXggKyAxKSAlIHRoaXMubG9nQ2FwYWNpdHk7CiAgICAgIH0KICAgIH0sCiAgICBjbGVhckxvZ3M6IGZ1bmN0aW9uIGNsZWFyTG9ncygpIHsKICAgICAgdGhpcy5sb2dzID0gW107CiAgICAgIHRoaXMubG9nSW5kZXggPSAwOwogICAgfSwKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIOaegei9tOagoeWHhueKtuaAgeabtOaWsOaWueazlQogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgY2FsY3VsYXRlUG9sYXJBeGlzT2Zmc2V0OiBmdW5jdGlvbiBjYWxjdWxhdGVQb2xhckF4aXNPZmZzZXQoKSB7CiAgICAgIHRoaXMucG9sYXJBeGlzT2Zmc2V0ID0gewogICAgICAgIGF6aW11dGg6IHRoaXMuYWRqdXN0bWVudC5hemltdXRoLAogICAgICAgIGFsdGl0dWRlOiB0aGlzLmFkanVzdG1lbnQuYWx0aXR1ZGUKICAgICAgfTsKICAgIH0sCiAgICB1cGRhdGVQb2xhckFsaWdubWVudFN0YXRlOiBmdW5jdGlvbiB1cGRhdGVQb2xhckFsaWdubWVudFN0YXRlKHN0YXRlTnVtYmVyLCBsb2dNZXNzYWdlLCBwcm9ncmVzcykgewogICAgICBpZiAobG9nTWVzc2FnZSAmJiB0eXBlb2YgbG9nTWVzc2FnZSA9PT0gJ3N0cmluZycpIHsKICAgICAgICB2YXIgbGV2ZWwgPSAnaW5mbyc7CgogICAgICAgIGlmIChsb2dNZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2Vycm9yJykgfHwgbG9nTWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCflpLHotKUnKSkgewogICAgICAgICAgbGV2ZWwgPSAnZXJyb3InOwogICAgICAgIH0gZWxzZSBpZiAobG9nTWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCd3YXJuaW5nJykgfHwgbG9nTWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCforablkYonKSkgewogICAgICAgICAgbGV2ZWwgPSAnd2FybmluZyc7CiAgICAgICAgfSBlbHNlIGlmIChsb2dNZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3N1Y2Nlc3MnKSB8fCBsb2dNZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ+aIkOWKnycpIHx8IGxvZ01lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygn5a6M5oiQJykpIHsKICAgICAgICAgIGxldmVsID0gJ3N1Y2Nlc3MnOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5hZGRMb2cobG9nTWVzc2FnZSwgbGV2ZWwpOwogICAgICB9CgogICAgICBpZiAocHJvZ3Jlc3MgIT09IHVuZGVmaW5lZCAmJiBwcm9ncmVzcyAhPT0gbnVsbCkgewogICAgICAgIHRoaXMuY3VycmVudFByb2dyZXNzID0gcHJvZ3Jlc3M7CgogICAgICAgIGlmIChwcm9ncmVzcyA+PSAwICYmIHByb2dyZXNzIDw9IDEwMCkgewogICAgICAgICAgLy8g5qC55o2u6L+b5bqm5pu05paw5qCh5YeG54q25oCBCiAgICAgICAgICBpZiAocHJvZ3Jlc3MgPj0gMCAmJiBwcm9ncmVzcyA8IDE1KSB7CiAgICAgICAgICAgIC8vIOWIneWni+WMlumYtuautQogICAgICAgICAgICB0aGlzLmNhbGlicmF0aW9uUG9pbnRzID0gW107CiAgICAgICAgICAgIHRoaXMuaXNDYWxpYnJhdGlvbkNvbXBsZXRlID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuaXNQb2xhckFsaWduZWQgPSBmYWxzZTsKICAgICAgICAgIH0gZWxzZSBpZiAocHJvZ3Jlc3MgPj0gMTUgJiYgcHJvZ3Jlc3MgPCAyNSkgey8vIOesrOS4gOasoeagoeWHhumYtuautSAtIOenu+mZpOaooeaLn+aVsOaNrua3u+WKoO+8jOWunumZheagoeWHhueCueeUsXVwZGF0ZUZpZWxkRGF0YeWkhOeQhgogICAgICAgICAgICAvLyDov5nph4zlj6rmm7TmlrDnirbmgIHvvIzkuI3mt7vliqDmqKHmi5/moKHlh4bngrkKICAgICAgICAgIH0gZWxzZSBpZiAocHJvZ3Jlc3MgPj0gMjUgJiYgcHJvZ3Jlc3MgPCA1MCkgey8vIOesrOS6jOasoeagoeWHhumYtuautSAtIOenu+mZpOaooeaLn+aVsOaNrua3u+WKoO+8jOWunumZheagoeWHhueCueeUsXVwZGF0ZUZpZWxkRGF0YeWkhOeQhgogICAgICAgICAgICAvLyDov5nph4zlj6rmm7TmlrDnirbmgIHvvIzkuI3mt7vliqDmqKHmi5/moKHlh4bngrkKICAgICAgICAgIH0gZWxzZSBpZiAocHJvZ3Jlc3MgPj0gNTAgJiYgcHJvZ3Jlc3MgPCA3NSkgey8vIOesrOS4ieasoeagoeWHhumYtuautSAtIOenu+mZpOaooeaLn+aVsOaNrua3u+WKoO+8jOWunumZheagoeWHhueCueeUsXVwZGF0ZUZpZWxkRGF0YeWkhOeQhgogICAgICAgICAgICAvLyDov5nph4zlj6rmm7TmlrDnirbmgIHvvIzkuI3mt7vliqDmqKHmi5/moKHlh4bngrkKICAgICAgICAgIH0gZWxzZSBpZiAocHJvZ3Jlc3MgPj0gNzUgJiYgcHJvZ3Jlc3MgPCA5NSkgewogICAgICAgICAgICAvLyDlvqrnjq/moKHlh4bosIPmlbTpmLbmrrUKICAgICAgICAgICAgdGhpcy5pc0NhbGlicmF0aW9uQ29tcGxldGUgPSB0cnVlOwogICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVBvbGFyQXhpc09mZnNldCgpOyAvLyDmo4DmtYvmoKHlh4blvqrnjq8KCiAgICAgICAgICAgIGlmIChwcm9ncmVzcyA8IHRoaXMubGFzdENhbGlicmF0aW9uUHJvZ3Jlc3MgJiYgdGhpcy5sYXN0Q2FsaWJyYXRpb25Qcm9ncmVzcyA+PSA3NSkgewogICAgICAgICAgICAgIHRoaXMuY2FsaWJyYXRpb25Mb29wQ291bnQrKzsKICAgICAgICAgICAgICB0aGlzLmFkZExvZyh0aGlzLiR0KCdDYWxpYnJhdGlvbiBSb3VuZCBTdGFydGVkJywgW3RoaXMuY2FsaWJyYXRpb25Mb29wQ291bnRdKSwgJ2luZm8nKTsKICAgICAgICAgICAgfSAvLyDlnKjlvqrnjq/moKHlh4bpmLbmrrXvvIzov5vluqblj6/og73kvJrlnKg3NS05NeS5i+mXtOazouWKqAogICAgICAgICAgICAvLyDov5nooajnpLrns7vnu5/mraPlnKjov5vooYzlpJrmrKHmoKHlh4bosIPmlbQKCgogICAgICAgICAgICBpZiAocHJvZ3Jlc3MgPiA4NSkgewogICAgICAgICAgICAgIHRoaXMuYWRkTG9nKHRoaXMuJHQoJ0NhbGlicmF0aW9uIFByb2dyZXNzIEluZm8nLCBbTWF0aC5yb3VuZChwcm9ncmVzcyksIHRoaXMuY2FsaWJyYXRpb25Mb29wQ291bnRdKSwgJ2luZm8nKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy5sYXN0Q2FsaWJyYXRpb25Qcm9ncmVzcyA9IHByb2dyZXNzOwogICAgICAgICAgfSBlbHNlIGlmIChwcm9ncmVzcyA+PSA5NSAmJiBwcm9ncmVzcyA8PSAxMDApIHsKICAgICAgICAgICAgLy8g5pyA57uI6aqM6K+B6Zi25q61CiAgICAgICAgICAgIHRoaXMuaXNDYWxpYnJhdGlvbkNvbXBsZXRlID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVQb2xhckF4aXNPZmZzZXQoKTsKCiAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnBvbGFyQXhpc09mZnNldC5hemltdXRoKSA8IDEuMCAmJiBNYXRoLmFicyh0aGlzLnBvbGFyQXhpc09mZnNldC5hbHRpdHVkZSkgPCAxLjApIHsKICAgICAgICAgICAgICB0aGlzLmlzUG9sYXJBbGlnbmVkID0gdHJ1ZTsKICAgICAgICAgICAgICB0aGlzLmFkZExvZyh0aGlzLiR0KCdQb2xhciBBbGlnbm1lbnQgQ29tcGxldGVkJyksICdzdWNjZXNzJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5hZGRMb2codGhpcy4kdCgnUG9sYXIgQWxpZ25tZW50IE5lZWRzIE1hbnVhbCBBZGp1c3RtZW50JyksICd3YXJuaW5nJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVQb2xhckFsaWdubWVudElzUnVubmluZzogZnVuY3Rpb24gdXBkYXRlUG9sYXJBbGlnbm1lbnRJc1J1bm5pbmcoaXNSdW5uaW5nKSB7CiAgICAgIHRoaXMuaXNDYWxpYnJhdGlvblJ1bm5pbmcgPSBpc1J1bm5pbmc7CiAgICB9LAogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8g5Z2Q5qCH6L2s5o2i5pa55rOVCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgogICAgLyoqCiAgICAgKiDotaTpgZPlnZDmoIcgKFJBLCBEZWMpIOKGkiDlnLDlubPlnZDmoIcgKEF6LCBBbHQpCiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFEZWcg6LWk57uPICjluqYsIDB+MzYwKQogICAgICogQHBhcmFtIHtudW1iZXJ9IGRlY0RlZyDotaTnuqwgKOW6piwgLTkwfis5MCkKICAgICAqIEBwYXJhbSB7RGF0ZX0gZGF0ZVVUQyDop4LmtYvml7bpl7QgKFVUQyDml7bpl7QpCiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGF0RGVnIOingua1i+eCuee6rOW6piAo5bqmLCDljJfmraPljZfotJ8pCiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG9uRGVnIOingua1i+eCuee7j+W6piAo5bqmLCDkuJzmraPopb/otJ8pCiAgICAgKiBAcmV0dXJucyB7e2F6OiBudW1iZXIsIGFsdDogbnVtYmVyfX0g5pa55L2N6KeSL+mrmOW6puinkiAo5bqmKQogICAgICovCiAgICBlcXVhdG9yaWFsVG9Ib3Jpem9udGFsOiBmdW5jdGlvbiBlcXVhdG9yaWFsVG9Ib3Jpem9udGFsKHJhRGVnLCBkZWNEZWcsIGRhdGVVVEMsIGxhdERlZywgbG9uRGVnKSB7CiAgICAgIC8vIOW3peWFtwogICAgICB2YXIgdG9KRCA9IGZ1bmN0aW9uIHRvSkQoZCkgewogICAgICAgIHJldHVybiBOdW1iZXIoZCkgLyA4NjQwMDAwMCArIDI0NDA1ODcuNTsKICAgICAgfTsgLy8gRGF0ZS9tcyDihpIgSkQKCgogICAgICB2YXIgZDJyID0gZnVuY3Rpb24gZDJyKHgpIHsKICAgICAgICByZXR1cm4geCAqIE1hdGguUEkgLyAxODA7CiAgICAgIH0sCiAgICAgICAgICByMmQgPSBmdW5jdGlvbiByMmQoeCkgewogICAgICAgIHJldHVybiB4ICogMTgwIC8gTWF0aC5QSTsKICAgICAgfTsKCiAgICAgIHZhciBub3JtMzYwID0gZnVuY3Rpb24gbm9ybTM2MChhKSB7CiAgICAgICAgcmV0dXJuIChhICUgMzYwICsgMzYwKSAlIDM2MDsKICAgICAgfTsKCiAgICAgIHZhciBjbGFtcCA9IGZ1bmN0aW9uIGNsYW1wKHgpIHsKICAgICAgICB2YXIgbG8gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IC0xOwogICAgICAgIHZhciBoaSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTsKICAgICAgICByZXR1cm4gTWF0aC5taW4oaGksIE1hdGgubWF4KGxvLCB4KSk7CiAgICAgIH07IC8vIOWFpeWPguW9kuS4gOWMliArIOehrOagoemqjAoKCiAgICAgIHJhRGVnID0gTnVtYmVyKHJhRGVnKTsKICAgICAgZGVjRGVnID0gTnVtYmVyKGRlY0RlZyk7CiAgICAgIGxhdERlZyA9IE51bWJlcihsYXREZWcpOwogICAgICBsb25EZWcgPSBOdW1iZXIobG9uRGVnKTsKICAgICAgdmFyIHRtcyA9IE51bWJlcihkYXRlVVRDKTsgLy8gRGF0ZSDmiJbml7bpl7TmiLPpg73lj68KCiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JykgewogICAgICAgIGNvbnNvbGUubG9nKCdFUeKGkkhPUiDlhaXlj4I6JywgewogICAgICAgICAgcmFEZWc6IHJhRGVnLAogICAgICAgICAgZGVjRGVnOiBkZWNEZWcsCiAgICAgICAgICBsYXREZWc6IGxhdERlZywKICAgICAgICAgIGxvbkRlZzogbG9uRGVnLAogICAgICAgICAgZGF0ZVVUQzogZGF0ZVVUQywKICAgICAgICAgIHRtczogdG1zCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmICghW3JhRGVnLCBkZWNEZWcsIGxhdERlZywgbG9uRGVnLCB0bXNdLmV2ZXJ5KE51bWJlci5pc0Zpbml0ZSkpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCdFUeKGkkhPUiDlhaXlj4LpnZ7ms5U6JywgewogICAgICAgICAgcmFEZWc6IHJhRGVnLAogICAgICAgICAgZGVjRGVnOiBkZWNEZWcsCiAgICAgICAgICBsYXREZWc6IGxhdERlZywKICAgICAgICAgIGxvbkRlZzogbG9uRGVnLAogICAgICAgICAgZGF0ZVVUQzogZGF0ZVVUQywKICAgICAgICAgIHRtczogdG1zCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGF6OiBOYU4sCiAgICAgICAgICBhbHQ6IE5hTgogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHRyeSB7CiAgICAgICAgLy8gMSkgSkQgJiBHTVNUCiAgICAgICAgdmFyIEpEID0gdG9KRCh0bXMpOwogICAgICAgIHZhciBkID0gSkQgLSAyNDUxNTQ1LjA7CiAgICAgICAgdmFyIEdNU1QgPSBub3JtMzYwKDI4MC40NjA2MTgzNyArIDM2MC45ODU2NDczNjYyOSAqIGQpOyAvLyDluqYKICAgICAgICAvLyAyKSBMU1TvvIjkuJznu4/kuLrmraPvvIkKCiAgICAgICAgdmFyIExTVCA9IG5vcm0zNjAoR01TVCArIGxvbkRlZyk7IC8vIDMpIEhB77yILTE4MH4xODAg5pu056iz77yJCgogICAgICAgIHZhciBIQSA9IExTVCAtIHJhRGVnOwogICAgICAgIEhBID0gKEhBICsgMTgwKSAlIDM2MCAtIDE4MDsgLy8gNCkgQWx0IC8gQXrvvIjnqLPlrprlvaLlvI/vvIkKCiAgICAgICAgdmFyIGhhID0gZDJyKEhBKTsKICAgICAgICB2YXIgZGVjID0gZDJyKGRlY0RlZyk7CiAgICAgICAgdmFyIGxhdCA9IGQycihsYXREZWcpOwogICAgICAgIHZhciBzaW5BbHQgPSBjbGFtcChNYXRoLnNpbihkZWMpICogTWF0aC5zaW4obGF0KSArIE1hdGguY29zKGRlYykgKiBNYXRoLmNvcyhsYXQpICogTWF0aC5jb3MoaGEpKTsKICAgICAgICB2YXIgYWx0ID0gTWF0aC5hc2luKHNpbkFsdCk7CiAgICAgICAgdmFyIHkgPSAtTWF0aC5zaW4oaGEpICogTWF0aC5jb3MoZGVjKTsKICAgICAgICB2YXIgeCA9IE1hdGguc2luKGRlYykgKiBNYXRoLmNvcyhsYXQpIC0gTWF0aC5jb3MoZGVjKSAqIE1hdGguc2luKGxhdCkgKiBNYXRoLmNvcyhoYSk7CiAgICAgICAgdmFyIGF6ID0gTWF0aC5hdGFuMih5LCB4KTsKICAgICAgICB2YXIgYWx0RGVnID0gcjJkKGFsdCk7CiAgICAgICAgdmFyIGF6RGVnID0gbm9ybTM2MChyMmQoYXopKTsKCiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnRVHihpJIT1Ig57uT5p6cOicsIHsKICAgICAgICAgICAgSkQ6IEpELAogICAgICAgICAgICBHTVNUOiBHTVNULAogICAgICAgICAgICBMU1Q6IExTVCwKICAgICAgICAgICAgSEE6IEhBLAogICAgICAgICAgICBoYVJhZDogaGEsCiAgICAgICAgICAgIGRlY1JhZDogZGVjLAogICAgICAgICAgICBsYXRSYWQ6IGxhdCwKICAgICAgICAgICAgYXo6IGF6RGVnLAogICAgICAgICAgICBhbHQ6IGFsdERlZwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gewogICAgICAgICAgYXo6IGF6RGVnLAogICAgICAgICAgYWx0OiBhbHREZWcKICAgICAgICB9OwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS5lcnJvcignRVHihpJIT1Ig6K6h566X5byC5bi4OicsIGUsIHsKICAgICAgICAgIHJhRGVnOiByYURlZywKICAgICAgICAgIGRlY0RlZzogZGVjRGVnLAogICAgICAgICAgbGF0RGVnOiBsYXREZWcsCiAgICAgICAgICBsb25EZWc6IGxvbkRlZywKICAgICAgICAgIGRhdGVVVEM6IGRhdGVVVEMsCiAgICAgICAgICB0bXM6IHRtcwogICAgICAgIH0pOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICBhejogTmFOLAogICAgICAgICAgYWx0OiBOYU4KICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgLy8gPT09IOWinuW8uueahOWNoeeJh+S/oeaBr+abtOaWsOaWueazlSA9PT0KICAgIHVwZGF0ZUNhcmRJbmZvOiBmdW5jdGlvbiB1cGRhdGVDYXJkSW5mbyhjdXJyZW50UmEsIGN1cnJlbnREZWMsIHRhcmdldFJhLCB0YXJnZXREZWMsIGF6aW11dGhWYWwsIGFsdGl0dWRlVmFsLCByYUFkanVzdG1lbnQsIGRlY0FkanVzdG1lbnQsIHVuaXRIaW50KSB7CiAgICAgIHZhciBwYXJzZVZhbHVlID0gZnVuY3Rpb24gcGFyc2VWYWx1ZSh2KSB7CiAgICAgICAgcmV0dXJuIHYgPT09IG51bGwgfHwgdiA9PT0gJycgfHwgdiA9PT0gdW5kZWZpbmVkID8gMCA6IE51bWJlcih2KSB8fCAwOwogICAgICB9OwoKICAgICAgdmFyIGN1cnJlbnRSYU51bSA9IHBhcnNlVmFsdWUoY3VycmVudFJhKTsKICAgICAgdmFyIGN1cnJlbnREZWNOdW0gPSBwYXJzZVZhbHVlKGN1cnJlbnREZWMpOwogICAgICB2YXIgdGFyZ2V0UmFOdW0gPSBwYXJzZVZhbHVlKHRhcmdldFJhKTsKICAgICAgdmFyIHRhcmdldERlY051bSA9IHBhcnNlVmFsdWUodGFyZ2V0RGVjKTsKICAgICAgdmFyIGF6VmFsID0gcGFyc2VWYWx1ZShhemltdXRoVmFsKTsKICAgICAgdmFyIGFsdFZhbCA9IHBhcnNlVmFsdWUoYWx0aXR1ZGVWYWwpOyAvLyAxKSDkvY3nva7mmL7npLrvvIjljp/moLfvvIkKCiAgICAgIHRoaXMuY3VycmVudFBvc2l0aW9uLnJhID0gdGhpcy5mb3JtYXRDb29yZGluYXRlKGN1cnJlbnRSYU51bSwgJ3JhJyk7CiAgICAgIHRoaXMuY3VycmVudFBvc2l0aW9uLmRlYyA9IHRoaXMuZm9ybWF0Q29vcmRpbmF0ZShjdXJyZW50RGVjTnVtLCAnZGVjJyk7CiAgICAgIHRoaXMudGFyZ2V0UG9zaXRpb24ucmEgPSB0aGlzLmZvcm1hdENvb3JkaW5hdGUodGFyZ2V0UmFOdW0sICdyYScpOwogICAgICB0aGlzLnRhcmdldFBvc2l0aW9uLmRlYyA9IHRoaXMuZm9ybWF0Q29vcmRpbmF0ZSh0YXJnZXREZWNOdW0sICdkZWMnKTsgLy8gMikg6LCD5pW06YeP77ya5Lul5Lyg5YWl5Y2V5L2N5Li65YeG5YaZ5YWl77yI6buY6K6k55SoIHByb3BzLmFkanVzdG1lbnRVbml077yJCgogICAgICB2YXIgaW5Vbml0ID0gdW5pdEhpbnQgfHwgdGhpcy5hZGp1c3RtZW50VW5pdDsgLy8g5aaC5p6c5Lyg5YWl5pivIuW6piLvvIzkvYbkvaAgcHJvcHMg6K6+5Li65LqGImFyY21pbiLvvIzkuZ/msqHlhbPns7vigJTigJTmmL7npLrkvJroh6rliqjmjaLnrpcKICAgICAgLy8g6L+Z6YeM5L+d5a2YIuWOn+Wni+aVsCArIOWug+eahOWNleS9je+8iOmAmui/hyBwcm9wc++8iSIKCiAgICAgIHRoaXMuYWRqdXN0bWVudC5hemltdXRoID0gYXpWYWw7CiAgICAgIHRoaXMuYWRqdXN0bWVudC5hbHRpdHVkZSA9IGFsdFZhbDsKICAgICAgdGhpcy5hZGp1c3RtZW50VW5pdCA9IGluVW5pdDsgLy8g5aaC5p6c5biM5pyb5q+P5qyh6ZqP5pWw5o2u5YiH5o2i5Y2V5L2N77yM5Y+v5Yqg5YWl6L+Z5LiA6KGMCiAgICAgIC8vIDMpIOWcqOiwg+aVtOmYtuaute+8jOavj+asoeaOpeaUtuWIsOiwg+aVtOaVsOaNruaXtuWinuWKoOagoeWHhui9ruaVsAoKICAgICAgaWYgKHRoaXMuY2FsaWJyYXRpb25QaGFzZSA9PT0gJ2FkanVzdGluZycpIHsKICAgICAgICB0aGlzLmNhbGlicmF0aW9uTG9vcENvdW50Kys7CiAgICAgICAgdGhpcy5hZGRMb2codGhpcy4kdCgnQ2FsaWJyYXRpb24gUm91bmQgU3RhcnRlZCcsIFt0aGlzLmNhbGlicmF0aW9uTG9vcENvdW50XSksICdpbmZvJyk7CiAgICAgIH0gLy8gNCkg5p6B6L205a6M5oiQ5Yik5a6a77yI55So6KeS5YiG5q+U6L6D77yJCgoKICAgICAgdmFyIGF6QXJjbWluID0gdGhpcy51bml0VG9BcmNtaW4oYXpWYWwsIGluVW5pdCk7CiAgICAgIHZhciBhbHRBcmNtaW4gPSB0aGlzLnVuaXRUb0FyY21pbihhbHRWYWwsIGluVW5pdCk7CiAgICAgIHRoaXMuaXNQb2xhckFsaWduZWQgPSBNYXRoLmFicyhhekFyY21pbikgPCAxLjAgJiYgTWF0aC5hYnMoYWx0QXJjbWluKSA8IDEuMDsKCiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JykgewogICAgICAgIGNvbnNvbGUubG9nKCdQb2xhckFsaWdubWVudCB1cGRhdGU6JywgewogICAgICAgICAgdW5pdDogaW5Vbml0LAogICAgICAgICAgYWRqX3JhdzogewogICAgICAgICAgICBhemltdXRoOiBhelZhbCwKICAgICAgICAgICAgYWx0aXR1ZGU6IGFsdFZhbAogICAgICAgICAgfSwKICAgICAgICAgIGFkal9hcmNtaW46IHsKICAgICAgICAgICAgYXo6IGF6QXJjbWluLAogICAgICAgICAgICBhbHQ6IGFsdEFyY21pbgogICAgICAgICAgfSwKICAgICAgICAgIGlzUG9sYXJBbGlnbmVkOiB0aGlzLmlzUG9sYXJBbGlnbmVkLAogICAgICAgICAgY2FsaWJyYXRpb25Sb3VuZDogdGhpcy5jYWxpYnJhdGlvbkxvb3BDb3VudAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICog5qC55o2u5LiJ5Liq5qCh5YeG54K56K6h566X5YGH5p6B6L205L2N572uCiAgICAgKiDkvb/nlKjkuInngrnmnoHovbTmoKHlh4bnrpfms5UKICAgICAqLwogICAgY2FsY3VsYXRlRmFrZVBvbGFyQXhpczogZnVuY3Rpb24gY2FsY3VsYXRlRmFrZVBvbGFyQXhpcygpIHsKICAgICAgaWYgKHRoaXMuY2FsaWJyYXRpb25Qb2ludHMubGVuZ3RoICE9PSB0aGlzLm1heENhbGlicmF0aW9uUG9pbnRzKSB7CiAgICAgICAgdGhpcy5hZGRMb2coJ+mcgOimgTPkuKrmoKHlh4bngrnmiY3og73orqHnrpflgYfmnoHovbTkvY3nva4nLCAnd2FybmluZycpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgdHJ5IHsKICAgICAgICB2YXIgX3RoaXMkY2FsaWJyYXRpb25Qb2luID0gX3NsaWNlZFRvQXJyYXkodGhpcy5jYWxpYnJhdGlvblBvaW50cywgMyksCiAgICAgICAgICAgIHAxID0gX3RoaXMkY2FsaWJyYXRpb25Qb2luWzBdLAogICAgICAgICAgICBwMiA9IF90aGlzJGNhbGlicmF0aW9uUG9pblsxXSwKICAgICAgICAgICAgcDMgPSBfdGhpcyRjYWxpYnJhdGlvblBvaW5bMl07IC8vIOWwhuS4ieS4queCuei9rOaNouS4uuesm+WNoeWwlOWdkOaghwoKCiAgICAgICAgdmFyIGNhcnQxID0gdGhpcy5lcXVhdG9yaWFsVG9DYXJ0ZXNpYW4ocDEucmEsIHAxLmRlYyk7CiAgICAgICAgdmFyIGNhcnQyID0gdGhpcy5lcXVhdG9yaWFsVG9DYXJ0ZXNpYW4ocDIucmEsIHAyLmRlYyk7CiAgICAgICAgdmFyIGNhcnQzID0gdGhpcy5lcXVhdG9yaWFsVG9DYXJ0ZXNpYW4ocDMucmEsIHAzLmRlYyk7IC8vIOiuoeeul+S4pOS4quWQkemHjwoKICAgICAgICB2YXIgdjEgPSB7CiAgICAgICAgICB4OiBjYXJ0Mi54IC0gY2FydDEueCwKICAgICAgICAgIHk6IGNhcnQyLnkgLSBjYXJ0MS55LAogICAgICAgICAgejogY2FydDIueiAtIGNhcnQxLnoKICAgICAgICB9OwogICAgICAgIHZhciB2MiA9IHsKICAgICAgICAgIHg6IGNhcnQzLnggLSBjYXJ0MS54LAogICAgICAgICAgeTogY2FydDMueSAtIGNhcnQxLnksCiAgICAgICAgICB6OiBjYXJ0My56IC0gY2FydDEuegogICAgICAgIH07IC8vIOiuoeeul+azleWQkemHj++8iOWPieenr++8iQoKICAgICAgICB2YXIgbm9ybWFsID0gdGhpcy5jcm9zc1Byb2R1Y3QodjEsIHYyKTsgLy8g5qOA5p+l5rOV5ZCR6YeP5piv5ZCm5Li66Zu25ZCR6YePCgogICAgICAgIHZhciBub3JtYWxMZW5ndGggPSB0aGlzLnZlY3Rvckxlbmd0aChub3JtYWwpOwoKICAgICAgICBpZiAobm9ybWFsTGVuZ3RoIDwgMWUtMTApIHsKICAgICAgICAgIHRoaXMuYWRkTG9nKCfkuInkuKrmoKHlh4bngrnlhbHnur/vvIzml6Dms5XorqHnrpflgYfmnoHovbTkvY3nva4nLCAnZXJyb3InKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9IC8vIOW9kuS4gOWMluazleWQkemHjwoKCiAgICAgICAgdmFyIHVuaXROb3JtYWwgPSB0aGlzLm5vcm1hbGl6ZVZlY3Rvcihub3JtYWwpOyAvLyDorqHnrpfkuI7ljZXkvY3nkIPpnaLnmoTkuqTngrnvvIjlgYfmnoHngrnvvIkKCiAgICAgICAgdmFyIGZha2VQb2xhclBvaW50ID0gewogICAgICAgICAgeDogdW5pdE5vcm1hbC54LAogICAgICAgICAgeTogdW5pdE5vcm1hbC55LAogICAgICAgICAgejogdW5pdE5vcm1hbC56CiAgICAgICAgfTsgLy8g6YCJ5oup5q2j56Gu55qE5Lqk54K577yIeuWdkOagh+S4uuato+eahO+8iQoKICAgICAgICBpZiAoZmFrZVBvbGFyUG9pbnQueiA8IDApIHsKICAgICAgICAgIGZha2VQb2xhclBvaW50LnggPSAtZmFrZVBvbGFyUG9pbnQueDsKICAgICAgICAgIGZha2VQb2xhclBvaW50LnkgPSAtZmFrZVBvbGFyUG9pbnQueTsKICAgICAgICAgIGZha2VQb2xhclBvaW50LnogPSAtZmFrZVBvbGFyUG9pbnQuejsKICAgICAgICB9IC8vIOWwhuWBh+aegeeCuei9rOaNouS4uui1pOmBk+WdkOaghwoKCiAgICAgICAgdmFyIGZha2VQb2xhckVxdWF0b3JpYWwgPSB0aGlzLmNhcnRlc2lhblRvRXF1YXRvcmlhbChmYWtlUG9sYXJQb2ludCk7IC8vIOS/neWtmOWBh+aegei9tOS9jee9rgoKICAgICAgICB0aGlzLmZha2VQb2xhckF4aXMucmEgPSBmYWtlUG9sYXJFcXVhdG9yaWFsLnJhOwogICAgICAgIHRoaXMuZmFrZVBvbGFyQXhpcy5kZWMgPSBmYWtlUG9sYXJFcXVhdG9yaWFsLmRlYzsKICAgICAgICB0aGlzLmZha2VQb2xhckF4aXMuY2FsY3VsYXRlZCA9IHRydWU7CiAgICAgICAgdGhpcy5hZGRMb2coIlx1NTA0N1x1Njc4MVx1OEY3NFx1NEY0RFx1N0Y2RVx1OEJBMVx1N0I5N1x1NUI4Q1x1NjIxMDogUkE9Ii5jb25jYXQoZmFrZVBvbGFyRXF1YXRvcmlhbC5yYS50b0ZpeGVkKDQpLCAiXHhCMCwgREVDPSIpLmNvbmNhdChmYWtlUG9sYXJFcXVhdG9yaWFsLmRlYy50b0ZpeGVkKDQpLCAiXHhCMCIpLCAnc3VjY2VzcycpOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMuYWRkTG9nKCJcdThCQTFcdTdCOTdcdTUwNDdcdTY3ODFcdThGNzRcdTRGNERcdTdGNkVcdTY1RjZcdTUxRkFcdTk1MTk6ICIuY29uY2F0KGVycm9yLm1lc3NhZ2UpLCAnZXJyb3InKTsKICAgICAgICBjb25zb2xlLmVycm9yKCforqHnrpflgYfmnoHovbTkvY3nva7plJnor6/vvJonLCBlcnJvcik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICog5bCG6LWk6YGT5Z2Q5qCH6L2s5o2i5Li656yb5Y2h5bCU5Z2Q5qCHCiAgICAgKi8KICAgIGVxdWF0b3JpYWxUb0NhcnRlc2lhbjogZnVuY3Rpb24gZXF1YXRvcmlhbFRvQ2FydGVzaWFuKHJhLCBkZWMpIHsKICAgICAgdmFyIHJhZGl1cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTsKICAgICAgdmFyIHJhUmFkID0gcmEgKiBNYXRoLlBJIC8gMTgwLjA7CiAgICAgIHZhciBkZWNSYWQgPSBkZWMgKiBNYXRoLlBJIC8gMTgwLjA7CiAgICAgIHJldHVybiB7CiAgICAgICAgeDogcmFkaXVzICogTWF0aC5jb3MoZGVjUmFkKSAqIE1hdGguY29zKHJhUmFkKSwKICAgICAgICB5OiByYWRpdXMgKiBNYXRoLmNvcyhkZWNSYWQpICogTWF0aC5zaW4ocmFSYWQpLAogICAgICAgIHo6IHJhZGl1cyAqIE1hdGguc2luKGRlY1JhZCkKICAgICAgfTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDlsIbnrJvljaHlsJTlnZDmoIfovazmjaLkuLrotaTpgZPlnZDmoIcKICAgICAqLwogICAgY2FydGVzaWFuVG9FcXVhdG9yaWFsOiBmdW5jdGlvbiBjYXJ0ZXNpYW5Ub0VxdWF0b3JpYWwoY2FydCkgewogICAgICB2YXIgcmFkaXVzID0gTWF0aC5zcXJ0KGNhcnQueCAqIGNhcnQueCArIGNhcnQueSAqIGNhcnQueSArIGNhcnQueiAqIGNhcnQueik7CiAgICAgIHZhciBkZWMgPSBNYXRoLmFzaW4oY2FydC56IC8gcmFkaXVzKSAqIDE4MC4wIC8gTWF0aC5QSTsKICAgICAgdmFyIHJhID0gTWF0aC5hdGFuMihjYXJ0LnksIGNhcnQueCkgKiAxODAuMCAvIE1hdGguUEk7IC8vIOehruS/nVJB5ZyoMC0zNjDluqbojIPlm7TlhoUKCiAgICAgIGlmIChyYSA8IDApIHJhICs9IDM2MC4wOwogICAgICByZXR1cm4gewogICAgICAgIHJhOiByYSwKICAgICAgICBkZWM6IGRlYwogICAgICB9OwogICAgfSwKCiAgICAvKioKICAgICAqIOiuoeeul+S4pOS4quWQkemHj+eahOWPieenrwogICAgICovCiAgICBjcm9zc1Byb2R1Y3Q6IGZ1bmN0aW9uIGNyb3NzUHJvZHVjdCh2MSwgdjIpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB4OiB2MS55ICogdjIueiAtIHYxLnogKiB2Mi55LAogICAgICAgIHk6IHYxLnogKiB2Mi54IC0gdjEueCAqIHYyLnosCiAgICAgICAgejogdjEueCAqIHYyLnkgLSB2MS55ICogdjIueAogICAgICB9OwogICAgfSwKCiAgICAvKioKICAgICAqIOiuoeeul+WQkemHj+mVv+W6pgogICAgICovCiAgICB2ZWN0b3JMZW5ndGg6IGZ1bmN0aW9uIHZlY3Rvckxlbmd0aCh2KSB7CiAgICAgIHJldHVybiBNYXRoLnNxcnQodi54ICogdi54ICsgdi55ICogdi55ICsgdi56ICogdi56KTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDlvZLkuIDljJblkJHph48KICAgICAqLwogICAgbm9ybWFsaXplVmVjdG9yOiBmdW5jdGlvbiBub3JtYWxpemVWZWN0b3IodikgewogICAgICB2YXIgbGVuZ3RoID0gdGhpcy52ZWN0b3JMZW5ndGgodik7CiAgICAgIHJldHVybiB7CiAgICAgICAgeDogdi54IC8gbGVuZ3RoLAogICAgICAgIHk6IHYueSAvIGxlbmd0aCwKICAgICAgICB6OiB2LnogLyBsZW5ndGgKICAgICAgfTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDnu5jliLblgYfmnoHovbTkvY3nva4KICAgICAqLwogICAgZHJhd0Zha2VQb2xhckF4aXM6IGZ1bmN0aW9uIGRyYXdGYWtlUG9sYXJBeGlzKGZha2VQb2xhclJBLCBmYWtlUG9sYXJERUMpIHsKICAgICAgdGhpcy5hZGRMb2coIlx1N0VEOFx1NTIzNlx1NTA0N1x1Njc4MVx1OEY3NFx1NEY0RFx1N0Y2RTogUkE9Ii5jb25jYXQoZmFrZVBvbGFyUkEudG9GaXhlZCg0KSwgIlx4QjAsIERFQz0iKS5jb25jYXQoZmFrZVBvbGFyREVDLnRvRml4ZWQoNCksICJceEIwIiksICdpbmZvJyk7CgogICAgICB0cnkgewogICAgICAgIC8vIOWumuS5ieWBh+aegei9tOeahOminOiJsu+8iOe0q+iJsu+8iQogICAgICAgIHZhciBmYWtlUG9sYXJDb2xvciA9IHsKICAgICAgICAgIHN0cm9rZTogIiM5QzI3QjAiLAogICAgICAgICAgLy8g57Sr6Imy6L655qGGCiAgICAgICAgICBzdHJva2VPcGFjaXR5OiAxLAogICAgICAgICAgLy8g6L655qGG5LiN6YCP5piO5bqmCiAgICAgICAgICBmaWxsOiAiIzlDMjdCMCIsCiAgICAgICAgICAvLyDntKvoibLloavlhYUKICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjMgLy8g5aGr5YWF5LiN6YCP5piO5bqm77yI5Y2K6YCP5piO77yJCgogICAgICAgIH07IC8vIOS9v+eUqOS4k+mXqOeahOWBh+aegei9tOe7mOWItuS6i+S7tu+8jOmBv+WFjeS4juebruagh+eCueWGsueqgQoKICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ0RyYXdGYWtlUG9sYXJBeGlzQ2lyY2xlJywgZmFrZVBvbGFyUkEsIGZha2VQb2xhckRFQywgZmFrZVBvbGFyQ29sb3IsICdGYWtlUG9sYXJBeGlzJywgJ+WBh+aegei9tCcpOwogICAgICAgIHRoaXMuYWRkTG9nKCJcdTUwNDdcdTY3ODFcdThGNzRcdTRGNERcdTdGNkVcdTVERjJcdTdFRDhcdTUyMzY6IFJBPSIuY29uY2F0KGZha2VQb2xhclJBLnRvRml4ZWQoNCksICJceEIwLCBERUM9IikuY29uY2F0KGZha2VQb2xhckRFQy50b0ZpeGVkKDQpLCAiXHhCMCIpLCAnaW5mbycpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMuYWRkTG9nKCJcdTdFRDhcdTUyMzZcdTUwNDdcdTY3ODFcdThGNzRcdTRGNERcdTdGNkVcdTY1RjZcdTUxRkFcdTk1MTk6ICIuY29uY2F0KGVycm9yLm1lc3NhZ2UpLCAnZXJyb3InKTsKICAgICAgICBjb25zb2xlLmVycm9yKCfnu5jliLblgYfmnoHovbTkvY3nva7plJnor6/vvJonLCBlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAvLyDljZXkvY3mjaLnrpfmlrnms5UKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIHVuaXRUb0FyY21pbjogZnVuY3Rpb24gdW5pdFRvQXJjbWluKHZhbCwgdW5pdCkgewogICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2YWwpKSByZXR1cm4gTmFOOwogICAgICBpZiAodW5pdCA9PT0gJ2RlZycpIHJldHVybiB2YWwgKiA2MDsKICAgICAgaWYgKHVuaXQgPT09ICdhcmNzZWMnKSByZXR1cm4gdmFsIC8gNjA7CiAgICAgIHJldHVybiB2YWw7IC8vICdhcmNtaW4nCiAgICB9LAogICAgYXJjbWluVG9Vbml0OiBmdW5jdGlvbiBhcmNtaW5Ub1VuaXQodmFsQXJjbWluLCB1bml0KSB7CiAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHZhbEFyY21pbikpIHJldHVybiBOYU47CiAgICAgIGlmICh1bml0ID09PSAnZGVnJykgcmV0dXJuIHZhbEFyY21pbiAvIDYwOwogICAgICBpZiAodW5pdCA9PT0gJ2FyY3NlYycpIHJldHVybiB2YWxBcmNtaW4gKiA2MDsKICAgICAgcmV0dXJuIHZhbEFyY21pbjsKICAgIH0sCiAgICB1bml0R2x5cGg6IGZ1bmN0aW9uIHVuaXRHbHlwaCh1bml0KSB7CiAgICAgIGlmICh1bml0ID09PSAnZGVnJykgcmV0dXJuICfCsCc7CiAgICAgIGlmICh1bml0ID09PSAnYXJjc2VjJykgcmV0dXJuICfigLMnOwogICAgICByZXR1cm4gJ+KAsic7IC8vIGFyY21pbgogICAgfSwKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIOW3puWPsy/kuIrkuIvmmKDlsITvvIjpnaLlkJHmnoHngrnvvInmlrnms5UKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIOagueaNruW9k+WJjeWdkOagh+iuoeeul+acneWQkeWTquS4quaegeeCuQogICAgY2FsY3VsYXRlRmFjaW5nUG9sZTogZnVuY3Rpb24gY2FsY3VsYXRlRmFjaW5nUG9sZSgpIHsKICAgICAgaWYgKCF0aGlzLiRzdG9yZSB8fCAhdGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudExvY2F0aW9uKSB7CiAgICAgICAgcmV0dXJuICdub3J0aCc7IC8vIOm7mOiupOi/lOWbnuWMl+aegQogICAgICB9CgogICAgICB2YXIgbGF0ID0gdGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudExvY2F0aW9uLmxhdDsgLy8g5YyX5Y2K55CD77yI57qs5bqmID4gMO+8iemdouWQkeWMl+aege+8jOWNl+WNiueQg++8iOe6rOW6piA8IDDvvInpnaLlkJHljZfmnoEKCiAgICAgIHJldHVybiBsYXQgPj0gMCA/ICdub3J0aCcgOiAnc291dGgnOwogICAgfSwKICAgIC8vIGF6U2lnbiA+IDAgPSDmnJ3kuJzvvJthelNpZ24gPCAwID0g5pyd6KW/CiAgICBhekxhYmVsQnlTaWduOiBmdW5jdGlvbiBhekxhYmVsQnlTaWduKGF6U2lnbikgewogICAgICAvLyDliqjmgIHorqHnrpfmnJ3lkJHmnoHngrnvvIzogIzkuI3mmK/kvb/nlKggcHJvcHMKICAgICAgdmFyIGZhY2luZ1BvbGUgPSB0aGlzLmNhbGN1bGF0ZUZhY2luZ1BvbGUoKTsgLy8g6Z2i5ZCR5YyX5p6B54K577ya5LicPeKGkuWPs++8jOilvz3ihpDlt6bvvJvpnaLlkJHljZfmnoHngrnliJnnm7jlj40KCiAgICAgIHZhciBlYXN0ID0gZmFjaW5nUG9sZSA9PT0gJ25vcnRoJyA/IHRoaXMuJHQoJ+KGkiBSaWdodCAoRWFzdCknKSA6IHRoaXMuJHQoJ+KGkCBMZWZ0IChFYXN0KScpOwogICAgICB2YXIgd2VzdCA9IGZhY2luZ1BvbGUgPT09ICdub3J0aCcgPyB0aGlzLiR0KCfihpAgTGVmdCAoV2VzdCknKSA6IHRoaXMuJHQoJ+KGkiBSaWdodCAoV2VzdCknKTsKICAgICAgcmV0dXJuIGF6U2lnbiA+PSAwID8gZWFzdCA6IHdlc3Q7CiAgICB9LAogICAgLy8gYWx0U2lnbiA+IDAgPSDmiqzpq5jvvJthbHRTaWduIDwgMCA9IOmZjeS9jgogICAgYWx0TGFiZWxCeVNpZ246IGZ1bmN0aW9uIGFsdExhYmVsQnlTaWduKGFsdFNpZ24pIHsKICAgICAgcmV0dXJuIGFsdFNpZ24gPj0gMCA/IHRoaXMuJHQoJ+KGkSBVcCAoUmFpc2UpJykgOiB0aGlzLiR0KCfihpMgRG93biAoTG93ZXIpJyk7CiAgICB9LAogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8g57uf5LiA5qC85byP5YyWIuaVsOWAvCArIOWNleS9jSLmlrnms5UKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIGZvcm1hdFdpdGhVbml0OiBmdW5jdGlvbiBmb3JtYXRXaXRoVW5pdCh2YWxJbkFyY21pbiwgdW5pdCkgewogICAgICB2YXIgZGlnaXRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxOwogICAgICB2YXIgdiA9IHRoaXMuYXJjbWluVG9Vbml0KE1hdGguYWJzKHZhbEluQXJjbWluKSwgdW5pdCk7CiAgICAgIHZhciBnbHlwaCA9IHRoaXMudW5pdEdseXBoKHVuaXQpOwogICAgICByZXR1cm4gIiIuY29uY2F0KHYudG9GaXhlZChkaWdpdHMpKS5jb25jYXQoZ2x5cGgpOwogICAgfSwKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgIC8vIOminOiJsuW3peWFt+aWueazlQogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgZ2V0Q2FsaWJyYXRpb25Qb2ludENvbG9yOiBmdW5jdGlvbiBnZXRDYWxpYnJhdGlvblBvaW50Q29sb3IoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgc3Ryb2tlOiBDT0xPUlMuV0hJVEUsCiAgICAgICAgc3Ryb2tlT3BhY2l0eTogMSwKICAgICAgICBmaWxsOiBDT0xPUlMuV0hJVEUsCiAgICAgICAgZmlsbE9wYWNpdHk6IDAuMgogICAgICB9OwogICAgfSwKICAgIGdldEN1cnJlbnRQb3NpdGlvbkNvbG9yOiBmdW5jdGlvbiBnZXRDdXJyZW50UG9zaXRpb25Db2xvcigpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBzdHJva2U6ICIjMDBCRkZGIiwKICAgICAgICBzdHJva2VPcGFjaXR5OiAxLAogICAgICAgIGZpbGw6ICIjMDBCRkZGIiwKICAgICAgICBmaWxsT3BhY2l0eTogMC4zCiAgICAgIH07CiAgICB9LAogICAgZ2V0VGFyZ2V0UG9pbnRDb2xvcjogZnVuY3Rpb24gZ2V0VGFyZ2V0UG9pbnRDb2xvcigpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBzdHJva2U6IENPTE9SUy5TVUNDRVNTLAogICAgICAgIHN0cm9rZU9wYWNpdHk6IDEsCiAgICAgICAgZmlsbDogQ09MT1JTLlNVQ0NFU1MsCiAgICAgICAgZmlsbE9wYWNpdHk6IDAuMwogICAgICB9OwogICAgfSwKICAgIGdldEZha2VQb2xhckF4aXNDb2xvcjogZnVuY3Rpb24gZ2V0RmFrZVBvbGFyQXhpc0NvbG9yKCkgewogICAgICByZXR1cm4gewogICAgICAgIHN0cm9rZTogIiM5QzI3QjAiLAogICAgICAgIHN0cm9rZU9wYWNpdHk6IDEsCiAgICAgICAgZmlsbDogIiM5QzI3QjAiLAogICAgICAgIGZpbGxPcGFjaXR5OiAwLjMKICAgICAgfTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["AutomaticPolarAlignmentCalibration.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"polar-alignment-root\">\n  <!-- 最小化状态 -->\n  <div v-if=\"visible && isMinimized\" class=\"polar-alignment-minimized\" :class=\"{ 'dragging': isDraggingState }\"\n    :style=\"{ left: position.x + 'px', top: position.y + 'px' }\">\n    <div class=\"minimized-header\">\n      <div class=\"minimized-drag-area\" @mousedown=\"startDrag\" @touchstart=\"startDrag\">\n        <v-icon class=\"minimized-icon\">mdi-compass-rose</v-icon>\n        <span class=\"minimized-title\">{{ $t('Polar Alignment') }}</span>\n      </div>\n      <div class=\"minimized-controls\">\n        <button class=\"minimized-btn\" @click=\"toggleMinimize\" :title=\"$t('Expand')\">\n          <v-icon>mdi-chevron-up</v-icon>\n        </button>\n      </div>\n    </div>\n    <div class=\"minimized-status\">\n      <div class=\"status-indicator\" :class=\"{ 'online': isConnected }\"></div>\n      <span class=\"status-text\">{{ isConnected ? $t('Connected') : $t('Disconnected') }}</span>\n    </div>\n  </div>\n\n  <!-- 完整界面 -->\n  <div v-else-if=\"visible\" class=\"polar-alignment-widget\"\n    :class=\"{ 'collapsed': isCollapsed, 'dragging': isDraggingState }\"\n    :style=\"{ left: position.x + 'px', top: position.y + 'px', pointerEvents: (showTrajectoryOverlay && overlayMode === 'fullscreen' ? 'none' : 'auto') }\">\n\n    <!-- 拖动手柄 -->\n    <div class=\"widget-header\">\n      <div class=\"header-drag-area\" @mousedown=\"startDrag\" @touchstart=\"startDrag\">\n        <div class=\"header-left\">\n          <v-icon class=\"header-icon\">mdi-compass-rose</v-icon>\n          <span class=\"header-title\">{{ $t('Polar Alignment Calibration') }}</span>\n          <div class=\"connection-indicator\">\n            <div class=\"status-dot\" :class=\"{ 'online': isConnected }\"></div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"header-controls\">\n        <button class=\"header-btn\" @click=\"toggleCollapse\" :title=\"isCollapsed ? $t('Expand') : $t('Collapse')\">\n          <v-icon>{{ isCollapsed ? 'mdi-chevron-down' : 'mdi-chevron-up' }}</v-icon>\n        </button>\n        <button class=\"header-btn\" @click=\"toggleTrajectoryOverlay\" :title=\"showTrajectoryOverlay ? $t('Hide Trajectory Canvas') : $t('Show Trajectory Canvas')\">\n          <v-icon>{{ showTrajectoryOverlay ? 'mdi-eye-off' : 'mdi-crosshairs-gps' }}</v-icon>\n        </button>\n        <button class=\"header-btn\" @click=\"toggleMinimize\" :title=\"$t('Minimize')\">\n          <v-icon>mdi-minus</v-icon>\n        </button>\n      </div>\n    </div>\n\n    <!-- 收缩状态内容 -->\n    <div v-if=\"isCollapsed\" class=\"widget-content collapsed\" :class=\"{ 'dragging': isDraggingState }\">\n      <div class=\"collapsed-info\">\n        <div class=\"collapsed-progress\">\n          <div class=\"progress-circle\" :style=\"{ '--progress': progressPercentage + '%' }\">\n            <span class=\"progress-text\">{{ Math.round(progressPercentage) }}%</span>\n          </div>\n        </div>\n        <div class=\"collapsed-status\">\n          <div class=\"status-item\">\n            <span class=\"status-label\">方位角:</span>\n            <span class=\"status-value\" :class=\"{ 'needs-adjustment': needsAzimuthAdjustment }\">\n              {{ formatAdjustmentValue(adjustment.azimuth) }}\n            </span>\n          </div>\n          <div class=\"status-item\">\n            <span class=\"status-label\">高度角:</span>\n            <span class=\"status-value\" :class=\"{ 'needs-adjustment': needsAltitudeAdjustment }\">\n              {{ formatAdjustmentValue(adjustment.altitude) }}\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 展开状态内容 -->\n    <div v-else class=\"widget-content expanded\" :class=\"{ 'dragging': isDraggingState }\">\n      <div class=\"content-sections\">\n        <!-- 校准步骤进度条 -->\n        <div class=\"calibration-progress\">\n          <div class=\"progress-header\">\n            <div class=\"progress-title\">{{ $t('Calibration Progress') }}</div>\n            <div v-if=\"progressPercentage >= 75 && progressPercentage < 95\" class=\"calibration-loop-info\">\n              {{ $t('Calibration Round', [calibrationLoopCount]) }}\n            </div>\n          </div>\n          <div class=\"progress-bar\">\n            <div class=\"progress-fill\" :style=\"{ width: progressPercentage + '%' }\"></div>\n            <div class=\"progress-nodes\">\n              <!-- 初始化节点 -->\n              <div class=\"progress-node\" :class=\"getStepClass(0)\">\n                <div class=\"node-circle\">\n                  <v-icon v-if=\"progressPercentage >= 15\">mdi-check</v-icon>\n                  <v-icon v-else>mdi-cog</v-icon>\n                </div>\n                <div class=\"node-label\">{{ $t('Initialization') }}</div>\n              </div>\n\n              <!-- 第一次校准节点 -->\n              <div class=\"progress-node\" :class=\"getStepClass(1)\">\n                <div class=\"node-circle\">\n                  <v-icon v-if=\"progressPercentage >= 25\">mdi-check</v-icon>\n                  <span v-else>1</span>\n                </div>\n                <div class=\"node-label\">{{ $t('First Calibration') }}</div>\n              </div>\n\n              <!-- 第二次校准节点 -->\n              <div class=\"progress-node\" :class=\"getStepClass(2)\">\n                <div class=\"node-circle\">\n                  <v-icon v-if=\"progressPercentage >= 50\">mdi-check</v-icon>\n                  <span v-else>2</span>\n                </div>\n                <div class=\"node-label\">{{ $t('Second Calibration') }}</div>\n              </div>\n\n              <!-- 第三次校准节点 -->\n              <div class=\"progress-node\" :class=\"getStepClass(3)\">\n                <div class=\"node-circle\">\n                  <v-icon v-if=\"progressPercentage >= 75\">mdi-check</v-icon>\n                  <span v-else>3</span>\n                </div>\n                <div class=\"node-label\">{{ $t('Third Calibration') }}</div>\n              </div>\n\n              <!-- 校准调整节点 -->\n              <div class=\"progress-node calibration-node\"\n                :class=\"{ 'active': progressPercentage >= 75, 'looping': progressPercentage >= 75 && progressPercentage < 95 }\">\n                <div class=\"node-circle\">\n                  <v-icon v-if=\"progressPercentage >= 95\">mdi-check</v-icon>\n                  <v-icon v-else-if=\"progressPercentage >= 75\">mdi-refresh</v-icon>\n                  <v-icon v-else>mdi-tune</v-icon>\n                </div>\n                <div class=\"node-label\">{{ $t('Calibration') }}</div>\n              </div>\n\n              <!-- 最终验证节点 -->\n              <div class=\"progress-node verification-node\" :class=\"{ 'active': progressPercentage >= 95 }\">\n                <div class=\"node-circle\">\n                  <v-icon v-if=\"isPolarAligned\">mdi-check</v-icon>\n                  <v-icon v-else>mdi-target</v-icon>\n                </div>\n                <div class=\"node-label\">{{ $t('Verification') }}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- 日志显示 -->\n        <div class=\"log-section\">\n          <div class=\"log-display\">\n            <div v-if=\"displayLogs.length > 0\" class=\"latest-log\" :class=\"displayLogs[0].level\">\n              <div class=\"log-timestamp\">{{ formatTime(displayLogs[0].timestamp) }}</div>\n              <div class=\"log-message\">{{ displayLogs[0].message }}</div>\n            </div>\n            <div v-else class=\"log-empty\">\n              {{ $t('No activity logs') }}\n            </div>\n          </div>\n        </div>\n\n        <!-- 位置信息 -->\n        <div class=\"position-section\">\n          <div class=\"position-grid\">\n            <div class=\"position-cell current\">\n              <div class=\"cell-label\">{{ $t('current RA') }}</div>\n              <div class=\"cell-value\">{{ currentPosition.ra }}</div>\n            </div>\n            <div class=\"position-cell current\">\n              <div class=\"cell-label\">{{ $t('current DEC') }}</div>\n              <div class=\"cell-value\">{{ currentPosition.dec }}</div>\n            </div>\n            <div class=\"position-cell target\">\n              <div class=\"cell-label\">{{ $t('target RA') }}</div>\n              <div class=\"cell-value\">{{ targetPosition.ra }}</div>\n            </div>\n            <div class=\"position-cell target\">\n              <div class=\"cell-label\">{{ $t('target DEC') }}</div>\n              <div class=\"cell-value\">{{ targetPosition.dec }}</div>\n            </div>\n          </div>\n        </div>\n\n        <!-- 调整指导 -->\n        <div class=\"adjustment-section\">\n          <div class=\"adjustment-instructions\">\n            <div class=\"adjustment-item\" :class=\"{ 'active': needsAzimuthAdjustment }\">\n              <div class=\"adjustment-icon\">\n                <v-icon>mdi-compass</v-icon>\n              </div>\n              <div class=\"adjustment-details\">\n                <div class=\"adjustment-header\">\n                  <span class=\"adjustment-type\">{{ $t('Azimuth') }}</span>\n                  <span class=\"adjustment-value\">{{ formatAdjustmentValue(adjustment.azimuth) }}</span>\n                </div>\n                <div class=\"adjustment-action\">\n                  {{ needsAzimuthAdjustment ? getAzimuthAction(adjustment.azimuth) : $t('No adjustment needed') }}\n                </div>\n\n              </div>\n            </div>\n\n            <div class=\"adjustment-item\" :class=\"{ 'active': needsAltitudeAdjustment }\">\n              <div class=\"adjustment-icon\">\n                <v-icon>mdi-compass</v-icon>\n              </div>\n              <div class=\"adjustment-details\">\n                <div class=\"adjustment-header\">\n                  <span class=\"adjustment-type\">{{ $t('Altitude') }}</span>\n                  <span class=\"adjustment-value\">{{ formatAdjustmentValue(adjustment.altitude) }}</span>\n                </div>\n                <div class=\"adjustment-action\">\n                  {{ needsAltitudeAdjustment ? getAltitudeAction(adjustment.altitude) : $t('No adjustment needed') }}\n                </div>\n\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- 控制按钮 -->\n        <div class=\"control-section\">\n          <div class=\"action-buttons\">\n            <button class=\"action-btn primary\" @click=\"startAutoCalibration\" :disabled=\"!canAutoCalibrate\">\n              <v-icon v-if=\"!isCalibrationRunning\">mdi-play-circle</v-icon>\n              <v-icon v-else>mdi-stop-circle</v-icon>\n              <span>{{ isCalibrationRunning ? $t('Stop Calibration') : $t('Start Auto Calibration') }}</span>\n            </button>\n\n\n\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- 轨迹画布：全屏模式 -->\n  <div v-if=\"visible && showTrajectoryOverlay && overlayMode === 'fullscreen'\" class=\"trajectory-overlay\"\n       @wheel.prevent=\"onOverlayWheel\" @mousedown.stop @touchstart.stop>\n    <canvas ref=\"trajectoryCanvas\"></canvas>\n    <button class=\"overlay-close-btn\" @click.stop=\"toggleTrajectoryOverlay\" :title=\"$t('Hide Trajectory Canvas')\">\n      <v-icon>mdi-close</v-icon>\n    </button>\n    <div class=\"overlay-hint\">{{ $t('Target fixed at center') }}</div>\n    <div class=\"overlay-panel\">\n      <div class=\"panel-row\">\n        <span class=\"panel-label\">{{ $t('Current') }}:</span>\n        <span class=\"panel-value\">RA {{ currentPosition.ra }} / DEC {{ currentPosition.dec }}</span>\n      </div>\n      <div class=\"panel-row\">\n        <span class=\"panel-label\">{{ $t('Target') }}:</span>\n        <span class=\"panel-value\">RA {{ targetPosition.ra }} / DEC {{ targetPosition.dec }}</span>\n      </div>\n      <div class=\"panel-actions\">\n        <!-- <button class=\"panel-btn\" disabled :title=\"$t('Disabled')\">{{ $t('Clear All Trajectory') }}</button> -->\n        <button class=\"panel-btn\" @click.stop=\"clearOldTrajectory\">{{ $t('Clear Old Trajectory') }}</button>\n        <button class=\"panel-btn\" @click.stop=\"switchToWindowed\">{{ $t('Switch to Windowed Mode') }}</button>\n      </div>\n    </div>\n  </div>\n\n  <!-- 轨迹画布：窗口模式 -->\n  <div v-if=\"visible && showTrajectoryOverlay && overlayMode === 'windowed'\"\n       class=\"trajectory-window\" :style=\"{ left: windowedRect.x + 'px', top: windowedRect.y + 'px', width: windowedRect.width + 'px', height: windowedRect.height + 'px' }\"\n       @mousedown.stop @touchstart.stop>\n    <div class=\"window-header\" @mousedown.stop=\"startWindowDrag\" @touchstart.stop=\"startWindowDrag\">\n      <span class=\"window-title\">{{ $t('Trajectory') }}</span>\n      <div class=\"window-actions\">\n        <button class=\"panel-btn small\" @click.stop=\"switchToFullscreen\">{{ $t('Switch to Fullscreen Mode') }}</button>\n        <button class=\"panel-btn small\" @click.stop=\"clearOldTrajectory\">{{ $t('Clear Old Trajectory') }}</button>\n        <!-- <button class=\"panel-btn small\" disabled :title=\"$t('Disabled')\">{{ $t('Clear All Trajectory') }}</button> -->\n        <button class=\"panel-btn small\" @click.stop=\"toggleTrajectoryOverlay\" :title=\"$t('Hide Trajectory Canvas')\"><v-icon>mdi-close</v-icon></button>\n      </div>\n    </div>\n    <div class=\"window-content\">\n      <canvas ref=\"trajectoryCanvas\"></canvas>\n    </div>\n  </div>\n  </div>\n</template>\n\n<script>\n// 常量定义\nconst COLORS = {\n  PRIMARY: '#64b5f6',\n  SUCCESS: '#4caf50',\n  WARNING: '#ff9800',\n  ERROR: '#f44336',\n  INFO: '#2196f3',\n  WHITE: '#ffffff',\n  BACKGROUND: 'rgba(35, 35, 45, 0.95)',\n  SURFACE: 'rgba(60, 60, 70, 0.9)'\n}\n\nconst CALIBRATION_PHASES = {\n  INITIAL: 'initial',\n  COLLECTING: 'collecting',\n  ADJUSTING: 'adjusting',\n  VERIFYING: 'verifying'\n}\n\nconst PROGRESS_THRESHOLDS = {\n  INITIALIZATION: 15,\n  FIRST_CALIBRATION: 25,\n  SECOND_CALIBRATION: 50,\n  THIRD_CALIBRATION: 75,\n  CALIBRATION_LOOP: 95,\n  COMPLETION: 100\n}\n\nconst DIMENSIONS = {\n  MINIMIZED: { width: 250, height: 80 },\n  COLLAPSED: { width: 300, height: 120 },\n  EXPANDED: { width: 350, height: 400 }\n}\n\nconst LOG_LIMIT = 100\nconst DISPLAY_LOG_LIMIT = 10\n\nexport default {\n  name: 'AutomaticPolarAlignmentCalibration',\n\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    autoStart: {\n      type: Boolean,\n      default: false\n    },\n    // 新增：传入调整数据的单位（'deg' | 'arcmin' | 'arcsec'）\n    adjustmentUnit: { type: String, default: 'arcmin' },\n\n    // 新增：用户站位视角（'north' | 'south'），用于左右映射\n    facingPole: { type: String, default: 'north' },\n\n    // 新增：动作死区（以角分定义，UI判定是否需要动作）\n    deadbandArcmin: { type: Number, default: 0.5 }\n  },\n\n  data() {\n    return {\n      // 连接状态\n      isConnected: false,\n\n      // 位置信息\n      currentPosition: {\n        ra: '00h 00m 00s',\n        dec: '+00° 00\\' 00\"'\n      },\n      targetPosition: {\n        ra: '00h 00m 00s',\n        dec: '+00° 00\\' 00\"'\n      },\n      previousPosition: {\n        ra: '00h 00m 00s',\n        dec: '+00° 00\\' 00\"'\n      },\n\n      // 校准数据\n      isCalibrationComplete: false,\n      isPolarAligned: false,\n\n      // 调整信息\n      adjustment: {\n        azimuth: 0.0,\n        altitude: 0.0\n      },\n\n      // 日志系统 - 使用循环数组优化内存\n      logs: [],\n      logIndex: 0,\n      logCapacity: LOG_LIMIT,\n\n      // 校准运行状态\n      isCalibrationRunning: false,\n\n      // 视场数据\n      fieldData: null,\n\n      // 当前进度\n      currentProgress: 0,\n\n      // === 新增：界面控制状态 ===\n      // 拖动状态\n      isDragging: false,\n      dragOffset: { x: 0, y: 0 },\n\n      // 控件位置\n      position: { x: 50, y: 50 },\n\n      // 界面状态\n      isMinimized: false,\n      isCollapsed: false,\n\n      // === 新增：性能优化 ===\n      // 缓存尺寸计算结果\n      cachedDimensions: {\n        width: 350,\n        height: 400\n      },\n      // 拖动状态标记\n      isDraggingState: false,\n\n      // 内存清理定时器\n      memoryCleanupTimer: null,\n\n      // 计算缓存\n      cachedAzimuthArcmin: null,\n      cachedAltitudeArcmin: null,\n      lastAzimuthValue: null,\n      lastAltitudeValue: null,\n\n      // 拖动性能优化\n      lastDragTime: 0,\n\n      // 极轴偏移量\n      polarAxisOffset: {\n        azimuth: 0,\n        altitude: 0\n      },\n\n      // 校准循环计数\n      calibrationLoopCount: 0,\n      lastCalibrationProgress: 0,\n\n      // 校准阶段状态\n      calibrationPhase: 'initial', // 'initial', 'collecting', 'adjusting', 'verifying'\n      calibrationPoints: [], // 存储三个校准点的坐标\n      maxCalibrationPoints: 3, // 最大校准点数量\n      targetPoint: null, // 存储目标点坐标\n\n      // 移除假极轴相关数据\n      // fakePolarAxis: {\n      //   ra: null,\n      //   dec: null,\n      //   calculated: false\n      // },\n\n      // === 轨迹画布状态 ===\n      showTrajectoryOverlay: false,\n      overlayMode: 'fullscreen', // 'fullscreen' | 'windowed'\n      trajectoryScale: 1, // 已弃用（不再使用手动缩放）\n      autoFitPxPerDeg: 40, // 自动适配计算出的 px/deg（基于当前画布尺寸与数据范围）\n      trajectoryPoints: [], // [{x, y}] in overlay canvas space after transform\n      rawTrajectoryPoints: [], // 保存原始的 {ra, dec} 序列\n      lastRawPosition: null, // {ra, dec} numeric\n      targetRawPosition: null, // {ra, dec} numeric, fixed as overlay center reference\n      windowedRect: { x: 40, y: 80, width: 420, height: 300 },\n      // 逻辑画布尺寸：用于窗口模式将“全屏画布”按比例缩放进窗口\n      baseCanvasLogicalSize: { width: 1280, height: 720 },\n      windowDrag: { active: false, offsetX: 0, offsetY: 0 },\n      // === 视图变换（仅缩小比例；以目标与首点填满画布） ===\n      currentPxPerDeg: null, // 当前像素/度，只会缩小\n      viewMinWorldX: null, // 世界坐标：X 为 dRA(unwrapped)，Y 为 dDec\n      viewMaxWorldX: null,\n      viewMinWorldY: null,\n      viewMaxWorldY: null,\n      raUnwrapAnchor: null, // dRA 展开锚点（首点相对目标）\n      viewPadRatioX: 0.12,\n      viewPadRatioY: 0.10,\n      viewOffsetXPx: 0,\n      viewOffsetYPx: 0,\n    }\n  },\n\n  computed: {\n    // 显示的日志 - 使用缓存优化\n    displayLogs() {\n      // 返回最近的10条日志，按时间倒序（用于显示最新一条）\n      const logs = this.logs\n      if (logs.length <= DISPLAY_LOG_LIMIT) {\n        return logs.slice().reverse()\n      }\n      return logs.slice(-DISPLAY_LOG_LIMIT).reverse()\n    },\n\n    // 校准进度百分比\n    progressPercentage() {\n      // 使用从后端传入的进度\n      return this.currentProgress\n    },\n\n    // 是否可以自动校准\n    canAutoCalibrate() {\n      return this.isConnected\n    },\n\n    // 是否需要方位角调整 - 使用缓存避免重复计算\n    needsAzimuthAdjustment() {\n      const v = this.adjustment?.azimuth\n      if (!Number.isFinite(v)) return false\n      // 使用缓存的值，避免重复计算\n      return this.cachedAzimuthArcmin !== null ? \n        Math.abs(this.cachedAzimuthArcmin) > this.deadbandArcmin : \n        Math.abs(this.unitToArcmin(v, this.adjustmentUnit)) > this.deadbandArcmin\n    },\n\n    // 是否需要高度角调整 - 使用缓存避免重复计算\n    needsAltitudeAdjustment() {\n      const v = this.adjustment?.altitude\n      if (!Number.isFinite(v)) return false\n      // 使用缓存的值，避免重复计算\n      return this.cachedAltitudeArcmin !== null ? \n        Math.abs(this.cachedAltitudeArcmin) > this.deadbandArcmin : \n        Math.abs(this.unitToArcmin(v, this.adjustmentUnit)) > this.deadbandArcmin\n    }\n  },\n\n  watch: {\n    visible(newVal) {\n      if (newVal && this.autoStart) {\n        this.startAutoCalibration()\n      }\n    },\n    \n    // 监听当前坐标变化，自动更新朝向极点\n    '$store.state.currentLocation.lat': {\n      handler(newLat, oldLat) {\n        if (newLat !== oldLat && newLat !== undefined) {\n          const facingPole = this.calculateFacingPole()\n          this.addLog(this.$t('Location Changed', [facingPole, newLat]), 'info')\n          \n          // 如果正在调整阶段，重新计算调整建议\n          if (this.calibrationPhase === 'adjusting') {\n            this.addLog(this.$t('Recalculating Adjustment Directions'), 'info')\n          }\n        }\n      },\n      immediate: false\n    },\n\n    // 监听调整值变化，更新缓存 - 使用防抖避免频繁更新\n    'adjustment.azimuth': {\n      handler: function(newVal) {\n        if (Number.isFinite(newVal)) {\n          // 清除之前的定时器\n          if (this._azimuthUpdateTimer) {\n            clearTimeout(this._azimuthUpdateTimer)\n          }\n          // 使用防抖，延迟100ms更新\n          this._azimuthUpdateTimer = setTimeout(() => {\n            this.cachedAzimuthArcmin = this.unitToArcmin(newVal, this.adjustmentUnit)\n            this.lastAzimuthValue = newVal\n          }, 100)\n        }\n      },\n      immediate: true\n    },\n\n    'adjustment.altitude': {\n      handler: function(newVal) {\n        if (Number.isFinite(newVal)) {\n          // 清除之前的定时器\n          if (this._altitudeUpdateTimer) {\n            clearTimeout(this._altitudeUpdateTimer)\n          }\n          // 使用防抖，延迟100ms更新\n          this._altitudeUpdateTimer = setTimeout(() => {\n            this.cachedAltitudeArcmin = this.unitToArcmin(newVal, this.adjustmentUnit)\n            this.lastAltitudeValue = newVal\n          }, 100)\n        }\n      },\n      immediate: true\n    }\n  },\n\n    mounted() {\n      // 实现组件初始化逻辑\n      this.initialize()\n\n      // 初始化缓存的尺寸信息\n      this.updateCachedDimensions()\n\n      // 监听信号总线事件\n      this.$bus.$on('showPolarAlignment', this.showInterface)\n      this.$bus.$on('hidePolarAlignment', this.hideInterface)\n\n      // 监听赤道仪连接状态\n      this.$bus.$on('MountConnected', this.updateMountConnection)\n\n      // 接收状态更新\n      this.$bus.$on('PolarAlignmentState', this.updatePolarAlignmentState)\n\n      // 监听视场数据更新\n      this.$bus.$on('FieldDataUpdate', this.updateFieldData)\n\n      // 监听卡片信息更新\n      this.$bus.$on('updateCardInfo', this.updateCardInfo)\n\n      // 监听自动校准状态\n      this.$bus.$on('PolarAlignmentIsRunning', this.updatePolarAlignmentIsRunning)\n\n      // 启动定期内存清理（每5分钟清理一次）\n      this.startMemoryCleanup()\n    },\n\n    beforeDestroy() {\n      // 移除信号总线监听\n      this.$bus.$off('showPolarAlignment', this.showInterface)\n      this.$bus.$off('hidePolarAlignment', this.hideInterface)\n      this.$bus.$off('MountConnected', this.updateMountConnection)\n      this.$bus.$off('PolarAlignmentState', this.updatePolarAlignmentState)\n      this.$bus.$off('FieldDataUpdate', this.updateFieldData)\n      this.$bus.$off('updateCardInfo', this.updateCardInfo)\n      this.$bus.$off('PolarAlignmentIsRunning', this.updatePolarAlignmentIsRunning)\n\n      // 清理拖动事件监听\n      this.cleanupDragListeners()\n\n      // 清理缓存数据\n      this.clearCachedData()\n\n      // 停止内存清理定时器\n      this.stopMemoryCleanup()\n\n      // 清理防抖定时器\n      this.clearDebounceTimers()\n\n      // 实现组件销毁逻辑\n      this.cleanup()\n    },\n\n    methods: {\n      // ========================================\n      // 信号总线事件处理\n      // ========================================\n      showInterface() {\n        this.$emit('update:visible', true)\n      },\n\n      hideInterface() {\n        this.$emit('update:visible', false)\n      },\n\n      updateMountConnection(status) {\n        this.isConnected = status === 1\n        const statusText = this.isConnected ? this.$t('Connected') : this.$t('Disconnected')\n        this.addLog(this.$t('Mount Connection Status', [statusText]), this.isConnected ? 'success' : 'warning')\n      },\n\n      // ========================================\n      // 初始化和清理\n      // ========================================\n      initialize() {\n        this.addLog(this.$t('Polar Alignment Component Initialized'), 'info')\n        \n        // 记录当前朝向极点\n        const facingPole = this.calculateFacingPole()\n        const lat = this.$store?.state?.currentLocation?.lat || 'unknown'\n        this.addLog(this.$t('Facing Pole', [facingPole, lat]), 'info')\n      },\n\n      cleanup() {\n        this.addLog(this.$t('Polar Alignment Component Cleaned'), 'info')\n      },\n\n      // 内存使用监控（仅在开发环境）\n      getMemoryUsage() {\n        if (process.env.NODE_ENV === 'development' && performance.memory) {\n          return {\n            usedJSHeapSize: Math.round(performance.memory.usedJSHeapSize / 1024 / 1024) + 'MB',\n            totalJSHeapSize: Math.round(performance.memory.totalJSHeapSize / 1024 / 1024) + 'MB',\n            jsHeapSizeLimit: Math.round(performance.memory.jsHeapSizeLimit / 1024 / 1024) + 'MB',\n            logsCount: this.logs.length,\n            calibrationPointsCount: this.calibrationPoints.length\n          }\n        }\n        return null\n      },\n\n      // 启动定期内存清理\n      startMemoryCleanup() {\n        this.memoryCleanupTimer = setInterval(() => {\n          this.performMemoryCleanup()\n        }, 5 * 60 * 1000) // 每5分钟清理一次\n      },\n\n      // 停止内存清理定时器\n      stopMemoryCleanup() {\n        if (this.memoryCleanupTimer) {\n          clearInterval(this.memoryCleanupTimer)\n          this.memoryCleanupTimer = null\n        }\n      },\n\n      // 执行内存清理\n      performMemoryCleanup() {\n        // 清理过期的日志（保留最近50条）\n        if (this.logs.length > 50) {\n          this.logs = this.logs.slice(-50)\n          this.logIndex = Math.min(this.logIndex, 50)\n        }\n\n        // 清理过期的校准点（如果超过最大数量）\n        if (this.calibrationPoints.length > this.maxCalibrationPoints) {\n          this.calibrationPoints = this.calibrationPoints.slice(-this.maxCalibrationPoints)\n        }\n\n        // 强制垃圾回收（如果可用）\n        if (window.gc && typeof window.gc === 'function') {\n          window.gc()\n        }\n\n        // 在开发环境输出内存使用情况\n        if (process.env.NODE_ENV === 'development') {\n          const memoryInfo = this.getMemoryUsage()\n          if (memoryInfo) {\n            console.log('Memory cleanup performed:', memoryInfo)\n          }\n        }\n      },\n\n      // 清理拖动事件监听器\n      cleanupDragListeners() {\n        document.removeEventListener('mousemove', this.onDrag)\n        document.removeEventListener('mouseup', this.stopDrag)\n        document.removeEventListener('touchmove', this.onDrag)\n        document.removeEventListener('touchend', this.stopDrag)\n      },\n\n      // 清理防抖定时器\n      clearDebounceTimers() {\n        if (this._azimuthUpdateTimer) {\n          clearTimeout(this._azimuthUpdateTimer)\n          this._azimuthUpdateTimer = null\n        }\n        if (this._altitudeUpdateTimer) {\n          clearTimeout(this._altitudeUpdateTimer)\n          this._altitudeUpdateTimer = null\n        }\n      },\n\n      // 清理缓存数据\n      clearCachedData() {\n        // 清理计算缓存\n        this.cachedAzimuthArcmin = null\n        this.cachedAltitudeArcmin = null\n        this.lastAzimuthValue = null\n        this.lastAltitudeValue = null\n        this.lastDragTime = 0\n        \n        // 清理日志数据\n        this.logs = []\n        this.logIndex = 0\n        \n        // 清理校准数据\n        this.calibrationPoints = []\n        this.targetPoint = null\n        this.fieldData = null\n        \n        // 清理位置数据\n        this.currentPosition = { ra: '00h 00m 00s', dec: '+00° 00\\' 00\"' }\n        this.targetPosition = { ra: '00h 00m 00s', dec: '+00° 00\\' 00\"' }\n        this.previousPosition = { ra: '00h 00m 00s', dec: '+00° 00\\' 00\"' }\n        \n        // 清理调整数据\n        this.adjustment = { azimuth: 0.0, altitude: 0.0 }\n        this.polarAxisOffset = { azimuth: 0, altitude: 0 }\n        \n        // 重置状态\n        this.isCalibrationComplete = false\n        this.isPolarAligned = false\n        this.calibrationLoopCount = 0\n        this.lastCalibrationProgress = 0\n        this.calibrationPhase = 'initial'\n      },\n\n      // ========================================\n      // 拖动控制方法\n      // ========================================\n      startDrag(event) {\n        if (event.target.closest('.header-controls, .minimized-controls, .header-btn, .minimized-btn')) {\n          return\n        }\n\n        this.isDragging = true\n        this.isDraggingState = true\n\n        // 添加dragging类，移除过渡动画\n        this.$el.classList.add('dragging')\n\n        const rect = event.currentTarget.getBoundingClientRect()\n        const clientX = event.clientX || event.touches?.[0]?.clientX || 0\n        const clientY = event.clientY || event.touches?.[0]?.clientY || 0\n\n        this.dragOffset = {\n          x: clientX - rect.left,\n          y: clientY - rect.top\n        }\n\n        // 预计算并缓存尺寸，避免拖动时重复计算\n        this.updateCachedDimensions()\n\n        // 优化触摸事件处理\n        if (event.type === 'touchstart') {\n          document.addEventListener('touchmove', this.onDrag, { passive: false })\n          document.addEventListener('touchend', this.stopDrag, { passive: false })\n        } else {\n          document.addEventListener('mousemove', this.onDrag)\n          document.addEventListener('mouseup', this.stopDrag)\n        }\n      },\n\n      onDrag(event) {\n        if (!this.isDragging) return\n\n        // 阻止默认行为，提高触摸响应性\n        if (event.type === 'touchmove') {\n          event.preventDefault()\n        }\n\n        // 使用更高效的节流机制\n        const now = Date.now()\n        if (this.lastDragTime && now - this.lastDragTime < 16) return // 60fps限制\n        this.lastDragTime = now\n        \n        const clientX = event.clientX || event.touches?.[0]?.clientX || 0\n        const clientY = event.clientY || event.touches?.[0]?.clientY || 0\n\n        const newX = clientX - this.dragOffset.x\n        const newY = clientY - this.dragOffset.y\n\n        // 使用缓存的尺寸，避免重复计算\n        const maxX = window.innerWidth - this.cachedDimensions.width\n        const maxY = window.innerHeight - this.cachedDimensions.height\n\n        this.position = {\n          x: Math.max(0, Math.min(newX, maxX)),\n          y: Math.max(0, Math.min(newY, maxY))\n        }\n      },\n\n      stopDrag() {\n        this.isDragging = false\n        this.isDraggingState = false\n\n        // 移除dragging类，恢复过渡动画\n        this.$el.classList.remove('dragging')\n\n        // 清理所有事件监听器\n        this.cleanupDragListeners()\n      },\n\n      // 新增：更新缓存的尺寸信息\n      updateCachedDimensions() {\n        if (this.isMinimized) {\n          this.cachedDimensions = { ...DIMENSIONS.MINIMIZED }\n        } else if (this.isCollapsed) {\n          this.cachedDimensions = { ...DIMENSIONS.COLLAPSED }\n        } else {\n          // 展开状态，使用基础尺寸\n          this.cachedDimensions = { ...DIMENSIONS.EXPANDED }\n        }\n      },\n\n      // 获取组件高度（优化版本）\n      getComponentHeight() {\n        // 如果正在拖动，使用缓存的尺寸\n        if (this.isDraggingState) {\n          return this.cachedDimensions.height\n        }\n\n        // 正常状态下的计算\n        if (this.isMinimized) {\n          return 80 // 最小化状态高度\n        } else if (this.isCollapsed) {\n          return 120 // 收缩状态高度\n        } else {\n          // 展开状态，根据内容自适应\n          const baseHeight = 400 // 基础高度\n          const logHeight = this.displayLogs.length > 0 ? 60 : 40\n          const adjustmentHeight = this.needsAzimuthAdjustment || this.needsAltitudeAdjustment ? 120 : 80\n          return Math.min(baseHeight + logHeight + adjustmentHeight, window.innerHeight * 0.8)\n        }\n      },\n\n      // ========================================\n      // 界面状态控制方法\n      // ========================================\n      toggleMinimize() {\n        this.isMinimized = !this.isMinimized\n        this.isCollapsed = false\n        // 更新缓存的尺寸信息\n        this.updateCachedDimensions()\n        this.addLog(this.isMinimized ? this.$t('Interface Minimized') : this.$t('Interface Expanded'), 'info')\n      },\n\n      toggleCollapse() {\n        this.isCollapsed = !this.isCollapsed\n        // 更新缓存的尺寸信息\n        this.updateCachedDimensions()\n        this.addLog(this.isCollapsed ? this.$t('Interface Collapsed') : this.$t('Interface Expanded'), 'info')\n      },\n\n      // === 轨迹画布相关 ===\n      toggleTrajectoryOverlay() {\n        this.showTrajectoryOverlay = !this.showTrajectoryOverlay\n        if (this.showTrajectoryOverlay) {\n          if (this.overlayMode === 'fullscreen') this.enableOverlayEventCapture(); else this.disableOverlayEventCapture()\n          this.$nextTick(() => {\n            this.initTrajectoryCanvas()\n            this.redrawTrajectory()\n          })\n        } else {\n          this.disableOverlayEventCapture()\n        }\n      },\n      switchToWindowed() {\n        this.overlayMode = 'windowed'\n        this.disableOverlayEventCapture()\n        this.resetViewMapping()\n        this.$nextTick(() => {\n          this.initTrajectoryCanvas()\n          this.redrawTrajectory()\n        })\n      },\n      switchToFullscreen() {\n        this.overlayMode = 'fullscreen'\n        this.enableOverlayEventCapture()\n        this.resetViewMapping()\n        this.clearTrajectoryCanvas()\n        this.$nextTick(() => {\n          this.initTrajectoryCanvas()\n          this.redrawTrajectory()\n        })\n      },\n      onOverlayWheel(e) {\n        // 已取消全屏缩放需求：忽略滚轮，仅防止穿透\n        e.preventDefault()\n      },\n      resetViewMapping() {\n        this.currentPxPerDeg = null\n        this.viewMinWorldX = null\n        this.viewMaxWorldX = null\n        this.viewMinWorldY = null\n        this.viewMaxWorldY = null\n        this.raUnwrapAnchor = null\n        this.viewOffsetXPx = 0\n        this.viewOffsetYPx = 0\n      },\n      // 清空视图映射，但保留 RA 展开锚点，防止清理旧点或模式切换时方向翻转\n      resetViewMappingKeepAnchor() {\n        const anchor = this.raUnwrapAnchor\n        this.currentPxPerDeg = null\n        this.viewMinWorldX = null\n        this.viewMaxWorldX = null\n        this.viewMinWorldY = null\n        this.viewMaxWorldY = null\n        this.viewOffsetXPx = 0\n        this.viewOffsetYPx = 0\n        this.raUnwrapAnchor = anchor\n      },\n      startWindowDrag(event) {\n        const e = event.touches ? event.touches[0] : event\n        this.windowDrag.active = true\n        this.windowDrag.offsetX = e.clientX - this.windowedRect.x\n        this.windowDrag.offsetY = e.clientY - this.windowedRect.y\n        window.addEventListener('mousemove', this.onWindowDragMove, { passive: false })\n        window.addEventListener('mouseup', this.stopWindowDrag, { passive: false })\n        window.addEventListener('touchmove', this.onWindowDragMove, { passive: false })\n        window.addEventListener('touchend', this.stopWindowDrag, { passive: false })\n      },\n      onWindowDragMove(event) {\n        if (!this.windowDrag.active) return\n        const e = event.touches ? event.touches[0] : event\n        const nx = e.clientX - this.windowDrag.offsetX\n        const ny = e.clientY - this.windowDrag.offsetY\n        this.windowedRect.x = Math.max(0, Math.min(nx, window.innerWidth - this.windowedRect.width))\n        this.windowedRect.y = Math.max(0, Math.min(ny, window.innerHeight - this.windowedRect.height))\n      },\n      stopWindowDrag() {\n        this.windowDrag.active = false\n        window.removeEventListener('mousemove', this.onWindowDragMove)\n        window.removeEventListener('mouseup', this.stopWindowDrag)\n        window.removeEventListener('touchmove', this.onWindowDragMove)\n        window.removeEventListener('touchend', this.stopWindowDrag)\n      },\n      enableOverlayEventCapture() {\n        // 拦截全局滚轮/触摸/鼠标事件，避免穿透到底图\n        const preventAll = e => { e.preventDefault(); e.stopPropagation(); }\n        this._overlayHandlers = this._overlayHandlers || {}\n        this._overlayHandlers.wheel = preventAll\n        this._overlayHandlers.touchmove = preventAll\n        this._overlayHandlers.mousedown = preventAll\n        window.addEventListener('wheel', this._overlayHandlers.wheel, { passive: false, capture: true })\n        window.addEventListener('touchmove', this._overlayHandlers.touchmove, { passive: false, capture: true })\n        window.addEventListener('mousedown', this._overlayHandlers.mousedown, { passive: false, capture: true })\n      },\n      disableOverlayEventCapture() {\n        if (!this._overlayHandlers) return\n        window.removeEventListener('wheel', this._overlayHandlers.wheel, { capture: true })\n        window.removeEventListener('touchmove', this._overlayHandlers.touchmove, { capture: true })\n        window.removeEventListener('mousedown', this._overlayHandlers.mousedown, { capture: true })\n        this._overlayHandlers = null\n      },\n      clearAllTrajectory() {\n        this.rawTrajectoryPoints = []\n        this.trajectoryPoints = []\n        this.lastRawPosition = null\n        this.resetViewMapping()\n        this.redrawTrajectory()\n      },\n      clearOldTrajectory() {\n        if (this.rawTrajectoryPoints.length <= 2) return\n        this.rawTrajectoryPoints = this.rawTrajectoryPoints.slice(-2)\n        this.trajectoryPoints = []\n        this.resetViewMappingKeepAnchor()\n        this.redrawTrajectory()\n      },\n      initTrajectoryCanvas() {\n        const canvas = this.$refs.trajectoryCanvas\n        if (!canvas) return\n        const dpr = window.devicePixelRatio || 1\n        let w, h, scaleX = 1, scaleY = 1\n        if (this.overlayMode === 'fullscreen') {\n          w = window.innerWidth\n          h = window.innerHeight\n          canvas.width = Math.round(w * dpr)\n          canvas.height = Math.round(h * dpr)\n          canvas.style.width = w + 'px'\n          canvas.style.height = h + 'px'\n        } else {\n          // 窗口模式：使用逻辑画布尺寸，绘制后整体缩放到窗口区域\n          const HEADER = 32\n          const vw = Math.max(50, Math.round(this.windowedRect.width))\n          const vh = Math.max(50, Math.round(this.windowedRect.height - HEADER))\n          const lw = this.baseCanvasLogicalSize.width\n          const lh = this.baseCanvasLogicalSize.height\n          // 计算将逻辑画布缩放到可视窗口的缩放比\n          scaleX = vw / lw\n          scaleY = vh / lh\n          // Canvas 显示尺寸 = 窗口尺寸，内部像素 = 显示尺寸 * DPR\n          w = vw\n          h = vh\n          canvas.style.width = vw + 'px'\n          canvas.style.height = vh + 'px'\n          canvas.width = Math.round(vw * dpr)\n          canvas.height = Math.round(vh * dpr)\n        }\n        const ctx = canvas.getContext('2d')\n        // 设置设备像素比缩放\n        ctx.setTransform(dpr, 0, 0, dpr, 0, 0)\n        // 窗口模式下增加整体缩放，将逻辑画布缩放到窗口尺寸\n        if (this.overlayMode === 'windowed') {\n          ctx.scale(scaleX, scaleY)\n        }\n        this.clearTrajectoryCanvas()\n        // 背景由 drawTargetMarker 统一绘制\n      },\n      clearTrajectoryCanvas() {\n        const canvas = this.$refs.trajectoryCanvas\n        if (!canvas) return\n        const ctx = canvas.getContext('2d')\n        ctx.save()\n        ctx.setTransform(1, 0, 0, 1, 0, 0)\n        ctx.clearRect(0, 0, canvas.width, canvas.height)\n        ctx.restore()\n      },\n      // === 视图映射与工具 ===\n      getCanvasGeom() {\n        const canvas = this.$refs.trajectoryCanvas\n        if (!canvas) return null\n        // 在窗口模式下，Canvas 内部逻辑为 baseCanvasLogicalSize，\n        // 外部通过 ctx.scale 显示到窗口，所以几何计算返回逻辑尺寸\n        const w = this.overlayMode === 'windowed' ? this.baseCanvasLogicalSize.width : canvas.clientWidth\n        const h = this.overlayMode === 'windowed' ? this.baseCanvasLogicalSize.height : canvas.clientHeight\n        const padX = Math.round(w * (this.viewPadRatioX || 0.12))\n        const padY = Math.round(h * (this.viewPadRatioY || 0.10))\n        return { w, h, padX, padY }\n      },\n      worldForPoint(raDeg, decDeg) {\n        // 世界坐标以目标为原点：X=展开后的 dRA，Y=dDec（Dec 增大为正）\n        if (!this.targetRawPosition) return { x: 0, y: 0 }\n        const dRaNorm = this.normalizeRaDelta(raDeg - this.targetRawPosition.ra)\n        // 使用基于首点的展开锚点，避免跨 0/360 跳变\n        let x = dRaNorm\n        if (this.raUnwrapAnchor != null) {\n          // 将 x 调整到靠近锚点邻域\n          while (x - this.raUnwrapAnchor > 180) x -= 360\n          while (x - this.raUnwrapAnchor < -180) x += 360\n        }\n        const y = decDeg - this.targetRawPosition.dec\n        return { x, y }\n      },\n      makeWorldSeq(rawPoints) {\n        if (!this.targetRawPosition || !rawPoints || rawPoints.length === 0) return []\n        const dRasNorm = rawPoints.map(p => this.normalizeRaDelta(p.ra - this.targetRawPosition.ra))\n        // 将所有 dRA 先对齐到 raUnwrapAnchor 的邻域，避免切换模式或点数变化时展开方向反转\n        let anchor = this.raUnwrapAnchor\n        if (anchor == null && dRasNorm.length > 0) anchor = dRasNorm[0]\n        const aligned = dRasNorm.map(x => {\n          let v = x\n          while (v - anchor > 180) v -= 360\n          while (v - anchor < -180) v += 360\n          return v\n        })\n        // 再做连续展开，保证相邻点连接连贯\n        const dRas = this.unwrapRaDeltaSequence(aligned)\n        return rawPoints.map((p, i) => ({ x: dRas[i], y: p.dec - this.targetRawPosition.dec }))\n      },\n      // 基于“全量轨迹”的连续展开，返回用于垂线的最后两点世界坐标（允许超出常规范围）\n      getWorldABForPerp() {\n        if (!this.targetRawPosition || this.rawTrajectoryPoints.length < 2) return null\n        const all = this.rawTrajectoryPoints\n        const dRasNorm = all.map(p => this.normalizeRaDelta(p.ra - this.targetRawPosition.ra))\n        // 先按锚点对齐到同一邻域，再做连续展开，确保坐标轴/展开方向一致\n        let anchor = this.raUnwrapAnchor\n        if (anchor == null && dRasNorm.length > 0) anchor = dRasNorm[0]\n        const aligned = dRasNorm.map(x => {\n          let v = x\n          while (v - anchor > 180) v -= 360\n          while (v - anchor < -180) v += 360\n          return v\n        })\n        const dRas = this.unwrapRaDeltaSequence(aligned)\n        const n = all.length\n        const A = { x: dRas[n - 2], y: all[n - 2].dec - this.targetRawPosition.dec }\n        const B = { x: dRas[n - 1], y: all[n - 1].dec - this.targetRawPosition.dec }\n        return { A, B }\n      },\n      screenForWorld(wx, wy) {\n        const g = this.getCanvasGeom()\n        if (!g || !Number.isFinite(this.currentPxPerDeg)) return { x: 0, y: 0 }\n        const { w, h, padX, padY } = g\n        const x = padX + this.viewOffsetXPx + (wx - (this.viewMinWorldX || 0)) * this.currentPxPerDeg\n        const y = h - padY - this.viewOffsetYPx - (wy - (this.viewMinWorldY || 0)) * this.currentPxPerDeg\n        return { x, y }\n      },\n      ensureViewMappingInitialized(seqWorld) {\n        if (!seqWorld || seqWorld.length === 0) return\n        if (this.currentPxPerDeg != null && this.viewMinWorldX != null) return\n        const g = this.getCanvasGeom()\n        if (!g) return\n        const { w, h, padX, padY } = g\n        // 起始点：序列第一个；目标原点为 (0,0)\n        const first = seqWorld[0]\n        // 初始化展开锚点为首点 X（相对目标）\n        this.raUnwrapAnchor = first.x\n        const minX = Math.min(0, first.x)\n        const maxX = Math.max(0, first.x)\n        const minY = Math.min(0, first.y)\n        const maxY = Math.max(0, first.y)\n        const spanX = Math.max(1e-6, maxX - minX)\n        const spanY = Math.max(1e-6, maxY - minY)\n        const scaleX = (w - 2 * padX) / spanX\n        const scaleY = (h - 2 * padY) / spanY\n        this.currentPxPerDeg = Math.max(5, Math.min(scaleX, scaleY))\n        this.viewMinWorldX = minX\n        this.viewMaxWorldX = maxX\n        this.viewMinWorldY = minY\n        this.viewMaxWorldY = maxY\n        // 初次视图内容居中：仅在初始化时设置一次偏移\n        const contentWpx = spanX * this.currentPxPerDeg\n        const contentHpx = spanY * this.currentPxPerDeg\n        this.viewOffsetXPx = Math.round(((w - 2 * padX) - contentWpx) / 2)\n        this.viewOffsetYPx = Math.round(((h - 2 * padY) - contentHpx) / 2)\n      },\n      maybeExpandViewForPoint(wx, wy) {\n        // 若点在当前屏幕内，则不更新比例尺；若越界，扩展边界并仅缩小比例尺\n        const g = this.getCanvasGeom()\n        if (!g || this.currentPxPerDeg == null) return\n        const { w, h, padX, padY } = g\n        const px = padX + this.viewOffsetXPx + (wx - this.viewMinWorldX) * this.currentPxPerDeg\n        const py = h - padY - this.viewOffsetYPx - (wy - this.viewMinWorldY) * this.currentPxPerDeg\n        const inside = px >= padX && px <= (w - padX) && py >= padY && py <= (h - padY)\n        if (inside) return\n        // 扩展世界边界到包含该点\n        const newMinX = Math.min(this.viewMinWorldX, wx)\n        const newMaxX = Math.max(this.viewMaxWorldX, wx)\n        const newMinY = Math.min(this.viewMinWorldY, wy)\n        const newMaxY = Math.max(this.viewMaxWorldY, wy)\n        const spanX = Math.max(1e-6, newMaxX - newMinX)\n        const spanY = Math.max(1e-6, newMaxY - newMinY)\n        const scaleX = (w - 2 * padX) / spanX\n        const scaleY = (h - 2 * padY) / spanY\n        const candidate = Math.max(5, Math.min(scaleX, scaleY))\n        // 仅缩小\n        this.currentPxPerDeg = this.currentPxPerDeg == null ? candidate : Math.min(this.currentPxPerDeg, candidate)\n        this.viewMinWorldX = newMinX\n        this.viewMaxWorldX = newMaxX\n        this.viewMinWorldY = newMinY\n        this.viewMaxWorldY = newMaxY\n        // 固定锚点：不再重算偏移，保持目标点屏幕位置恒定\n      },\n      drawTargetMarker(scaleOverride = null) {\n        const canvas = this.$refs.trajectoryCanvas\n        if (!canvas) return\n        const ctx = canvas.getContext('2d')\n        const g = this.getCanvasGeom()\n        if (!g) return\n        const { w, h } = g\n        ctx.save()\n        // 背景\n        ctx.fillStyle = 'black'\n        ctx.fillRect(0, 0, w, h)\n        // 目标圆环\n        const center = this.screenForWorld(0, 0)\n        const ringDeg = this.getTargetRingDeg()\n        const scale = (scaleOverride != null ? scaleOverride : this.currentPxPerDeg) || 40\n        // 半径限制：不超出可见区域\n        const rPx = Math.max(6, Math.min(Math.min(w, h) * 0.45, ringDeg * scale))\n        ctx.strokeStyle = '#4CAF50'\n        ctx.lineWidth = 2\n        ctx.beginPath()\n        ctx.arc(center.x, center.y, rPx, 0, Math.PI * 2)\n        ctx.stroke()\n        ctx.fillStyle = '#4CAF50'\n        ctx.beginPath()\n        ctx.arc(center.x, center.y, 3, 0, Math.PI * 2)\n        ctx.fill()\n        ctx.restore()\n      },\n      drawTargetAtCenter(ringDegOverride = null) {\n        const canvas = this.$refs.trajectoryCanvas\n        if (!canvas) return\n        const ctx = canvas.getContext('2d')\n        const cx = Math.round((this.overlayMode === 'windowed' ? this.baseCanvasLogicalSize.width : canvas.clientWidth) / 2)\n        const cy = Math.round((this.overlayMode === 'windowed' ? this.baseCanvasLogicalSize.height : canvas.clientHeight) / 2)\n        ctx.save()\n        // 黑色背景\n        ctx.fillStyle = 'black'\n        const bw = this.overlayMode === 'windowed' ? this.baseCanvasLogicalSize.width : canvas.clientWidth\n        const bh = this.overlayMode === 'windowed' ? this.baseCanvasLogicalSize.height : canvas.clientHeight\n        ctx.fillRect(0, 0, bw, bh)\n        // 目标点环（空心）+ 中心小点\n        const base = this.autoFitPxPerDeg || 40\n        const scalePxPerDeg = base\n        const ringDeg = ringDegOverride !== null ? ringDegOverride : this.getTargetRingDeg()\n        const halfW = bw / 2\n        const halfH = bh / 2\n        const pad = 24\n        const rMax = Math.max(6, Math.min(halfW - pad, halfH - pad))\n        const rPx = Math.max(6, Math.min(rMax, ringDeg * scalePxPerDeg))\n        // 空心圆\n        ctx.strokeStyle = '#4CAF50'\n        ctx.lineWidth = 2\n        ctx.beginPath()\n        ctx.arc(cx, cy, rPx, 0, Math.PI * 2)\n        ctx.stroke()\n        // 中心小点\n        ctx.fillStyle = '#4CAF50'\n        ctx.beginPath()\n        ctx.arc(cx, cy, 3, 0, Math.PI * 2)\n        ctx.fill()\n        ctx.restore()\n      },\n      getTargetRingDeg() {\n        // 环大小不超过视场半径（取 RA/DEC 跨度的较小一半，留 90% 边距）\n        if (!this.fieldData) return 0.3\n        const ras = [this.fieldData.ra0, this.fieldData.ra1, this.fieldData.ra2, this.fieldData.ra3]\n        const decs = [this.fieldData.dec0, this.fieldData.dec1, this.fieldData.dec2, this.fieldData.dec3]\n        const raSpan = Math.max(...ras) - Math.min(...ras)\n        const decSpan = Math.max(...decs) - Math.min(...decs)\n        const halfMin = Math.max(0.01, Math.min(raSpan, decSpan) / 2)\n        return halfMin * 0.9\n      },\n      raDecToCanvasDelta(raDeg, decDeg) {\n        // 将相对目标点的 (ΔRA, ΔDEC) 转换为画布像素偏移。\n        // 使用自适应像素/度比例，并在全屏模式下再乘以用户缩放因子。\n        const base = this.autoFitPxPerDeg || 40\n        const scalePxPerDeg = base\n        // 固定约定：RA 增大向右\n        const dx = (this.normalizeRaDelta(raDeg)) * scalePxPerDeg\n        const dy = (-decDeg) * scalePxPerDeg\n        return { dx, dy }\n      },\n      normalizeRaDelta(deltaDeg) {\n        // 将 RA 差值归一到 [-180, 180)\n        let x = deltaDeg\n        x = ((x + 540) % 360) - 180\n        return x\n      },\n      unwrapRaDeltaSequence(dRaDegList) {\n        // 使相邻 dRA 序列在数值上连续，避免跨 0/360 发生长连线\n        if (!dRaDegList || dRaDegList.length === 0) return []\n        const out = [dRaDegList[0]]\n        for (let i = 1; i < dRaDegList.length; i++) {\n          let curr = dRaDegList[i]\n          let prev = out[i - 1]\n          let diff = curr - prev\n          while (diff > 180) { curr -= 360; diff = curr - prev }\n          while (diff < -180) { curr += 360; diff = curr - prev }\n          out.push(curr)\n        }\n        return out\n      },\n      appendTrajectoryPoint(rawRaDeg, rawDecDeg) {\n        // 已保留以兼容调用，但当前重绘使用 redrawTrajectory 覆盖全量绘制\n        if (!this.targetRawPosition) return\n        const canvas = this.$refs.trajectoryCanvas\n        if (!canvas) return\n        const cx = Math.round((this.overlayMode === 'windowed' ? this.baseCanvasLogicalSize.width : canvas.clientWidth) / 2)\n        const cy = Math.round((this.overlayMode === 'windowed' ? this.baseCanvasLogicalSize.height : canvas.clientHeight) / 2)\n        const dRa = rawRaDeg - this.targetRawPosition.ra\n        const dDec = rawDecDeg - this.targetRawPosition.dec\n        const { dx, dy } = this.raDecToCanvasDelta(dRa, dDec)\n        const point = { x: cx + dx, y: cy + dy }\n        this.trajectoryPoints.push(point)\n        this.drawPoint(point.x, point.y, '#FFD54F')\n      },\n      drawPoint(x, y, color) {\n        const canvas = this.$refs.trajectoryCanvas\n        if (!canvas) return\n        const ctx = canvas.getContext('2d')\n        ctx.save()\n        ctx.fillStyle = color || '#00BFFF'\n        ctx.beginPath()\n        ctx.arc(x, y, 3, 0, Math.PI * 2)\n        ctx.fill()\n        ctx.restore()\n      },\n      drawArrow(x1, y1, x2, y2, color) {\n        const canvas = this.$refs.trajectoryCanvas\n        if (!canvas) return\n        const ctx = canvas.getContext('2d')\n        ctx.save()\n        ctx.strokeStyle = color || '#FFD54F'\n        ctx.fillStyle = color || '#FFD54F'\n        ctx.lineWidth = 2\n        ctx.beginPath()\n        ctx.moveTo(x1, y1)\n        ctx.lineTo(x2, y2)\n        ctx.stroke()\n        // 箭头\n        const angle = Math.atan2(y2 - y1, x2 - x1)\n        const headLen = 8\n        ctx.beginPath()\n        ctx.moveTo(x2, y2)\n        ctx.lineTo(x2 - headLen * Math.cos(angle - Math.PI / 6), y2 - headLen * Math.sin(angle - Math.PI / 6))\n        ctx.lineTo(x2 - headLen * Math.cos(angle + Math.PI / 6), y2 - headLen * Math.sin(angle + Math.PI / 6))\n        ctx.lineTo(x2, y2)\n        ctx.fill()\n        ctx.restore()\n      },\n      // 画从目标到最后一段的垂线（虚线）；如垂足不在段内，仅将线段有限延长至垂点\n      drawPerpendicularAuxLine() {\n        if (!this.targetRawPosition || this.rawTrajectoryPoints.length < 2) return\n        // 使用“全量连续展开”的最后两点，允许 RA 超出常规范围，保证几何连续\n        const pair = this.getWorldABForPerp(); if (!pair) return\n        const { A, B } = pair\n        const O = { x: 0, y: 0 } // 目标在世界坐标为原点（与 worldForPoint/展开保持一致）\n        // 线段 AB 的向量与 O 到 AB 的投影参数 t\n        const vx = B.x - A.x\n        const vy = B.y - A.y\n        const len2 = vx * vx + vy * vy\n        if (len2 < 1e-9) return\n        const t = ((O.x - A.x) * vx + (O.y - A.y) * vy) / len2\n        let Hx, Hy, segment\n        if (t >= 0 && t <= 1) {\n          // 垂足在线段上\n          Hx = A.x + t * vx\n          Hy = A.y + t * vy\n          // 垂足在线段上时，不再绘制整段，只画 O→H 的垂线\n          segment = null\n        } else {\n          // 垂足在线段外：计算真正的垂足 H，并把线段朝 H 方向有限延长至 H\n          Hx = A.x + t * vx\n          Hy = A.y + t * vy\n          if (t < 0) {\n            segment = { x1: Hx, y1: Hy, x2: A.x, y2: A.y }\n          } else {\n            segment = { x1: B.x, y1: B.y, x2: Hx, y2: Hy }\n          }\n        }\n        // 画垂线（O->H）与（可能的延长）线段，均使用虚线\n        const canvas = this.$refs.trajectoryCanvas\n        if (!canvas) return\n        const ctx = canvas.getContext('2d')\n        const Opx = this.screenForWorld(O.x, O.y)\n        const Hpx = this.screenForWorld(Hx, Hy)\n        // const S1 = this.screenForWorld(segment.x1, segment.y1)\n        // const S2 = this.screenForWorld(segment.x2, segment.y2)\n        ctx.save()\n        ctx.setLineDash([6, 6])\n        ctx.lineWidth = 1.5\n        ctx.strokeStyle = '#9E9E9E'\n        // 垂线 O-H\n        ctx.beginPath()\n        ctx.moveTo(Opx.x, Opx.y)\n        ctx.lineTo(Hpx.x, Hpx.y)\n        ctx.stroke()\n        // 在辅助线（虚线）上用箭头标明方向：从 H 指向 O（指向目标）\n        // 选择线段内一点作为箭头位置，避免与目标环重叠\n        const tArrow = 0.6\n        const ax = Hpx.x + (Opx.x - Hpx.x) * tArrow\n        const ay = Hpx.y + (Opx.y - Hpx.y) * tArrow\n        const ang = Math.atan2(Opx.y - Hpx.y, Opx.x - Hpx.x)\n        const head = 8\n        ctx.setLineDash([])\n        ctx.fillStyle = '#9E9E9E'\n        ctx.beginPath()\n        ctx.moveTo(ax, ay)\n        ctx.lineTo(ax - head * Math.cos(ang - Math.PI / 6), ay - head * Math.sin(ang - Math.PI / 6))\n        ctx.lineTo(ax - head * Math.cos(ang + Math.PI / 6), ay - head * Math.sin(ang + Math.PI / 6))\n        ctx.closePath()\n        ctx.fill()\n        // 恢复虚线样式，用于绘制延长段\n        ctx.setLineDash([6, 6])\n        // 仅当垂足不在段上时绘制“延长到垂点”的那段\n        if (segment) {\n          const S1 = this.screenForWorld(segment.x1, segment.y1)\n          const S2 = this.screenForWorld(segment.x2, segment.y2)\n          ctx.beginPath()\n          ctx.moveTo(S1.x, S1.y)\n          ctx.lineTo(S2.x, S2.y)\n          ctx.stroke()\n          // 在延长段上也标注一个朝向“垂足 H”的小箭头\n          const exStart = (t < 0) ? { x: A.x, y: A.y } : { x: B.x, y: B.y }\n          const exEnd = { x: Hx, y: Hy }\n          const ES = this.screenForWorld(exStart.x, exStart.y)\n          const EE = this.screenForWorld(exEnd.x, exEnd.y)\n          const exdx = EE.x - ES.x\n          const exdy = EE.y - ES.y\n          const exLen2 = exdx * exdx + exdy * exdy\n          if (exLen2 > 1) {\n            const tEx = 0.5\n            const eax = ES.x + exdx * tEx\n            const eay = ES.y + exdy * tEx\n            const eang = Math.atan2(exdy, exdx)\n            ctx.setLineDash([])\n            ctx.beginPath()\n            ctx.moveTo(eax, eay)\n            ctx.lineTo(eax - head * Math.cos(eang - Math.PI / 6), eay - head * Math.sin(eang - Math.PI / 6))\n            ctx.lineTo(eax - head * Math.cos(eang + Math.PI / 6), eay - head * Math.sin(eang + Math.PI / 6))\n            ctx.closePath()\n            ctx.fill()\n          }\n        }\n        ctx.restore()\n      },\n      computeAutoFitScale() {\n        const canvas = this.$refs.trajectoryCanvas\n        if (!canvas || !this.targetRawPosition) return 40\n        const cx = this.targetRawPosition.ra\n        const cy = this.targetRawPosition.dec\n        let maxDx = 0, maxDy = 0\n        // 历史点\n        for (let i = 0; i < this.rawTrajectoryPoints.length; i++) {\n          const p = this.rawTrajectoryPoints[i]\n          maxDx = Math.max(maxDx, Math.abs(this.normalizeRaDelta(p.ra - cx)))\n          maxDy = Math.max(maxDy, Math.abs(p.dec - cy))\n        }\n        // 目标环半径（确保环不会顶边）\n        const ringDeg = this.getTargetRingDeg()\n        maxDx = Math.max(maxDx, ringDeg)\n        maxDy = Math.max(maxDy, ringDeg)\n        // 全屏时纳入视场角点以适配视场框；窗口模式不纳入\n        if (this.overlayMode === 'fullscreen') {\n          if (this.fieldData && Number.isFinite(this.fieldData.ra0)) {\n            const corners = [\n              { ra: this.fieldData.ra0, dec: this.fieldData.dec0 },\n              { ra: this.fieldData.ra1, dec: this.fieldData.dec1 },\n              { ra: this.fieldData.ra2, dec: this.fieldData.dec2 },\n              { ra: this.fieldData.ra3, dec: this.fieldData.dec3 },\n            ]\n            for (const c of corners) {\n              maxDx = Math.max(maxDx, Math.abs(this.normalizeRaDelta(c.ra - cx)))\n              maxDy = Math.max(maxDy, Math.abs(c.dec - cy))\n            }\n          }\n        }\n        if (maxDx === 0 && maxDy === 0) return 40\n        const w = this.overlayMode === 'windowed' ? this.baseCanvasLogicalSize.width : canvas.clientWidth\n        const h = this.overlayMode === 'windowed' ? this.baseCanvasLogicalSize.height : canvas.clientHeight\n        // 固定像素内边距，考虑箭头长度（8px）与点半径（4px）\n        const arrowHead = 8, pointR = 4\n        const pixelPadding = 32 + arrowHead + pointR\n        const halfW = Math.max(60, (w / 2) - pixelPadding)\n        const halfH = Math.max(50, (h / 2) - pixelPadding)\n        // 让最远点落在中心到边界距离的 80% 处（留足可视余量）\n        const margin = 0.8\n        let scale = Math.max(5, Math.min((halfW * margin) / (maxDx || 1e-6), (halfH * margin) / (maxDy || 1e-6)))\n        // 二次校验：按该比例转换一次，确保确实未越界，如越界再缩小比例\n        const pad = pixelPadding\n        const cxPx = w / 2, cyPx = h / 2\n        let maxAbsPxX = 0, maxAbsPxY = 0\n        const collect = []\n        for (let i = 0; i < this.rawTrajectoryPoints.length; i++) collect.push(this.rawTrajectoryPoints[i])\n        if (this.overlayMode === 'fullscreen' && this.fieldData && Number.isFinite(this.fieldData.ra0)) {\n          collect.push({ ra: this.fieldData.ra0, dec: this.fieldData.dec0 })\n          collect.push({ ra: this.fieldData.ra1, dec: this.fieldData.dec1 })\n          collect.push({ ra: this.fieldData.ra2, dec: this.fieldData.dec2 })\n          collect.push({ ra: this.fieldData.ra3, dec: this.fieldData.dec3 })\n        }\n        for (const p of collect) {\n          const dxDeg = this.normalizeRaDelta(p.ra - cx)\n          const dyDeg = (p.dec - cy)\n          maxAbsPxX = Math.max(maxAbsPxX, Math.abs(dxDeg * scale))\n          maxAbsPxY = Math.max(maxAbsPxY, Math.abs(dyDeg * scale))\n        }\n        const allowedX = halfW - pad\n        const allowedY = halfH - pad\n        const adj = Math.min(1, allowedX / (maxAbsPxX || 1e-6), allowedY / (maxAbsPxY || 1e-6))\n        scale *= adj\n        return scale\n      },\n      redrawTrajectory() {\n        if (!this.showTrajectoryOverlay || !this.targetRawPosition) return\n        this.initTrajectoryCanvas()\n        const canvas = this.$refs.trajectoryCanvas\n        if (!canvas) return\n        const ctx = canvas.getContext('2d')\n        // 预先将所有点转换到世界坐标，并初始化映射\n        const rawAll = this.rawTrajectoryPoints\n        // 使用全量点序列初始化/扩展视图映射，确保跨 0/360 时展开方向一致\n        const ensureRaw = rawAll\n        const worldSeq = this.makeWorldSeq(ensureRaw)\n        this.ensureViewMappingInitialized(worldSeq)\n        // 选择绘制的数据集：全屏=全部；窗口=最新三个，但保持展开锚点稳定\n        const raw = this.overlayMode === 'windowed' ? rawAll.slice(-3) : rawAll\n        const world = this.makeWorldSeq(raw)\n        // 先走一遍更新比例/边界，不绘制，确保下游图元坐标系一致\n        for (let i = 0; i < world.length; i++) this.maybeExpandViewForPoint(world[i].x, world[i].y)\n        // 再绘背景/目标环\n        this.drawTargetMarker()\n        // 绘制轨迹\n        this.trajectoryPoints = []\n        let prevPt = null\n        for (let i = 0; i < world.length; i++) {\n          const spt = this.screenForWorld(world[i].x, world[i].y)\n          const px = spt.x\n          const py = spt.y\n          const isLast = i === raw.length - 1\n          if (!isLast) {\n            this.drawPoint(px, py, '#FFD54F')\n            if (prevPt) this.drawArrow(prevPt.x, prevPt.y, px, py, '#FFD54F')\n          } else {\n            if (this.overlayMode === 'fullscreen') {\n              this.drawPoint(px, py, '#00BFFF')\n              this.drawCurrentFoV('#00BFFF', 0.3)\n            } else {\n              this.drawHollowCircle(px, py, 8, '#00BFFF', 2)\n            }\n            if (prevPt) this.drawArrow(prevPt.x, prevPt.y, px, py, '#FFD54F')\n          }\n          prevPt = { x: px, y: py }\n          this.trajectoryPoints.push({ x: px, y: py })\n        }\n        // 辅助：目标到最后段的垂线（虚线）\n        this.drawPerpendicularAuxLine()\n      },\n      drawHollowCircle(x, y, r = 8, color = '#FFFFFF', lineWidth = 2) {\n        const canvas = this.$refs.trajectoryCanvas\n        if (!canvas) return\n        const ctx = canvas.getContext('2d')\n        ctx.save()\n        ctx.strokeStyle = color\n        ctx.lineWidth = lineWidth\n        ctx.beginPath()\n        ctx.arc(x, y, r, 0, Math.PI * 2)\n        ctx.stroke()\n        ctx.restore()\n      },\n      drawCurrentFoV(color = '#00BFFF', fillOpacity = 0.25) {\n        if (!this.fieldData || !this.targetRawPosition) return\n        const canvas = this.$refs.trajectoryCanvas\n        if (!canvas) return\n        const ctx = canvas.getContext('2d')\n        const corners = [\n          { ra: this.fieldData.ra0, dec: this.fieldData.dec0 },\n          { ra: this.fieldData.ra1, dec: this.fieldData.dec1 },\n          { ra: this.fieldData.ra2, dec: this.fieldData.dec2 },\n          { ra: this.fieldData.ra3, dec: this.fieldData.dec3 },\n        ]\n        // 依据“展开锚点 raUnwrapAnchor”决定展开方向，避免切换模式时朝向反转\n        const anchor = (this.raUnwrapAnchor != null) ? (this.raUnwrapAnchor >= 0 ? 1 : -1) : 1\n        const pts = corners.map((c, i) => {\n          // 先取世界坐标，再在 X 方向按 lastSide 选择最临近展开\n          const wpt = this.worldForPoint(c.ra, c.dec)\n          // 如果与 lastSide 相反且两侧等价，选择 lastSide 方向的等效点\n          let wx = wpt.x\n          if (anchor > 0 && wx < 0) wx += Math.ceil((-wx) / 360) * 360\n          if (anchor < 0 && wx > 0) wx -= Math.ceil((wx) / 360) * 360\n          return this.screenForWorld(wx, wpt.y)\n        })\n        if (pts.length !== 4) return\n        ctx.save()\n        ctx.strokeStyle = color\n        ctx.fillStyle = color\n        ctx.globalAlpha = 1\n        ctx.beginPath()\n        ctx.moveTo(pts[0].x, pts[0].y)\n        for (let i = 1; i < pts.length; i++) ctx.lineTo(pts[i].x, pts[i].y)\n        ctx.closePath()\n        ctx.globalAlpha = 1\n        ctx.stroke()\n        ctx.globalAlpha = fillOpacity\n        ctx.fill()\n        ctx.restore()\n      },\n\n      resetCalibration() {\n        // 使用统一的内存清理方法\n        this.clearCachedData()\n\n        this.addLog(this.$t('Calibration Data Reset'), 'info')\n        // this.$bus.$emit('AppSendMessage', 'Vue_Command', 'ResetAutoPolarAlignment')\n        this.$bus.$emit('ClearCalibrationPoints')\n        this.$bus.$emit('ClearStatusTextFromStarMap')\n        // 清空轨迹\n        this.rawTrajectoryPoints = []\n        this.trajectoryPoints = []\n        this.lastRawPosition = null\n        this.targetRawPosition = null\n      },\n\n      restoreCalibration() {\n        this.addLog(this.$t('Calibration Data Restored'), 'success')\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'RestoreAutoPolarAlignment')\n      },\n\n      // ========================================\n      // 校准控制方法\n      // ========================================\n      startAutoCalibration() {\n        if (!this.isConnected) {\n          this.addLog(this.$t('Error: Mount Not Connected'), 'error')\n          return\n        }\n        if (this.isCalibrationRunning) {\n          this.stopAutoCalibration()\n          return\n        }\n        this.isCalibrationRunning = true\n        this.resetCalibration()\n        this.addLog(this.$t('Starting Auto Calibration'), 'info')\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'StartAutoPolarAlignment')\n      },\n\n      stopAutoCalibration() {\n        this.isCalibrationRunning = false\n        this.addLog(this.$t('Auto Calibration Stopped'), 'warning')\n        this.$bus.$emit('AppSendMessage', 'Vue_Command', 'StopAutoPolarAlignment')\n      },\n      // ========================================\n      // 视场数据处理方法\n      // ========================================\n      updateFieldData(data) {\n        if (data && Array.isArray(data) && data.length >= 12) { // 修改长度检查，确保包含假极轴数据\n          const isValidData = data.every(val => typeof val === 'number' && !isNaN(val))\n          if (!isValidData) {\n            this.addLog(this.$t('Warning: Invalid Field Data Received'), 'warning')\n            return\n          }\n\n          this.fieldData = {\n            ra: data[0],\n            dec: data[1],\n            ra0: data[2],\n            dec0: data[3],\n            ra1: data[4],\n            dec1: data[5],\n            ra2: data[6],\n            dec2: data[7],\n            ra3: data[8],\n            dec3: data[9],\n            targetra: data[10],\n            targetdec: data[11],\n            fakePolarRA: data[12],\n            fakePolarDEC: data[13],\n            realPolarRA: data[14],\n            realPolarDEC: data[15]\n          }\n\n          // 保存上一次位置（在更新当前位置之前）\n          if (this.currentPosition.ra !== '00h 00m 00s') {\n            this.previousPosition = { ...this.currentPosition }\n          }\n\n          // 更新当前位置\n          this.currentPosition = {\n            ra: this.formatCoordinate(data[0], 'ra'),\n            dec: this.formatCoordinate(data[1], 'dec')\n          }\n\n          // === 轨迹逻辑挂接 ===\n          // 使用原始角度（假设 data[0], data[1], data[10], data[11] 为度单位）\n          const rawRa = data[0]\n          const rawDec = data[1]\n          // 在进入调整阶段（目标提供）时固定目标点；否则不绘制\n          if (data[10] !== -1 && data[11] !== -1) {\n            if (!this.targetRawPosition || (this.targetRawPosition.ra !== data[10] || this.targetRawPosition.dec !== data[11])) {\n              this.targetRawPosition = { ra: data[10], dec: data[11] }\n              // 重绘以目标点为中心\n              if (this.showTrajectoryOverlay) this.redrawTrajectory()\n            }\n            const posChanged = !this.lastRawPosition || this.lastRawPosition.ra !== rawRa || this.lastRawPosition.dec !== rawDec\n            if (posChanged) {\n              this.rawTrajectoryPoints.push({ ra: rawRa, dec: rawDec })\n              // 改为全量重绘（确保自适应比例包含所有点、并绘制视场框）\n              if (this.showTrajectoryOverlay) this.redrawTrajectory()\n              this.lastRawPosition = { ra: rawRa, dec: rawDec }\n            }\n          }\n\n          if (data[10] === -1 && data[11] === -1) {\n            // 校准点收集阶段\n            this.calibrationPhase = 'collecting'\n            const pointNumber = this.calibrationPoints.length + 1\n\n            // 添加调试信息\n            this.addLog(`准备收集校准点${pointNumber}，当前已有${this.calibrationPoints.length}个点`, 'info')\n\n            try {\n              this.drawCalibrationPointPolygon(data[0], data[1], pointNumber, this.fieldData)\n              this.addLog(this.$t('Calibration Point', [pointNumber, data[0].toFixed(4), data[1].toFixed(4)]), 'info')\n\n              // 保存校准点 - 限制最大数量\n              if (this.calibrationPoints.length < this.maxCalibrationPoints) {\n                this.calibrationPoints.push({\n                  ra: data[0],\n                  dec: data[1],\n                  index: pointNumber\n                })\n              } else {\n                // 如果超过最大数量，替换最旧的点\n                const oldestIndex = (pointNumber - 1) % this.maxCalibrationPoints\n                this.calibrationPoints[oldestIndex] = {\n                  ra: data[0],\n                  dec: data[1],\n                  index: pointNumber\n                }\n              }\n\n              this.addLog(`校准点${pointNumber}已添加，现在总共有${this.calibrationPoints.length}个点`, 'info')\n\n              // 如果收集了3个点，进入调整阶段\n              if (this.calibrationPoints.length === this.maxCalibrationPoints) {\n                this.calibrationPhase = 'adjusting'\n                this.addLog(this.$t('Three calibration points collected, entering adjustment phase'), 'success')\n              }\n            } catch (error) {\n              this.addLog(this.$t('Error processing calibration point', [error.message]), 'error')\n              console.error('处理校准点错误：', error)\n            }\n          } else if (data[10] !== -1 && data[11] !== -1) {\n            // 调整阶段：显示目标位置和假极轴\n            this.calibrationPhase = 'adjusting'\n            this.targetPoint = { ra: data[10], dec: data[11] }\n\n            try {\n              // 先清除所有之前的元素\n              this.addLog('调整模式：准备清除之前的校准元素', 'info')\n              this.$bus.$emit('ClearCalibrationPoints')\n              this.addLog('调整模式：清除命令已发送', 'info')\n\n              // 绘制校准点（如果已收集3个点）\n              if (this.calibrationPoints.length === this.maxCalibrationPoints) {\n                this.calibrationPoints.forEach((point, index) => {\n                  const pointCoordinates = this.calculateFieldCorners(point.ra, point.dec, this.fieldData, false)\n                  const pointColor = {\n                    stroke: \"#FFD700\",        // 金色边框：校准点\n                    strokeOpacity: 1,         // 边框不透明度\n                    fill: \"#FFD700\",          // 金色填充：校准点\n                    fillOpacity: 0.3          // 填充不透明度（半透明）\n                  }\n\n                  this.$bus.$emit('DrawCalibrationPointPolygon', pointCoordinates, pointColor,\n                    `Calibration_Point_${index + 1}`, `校准点${index + 1}`, \"#FFD700\")\n                })\n              }\n\n              // 绘制当前位置（蓝色）\n              const currentCoordinates = this.calculateFieldCorners(data[0], data[1], this.fieldData, false)\n              const currentColor = {\n                stroke: \"#00BFFF\",        // 蓝色边框：当前位置\n                strokeOpacity: 1,         // 边框不透明度\n                fill: \"#00BFFF\",          // 蓝色填充：当前位置\n                fillOpacity: 0.3          // 填充不透明度（半透明）\n              }\n\n              this.$bus.$emit('DrawCalibrationPointPolygon', currentCoordinates, currentColor,\n                'Current_Position', '当前位置', \"#00BFFF\")\n\n              // 绘制目标点（绿色圆形）\n              const targetColor = {\n                stroke: \"#4CAF50\",        // 绿色边框：目标点\n                strokeOpacity: 1,         // 边框不透明度\n                fill: \"#4CAF50\",          // 绿色填充：目标点\n                fillOpacity: 0.3          // 填充不透明度（半透明）\n              }\n\n              const { az, alt } = this.equatorialToHorizontal(data[10], data[11], new Date(Date.now()), this.$store.state.currentLocation.lat, this.$store.state.currentLocation.lng)\n              // console.log('当前位置目标点', data[6], data[7] + ' 转化为地平坐标为' + az + ' ' + alt);\n              // console.log('使用时间和地点', new Date(Date.now()), $store.state.currentLocation.lat, $store.state.currentLocation.lng);\n\n              this.$bus.$emit('DrawTargetPointCircle',\n                az,\n                alt,\n                targetColor,\n                'Target_Point',\n                '目标点'\n              )\n\n              // 绘制假极轴（紫色圆形）\n              if (data[12] !== -1 && data[13] !== -1 && !isNaN(data[12]) && !isNaN(data[13])) {\n                const { az, alt } = this.equatorialToHorizontal(data[12], data[13], new Date(Date.now()), this.$store.state.currentLocation.lat, this.$store.state.currentLocation.lng)\n                this.drawFakePolarAxis(az, alt)\n              }\n\n              this.addLog(`调整模式：当前位置(${data[0].toFixed(4)}, ${data[1].toFixed(4)}) 目标位置(${data[6].toFixed(4)}, ${data[7].toFixed(4)}) 假极轴(${data[8].toFixed(4)}, ${data[9].toFixed(4)})`, 'info')\n            } catch (error) {\n              this.addLog(this.$t('Error processing adjustment data', [error.message]), 'error')\n              console.error('处理调整数据错误：', error)\n            }\n          }\n        } else {\n          this.addLog(this.$t('Error: Invalid Field Data Format'), 'error')\n        }\n      },\n\n      // 绘制校准点\n      drawCalibrationPointPolygon(ra, dec, pointNumber, fieldData) {\n        this.addLog(this.$t('Drawing Calibration Point', [pointNumber, ra, dec]), 'info')\n\n        try {\n          const coordinates = this.calculateFieldCorners(ra, dec, fieldData)\n          this.addLog(this.$t('Calculated Field Corner Coordinates', [JSON.stringify(coordinates)]), 'info')\n\n          // 验证坐标有效性\n          const validCoordinates = coordinates.every((coord, index) => {\n            const isValid = coord && typeof coord.ra === 'number' && typeof coord.dec === 'number' &&\n              !isNaN(coord.ra) && !isNaN(coord.dec) && isFinite(coord.ra) && isFinite(coord.dec)\n            if (!isValid) {\n              this.addLog(this.$t('Warning: Invalid Coordinate Point', [index, JSON.stringify(coord)]), 'warning')\n            }\n            return isValid\n          })\n\n          if (!validCoordinates) {\n            this.addLog(this.$t('Invalid Field Coordinates'), 'error')\n            return\n          }\n\n          const color = this.getCalibrationPointColor()\n\n          // 添加文本标签\n          const label = `校准点${pointNumber}`\n          const labelColor = \"#FFFFFF\"\n\n          this.addLog(this.$t('Sending Draw Calibration Event', [pointNumber]), 'info')\n          this.$bus.$emit('DrawCalibrationPointPolygon', coordinates, color, `Calibration_${pointNumber}`, label, labelColor)\n\n        } catch (error) {\n          this.addLog(this.$t('Error Drawing Calibration Point', [error.message]), 'error')\n          console.error('绘制校准点错误：', error)\n        }\n      },\n\n      // 清除所有校准点\n      clearCalibrationPoints() {\n        this.addLog(this.$t('Clearing All Calibration Points'), 'info')\n        this.$bus.$emit('ClearCalibrationPoints')\n        this.$bus.$emit('ClearStatusTextFromStarMap')\n      },\n\n      /**\n       * 绘制极轴校准调整点\n       * 在星图上绘制当前位置、目标位置、校准点等关键位置标记\n       * @param {number} currentRa - 当前赤经位置\n       * @param {number} currentDec - 当前赤纬位置  \n       * @param {number} targetRa - 目标赤经位置\n       * @param {number} targetDec - 目标赤纬位置\n       * @param {object} fieldData - 视场数据（包含视场边界信息）\n       * @param {boolean} isTimerUpdate - 是否为定时器更新（用于区分手动更新和自动更新）\n       */\n      drawAdjustmentPoints(currentRa, currentDec, targetRa, targetDec, fieldData, isTimerUpdate = false) {\n        // 这个方法现在主要用于校准点收集阶段\n        // 调整阶段的绘制逻辑已经移到updateFieldData方法中\n\n        this.addLog(this.$t('Starting Draw Adjustment Points', [currentRa, currentDec, targetRa, targetDec]), 'info')\n\n        try {\n          // 只在校准点收集阶段使用这个方法\n          if (this.calibrationPhase === 'collecting') {\n            // 绘制校准点收集阶段的逻辑\n            const currentCoordinates = this.calculateFieldCorners(currentRa, currentDec, fieldData, false)\n            const currentColor = {\n              stroke: \"#00BFFF\",        // 蓝色边框：当前位置\n              strokeOpacity: 1,         // 边框不透明度\n              fill: \"#00BFFF\",          // 蓝色填充：当前位置\n              fillOpacity: 0.3          // 填充不透明度（半透明）\n            }\n\n            this.$bus.$emit('DrawCalibrationPointPolygon', currentCoordinates, currentColor,\n              'Current_Position', '当前位置', \"#00BFFF\")\n          }\n\n        } catch (error) {\n          this.addLog(this.$t('Error Drawing Adjustment Points', [error.message]), 'error')\n          console.error('绘制调整点错误：', error)\n        }\n      },\n\n      /**\n       * 计算视场的五个角点坐标\n       * @param {number} centerRa - 视场中心的赤经坐标\n       * @param {number} centerDec - 视场中心的赤纬坐标\n       * @param {object} fieldData - 视场数据（包含视场边界信息）\n       * @param {boolean} useDefaultSize - 是否使用默认视场大小（用于目标点等固定位置）\n       * @returns {Array} 包含5个角点坐标的数组，用于绘制多边形\n       */\n      calculateFieldCorners(centerRa, centerDec, fieldData, useDefaultSize = false) {\n        this.addLog(this.$t('Calculating Field Corners', [centerRa, centerDec]), 'info')\n\n        // 如果指定使用默认大小或者没有视场数据，使用默认的0.5度视场大小\n        if (useDefaultSize || !fieldData) {\n          this.addLog(this.$t('Using Default Field Size: 0.5 Degrees'), 'info')\n          const fieldSize = 0.5\n          const coordinates = [\n            { ra: centerRa + fieldSize / 2, dec: centerDec + fieldSize / 2 },\n            { ra: centerRa - fieldSize / 2, dec: centerDec + fieldSize / 2 },\n            { ra: centerRa - fieldSize / 2, dec: centerDec - fieldSize / 2 },\n            { ra: centerRa + fieldSize / 2, dec: centerDec - fieldSize / 2 },\n            { ra: centerRa + fieldSize / 2, dec: centerDec + fieldSize / 2 }\n          ]\n          this.addLog(this.$t('Default Field Corners', [JSON.stringify(coordinates)]), 'info')\n          return coordinates\n        }\n\n        // 如果有视场数据且不强制使用默认大小，基于传入的中心点坐标计算视场角点\n        // 这种情况主要用于当前位置的显示，需要反映实际的视场大小\n        const { ra0, dec0, ra1, dec1, ra2, dec2, ra3, dec3 } = fieldData\n\n        // 计算视场的实际大小（RA和DEC方向的跨度）\n   \n\n        // 基于传入的中心点坐标，计算视场的五个角点\n        const coordinates = [\n          { ra: ra0, dec: dec0 },     // 右上角\n          { ra: ra1, dec: dec1 },     // 左上角\n          { ra: ra2, dec: dec2 },     // 左下角\n          { ra: ra3, dec: dec3 },     // 右下角\n          { ra: ra0, dec: dec0 }      // 回到右上角（闭合多边形）\n        ]\n\n        this.addLog(this.$t('Using Field Data', [ra0, dec0, ra1, dec1, ra2, dec2, ra3, dec3]), 'info')\n        this.addLog(this.$t('Field Corner Calculation Result', [JSON.stringify(coordinates)]), 'info')\n        return coordinates\n      },\n\n\n\n      // ========================================\n      // 格式化方法\n      // ========================================\n      formatTime(timestamp) {\n        if (!timestamp) return ''\n        const date = new Date(timestamp)\n        return date.toLocaleTimeString('zh-CN', {\n          hour12: false,\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit'\n        })\n      },\n\n      formatAdjustmentValue(value) {\n        if (!Number.isFinite(value)) return `0.0${this.unitGlyph(this.adjustmentUnit)}`\n        // value 的单位 = props.adjustmentUnit\n        const valArcmin = this.unitToArcmin(value, this.adjustmentUnit)\n        // 展示单位仍然用 props.adjustmentUnit（也可改成固定'arcmin'）\n        return this.formatWithUnit(valArcmin, this.adjustmentUnit, 1)\n      },\n\n      // 格式化坐标显示\n      formatCoordinate(value, type) {\n        if (value === null || value === undefined || isNaN(value)) {\n          return type === 'ra' ? '00h 00m 00s' : '+00° 00\\' 00\"'\n        }\n\n        if (type === 'ra') {\n          // 格式化RA为时分秒格式\n          const hours = Math.floor(value / 15)\n          const minutes = Math.floor((value % 15) * 4)\n          const seconds = Math.floor(((value % 15) * 4 - minutes) * 60)\n          return `${hours.toString().padStart(2, '0')}h ${minutes.toString().padStart(2, '0')}m ${seconds.toString().padStart(2, '0')}s`\n        } else {\n          // 格式化DEC为度分秒格式\n          const sign = value >= 0 ? '+' : '-'\n          const absValue = Math.abs(value)\n          const degrees = Math.floor(absValue)\n          const minutes = Math.floor((absValue - degrees) * 60)\n          const seconds = Math.floor(((absValue - degrees) * 60 - minutes) * 60)\n          return `${sign}${degrees.toString().padStart(2, '0')}° ${minutes.toString().padStart(2, '0')}' ${seconds.toString().padStart(2, '0')}\"`\n        }\n      },\n\n\n      // ========================================\n      // 辅助方法\n      // ========================================\n      parseCoordinate(value, type) {\n        if (typeof value === 'string') {\n          if (type === 'ra') {\n            // 解析时分秒格式 \"00h 00m 00s\"\n            const match = value.match(/(\\d+)h\\s*(\\d+)m\\s*(\\d+)s/)\n            if (match) {\n              const hours = parseInt(match[1])\n              const minutes = parseInt(match[2])\n              const seconds = parseInt(match[3])\n              return hours + minutes / 60 + seconds / 3600\n            }\n          } else {\n            // 解析度分秒格式 \"+00° 00' 00\"\"\n            const match = value.match(/([+-]?)(\\d+)°\\s*(\\d+)'\\s*(\\d+)\"/)\n            if (match) {\n              const sign = match[1] === '-' ? -1 : 1\n              const degrees = parseInt(match[2])\n              const minutes = parseInt(match[3])\n              const seconds = parseInt(match[4])\n              return sign * (degrees + minutes / 60 + seconds / 3600)\n            }\n          }\n        }\n        return null\n      },\n\n      addStatusTextToStarMap() {\n        // 添加状态文本到星图\n        const statusText = {\n          text: `极轴校准调整中 - 校准点: ${this.calibrationPoints.length}/3`,\n          position: { ra: this.currentPosition.ra, dec: this.currentPosition.dec },\n          color: \"#FFFFFF\",\n          fontSize: 14,\n          backgroundColor: \"rgba(0, 0, 0, 0.7)\"\n        }\n\n        // 发送状态文本到星图\n        // this.$bus.$emit('AddStatusTextToStarMap', statusText)\n      },\n\n      getStepClass(index) {\n        // 根据进度百分比确定节点状态\n        const progress = this.progressPercentage\n\n        switch (index) {\n          case 0: // 初始化节点\n            if (progress >= PROGRESS_THRESHOLDS.INITIALIZATION) return { completed: true }\n            if (progress >= 0) return { current: true }\n            return {}\n\n          case 1: // 第一次校准节点\n            if (progress >= PROGRESS_THRESHOLDS.FIRST_CALIBRATION) return { completed: true }\n            if (progress >= PROGRESS_THRESHOLDS.INITIALIZATION) return { current: true }\n            return {}\n\n          case 2: // 第二次校准节点\n            if (progress >= PROGRESS_THRESHOLDS.SECOND_CALIBRATION) return { completed: true }\n            if (progress >= PROGRESS_THRESHOLDS.FIRST_CALIBRATION) return { current: true }\n            return {}\n\n          case 3: // 第三次校准节点\n            if (progress >= PROGRESS_THRESHOLDS.THIRD_CALIBRATION) return { completed: true }\n            if (progress >= PROGRESS_THRESHOLDS.SECOND_CALIBRATION) return { current: true }\n            return {}\n\n          default:\n            return {}\n        }\n      },\n\n      getAzimuthAction(azVal) {\n        if (!Number.isFinite(azVal)) return ''\n        const arcmin = this.unitToArcmin(azVal, this.adjustmentUnit)\n        if (Math.abs(arcmin) <= this.deadbandArcmin) return this.$t('No adjustment needed')\n        const dir = this.azLabelBySign(arcmin)\n        // 输出单位与 props.adjustmentUnit 保持一致\n        return `${dir} ${this.formatWithUnit(arcmin, this.adjustmentUnit, 1)}`\n      },\n\n      getAltitudeAction(altVal) {\n        if (!Number.isFinite(altVal)) return ''\n        const arcmin = this.unitToArcmin(altVal, this.adjustmentUnit)\n        if (Math.abs(arcmin) <= this.deadbandArcmin) return this.$t('No adjustment needed')\n        const dir = this.altLabelBySign(arcmin)\n        return `${dir} ${this.formatWithUnit(arcmin, this.adjustmentUnit, 1)}`\n      },\n\n\n\n      // ========================================\n      // 日志方法\n      // ========================================\n      addLog(message, level = 'info') {\n        const log = {\n          id: Date.now() + Math.random(),\n          message,\n          level,\n          timestamp: new Date()\n        }\n        \n        // 生产环境减少console输出\n        if (process.env.NODE_ENV === 'development') {\n          console.log(log.message)\n        }\n        \n        // 使用循环数组优化内存使用\n        if (this.logs.length < this.logCapacity) {\n          this.logs.push(log)\n        } else {\n          // 循环覆盖旧日志\n          this.logs[this.logIndex] = log\n          this.logIndex = (this.logIndex + 1) % this.logCapacity\n        }\n      },\n\n      clearLogs() {\n        this.logs = []\n        this.logIndex = 0\n      },\n\n      // ========================================\n      // 极轴校准状态更新方法\n      // ========================================\n      calculatePolarAxisOffset() {\n        this.polarAxisOffset = {\n          azimuth: this.adjustment.azimuth,\n          altitude: this.adjustment.altitude\n        }\n      },\n\n      updatePolarAlignmentState(stateNumber, logMessage, progress) {\n        if (logMessage && typeof logMessage === 'string') {\n          let level = 'info'\n          if (logMessage.toLowerCase().includes('error') || logMessage.toLowerCase().includes('失败')) {\n            level = 'error'\n          } else if (logMessage.toLowerCase().includes('warning') || logMessage.toLowerCase().includes('警告')) {\n            level = 'warning'\n          } else if (logMessage.toLowerCase().includes('success') || logMessage.toLowerCase().includes('成功') || logMessage.toLowerCase().includes('完成')) {\n            level = 'success'\n          }\n          this.addLog(logMessage, level)\n        }\n\n        if (progress !== undefined && progress !== null) {\n          this.currentProgress = progress\n\n          if (progress >= 0 && progress <= 100) {\n            // 根据进度更新校准状态\n            if (progress >= 0 && progress < 15) {\n              // 初始化阶段\n              this.calibrationPoints = []\n              this.isCalibrationComplete = false\n              this.isPolarAligned = false\n            } else if (progress >= 15 && progress < 25) {\n              // 第一次校准阶段 - 移除模拟数据添加，实际校准点由updateFieldData处理\n              // 这里只更新状态，不添加模拟校准点\n            } else if (progress >= 25 && progress < 50) {\n              // 第二次校准阶段 - 移除模拟数据添加，实际校准点由updateFieldData处理\n              // 这里只更新状态，不添加模拟校准点\n            } else if (progress >= 50 && progress < 75) {\n              // 第三次校准阶段 - 移除模拟数据添加，实际校准点由updateFieldData处理\n              // 这里只更新状态，不添加模拟校准点\n            } else if (progress >= 75 && progress < 95) {\n              // 循环校准调整阶段\n              this.isCalibrationComplete = true\n              this.calculatePolarAxisOffset()\n\n              // 检测校准循环\n              if (progress < this.lastCalibrationProgress && this.lastCalibrationProgress >= 75) {\n                this.calibrationLoopCount++\n                this.addLog(this.$t('Calibration Round Started', [this.calibrationLoopCount]), 'info')\n              }\n\n              // 在循环校准阶段，进度可能会在75-95之间波动\n              // 这表示系统正在进行多次校准调整\n              if (progress > 85) {\n                this.addLog(this.$t('Calibration Progress Info', [Math.round(progress), this.calibrationLoopCount]), 'info')\n              }\n\n              this.lastCalibrationProgress = progress\n            } else if (progress >= 95 && progress <= 100) {\n              // 最终验证阶段\n              this.isCalibrationComplete = true\n              this.calculatePolarAxisOffset()\n\n              if (Math.abs(this.polarAxisOffset.azimuth) < 1.0 && Math.abs(this.polarAxisOffset.altitude) < 1.0) {\n                this.isPolarAligned = true\n                this.addLog(this.$t('Polar Alignment Completed'), 'success')\n              } else {\n                this.addLog(this.$t('Polar Alignment Needs Manual Adjustment'), 'warning')\n              }\n            }\n          }\n        }\n      },\n\n      updatePolarAlignmentIsRunning(isRunning) {\n        this.isCalibrationRunning = isRunning\n      },\n\n      // ========================================\n      // 坐标转换方法\n      // ========================================\n      /**\n       * 赤道坐标 (RA, Dec) → 地平坐标 (Az, Alt)\n       * @param {number} raDeg 赤经 (度, 0~360)\n       * @param {number} decDeg 赤纬 (度, -90~+90)\n       * @param {Date} dateUTC 观测时间 (UTC 时间)\n       * @param {number} latDeg 观测点纬度 (度, 北正南负)\n       * @param {number} lonDeg 观测点经度 (度, 东正西负)\n       * @returns {{az: number, alt: number}} 方位角/高度角 (度)\n       */\n      equatorialToHorizontal(raDeg, decDeg, dateUTC, latDeg, lonDeg) {\n        // 工具\n        const toJD = d => (Number(d) / 86400000) + 2440587.5; // Date/ms → JD\n        const d2r = x => x * Math.PI / 180, r2d = x => x * 180 / Math.PI;\n        const norm360 = a => ((a % 360) + 360) % 360;\n        const clamp = (x, lo = -1, hi = 1) => Math.min(hi, Math.max(lo, x));\n\n        // 入参归一化 + 硬校验\n        raDeg = Number(raDeg);\n        decDeg = Number(decDeg);\n        latDeg = Number(latDeg);\n        lonDeg = Number(lonDeg);\n        const tms = Number(dateUTC); // Date 或时间戳都可\n\n        if (process.env.NODE_ENV === 'development') {\n          console.log('EQ→HOR 入参:', { raDeg, decDeg, latDeg, lonDeg, dateUTC, tms });\n        }\n\n        if (![raDeg, decDeg, latDeg, lonDeg, tms].every(Number.isFinite)) {\n          console.error('EQ→HOR 入参非法:', { raDeg, decDeg, latDeg, lonDeg, dateUTC, tms });\n          return { az: NaN, alt: NaN };\n        }\n\n        try {\n          // 1) JD & GMST\n          const JD = toJD(tms);\n          const d = JD - 2451545.0;\n          let GMST = norm360(280.46061837 + 360.98564736629 * d); // 度\n\n          // 2) LST（东经为正）\n          let LST = norm360(GMST + lonDeg);\n\n          // 3) HA（-180~180 更稳）\n          let HA = LST - raDeg;\n          HA = ((HA + 180) % 360) - 180;\n\n          // 4) Alt / Az（稳定形式）\n          const ha = d2r(HA);\n          const dec = d2r(decDeg);\n          const lat = d2r(latDeg);\n\n          const sinAlt = clamp(\n            Math.sin(dec) * Math.sin(lat) + Math.cos(dec) * Math.cos(lat) * Math.cos(ha)\n          );\n          const alt = Math.asin(sinAlt);\n          const y = -Math.sin(ha) * Math.cos(dec);\n          const x = Math.sin(dec) * Math.cos(lat) - Math.cos(dec) * Math.sin(lat) * Math.cos(ha);\n          const az = Math.atan2(y, x);\n\n          const altDeg = r2d(alt);\n          const azDeg = norm360(r2d(az));\n\n          if (process.env.NODE_ENV === 'development') {\n            console.log('EQ→HOR 结果:', {\n              JD, GMST, LST, HA,\n              haRad: ha, decRad: dec, latRad: lat,\n              az: azDeg, alt: altDeg\n            });\n          }\n\n          return { az: azDeg, alt: altDeg };\n        } catch (e) {\n          console.error('EQ→HOR 计算异常:', e, {\n            raDeg, decDeg, latDeg, lonDeg, dateUTC, tms\n          });\n          return { az: NaN, alt: NaN };\n        }\n      },\n\n\n\n\n\n      // === 增强的卡片信息更新方法 ===\n      updateCardInfo(currentRa, currentDec, targetRa, targetDec, azimuthVal, altitudeVal, raAdjustment, decAdjustment, unitHint) {\n        const parseValue = v => (v === null || v === '' || v === undefined) ? 0 : (Number(v) || 0)\n\n        const currentRaNum = parseValue(currentRa)\n        const currentDecNum = parseValue(currentDec)\n        const targetRaNum = parseValue(targetRa)\n        const targetDecNum = parseValue(targetDec)\n        const azVal = parseValue(azimuthVal)\n        const altVal = parseValue(altitudeVal)\n\n        // 1) 位置显示（原样）\n        this.currentPosition.ra = this.formatCoordinate(currentRaNum, 'ra')\n        this.currentPosition.dec = this.formatCoordinate(currentDecNum, 'dec')\n        this.targetPosition.ra = this.formatCoordinate(targetRaNum, 'ra')\n        this.targetPosition.dec = this.formatCoordinate(targetDecNum, 'dec')\n\n        // 2) 调整量：以传入单位为准写入（默认用 props.adjustmentUnit）\n        const inUnit = unitHint || this.adjustmentUnit\n        // 如果传入是\"度\"，但你 props 设为了\"arcmin\"，也没关系——显示会自动换算\n        // 这里保存\"原始数 + 它的单位（通过 props）\"\n        this.adjustment.azimuth = azVal\n        this.adjustment.altitude = altVal\n        this.adjustmentUnit = inUnit  // 如果希望每次随数据切换单位，可加入这一行\n\n        // 3) 在调整阶段，每次接收到调整数据时增加校准轮数\n        if (this.calibrationPhase === 'adjusting') {\n          this.calibrationLoopCount++\n          this.addLog(this.$t('Calibration Round Started', [this.calibrationLoopCount]), 'info')\n        }\n\n        // 4) 极轴完成判定（用角分比较）\n        const azArcmin = this.unitToArcmin(azVal, inUnit)\n        const altArcmin = this.unitToArcmin(altVal, inUnit)\n        this.isPolarAligned = Math.abs(azArcmin) < 1.0 && Math.abs(altArcmin) < 1.0\n\n        if (process.env.NODE_ENV === 'development') {\n          console.log('PolarAlignment update:', {\n            unit: inUnit,\n            adj_raw: { azimuth: azVal, altitude: altVal },\n            adj_arcmin: { az: azArcmin, alt: altArcmin },\n            isPolarAligned: this.isPolarAligned,\n            calibrationRound: this.calibrationLoopCount\n          })\n        }\n      },\n\n\n      /**\n       * 根据三个校准点计算假极轴位置\n       * 使用三点极轴校准算法\n       */\n      calculateFakePolarAxis() {\n        if (this.calibrationPoints.length !== this.maxCalibrationPoints) {\n          this.addLog('需要3个校准点才能计算假极轴位置', 'warning')\n          return false\n        }\n\n        try {\n          const [p1, p2, p3] = this.calibrationPoints\n\n          // 将三个点转换为笛卡尔坐标\n          const cart1 = this.equatorialToCartesian(p1.ra, p1.dec)\n          const cart2 = this.equatorialToCartesian(p2.ra, p2.dec)\n          const cart3 = this.equatorialToCartesian(p3.ra, p3.dec)\n\n          // 计算两个向量\n          const v1 = {\n            x: cart2.x - cart1.x,\n            y: cart2.y - cart1.y,\n            z: cart2.z - cart1.z\n          }\n          const v2 = {\n            x: cart3.x - cart1.x,\n            y: cart3.y - cart1.y,\n            z: cart3.z - cart1.z\n          }\n\n          // 计算法向量（叉积）\n          const normal = this.crossProduct(v1, v2)\n\n          // 检查法向量是否为零向量\n          const normalLength = this.vectorLength(normal)\n          if (normalLength < 1e-10) {\n            this.addLog('三个校准点共线，无法计算假极轴位置', 'error')\n            return false\n          }\n\n          // 归一化法向量\n          const unitNormal = this.normalizeVector(normal)\n\n          // 计算与单位球面的交点（假极点）\n          const fakePolarPoint = {\n            x: unitNormal.x,\n            y: unitNormal.y,\n            z: unitNormal.z\n          }\n\n          // 选择正确的交点（z坐标为正的）\n          if (fakePolarPoint.z < 0) {\n            fakePolarPoint.x = -fakePolarPoint.x\n            fakePolarPoint.y = -fakePolarPoint.y\n            fakePolarPoint.z = -fakePolarPoint.z\n          }\n\n          // 将假极点转换为赤道坐标\n          const fakePolarEquatorial = this.cartesianToEquatorial(fakePolarPoint)\n\n          // 保存假极轴位置\n          this.fakePolarAxis.ra = fakePolarEquatorial.ra\n          this.fakePolarAxis.dec = fakePolarEquatorial.dec\n          this.fakePolarAxis.calculated = true\n\n          this.addLog(`假极轴位置计算完成: RA=${fakePolarEquatorial.ra.toFixed(4)}°, DEC=${fakePolarEquatorial.dec.toFixed(4)}°`, 'success')\n\n          return true\n        } catch (error) {\n          this.addLog(`计算假极轴位置时出错: ${error.message}`, 'error')\n          console.error('计算假极轴位置错误：', error)\n          return false\n        }\n      },\n\n      /**\n       * 将赤道坐标转换为笛卡尔坐标\n       */\n      equatorialToCartesian(ra, dec, radius = 1) {\n        const raRad = ra * Math.PI / 180.0\n        const decRad = dec * Math.PI / 180.0\n\n        return {\n          x: radius * Math.cos(decRad) * Math.cos(raRad),\n          y: radius * Math.cos(decRad) * Math.sin(raRad),\n          z: radius * Math.sin(decRad)\n        }\n      },\n\n      /**\n       * 将笛卡尔坐标转换为赤道坐标\n       */\n      cartesianToEquatorial(cart) {\n        const radius = Math.sqrt(cart.x * cart.x + cart.y * cart.y + cart.z * cart.z)\n\n        const dec = Math.asin(cart.z / radius) * 180.0 / Math.PI\n        let ra = Math.atan2(cart.y, cart.x) * 180.0 / Math.PI\n\n        // 确保RA在0-360度范围内\n        if (ra < 0) ra += 360.0\n\n        return { ra, dec }\n      },\n\n      /**\n       * 计算两个向量的叉积\n       */\n      crossProduct(v1, v2) {\n        return {\n          x: v1.y * v2.z - v1.z * v2.y,\n          y: v1.z * v2.x - v1.x * v2.z,\n          z: v1.x * v2.y - v1.y * v2.x\n        }\n      },\n\n      /**\n       * 计算向量长度\n       */\n      vectorLength(v) {\n        return Math.sqrt(v.x * v.x + v.y * v.y + v.z * v.z)\n      },\n\n      /**\n       * 归一化向量\n       */\n      normalizeVector(v) {\n        const length = this.vectorLength(v)\n        return {\n          x: v.x / length,\n          y: v.y / length,\n          z: v.z / length\n        }\n      },\n\n      /**\n       * 绘制假极轴位置\n       */\n      drawFakePolarAxis(fakePolarRA, fakePolarDEC) {\n        this.addLog(`绘制假极轴位置: RA=${fakePolarRA.toFixed(4)}°, DEC=${fakePolarDEC.toFixed(4)}°`, 'info')\n\n        try {\n          // 定义假极轴的颜色（紫色）\n          const fakePolarColor = {\n            stroke: \"#9C27B0\",        // 紫色边框\n            strokeOpacity: 1,         // 边框不透明度\n            fill: \"#9C27B0\",          // 紫色填充\n            fillOpacity: 0.3          // 填充不透明度（半透明）\n          }\n\n          // 使用专门的假极轴绘制事件，避免与目标点冲突\n          this.$bus.$emit('DrawFakePolarAxisCircle',\n            fakePolarRA,\n            fakePolarDEC,\n            fakePolarColor,\n            'FakePolarAxis',\n            '假极轴'\n          )\n\n          this.addLog(`假极轴位置已绘制: RA=${fakePolarRA.toFixed(4)}°, DEC=${fakePolarDEC.toFixed(4)}°`, 'info')\n\n        } catch (error) {\n          this.addLog(`绘制假极轴位置时出错: ${error.message}`, 'error')\n          console.error('绘制假极轴位置错误：', error)\n        }\n      },\n      // ========================================\n      // 单位换算方法\n      // ========================================\n      unitToArcmin(val, unit) {\n        if (!Number.isFinite(val)) return NaN\n        if (unit === 'deg') return val * 60\n        if (unit === 'arcsec') return val / 60\n        return val // 'arcmin'\n      },\n      arcminToUnit(valArcmin, unit) {\n        if (!Number.isFinite(valArcmin)) return NaN\n        if (unit === 'deg') return valArcmin / 60\n        if (unit === 'arcsec') return valArcmin * 60\n        return valArcmin\n      },\n      unitGlyph(unit) {\n        if (unit === 'deg') return '°'\n        if (unit === 'arcsec') return '″'\n        return '′' // arcmin\n      },\n\n      // ========================================\n      // 左右/上下映射（面向极点）方法\n      // ========================================\n      // 根据当前坐标计算朝向哪个极点\n      calculateFacingPole() {\n        if (!this.$store || !this.$store.state.currentLocation) {\n          return 'north' // 默认返回北极\n        }\n        \n        const lat = this.$store.state.currentLocation.lat\n        // 北半球（纬度 > 0）面向北极，南半球（纬度 < 0）面向南极\n        return lat >= 0 ? 'north' : 'south'\n      },\n\n      // azSign > 0 = 朝东；azSign < 0 = 朝西\n      azLabelBySign(azSign) {\n        // 动态计算朝向极点，而不是使用 props\n        const facingPole = this.calculateFacingPole()\n        // 面向北极点：东=→右，西=←左；面向南极点则相反\n        const east = (facingPole === 'north') ? this.$t('→ Right (East)') : this.$t('← Left (East)')\n        const west = (facingPole === 'north') ? this.$t('← Left (West)') : this.$t('→ Right (West)')\n        return azSign >= 0 ? east : west\n      },\n      // altSign > 0 = 抬高；altSign < 0 = 降低\n      altLabelBySign(altSign) {\n        return altSign >= 0 ? this.$t('↑ Up (Raise)') : this.$t('↓ Down (Lower)')\n      },\n\n      // ========================================\n      // 统一格式化\"数值 + 单位\"方法\n      // ========================================\n      formatWithUnit(valInArcmin, unit, digits = 1) {\n        const v = this.arcminToUnit(Math.abs(valInArcmin), unit)\n        const glyph = this.unitGlyph(unit)\n        return `${v.toFixed(digits)}${glyph}`\n      },\n\n      // ========================================\n      // 颜色工具方法\n      // ========================================\n      getCalibrationPointColor() {\n        return {\n          stroke: COLORS.WHITE,\n          strokeOpacity: 1,\n          fill: COLORS.WHITE,\n          fillOpacity: 0.2\n        }\n      },\n\n      getCurrentPositionColor() {\n        return {\n          stroke: \"#00BFFF\",\n          strokeOpacity: 1,\n          fill: \"#00BFFF\",\n          fillOpacity: 0.3\n        }\n      },\n\n      getTargetPointColor() {\n        return {\n          stroke: COLORS.SUCCESS,\n          strokeOpacity: 1,\n          fill: COLORS.SUCCESS,\n          fillOpacity: 0.3\n        }\n      },\n\n      getFakePolarAxisColor() {\n        return {\n          stroke: \"#9C27B0\",\n          strokeOpacity: 1,\n          fill: \"#9C27B0\",\n          fillOpacity: 0.3\n        }\n      },\n    },\n  }\n</script>\n\n<style scoped>\n/* === 轨迹覆盖层样式 === */\n.trajectory-overlay {\n  position: fixed;\n  inset: 0;\n  background: black;\n  z-index: 10002 !important;\n  pointer-events: auto;\n}\n.trajectory-overlay canvas {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}\n.overlay-panel {\n  position: absolute;\n  left: 16px;\n  top: 16px;\n  background: rgba(30, 30, 30, 0.7);\n  color: #fff;\n  border: 1px solid rgba(255,255,255,0.15);\n  border-radius: 8px;\n  padding: 10px 12px;\n  cursor: move;\n}\n.panel-row { display: flex; gap: 8px; margin-bottom: 6px; font-size: 12px; }\n.panel-label { opacity: 0.85; }\n.panel-value { opacity: 0.95; }\n.panel-actions { display: flex; gap: 8px; margin-top: 6px; flex-wrap: wrap; }\n.panel-btn { background: rgba(255,255,255,0.14); color: #fff; border: none; border-radius: 6px; padding: 6px 10px; cursor: pointer; }\n.panel-btn.small { padding: 4px 8px; font-size: 12px; }\n.panel-btn:hover { background: rgba(255,255,255,0.22); }\n\n.trajectory-window {\n  position: fixed;\n  z-index: 10002 !important;\n  background: rgba(18,18,18,0.95);\n  border: 1px solid rgba(255,255,255,0.12);\n  border-radius: 8px;\n  box-shadow: 0 6px 24px rgba(0,0,0,0.4);\n  overflow: hidden;\n  pointer-events: auto;\n}\n.window-header {\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 8px;\n  background: rgba(45,45,55,0.9);\n  color: #fff;\n  cursor: move;\n}\n.window-title { font-size: 13px; }\n.window-actions { display: flex; gap: 6px; }\n.window-content { width: 100%; height: calc(100% - 32px); position: relative; overflow: hidden; }\n.window-content canvas { position: absolute; left: 0; top: 0; width: 100%; height: 100%; }\n.overlay-close-btn {\n  position: absolute;\n  right: 16px;\n  top: 16px;\n  width: 36px;\n  height: 36px;\n  border: none;\n  background: rgba(255,255,255,0.12);\n  color: #fff;\n  border-radius: 6px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.overlay-close-btn:hover {\n  background: rgba(255,255,255,0.2);\n}\n.overlay-hint {\n  position: absolute;\n  left: 50%;\n  bottom: 20px;\n  transform: translateX(-50%);\n  color: rgba(255,255,255,0.85);\n  font-size: 12px;\n}\n/* === 最小化状态样式 === */\n.polar-alignment-minimized {\n  position: fixed;\n  width: 250px;\n  max-width: 80vw;\n  background: rgba(35, 35, 45, 0.95);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 8px;\n  backdrop-filter: blur(10px);\n  z-index: 1000;\n  cursor: move;\n  user-select: none;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n  transition: all 0.3s ease;\n  /* 添加背景隔离，防止操作映射到背景 */\n  isolation: isolate;\n  /* 移除contain属性，它可能阻止拖动事件 */\n  touch-action: none;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n/* 拖动状态：移除过渡动画和复杂效果 */\n.polar-alignment-minimized.dragging {\n  transition: none !important;\n  backdrop-filter: none !important;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;\n  touch-action: manipulation;\n}\n\n.polar-alignment-minimized:hover {\n  box-shadow: 0 6px 25px rgba(0, 0, 0, 0.4);\n}\n\n.polar-alignment-minimized.dragging:hover {\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;\n}\n\n.minimized-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 8px 12px;\n  background: rgba(60, 60, 70, 0.9);\n  border-radius: 8px 8px 0 0;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.minimized-drag-area {\n  display: flex;\n  align-items: center;\n  flex: 1;\n  cursor: move;\n  /* 确保拖动区域有正确的交互 */\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  touch-action: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.minimized-icon {\n  color: #64b5f6;\n  font-size: 16px;\n  margin-right: 8px;\n}\n\n.minimized-title {\n  font-size: 12px;\n  font-weight: 600;\n  color: #ffffff;\n  flex: 1;\n}\n\n.minimized-controls {\n  display: flex;\n  gap: 4px;\n  /* 确保控制区域可以接收事件 */\n  position: relative;\n  z-index: 20;\n  pointer-events: auto;\n}\n\n.minimized-btn {\n  width: 24px;\n  height: 24px;\n  border: none;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 4px;\n  color: #ffffff;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n  /* 移动端触摸优化 */\n  touch-action: manipulation;\n  -webkit-tap-highlight-color: transparent;\n  /* 确保按钮可以正确点击 */\n  position: relative;\n  z-index: 10;\n  /* 确保按钮可以接收点击事件 */\n  pointer-events: auto;\n}\n\n.minimized-btn:hover {\n  background: rgba(255, 255, 255, 0.2);\n}\n\n.minimized-btn:active {\n  background: rgba(255, 255, 255, 0.3);\n  transform: scale(0.95);\n}\n\n.minimized-status {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 12px;\n  font-size: 11px;\n}\n\n.status-indicator {\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  background: #f44336;\n  transition: all 0.3s ease;\n}\n\n.status-indicator.online {\n  background: #4caf50;\n  box-shadow: 0 0 4px rgba(76, 175, 80, 0.6);\n}\n\n.status-text {\n  color: rgba(255, 255, 255, 0.8);\n}\n\n/* === 完整控件样式 === */\n.polar-alignment-widget {\n  position: fixed;\n  width: 350px;\n  max-width: 90vw;\n  background: rgba(35, 35, 45, 0.95);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 8px;\n  backdrop-filter: blur(10px);\n  z-index: 1000;\n  cursor: move;\n  user-select: none;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n  transition: all 0.3s ease;\n  overflow: hidden;\n  /* 添加背景隔离，防止操作映射到背景 */\n  isolation: isolate;\n  /* 移除contain属性，它可能阻止拖动事件 */\n  touch-action: none;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n/* 拖动状态：移除过渡动画和复杂效果 */\n.polar-alignment-widget.dragging {\n  transition: none !important;\n  backdrop-filter: none !important;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;\n  touch-action: manipulation;\n}\n\n.polar-alignment-widget:hover {\n  box-shadow: 0 6px 25px rgba(0, 0, 0, 0.4);\n}\n\n.polar-alignment-widget.dragging:hover {\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2) !important;\n}\n\n.polar-alignment-widget.collapsed {\n  width: 300px;\n  max-width: 85vw;\n}\n\n/* === 控件头部样式 === */\n.widget-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px 16px;\n  background: rgba(60, 60, 70, 0.9);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.header-drag-area {\n  display: flex;\n  align-items: center;\n  flex: 1;\n  cursor: move;\n  /* 确保拖动区域有正确的交互 */\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  /* 添加拖动时的视觉反馈 */\n  transition: background-color 0.2s ease;\n  /* 确保拖动区域有正确的指针事件 */\n  pointer-events: auto;\n  touch-action: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.widget-header:hover {\n  background: rgba(60, 60, 70, 0.95);\n}\n\n.header-left {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex: 1;\n}\n\n.header-icon {\n  color: #64b5f6;\n  font-size: 18px;\n}\n\n.header-title {\n  font-size: 14px;\n  font-weight: 600;\n  color: #ffffff;\n}\n\n.connection-indicator {\n  display: flex;\n  align-items: center;\n}\n\n.status-dot {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: #f44336;\n  transition: all 0.3s ease;\n}\n\n.status-dot.online {\n  background: #4caf50;\n  box-shadow: 0 0 6px rgba(76, 175, 80, 0.6);\n}\n\n.header-controls {\n  display: flex;\n  gap: 4px;\n  /* 确保控制区域可以接收事件 */\n  position: relative;\n  z-index: 20;\n  pointer-events: auto;\n}\n\n.header-btn {\n  width: 28px;\n  height: 28px;\n  border: none;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 4px;\n  color: #ffffff;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n  /* 移动端触摸优化 */\n  touch-action: manipulation;\n  -webkit-tap-highlight-color: transparent;\n  /* 确保按钮可以正确点击 */\n  position: relative;\n  z-index: 10;\n  /* 确保按钮可以接收点击事件 */\n  pointer-events: auto;\n}\n\n.header-btn:hover {\n  background: rgba(255, 255, 255, 0.2);\n}\n\n.header-btn:active {\n  background: rgba(255, 255, 255, 0.3);\n  transform: scale(0.95);\n}\n\n.header-btn.close-btn:hover {\n  background: #f44336;\n}\n\n/* === 控件内容样式 === */\n.widget-content {\n  transition: all 0.3s ease;\n  /* 确保内容区域有适当的背景隔离 */\n  background: rgba(35, 35, 45, 0.95);\n  position: relative;\n  z-index: 1;\n  /* 确保内容区域不会阻止拖动事件 */\n  pointer-events: auto;\n}\n\n/* 拖动状态：移除过渡动画 */\n.widget-content.dragging {\n  transition: none !important;\n}\n\n.widget-content.collapsed {\n  padding: 12px;\n}\n\n.widget-content.expanded {\n  padding: 16px;\n  max-height: 80vh;\n  overflow-y: auto;\n  /* 优化内容布局，充分利用空间 */\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  /* 确保内容充分利用可用空间 */\n  min-height: 0;\n  flex: 1;\n  /* 自适应高度 */\n  height: auto;\n}\n\n/* === 收缩状态样式 === */\n.collapsed-info {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n\n.collapsed-progress {\n  flex-shrink: 0;\n}\n\n.progress-circle {\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  background: conic-gradient(#64b5f6 0deg var(--progress, 0deg),\n      rgba(255, 255, 255, 0.1) var(--progress, 0deg) 360deg);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n}\n\n.progress-circle::before {\n  content: '';\n  position: absolute;\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background: rgba(35, 35, 45, 0.95);\n}\n\n.progress-text {\n  position: relative;\n  z-index: 1;\n  font-size: 12px;\n  font-weight: 600;\n  color: #ffffff;\n}\n\n.collapsed-status {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.status-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 11px;\n}\n\n.status-label {\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.status-value {\n  color: #ffffff;\n  font-weight: 600;\n  font-family: monospace;\n}\n\n.status-value.needs-adjustment {\n  color: #ff9800;\n}\n\n/* === 展开状态样式 === */\n.content-sections {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  /* 优化布局，充分利用可用空间 */\n  width: 100%;\n  min-height: 0;\n}\n\n/* === 校准步骤进度条样式 === */\n.calibration-progress {\n  margin-bottom: 16px;\n}\n\n.progress-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n}\n\n.progress-title {\n  font-size: 12px;\n  font-weight: 600;\n  color: #ffffff;\n}\n\n.calibration-loop-info {\n  font-size: 10px;\n  color: #ff9800;\n  font-weight: 500;\n  padding: 2px 6px;\n  background: rgba(255, 152, 0, 0.2);\n  border-radius: 4px;\n  animation: loop-pulse 2s infinite;\n}\n\n@keyframes loop-pulse {\n\n  0%,\n  100% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.7;\n  }\n}\n\n.progress-bar {\n  position: relative;\n  width: 100%;\n  height: 8px;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 4px;\n  overflow: visible;\n}\n\n.progress-fill {\n  height: 100%;\n  background: linear-gradient(90deg, #64b5f6, #4caf50);\n  border-radius: 4px;\n  transition: width 0.1s ease;\n}\n\n.progress-nodes {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  transform: translateY(-50%);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.progress-node {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2;\n}\n\n.node-circle {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.2);\n  border: 2px solid rgba(255, 255, 255, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n  font-weight: bold;\n  color: #ffffff;\n  transition: all 0.3s ease;\n}\n\n.progress-node.completed .node-circle {\n  background: #4caf50;\n  border-color: #4caf50;\n  box-shadow: 0 0 8px rgba(76, 175, 80, 0.4);\n}\n\n.progress-node.current .node-circle {\n  background: #64b5f6;\n  border-color: #64b5f6;\n  box-shadow: 0 0 8px rgba(100, 181, 246, 0.4);\n}\n\n.progress-node.adjustment-node .node-circle {\n  background: rgba(255, 152, 0, 0.3);\n  border-color: rgba(255, 152, 0, 0.5);\n}\n\n.progress-node.adjustment-node.active .node-circle {\n  background: #ff9800;\n  border-color: #ff9800;\n  box-shadow: 0 0 8px rgba(255, 152, 0, 0.4);\n}\n\n.progress-node.calibration-node .node-circle {\n  background: rgba(255, 152, 0, 0.3);\n  border-color: rgba(255, 152, 0, 0.5);\n}\n\n.progress-node.calibration-node.active .node-circle {\n  background: #ff9800;\n  border-color: #ff9800;\n  box-shadow: 0 0 8px rgba(255, 152, 0, 0.4);\n}\n\n.progress-node.calibration-node.looping .node-circle {\n  animation: calibration-pulse 2s infinite;\n}\n\n@keyframes calibration-pulse {\n  0% {\n    background: #ff9800;\n    box-shadow: 0 0 8px rgba(255, 152, 0, 0.4);\n  }\n\n  50% {\n    background: #ff5722;\n    box-shadow: 0 0 12px rgba(255, 152, 0, 0.6);\n  }\n\n  100% {\n    background: #ff9800;\n    box-shadow: 0 0 8px rgba(255, 152, 0, 0.4);\n  }\n}\n\n.progress-node.calibration-node.looping .node-circle i {\n  animation: calibration-rotate 2s linear infinite;\n}\n\n@keyframes calibration-rotate {\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n.progress-node.verification-node .node-circle {\n  background: rgba(76, 175, 80, 0.3);\n  border-color: rgba(76, 175, 80, 0.5);\n}\n\n.progress-node.verification-node.active .node-circle {\n  background: #4caf50;\n  border-color: #4caf50;\n  box-shadow: 0 0 8px rgba(76, 175, 80, 0.4);\n}\n\n.node-label {\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  transform: translateX(-50%);\n  font-size: 9px;\n  color: rgba(255, 255, 255, 0.7);\n  font-weight: 500;\n  margin-top: 4px;\n  white-space: nowrap;\n  text-align: center;\n}\n\n.progress-node {\n  position: relative;\n}\n\n/* === 位置信息样式 === */\n.position-section {\n  margin-top: 16px;\n  padding-top: 16px;\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.position-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: 1fr 1fr;\n  gap: 8px;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 6px;\n  padding: 12px;\n}\n\n.position-cell {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 4px;\n  padding: 8px;\n  border-radius: 4px;\n  transition: all 0.3s ease;\n}\n\n.position-cell.current {\n  background: rgba(100, 181, 246, 0.1);\n  border: 1px solid rgba(100, 181, 246, 0.2);\n}\n\n.position-cell.target {\n  background: rgba(255, 152, 0, 0.1);\n  border: 1px solid rgba(255, 152, 0, 0.2);\n}\n\n.cell-label {\n  font-size: 10px;\n  color: rgba(255, 255, 255, 0.7);\n  font-weight: 500;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.cell-value {\n  font-size: 11px;\n  color: #ffffff;\n  font-family: monospace;\n  font-weight: 600;\n}\n\n/* === 调整指导样式 === */\n.adjustment-section {\n  margin-top: 16px;\n  padding-top: 16px;\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.adjustment-instructions {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.adjustment-item {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 12px;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 6px;\n  transition: all 0.3s ease;\n  border: 1px solid transparent;\n}\n\n.adjustment-item.active {\n  background: rgba(255, 152, 0, 0.15);\n  border-color: #ff9800;\n}\n\n.adjustment-icon {\n  width: 28px;\n  height: 28px;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.1);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  color: #ffffff;\n  flex-shrink: 0;\n}\n\n.adjustment-item.active .adjustment-icon {\n  background: #ff9800;\n}\n\n.adjustment-details {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.adjustment-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.adjustment-type {\n  font-size: 12px;\n  color: #ffffff;\n  font-weight: 500;\n}\n\n.adjustment-value {\n  font-size: 18px;\n  color: #ffffff;\n  font-family: monospace;\n  font-weight: 700;\n  text-shadow: 0 0 4px rgba(255, 255, 255, 0.3);\n  letter-spacing: 1px;\n}\n\n.adjustment-action {\n  font-size: 10px;\n  color: rgba(255, 255, 255, 0.7);\n  font-weight: 500;\n}\n\n.adjustment-item.active .adjustment-action {\n  color: #ff9800;\n}\n\n/* === 操作按钮样式 === */\n.control-section {\n  margin-top: 16px;\n  padding-top: 16px;\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.action-buttons {\n  display: flex;\n  flex-direction: row;\n  gap: 10px;\n}\n\n.action-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  padding: 12px 16px;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n  pointer-events: auto;\n  min-height: 40px;\n  touch-action: manipulation;\n  position: relative;\n  flex: 1;\n}\n\n.action-btn.primary {\n  background: linear-gradient(135deg, #64b5f6, #42a5f5);\n  color: #ffffff;\n  box-shadow: 0 2px 6px rgba(100, 181, 246, 0.3);\n}\n\n.action-btn.primary:hover:not(:disabled) {\n  background: linear-gradient(135deg, #42a5f5, #2196f3);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(100, 181, 246, 0.4);\n}\n\n.action-btn.secondary {\n  background: rgba(255, 255, 255, 0.1);\n  color: #ffffff;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.action-btn.secondary:hover:not(:disabled) {\n  background: rgba(255, 255, 255, 0.2);\n  transform: translateY(-1px);\n}\n\n.action-btn.success {\n  background: linear-gradient(135deg, #4caf50, #43a047);\n  color: #ffffff;\n  box-shadow: 0 2px 6px rgba(76, 175, 80, 0.3);\n}\n\n.action-btn.success:hover:not(:disabled) {\n  background: linear-gradient(135deg, #43a047, #388e3c);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);\n}\n\n.action-btn.restore {\n  background: linear-gradient(135deg, #ff9800, #f57c00);\n  color: #ffffff;\n  box-shadow: 0 2px 6px rgba(255, 152, 0, 0.3);\n}\n\n.action-btn.restore:hover:not(:disabled) {\n  background: linear-gradient(135deg, #f57c00, #ef6c00);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(255, 152, 0, 0.4);\n}\n\n.action-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n  transform: none !important;\n  box-shadow: none !important;\n}\n\n/* === 日志显示样式 === */\n.log-section {\n  margin-top: 16px;\n  padding-top: 16px;\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.log-display {\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 6px;\n  padding: 10px;\n}\n\n.latest-log {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 10px;\n  border-radius: 4px;\n  font-size: 11px;\n  background: rgba(255, 255, 255, 0.05);\n  border-left: 3px solid transparent;\n}\n\n.latest-log.info {\n  border-left-color: #64b5f6;\n}\n\n.latest-log.warning {\n  border-left-color: #ff9800;\n}\n\n.latest-log.success {\n  border-left-color: #4caf50;\n}\n\n.latest-log.error {\n  border-left-color: #f44336;\n}\n\n.log-timestamp {\n  color: rgba(255, 255, 255, 0.6);\n  font-family: monospace;\n  font-size: 10px;\n  min-width: 65px;\n  flex-shrink: 0;\n}\n\n.log-message {\n  color: rgba(255, 255, 255, 0.9);\n  flex: 1;\n  line-height: 1.4;\n}\n\n.log-empty {\n  text-align: center;\n  color: rgba(255, 255, 255, 0.5);\n  font-size: 11px;\n  padding: 20px;\n  font-style: italic;\n}\n\n/* === 响应式设计 === */\n@media (max-width: 768px) {\n  .polar-alignment-widget {\n    width: 320px;\n    max-width: 95vw;\n  }\n\n  .polar-alignment-widget.collapsed {\n    width: 280px;\n    max-width: 90vw;\n  }\n\n  .polar-alignment-minimized {\n    width: 240px;\n  }\n\n  .widget-header {\n    padding: 10px 12px;\n  }\n\n  .header-title {\n    font-size: 12px;\n  }\n\n  .widget-content.expanded {\n    padding: 12px;\n    max-height: 500px;\n  }\n\n  .widget-content.collapsed {\n    padding: 8px;\n  }\n\n  .action-btn {\n    padding: 10px 12px;\n    font-size: 12px;\n    min-height: 36px;\n  }\n\n  .adjustment-value {\n    font-size: 16px;\n  }\n\n  .progress-circle {\n    width: 50px;\n    height: 50px;\n  }\n\n  .progress-text {\n    font-size: 10px;\n  }\n\n  .node-label {\n    font-size: 8px;\n    margin-top: 2px;\n  }\n\n  .node-circle {\n    width: 16px;\n    height: 16px;\n    font-size: 8px;\n  }\n\n  .progress-header {\n    margin-bottom: 6px;\n  }\n\n  .progress-title {\n    font-size: 11px;\n  }\n\n  .calibration-loop-info {\n    font-size: 9px;\n    padding: 1px 4px;\n  }\n}\n\n/* 移动端触摸优化 */\n@media (hover: none) and (pointer: coarse) {\n  .action-btn {\n    min-height: 48px;\n    padding: 14px 18px;\n    font-size: 14px;\n  }\n\n  .widget-header {\n    padding: 16px 20px;\n  }\n\n  .minimized-header {\n    padding: 12px 16px;\n  }\n\n  .header-btn {\n    width: 32px;\n    height: 32px;\n  }\n\n  .minimized-btn {\n    width: 28px;\n    height: 28px;\n  }\n}\n\n@media (max-width: 480px) {\n  .polar-alignment-widget {\n    width: 280px;\n    max-width: 98vw;\n  }\n\n  .polar-alignment-widget.collapsed {\n    width: 240px;\n    max-width: 95vw;\n  }\n\n  .polar-alignment-minimized {\n    width: 200px;\n  }\n\n  .widget-header {\n    padding: 8px 10px;\n  }\n\n  .header-title {\n    font-size: 11px;\n  }\n\n  .header-btn {\n    width: 20px;\n    height: 20px;\n  }\n\n  .widget-content.expanded {\n    padding: 10px;\n    max-height: 400px;\n  }\n\n  .widget-content.collapsed {\n    padding: 6px;\n  }\n\n  .action-btn {\n    padding: 8px 10px;\n    font-size: 11px;\n    min-height: 32px;\n  }\n\n  .adjustment-value {\n    font-size: 14px;\n  }\n\n  .progress-circle {\n    width: 40px;\n    height: 40px;\n  }\n\n  .progress-text {\n    font-size: 9px;\n  }\n\n  .minimized-header {\n    padding: 6px 8px;\n  }\n\n  .minimized-title {\n    font-size: 10px;\n  }\n\n  .minimized-btn {\n    width: 16px;\n    height: 16px;\n  }\n\n  .node-label {\n    font-size: 7px;\n    margin-top: 1px;\n  }\n\n  .node-circle {\n    width: 14px;\n    height: 14px;\n    font-size: 7px;\n  }\n\n  .progress-nodes {\n    gap: 2px;\n  }\n\n  .progress-header {\n    margin-bottom: 4px;\n  }\n\n  .progress-title {\n    font-size: 10px;\n  }\n\n  .calibration-loop-info {\n    font-size: 8px;\n    padding: 1px 3px;\n  }\n}\n\n/* 面板标题 */\n.panel-header {\n  margin-bottom: 16px;\n  padding-bottom: 8px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  pointer-events: auto;\n}\n\n.panel-header h3 {\n  margin: 0;\n  font-size: 18px;\n  font-weight: 600;\n  color: #ffffff;\n}\n\n.panel-indicator {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background: #64b5f6;\n}\n\n.panel-indicator.live {\n  animation: pulse 2s infinite;\n}\n\n.panel-indicator.control {\n  background: #ff9800;\n}\n\n@keyframes pulse {\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.5;\n  }\n\n  100% {\n    opacity: 1;\n  }\n}\n\n\n\n.card-header {\n  background: rgba(60, 60, 70, 0.8);\n  padding: 12px 16px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  pointer-events: auto;\n}\n\n.card-header span {\n  font-size: 14px;\n  font-weight: 500;\n  color: #ffffff;\n}\n\n.card-icon {\n  color: #64b5f6;\n  font-size: 18px;\n}\n\n.card-icon.warning {\n  color: #ff9800;\n}\n\n.card-icon.success {\n  color: #4caf50;\n}\n\n\n\n\n\n\n/* === 响应式设计 === */\n@media (max-width: 1200px) {\n  .info-panel {\n    flex: 0 0 350px;\n  }\n}\n\n@media (max-width: 768px) {\n  .polar-alignment-interface {\n    font-size: 12px;\n  }\n\n  .main-layout {\n    flex-direction: column;\n    gap: 8px;\n    padding: 8px;\n  }\n\n  .display-panel {\n    flex: 1;\n    min-height: 300px;\n    padding: 12px;\n  }\n\n  .info-panel {\n    flex: 0 0 auto;\n    max-height: 50vh;\n    overflow-y: auto;\n    padding: 12px;\n  }\n\n  /* 状态相关样式已删除 */\n\n  .calibration-progress {\n    margin-bottom: 12px;\n  }\n\n  .progress-bar {\n    height: 6px;\n  }\n\n  .node-circle {\n    width: 16px;\n    height: 16px;\n    font-size: 8px;\n  }\n\n  .position-section {\n    margin-top: 12px;\n    padding-top: 12px;\n  }\n\n  .position-grid {\n    gap: 6px;\n    padding: 8px;\n  }\n\n  .position-cell {\n    padding: 6px;\n  }\n\n  .adjustment-section {\n    margin-top: 12px;\n    padding-top: 12px;\n  }\n\n  .adjustment-item {\n    padding: 8px;\n  }\n\n  .adjustment-icon {\n    width: 24px;\n    height: 24px;\n  }\n\n  .control-section {\n    margin-top: 12px;\n    padding-top: 12px;\n  }\n\n  .action-btn {\n    padding: 10px 12px;\n    font-size: 12px;\n    min-height: 36px;\n    flex: 1;\n  }\n\n  .log-section {\n    margin-top: 12px;\n    padding-top: 12px;\n  }\n\n  .log-display {\n    padding: 8px;\n  }\n\n  .panel-header {\n    margin-bottom: 8px;\n    padding-bottom: 8px;\n  }\n\n  .interface-title {\n    font-size: 14px;\n  }\n\n  .connection-status {\n    font-size: 10px;\n  }\n\n  .card-header {\n    padding: 8px 12px;\n  }\n\n  .card-header span {\n    font-size: 12px;\n  }\n\n  .card-content {\n    padding: 12px;\n  }\n\n\n\n  .node-circle {\n    width: 14px;\n    height: 14px;\n    font-size: 7px;\n  }\n\n  .log-display {\n    padding: 6px;\n  }\n\n  .latest-log {\n    font-size: 10px;\n  }\n\n  .log-timestamp {\n    min-width: 50px;\n  }\n}\n\n@media (max-width: 480px) {\n  .polar-alignment-interface {\n    font-size: 10px;\n  }\n\n  .main-layout {\n    flex-direction: column;\n    gap: 6px;\n    padding: 6px;\n  }\n\n  .display-panel {\n    flex: 1;\n    min-height: 250px;\n    padding: 8px;\n  }\n\n  .info-panel {\n    flex: 0 0 auto;\n    max-height: 45vh;\n    overflow-y: auto;\n    padding: 8px;\n  }\n\n  .card-header {\n    padding: 8px 12px;\n  }\n\n  .card-header span {\n    font-size: 11px;\n  }\n\n  .card-content {\n    padding: 12px;\n  }\n\n  /* 状态相关样式已删除 */\n\n  .calibration-progress {\n    margin-bottom: 8px;\n  }\n\n  .progress-bar {\n    height: 4px;\n  }\n\n  .node-circle {\n    width: 14px;\n    height: 14px;\n    font-size: 7px;\n  }\n\n  .position-section {\n    margin-top: 8px;\n    padding-top: 8px;\n  }\n\n  .position-grid {\n    gap: 4px;\n    padding: 6px;\n  }\n\n  .position-cell {\n    padding: 4px;\n  }\n\n  .cell-label {\n    font-size: 8px;\n  }\n\n  .cell-value {\n    font-size: 9px;\n  }\n\n  .adjustment-section {\n    margin-top: 8px;\n    padding-top: 8px;\n  }\n\n  .adjustment-item {\n    padding: 6px;\n  }\n\n  .adjustment-icon {\n    width: 20px;\n    height: 20px;\n  }\n\n  .adjustment-type {\n    font-size: 10px;\n  }\n\n  .adjustment-value {\n    font-size: 10px;\n  }\n\n  .adjustment-action {\n    font-size: 8px;\n  }\n\n  .control-section {\n    margin-top: 8px;\n    padding-top: 8px;\n  }\n\n  .action-btn {\n    padding: 8px 10px;\n    font-size: 10px;\n    min-height: 32px;\n    flex: 1;\n  }\n\n  .log-section {\n    margin-top: 8px;\n    padding-top: 8px;\n  }\n\n  .log-display {\n    padding: 6px;\n  }\n\n  .latest-log {\n    font-size: 9px;\n  }\n\n  .log-timestamp {\n    font-size: 8px;\n    min-width: 45px;\n  }\n\n  .panel-header {\n    margin-bottom: 6px;\n    padding-bottom: 6px;\n  }\n\n}\n\n/* === 触摸优化 === */\n.polar-alignment-widget,\n.polar-alignment-minimized {\n  /* 触摸优化 */\n  touch-action: none;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.header-drag-area,\n.minimized-drag-area {\n  /* 触摸优化 */\n  touch-action: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n/* 拖动状态：移除触摸优化，允许正常触摸 */\n.polar-alignment-widget.dragging,\n.polar-alignment-minimized.dragging {\n  touch-action: manipulation;\n}\n\n/* === 性能优化 === */\n/* 拖动时禁用不必要的动画和效果 */\n.dragging * {\n  animation: none !important;\n  transition: none !important;\n}\n\n/* 拖动时简化阴影和模糊效果 */\n.dragging .progress-circle::before,\n.dragging .node-circle,\n.dragging .status-indicator {\n  box-shadow: none !important;\n  filter: none !important;\n}\n</style>"],"sourceRoot":"src/components"}]}